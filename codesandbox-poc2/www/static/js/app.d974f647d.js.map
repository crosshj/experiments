{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../common/lib/icons/dashboard.svg","webpack:///../common/lib/icons/sandbox.svg","webpack:///../common/lib/icons/template.svg","webpack:///../common/lib/utils/badges/svg/patron-4.svg","webpack:///../common/lib/components/AutosizeTextArea/index.js","webpack:///../common/lib/components/ContributorsBadge/index.js","webpack:///../common/lib/components/ContributorsBadge/is-contributor.js","webpack:///../common/lib/components/CustomTemplate/elements.js","webpack:///../common/lib/components/CustomTemplate/index.js","webpack:///../common/lib/components/PatronStar/elements.js","webpack:///../common/lib/components/PatronStar/index.js","webpack:///../common/lib/components/Relative.js","webpack:///../common/lib/components/SandboxCard/elements.js","webpack:///../common/lib/components/Scrollable/Scrollable.js","webpack:///../common/lib/components/Scrollable/elements.js","webpack:///../common/lib/components/Scrollable/index.js","webpack:///../common/lib/components/Tags/Tag.js","webpack:///../common/lib/components/Tags/elements.js","webpack:///../common/lib/components/Tags/index.js","webpack:///../common/lib/components/UserWithAvatar/elements.js","webpack:///../common/lib/components/UserWithAvatar/index.js","webpack:///../common/lib/components/flex/MaxWidth.js","webpack:///../common/lib/components/flex/Row.js","webpack:///../common/lib/components/icons/Chat.js","webpack:///../common/lib/components/icons/Cog.js","webpack:///../common/lib/components/icons/Curator.js","webpack:///../common/lib/components/icons/Dashboard.js","webpack:///../common/lib/components/icons/Documentation.js","webpack:///../common/lib/components/icons/Exit.js","webpack:///../common/lib/components/icons/Folder.js","webpack:///../common/lib/components/icons/Globe.js","webpack:///../common/lib/components/icons/Link.js","webpack:///../common/lib/components/icons/Lock.js","webpack:///../common/lib/components/icons/Patron.js","webpack:///../common/lib/components/icons/Search.js","webpack:///../common/lib/components/icons/Team.js","webpack:///../common/lib/components/icons/User.js","webpack:///../common/lib/components/spacing/Padding.js","webpack:///../common/lib/connection-manager.js","webpack:///../common/lib/registerServiceWorker.js","webpack:///../common/lib/templates/constants/files.js","webpack:///../common/lib/templates/icons.js","webpack:///../common/lib/themes/index.js","webpack:///../common/lib/themes/vscode-light.js","webpack:///../common/lib/types/index.js","webpack:///../common/lib/utils/animation/fade-in.js","webpack:///../common/lib/utils/badges/Badge.js","webpack:///../common/lib/utils/badges/index.js","webpack:///../common/lib/utils/badges/svg/patron-1.svg","webpack:///../common/lib/utils/badges/svg/patron-2.svg","webpack:///../common/lib/utils/badges/svg/patron-3.svg","webpack:///../common/lib/utils/badges/svg/patron-4.svg?11b8","webpack:///../common/lib/utils/config.js","webpack:///../common/lib/utils/getTemplateIcon.js","webpack:///../common/lib/utils/permission.js","webpack:///../homepage/content/changelog/3-6-6/index.md","webpack:///./src/app/components/CreateNewSandbox/queries.ts","webpack:///./src/app/components/DelayedAnimation.ts","webpack:///./src/app/components/LinkButton.tsx","webpack:///./src/app/components/Modal/index.js","webpack:///./src/app/components/Overlay/elements.ts","webpack:///./src/app/components/Overlay/Overlay.tsx","webpack:///./src/app/components/Overlay/index.ts","webpack:///./src/app/components/SubscribeForm/CheckoutForm/elements.ts","webpack:///./src/app/components/SubscribeForm/CheckoutForm/index.tsx","webpack:///./src/app/components/SubscribeForm/index.tsx","webpack:///./src/app/components/UserSearchInput/UserSearchInput.tsx","webpack:///./src/app/components/UserSearchInput/index.ts","webpack:///./src/app/constants.ts","webpack:///./src/app/graphql/introspection-result.ts","webpack:///./src/app/graphql/client.ts","webpack:///./src/app/graphql/types.ts","webpack:///./src/app/hooks/useScript.ts","webpack:///./src/app/hooks/index.ts","webpack:///./src/app/components/SignInModal.tsx","webpack:///./src/app/pages/common/ErrorBoundary/CodeSadbox/buildCrashReport.ts","webpack:///./src/app/pages/common/ErrorBoundary/CodeSadbox/elements.ts","webpack:///./src/app/pages/common/ErrorBoundary/CodeSadbox/Sadbox.tsx","webpack:///./src/app/pages/common/ErrorBoundary/CodeSadbox/CodeSadbox.tsx","webpack:///./src/app/pages/common/ErrorBoundary/ErrorBoundary.tsx","webpack:///../homepage/content/changelog/index.js","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/elements.ts","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Create/elements.ts","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Loader/elements.ts","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Loader/index.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/SandboxCard/elements.ts","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/SandboxCard/SandboxCard.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/TemplateList/elements.ts","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/TemplateList/TemplateList.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/TemplateList/DynamicWidthTemplateList.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Create/PersonalTemplates/FilteredTemplates.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Create/PersonalTemplates/PersonalTemplates.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/SearchBox/elements.ts","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/SearchBox/SearchBox.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/utils/api.ts","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Create/Create.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Explore/SearchResults/elements.ts","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Explore/SearchResults/ExploreResultList.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Explore/SearchResults/SearchResults.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Explore/Explore.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Icons/CodeSandboxIcon.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Icons/GitHubIcon.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Icons/PlusIcon.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Icons/StackbitIcon.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Icons/StarIcon.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Icons/UploadIcon.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Icons/NewIcon.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Icons/TerminalIcon.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Icons/DownloadIcon.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Import/Stackbit.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Import/elements.ts","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Icons/InfoIcon.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Import/Import.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Welcome/CodeAnywhere.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Welcome/StartQuickly.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Welcome/PrototypeRapidly.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Welcome/elements.ts","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/Welcome/Welcome.tsx","webpack:///../homepage/src/pages/changelog/_elements.js","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/New/index.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/CreateSandbox.tsx","webpack:///./src/app/components/CreateNewSandbox/CreateSandbox/utils/getInfoFromMarkdown.ts","webpack:///./src/app/components/OpaqueLogo.tsx","webpack:///./src/app/components/GitHubLogo.tsx","webpack:///./src/app/components/Cube/elements.ts","webpack:///./src/app/components/Cube/Cube.tsx","webpack:///./src/app/components/GitProgress/elements.ts","webpack:///./src/app/components/GitProgress/index.tsx","webpack:///./src/app/pages/common/Modals/CommitModal/index.tsx","webpack:///./src/app/pages/common/Modals/DeleteSandboxModal/index.tsx","webpack:///./src/app/pages/common/Modals/DeploymentModal/VercelLogo.tsx","webpack:///./src/app/pages/common/Modals/ExportGitHubModal/index.tsx","webpack:///./src/app/pages/common/Modals/FeedbackModal/index.tsx","webpack:///./src/app/pages/common/Modals/LiveSessionVersionMismatch/index.tsx","webpack:///./src/app/pages/common/Modals/NetlifyLogs/elements.ts","webpack:///./src/app/pages/common/Modals/PreferencesModal/SideNavigation/index.js","webpack:///./src/app/pages/common/Modals/PreferencesModal/elements.ts","webpack:///./src/app/pages/common/Modals/PreferencesModal/VSCodePlaceholder/OpenVSCodeSettingsButton/index.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/VSCodePlaceholder/index.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/Appearance/EditorTheme/elements.ts","webpack:///./src/app/pages/common/Modals/PreferencesModal/Appearance/EditorTheme/index.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/Appearance/index.tsx","webpack:///./src/app/components/Alert/elements.ts","webpack:///./src/app/components/Alert/Alert.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/EditorPageSettings/EditorSettings/index.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/EditorPageSettings/PreviewSettings/index.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/CodeFormatting/elements.ts","webpack:///./src/app/pages/common/Modals/PreferencesModal/CodeFormatting/Prettier/index.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/CodeFormatting/index.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/PaymentInfo/Icons.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/PaymentInfo/index.tsx","webpack:///./src/app/components/Integration/DetailInfo/elements.ts","webpack:///./src/app/components/Integration/DetailInfo/DetailInfo.tsx","webpack:///./src/app/components/Integration/elements.ts","webpack:///./src/app/components/Integration/Integration.tsx","webpack:///./src/app/components/VercelLogo.tsx","webpack:///./src/app/pages/common/VercelIntegration/index.tsx","webpack:///./src/app/pages/common/GithubIntegration/index.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/Integrations/elements.js","webpack:///./src/app/pages/common/Modals/PreferencesModal/Integrations/index.js","webpack:///./src/app/pages/common/Modals/PreferencesModal/Badges/index.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/Experiments/ContainerLSP.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/Experiments/index.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/KeyMapping/index.tsx","webpack:///./src/app/pages/common/Modals/PreferencesModal/index.tsx","webpack:///./src/app/pages/Sandbox/SearchDependencies/dependencies.js","webpack:///./src/app/pages/Sandbox/SearchDependencies/DependencyHit/elements.js","webpack:///./src/app/pages/Sandbox/SearchDependencies/DependencyHit/index.js","webpack:///./src/app/pages/Sandbox/SearchDependencies/formatDownloads.js","webpack:///./src/app/pages/Sandbox/SearchDependencies/RawAutoComplete/elements.js","webpack:///./src/app/pages/Sandbox/SearchDependencies/RawAutoComplete/index.js","webpack:///./src/app/pages/Sandbox/SearchDependencies/index.js","webpack:///./src/app/pages/Sandbox/Editor/Workspace/Files/DirectoryEntry/Entry/EntryTitle/elements.js","webpack:///./src/app/pages/Sandbox/Editor/Workspace/Files/DirectoryEntry/Entry/EntryTitle/index.js","webpack:///./src/embed/components/legacy/File/elements.js","webpack:///./src/embed/components/legacy/File/index.js","webpack:///./src/embed/components/legacy/Files/elements.js","webpack:///./src/embed/components/legacy/Files/index.js","webpack:///./src/app/pages/common/Modals/ShareModal/elements.ts","webpack:///./src/app/pages/common/Modals/ShareModal/getCode.ts","webpack:///./src/app/pages/common/Modals/ShareModal/Title.tsx","webpack:///./src/app/pages/common/Modals/ShareModal/index.tsx","webpack:///./src/app/pages/common/Modals/SignInForTemplates/index.tsx","webpack:///./src/app/pages/common/Modals/StorageManagementModal/elements.ts","webpack:///./src/app/pages/common/Modals/StorageManagementModal/FilesList/AddFileToSandboxButton.tsx","webpack:///./src/app/pages/common/Modals/StorageManagementModal/FilesList/DeleteFileButton.tsx","webpack:///./src/app/pages/common/Modals/StorageManagementModal/FilesList/index.tsx","webpack:///./src/app/components/UploadProgress/elements.ts","webpack:///./src/app/components/UploadProgress/UploadProgress.tsx","webpack:///./src/app/pages/common/Modals/UploadModal/index.tsx","webpack:///./src/app/pages/common/Modals/index.tsx","webpack:///./src/app/pages/common/Modals/DeploymentModal/index.tsx","webpack:///./src/app/pages/common/Modals/RecoverFilesModal/index.tsx","webpack:///./src/app/pages/common/Modals/PRModal/index.tsx","webpack:///./src/app/pages/common/Modals/NetlifyLogs/index.tsx","webpack:///./src/app/pages/common/Modals/DeleteDeploymentModal/index.tsx","webpack:///./src/app/pages/common/Modals/PickSandboxModal/index.tsx","webpack:///./src/app/pages/common/Modals/DeleteProfileSandboxModal/index.tsx","webpack:///./src/app/pages/common/Modals/EmptyTrash/index.tsx","webpack:///./src/app/pages/common/Modals/SelectSandboxModal/index.tsx","webpack:///./src/app/pages/common/Modals/SearchDependenciesModal.tsx","webpack:///./src/app/pages/common/Modals/LiveSessionEnded/index.tsx","webpack:///./src/app/pages/common/Modals/StorageManagementModal/index.tsx","webpack:///./src/app/pages/common/Modals/ForkServerModal/index.tsx","webpack:///./src/app/pages/common/Modals/SurveyModal/index.tsx","webpack:///./src/app/pages/Dashboard/Navigation/elements.ts","webpack:///./src/app/pages/Dashboard/Navigation/Actions/ExploreAction.tsx","webpack:///./src/app/pages/Dashboard/Navigation/Actions/NewSandboxAction.tsx","webpack:///./src/app/components/HeaderSearchBar/elements.ts","webpack:///./src/app/components/HeaderSearchBar/HeaderSearchBar.tsx","webpack:///./src/app/pages/Dashboard/Navigation/Actions/SearchAction.tsx","webpack:///./src/app/pages/Dashboard/Navigation/Actions/ShowNotificationsAction.tsx","webpack:///./src/app/pages/Dashboard/Navigation/Notifications/elements.ts","webpack:///./src/app/pages/Dashboard/Navigation/Notifications/notifications/elements.ts","webpack:///./src/app/pages/Dashboard/Navigation/Notifications/notifications/SandboxInvitation.tsx","webpack:///./src/app/pages/Dashboard/Navigation/Notifications/notifications/TeamAccepted.tsx","webpack:///./src/app/pages/Dashboard/Navigation/Notifications/notifications/TeamInvite.tsx","webpack:///./src/app/pages/Dashboard/Navigation/Notifications/index.tsx","webpack:///./src/app/pages/Dashboard/Navigation/index.tsx","webpack:///./src/app/components/CreateNewSandbox/elements.ts","webpack:///./src/app/components/CreateNewSandbox/MostUsedSandbox/elements.ts","webpack:///./src/app/components/CreateNewSandbox/MostUsedSandbox/index.tsx","webpack:///./src/app/components/CreateNewSandbox/index.tsx","webpack:///./src/app/pages/Dashboard/utils/get-most-used-template.js","webpack:///./src/app/pages/Dashboard/Content/elements.js","webpack:///./src/app/pages/Dashboard/Content/DragLayer/SelectedSandboxItems/index.tsx","webpack:///./src/app/pages/Dashboard/Content/DragLayer/index.js","webpack:///./src/app/pages/Dashboard/Content/SandboxCard/elements.ts","webpack:///./src/app/pages/Dashboard/Content/SandboxCard/KebabIcon.tsx","webpack:///./src/app/pages/Dashboard/Content/SandboxCard/index.tsx","webpack:///./src/app/pages/Dashboard/Content/Selection/index.js","webpack:///./src/app/pages/Dashboard/Content/SandboxGrid/elements.js","webpack:///./src/app/pages/Dashboard/Content/SandboxGrid/Row.js","webpack:///./src/app/pages/Dashboard/Content/SandboxGrid/index.tsx","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Actions/elements.ts","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Actions/index.tsx","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Filters/FilterOptions/elements.ts","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Filters/FilterOptions/Option.tsx","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Filters/FilterOptions/index.tsx","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Filters/SortOptions/elements.ts","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Filters/SortOptions/FieldToName.ts","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Filters/SortOptions/Overlay/elements.ts","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Filters/SortOptions/Overlay/Option/elements.ts","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Filters/SortOptions/Overlay/Option/index.tsx","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Filters/SortOptions/Overlay/index.tsx","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Filters/SortOptions/index.tsx","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Filters/elements.ts","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/Filters/index.tsx","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/index.tsx","webpack:///./src/app/pages/Dashboard/Content/routes/RecentSandboxes/index.tsx","webpack:///./src/app/pages/Dashboard/Content/Sandboxes/utils.ts","webpack:///./src/app/pages/Dashboard/Content/routes/PathedSandboxes/Navigation/elements.ts","webpack:///./src/app/pages/Dashboard/Content/routes/PathedSandboxes/Navigation/NavigationLink.tsx","webpack:///./src/app/pages/Dashboard/Content/routes/PathedSandboxes/Navigation/index.tsx","webpack:///./src/app/pages/Dashboard/Content/routes/PathedSandboxes/index.js","webpack:///./src/app/pages/Dashboard/Content/routes/Templates/elements.ts","webpack:///./src/app/pages/Dashboard/Content/routes/Templates/BookmarkedTemplates/elements.ts","webpack:///./src/app/pages/Dashboard/Content/routes/Templates/Navigation/elements.ts","webpack:///./src/app/pages/Dashboard/Content/routes/Templates/Navigation/Navigation.tsx","webpack:///./src/app/pages/Dashboard/Content/routes/Templates/BookmarkedTemplates/mutations.ts","webpack:///./src/app/pages/Dashboard/Content/routes/Templates/BookmarkedTemplates/index.tsx","webpack:///./src/app/pages/Dashboard/Content/routes/Templates/OwnedTemplates/OwnedTemplates.tsx","webpack:///./src/app/pages/Dashboard/Content/routes/Templates/Templates.tsx","webpack:///./src/app/pages/Dashboard/Content/routes/DeletedSandboxes/index.js","webpack:///./src/app/pages/Dashboard/Content/routes/SearchSandboxes/index.js","webpack:///./src/app/pages/Dashboard/Content/routes/CreateTeam/elements.js","webpack:///./src/app/pages/Dashboard/Content/routes/CreateTeam/Plan/elements.js","webpack:///./src/app/pages/Dashboard/Content/routes/CreateTeam/Plan/index.js","webpack:///./src/app/pages/Dashboard/Content/routes/CreateTeam/index.js","webpack:///./src/app/pages/Dashboard/Content/routes/TeamView/AddTeamMember/index.tsx","webpack:///./src/app/pages/Dashboard/Content/routes/TeamView/elements.js","webpack:///./src/app/pages/Dashboard/Content/routes/TeamView/RemoveTeamMember/index.js","webpack:///./src/app/pages/Dashboard/Content/routes/TeamView/InviteLink/index.tsx","webpack:///./src/app/pages/Dashboard/Content/routes/TeamView/index.js","webpack:///./src/app/pages/Dashboard/Content/index.js","webpack:///./src/app/pages/Dashboard/elements.ts","webpack:///./src/app/pages/Dashboard/Sidebar/elements.ts","webpack:///./src/app/pages/Dashboard/Sidebar/TemplateItem/index.tsx","webpack:///./src/app/pages/Dashboard/Sidebar/TrashItem/index.tsx","webpack:///./src/app/pages/Dashboard/Sidebar/index.tsx","webpack:///./src/app/pages/Dashboard/index.tsx","webpack:///./src/app/pages/DevAuth/elements.ts","webpack:///./src/app/pages/elements.ts","webpack:///./src/app/pages/NewDashboard/Header/index.tsx","webpack:///./src/app/pages/NewDashboard/Content/utils.ts","webpack:///./src/app/pages/NewDashboard/Sidebar/TeamAvatar.tsx","webpack:///./src/app/pages/NewDashboard/Sidebar/index.tsx","webpack:///./src/app/pages/NewDashboard/Components/Breadcrumbs/index.tsx","webpack:///./src/app/pages/NewDashboard/Components/Filters/FilterOptions/index.tsx","webpack:///./src/app/pages/NewDashboard/Components/Filters/ViewOptions/icons.tsx","webpack:///./src/app/pages/NewDashboard/Components/Filters/ViewOptions/index.tsx","webpack:///./src/app/pages/NewDashboard/Components/Filters/SortOptions/index.tsx","webpack:///./src/app/pages/NewDashboard/Components/Sandbox/SandboxCard.tsx","webpack:///./src/app/pages/NewDashboard/Components/Sandbox/SandboxListItem.tsx","webpack:///./src/app/pages/NewDashboard/Components/Selection/DragPreview.tsx","webpack:///./src/app/pages/NewDashboard/Components/Selection/ContextMenu.tsx","webpack:///./src/app/pages/NewDashboard/Components/Selection/index.tsx","webpack:///./src/app/pages/NewDashboard/Components/Sandbox/index.tsx","webpack:///./src/app/pages/NewDashboard/Components/Sandbox/TemplateIcon.tsx","webpack:///./src/app/pages/NewDashboard/Components/Sandbox/NewSandbox.tsx","webpack:///./src/app/pages/NewDashboard/Components/Folder/FolderCard.tsx","webpack:///./src/app/pages/NewDashboard/Components/Folder/FolderListItem.tsx","webpack:///./src/app/pages/NewDashboard/Components/Folder/index.tsx","webpack:///./src/app/pages/NewDashboard/Components/EmptyScreen/index.tsx","webpack:///./src/app/pages/NewDashboard/Components/VariableGrid/index.tsx","webpack:///./src/app/pages/NewDashboard/Components/Header/index.tsx","webpack:///./src/app/pages/NewDashboard/Content/routes/Home/index.tsx","webpack:///./src/app/pages/NewDashboard/Content/routes/Templates/index.tsx","webpack:///./src/app/pages/NewDashboard/Content/routes/Deleted/index.tsx","webpack:///./src/app/pages/NewDashboard/Content/routes/Drafts/index.tsx","webpack:///./src/app/pages/NewDashboard/Content/routes/Recent/index.tsx","webpack:///./src/app/pages/NewDashboard/Content/routes/All/useFilteredItems.ts","webpack:///./src/app/pages/NewDashboard/Content/routes/All/index.tsx","webpack:///./src/app/pages/NewDashboard/Content/routes/Search/index.tsx","webpack:///./src/app/pages/NewDashboard/Content/routes/Settings/components/index.tsx","webpack:///./src/app/pages/NewDashboard/Content/routes/Settings/TeamSettings.tsx","webpack:///./src/app/pages/NewDashboard/Content/routes/Settings/UserSettings.tsx","webpack:///./src/app/pages/NewDashboard/Content/routes/Settings/NewTeam.tsx","webpack:///./src/app/pages/NewDashboard/Content/routes/Settings/Invite.tsx","webpack:///./src/app/pages/NewDashboard/Content/routes/Settings/index.tsx","webpack:///./src/app/pages/NewDashboard/Content/index.tsx","webpack:///./src/app/pages/NewDashboard/index.tsx","webpack:///./src/app/pages/NewSandbox/index.tsx","webpack:///./src/app/pages/Sandbox/index.tsx","webpack:///./src/app/pages/index.tsx","webpack:///./src/app/pages/common/HTML5BackendWithFolderSupport/html-dir-content/utils.js","webpack:///./src/app/pages/common/HTML5BackendWithFolderSupport/html-dir-content/file-list.js","webpack:///./src/app/pages/common/HTML5BackendWithFolderSupport/html-dir-content/index.js","webpack:///./src/app/pages/common/HTML5BackendWithFolderSupport/index.js","webpack:///./src/app/index.js","webpack:///./src/app/overmind/Provider.ts","webpack:///./src/app/overmind/effects/zip/create-zip/index.ts","webpack:///./src/app/overmind/factories.ts","webpack:///./src/app/overmind/utils/parse-configurations.ts","webpack:///./src/app/overmind/internalActions.ts","webpack:///./src/app/overmind/actions.ts","webpack:///./src/app/overmind/createConnect.ts","webpack:///./src/app/overmind/effects/utils/index.ts","webpack:///./src/app/overmind/effects/git/index.ts","webpack:///./src/app/overmind/effects/utils/sandbox.ts","webpack:///./src/app/overmind/effects/api/index.ts","webpack:///./src/app/overmind/effects/api/apiFactory.ts","webpack:///./src/app/overmind/effects/browser.ts","webpack:///./src/app/overmind/effects/connection.ts","webpack:///./src/app/overmind/effects/jsZip.ts","webpack:///./src/app/utils/blocker.ts","webpack:///./src/app/overmind/effects/live/ot/client.ts","webpack:///./src/app/overmind/effects/live/clients.ts","webpack:///./src/app/overmind/effects/live/index.ts","webpack:///./src/app/overmind/effects/moduleRecover.ts","webpack:///./src/app/overmind/effects/notifications.ts","webpack:///./src/app/overmind/effects/router.ts","webpack:///./src/app/overmind/effects/settingsStore.ts","webpack:///./src/app/overmind/effects/sse.ts","webpack:///./src/app/overmind/effects/http.ts","webpack:///./src/app/overmind/effects/analytics.ts","webpack:///./src/app/overmind/effects/notificationToast.ts","webpack:///./src/app/utils/prettify.js","webpack:///./src/app/overmind/effects/vscode/initializers.ts","webpack:///./src/app/overmind/effects/vscode/utils.ts","webpack:///./src/app/overmind/effects/vscode/Linter.ts","webpack:///./src/app/overmind/effects/vscode/ModelsHandler.ts","webpack:///./src/app/overmind/utils/sandbox.ts","webpack:///./src/app/overmind/effects/vscode/SandboxFsSync/index.ts","webpack:///./src/app/overmind/effects/vscode/keyCodes.ts","webpack:///./src/app/overmind/effects/vscode/Workbench.ts","webpack:///./src/app/overmind/effects/vscode/constants.ts","webpack:///./src/app/overmind/effects/vscode/SandboxFsSync/utils.ts","webpack:///./src/app/overmind/effects/vscode/index.ts","webpack:///./src/app/overmind/effects/vercel.ts","webpack:///./src/app/overmind/effects/prettyfier.ts","webpack:///./src/app/utils/getNetlifyConfig.js","webpack:///./src/app/overmind/effects/netlify.ts","webpack:///./src/app/overmind/effects/zip/index.ts","webpack:///./src/app/overmind/effects/codesandboxApi.ts","webpack:///./src/app/overmind/effects/themes.ts","webpack:///../executors/dist/codesandboxexecutors.es.production.js","webpack:///./src/app/utils/executor-manager.ts","webpack:///./src/app/overmind/effects/stripe.ts","webpack:///./src/app/overmind/effects/executor.ts","webpack:///./src/app/overmind/effects/preview.ts","webpack:///./src/app/overmind/effects/jwt.ts","webpack:///./src/app/overmind/effects/flows.ts","webpack:///./src/app/overmind/effects/gql/collaborators/fragments.ts","webpack:///./src/app/overmind/effects/gql/collaborators/mutations.ts","webpack:///./src/app/overmind/effects/gql/collaborators/queries.ts","webpack:///./src/app/overmind/effects/gql/collaborators/subscriptions.ts","webpack:///./src/app/overmind/effects/gql/comments/fragments.ts","webpack:///./src/app/overmind/effects/gql/comments/mutations.ts","webpack:///./src/app/overmind/effects/gql/comments/queries.ts","webpack:///./src/app/overmind/effects/gql/comments/subscriptions.ts","webpack:///./src/app/overmind/effects/gql/teams/queries.ts","webpack:///./src/app/overmind/effects/gql/dashboard/fragments.ts","webpack:///./src/app/overmind/effects/gql/dashboard/queries.ts","webpack:///./src/app/overmind/effects/gql/dashboard/mutations.ts","webpack:///./src/app/overmind/effects/gql/index.ts","webpack:///./src/app/overmind/modals.ts","webpack:///./src/app/overmind/namespaces/dashboard/actions.ts","webpack:///./src/app/overmind/namespaces/deployment/state.ts","webpack:///./src/app/overmind/namespaces/deployment/internalActions.ts","webpack:///./src/app/overmind/namespaces/deployment/actions.ts","webpack:///./src/app/overmind/namespaces/editor/internalActions.ts","webpack:///./src/app/overmind/namespaces/editor/actions.ts","webpack:///./src/app/overmind/utils/event-to-transform.ts","webpack:///./src/app/pages/Sandbox/Editor/Content/utils.ts","webpack:///./src/app/utils/authorization.ts","webpack:///./src/app/overmind/namespaces/editor/state.ts","webpack:///./src/app/overmind/namespaces/explore/state.ts","webpack:///./src/app/overmind/namespaces/explore/actions.ts","webpack:///./src/app/overmind/namespaces/files/internalActions.ts","webpack:///./src/app/overmind/namespaces/files/actions.ts","webpack:///./src/app/overmind/namespaces/git/state.ts","webpack:///./src/app/overmind/namespaces/git/internalActions.ts","webpack:///./src/app/overmind/namespaces/git/actions.ts","webpack:///./src/app/overmind/namespaces/live/state.ts","webpack:///./src/app/overmind/namespaces/live/internalActions.ts","webpack:///./src/app/overmind/namespaces/live/liveMessageOperators.ts","webpack:///./src/app/overmind/namespaces/live/actions.ts","webpack:///./src/app/overmind/namespaces/patron/state.ts","webpack:///./src/app/overmind/namespaces/patron/actions.ts","webpack:///./src/app/overmind/namespaces/preferences/state.ts","webpack:///./src/app/overmind/namespaces/preferences/actions.ts","webpack:///./src/app/overmind/namespaces/profile/state.ts","webpack:///./src/app/overmind/namespaces/profile/actions.ts","webpack:///./src/app/overmind/namespaces/server/state.ts","webpack:///./src/app/overmind/namespaces/server/actions.ts","webpack:///./src/app/overmind/utils/server.ts","webpack:///./src/app/overmind/namespaces/userNotifications/state.ts","webpack:///./src/app/overmind/namespaces/userNotifications/internalActions.ts","webpack:///./src/app/overmind/namespaces/userNotifications/actions.ts","webpack:///./src/app/overmind/namespaces/workspace/state.ts","webpack:///./src/app/overmind/namespaces/workspace/actions.ts","webpack:///./src/app/overmind/onInitialize.ts","webpack:///./src/app/overmind/state.ts","webpack:///./src/app/overmind/index.ts","webpack:///./src/app/overmind/namespaces/comments/actions.ts","webpack:///./src/app/overmind/namespaces/comments/state.ts","webpack:///./src/app/overmind/namespaces/dashboard/state.ts","webpack:///./src/app/overmind/utils/common.ts","webpack:///./src/app/overmind/utils/items.ts","webpack:///./src/app/overmind/utils/main-module.ts","webpack:///./src/app/overmind/utils/resolve-module-wrapped.ts","webpack:///./src/app/pages/Dashboard/Content/DragLayer/SelectedSandboxItems/AnimatedSandboxItem.tsx","webpack:///./src/app/pages/Dashboard/Content/DragLayer/SelectedSandboxItems/elements.ts","webpack:///./src/app/pages/Dashboard/Sidebar/Item/elements.js","webpack:///./src/app/pages/Dashboard/Sidebar/Item/index.js","webpack:///./src/app/pages/Dashboard/Sidebar/SandboxesItem/folder-drop-target.js","webpack:///./src/app/pages/Dashboard/Sidebar/SandboxesItem/elements.js","webpack:///./src/app/pages/Dashboard/Sidebar/SandboxesItem/FolderEntry/elements.ts","webpack:///./src/app/pages/Dashboard/utils/get-direct-children.js","webpack:///./src/app/pages/Dashboard/Sidebar/SandboxesItem/FolderEntry/CreateFolderEntry.tsx","webpack:///./src/app/pages/Dashboard/Sidebar/SandboxesItem/FolderEntry/index.tsx","webpack:///./src/app/pages/Dashboard/Sidebar/SandboxesItem/index.js","webpack:///./src/app/pages/Dashboard/utils/get-child-collections.js","webpack:///./src/app/pages/Dashboard/queries.ts","webpack:///./src/app/pages/Sandbox/Editor/Workspace/elements.ts","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/Entry/EntryIcons/folder.svg","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/Entry/EntryIcons/folderOpen.svg","webpack:///./src/app/utils/template-color.ts","webpack:///./src/app/components/CodeEditor/VSCode/Configuration/elements.ts","webpack:///./src/app/components/CodeEditor/VSCode/Configuration/index.tsx","webpack:///./src/app/components/CodeEditor/VSCode/elements.ts","webpack:///./src/app/components/CodeEditor/VSCode/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Content/prevent-gesture-scroll.js","webpack:///./src/app/pages/Sandbox/Editor/Content/Preview/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Content/EditorToast.tsx","webpack:///./src/app/pages/Sandbox/Editor/Content/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/elements.ts","webpack:///./src/app/pages/Sandbox/Editor/ForkFrozenSandboxModal/ForkFrozenSandboxModal.tsx","webpack:///./src/app/pages/Sandbox/Editor/ForkFrozenSandboxModal/index.ts","webpack:///./src/app/pages/Sandbox/Editor/Header/icons.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/Collaborators/elements.ts","webpack:///./src/app/pages/Sandbox/Editor/Header/Collaborators/PermissionSelect.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/Collaborators/AddCollaboratorForm.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/Collaborators/icons.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/Collaborators/Collaborator.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/Collaborators/ButtonActions.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/Collaborators/CollaboratorList.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/Collaborators/Collaborators.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/CollaboratorHeads/CollaboratorHeads.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/Actions.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/MenuBar/elements.ts","webpack:///./src/app/pages/Sandbox/Editor/Header/MenuBar/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/PrivacyTooltip/elements.ts","webpack:///./src/app/pages/Sandbox/Editor/Header/PrivacyTooltip/icons.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/PrivacyTooltip/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/SandboxName/elements.ts","webpack:///./src/app/pages/Sandbox/Editor/Header/SandboxName/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Header/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Navigation/elements.ts","webpack:///./src/app/pages/Sandbox/Editor/Navigation/icons.tsx","webpack:///./src/app/pages/Sandbox/Editor/Navigation/Navigation.tsx","webpack:///./src/app/pages/Sandbox/Editor/Skeleton/elements.ts","webpack:///./src/app/pages/Sandbox/Editor/Skeleton/index.tsx","webpack:///./src/app/components/Markdown/makeTheme/scopeMapper.ts","webpack:///./src/app/components/Markdown/makeTheme/scopeScore.ts","webpack:///./src/app/components/Markdown/makeTheme/transformSettings.ts","webpack:///./src/app/components/Markdown/makeTheme/collectStyles.ts","webpack:///./src/app/components/Markdown/makeTheme/minify.ts","webpack:///./src/app/components/Markdown/makeTheme/index.ts","webpack:///./src/app/components/Markdown/Code.tsx","webpack:///./src/app/components/Markdown/Image.tsx","webpack:///./src/app/components/Markdown/InlineCode.tsx","webpack:///./src/app/components/Markdown/Link.tsx","webpack:///./src/app/components/Markdown/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/GitHub/Icons.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/ProjectInfo/EditSummary.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/ProjectInfo/icons.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/ProjectInfo/TemplateConfig.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/ProjectInfo/Summary.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/ProjectInfo/Privacy.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/ProjectInfo/Config.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/ProjectInfo/Delete.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/ProjectInfo/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/icons.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/Entry/EditIcons/elements.js","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/Entry/EditIcons/index.js","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/Entry/EntryIcons/elements.ts","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/Entry/EntryIcons/GetIconURL.js","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/Entry/EntryIcons/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/Entry/FileInput.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/Entry/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/DirectoryChildren/ModuleEntry.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/DirectoryChildren/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/DirectoryEntryModal/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/elements.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/validateTitle.js","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/DirectoryEntry/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Files/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Dependencies/Dependency/BundleSizes.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Dependencies/Dependency/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/Dependencies/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/ExternalResources/google-fonts.ts","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/ExternalResources/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Explorer/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/NotOwnedSandboxInfo/BookmarkTemplateButton/queries.ts","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/NotOwnedSandboxInfo/BookmarkTemplateButton/mutations.ts","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/NotOwnedSandboxInfo/BookmarkTemplateButton/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/NotOwnedSandboxInfo/Summary.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/GitHub/CommitForm.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/GitHub/Changes.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/GitHub/CreateRepo.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/GitHub/GithubLogin.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/GitHub/NotOwner.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/GitHub/NotLoggedIn.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Deployment/icons.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Deployment/Netlify.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Deployment/NotLoggedIn.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Deployment/NotOwner.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Deployment/Vercel/elements.ts","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Deployment/Vercel/index.tsx","webpack:///./src/app/components/TypescriptIcon.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/ConfigurationFiles/Icons.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/ConfigurationFiles/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Live/NotLoggedIn.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Live/icons.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Live/LiveNow.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Live/NotLive.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Server/Tasks.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Server/Status.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Server/Ports.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Server/Icons.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Server/Control.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Server/VarForm.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Server/EnvVars.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Comments/AddComment.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Comments/components/AvatarBlock.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Comments/Comment.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Comments/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/Chat/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/NotOwnedSandboxInfo/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/GitHub/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Deployment/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Live/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Server/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Comments/components/GlobalStyles.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Comments/components/MultiComment.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Comments/components/EditComment.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Comments/Dialog/Reply.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Comments/Dialog/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Comments/Dialog/use-scroll-top.tsx","webpack:///./src/app/pages/Sandbox/Editor/Workspace/screens/Comments/API.tsx","webpack:///./src/app/pages/Sandbox/Editor/index.tsx","webpack:///./src/app/pages/Sandbox/Editor/utils/get-vscode-theme.js","webpack:///./src/app/pages/Search/search.ts","webpack:///./src/app/pages/SignIn/components/LeftSide.tsx","webpack:///./src/app/pages/SignIn/components/Wrapper.tsx","webpack:///./src/app/pages/SignIn/components/Button.tsx","webpack:///./src/app/pages/SignIn/Modal.tsx","webpack:///./src/app/pages/common/Modals/Common/Alert.tsx","webpack:///./src/app/pages/common/Navigation/Icons.tsx","webpack:///./src/app/pages/common/Navigation/index.tsx","webpack:///./src/app/pages/common/SignInButton/index.tsx","webpack:///./src/app/pages/common/UserMenu/elements.ts","webpack:///./src/app/pages/common/UserMenu/Menu/elements.tsx","webpack:///./src/app/pages/common/UserMenu/Menu/ProIcon.tsx","webpack:///./src/app/pages/common/UserMenu/Menu/index.tsx","webpack:///./src/app/pages/common/UserMenu/index.tsx","webpack:///./src/app/utils/history.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","16","exports","module","l","e","promises","Promise","resolve","reject","href","fullhref","p","existingLinkTags","document","getElementsByTagName","dataHref","tag","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","jsonpScriptSrc","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","head","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","this","oldJsonpFunction","slice","React","Dashboard","props","displayName","defaultProps","default","Sandbox","Template","Patron4","__importDefault","mod","react_textarea_autosize_1","Input_1","withComponent","react_1","IconBase_1","Tooltip_1","is_contributor_1","ContributorsBadge","Component","super","arguments","state","isContributor","username","contributor","setState","updateContributorStatus","nextProps","className","onClick","stopPropagation","style","display","content","width","height","viewBox","fill","transform","__awaiter","thisArg","_arguments","P","generator","step","next","rejected","done","contributors","fetchPromise","window","fetch","x","json","map","u","login","names","catch","indexOf","__createBinding","k","k2","__setModuleDefault","v","__importStar","MyTemplate","TemplateSubTitle","TemplateTitle","Border","styled_components_1","elements_1","div","color","css","span","theme","placeholder","button","overlayHeight","background5","background2","lightText","secondary","Overlay","Tags_1","elements_2","get_sandbox_name_1","BANNER","template","alt","sandbox","title","getSandboxName","id","SandboxDescription","description","tags","Container","primary","__rest","getOwnPropertySymbols","propertyIsEnumerable","PatronStar","date_fns_1","star_1","_a","subscriptionSince","format","Date","assign","Image","SandboxStats","Avatar","Stats","Author","TemplateIcon","SandboxInfo","SandboxImage","SandboxTitle","BG_HOVER","BG_COLOR","UserWithAvatar_1","small","noMargin","h2","img","UserWithAvatar","ul","darken","Scrollable","TrackX","BaseTrackX","TrackY","BaseTrackY","ThumbX","BaseThumbX","ThumbY","BaseThumbY","Wrapper","BaseWrapper","Scroller","BaseScroller","trackXProps","renderer","elementRef","itemProps","ref","trackYProps","thumbXProps","thumbYProps","wrapperProps","scrollerProps","react_scrollbars_custom_1","Scrollbar","thumb","position","track","Scrollable_1","removeTag","canRemove","Boolean","DeleteIcon","TagContainer","clear_1","align","Margin_1","Tag_1","sort","vertical","horizontal","Username","Names","AuthorName","CenteredText","ContributorsBadge_1","useBigName","hasTwoNames","PatronStar_1","avatarUrl","hideBadge","fontSize","marginBottom","responsive","InnerContainer","children","justifyContent","alignItems","ChatIcon","clipRule","fillRule","fillOpacity","CogIcon","CuratorIcon","DashboardIcon","DocumentationIcon","ExitIcon","FolderIcon","stroke","strokeWidth","GlobeIcon","xmlns","LinkIcon","LockIcon","PatronIcon","SearchIcon","TeamIcon","UserIcon","get_spacing_1","isOnline","navigator","onLine","listeners","updateOnlineStatus","keys","forEach","listener","addEventListener","listenerId","unregister","isLocalhost","location","hostname","match","isHttp","protocol","registerValidSW","swUrl","onUpdated","onInstalled","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","storage","estimate","results","usage","quota","self","caches","delete","URL","process","env","PUBLIC_URL","origin","response","status","headers","ready","reload","log","checkValidServiceWorker","HIDDEN_DIRECTORIES","template_icons_1","_1","adonis","AdonisIcon","react","ReactIcon","vue","VueIcon","preact","PreactIcon","reactTs","svelte","SvelteIcon","angular","AngularIcon","parcel","JavaScriptIcon","dojo","DojoIcon","ember","EmberIcon","sapper","SapperIcon","cxjs","CxJSIcon","reason","ReasonIcon","gatsby","GatsbyIcon","marko","MarkoIcon","NextIcon","nuxt","NuxtIcon","node","NodeIcon","apollo","ApolloIcon","nest","NestIcon","staticTemplate","HTML5Icon","styleguidist","StyleguidistIcon","gridsome","GridsomeIcon","vuepress","VuePressIcon","mdxDeck","MDXDeckIcon","quasar","QuasarIcon","unibit","UnibitIcon","codesandbox_json_1","codesandbox_black_1","codesandbox_light_json_1","url","$schema","colors","descriptionForeground","errorForeground","focusBorder","foreground","tokenColors","scope","settings","fontStyle","PatronBadge","StripeErrorCode","LiveMessageEvent","TabType","VercelDeploymentType","VercelDeploymentState","ServerContainerStatus","ServerStatus","WindowOrientation","CommentsFilterOption","animation","keyframes","delay","NameContainer","visible","Badge","handleClick","badge","tooltip","size","innerContent","marginTop","patron_4_svg_1","patron_3_svg_1","patron_2_svg_1","patron_1_svg_1","badgeId","STRIPE_API_KEY","ALGOLIA_DEFAULT_INDEX","ALGOLIA_APPLICATION_ID","ALGOLIA_API_KEY","ColorIcons","getTemplateIcon","icons_1","iconUrl","environment","OfficialIcon","hasPermission","permissions","permission","requiredPermission","definitions","filter","definition","kind","TEMPLATE_FRAGMENT","LIST_PERSONAL_TEMPLATES","LIST_OWNED_TEMPLATES","LIST_BOOKMARKED_TEMPLATES_QUERY","MAKE_SANDBOXES_TEMPLATE_MUTATION","UNMAKE_SANDBOXES_TEMPLATE_MUTATION","unmakeTemplates","selectedSandboxes","client","mutate","mutation","variables","sandboxIds","refetchQueries","update","cache","showAll","oldTemplatesCache","readQuery","query","immer","draft","me","templates","teams","writeQuery","makeTemplates","teamId","collections","unpackedSelectedSandboxes","toJS","addSandboxesToFolder","oldFolderCacheData","PATHED_SANDBOXES_CONTENT_QUERY","collection","sandboxes","notificationState","addNotification","NotificationStatus","SUCCESS","actions","label","run","source","DelayedAnimation","styled","delayEffect","LinkButton","ReakitButton","lighten","getElementById","Modal","setAppElement","GlobalStyles","createGlobalStyle","ModalComponent","top","overlay","backgroundColor","overflowY","zIndex","overflow","padding","maxWidth","bottom","left","right","margin","fontFamily","outline","isOpen","onClose","onRequestClose","contentLabel","getStyles","closeTimeoutMS","htmlOpenClassName","border","borderColor","borderRadius","boxShadow","lineHeight","weight","block","paddingBottom","ContentContainer","noop","onOpen","Content","noHeightAnimation","useState","open","setOpen","isControlled","openState","element","useRef","bounds","calculateBounds","posData","current","getBoundingClientRect","useLayoutEffect","removeEventListener","handleClose","useCallback","useEffect","handleEscape","defaultPrevented","keyCode","ESC","onMouseDown","opacity","transition","duration","initial","y","animate","CardContainer","StripeInput","Input","ErrorText","red","CheckoutFormComponent","errors","coupon","loading","a","preventDefault","stripe","createToken","token","subscribe","logError","buttonName","loadingText","isLoading","hasCoupon","stateLoading","stripeError","onSubmit","handleSubmit","variant","onChange","setName","paddingTop","paddingX","base","input","setCoupon","disabled","PureComponent","CheckoutForm","injectStripe","withTheme","context","SubscribeForm","setStripe","useScript","loaded","Stripe","UserAutoComplete","inputValue","users","setUsers","setLoading","setError","timeoutId","includes","InputWithoutTypes","UserSearchInput","onInputValueChange","selectedItem","getInputProps","getItemProps","getRootProps","getMenuProps","currentInputValue","highlightedIndex","refKey","suppressRefError","autoFocus","spellcheck","borderBottomLeftRadius","borderBottomRightRadius","item","index","isActive","isSelected","avatar_url","marginRight","DIALOG_TRANSITION_DURATION","DIALOG_WIDTH","REPLY_TRANSITION_DELAY","__schema","types","possibleTypes","fragmentMatcher","IntrospectionFragmentMatcher","introspectionQueryResultData","httpLink","BatchHttpLink","uri","authLink","setContext","_","localStorage","getItem","authorization","JSON","parse","absintheAfterware","ApolloLink","operation","forward","payload","errorHandler","onError","graphQLErrors","networkError","ERROR","ApolloClient","link","concat","InMemoryCache","dataIdFromObject","cacheRedirects","Query","args","getCacheKey","__typename","path","queryDeduplication","Authorization","Direction","cachedScripts","async","onScriptLoad","onScriptError","remove","body","background","SignInModal","useOvermind","toggleSignInModal","redirectOnLogin","closeModal","codeSandboxBlack","exit","justify","onOutsideClick","redirectTo","buildCrashReport","trace","browser","version","os","commitSha","VERSION","split","searchParams","set","stack","toString","white","header","Title","h1","Subtitle","Actions","section","ButtonIcon","Sadbox","scale","cx","cy","rx","ry","CodeSadbox","codesadboxMounted","isLoggedIn","Button","dashboardUrl","ErrorBoundary","info","previousLocation","componentStack","FallbackComponent","Tabs","TabList","Tab","BaseTab","TabContent","TabPanel","Header","SubHeader","Grid","columnCount","CenteredMessage","attrs","as","LoadingWrapper","Individual","Loading","ariaLabel","primaryColor","secondaryColor","points","Loader","focused","Icon","Details","Row","Owner","Detail","SandboxCard","official","detailText","onFocus","onKeyPress","onMouseOver","DetailComponent","owner","elRef","inputHasFocus","activeElement","tagName","focus","tabIndex","TemplateInfoContainer","EditIcon","Link","MODIFIER_KEY","isMac","getNumber","startsWith","parseInt","replace","NaN","TemplateList","templateInfos","forkOnOpen","showSecondaryShortcuts","focusedTemplateIndex","setFocusedTemplate","lastMouseMoveEventAt","now","openSandbox","openInNewWindow","templateDefinition","getTemplateDefinition","cannotFork","isServer","editor","forkExternalSandbox","sandboxId","history","sandboxUrl","modalClosed","getTemplateInfoByIndex","count","templateInfo","offset","getTemplateByIndex","indexInTemplateInfo","getColumnCountInLastRow","getTotalTemplateCount","reduce","total","safeSetFocusedTemplate","setter","totalCount","Math","max","min","useKey","evt","totalRowCount","ceil","currentRow","floor","isLastRow","isSecondToLastRow","nextTemplateInfo","templateInfoUnder","columnCountInLastRow","indexInRow","hasItemUnder","itemsAfterCurrentItemInRow","previousTemplateInfo","isFirstRow","templateInfoAbove","columnCountInPreviousRow","hasItemAbove","num","modifierCheck","ctrlKey","shiftKey","currentTemplate","metaKey","templateInfoIndex","isOwned","team","author","shortKey","to","DynamicWidthTemplateList","templateListProps","COLUMN_MEDIA_THRESHOLD","matches","FilteredTemplates","filteredTemplateInfos","useMemo","Fuse","uniqBy","flatten","shouldSort","threshold","distance","search","PersonalTemplates","officialTemplateInfos","hasLogIn","useQuery","fetchPolicy","skip","personalTemplateInfos","recentlyUsedTemplates","endsWith","bookmarkedTemplates","allTemplateInfos","hasNoTemplates","svg","hover","SearchElement","InputWrapper","SearchBox","inputEl","requestAnimationFrame","noValidate","action","role","onKeyDown","blur","mapAPIResponseToTemplateInfo","exploreTemplate","custom_template","icon_url","published","insertedAt","inserted_at","updatedAt","updated_at","alias","git","commit_sha","repo","branch","getTemplateInfosFromAPI","res","Create","setFilter","setOfficialTemplates","tab","signInGithubClicked","GlobalSearchStyles","ExploreResultList","connectInfiniteHits","hits","bottomDetectionEl","observer","IntersectionObserver","entries","hasMore","refineNext","entry","isIntersecting","observe","disconnect","searchTemplateInfo","hit","objectID","minHeight","LoadingIndicator","connectStateResults","isSearchStalled","SearchResults","appId","apiKey","indexName","hitsPerPage","facetFilters","translations","stats","nbHits","toLocaleString","Explore","setSearch","exploreTemplates","setExploreTemplates","CodeSandboxIcon","GitHubIcon","PlusIcon","StackbitIcon","StarIcon","UploadIcon","NewIcon","TerminalIcon","DownloadIcon","StackbitButton","stackbitWindow","receiveMessage","project","repository","close","gitHubToSandboxUrl","openStackbit","Features","FeatureName","h3","FeatureText","IconLink","StyledInfoIcon","Column","VerticalSeparator","hr","ButtonContainer","linkStyles","PlaceHolderLink","GitHubLink","ImportChoices","Import","effects","transformedUrl","setTransformedUrl","setUrl","updateUrl","newUrl","gitHubRepoPattern","test","protocolAndHost","getFullGitHubUrl","trim","copyToClipboard","user","SignInButton","CodeAnywhere","StartQuickly","PrototypeRapidly","Welcome","goToTab","article","aside","listStyles","Element","New","latestChangelog","maxHeight","date","gridTemplateColumns","gridGap","renderers","heading","level","paddingY","paddingRight","borderTop","borderTopColor","CreateSandbox","isFirstVisit","newChangelogToSee","setNewChangelogToSee","useTabState","orientation","selectedId","setInfo","infoData","desc","rawMarkdown","unified","use","stringify","frontmatter","acc","getInfoFromMarkdown","codesandboxBlack","aria-label","stopId","rProps","hidden","select","OpaqueLogo","GitHubLogo","rotateAnimation","Sides","Side","rotate","Cube","DeployAnimationContainer","deploying","delayInEffect","BaseGitHubLogo","cubeAnimation","BaseCube","BaseOpaqueLogo","GitProgress","CommitModal","currentSandbox","originalGit","commit","newBranch","textDecoration","merge","DeleteSandboxModal","sandboxDeleted","workspace","onCancel","onPrimaryAction","confirmMessage","VercelIcon","ExportGitHubModal","isExported","Feedback","Loadable","LiveVersionMismatch","Item","SideNavigation","menuItems","itemId","setItem","borderWidth","borderRightStyle","paddingLeft","selected","cursor","icon","SubContainer","PreferenceContainer","PaddedPreference","Preference","Rule","OpenVSCodeSettingsButton","vscode","runCommand","VSCodePlaceholder","hideTitle","editorUrl","render","PreferenceText","PreferenceTextBase","EditorTheme","settingChanged","preferences","isTextArea","rows","setValue","Appearance","Text","Buttons","Alert","onConfirm","danger","isSafari","userAgent","isFF","toLowerCase","EditorSettings","showModal","setShowModal","PreviewSettings","bindValue","Question","QuestionBase","Prettier","prettierConfig","pointerEvents","fluid","options","CodeFormatting","AmexIcon","colorInterpolationFilters","filterUnits","floodOpacity","in","values","dy","stdDeviation","in2","clipPath","MasterCardIcon","VisaIcon","BlankIcon","strokeLinecap","DiscoverIcon","PaymentInfo","paymentDetailsRequested","paymentDetailsUpdated","isLoadingPaymentDetails","paymentDetailError","paymentDetails","updatePaymentDetails","Body","brand","last4","gap","light","Heading","Info","Action","DetailInfo","onSignOut","onSignIn","avatar","IntegrationBlock","bgColor","Name","Integration","userInfo","email","VercelLogo","VercelIntegration","signInVercelClicked","signOutVercelClicked","isLoadingVercel","integrations","zeit","GithubIntegration","signOutGithubIntegration","isLoadingGithub","github","Integrations","Badges","setBadgeVisibility","badges","ContainerLSP","toggleContainerLspExperiment","experiments","containerLsp","Experiments","KeyMapping","PreferencesModal","isPatron","itemIdChanged","items","find","currentItem","boxSizing","Color","dialog","alpha","rgbString","GitHubLogoStyled","highlighted","Left","Right","Description","Downloads","License","StyledSelect","Select","StyledUserWithAvatar","getDefaultSelectedVersion","latest","DependencyHit","selectedVersion","onVersionChange","hitName","versions","b","compareVersions","attribute","downloads","millions","thousands","formatDownloads","downloadsLast30Days","license","githubRepo","makeGitHubRepoUrl","homepage","makeSearchUrl","handleVersionChange","AutoCompleteInput","SuggestionInput","isExplicitVersion","substr","RawAutoComplete","onSelect","onManualSelect","onHitVersionChange","refine","currentRefinement","getHit","getVersion","isValid","getName","getIsValid","autoCompletedQuery","noName","itemToString","h","innerRef","parts","onKeyUp","ENTER","ARROW_RIGHT","ConnectedAutoComplete","connectAutoComplete","SearchDependencies","Map","hitToVersionMap","isScoped","splittedName","pop","depName","join","analyticsTags","handleSelect","handleManualSelect","handleHitVersionChange","TitleContainer","EntryTitle","LeftOffset","depth","File","active","alternative","EntryIcons","Files","directories","directoryId","currentModule","setCurrentModule","childrenModules","directoryShortid","childrenDirectories","sortBy","directory","Directory","shortid","currentModuleId","getType","isMainModule","getParentDirectory","child","getCurrentModule","openByDefault","currentModuleTree","parentDirectory","getCurrentModuleTree","FilesContainer","ShareOptions","Inputs","LinkName","h4","SideTitle","BUTTON_URL","VIEW_OPTIONS","THEME_OPTIONS","getOptionsUrl","mainModule","defaultModule","view","testsView","autoResize","hideNavigation","isCurrentModuleView","initialPath","enableEslint","useCodeMirror","expandDevTools","previewwindow","autoresize","hidenavigation","moduleview","eslint","codemirror","expanddevtools","fontsize","initialpath","mainModuleId","modulePath","getModulePath","optionsToParameterizedUrl","getEditorUrl","getEmbedUrl","embedUrl","getIframeScript","escapeHtml","getButtonMarkdown","getButtonHTML","from","SignInForTemplates","signInClicked","loadingAnimation","LoadingAnimationContainer","AddFileToSandboxButton","addedFileToSandbox","files","DeleteFileButton","deletedUploadedFile","dangerButton","FilesList","uploadedFiles","selectedItems","setSelectedItems","objectSize","toggleCheckbox","checked","filesize","UploadAnimationContainer","StyledLocalLogo","LocalLogo","StyledCube","StyledLogo","UploadProgress","UploadModal","MoveSandboxFolderModal","modals","newSandbox","outerWidth","share","updateState","dangerouslySetInnerHTML","__html","readOnly","renderAs","encodeURIComponent","marginLeft","deployment","deployClicked","vercel","vercelSignedIn","provider","recoveredFiles","applyRecover","createRecoverDiffs","discardRecover","exportGithub","signInForTemplates","pr","isCreatingPr","prURL","netlifyLogs","netlifyLogsUrl","logs","setLogs","interval","setInterval","fetchedLogs","clearInterval","marginY","wordBreak","deleteDeployment","deleteSandbox","pickSandbox","explore","pickedSandboxDetails","details","setDescription","setTitle","direction","required","deleteProfileSandbox","profile","emptyTrash","trashSandboxIds","dashboard","permanentlyDeleteSandboxes","selectSandbox","newSandboxShowcaseSelected","isLoadingSandboxes","userSandboxes","showcasedSandbox","zonedTimeToUtc","searchDependencies","addNpmDependency","liveSessionEnded","forkSandboxClicked","currentModalMessage","owned","suggestion","liveVersionMismatch","LiveSessionVersionMismatch","uploading","storageManagement","maxStorage","usedStorage","isEmpty","forkServerModal","niceName","moveSandbox","feedback","userSurvey","el","typeformEmbed","hash","hideScrollbars","hideFooter","hideHeaders","Modals","customVSCodeTheme","currentModal","vscodeTheme","codesandbox","localState","setLocalState","getVSCodeTheme","loadTheme","modal","isKeyDown","LogoWithBorder","Logo","noHover","UnreadIcon","RowBase","TitleWrapper","ExploreAction","placement","exploreUrl","NewSandboxAction","modalOpened","Relative","SearchButton","BaseSearchIcon","HeaderSearchBar","setQuery","searchUrl","aria-labelledby","SearchAction","searchNoInput","ShowNotificationsAction","openNotifications","unreadCount","userNotifications","NotificationsContainer","NoNotifications","NotificationContainer","read","clearer","success","green","NotificationImage","decline","W","SandboxInvitation","inviterAvatar","inviterName","sandboxAlias","sandboxTitle","niceSandboxTitle","nicePermissionName","Comment","WriteCode","TeamAccepted","teamName","userName","userAvatar","TeamInvite","acceptTeamInvitation","rejectTeamInvitation","REJECT_TEAM_INVITATION","onCompleted","ACCEPT_TEAM_INVITATION","teamOverviewUrl","VIEW_QUERY","Notifications","notifications","notification","parsedData","team_id","team_name","inviter_name","inviter_avatar","user_avatar","user_name","sandbox_id","sandbox_alias","sandbox_title","toUpperCase","getNotificationComponent","Navigation","float","notificationsClosed","notificationsOpened","isAuthenticating","notificationsMenuOpened","UserMenu","ButtonsContainer","hide","ContainerLink","MostUsedSandbox","collectionId","createSandbox","CreateNewSandboxButton","mostUsedSandboxTemplate","createSandboxClicked","getMostUsedTemplate","countedByTemplates","countBy","mostUsedTemplateInfo","prev","getTemplate","HeaderContainer","HeaderTitle","SelectedSandboxItems","isOverPossibleTargets","selectedIds","sid","AnimatedSandboxItem","isLast","layerStyles","CustomDragLayer","itemType","currentOffset","isDragging","renderItem","getItemCoords","DragLayer","DNDDragLayer","monitor","getTargetIds","getItemType","getSourceClientOffset","fadeIn","StyledContextMenu","ContextMenu","isDraggingItem","SandboxImageContainer","PrivacyIconContainer","Tooltip","SandboxDetails","ImageMessage","KebabIcon","str","execCommand","SandboxItemComponent","renamingSandbox","screenshotUrl","privacy","selectedCount","removedAt","undeleteSandboxes","setSandboxesPrivacy","exportSandboxes","deleteSandboxes","page","collectionTeamId","collectionPath","copySandboxURL","forkSandbox","setSandboxesSelected","additive","range","openNewWindow","bubbles","screenshotOutdated","hasScreenshot","screenshotTimeout","requestScreenshot","checkScreenshot","isScrolling","connectDragPreview","getEmptyImage","captureDraggingState","connectDragSource","childFunction","getContextItems","onContextMenu","handleMouseDown","handleOnContextMenu","onDoubleClick","cmd","onBlur","handleOnBlur","handleOnFocus","handleKeyDown","getImageMessage","backgroundImage","flex","RENAME_SANDBOX_MUTATION","saveName","optimisticResponse","renameSandbox","defaultValue","getPrivacyIcon","cardSource","beginDrag","setDragging","endDrag","getDropResult","SandboxItem","DragSource","connect","dragSource","dragPreview","animated","getBounds","startX","startY","endX","endY","Selection","native","immediate","StyledRow","columns","onRowClick","onRowDoubleClick","onRowMouseOut","onRowMouseOver","onRowRightClick","selectSandboxes","rowData","a11yProps","onMouseOut","diff","distanceInWordsToNow","formatDistanceToNow","SandboxGrid","selection","localSandboxesSelected","selectedSandboxesFromState","sandboxesSelected","ids","getSelectedSandboxIds","setSelected","indexedSandboxes","firstIndexInfo","lastIndexInfo","indexes","additiveIds","uniq","selectedSandboxesObject","loadedSandboxes","camelizeKeys","getSandbox","downloadZip","clientX","clientY","onMouseMove","onMouseUp","commitSandboxesSelected","newSelection","querySelectorAll","boxWidth","boxHeight","scrolling","rowIndex","columnIndex","ExtraElement","editedSince","orderByField","dir","basename","itemInSelection","forkedTemplate","dragChanged","sandboxCount","overflowX","rowCount","columnWidth","cellCount","cellRenderer","rowHeight","VanillaButton","DashboardActions","hideFilters","TemplatesName","OverlayContainer","OptionName","Option","CheckBox","toggleTemplate","checkBoxName","htmlFor","fontWeight","FilterOptions","possibleTemplates","blacklistedTemplateAdded","blacklistedTemplateRemoved","blacklistedTemplatesChanged","blacklistedTemplatesCleared","blacklistedTemplates","filters","isTemplateSelected","allSelected","every","templateCount","templateMessage","hideOrder","OrderName","Arrow","ArrowDown","order","FIELD_TO_NAME","IconContainer","currentField","field","setField","orderByChanged","orderBy","SortOptions","toggleSort","Filters","dashboardActions","textAlign","RecentSandboxes","RECENT_SANDBOXES_CONTENT_QUERY","orderField","orderDirection","mostUsedTemplate","noTemplateSandboxes","customTemplate","Helmet","getPossibleTemplates","templateId","getDefinition","NavigationLink","first","last","DropTarget","entryTarget","collectTarget","isOver","splittedPath","connectDropTarget","paths","bases","baseUrl","PathedSandboxes","decodeURIComponent","params","orderedSandboxes","getFilteredSandboxes","EmptyTitle","NavigationTitle","Number","number","bookmarked","UNBOOKMARK_TEMPLATE_FROM_DASHBOARD","BookmarkedTemplates","useApolloClient","useMutation","unbookmarkMutation","unbookmarkTemplate","newTemplates","writeData","unBookmark","sortedTemplates","orderedTemplates","OwnedTemplates","deleteTemplate","refetch","templatesToUse","Templates","DeletedSandboxes","DELETED_SANDBOXES_CONTENT_QUERY","setTrashSandboxes","lastSandboxes","searchIndex","SearchSandboxes","SEARCH_SANDBOXES_QUERY","Label","ComingSoon","PatronInfo","QuestionHeader","shySecondary","Points","point","FREE_POINTS","PRO_POINTS","CreateTeam","CREATE_TEAM_MUTATION","createTeam","proxy","TEAMS_QUERY","handleChange","Plan","ErrorMessage","AddTeamMember","INVITE_TO_TEAM","inviteToTeam","INVITE_TO_TEAM_VIA_EMAIL","inviteToTeamViaEmail","inviteValue","setInviteValue","submit","isEmail","inviteVar","notificationAdded","notificationType","errorMessage","val","TeamContainer","Section","Members","MemberHeader","StyledCrossIcon","CrossIcon","StyledEditIcon","RemoveTeamMember","creatorId","currentUserId","userId","totalMemberSize","isCreator","isOwnUser","LEAVE_TEAM","REMOVE_FROM_TEAM","userSelect","confirmation","confirm","InviteLink","inviteToken","isCopied","setIsCopied","inviteLink","teamInviteLink","User","rightElement","TeamView","editingDescription","editingName","TEAM_QUERY","currentUser","SET_TEAM_NAME","nameLoading","stopEditing","currentState","SET_TEAM_DESCRIPTION","descriptionLoading","inputRef","multiline","invitees","REVOKE_TEAM_INVITATION","revokeLoading","withRouter","component","exact","LeftIcon","LeftIconBase","RightIcon","RightIconBase","ShowSidebarButton","SidebarContainer","Items","CategoryHeader","SidebarStyled","drop","shallow","canDrop","TemplateItem","connectMonitor","dropTarget","currentPath","TrashItem","TrashIcon","Sidebar","dashboardState","dashboardAction","searchChanged","pathname","currentTeamId","SandboxesItem","PeopleIcon","dashboardMounted","showSidebar","setShowSidebar","resetStore","listen","show","signInPageUrl","onSidebarToggle","useHistory","searchQuery","URLSearchParams","useDebouncedCallback","debouncedSearch","borderBottom","TeamAvatar","textTransform","SidebarContext","createContext","activeAccount","setActiveAccount","getTeams","getAllFolders","activeTeam","activeTeamInfo","folders","allCollections","foldersVisible","setFoldersVisibility","Provider","motion","borderRight","flexShrink","Menu","SIDEBAR_WIDTH","List","setActiveTeam","RouterLink","transitionDuration","speeds","isTopLevelFolder","folder","isNested","parent","canNotAcceptSandboxes","canNotAcceptFolders","isSamePath","draggedItem","dropPath","RowItem","accepts","linkTo","useDrop","accept","collect","dropRef","useContext","isCurrentLink","useLocation","Breadcrumbs","param","makeLink","LinkBase","GridIcon","ListIcon","STATES","ViewOptions","viewModeChanged","viewMode","viewState","newTitle","editing","onInputKeyDown","onInputBlur","thumbnailRef","grays","backgroundSize","backgroundPosition","backgroundRepeat","marginX","viewCount","likeCount","forkCount","SkeletonCard","SandboxListItem","borderBottomColor","Stack","SkeletonListItem","DragPreview","selectionItems","useDragLayer","initialOffset","getInitialSourceClientOffset","f","getItemStyles","thumbnailElement","minWidth","thumbnailRect","setVisibility","setRenaming","handler","menu","menuWidth","tweakedPosition","innerWidth","data-reach-menu-list","data-component","MenuItem","data-reach-menu-item","SandboxMenu","isTemplate","isOwner","recoverSandboxes","getFolderUrl","Divider","downloadSandboxes","unmakeTemplate","makeTemplate","FolderMenu","deleteFolder","MultiMenu","EXPORT","fn","DELETE","CONVERT_TO_TEMPLATE","CONVERT_TO_SANDBOX","option","Context","onRightClick","onMenuEvent","onDragStart","onDrop","droppedResult","isRenaming","renaming","SelectionProvider","setSelectedIds","menuVisible","setMenuVisibility","menuPosition","setMenuPosition","menuElement","dataset","selectionId","querySelector","rect","drawingRect","setDrawingRect","start","end","selectionRect","setSelectionRect","callbackCalledAt","findIndex","itemsInRange","increment","ALT","seletedSandbox","ARROW_LEFT","ARROW_UP","ARROW_DOWN","lastSelectedItemId","gridElement","steps","nextItem","scrollIntoViewport","dropResult","isSandboxId","folderPaths","isFolderPath","notDrafts","moveFolder","newPath","callback","selectionLeft","selectionRight","selectionTop","selectionBottom","visibleItems","overlappingItems","overlappingIds","getTime","abs","useSelection","gridContainer","CustomEvent","detail","dispatchEvent","memo","commonTemplateIcon","currentCollectionPath","useDrag","dragRef","preview","onSelectionClick","isAnythingDragging","setNewTitle","oldTitle","interactionProps","sandboxProps","dragProps","isHomeTemplate","motionProps","useResizing","layoutTransition","damping","stiffness","resizing","setResizing","NewSandbox","FolderCard","isDrafts","numberOfSandboxes","isNewFolder","newName","showDropStyles","getBorderColor","borderStyle","borderBottomWidth","FolderListItem","Folder","setCreating","dropProps","setNewName","folderLocation","folderPath","createFolder","renameFolder","dirname","folderProps","selfPath","EmptyScreen","ComponentForTypes","headerLink","blank","skeleton","VariableGrid","ITEM_HEIGHT","filledItems","containerWidth","eachItemWidth","leftOffset","isHeader","margins","ITEM_VERTICAL_OFFSET","recalculatePositions","gridRef","resetAfterIndices","shouldForceUpdate","filledItemsRef","containerRef","containerElement","rowToFocus","scrollToItem","onResize","blankItem","skeletonItem","blanks","showMoreLink","currentIndex","data-column-count","getRowHeight","estimatedColumnWidth","estimatedRowHeight","overscanRowCount","itemData","createNewFolder","showFilters","showViewOptions","showSortOptions","GRID_MAX_WIDTH","Home","getPage","sandboxesTypes","HOME","TEMPLATE_HOME","templateValues","RECENT_HOME","TEMPLATES","Deleted","deletedSandboxesByTime","DELETED","getSection","deletedSandboxes","week","older","Drafts","DRAFTS","Recent","recentSandboxesByTime","RECENT","time","recentSandboxes","All","setLevel","creating","cleanParam","sandboxesOrder","setItems","sandboxesForPath","ALL","unsortedFolders","sortedFolders","useFilteredItems","localTeam","setLocalTeam","getSandboxesByPath","activeSandboxes","itemsToShow","exists","Search","SEARCH","sandoxes","Card","flexGrow","TeamSettings","stateUser","getTeam","setEditing","setTeamInfo","inviteLoading","setInviteLoading","onInviteSubmit","created","columnGap","teamOwner","you","IconButton","leaveTeam","removeFromTeam","UserSettings","isPro","subscription_plan","subscription","amount","patron","cancelSubscriptionClicked","NewTeam","warn","Invite","Settings","sidebarVisible","setSidebarVisibility","backend","Backend","sandboxPageMounted","screen","availWidth","codeMirrorForced","addedSign","live","onNavigateAway","sandboxChanged","isGithub","getContent","flexDirection","Editor","routeDebugger","_debug","SignInAuth","SignIn","Live","LivePage","VercelSignIn","PreviewAuth","NotFound","Profile","CLI","TeamInvitation","GitHub","CliInstructions","CLIInstructions","Patron","Pro","Curator","Boundary","Routes","appUnmounted","signInModalOpen","DNT","trackPageview","NewDashboard","arrayConcat","Array","initOptions","recursive","bail","isItemFileEntry","getAsEntry","webkitGetAsEntry","getListAsArray","list","getEntryData","isDirectory","getFileList","file","getFileFromFileEntry","root","createReader","readEntries","getDataTransferItemFiles","getFiles","getAsFile","manager","HTML5Backend","orgTopDropCapture","handleTopDropCapture","dataTransfer","getData","currentNativeSource","dirContent","getFilesFromDragEvent","debug","setImmediate","func","__isTouch","matchMedia","overmind","createOvermind","config","delimiter","devtools","opener","chrome","logProxies","ignoredOvermindActions","initializeSentry","eventHub","on","actionName","logBreadcrumb","category","Severity","getState","aggr","getSignal","rootEl","initialized","requirePolyfills","showNotification","convertTypeToStatus","registerServiceWorker","BLOB_ID","getResourceTag","resource","CSSTag","JSTag","getIndexHtmlBody","indexHtmlModule","resolveModule","slugify","text","RegExp","charAt","createPackageJSON","dependencies","devDependencies","scripts","extra","packageJSONModule","packageJSON","npmDependencies","createFile","zip","downloadBlobs","isBinary","contentType","blob","createDirectoryWithFiles","newZip","createZip","useGitIgnore","JSZip","ignorer","ignore","gitIgnore","add","filteredModules","substring","ignores","fullPromise","pkgJSON","generateAsync","getZip","saveAs","withLoadApp","continueAction","hasLoadedApp","jwt","connection","addListener","connectionChanged","internal","setStoredSettings","codesandboxApi","server","onCodeSandboxAPIMessage","api","getCurrentUser","setPatronPrice","setSignedInCookie","analytics","identify","setUserId","localStorageTeam","trackCurrentTeams","identifyCurrentUser","showUserSurveyIfNeeded","initialize","preloadTemplates","handleError","reset","setAnonymousId","http","withOwnedSandbox","cancelAction","isForkingSandbox","isFrozen","sessionFrozen","forkFrozenModal","modalResponse","parseConfigurations","configurationFiles","resolveModuleWrapped","signIn","signInGithub","setJwt","refetchSandboxInfo","settingsStore","getAll","keybindings","bindings","price","cookie","sendSurvey","markSurveySeen","notificationToast","NOTICE","sticky","timeAlive","buttons","timeAliveDefault","endTime","authorize","getAuthToken","authToken","authPath","useExtraScopes","popup","openPopup","waitForMessage","closeModals","setCurrentSandbox","currentId","currentModuleShortid","parsedConfigs","main","mainModuleShortid","defaultOpenedModule","sandboxOptions","router","getSandboxOptions","resolvedModule","utils","workspaceConfigCode","INITIALIZING","containerStatus","hasUnrecoverableError","ports","newTab","MODULE","moduleShortid","dirty","tabs","showPreview","isPreviewScreen","isSplitScreen","showEditor","isEditorScreen","highlightedLines","isInProjectView","forceRefresh","showDevtools","runOnClick","startContainer","closeTabByIndex","getErrorMessage","fields","isArray","hideErrorMessage","notificationActions","patronUrl","gql","queries","setGroup","inPilot","getProfile","profileData","showPrivacyPolicyNotification","setViewModeForDashboard","localStorageViewMode","internalActions","removeListener","searchMounted","genericPageMounted","cliMounted","notificationRemoved","notificationToRemoveIndex","cliInstructionsMounted","githubPageMounted","connected","signInButtonClicked","signInCliClicked","removeNotification","createVercelIntegration","getVercelUserDetails","signoutVercel","authTokenRequested","requestAuthorisation","signOutClicked","openedWorkspaceItem","isLive","signout","signoutGithubIntegration","setUpdateStatus","updateStatus","updatedSandbox","userLiked","roomId","featureFlags","initializeSandbox","nextOptimisticId","createOptimisticId","isEqual","exportToGithub","transformModule","savedCode","isNotSynced","corrections","transformDirectory","transformSandbox","environmentVariables","handleResponse","shouldCamelize","camelizedData","npm_dependencies","createHeaders","axios","provideJwtToken","post","decamelizeKeys","patch","put","requestConfig","apiFactory","createPatronSubscription","updatePatronSubscription","cancelPatronSubscription","getDependency","createModule","deleteModule","saveModuleCode","saveModules","modulesResult","getGitChanges","saveTemplate","unlikeSandbox","method","likeSandbox","savePrivacy","saveFrozen","is_frozen","getEnvironmentVariables","saveEnvironmentVariable","environmentVariable","environment_variable","deleteEnvironmentVariable","saveModuleTitle","getPopularSandboxes","saveSandboxPick","getPickedSandboxes","createDirectory","saveModuleDirectory","saveDirectoryDirectory","sourceDirectoryShortid","targetDirectoryShortId","deleteDirectory","saveDirectoryTitle","getUploads","deleteUploadedFile","uploadId","createUpload","massCreateModules","createGit","repoTitle","createGitCommit","createGitPr","createLiveRoom","updateBadge","getPaymentDetails","getUserSandboxes","String","getUserLikedSandboxes","getSandboxes","updateShowcasedSandbox","showcasedSandboxShortid","createTag","deleteTag","updateSandbox","createResource","externalResource","deleteResource","updatePrivacy","updateTemplate","createTemplate","updateExperiments","getPopupDimensions","wLeft","screenLeft","screenX","wTop","screenTop","screenY","innerHeight","getPopupOffset","alert","onUnload","cb","openWindow","getWidth","getHeight","onMessage","waitAtLeast","ms","resolveValue","startTime","disposer","has","loadAsync","blocker","isFinished","synchronized_","sendOperation","revision","AwaitingConfirm","applyOperation","outstanding","AwaitingWithBuffer","pair","TextOperation","buffer","newBuffer","compose","pair1","pair2","CodeSandboxOTClient","onSendOperation","onApplyOperation","lastAcknowledgedRevision","awaitSynchronized","safeServerAck","captureException","currentRevision","resetAwaitSynchronized","applyClient","applyServer","serverAck","resend","transformSelection","CodesandboxOTClientsManager","force","initialRevision","clear","uuid","v4","send","operationToElixir","toJSON","module_state","onOperationError","moduleInfo","ot","op","clientsManager","socket","Socket","host","guardian_token","client_version","channel","leave","receive","resp","pendingMessages","messageIndex","getSocket","moduleState","joinPush","reconnect_token","reconnectToken","presence","Presence","onSync","connectionsCount","alteredEvent","_isOwnMessage","_messageId","identifier","ops","externalResources","liveUserId","editor_user_id","enabled","viewRange","liveInitialized","fromJSON","getKey","save","timestamp","recoverData","removeItem","clearSandbox","getRecoverList","localKeys","_options","joinChannel","provideSocket","replaceState","getParameter","allowedKeys","autoCompleteEnabled","vimMode","livePreviewEnabled","instantPreviewEnabled","prettifyOnSaveEnabled","lintEnabled","clearConsoleEnabled","codeMirror","autoDownloadTypes","newPackagerExperiment","zenMode","enableLigatures","manualCustomVSCodeTheme","prop","store","sse","trackedEvents","trackOnce","warning","WARNING","notice","getMode","getEditorInfo","newConfig","CSEditor","layoutInfo","getLayoutInfo","printWidth","viewportColumn","getEditorCursorPos","getCode","getValue","pos","getPosition","lines","getModel","getLinesContent","lineAndColumnToIndex","lineNumber","column","applyNewCursorOffset","newIndex","newCode","newPos","indexToLineAndColumn","setPosition","worker","prettify","DEFAULT_PRETTIER_CONFIG","isCurrentModule","cancellationToken","Worker","isCancellationRequested","alteredConfig","cursorPos","postMessage","cursorOffset","parser","onCancellationRequested","formatted","newCursorOffset","initializeCustomTheme","customTheme","publisher","keywords","publish","galleryBanner","engines","categories","contributes","themes","uiTheme","fs","BrowserFS","BFSRequire","extName","existsSync","mkdirSync","writeFileSync","installCustomTheme","getCurrentModelPath","activeEditor","getActiveCodeEditor","model","getSelection","startSelection","startLineNumber","startColumn","endSelection","endLineNumber","endColumn","cursorPosition","positionLineNumber","positionColumn","requireAMDModule","require","Linter","monaco","markers","dispatch","correction","getVersionId","marker","line","lineEnd","columnEnd","severity","debounce","isDisposed","getMonacoMode","LinterWorker","terminate","languages","getLanguages","fadeOut","ModelsHandler","editorApi","onChangeCallback","onOperationAppliedCallback","moduleModel","getOrCreateModuleModelByPath","openFile","textFileService","models","loadOrCreate","Uri","textFileEditorModel","load","textEditorModel","comments","newDecorationComments","createCommentDecorations","currentCommentThreadId","currentLine","currentCommentDecorations","deltaDecorations","modelId","userSelectionsToKeep","existingSelectionDecorations","userSelectionDecorations","newUserSelections","existingDecorationId","decorationId","getSelectionDecorationId","listenForChanges","modelAddedListener","dispose","modelRemovedListener","moduleModels","changeListener","fileModel","getFileModels","fileModelItem","isApplyingOperation","revert","fullPath","getModuleModelByPath","commentThreadsByPath","currentCommentIds","comment","commentId","existingDecorationComments","oldPath","oldModelPath","newModelPath","move","modelEditor","editorService","editors","textModelReference","applyOperationToModel","triggerChangeEvent","oldCode","changeOperation","getTextOperation","decorations","userDecorationIdPrefix","userSelections","showNameTag","cleanUserSelections","getCursorDecoration","Range","userClassesGenerated","getSelectionDecoration","stickiness","prefix","cursorClassName","nameTagClassName","secondaryCursorClassName","selectionClassName","secondarySelectionClassName","nameStyles","animationFillMode","animationDelay","nameTagTimeouts","decoration","pushStack","currentEOLLength","getEOL","eolChanged","modelCode","baseLength","isRetain","isInsert","textOp","eol","forceMoveMarkers","isDelete","delOp","newEolMode","setEOL","pushEditOperations","applyEdits","modelService","onModelAdded","getModelContentChangeListener","onModelRemoved","csbPath","onDidChangeContent","commentThreadDecorations","currentLineNumber","commentDecorationsByLineNumber","commentDecoration","initialDecorations","isWholeLine","glyphMarginClassName","lineNumberKey","lineCommentDecorations","activeCommentDecoration","commentRange","getSavedCode","global","getGlobal","callApi","ok","statusText","statusCode","requestPackager","retryCount","retries","manifest","KeyCode","KeyMod","MenuId","SandboxFsSync","$fs_id","workerIds","$type","syncSandbox","getSandboxFs","getTypes","onWorkerMessage","syncDependencyTypings","clearSandboxFiles","sandboxFs","getDirectoryPath","some","browserFs","mkdir","writeFile","copy","appendFile","fromPath","toPath","rename","rmdir","unlink","$broadcast","$fs_ids","$data","fsId","getTypesInfo","typesInfo","getDependencyTypingsSyncDetails","syncDetails","newDeps","getDepsChanges","added","removed","deps","dep","fetchDependencyTyping","autoInstall","removedTypings","removedDep","typings","newDepsKeys","currentDepsKeys","newDepKey","currentDepKey","stat","packageJsonError","readFile","packageJsonReadError","rv","tsConfigError","packageJson","autoInstallTypes","fetchDependencyTypingFiles","setAndSendPackageTypes","dependencyQuery","kids","readdirSync","kid","lstatSync","unlinkSync","rmdirSync","Workbench","addWorkbenchAction","commandLabel","Shift","Alt","KEY_9","mac","CtrlCmd","fullscreenElement","exitFullscreen","documentElement","requestFullscreen","keyboard","lock","WinCtrl","KEY_F","isLineComment","appendMenuItem","MenubarFileMenu","group","command","MenubarPreferencesMenu","MenubarLayoutMenu","MenubarViewMenu","addBrowserNavigationCommand","MenubarHelpMenu","EditorContext","addWorkbenchActions","menubarId","editorPart","menubar","statusbar","getCustomEditor","commandService","executeCommand","layout","errorMarkers","MarkerSeverity","setModelMarkers","correctionMarkers","Warning","Notice","fsPath","getPrettierConfig","getFullModelRange","linter","createLinter","getCurrentSandbox","lint","onOperationApplied","onCodeChange","modelSelectionListener","modelCursorPositionListener","modelViewRangeListener","updateOptions","modelsHandler","lastViewRange","onDidScrollChange","r1","r2","getVisibleRanges","onViewRangeChanged","onDidChangeCursorPosition","updateLineCommentIndication","onDidChangeCursorSelection","selectionChange","secondarySelections","onSelectionChangeDebounced","cancel","onSelectionChanged","prepareElements","reaction","fileComments","currentCommentId","applyComments","listenToCommentClick","sandboxFsSync","ExtHostWorkerLoader","clientExtensionHost","containerExtensionHost","initializeFileSystem","mfs","mountableFilesystem","initializeExtensionsFolder","codeSandboxTheme","codeSandboxBlackTheme","initializeCodeSandboxTheme","rawTheme","initializeThemeCache","JSON5","readFileSync","settingsChanged","changeIfNeeded","quote","space","replacer","initializeSettings","initializeSnippetDirectory","setVimExtensionEnabled","FontFaceObserver","roomInfo","isCurrentEditor","canEdit","setReadOnly","isModuleOpened","reference","revealPositionInCenterIfOutsideViewport","anchor","checkCount","findActiveComment","commentGlyphs","glyphEl","customEditorApi","elements","cbs","enableExtension","disableExtension","syncModule","clearUserSelections","updateUserSelections","boundingRect","setFs","isFirstLoad","umount","childProcess","createContainerForkHandler","createWebsocketFSRequest","createFileSystem","nodeModules","mount","getTranspiledModules","addModule","removeModule","moveModule","updateModule","container","loadScript","loadEditor","onFileChange","sync","extensionService","stopExtensionHost","startExtensionHost","setModuleCode","groupsToClose","editorGroupService","getGroups","closeAllEditors","removeGroup","updateTabsPath","changeModule","recoverPath","filePath","fileSystem","openEditor","leftResource","scheme","rightResource","pinned","clearComments","scrollType","lineColumnPos","revealLine","revealRange","headPos","anchorPos","setSelection","getLspEndpoint","FileSystem","io","emit","extensionEnablementService","getExtension","extensionDescription","toExtension","extension","setEnablement","getJwt","EXTENSIONS_LOCATION","bundle","logReads","writableExtensions","readableExtensions","writable","readable","fileSystems","home","extensions","recover","changeSettings","nested","getDisabledExtensions","extensionIdentifier","ext","_enableExtension","workbench","IEditorService","ICodeEditorService","ITextFileService","ILifecycleService","IEditorGroupsService","IStatusbarService","IExtensionService","CodeSandboxService","CodeSandboxConfigurationUIService","ICodeSandboxEditorConnectorService","ICommandService","SyncDescriptor","IInstantiationService","IExtensionEnablementService","IContextViewService","codesandboxService","codesandboxConfigurationUIService","serviceCollection","invokeFunction","accessor","statusbarPart","menubarPart","codeEditorService","setContainer","openCodeEditor","offsetWidth","offsetHeight","initializeReactions","configureMonacoLanguages","onDidActiveEditorChange","onActiveEditorChange","initializeCodeSandboxAPIListener","lifecycleService","phase","language","registerDocumentFormattingEditProvider","provideDocumentFormattingEdits","getStatus","classList","contains","lastClass","commentIds","onCommentClick","getDefaultHeaders","getToken","deploysByID","checkEnvironmentVariables","envVars","nowData","getConfig","envVar","getDeployments","deploysNoAlias","deployments","assignAlias","uid","aliases","getUser","deploy","contents","getApiData","apiData","deploymentVersion","aliasDeployment","vercelConfig","nowJSON","projectPackage","nowFile","parsed","nowDefaults","filePaths","omit","deploymentType","forceNew","builds","routes","regions","encoding","alterDeploymentData","netlifyConfig","toml","build","mapKeys","NetlifyBaseURL","waitForDeploy","onLogUrlUpdate","pollUntilDone","claimSite","getUserId","sessionId","claim","buildCommand","buildConfig","getNetlifyConfig","buildCommandFromConfig","site_id","session_id","distDir","logUrl","download","restartSandbox","disconnectSSE","logTerminalMessage","exitShell","signal","outShell","dataArg","setup","updateFiles","iterator","asyncIterator","connectTimeout","retrieveSSEToken","initializeSocket","autoConnect","transports","sandboxid","lastSent","openSocket","removeAllListeners","startSandbox","getExecutorType","ServerExecutor","SandboxExecutor","getModulesToSend","modulesObject","generateFileFromSandbox","localStripeVar","executorsManager","ExecutorType","executor","initializeExecutor","setupExecutor","getExecutor","closeExecutor","_reaction","getStripe","handleCardPayment","paymentIntent","resetUserId","_preview","initializePreview","isAllModulesSynced","handleRefresh","executeCodeImmediately","initialRender","showFullScreen","executeCode","refresh","updateAddressbarUrl","waitUntil","bool","collaboratorFragment","sandboxInvitationFragment","sandboxChangedFragment","addCollaborator","removeCollaborator","changeCollaboratorAuthorization","inviteCollaborator","revokeInvitation","changeSandboxInvitationAuthorization","redeemSandboxInvitation","collaborators","invitations","onCollaboratorAdded","onCollaboratorChanged","onCollaboratorRemoved","onInvitationCreated","onInvitationRemoved","onInvitationChanged","onSandboxChangged","codeReferenceMetadataFragment","commentFragment","commentWithRepliesFragment","createComment","deleteComment","updateComment","resolveComment","unresolveComment","commentAdded","commentChanged","commentRemoved","sandboxFragmentDashboard","sidebarCollectionDashboard","templateFragmentDashboard","teamFragmentDashboard","sandboxesByPath","getCollections","teamTemplates","ownedTemplates","searchSandboxes","listPersonalTemplates","addSandboxToFolder","changePrivacy","inviteToTeamVieEmail","revokeTeamInvitation","setTeamDescription","unmakeSandboxesTemplate","makeSandboxesTemplate","setTeamName","graphql","subscriptions","collaboratorsSubscriptions","commentSubscriptions","collaboratorsQueries","commentsQueries","teamsQueries","dashboardQueries","mutations","collaboratorsMutations","commentsMutations","dashboardMutations","authenticateUserModal","oldTemplates","deleteTemplateFromState","emailInvited","usernameInvited","errorMessageExists","getRecentSandboxes","limit","collectionsByLevel","oldFolders","createCollection","getDrafts","cleanPath","getDeletedSandboxes","getTemplateSandboxes","getStartPageSandboxes","usedTemplates","deleteSandboxFromState","folderNames","folderName","obj","oldSandboxes","renameSandboxInState","renameFolderInState","newFolders","oldCollections","oldDeleted","getSearchSandboxes","sandboxesToShow","newTeam","oldTeamInfo","oldActiveTeamInfo","hasAlias","deploysBeingDeleted","deployToDelete","building","gettingDeploys","sandboxDeploys","netlifyClaimUrl","netlifySite","vercelDetails","getVercelErrorMessage","deployWithNetlify","netlify","getNetlifyDeploys","getDeploys","jsZip","isSse","envs","deploySandboxClicked","vercelIntegration","setDeploymentToDelete","ensureSandboxId","idItem","initializeLiveSandbox","loadCollaborators","listenToSandboxChanges","isTeam","joinSource","updateSelectionsOfModule","getSelectionsForModule","setModuleSavedCode","moduleIndex","saveCode","cbID","waitForLiveReady","saveModule","saved_code","updatedModule","moduleRecover","sendModuleSaved","modulesByPath","callCallback","isFetching","originalGitChanges","SANDBOX_STARTED","updateCurrentTemplate","callCallbackError","parsedConfigurations","mapValues","newTemplate","computeTemplate","removeNpmDependencyFromPackageJson","currentPackageJSONCode","currentPackageJSON","setCode","codeSaved","addNpmDependencyToPackageJson","isDev","sortObjectByKeys","updateModuleCode","tabItem","currentSandboxId","forkedSandbox","foundEquivalentModule","currentSandboxModule","openDefaultItem","showEnvironmentVariablesNotification","updateSandboxUrl","currentTabId","dirtyTabIndex","openModule","setErrors","setCorrections","updateSandboxPackageJson","updateDevtools","devtoolsModule","codeChanged","createModulesByPath","updatePreviewCode","persistCursorToUrl","parameter","loadCursorFromUrl","moduleSelected","parsedHead","parsedAnchor","isNaN","newVersion","dependency","npmDependencyRemoved","closeAllTabs","newId","hasExistingSandbox","invitationToken","changeSandbox","recoverFiles","getSandboxComments","contentMounted","returnMessage","returnValue","resizingStarted","isResizing","resizingStopped","transposeComments","isSavedCode","isFirstChange","hasClient","getClient","changeEvent","liveOperationCode","otOperation","composedCode","changes","change","newOt","retain","targetLength","rangeLength","insert","remaining","eventToTransform","sendCodeUpdate","saveClicked","changedModules","changedModuleShortids","moduleItem","fetchGitChanges","createZipClicked","likeSandboxToggled","hasLoadedInitialModule","liveUser","followingUserId","followingUser","onStopFollow","sendUserCurrentModule","clearModuleSelected","moduleDoubleClicked","tabClosed","tabMoved","prevIndex","nextIndex","errorsCleared","toggleStatusBar","statusBar","projectViewToggled","frozenUpdated","frozen","quickActionsOpened","quickActionsOpen","quickActionsClosed","setPreviewContent","togglePreviewContent","previewWindowVisible","resetLayout","currentTabChanged","tabId","discardModuleChanges","fetchEnvironmentVariables","updateEnvironmentVariables","emptyVarCount","setWorkspaceItem","SERVER","toggleEditorPreviewLayout","currentOrientation","previewWindowOrientation","VERTICAL","HORIZONTAL","previewActionReceived","currentErrors","newErrors","clearCorrectionsFromAction","currentCorrections","newCorrections","sandboxModule","moduleEntry","renameModule","sendModuleUpdate","onDevToolsTabAdded","devToolTabs","positionToAdd","devToolIndex","tabPosition","views","devTools","addDevToolsTabUtil","newDevToolTabs","nextPos","currentDevToolsPosition","onDevToolsTabMoved","prevPos","prevDevTools","nextDevTools","prevTab","moveDevToolsTabUtil","onDevToolsTabClosed","closePos","closeDevToolsTabUtil","onDevToolsPositionChanged","openDevtoolsTab","tabToFind","serializedTab","sessionFreezeOverride","newInfo","collaboratorResponse","newCollaborator","collaboratorAdded","existingCollaborator","collaboratorChanged","lastSeenAt","collaboratorRemoved","invitationResponse","invitationCreated","newInvitation","existingInvitation","invitationChanged","invitationRemoved","oldAuthorization","createSandboxInvitation","revokeSandboxInvitation","invitationId","changeInvitationAuthorization","derived","isUpdatingPrivacy","canWriteCode","currentTab","foundTab","isAdvancedEditor","getMainModule","shouldDirectoryBeOpen","directoryEntry","directoryIds","getModuleParents","intermediatePreviewCode","getPreviewTabs","sandboxConfig","previewWindow","unshift","popularSandboxes","pickedSandboxes","pickedSandboxesIndexes","pickedSandboxesLoading","selectedSandbox","popularSandboxesMounted","popularSandbox","picks","random","pickSandboxModal","pickedSandboxesMounted","recoveredList","uploadFiles","parsedFiles","chunkedFilePaths","textExtensions","filePathsChunk","dataURI","MAX_FILE_SIZE","atob","denormalize","relativeDirectories","relativeModules","fileCount","openDiff","moduleRenamed","directoryCreated","optimisticId","optimisticDirectory","sourceId","newDirectory","directoryItem","sendDirectoryCreated","directoryIndex","moduleMovedToDirectory","currentDirectoryShortid","directoryMovedToDirectory","directoryToMove","sendDirectoryUpdate","directoryDeleted","removedDirectory","getModulesAndDirectoriesInDirectory","removedModules","removedDirectories","removedModule","removedDirectoryItem","sendDirectoryDeleted","directoryRenamed","gotUploadedFiles","uploadedFilesInfo","uploads","maxSize","currentSize","moduleCreated","removedFiles","filesUploaded","lastAddedModule","sendMassCreatedModules","optimisticModule","createOptimisticModule","getDefaultCode","generateFileFromState","sendModuleCreated","moduleDeleted","moduleToDeleteIndex","wasCurrentModule","sendModuleDeleted","updates","oldSandbox","resolveModuleOld","resolveModuleNew","oldModule","newModule","modulePos","resolveDirectoryOld","resolveDirectoryWrapped","resolveDirectoryNew","oldDirectory","showExportedModal","subject","isCommitting","repoTitleChanged","createRepoClicked","modulesNotSaved","githubData","gitMounted","createCommitClicked","subjectChanged","descriptionChanged","createPrClicked","reconnecting","notificationsHidden","currentSelection","currentViewRange","isEditor","ownerIds","editorIds","liveUsersByModule","usersByModule","live_user_id","clearSelections","userIndex","initializeModuleState","liveMessageReceived","sendUnsavedChanges","markLiveReady","initializeModuleFromState","createClient","savedCodeChanged","synced","selections","onSave","onJoin","getAllClients","serverReconnect","onModuleState","onExternalResources","onUsersChanged","editor_ids","owner_ids","onUserEntered","sendCurrentSelection","sendCurrentViewRange","joined_user_id","collaborator","onUserLeft","left_user_id","onModuleSaved","onModuleCreated","onModuleMassCreated","onModuleUpdated","existingModule","onModuleDeleted","onDirectoryCreated","onDirectoryUpdated","existingDirectory","hasChangedPath","prevCurrentModulePath","onDirectoryDeleted","onUserSelection","userSelectionLiveUserId","isFollowingUser","revealCursorPosition","onUserCurrentModule","onUserViewRange","onLiveMode","onLiveChatEnabled","chatEnabled","onLiveAddEditor","onLiveRemoveEditor","newEditors","onOperation","module_shortid","sendModuleStateSyncRequest","onConnectionLoss","notificationId","flows","onDisconnect","onOwnerLeft","onChat","chat","messages","onNotification","signInToRoom","roomJoined","getItems","defaultItem","defaultOpen","createLiveClicked","pipe","fork","JOIN","liveMessage","SAVE","MODULE_STATE","USER_ENTERED","USERS_CHANGED","USER_LEFT","EXTERNAL_RESOURCES","MODULE_SAVED","MODULE_CREATED","MODULE_MASS_CREATED","MODULE_UPDATED","MODULE_DELETED","DIRECTORY_CREATED","DIRECTORY_UPDATED","DIRECTORY_DELETED","USER_SELECTION","USER_CURRENT_MODULE","USER_VIEW_RANGE","LIVE_MODE","LIVE_CHAT_ENABLED","LIVE_ADD_EDITOR","LIVE_REMOVE_EDITOR","OPERATION","CONNECTION_LOSS","DISCONNECT","OWNER_LEFT","CHAT","NOTIFICATION","applyTransformation","sendUserSelection","sendUserViewRange","onModeChanged","sendLiveMode","onAddEditorClicked","sendEditorAdded","onRemoveEditorClicked","sendEditorRemoved","onSessionCloseClicked","sendClosed","onToggleNotificationsHidden","onSendChat","sendChat","onChatEnabledToggle","sendChatEnabled","onFollow","revealViewRange","isUpdatingSubscription","tier","ONE","TWO","THREE","FOURTH","patronMounted","priceChanged","createSubscriptionClicked","error_code","REQUIRES_ACTION","client_secret","updateSubscriptionClicked","tryAgainClicked","isIOS","tabWidth","useTabs","semi","singleQuote","trailingComma","bracketSpacing","jsxBracketSameLine","platform","userBindingsMap","binding","KEYBINDINGS","currentBindings","devtoolsToggled","setDevtoolsOpen","firstKey","lastKey","pathKey","keybindingChanged","newBinding","keybindingsValue","currentValue","zenModeToggled","container_lsp","profiles","currentProfileId","showSelectSandboxModal","notFound","isLoadingProfile","likedSandboxes","currentSandboxesPage","currentLikedSandboxesPage","sandboxToDeleteId","isProfileCurrentUser","rootState","currentLikedSandboxes","currentSandboxes","profileMounted","sandboxesPageChanged","likedSandboxesPageChanged","selectSandboxClicked","deleteSandboxClicked","restartContainer","statusChanged","containerStatusChanged","onSSEMessage","CONNECTED","HIBERNATED","DISCONNECTED","STOPPED","CONTAINER_STARTED","newPorts","currentPorts","removedPorts","port","addedPorts","openedPorts","onBrowserFromPortOpened","unrecoverable","onBrowserTabOpened","closeable","tabFounded","getDevToolsTabPosition","unread","messageReceived","workspaceHidden","showDeleteSandboxModal","valueChanged","tagChanged","tagAdded","cleanTag","tagRemoved","tagIndex","tagsChanged","newTags","removedTags","tagsChanged2","oldTags","addedTags","sandboxInfoUpdated","hasChangedTitle","hasChangedDescription","hasChangedAlias","replaceSandboxUrl","externalResourceAdded","sendExternalResourcesChanged","externalResourceRemoved","resourceIndex","integrationsOpened","redirectToSandboxWizard","sandboxPrivacyChanged","oldPrivacy","previewSecret","toggleCurrentWorkspaceItem","setWorkspaceHidden","editTemplate","updatedTemplate","addedTemplate","onInitialize","overmindInstance","getParsedConfigurations","endpoint","prettyfier","configFromSandbox","since","toLocaleLowerCase","isLoadingCLI","contextMenu","namespaced","resolver","newState","isCurrent","createModal","createHook","Observer","selectCommentsFilter","selectedCommentsFilter","OPTIMISTIC_COMMENT_ID","addComment","isOptimistic","getCommentReplies","childComment","closeComment","selectComment","multiCommentsSelector","currentCommentPositions","closeMultiCommentsSelector","references","metadata","getCodeReferenceBoundary","referenceBounds","trigger","utcToZonedTime","toISOString","codeReference","codeLines","newAnchor","lastUpdatedAt","optimisticComment","parentComment","isResolved","replyCount","saveComment","tryCount","parentCommentId","OPEN","deletedComment","oldIsResolved","copyPermalinkToClipboard","createCommentUrl","sandboxComments","commentThread","urlCommentId","getCommentId","onCommentAdded","onCommentChanged","onCommentRemoved","diffOperation","newRange","fileComment","currentComment","commentA","commentB","aDate","bDate","currentComments","sortByInsertedAt","rootComments","RESOLVED","currentCommentsByDate","isToday","today","accumulator","isSameDay","day","isSameWeek","isSameMonth","month","templateName","orderOrder","isDateField","reverse","overrides","PROJECT","PROJECT_TEMPLATE","PROJECT_SUMMARY","hasCustomHeader","FILES","GITHUB","showAsDisabledIfHidden","DEPLOYMENT","CONFIGURATION","LIVE","COMMENTS","getDisabledItems","returnedItems","getEntries","getDefaultOpenedFiles","resolveDirectory","setRender","sandboxBrotherItem","shadow","newX","newY","newScale","newShadow","willChange","interpolate","xx","yy","zz","AnimatedChevron","ChevronRight","NavLink","ItemName","contextItems","noActive","UsedContainer","getContainer","isExact","toggleOpen","transitionOnMount","stayMounted","ADD_SANDBOXES_TO_FOLDER_MUTATION","addToCollection","cacheData","addSandboxesToCollection","RENAME_FOLDER_MUTATION","newTeamId","addFolderToFolder","CreateDirectoryContainer","addSlash","getDirectChildren","usedChildren","Set","normalizedPath","normalizedCurrentPath","basePath","directChildPart","CreateFolderEntry","noFocus","CREATE_FOLDER_MUTATION","PATHED_SANDBOXES_FOLDER_QUERY","DropFolderEntry","FolderEntry","creatingDirectory","renamingDirectory","foldersByPath","toToggle","allowCreate","RenameIcon","DELETE_FOLDER_MUTATION","deleteCollection","subPath","AddFolderIcon","UnTypedContainer","renameCollection","modifiedPath","handleBlur","childName","childPath","childUrl","canDrag","closeTree","SandboxesItemComponent","InfoIcon","getChildCollections","SIDEBAR_COLLECTION_FRAGMENT","SANDBOX_FRAGMENT","TEAM_FRAGMENT","DELETE_SANDBOXES_MUTATION","SET_SANDBOXES_PRIVACY_MUTATION","PERMANENTLY_DELETE_SANDBOXES_MUTATION","oldDeleteCache","newDeleteCache","EntryContainer","activeColor","colorProp","nameValidationError","noTransition","rightColors","templateBackgroundColor","templateColor","redBackground","templateDef","ConfigurationComponent","sendTransforms","onCodeReceived","receivingCode","sendLiveChanges","onChangeVSCode","registerListeners","onDidChangeDirty","dirtyChangeListener","forceUpdate","onDispose","onInitialized","disposeInitializer","prevProps","ConfigWizard","getUI","openText","moreInfoUrl","updateFile","Configuration","usedTheme","VSCode","containerEl","mainContainer","getEditorElement","ui","extraProps","updateLayout","preventScroll","maxX","scrollWidth","maxY","scrollHeight","scrollLeft","deltaX","scrollTop","deltaY","Preview","running","setRunning","onAction","onClearErrors","onMount","noPreview","onToggleProjectView","overlayMessage","EditorToast","partialSupportDisclaimer","MainWorkspace","editorEl","contentEl","showConsoleDevtool","setShowConsoleDevtool","consoleDevtoolIndex","setConsoleDevtoolIndex","updateEditorSize","contentNode","disposeResizeDetector","pane","BACKTICK","windowVisible","currentPosition","browserConfig","onDragFinished","onDragStarted","resizerStyle","defaultSize","pane1Style","pane2Style","visibility","devToolsOpen","DevTools","addedViews","dragging","shouldExpandDevTools","setDevToolsOpen","viewConfig","moveTab","closeTab","currentDevToolIndex","currentTabPosition","setPane","ModalContent","modalsActions","useKeyPressEvent","cancelMessage","ForkFrozenSandboxModal","LikeIcon","EmbedIcon","MoreMenuIcon","HorizontalSeparator","authToName","None","Read","WriteProject","PermissionSelect","additionalOptions","selectedValue","auth","AddCollaboratorForm","controls","useAnimation","setInputValue","setAuthorization","translateX","loop","Mail","WarningIcon","CollaboratorItem","subtext","avatarComponent","fillAvatar","permissionText","Collaborator","isViewingNow","addSuffix","Invitation","privacyToName","0","1","2","privacyToIcon","privacyToDescription","LinkPermissions","PrivacyIcon","isReadOnly","ButtonActions","linkCopied","setLinkCopied","mounted","setMounted","Animated","showMountAnimations","positionTransition","CollaboratorList","setShowMountAnimations","collaboratorsConnectedWithLive","getLiveUser","Infinity","sortedCollaborators","Team","invitation","CollaboratorContent","Collaborators","renderButton","CollaboratorHead","singleton","isCurrentUser","isDimmed","showBorder","CollaboratorHeads","liveUsers","orderedLiveUsers","filteredLiveUsers","followingUserIndex","USER_OVERFLOW_LIMIT","followLiveUser","firstLiveUsers","restLiveUsers","interactive","restUser","TooltipButton","setFadeIn","primaryAction","curatorAt","Child","SkeletonMenuItem","SkeletonContainer","MenuBarSkeleton","MenuBar","menuBarEl","getMenubarElement","whiteSpace","appearance","Public","Unlisted","Private","PrivacyTooltip","onShown","Form","form","NameInput","AutosizeInput","Main","TemplateBadge","SandboxName","updatingName","setUpdatingName","sandboxName","updateSandboxInfo","arial-label","topOffset","bottomOffset","activityBar","mutedForeground","inactiveForeground","radii","hoverBackground","selectedForeground","isDisabled","sideBar","IDS_TO_ICONS","more","IconComponent","aria-hidden","shownItems","getWorkspaceItems","disabledItems","pulse","SkeletonTextBlock","themeType","backgroundLuminosity","highlightLuminosity","hsl","hslString","highlight","SkeletonWrapper","SkeletonExplorer","SkeletonEditor","SkeletonEditorTop","SkeletonDevtools","SkeletonDevtoolsTop","SkeletonDevtoolsNavigator","SkeletonDevtoolsIframe","SkeletonStatusBar","ContentSkeleton","onRefresh","isProjectView","SkeletonExplorerContents","Dependency","scopeMap","punctuation","string","variable","constant","scorePerScope","builtin","score","baseScoreSize","transformSettings","output","collectAllSettings","normScope","scopeName","mappedScope","scopeAccess","searchScope","outputScope","mapScope","styles","minify","scoreForMapped","mappedIndex","parentScope","getScoreForScope","makeTheme","prismTheme","plain","Code","tokens","getLineProps","getTokenProps","modalOpen","setModalOpen","InlineCode","LinkElement","Markdown","counterIncrement","li","listStyle","linkReference","image","imageReference","thematicBreak","inlineCode","AddedIcon","DeletedIcon","ChangedIcon","EditSummary","setNewTags","hideLabel","maxLength","TwitterIcon","GithubIcon","PenIcon","buttonStyles","IconWrapper","Popover","IconList","OpenPopover","PopoverDisclosure","TemplateConfig","popupVisible","setPopupVisible","iconPopover","usePopoverState","selectedIcon","setSelectedIcon","DefaultIcon","getIcon","setIcon","Icons","hideOnClickOutside","hideOnEsc","TemplateIconMap","Summary","forkedFromSandbox","forkedTemplateSandbox","updateFrozenState","isForked","templateUrl","itemProp","profileUrl","githubRepoUrl","Privacy","isPaidUser","Config","links","Delete","AddDirectoryIcon","AddFileIcon","UploadFileIcon","EditIcons","hovering","onDelete","onDiscardChanges","onEdit","onCreateFile","onCreateDirectory","onUploadFile","onDownload","forceShow","RedIcon","SVGIcon","imageExists","codesandboxSvg","imageSvg","nowSvg","folderSvg","folderOpenSvg","fileSvg","getIconURL","GetIcon","EntryIcon","verticalAlign","onCommit","setCurrentValue","autoComplete","spellCheck","aria-invalid","aria-errormessage","onCreateModuleClick","onCreateDirectoryClick","onUploadFileClick","deleteEntry","onRenameCancel","markTabsNotDirty","moduleHasError","renameValidator","incomingState","setHovering","resetState","handleValidateTitle","titleToValidate","isInvalidTitle","renameAction","deleteAction","discardModuleChangesAction","UndoIcon","aria-selected","onMouseEnter","onMouseLeave","canRename","ModuleEntry","hasError","DirectoryChildren","parentShortid","editorState","sandboxTemplate","signals","DirectoryEntryModal","primaryMessage","Opener","siblings","sibling","readDataURL","reader","FileReader","readAsDataURL","returnedFiles","FILES_TO_IGNORE","sourceItem","droppedFiles","inDirectory","NativeTypes","FILE","initializeProperties","modalConfirm","setModalConfirm","confirmDeleteModule","moduleName","fileSelector","onchange","click","renameDirectory","confirmDeleteDirectory","directoryName","confirmDiscardChanges","getChildren","calculateChildren","validateModuleTitle","validateTitle","validateDirectoryTitle","hasChildren","editActions","setEditActions","_getModulePath","formatSize","unit","log10","toFixed","BundleSizes","setSize","cleanVersion","getSizeForPKG","pkg","rsp","gzip","algoliasearch","initIndex","onRemove","setVersion","setVersions","getObject","orderedVersions","propVersion","handleRemove","formatVersion","Dependencies","fonts","isGoogleFont","ExternalResources","otherResources","externalResourcesEnabled","getFontFamily","fontName","listOfFonts","family","Explorer","BOOKMARK_TEMPLATE_FRAGMENT","BOOKMARKED_SANDBOX_INFO","BOOKMARK_TEMPLATE","UNBOOKMARK_TEMPLATE","borderTopRightRadius","borderTopLeftRadius","BookmarkTemplateButton","useLazyQuery","runQuery","bookmarkInfos","entityIndex","bookmarkInfo","entity","isBookmarked","bookmark","unbookmark","handleToggleFollow","CommitForm","rights","hasWriteAccess","getChanges","Changes","modified","deleted","CreateRepo","GithubLogin","NotOwner","NotLoggedIn","NetlifyIcon","gradientTransform","gradientUnits","stopColor","FileIcon","mask","VisitIcon","FlagIcon","Netlify","State","STARTING","BUILDING","DEPLOYING","BUILD_ERROR","DEPLOYMENT_ERROR","STARTED","BOOTED","READY","FROZEN","blue","gray","mapColorToState","Vercel","TypescriptIcon","PrettierIcon","NPMIcon","JSIcon","BaseGrid","ConfigurationFiles","createdPaths","restPaths","LiveIcon","OpenIcon","ClassroomIcon","LiveNow","owners","spectators","liveRole","loggedInUser","canChangeEditors","canFollowUser","Timer","setSince","pad","useInterval","hours","minutes","seconds","NotLive","blacklistedScripts","scriptName","Tasks","runTask","task","commands","StatusCircle","STATUS_MESSAGES","STATUS_COLOR","Status","managerStatus","getManagerStatusMessageAndColor","getContainerStatusMessageAndColor","Ports","openPort","RestartServerIcon","Control","disconnected","VarForm","EnvVars","editMode","setEditMode","keyName","AddComment","autosize","AvatarBlock","itemScope","dateTime","formatDistance","truncateText","textOverflow","isMenuClicked","currentTarget","getRepliesString","scrollBehavior","sizes","Messages","noUser","medium","Chat","messagesRef","scrollDown","roomInfoUsers","isLight","takeRight","messageData","isNotSameUser","workspaceTabs","gitChanges","changeCount","commentsActions","scrollRef","iconColor","Empty","getSelectedFilter","getFilterName","Workspace","activeTab","POSITION","CommentsGlobalStyles","MultiComment","CARROT_LEFT_MARGIN","BORDER_WIDTH","borderTopWidth","dateA","dateB","formatDistanceStrict","EditComment","initialValue","Reply","reply","newValue","SkeletonReply","CommentDialog","ReactDOM","createPortal","Dialog","replies","isNewComment","setScrollTop","handleScroll","useScrollTop","listRef","dialogRef","isCodeComment","initialPosition","getInitialPosition","repliesRendered","setRepliesRendered","endPosition","getEndPosition","onDragHandlerPan","onDragHandlerPanEnd","which","onPan","onPanEnd","hasShadow","hasReplies","repliesRenderedCallback","DialogAddComment","DragHandle","delta","DialogHeader","canResolve","CommentBody","isCommenter","Replies","repliesLoaded","repliesAlreadyLoadedOnFirstRender","REPLY_TRANSITION_DURATION","T","setStepInTimeline","skeletonController","repliesController","scrollTo","behavior","AddReply","FALLBACK_POSITION","finalHeight","dialogPosition","dialogRect","parentElement","maxLeft","maxTop","CommentsAPI","StatusBar","statusbarEl","showSkeleton","setShowSkeleton","reactionState","vsCodeTheme","getStatusbarElement","minSize","FakeStatusBarText","copied","setCopied","vs","vsDark","parseTheme","fetchTheme","foundTheme","findTheme","themeName","fetchedTheme","classnames","dark","hc","getTheme","LeftSide","boxSixing","SignInModalElement","handleSignIn","UserMenuContainer","ClickableContainer","ProfileImage","StyledMenu","StyledMenuA","StyledMenuButton","ItemA","forwardRef","ItemButton","ItemLink","Separator","MenuSeparator","ProIcon","curator","openPreferences","openStorageManagement","openFeedback","signOut","menuProps","showPatron","showManageSubscription","showBecomePro","Documentation","curatorUrl","Cog","Exit","useMenuState","MenuDisclosure","plan","createBrowserHistory"],"mappings":"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AAC10I,EAAMqpB,GAAP,OAAmBitB,EAAiB,CAAEt2C,OAAMqpB,aACvDi4H,SAAUvkC,QAIlB,kBAAC,aAAD,CAAYjjD,QAAS,GACnB,kBAAC,SAAD,CACE13C,QAAQ,YACRre,QAAS,kBAAMo1C,EAAY,CAAEZ,MAAO,yBAFtC,qBC3DKwpG,GAAQ,CACnB,SACA,YACA,OACA,aACA,mBACA,kBACA,SACA,UACA,cACA,UACA,cACA,eACA,YACA,UACA,SACA,mBACA,sBACA,OACA,WACA,OACA,SACA,aACA,gBACA,YACA,QACA,eACA,YACA,aACA,eACA,YACA,iBACA,QACA,eACA,cACA,cACA,QACA,SACA,QACA,QACA,QACA,oBACA,SACA,eACA,eACA,iBACA,eACA,eACA,kBACA,OACA,QACA,eACA,UACA,aACA,SACA,OACA,QACA,OACA,mBACA,iBACA,WACA,QACA,qBACA,oBACA,oBACA,OACA,WACA,YACA,gBACA,aACA,cACA,iBACA,OACA,mBACA,YACA,gBACA,QACA,QACA,YACA,OACA,UACA,YACA,MACA,OACA,eACA,sBACA,YACA,gBACA,YACA,mBACA,kBACA,YACA,SACA,YACA,cACA,YACA,SACA,WACA,qBACA,SACA,QACA,mBACA,UACA,eACA,WACA,eACA,SACA,UACA,SACA,YACA,UACA,aACA,QACA,qBACA,wBACA,aACA,gBACA,WACA,cACA,4BACA,eACA,gBACA,SACA,YACA,QACA,QACA,kBACA,iBACA,iBACA,gBACA,cACA,QACA,UACA,cACA,gBACA,cACA,aACA,oBACA,oBACA,YACA,aACA,WACA,WACA,aACA,iBACA,eACA,YACA,SACA,UACA,gBACA,eACA,mBACA,eACA,cACA,gBACA,YACA,SACA,YACA,aACA,UACA,cACA,eACA,YACA,QACA,gBACA,YACA,WACA,sBACA,gBACA,SACA,OACA,UACA,cACA,aACA,SACA,QACA,cACA,OACA,UACA,UACA,kBACA,QACA,QACA,WACA,kBACA,iBACA,wBACA,cACA,sBACA,cACA,SACA,wBACA,oBACA,SACA,UACA,QACA,OACA,eACA,QACA,UACA,YACA,eACA,kBACA,UACA,WACA,aACA,aACA,gBACA,YACA,YACA,UACA,sBACA,kBACA,SACA,aACA,aACA,YACA,qBACA,WACA,SACA,QACA,QACA,UACA,QACA,kBACA,iBACA,QACA,mBACA,YACA,mBACA,OACA,mBACA,QACA,cACA,iBACA,yBACA,OACA,QACA,cACA,SACA,SACA,UACA,iBACA,wBACA,YACA,YACA,OACA,WACA,aACA,wBACA,cACA,mBACA,UACA,aACA,QACA,QACA,WACA,SACA,WACA,aACA,gBACA,gBACA,QACA,SACA,aACA,mBACA,eACA,eACA,OACA,YACA,gBACA,aACA,aACA,YACA,QACA,QACA,OACA,eACA,uBACA,WACA,aACA,QACA,YACA,QACA,WACA,YACA,WACA,UACA,cACA,iBACA,kBACA,SACA,OACA,WACA,SACA,UACA,UACA,YACA,QACA,UACA,cACA,UACA,UACA,eACA,YACA,gBACA,aACA,SACA,SACA,UACA,uBACA,6BACA,WACA,SACA,eACA,eACA,QACA,YACA,cACA,YACA,UACA,WACA,kBACA,oBACA,aACA,UACA,kBACA,UACA,eACA,cACA,SACA,uBACA,SACA,gBACA,UACA,cACA,QACA,UACA,QACA,cACA,YACA,YACA,SACA,UACA,UACA,OACA,gBACA,yBACA,oBACA,SACA,QACA,cACA,eACA,YACA,kBACA,gBACA,eACA,SACA,iBACA,eACA,iBACA,QACA,SACA,WACA,gBACA,gBACA,QACA,UACA,2BACA,qBACA,eACA,aACA,kBACA,OACA,eACA,cACA,aACA,cACA,WACA,SACA,UACA,aACA,YACA,UACA,WACA,UACA,SACA,sBACA,OACA,UACA,aACA,eACA,OACA,iBACA,OACA,QACA,UACA,WACA,QACA,OACA,WACA,WACA,aACA,WACA,UACA,4BACA,gBACA,UACA,QACA,WACA,uBACA,YACA,gBACA,sBACA,SACA,YACA,SACA,eACA,iBACA,aACA,eACA,iBACA,UACA,gBACA,SACA,WACA,SACA,mBACA,cACA,wBACA,eACA,wBACA,UACA,iBACA,UACA,gBACA,SACA,cACA,eACA,cACA,cACA,kBACA,aACA,uBACA,YACA,YACA,eACA,cACA,MACA,MACA,iBACA,WACA,SACA,cACA,0BACA,qBACA,YACA,WACA,eACA,mBACA,WACA,SACA,UACA,QACA,QACA,WACA,qBACA,eACA,SACA,iBACA,kBACA,sBACA,QACA,UACA,qBACA,eACA,cACA,UACA,UACA,eACA,YACA,aACA,YACA,aACA,OACA,WACA,WACA,UACA,WACA,WACA,gBACA,kBACA,QACA,SACA,SACA,iBACA,UACA,SACA,cACA,MACA,eACA,WACA,cACA,eACA,aACA,SACA,cACA,kBACA,QACA,aACA,UACA,YACA,gBACA,qBACA,cACA,iBACA,MACA,WACA,UACA,WACA,WACA,QACA,eACA,WACA,QACA,0BACA,WACA,oBACA,aACA,iBACA,aACA,eACA,eACA,YACA,UACA,SACA,kBACA,aACA,YACA,cACA,SACA,SACA,SACA,kBACA,gBACA,eACA,SACA,SACA,cACA,SACA,UACA,WACA,yBACA,UACA,eACA,QACA,SACA,YACA,aACA,kBACA,UACA,oBACA,QACA,gBACA,cACA,QACA,qBACA,SACA,UACA,oBACA,SACA,mBACA,UACA,mBACA,iBACA,WACA,UACA,oBACA,oBACA,YACA,eACA,WACA,OACA,YACA,kBACA,eACA,kBACA,0BACA,uBACA,eACA,eACA,qBACA,gBACA,QACA,QACA,YACA,uBACA,SACA,eACA,aACA,WACA,cACA,mBACA,sBACA,MACA,YACA,mBACA,UACA,MACA,OACA,SACA,aACA,WACA,kBACA,UACA,cACA,YACA,SACA,cACA,QACA,SACA,iBACA,iBACA,UACA,SACA,cACA,aACA,eACA,mBACA,QACA,WACA,kBACA,WACA,UACA,SACA,YACA,eACA,UACA,aACA,aACA,QACA,cACA,QACA,OACA,QACA,oBACA,cACA,QACA,eACA,YACA,SACA,SACA,YACA,eACA,mBACA,cACA,oBACA,UACA,UACA,gBACA,uBACA,SACA,aACA,WACA,QACA,SACA,SACA,SACA,YACA,cACA,UACA,UACA,YACA,YACA,WACA,uBACA,eACA,OACA,OACA,QACA,OACA,OACA,QACA,QACA,aACA,cACA,YACA,UACA,qBACA,WACA,eACA,aACA,aACA,gBACA,QACA,eACA,cACA,QACA,SACA,iBACA,UACA,wBACA,WACA,qBACA,YACA,aACA,YACA,UACA,SACA,UACA,YACA,WACA,oBACA,mBACA,WACA,wBACA,mBACA,QACA,iBACA,QACA,YACA,OACA,WACA,QACA,UACA,cACA,WACA,YACA,UACA,QACA,QACA,WACA,UACA,UACA,gBACA,aACA,mBACA,0BACA,iBACA,OACA,SACA,SACA,SACA,cACA,WACA,iBACA,uBACA,gBACA,QACA,qBACA,oBACA,OACA,WACA,YACA,qBACA,WACA,sBACA,gBACA,cACA,gBACA,gBACA,QACA,SACA,iBACA,UACA,aACA,SACA,aACA,cACA,QACA,aACA,UACA,WACA,YACA,YACA,aACA,QACA,0BACA,uBACA,UACA,UACA,SACA,wBACA,QACA,YACA,gBACA,YACA,SACA,aACA,UACA,SACA,UACA,uBACA,mBACA,uBACA,YACA,OACA,iBACA,UACA,SACA,mBACA,YACA,SACA,aACA,aACA,aACA,UACA,UACA,SACA,QACA,WACA,WACA,UACA,gBACA,YACA,YACA,eACA,gBACA,gBACA,OACA,SACA,cACA,UACA,YACA,UACA,OACA,iBACA,cACA,WACA,cACA,cACA,SACA,kBACA,UACA,SACA,YACA,UACA,cACA,gBACA,QACA,cACA,eACA,0BACA,UACA,oBACA,aACA,mBACA,WACA,QACA,aACA,wBACA,cACA,gBACA,kBACA,UACA,aACA,UACA,iBACA,iCACA,QACA,eACA,iBACA,WACA,SACA,aACA,UACA,kBACA,eACA,WACA,4BACA,yBACA,aACA,qBACA,eACA,YACA,YACA,YACA,cACA,WACA,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","file":"static/js/app.d974f647d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t16: 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t16: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"static/js/\" + ({\"15\":\"airtable\",\"22\":\"create-react-app-typescript-zip\",\"23\":\"create-react-app-zip\",\"27\":\"export-to-github\",\"28\":\"feedback\",\"29\":\"full-zip\",\"32\":\"page-cli\",\"33\":\"page-cli-instructions\",\"34\":\"page-curator\",\"35\":\"page-github\",\"36\":\"page-not-found\",\"37\":\"page-patron\",\"38\":\"page-pro\",\"39\":\"page-profile\",\"40\":\"page-search\",\"41\":\"page-sign-in\",\"42\":\"page-team-invitation\",\"43\":\"page-vercel\",\"45\":\"preact-zip\",\"48\":\"svelte-zip\",\"49\":\"vendors~airtable\",\"58\":\"vendors~page-curator\",\"59\":\"vendors~page-patron\",\"68\":\"vue-zip\"}[chunkId]||chunkId) + \".\" + {\"15\":\"8ac987e2c\",\"22\":\"44b3f5375\",\"23\":\"87c1e3594\",\"27\":\"2973310d7\",\"28\":\"912eae920\",\"29\":\"1ea78aed0\",\"32\":\"08da0e126\",\"33\":\"235bd3666\",\"34\":\"3dc8846eb\",\"35\":\"afb408544\",\"36\":\"6414a7352\",\"37\":\"0c2fae6db\",\"38\":\"380249cf7\",\"39\":\"69ff6bd02\",\"40\":\"261feb857\",\"41\":\"0b22e3234\",\"42\":\"3fa67cea5\",\"43\":\"0ff6a5f82\",\"45\":\"4fa9be36a\",\"48\":\"e2f5c563e\",\"49\":\"8fea1da78\",\"58\":\"561ed9e1e\",\"59\":\"5c56c52b7\",\"68\":\"42dc0ecf6\",\"71\":\"e0c7e6428\",\"72\":\"e7614d215\",\"73\":\"c4eb31473\",\"74\":\"167f7f948\",\"76\":\"a3553fc5a\",\"77\":\"a2ed017d7\"}[chunkId] + \".chunk.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"37\":1,\"40\":1,\"58\":1,\"59\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"static/css/\" + ({\"15\":\"airtable\",\"22\":\"create-react-app-typescript-zip\",\"23\":\"create-react-app-zip\",\"27\":\"export-to-github\",\"28\":\"feedback\",\"29\":\"full-zip\",\"32\":\"page-cli\",\"33\":\"page-cli-instructions\",\"34\":\"page-curator\",\"35\":\"page-github\",\"36\":\"page-not-found\",\"37\":\"page-patron\",\"38\":\"page-pro\",\"39\":\"page-profile\",\"40\":\"page-search\",\"41\":\"page-sign-in\",\"42\":\"page-team-invitation\",\"43\":\"page-vercel\",\"45\":\"preact-zip\",\"48\":\"svelte-zip\",\"49\":\"vendors~airtable\",\"58\":\"vendors~page-curator\",\"59\":\"vendors~page-patron\",\"68\":\"vue-zip\"}[chunkId]||chunkId) + \".\" + {\"15\":\"31d6cfe0\",\"22\":\"31d6cfe0\",\"23\":\"31d6cfe0\",\"27\":\"31d6cfe0\",\"28\":\"31d6cfe0\",\"29\":\"31d6cfe0\",\"32\":\"31d6cfe0\",\"33\":\"31d6cfe0\",\"34\":\"31d6cfe0\",\"35\":\"31d6cfe0\",\"36\":\"31d6cfe0\",\"37\":\"7836d388\",\"38\":\"31d6cfe0\",\"39\":\"31d6cfe0\",\"40\":\"2a52beea\",\"41\":\"31d6cfe0\",\"42\":\"31d6cfe0\",\"43\":\"31d6cfe0\",\"45\":\"31d6cfe0\",\"48\":\"31d6cfe0\",\"49\":\"31d6cfe0\",\"58\":\"b4ee511c\",\"59\":\"99a25767\",\"68\":\"31d6cfe0\",\"71\":\"31d6cfe0\",\"72\":\"31d6cfe0\",\"73\":\"31d6cfe0\",\"74\":\"31d6cfe0\",\"76\":\"31d6cfe0\",\"77\":\"31d6cfe0\"}[chunkId] + \".chunk.css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"https://codesandbox.io/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = this[\"csbJsonP\"] = this[\"csbJsonP\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,0,2,5,4,6,8,11,50,3,9,10]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var React = require('react');\n\nfunction Dashboard (props) {\n    return React.createElement(\"svg\",props,React.createElement(\"path\",{\"d\":\"M3 12C3 12.5523 3.44772 13 4 13H10C10.5523 13 11 12.5523 11 12V4C11 3.44772 10.5523 3 10 3H4C3.44772 3 3 3.44772 3 4V12ZM3 20C3 20.5523 3.44772 21 4 21H10C10.5523 21 11 20.5523 11 20V16C11 15.4477 10.5523 15 10 15H4C3.44772 15 3 15.4477 3 16V20ZM13 20C13 20.5523 13.4477 21 14 21H20C20.5523 21 21 20.5523 21 20V12C21 11.4477 20.5523 11 20 11H14C13.4477 11 13 11.4477 13 12V20ZM14 3C13.4477 3 13 3.44772 13 4V8C13 8.55228 13.4477 9 14 9H20C20.5523 9 21 8.55228 21 8V4C21 3.44772 20.5523 3 20 3H14Z\",\"fill\":\"currentColor\"}));\n}\n\nDashboard.displayName = \"Dashboard\";\n\nDashboard.defaultProps = {\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 24 24\"};\n\nmodule.exports = Dashboard;\n\nDashboard.default = Dashboard;\n","var React = require('react');\n\nfunction Sandbox (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"d\":\"M18.7932 18.1206C19.0246 18.2523 19.3084 18.2515 19.539 18.1185L31.3628 11.3002C31.8655 11.0103 31.8626 10.2836 31.3575 9.99777L19.8651 3.494C19.4858 3.27967 19.0192 3.27967 18.6392 3.494L6.98325 10.0897C6.47652 10.3765 6.47553 11.1061 6.98147 11.3942L18.7932 18.1206Z\",\"fill\":\"currentColor\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M17.5 21.1711C17.5 20.9063 17.3603 20.6611 17.1325 20.526L6.13248 14.0046C5.63253 13.7082 5 14.0686 5 14.6498V27.6749C5 28.107 5.00547 28.5873 5.3875 28.8026L16.3735 35.1794C16.8735 35.4696 17.5 35.1088 17.5 34.5307V21.1711Z\",\"fill\":\"currentColor\",\"key\":1}),React.createElement(\"path\",{\"d\":\"M21.1952 20.6757C20.9706 20.8116 20.8334 21.0549 20.8334 21.3174V34.514C20.8334 35.0958 21.4671 35.4561 21.967 35.1585L32.8753 28.6655C33.2348 28.4529 33.3334 28.0601 33.3334 27.6349V14.6635C33.3334 14.0793 32.695 13.7194 32.1952 14.0217L21.1952 20.6757Z\",\"fill\":\"currentColor\",\"key\":2})]);\n}\n\nSandbox.displayName = \"Sandbox\";\n\nSandbox.defaultProps = {\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 40 40\"};\n\nmodule.exports = Sandbox;\n\nSandbox.default = Sandbox;\n","var React = require('react');\n\nfunction Template (props) {\n    return React.createElement(\"svg\",props,React.createElement(\"path\",{\"fillRule\":\"evenodd\",\"clipRule\":\"evenodd\",\"d\":\"M19.8997 18.087C20.5693 17.7176 21 17.0157 21 16.251V8.74845C21 7.98374 20.5693 7.28228 19.8997 6.91293C19.0011 6.41728 17.7509 5.70881 16.5006 5.00031L16.5006 5.00028L16.5005 5.00023L16.5005 5.00021C15.1338 4.22577 13.7671 3.4513 12.8596 2.95469C12.3196 2.65923 11.6804 2.65923 11.1404 2.95469C10.2329 3.45126 8.86641 4.22564 7.49991 5.00001C6.24947 5.70861 4.99903 6.4172 4.10034 6.91292C3.43074 7.28228 3 7.9841 3 8.74882V16.2511C3 17.0158 3.43073 17.7176 4.10034 18.087C4.99904 18.5827 6.24947 19.2913 7.49992 19.9999L7.50012 20L7.50017 20.0001C8.86659 20.7744 10.233 21.5487 11.1404 22.0452C11.6804 22.3407 12.3196 22.3407 12.8596 22.0452C13.767 21.5487 15.1334 20.7744 16.4999 20L16.4999 20L16.5 20C17.7504 19.2914 19.0009 18.5827 19.8997 18.087ZM12.3602 11.3011C12.1358 11.425 11.8638 11.4257 11.6388 11.303L6.71183 8.61724C6.18967 8.3326 6.19067 7.58252 6.71358 7.29926L11.7429 4.57499C11.9281 4.47497 12.1556 4.47497 12.3404 4.57499L17.2941 7.25857C17.8154 7.54098 17.8184 8.28808 17.2993 8.57462L12.3602 11.3011ZM11 13.2186C11 12.9518 10.8582 12.705 10.6276 12.5706L5.6276 9.65704C5.12761 9.36569 4.5 9.72636 4.5 10.3051V16.3302C4.5 16.551 4.50284 16.7965 4.7015 16.9065L9.87834 19.86C10.3783 20.1453 11 19.7842 11 19.2086V13.2186ZM13 13.2913C13 13.0268 13.1393 12.7818 13.3667 12.6466L18.3667 9.67379C18.8666 9.37654 19.5 9.73682 19.5 10.3184V16.3097C19.5 16.527 19.4488 16.7278 19.2618 16.8364L14.1287 19.8396C13.6287 20.1321 13 19.7715 13 19.1922V13.2913Z\",\"fill\":\"currentColor\"}));\n}\n\nTemplate.displayName = \"Template\";\n\nTemplate.defaultProps = {\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\"};\n\nmodule.exports = Template;\n\nTemplate.default = Template;\n","var React = require('react');\n\nfunction Patron4 (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"title\",{\"key\":0},\"patron-4\"),React.createElement(\"desc\",{\"key\":1},\"Created with Sketch.\"),React.createElement(\"defs\",{\"key\":2}),React.createElement(\"g\",{\"id\":\"Page-1\",\"stroke\":\"none\",\"strokeWidth\":\"1\",\"fill\":\"none\",\"fillRule\":\"evenodd\",\"key\":3},React.createElement(\"g\",{\"id\":\"Stage-4\",\"transform\":\"translate(0.000000, -1.000000)\",\"fillRule\":\"nonzero\"},React.createElement(\"g\",{\"id\":\"Laag_4\"},[React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#72B8EA\",\"points\":\"120.754 50.941 101.953 36.782 150 0.97 150 29.289\",\"key\":0}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#6CAEDD\",\"points\":\"198.047 36.699 179.279 50.941 179.631 224.758 198.625 239.088\",\"key\":1}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#6CAEDD\",\"points\":\"120.402 224.758 101.375 239.088 150 275.331 149.85 246.56\",\"key\":2}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#609AC3\",\"points\":\"179.631 224.758 149.85 246.56 150 275.331 198.625 239.088\",\"key\":3}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#72B8EA\",\"opacity\":\"0.9\",\"points\":\"150 0.97 198.047 36.699 179.279 50.941 150 29.289\",\"key\":4}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#609AC3\",\"points\":\"101.953 36.782 120.754 50.941 120.402 224.758 101.375 239.088\",\"key\":5}),React.createElement(\"polyline\",{\"id\":\"Shape\",\"fill\":\"#609AC3\",\"opacity\":\"0.9\",\"points\":\"120.754 50.941 150 29.289 179.279 50.941 179.631 224.758 149.85 246.56 120.402 224.758\",\"key\":6}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#FFFFFF\",\"opacity\":\"0.5\",\"points\":\"166.51 41.498 176.166 48.64 194.355 33.935 184.763 26.821\",\"key\":7}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#FFFFFF\",\"opacity\":\"0.5\",\"points\":\"161.245 37.647 165.13 40.52 183.485 25.895 179.769 23.162\",\"key\":8}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#FFFFFF\",\"opacity\":\"0.5\",\"points\":\"179.279 59.039 198 44.875 198 50 179.305 63.96\",\"key\":9}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#E3BE7B\",\"opacity\":\"0.9\",\"points\":\"182 120.065 214 96.38 246 120.065 246 167.435 214 191.12 182 167.435\",\"key\":10}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#FDD389\",\"points\":\"182.314 120.065 161.945 104.576 214 65.402 214 96.38\",\"key\":11}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#E3BE7B\",\"points\":\"266 104.486 246 120.065 246 167.435 266 182.924\",\"key\":12}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#BD9E66\",\"points\":\"182.314 167.435 161.945 182.924 214 222.098 213.839 191\",\"key\":13}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#BD9E66\",\"opacity\":\"0.9\",\"points\":\"246 167.435 213.839 191 214 222.098 266.055 182.924\",\"key\":14}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#FDD389\",\"opacity\":\"0.9\",\"points\":\"214 65.402 266.055 104.486 246 120.065 214 96.38\",\"key\":15}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#1DC47F\",\"points\":\"162 104.486 182 120.065 182 167.435 162 182.924\",\"key\":16}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#C54040\",\"opacity\":\"0.9\",\"points\":\"54 120.065 86 96.38 118 120.065 118 167.435 86 191.12 54 167.435\",\"key\":17}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#E56868\",\"opacity\":\"0.9\",\"points\":\"54 120.065 33.945 104.576 86 65.402 86 96.38\",\"key\":18}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#6ED69A\",\"points\":\"138 104.486 118 120.065 118 167.435 138 182.924\",\"key\":19}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#BE3535\",\"opacity\":\"0.9\",\"points\":\"54.314 167.435 33.945 182.924 86 222.098 85.839 191\",\"key\":20}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#BE3535\",\"points\":\"117.721 167.435 85.839 191 86 222.098 138.055 182.924\",\"key\":21}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#E56868\",\"points\":\"86 65.402 138.055 104.486 117.721 120.065 86 96.38\",\"key\":22}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#C54040\",\"points\":\"34 104.486 54 120.065 54 167.435 34 182.924\",\"key\":23}),React.createElement(\"path\",{\"d\":\"M229.786,157.803 C230.431,158.671 229.689,160.314 228.129,161.474 L192.818,187.718 C191.258,188.878 189.47,189.114 188.826,188.247 L187.95,187.069 C187.305,186.201 188.047,184.558 189.607,183.398 L224.918,157.154 C226.478,155.994 228.266,155.758 228.91,156.625 L229.786,157.803 Z\",\"id\":\"Shape\",\"fill\":\"#FCF7DE\",\"key\":24}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#FCF7DE\",\"points\":\"223.094 103.111 233.612 110.896 253.355 94.935 243.25 87.42\",\"key\":25}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#FCF7DE\",\"points\":\"236.416 112.869 241.226 116.429 261.355 100.935 256.695 97.458\",\"key\":26}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#FCF7DE\",\"points\":\"246 128.25 266 112.875 266 118 246 133.188\",\"key\":27}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#FCF7DE\",\"points\":\"246 167.435 246 155.435 214 179.12 214 191.12\",\"key\":28}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#1BB978\",\"points\":\"111 116.159 150 87.318 189 116.159 189 173.841 150 202.682 111 173.841\",\"key\":29}),React.createElement(\"path\",{\"d\":\"M207.143,154.629 C208.853,156.93 207.74,160.652 204.657,162.944 L134.879,214.805 C131.796,217.096 127.911,217.089 126.201,214.788 L123.879,211.664 C122.169,209.363 123.282,205.641 126.365,203.349 L196.143,151.488 C199.226,149.197 203.111,149.204 204.821,151.505 L207.143,154.629 Z\",\"id\":\"Shape\",\"fill\":\"#DBFFDD\",\"key\":30}),React.createElement(\"path\",{\"d\":\"M201.626,134.624 C202.517,135.823 200.74,138.652 197.657,140.943 L127.879,192.804 C124.796,195.095 121.575,195.981 120.684,194.783 L119.474,193.155 C118.583,191.956 120.36,189.127 123.443,186.836 L193.221,134.975 C196.304,132.684 199.525,131.798 200.416,132.996 L201.626,134.624 Z\",\"id\":\"Shape\",\"fill\":\"#DBFFDD\",\"key\":31}),React.createElement(\"path\",{\"d\":\"M145.786,115.803 C146.431,116.671 145.689,118.314 144.129,119.474 L108.818,145.718 C107.258,146.878 105.47,147.114 104.826,146.247 L103.95,145.069 C103.305,144.201 104.047,142.558 105.607,141.398 L140.918,115.154 C142.478,113.994 144.266,113.758 144.91,114.625 L145.786,115.803 Z\",\"id\":\"Shape\",\"fill\":\"#DBFFDD\",\"key\":32}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#6ED69A\",\"points\":\"111.043 116.159 86 97.298 150 49.596 150 87.318\",\"key\":33}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#6ED69A\",\"points\":\"214 97.188 189 116.159 189 173.841 214 192.702\",\"key\":34}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#1BB978\",\"points\":\"111.043 173.841 86 192.702 150 240.404 149.802 202.536\",\"key\":35}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#1DC47F\",\"points\":\"189 173.841 149.802 202.536 150 240.404 214 192.702\",\"key\":36}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#B9F4BC\",\"points\":\"150 49.596 214 97.188 189 116.159 150 87.318\",\"key\":37}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#1DC47F\",\"points\":\"86 97.188 111 116.159 111 173.841 86 192.702\",\"key\":38}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#DBFFDD\",\"points\":\"172.931 104.237 183.457 112.022 208.355 92.935 198.25 85.42\",\"key\":39}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#DBFFDD\",\"points\":\"163.931 97.237 168.457 101.022 193.355 81.935 188.761 78.42\",\"key\":40}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#DBFFDD\",\"points\":\"189 125.25 214 105.875 214 111 189 130.188\",\"key\":41}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#1DC47F\",\"points\":\"12.202 145.017 29.059 162.021 58.62 145.017 29.083 128.207\",\"key\":42}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#6ED69A\",\"points\":\"27.206 118.293 29.083 128.194 12.218 145 0.443 145\",\"key\":43}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#1BB978\",\"points\":\"29.059 162.012 27.171 171.952 0.443 145 12.202 145\",\"key\":44}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#6ED69A\",\"points\":\"58.62 145 74.093 145 27.171 171.956 29.059 162.008\",\"key\":45}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#B9F4BC\",\"points\":\"29.083 128.198 58.62 145 74.093 145 27.206 118.288\",\"key\":46}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#1DC47F\",\"points\":\"288.333 145.017 271.476 162.021 241.916 145.017 271.453 128.207\",\"key\":47}),React.createElement(\"path\",{\"d\":\"M276.043,143.996 C276.601,144.592 276.571,145.528 275.975,146.086 L262.077,159.104 C261.481,159.662 260.545,159.632 259.987,159.036 L259.958,159.005 C259.4,158.409 259.43,157.473 260.026,156.915 L273.924,143.897 C274.52,143.339 275.456,143.369 276.014,143.965 L276.043,143.996 Z\",\"id\":\"Shape\",\"fill\":\"#DBFFDD\",\"key\":48}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#B9F4BC\",\"points\":\"273.33 118.293 271.453 128.194 288.317 145 300.093 145\",\"key\":49}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#6ED69A\",\"points\":\"271.476 162.012 273.365 171.952 300.093 145 288.333 145\",\"key\":50}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#1BB978\",\"points\":\"241.916 145 226.443 145 273.365 171.956 271.476 162.008\",\"key\":51}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#6ED69A\",\"points\":\"271.453 128.198 241.916 145 226.443 145 273.33 118.288\",\"key\":52}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#DBFFDD\",\"points\":\"266.298 159.033 284.483 141.183 288.333 145.017 271.476 162.021\",\"key\":53}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#DBFFDD\",\"points\":\"277.292 133.989 283.349 128.276 281.065 125.997 275.094 131.844\",\"key\":54}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#DBFFDD\",\"points\":\"280.292 136.989 286.349 131.276 285.063 129.993 278.845 135.577\",\"key\":55}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#DBFFDD\",\"points\":\"39.091 133.873 45.542 128.723 43.185 127.38 36.779 132.558\",\"key\":56}),React.createElement(\"polygon\",{\"id\":\"Shape\",\"fill\":\"#DBFFDD\",\"points\":\"36.085 132.163 42.422 126.957 41.161 126.227 35.091 131.598\",\"key\":57})])))]);\n}\n\nPatron4.displayName = \"Patron4\";\n\nPatron4.defaultProps = {\"width\":\"301px\",\"height\":\"275px\",\"viewBox\":\"0 0 301 275\",\"version\":\"1.1\"};\n\nmodule.exports = Patron4;\n\nPatron4.default = Patron4;\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst react_textarea_autosize_1 = __importDefault(require(\"react-textarea-autosize\"));\r\nconst Input_1 = __importDefault(require(\"../Input\"));\r\nexports.default = Input_1.default.withComponent(react_textarea_autosize_1.default);\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/lib/IconBase\"));\r\nconst Tooltip_1 = __importDefault(require(\"../../components/Tooltip\"));\r\nconst is_contributor_1 = require(\"./is-contributor\");\r\nclass ContributorsBadge extends react_1.default.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state = {\r\n            isContributor: false,\r\n        };\r\n    }\r\n    updateContributorStatus(props = this.props) {\r\n        is_contributor_1.isContributor(props.username).then(contributor => {\r\n            this.setState({ isContributor: contributor });\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.updateContributorStatus();\r\n    }\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        this.updateContributorStatus(nextProps);\r\n    }\r\n    render() {\r\n        const { className, username } = this.props;\r\n        if (!this.state.isContributor) {\r\n            return false;\r\n        }\r\n        return (react_1.default.createElement(\"a\", { target: \"_blank\", rel: \"noreferrer noopener\", onClick: e => e.stopPropagation(), href: `https://github.com/codesandbox/codesandbox-client/commits?author=${username}` },\r\n            react_1.default.createElement(Tooltip_1.default, { style: { display: 'flex' }, content: \"Open Source Contributor to CodeSandbox\" },\r\n                react_1.default.createElement(IconBase_1.default, { className: className, width: \"1em\", height: \"0.67em\", viewBox: \"0 0 284 192\", fill: \"none\" },\r\n                    react_1.default.createElement(\"path\", { d: \"M276 30.9916C229.5 58.0917 180.5 77.5917 130 79.5917C59.1265 79.5917 0 61.5917 0 34.0917C0 15.5917 41 -0.408325 114.803 2.99163C185.677 2.99163 314.5 -13.5084 276 30.9916Z\", transform: \"translate(0 112.408)\", fill: \"#C5A56B\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M270.493 40.3281C255 56.5 184.008 89 125.796 89C55.5 89 2.78651e-06 72.0001 0 44.0001C-1.84109e-06 25.5001 72.3769 0 137.189 0C202.002 0 284.165 22.25 270.493 40.3281Z\", transform: \"translate(0 99.9999)\", fill: \"#EAC17A\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M256.656 123.303C256.656 143.23 211.803 163.158 127.082 164.404C48.5987 165.557 0 143.23 0 123.303C0 64.8345 43.6066 0 133.311 0C223.016 0 256.656 64.8345 256.656 123.303Z\", transform: \"translate(26.3443 2.85638)\", fill: \"#E1BD7B\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M166.951 122.057C100.918 140.739 25.3333 134.097 0 127.039C89.7049 119.566 115.356 113.806 153.246 93.4111C201.836 67.256 181.902 24.9096 166.951 0C186.885 18.6822 204.328 43.5918 204.328 95.9021C203.082 102.129 194.361 114.302 166.951 122.057Z\", transform: \"translate(78.6721 32.7479)\", fill: \"#CFAE72\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M30.5 175.564C11.5 169.564 3.50001 163.464 0 159.564C-2.68221e-06 158.351 0 158.064 0 157.351C14.9649 150.535 24.6407 147.961 34.7869 144.58C50.9836 12.5587 118.262 5.0858 138.197 1.34936C152.558 -1.34245 178.066 0.420214 190.525 2.91111V5.30307C183.049 6.54874 166.852 10.0704 153.148 15.2671C95.3377 37.1876 72.5793 119.156 69.6721 157.351C54.7213 165.239 37.5 173.564 30.5 175.564Z\", transform: \"translate(9 2.43616)\", fill: \"#AD915F\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M14.2869 164.285C-4.40165 159.303 7.47541 161.512 0 155.285C13.7049 149.057 2.32624 148.394 14.2869 144.409C30.4836 12.3875 97.7623 4.91469 117.697 1.17824C133.644 -1.81091 158.811 1.39569 170.025 5.13196C162.549 6.37762 146.352 9.89933 132.648 15.096C74.8377 37.0165 51.1656 110.998 47.4279 158.326C32.477 166.214 21.7623 163.039 14.2869 164.285Z\", transform: \"translate(29.5 0.21521)\", fill: \"#CFAE72\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M67.9279 13.7003C52.977 10.7111 39.3552 3.32128 34.7869 0C28.5574 1.24548 6.22951 11.2222 0 14.9587C7 23.1587 24.5 30.1587 30.5 31.6587C38 29.1587 53.1432 21.1732 67.9279 13.7003Z\", transform: \"translate(9.00001 144.841)\", fill: \"#E1BD7B\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M0 3.73644C22.9246 3.73644 43.6066 1.24548 51.082 0C51.082 0.2764 52.3279 0.949887 52.3279 1.24548C52.3279 9.8297 51.082 25.7564 51.082 28.6461C40.3189 30.6023 14.0129 33.1877 1.2459 33.628C1.00761 33.6362 0.228282 32.3749 0 32.3825V3.73644Z\", transform: \"translate(154.672 134.877)\", fill: \"#AD915F\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M51.082 28.6461C40.118 30.6388 12.459 31.9674 0 32.3825V3.73644C22.9246 3.73644 43.6066 1.24548 51.082 0V28.6461Z\", transform: \"translate(155.918 136.123)\", fill: \"#C5A56B\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M2.49181 7.47289C10.4656 6.4765 19.1038 2.0758 22.4262 0L23.2984 0.373644L24.1705 0.747289C25.9146 7.88228 27.4098 21.2484 27.4098 24.9096C18.1916 31.3602 8.08792 37.0438 2.4918 38.6099L0 37.7381C0.415301 29.0197 1.49509 10.462 2.49181 7.47289Z\", transform: \"translate(245 117.4)\", fill: \"#AD915F\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M27.4098 25.4077C17.4426 32.3824 4.98361 36.617 0 37.8625C0.415301 29.1441 1.49508 10.9601 2.4918 7.97096C10.4656 6.97457 18.3563 2.0758 21.6787 0C23.3399 6.64257 27.4098 21.4222 27.4098 25.4077Z\", transform: \"translate(247.492 118.148)\", fill: \"#C5A56B\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M0.2748 36.6952C-1.46234 18.9764 5.45728 6.8743 9.22109 3.25526C30.7616 -3.34589 59.5983 1.51809 71.2371 5.3398C70.8897 5.42666 66.2863 6.29523 51.3468 9.76952C24.4211 16.2838 8.35253 28.8781 0.2748 36.6952Z\", transform: \"translate(128.293)\", fill: \"#E1BD7B\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M38.2685 0C19.5942 10.4229 9.98857 14.5613 0 18.9042C6 20.4042 11 21.4042 15.2086 22.2042C20.42 19.5985 39.5713 9.9451 54.337 2.56224C49.9943 1.91083 49.9942 1.91081 38.2692 0.000126629L38.2685 0Z\", transform: \"translate(48 161.596)\", fill: \"#FCF7DE\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M59.1142 3.12681L19 22.9042C22.5 23.4042 22.5 23.4042 26.5 24.0042C33.4486 20.0956 50.5732 11.4651 64.7599 3.64796C59.1142 3.12681 64.7599 3.5611 59.1142 3.12681Z\", transform: \"translate(48 161.596)\", fill: \"#FCF7DE\" }),\r\n                    react_1.default.createElement(\"path\", { d: \"M5.71143 19.8105C15.2114 16.3105 24.2114 10.8105 41.6486 1.73714L36.4371 0C23.9297 6.60114 11.7257 13.6648 0 17.5733L5.71143 19.8105Z\", transform: \"translate(30.2886 155.69)\", fill: \"#FCF7DE\" })))));\r\n    }\r\n}\r\nexports.default = ContributorsBadge;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isContributor = void 0;\r\nlet contributors;\r\nlet fetchPromise;\r\nfunction isContributor(username) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (!contributors) {\r\n            yield (fetchPromise ||\r\n                (fetchPromise = window\r\n                    .fetch('https://raw.githubusercontent.com/codesandbox/codesandbox-client/master/.all-contributorsrc')\r\n                    .then(x => x.json())\r\n                    .then(x => x.contributors.map(u => u.login))\r\n                    .then(names => {\r\n                    contributors = names;\r\n                })\r\n                    .catch(() => { })));\r\n        }\r\n        return contributors && contributors.indexOf(username) > -1;\r\n    });\r\n}\r\nexports.isContributor = isContributor;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MyTemplate = exports.TemplateSubTitle = exports.TemplateTitle = exports.Border = void 0;\r\nconst styled_components_1 = __importStar(require(\"styled-components\"));\r\nconst elements_1 = require(\"../SandboxCard/elements\");\r\nexports.Border = styled_components_1.default.div `\n  ${({ color = `none` }) => styled_components_1.css `\n    position: relative;\n    top: -4px;\n    width: 100%;\n    height: 4px;\n    background: ${color};\n  `}\n`;\r\nexports.TemplateTitle = styled_components_1.default.span `\n  display: block;\n  width: 100%;\n  margin: 6px 12px;\n  font-family: Poppins, Roboto, sans-serif;\n  font-size: 12px;\n  font-weight: 500;\n  text-align: left;\n`;\r\nexports.TemplateSubTitle = styled_components_1.default.span `\n  ${({ theme }) => styled_components_1.css `\n    display: block;\n    width: 100%;\n    height: 16px;\n    padding: 0 12px;\n    margin-bottom: 6px;\n    color: ${theme.placeholder};\n    font-size: 12px;\n    text-align: left;\n    line-height: 16px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    box-sizing: border-box;\n  `}\n`;\r\nexports.MyTemplate = styled_components_1.default.button `\n  ${({ theme, overlayHeight }) => styled_components_1.css `\n    position: relative;\n    width: 203.5px;\n    min-width: 203.5px;\n    padding: 0;\n    border: 2px solid ${theme.background5};\n    border-radius: 4px;\n    background: ${theme.background2};\n    color: ${theme.lightText};\n    cursor: pointer;\n    box-sizing: border-box;\n    overflow: hidden;\n\n    &:focus {\n      border: 2px solid ${theme.secondary};\n      outline: none;\n    }\n\n    img {\n      display: block;\n      max-width: 100%;\n    }\n\n    ${elements_1.Overlay} {\n      height: ${overlayHeight}px;\n      text-align: left;\n    }\n\n    &:hover {\n      ${elements_1.Overlay} {\n        opacity: 1;\n      }\n    }\n  `}\n`;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst Tags_1 = __importDefault(require(\"../Tags\"));\r\nconst elements_1 = require(\"../SandboxCard/elements\");\r\nconst elements_2 = require(\"./elements\");\r\nconst get_sandbox_name_1 = require(\"../../utils/get-sandbox-name\");\r\nconst BANNER = 'https://codesandbox.io/static/img/banner.png';\r\nconst SCREENSHOT_API_URL = (id) => `https://codesandbox.io/api/v1/sandboxes/${id}/screenshot.png`;\r\nconst CustomTemplate = ({ template, onClick, i }) => {\r\n    if (!template) {\r\n        return (react_1.default.createElement(elements_2.MyTemplate, { key: i },\r\n            react_1.default.createElement(\"img\", { height: \"109px\", alt: \"loading\", src: BANNER }),\r\n            react_1.default.createElement(elements_2.Border, null),\r\n            react_1.default.createElement(\"div\", null,\r\n                react_1.default.createElement(elements_2.TemplateTitle, null, \"Loading\"))));\r\n    }\r\n    const { sandbox } = template;\r\n    const title = get_sandbox_name_1.getSandboxName(sandbox);\r\n    return (react_1.default.createElement(elements_2.MyTemplate, { key: i, onClick: onClick, overlayHeight: 109 },\r\n        react_1.default.createElement(\"img\", { height: \"109px\", src: process.env.NODE_ENV === 'development'\r\n                ? BANNER\r\n                : SCREENSHOT_API_URL(sandbox.id) || BANNER, alt: title }),\r\n        react_1.default.createElement(elements_1.Overlay, null,\r\n            react_1.default.createElement(elements_1.SandboxDescription, null, sandbox.description),\r\n            sandbox.tags && react_1.default.createElement(Tags_1.default, { tags: sandbox.tags })),\r\n        react_1.default.createElement(elements_2.Border, { color: template.color }),\r\n        react_1.default.createElement(\"div\", null,\r\n            react_1.default.createElement(elements_2.TemplateTitle, null, title),\r\n            react_1.default.createElement(elements_2.TemplateSubTitle, null, sandbox.description))));\r\n};\r\nexports.default = CustomTemplate;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Container = void 0;\r\nconst styled_components_1 = __importDefault(require(\"styled-components\"));\r\nexports.Container = styled_components_1.default.div `\n  margin-left: 0.25rem;\n  color: ${props => props.theme.primary()};\n`;\r\n","\"use strict\";\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PatronStar = void 0;\r\nconst date_fns_1 = require(\"date-fns\");\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst star_1 = __importDefault(require(\"react-icons/lib/go/star\"));\r\nconst Tooltip_1 = __importDefault(require(\"../Tooltip\"));\r\nconst elements_1 = require(\"./elements\");\r\nexports.PatronStar = (_a) => {\r\n    var { subscriptionSince } = _a, props = __rest(_a, [\"subscriptionSince\"]);\r\n    return (react_1.default.createElement(Tooltip_1.default, { content: `Patron since ${date_fns_1.format(new Date(subscriptionSince), 'MMM yyyy')}` },\r\n        react_1.default.createElement(elements_1.Container, null,\r\n            react_1.default.createElement(star_1.default, Object.assign({}, props)))));\r\n};\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst styled_components_1 = __importDefault(require(\"styled-components\"));\r\nexports.default = styled_components_1.default.div `\n  position: relative;\n`;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Image = exports.SandboxStats = exports.Avatar = exports.Stats = exports.Author = exports.TemplateIcon = exports.SandboxInfo = exports.SandboxImage = exports.SandboxDescription = exports.SandboxTitle = exports.Container = exports.Overlay = exports.BG_HOVER = exports.BG_COLOR = void 0;\r\nconst styled_components_1 = __importStar(require(\"styled-components\"));\r\nconst UserWithAvatar_1 = require(\"../UserWithAvatar\");\r\nexports.BG_COLOR = '#1C2022';\r\nexports.BG_HOVER = '#212629';\r\nexports.Overlay = styled_components_1.default.div `\n  position: absolute;\n  background: rgba(28, 32, 34, 0.9);\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: calc(100% - 3px);\n  padding: 1rem;\n  box-sizing: border-box;\n  opacity: 0;\n  transition: opacity 200ms ease;\n`;\r\nexports.Container = styled_components_1.default.div `\n  transition: 0.3s ease all;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  position: relative;\n  flex: 1;\n  min-width: 300px;\n\n  flex-grow: 1;\n  width: 100%;\n  border-radius: 4px;\n  overflow: hidden;\n  cursor: pointer;\n\n  margin-right: 0.5rem;\n  margin-left: 0.5rem;\n\n  background-color: ${exports.BG_COLOR};\n  box-shadow: 0 0 0 rgba(0, 0, 0, 0.3);\n\n  ${props => props.small &&\r\n    styled_components_1.css `\n      min-width: auto;\n    `};\n\n  ${props => props.noMargin &&\r\n    styled_components_1.css `\n      margin: 0;\n    `};\n\n  &:hover {\n    ${exports.Overlay} {\n      opacity: 1;\n    }\n  }\n\n  &:hover {\n    background-color: ${exports.BG_HOVER};\n    transform: translateY(-5px);\n    box-shadow: 0 8px 4px rgba(0, 0, 0, 0.3);\n  }\n\n  &:last-child {\n    flex-grow: 0;\n    min-width: calc(33% - 1rem);\n  }\n`;\r\nexports.SandboxTitle = styled_components_1.default.h2 `\n  color: ${props => props.color};\n  font-family: 'Poppins', sans-serif;\n  font-size: 0.75rem;\n  font-weight: 600;\n  margin-bottom: 6px;\n  margin-top: 0;\n\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n  max-height: 20px;\n\n  word-break: break-all;\n`;\r\nexports.SandboxDescription = styled_components_1.default.p `\n  font-size: 0.8rem;\n  color: ${props => props.theme.lightText};\n  font-weight: 500;\n  line-height: 1.3;\n  margin: 0;\n  margin-bottom: 16px;\n  font-size: 12px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 5;\n  max-height: 100%;\n\n  word-break: break-all;\n`;\r\nexports.SandboxImage = styled_components_1.default.img `\n  display: block;\n  margin-bottom: 0;\n  z-index: 0;\n  border-bottom: 3px solid ${props => props.color};\n  height: auto;\n  width: 100%;\n  background-color: ${exports.BG_HOVER};\n  border-image-width: 0;\n`;\r\nexports.SandboxInfo = styled_components_1.default.div `\n  left: -1px;\n  right: -1px;\n  padding: 0.75rem;\n  padding-bottom: 4px;\n  z-index: 1;\n  display: flex;\n  justify-content: space-between;\n`;\r\nexports.TemplateIcon = styled_components_1.default.div `\n  display: flex;\n`;\r\nexports.Author = styled_components_1.default(UserWithAvatar_1.UserWithAvatar) `\n  font-size: 0.75rem;\n  font-weight: 600;\n  text-decoration: none;\n  color: #777788;\n`;\r\nexports.Stats = styled_components_1.default.ul `\n  list-style: none;\n  padding: 0;\n  display: flex;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-size: 12px;\n  line-height: 16px;\n  display: flex;\n  align-items: center;\n\n  color: ${props => props.theme.placeholder};\n\n  li:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  li {\n    display: flex;\n    align-items: center;\n\n    svg {\n      margin-right: 6px;\n      width: 16px;\n      color: ${props => props.theme.placeholder.darken(0.3)};\n    }\n  }\n`;\r\nexports.Avatar = styled_components_1.default.img `\n  width: 1rem;\n  height: 1rem;\n  border-radius: 4px;\n`;\r\nexports.SandboxStats = styled_components_1.default.div `\n  display: flex;\n  padding: 0.75rem;\n  justify-content: space-between;\n`;\r\nexports.Image = styled_components_1.default.div `\n  position: relative;\n  font-size: 10px;\n`;\r\n","\"use strict\";\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Scrollable = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst elements_1 = require(\"./elements\");\r\nexports.Scrollable = (_a) => {\r\n    var { TrackX = elements_1.BaseTrackX, TrackY = elements_1.BaseTrackY, ThumbX = elements_1.BaseThumbX, ThumbY = elements_1.BaseThumbY, Wrapper = elements_1.BaseWrapper, Scroller = elements_1.BaseScroller } = _a, props = __rest(_a, [\"TrackX\", \"TrackY\", \"ThumbX\", \"ThumbY\", \"Wrapper\", \"Scroller\"]);\r\n    return (react_1.default.createElement(elements_1.Container, Object.assign({}, props, { trackXProps: {\r\n            renderer: (_a) => {\r\n                var { elementRef } = _a, itemProps = __rest(_a, [\"elementRef\"]);\r\n                return (react_1.default.createElement(TrackX, Object.assign({ ref: elementRef }, itemProps)));\r\n            },\r\n        }, trackYProps: {\r\n            renderer: (_a) => {\r\n                var { elementRef } = _a, itemProps = __rest(_a, [\"elementRef\"]);\r\n                return (react_1.default.createElement(TrackY, Object.assign({ ref: elementRef }, itemProps)));\r\n            },\r\n        }, thumbXProps: {\r\n            renderer: (_a) => {\r\n                var { elementRef } = _a, itemProps = __rest(_a, [\"elementRef\"]);\r\n                return (react_1.default.createElement(ThumbX, Object.assign({ ref: elementRef }, itemProps)));\r\n            },\r\n        }, thumbYProps: {\r\n            renderer: (_a) => {\r\n                var { elementRef } = _a, itemProps = __rest(_a, [\"elementRef\"]);\r\n                return (react_1.default.createElement(ThumbY, Object.assign({ ref: elementRef }, itemProps)));\r\n            },\r\n        }, wrapperProps: {\r\n            renderer: (_a) => {\r\n                var { elementRef } = _a, itemProps = __rest(_a, [\"elementRef\"]);\r\n                return (react_1.default.createElement(Wrapper, Object.assign({ ref: elementRef }, itemProps)));\r\n            },\r\n        }, scrollerProps: {\r\n            renderer: (_a) => {\r\n                var { elementRef } = _a, itemProps = __rest(_a, [\"elementRef\"]);\r\n                return (react_1.default.createElement(Scroller, Object.assign({ ref: elementRef }, itemProps)));\r\n            },\r\n        } })));\r\n};\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BaseWrapper = exports.BaseThumbY = exports.BaseThumbX = exports.BaseTrackY = exports.BaseTrackX = exports.BaseScroller = exports.Container = void 0;\r\nconst styled_components_1 = __importStar(require(\"styled-components\"));\r\nconst react_scrollbars_custom_1 = require(\"react-scrollbars-custom\");\r\nexports.Container = styled_components_1.default(react_scrollbars_custom_1.Scrollbar) `\n  flex: 1 1 auto;\n`;\r\nexports.BaseScroller = styled_components_1.default.span `\n  ::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n`;\r\nconst thumb = ({ position = true } = {}) => styled_components_1.css `\n  ${position ? `width` : `height`}: 0.8rem;\n  border-radius: 50px;\n  border: 0.5px solid rgba(255, 255, 255, 0.8);\n  background: rgba(36, 36, 36, 0.4);\n  box-sizing: border-box;\n  opacity: 0.4;\n  cursor: pointer;\n  transition: opacity 0.1s ease-in-out;\n\n  &:hover,\n  &:active {\n    opacity: 1;\n  }\n`;\r\nconst track = ({ position = true } = {}) => styled_components_1.css `\n  ${position ? `top` : `bottom`}: 0;\n  ${position ? `right` : `left`}: 0;\n  display: flex;\n  ${position ? `justify-content` : `align-items`}: center;\n  ${position ? `width: 0.5rem !important` : `height: 0.5rem !important`};\n  padding: 0.25rem;\n  background-color: transparent !important;\n  cursor: pointer;\n`;\r\nexports.BaseTrackX = styled_components_1.default.span `\n  ${track({ position: false })}\n`;\r\nexports.BaseTrackY = styled_components_1.default.span `\n  ${track({ position: true })}\n\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: -1rem;\n    right: 0;\n    width: 1rem;\n    height: 1rem;\n    background-color: rgba(255, 255, 255, 0.35);\n    user-select: none;\n    speak: none;\n  }\n`;\r\nexports.BaseThumbX = styled_components_1.default.span `\n  ${thumb({ position: false })}\n`;\r\nexports.BaseThumbY = styled_components_1.default.span `\n  ${thumb({ position: true })}\n`;\r\nexports.BaseWrapper = styled_components_1.default.span `\n  /* We want to overlay the scrollbar */\n  right: 0 !important;\n  bottom: 0 !important;\n`;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Scrollable_1 = require(\"./Scrollable\");\r\nObject.defineProperty(exports, \"Scrollable\", { enumerable: true, get: function () { return Scrollable_1.Scrollable; } });\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst elements_1 = require(\"./elements\");\r\nfunction Tag({ tag, removeTag }) {\r\n    return (react_1.default.createElement(elements_1.Container, { canRemove: Boolean(removeTag) },\r\n        tag,\r\n        removeTag && (react_1.default.createElement(elements_1.DeleteIcon, { onClick: () => {\r\n                removeTag({ tag });\r\n            } }))));\r\n}\r\nexports.default = Tag;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DeleteIcon = exports.Container = exports.TagContainer = void 0;\r\nconst styled_components_1 = __importStar(require(\"styled-components\"));\r\nconst clear_1 = __importDefault(require(\"react-icons/lib/md/clear\"));\r\nexports.TagContainer = styled_components_1.default.div `\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  margin-left: -0.2rem;\n  margin-right: -0.2rem;\n  ${props => props.align === 'right' && `justify-content: flex-end;`};\n`;\r\nexports.Container = styled_components_1.default.span `\n  position: relative;\n  color: white;\n  background-color: ${props => props.theme.secondary};\n  padding: 0.3em 0.5em;\n  border-radius: 4px;\n  font-weight: 500;\n\n  ${props => props.canRemove &&\r\n    styled_components_1.css `\n      padding-right: 1.5rem;\n    `};\n`;\r\nexports.DeleteIcon = styled_components_1.default(clear_1.default) `\n  transition: 0.3s ease all;\n  position: absolute;\n  right: 0.3rem;\n  top: 0;\n  bottom: 0;\n\n  margin: auto;\n  cursor: pointer;\n  color: rgba(255, 255, 255, 0.5);\n\n  &:hover {\n    color: white;\n  }\n`;\r\n","\"use strict\";\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/* @flow */\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst Margin_1 = __importDefault(require(\"../spacing/Margin\"));\r\nconst elements_1 = require(\"./elements\");\r\nconst Tag_1 = __importDefault(require(\"./Tag\"));\r\nfunction Tags(_a) {\r\n    var { tags, align } = _a, props = __rest(_a, [\"tags\", \"align\"]);\r\n    return (react_1.default.createElement(elements_1.TagContainer, Object.assign({ align: align || 'left' }, props), tags\r\n        .slice()\r\n        .sort()\r\n        .map(tag => (react_1.default.createElement(Margin_1.default, { key: tag, vertical: 0.5, horizontal: 0.2 },\r\n        react_1.default.createElement(Tag_1.default, { tag: tag }))))));\r\n}\r\nexports.default = Tags;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ContributorsBadge = exports.Image = exports.Username = exports.Names = exports.AuthorName = exports.CenteredText = void 0;\r\nconst styled_components_1 = __importStar(require(\"styled-components\"));\r\nconst ContributorsBadge_1 = __importDefault(require(\"../ContributorsBadge\"));\r\nexports.CenteredText = styled_components_1.default.div `\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: row;\n`;\r\nexports.AuthorName = styled_components_1.default.span `\n  display: inline-flex;\n  align-items: center;\n  margin: 0 0.75em;\n\n  ${props => props.useBigName &&\r\n    styled_components_1.css `\n      margin: 0 0.75em;\n      font-size: 1rem;\n    `};\n`;\r\nexports.Names = styled_components_1.default.div `\n  display: inline-flex;\n\n  flex-direction: column;\n`;\r\nexports.Username = styled_components_1.default.div `\n  ${props => props.hasTwoNames &&\r\n    styled_components_1.css `\n      opacity: 0.7;\n      font-size: 0.75em;\n    `};\n`;\r\nexports.Image = styled_components_1.default.img `\n  width: 1.75em;\n  height: 1.75em;\n  border-radius: 2px;\n  border: 2px solid rgba(255, 255, 255, 0.5);\n`;\r\nexports.ContributorsBadge = styled_components_1.default(ContributorsBadge_1.default) `\n  margin: 0 0.5rem;\n  font-size: 1.25em;\n`;\r\n","\"use strict\";\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.UserWithAvatar = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst PatronStar_1 = require(\"../PatronStar\");\r\nconst elements_1 = require(\"./elements\");\r\nexports.UserWithAvatar = (_a) => {\r\n    var { avatarUrl, username, name, hideBadge, subscriptionSince, useBigName } = _a, props = __rest(_a, [\"avatarUrl\", \"username\", \"name\", \"hideBadge\", \"subscriptionSince\", \"useBigName\"]);\r\n    return (react_1.default.createElement(elements_1.CenteredText, Object.assign({}, props),\r\n        avatarUrl && react_1.default.createElement(elements_1.Image, { src: avatarUrl, alt: username }),\r\n        react_1.default.createElement(elements_1.AuthorName, { useBigName: useBigName },\r\n            react_1.default.createElement(elements_1.Names, null,\r\n                name && react_1.default.createElement(\"div\", null, name),\r\n                username && (react_1.default.createElement(elements_1.Username, { hasTwoNames: Boolean(name && username) }, username))),\r\n            subscriptionSince && (react_1.default.createElement(PatronStar_1.PatronStar, { style: { fontSize: '1.125em', marginBottom: '0.1em' }, subscriptionSince: subscriptionSince })),\r\n            !hideBadge && react_1.default.createElement(elements_1.ContributorsBadge, { username: username }))));\r\n};\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst styled_components_1 = __importStar(require(\"styled-components\"));\r\nconst Container = styled_components_1.default.div `\n  box-sizing: border-box;\n  display: flex;\n\n  padding: 0 2rem;\n\n  width: 100%;\n  justify-content: center;\n\n  ${props => props.responsive &&\r\n    styled_components_1.css `\n      @media (max-width: 768px) {\n        padding: 0;\n      }\n    `};\n`;\r\nconst InnerContainer = styled_components_1.default.div `\n  width: 100%;\n  max-width: ${props => props.width}px;\n`;\r\nexports.default = ({ children, width = 1280, className, responsive = false, }) => (react_1.default.createElement(Container, { responsive: responsive },\r\n    react_1.default.createElement(InnerContainer, { className: className, width: width }, children)));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst styled_components_1 = __importDefault(require(\"styled-components\"));\r\nexports.default = styled_components_1.default.div `\n  display: flex;\n  flex-direction: row;\n\n  justify-content: ${props => props.justifyContent || 'flex-start'};\n  align-items: ${props => props.alignItems || 'center'};\n`;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ChatIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.ChatIcon = props => (react_1.default.createElement(IconBase_1.default, Object.assign({ fill: \"none\", viewBox: \"0 0 24 24\" }, props),\r\n    react_1.default.createElement(\"g\", { clipRule: \"evenodd\", fill: \"currentColor\", fillRule: \"evenodd\" },\r\n        react_1.default.createElement(\"path\", { d: \"m3.00015 10.9353c-.0001-.0135-.00015-.027-.00015-.0406 0-2.87766 2.33283-5.2105 5.21053-5.2105 2.87767 0 5.21057 2.33284 5.21057 5.2105 0 2.8777-2.3328 5.2105-5.21042 5.2106h-5.21053z\" }),\r\n        react_1.default.createElement(\"path\", { d: \"m12.1553 15.6235c1.3526-1.1296 2.2131-2.8287 2.2131-4.7287 0-.6412-.098-1.25959-.2799-1.84088.6513-.33712 1.3907-.52755 2.1746-.52755 2.6161 0 4.7369 2.12073 4.7369 4.73683l-.0001.0223v4.7145h-4.7144l-.0224.0001c-1.7566 0-3.29-.9563-4.1078-2.3766z\", fillOpacity: \".4\" }))));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CogIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.CogIcon = props => (react_1.default.createElement(IconBase_1.default, Object.assign({ fill: \"none\", viewBox: \"0 0 24 24\" }, props),\r\n    react_1.default.createElement(\"path\", { clipRule: \"evenodd\", d: \"m13.0028 4h-2.4615l-.3702 1.48071c-.60683.16989-1.17922.42223-1.70433.74419l-1.25338-.75203-1.74056 1.74057.75204 1.2534c-.36472.59489-.6401 1.25046-.80748 1.94806l-1.41739.3543v2.4616l1.41741.3543c.16737.6976.44276 1.3532.80748 1.9481l-.75204 1.2534 1.74056 1.7406 1.2534-.7521c.59489.3647 1.25047.6401 1.94809.8075l.3543 1.4174h2.4616l.3543-1.4174c.6976-.1674 1.3532-.4428 1.9481-.8075l1.2534.752 1.7405-1.7405-.752-1.2534c.3647-.5949.6401-1.2505.8075-1.9481l1.4174-.3543v-2.4616l-1.4174-.3543c-.1674-.69762-.4427-1.35321-.8075-1.9481l.7521-1.25338-1.7406-1.74057-1.2534.75202c-.663-.40649-1.4014-.70202-2.1893-.86072zm-1.0028 11.4286c1.8936 0 3.4286-1.5351 3.4286-3.4286 0-1.8936-1.535-3.42858-3.4286-3.42858-1.8935 0-3.42856 1.53498-3.42856 3.42858 0 1.8935 1.53506 3.4286 3.42856 3.4286z\", fill: \"currentColor\", fillRule: \"evenodd\" })));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CuratorIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.CuratorIcon = props => (react_1.default.createElement(IconBase_1.default, Object.assign({ fill: \"none\", viewBox: \"0 0 24 24\" }, props),\r\n    react_1.default.createElement(\"path\", { d: \"m11.2374 7.49606c.0925 0 .1495-.05696.1637-.14951.2137-1.17486.2065-1.18909 1.4383-1.43119.0855-.01424.1496-.0712.1496-.17089 0-.09255-.0641-.14952-.1567-.16376-1.2247-.23496-1.1962-.25633-1.4312-1.43118-.0142-.09256-.0712-.14953-.1637-.14953-.0926 0-.1495.05697-.1638.14953-.235 1.16061-.1994 1.18197-1.43829 1.43118-.09256.01424-.14952.07121-.14952.16376 0 .09969.05696.15665.15665.17089 1.23176.2421 1.21756.25633 1.43116 1.43119.0143.09255.0712.14951.1638.14951zm-3.45337 4.98424c.14241 0 .25633-.0997.27058-.2421.24921-1.8869.30617-1.894 2.27139-2.26427.1353-.02135.2421-.12104.2421-.27056 0-.14241-.1068-.24922-.2421-.27058-1.95811-.27057-2.02218-.32753-2.27139-2.25001-.01425-.14953-.12105-.24922-.27058-.24922s-.2492.09969-.27056.25633c-.22785 1.87977-.32042 1.87977-2.27138 2.2429-.13528.02848-.24209.12817-.24209.27058 0 .15664.10681.24921.27769.27056 1.92248.30617 2.00793.36317 2.23578 2.24997.02136.1567.12103.2564.27056.2564zm4.93437 7.8679c.2065 0 .3631-.1495.3916-.3631.5198-3.8592 1.0609-4.4645 4.8774-4.8846.2279-.0284.3773-.1922.3773-.3987s-.1494-.3703-.3773-.3987c-3.7951-.4415-4.3362-1.0111-4.8774-4.88456-.0285-.2136-.1851-.36313-.3916-.36313s-.356.14953-.3916.36313c-.5127 3.85926-1.0609 4.46446-4.87742 4.88456-.22073.0284-.37738.1922-.37738.3987s.15665.3703.37738.3987c3.78802.5056 4.31492 1.0111 4.87742 4.8846.0356.2136.1922.3631.3916.3631z\", fill: \"currentColor\" })));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DashboardIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.DashboardIcon = props => (react_1.default.createElement(IconBase_1.default, Object.assign({ fill: \"none\", viewBox: \"0 0 24 24\" }, props),\r\n    react_1.default.createElement(\"path\", { clipRule: \"evenodd\", d: \"m4 3c-.55228 0-1 .44771-1 1v7.8999c0 .5523.44771 1 1 1h6.0999c.5523 0 1-.4477 1-1v-7.8999c0-.55228-.4477-1-1-1zm9.9 0c-.5523 0-1 .44771-1 1v4.29994c0 .55228.4477 1 1 1h6.0999c.5523 0 1-.44772 1-1v-4.29994c0-.55228-.4477-1-1-1zm-1 9.0999c0-.5522.4477-1 1-1h6.0999c.5523 0 1 .4478 1 1v7.8999c0 .5523-.4477 1-1 1h-6.0999c-.5523 0-1-.4477-1-1zm-8.9 2.5999c-.55228 0-1 .4477-1 1v4.2999c0 .5523.44771 1 1 1h6.0999c.5523 0 1-.4477 1-1v-4.2999c0-.5523-.4477-1-1-1z\", fill: \"currentColor\", fillRule: \"evenodd\" })));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DocumentationIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.DocumentationIcon = props => (react_1.default.createElement(IconBase_1.default, { fill: \"none\", viewBox: \"0 0 24 24\" },\r\n    react_1.default.createElement(\"g\", { fill: \"currentColor\" },\r\n        react_1.default.createElement(\"path\", { d: \"m11.4707 19v-12.58019c0-3.35473-8.47058-2.09672-8.47058-1.57253l-.00001 12.05612c6.47751 0 5.35721 1.2778 8.47059 2.0966z\" }),\r\n        react_1.default.createElement(\"path\", { d: \"m12.5293 19v-12.58019c0-3.35473 8.4706-2.09672 8.4706-1.57253v12.05612c-6.4775 0-5.3572 1.2778-8.4706 2.0966z\", fillOpacity: \".4\" }))));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ExitIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.ExitIcon = props => (react_1.default.createElement(IconBase_1.default, Object.assign({ fill: \"none\", viewBox: \"0 0 24 24\" }, props),\r\n    react_1.default.createElement(\"path\", { clipRule: \"evenodd\", d: \"m17.1074 7h-2.1072-2.1072-1.6694c.3189-.59519.9469-1 1.6694-1h4.2144c1.0454 0 1.8928.84743 1.8928 1.89278v8.21442c0 1.0454-.8474 1.8928-1.8928 1.8928h-4.2144c-.7225 0-1.3505-.4048-1.6694-1h1.6694 2.1072 2.1072c.4931 0 .8928-.3997.8928-.8928v-8.21442c0-.49307-.3997-.89278-.8928-.89278zm-13.91397 5.4801 4.20282 4.321c.2579.2652.67605.2652.93395 0 .25791-.2651.25791-.695 0-.9602l-3.22644-3.3608 9.89624.0755v-1.1112h-9.89624l3.22644-3.2853c.25791-.26516.25791-.69507 0-.96023-.2579-.26516-.67605-.26516-.93395 0l-4.20282 4.32103c-.25791.2651-.25791.6951 0 .9602z\", fill: \"currentColor\", fillRule: \"evenodd\" })));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FolderIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.FolderIcon = props => (react_1.default.createElement(IconBase_1.default, Object.assign({ fill: \"none\", viewBox: \"0 0 24 24\" }, props),\r\n    react_1.default.createElement(\"path\", { d: \"m11.6947 6.82443.1324.11104h.1729 7.0493c.2626 0 .4754.21281.4754.47533v9.5022c0 .2625-.2128.4753-.4754.4753h-14.09864c-.26252 0-.47533-.2128-.47533-.4753v-11.0987c0-.26251.21281-.47532.47533-.47532h4.79887c.11166 0 .21975.03931.30537.11103z\", fill: \"currentColor\", stroke: \"currentColor\", strokeWidth: \".950657\" })));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GlobeIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.GlobeIcon = () => (react_1.default.createElement(IconBase_1.default, { viewBox: \"0 0 12 12\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\r\n    react_1.default.createElement(\"path\", { d: \"M11.1955 2.98822C10.659 2.06901 9.93117 1.34121 9.01193 0.80469C8.09253 0.268194 7.08887 0 6.00019 0C4.91162 0 3.90777 0.268194 2.98843 0.80469C2.06913 1.34113 1.34133 2.06893 0.804776 2.98822C0.268195 3.90756 0 4.91152 0 6C0 7.08848 0.268277 8.09233 0.804694 9.01173C1.34122 9.93074 2.06902 10.6587 2.98832 11.1953C3.90766 11.7318 4.91154 12 6.00008 12C7.08862 12 8.09261 11.7318 9.0119 11.1953C9.93114 10.6589 10.6589 9.93093 11.1954 9.01173C11.7318 8.09233 12 7.0884 12 6C12 4.91152 11.7318 3.90743 11.1955 2.98822ZM6.75062 9.15686C6.69828 9.0945 6.68019 9.04232 6.69592 9.00048C6.6907 9.02658 6.67244 9.05001 6.64125 9.07078C6.61523 9.03958 6.56819 9.00048 6.50057 8.95366C6.43276 8.90662 6.38597 8.86765 6.35992 8.83621C6.34941 8.82067 6.33521 8.79856 6.31693 8.76991C6.29868 8.74126 6.27528 8.70353 6.24663 8.6566C6.21815 8.60978 6.19735 8.56933 6.18427 8.5354C6.17133 8.50152 6.17012 8.48204 6.18033 8.47698C6.08144 8.51874 5.93816 8.49009 5.75069 8.391C5.71426 8.37021 5.65948 8.31551 5.58661 8.22693C5.51374 8.13835 5.43819 8.09939 5.36004 8.1097C5.33404 8.11493 5.29885 8.12401 5.25455 8.13704C5.21036 8.15015 5.17257 8.15652 5.14129 8.15652C5.11001 8.15652 5.06834 8.14623 5.01624 8.12522C4.97464 8.1097 4.91866 8.07963 4.84833 8.03544C4.77806 7.99124 4.72982 7.96372 4.70385 7.95351C4.63615 7.91698 4.6023 7.89881 4.6023 7.89881L4.4773 7.83645C4.44602 7.82093 4.41343 7.79617 4.37958 7.76229C4.34574 7.72839 4.32368 7.6932 4.31325 7.65675C4.30286 7.62558 4.28983 7.56303 4.27421 7.4692C4.25858 7.37534 4.2377 7.30775 4.21171 7.26615C4.18051 7.21411 4.13624 7.16201 4.07888 7.10996C4.02166 7.05792 3.96959 7.03167 3.92269 7.03167C3.96439 7.03167 3.96439 6.99676 3.92269 6.92624C3.88098 6.85581 3.84454 6.80505 3.81326 6.77399C3.80283 6.76348 3.77156 6.72969 3.71948 6.67228C3.66741 6.61495 3.62313 6.56561 3.58668 6.52375C3.55026 6.4821 3.51888 6.43396 3.49291 6.37918C3.46691 6.32448 3.46163 6.27898 3.47728 6.24244C3.48246 6.2373 3.47728 6.22942 3.46163 6.21905C3.44601 6.20876 3.42655 6.19817 3.40304 6.18777C3.37965 6.17745 3.35748 6.16829 3.33671 6.16043C3.31578 6.15275 3.30016 6.1488 3.28978 6.1488C3.30027 6.16979 3.31195 6.20745 3.325 6.26212C3.33803 6.3169 3.35234 6.35729 3.36794 6.38331C3.37842 6.40411 3.42264 6.47974 3.50076 6.60972C3.63627 6.82847 3.69866 6.99011 3.68831 7.09423C3.65704 7.10454 3.63616 7.09945 3.62576 7.07869C3.61533 7.05792 3.60745 7.02924 3.60231 6.99273C3.59711 6.9564 3.59197 6.93037 3.58666 6.91464C3.57103 6.88336 3.53067 6.84946 3.46552 6.81293C3.40044 6.77661 3.36003 6.74008 3.34443 6.70355C3.34968 6.70355 3.35609 6.70112 3.36397 6.6957C3.37182 6.69047 3.37839 6.68804 3.38353 6.68804C3.38882 6.64119 3.36148 6.58129 3.30155 6.50823C3.24162 6.43539 3.217 6.38334 3.22734 6.35204C3.18564 6.32076 3.14919 6.25952 3.11791 6.16851C3.08666 6.0773 3.06058 6.01866 3.03976 5.99258C3.01896 5.96144 2.99299 5.93411 2.96169 5.9106C2.93041 5.88723 2.89142 5.86121 2.84449 5.83253C2.79762 5.80388 2.76634 5.7844 2.75071 5.77395C2.74026 5.76883 2.71949 5.74549 2.68821 5.70379C2.51637 5.49538 2.46429 5.38338 2.53202 5.36778C2.46432 5.38338 2.40831 5.33265 2.36403 5.21537C2.31973 5.09822 2.30545 5.00828 2.32104 4.94581L2.30545 4.93803C2.3107 4.91716 2.31327 4.85605 2.31327 4.7544C2.31327 4.65279 2.31984 4.56033 2.33284 4.47703C2.34592 4.39371 2.37063 4.35198 2.40705 4.35198C2.37063 4.35718 2.34332 4.32456 2.32507 4.25437C2.30684 4.18399 2.30556 4.13578 2.32113 4.10978C2.32632 4.09413 2.34983 4.10467 2.39145 4.14106C2.43304 4.1774 2.45652 4.20099 2.46172 4.21133C2.52945 4.17477 2.55553 4.12798 2.53987 4.07063C2.52945 4.04983 2.47475 3.99516 2.3758 3.90655C2.1518 3.76078 2.03717 3.69043 2.03205 3.69558C2.06319 3.63836 2.05542 3.58888 2.00855 3.54715C1.9565 3.57843 1.92656 3.5862 1.91871 3.57066C1.91094 3.55501 1.90443 3.52647 1.89915 3.48474C1.894 3.44312 1.88092 3.41969 1.86015 3.41447C1.83407 3.40927 1.8028 3.38847 1.76638 3.352C2.22989 2.6124 2.84186 2.03429 3.60231 1.61753C3.63353 1.61239 3.6908 1.60976 3.77413 1.60976C3.81575 1.61496 3.85485 1.62802 3.89127 1.64881C3.92775 1.66961 3.96554 1.69831 4.00453 1.73473C4.04366 1.77107 4.0736 1.79715 4.0944 1.8128C4.10482 1.78153 4.09182 1.73465 4.05538 1.67215C4.06572 1.64088 4.12305 1.6096 4.22722 1.57838C4.34694 1.56275 4.42515 1.5653 4.46157 1.58623C4.43037 1.53933 4.37833 1.4742 4.30537 1.39091L4.26632 1.4299C4.22462 1.39348 4.11533 1.41168 3.9382 1.4846C3.92786 1.48975 3.90178 1.50417 3.86008 1.52753C3.81846 1.55093 3.7845 1.5679 3.75853 1.57829C3.72725 1.58872 3.69603 1.59132 3.66475 1.58612C3.91472 1.45075 4.15958 1.34381 4.3992 1.26577C4.41469 1.27612 4.4408 1.29828 4.47727 1.3321C4.5137 1.36595 4.54235 1.39074 4.5632 1.40631C4.54757 1.39597 4.53712 1.40106 4.53192 1.42194C4.51112 1.48441 4.51112 1.53648 4.53192 1.57813C4.55792 1.61469 4.59311 1.6354 4.63741 1.64068C4.68171 1.64583 4.73504 1.64326 4.79754 1.6328C4.86004 1.62246 4.90177 1.61718 4.9226 1.61718L5.00075 1.62506C5.16737 1.64068 5.23252 1.62506 5.19607 1.57813C5.21167 1.59906 5.22989 1.642 5.25072 1.70712C5.27151 1.77225 5.29502 1.81784 5.32099 1.84389C5.34707 1.82296 5.35227 1.78653 5.33661 1.73446C5.32099 1.68239 5.32099 1.64583 5.33661 1.62503C5.34176 1.61469 5.35741 1.60415 5.38349 1.59376C5.40957 1.58341 5.43948 1.5717 5.47335 1.55867C5.5072 1.5456 5.52934 1.53651 5.53985 1.53134C5.57107 1.51046 5.55019 1.47398 5.47729 1.42191C5.46687 1.41668 5.44478 1.40889 5.41096 1.39846C5.37711 1.3882 5.34709 1.37764 5.3211 1.36726C5.2951 1.35692 5.26777 1.34255 5.23912 1.32433C5.21047 1.30608 5.19741 1.28528 5.19996 1.26178C5.20259 1.23827 5.21698 1.20839 5.24295 1.17191C5.27422 1.14595 5.32504 1.13549 5.39531 1.14069C5.46558 1.14584 5.51902 1.15883 5.55544 1.17968C5.69615 1.25784 5.71692 1.32827 5.618 1.39066C5.67015 1.39581 5.73265 1.41666 5.80555 1.45308C5.87839 1.48958 5.90704 1.52866 5.89147 1.57036C5.93315 1.49224 5.97477 1.45308 6.0165 1.45308C6.0425 1.45836 6.06734 1.49355 6.09071 1.55865C6.11411 1.62372 6.12839 1.65885 6.13356 1.66414C6.17532 1.72135 6.21672 1.73441 6.25867 1.70313C6.30027 1.67191 6.34334 1.62635 6.38753 1.56642C6.43172 1.50657 6.45646 1.47924 6.46171 1.48444C6.40964 1.46369 6.40419 1.44282 6.44617 1.42197C6.52408 1.37509 6.59451 1.36204 6.65706 1.38297C6.67258 1.39331 6.69357 1.41682 6.7194 1.45316C6.76614 1.54705 6.75837 1.59124 6.696 1.58604C6.74282 1.62774 6.76222 1.67987 6.75464 1.74229C6.74679 1.80479 6.70621 1.83346 6.63337 1.82821C6.60743 1.82821 6.5695 1.81513 6.51994 1.78916C6.4705 1.76317 6.43276 1.74888 6.40663 1.74623C6.38061 1.74352 6.34408 1.75788 6.29726 1.78916C6.27646 1.81524 6.24912 1.85954 6.21522 1.92199C6.18134 1.98459 6.15135 2.02879 6.12533 2.05478C6.04726 2.13291 5.91692 2.16161 5.73465 2.14071C5.7503 2.14071 5.74894 2.15633 5.73071 2.18761C5.7124 2.21883 5.68778 2.25405 5.6565 2.29307C5.62522 2.33212 5.607 2.35425 5.60185 2.35945C5.55495 2.41153 5.52373 2.47145 5.50808 2.53915C5.50808 2.54958 5.50545 2.58477 5.5002 2.64458C5.49492 2.70451 5.48457 2.75015 5.46892 2.78135C5.53142 2.76572 5.58092 2.79708 5.61734 2.87512C5.64862 2.94808 5.64862 2.98713 5.61734 2.99238C5.78927 2.96644 5.94032 2.97678 6.07063 3.02366C6.2581 3.09135 6.36504 3.15905 6.39106 3.22678C6.42217 3.17985 6.49764 3.17719 6.6175 3.2189C6.6644 3.24489 6.70588 3.32313 6.74258 3.45324C6.76337 3.53131 6.79859 3.59909 6.84804 3.65634C6.89759 3.71361 6.95087 3.72921 7.00825 3.70321L7.0316 3.68759C7.05247 3.67724 7.06933 3.66808 7.08233 3.66028C7.09544 3.65251 7.10967 3.64205 7.12521 3.629C7.14094 3.61597 7.15011 3.60426 7.15255 3.59392C7.15498 3.58352 7.15123 3.57299 7.14094 3.56264C7.10441 3.53137 7.07708 3.48843 7.05891 3.43381C7.04085 3.37911 7.04476 3.3309 7.07073 3.28917C7.08624 3.26837 7.12795 3.23709 7.19562 3.19539C7.26342 3.15366 7.3051 3.11204 7.32062 3.07037C7.34171 3.00267 7.31547 2.94665 7.2426 2.90232C7.16967 2.85813 7.13314 2.81777 7.13314 2.78124C7.13314 2.75516 7.15008 2.72397 7.18388 2.68746C7.21786 2.65104 7.2322 2.61708 7.22687 2.58592C7.22687 2.57018 7.21767 2.5377 7.1995 2.4882C7.18144 2.43862 7.17085 2.40219 7.16831 2.37877C7.16568 2.35532 7.1775 2.32798 7.20341 2.29679C7.23975 2.27591 7.32573 2.27722 7.46113 2.30062C7.59655 2.32413 7.68516 2.34886 7.72692 2.37483C7.74262 2.38517 7.77645 2.40083 7.82852 2.42173C7.88057 2.44242 7.92618 2.46456 7.96534 2.48809C8.0042 2.51149 8.02636 2.53354 8.03153 2.55442H7.99257C8.02899 2.58578 8.05121 2.62212 8.05887 2.66385C8.06675 2.70566 8.04727 2.73683 8.00045 2.75773C8.03153 2.75245 8.07337 2.76031 8.12545 2.78113C8.2088 2.81235 8.21142 2.84106 8.1333 2.86705C8.14884 2.86177 8.17095 2.85665 8.19952 2.8514C8.22817 2.8462 8.2502 2.83835 8.26591 2.828C8.27622 2.82275 8.2893 2.81372 8.30487 2.80064C8.32061 2.78762 8.33221 2.77976 8.34009 2.77727C8.34794 2.7747 8.35954 2.77199 8.37528 2.76939C8.39082 2.76682 8.40639 2.77076 8.42191 2.7811C8.42735 2.7811 8.43896 2.76805 8.45712 2.74205C8.47519 2.71609 8.49497 2.69001 8.51566 2.66401C8.53656 2.63802 8.55462 2.62502 8.57036 2.62502C8.58579 2.62502 8.60024 2.63142 8.61313 2.64445C8.62632 2.65753 8.63652 2.67178 8.64443 2.68744C8.65229 2.70309 8.65995 2.72003 8.66783 2.73814C8.67568 2.75637 8.68206 2.77079 8.68731 2.78113C8.6976 2.80713 8.7225 2.83457 8.76147 2.86311C8.80043 2.89168 8.82514 2.9191 8.83562 2.94509C8.84088 2.96075 8.85108 2.99982 8.86682 3.0624C8.88236 3.1249 8.90335 3.16784 8.92929 3.19123C8.95531 3.21474 8.99436 3.23422 9.04641 3.24982C9.05684 3.2551 9.08042 3.25245 9.11673 3.2421C9.15307 3.23162 9.18315 3.22902 9.20654 3.23422C9.23013 3.23937 9.24173 3.26016 9.24173 3.29672C9.27293 3.26544 9.28847 3.24456 9.28847 3.23422C9.29381 3.30195 9.31058 3.35667 9.33942 3.3983C9.36807 3.43989 9.41358 3.45822 9.47613 3.45294L9.4604 3.62487C9.44486 3.65086 9.40581 3.67035 9.34317 3.68335C9.28062 3.69642 9.24165 3.70822 9.22592 3.71856C9.21037 3.72376 9.17256 3.75501 9.1126 3.81237C9.05268 3.86972 9.02813 3.90357 9.03845 3.91391C8.95006 3.81494 8.81704 3.78629 8.64005 3.82799C8.44221 3.85924 8.30668 3.89049 8.23383 3.92177C8.15057 3.9635 8.09316 4.00249 8.06191 4.03891C8.05668 4.04411 8.04776 4.06242 8.03465 4.09361C8.02163 4.12483 8.00863 4.15354 7.99569 4.17953C7.9825 4.20553 7.97098 4.21855 7.96058 4.21855C7.99194 4.21349 8.02699 4.18862 8.06604 4.14443C8.1052 4.10012 8.12991 4.0755 8.14022 4.07022C8.27551 3.98172 8.38751 3.95044 8.47658 3.9771C8.59113 4.00837 8.60938 4.05008 8.53117 4.10215C8.52096 4.11249 8.49344 4.11641 8.44924 4.11386C8.40505 4.11129 8.37506 4.11249 8.35935 4.1178C8.40636 4.12815 8.4453 4.14251 8.47677 4.16063C8.50786 4.17885 8.51574 4.20361 8.50009 4.23484C8.58335 4.28174 8.59906 4.33381 8.54702 4.39117C8.47921 4.45897 8.39867 4.48752 8.30484 4.47709C8.32058 4.47709 8.32058 4.48754 8.30484 4.50834L8.17188 4.59426C8.16157 4.59938 8.12769 4.61238 8.07036 4.63331C8.01306 4.654 7.97393 4.67761 7.95313 4.70358C7.93759 4.72443 7.92974 4.75565 7.92974 4.79747C7.92974 4.8392 7.92711 4.87047 7.92188 4.89127C7.91674 4.9122 7.89583 4.91724 7.85952 4.90689C7.84379 4.93812 7.79565 4.96288 7.71493 4.981C7.63421 4.99922 7.58085 5.02656 7.5548 5.06298C7.58588 5.10471 7.58345 5.14633 7.54692 5.18803C7.48436 5.24019 7.42969 5.23491 7.38287 5.17241C7.35684 5.18283 7.33725 5.20883 7.32423 5.25056C7.31131 5.29226 7.29166 5.32091 7.26578 5.33648C7.30231 5.39378 7.29689 5.43556 7.25026 5.46148C7.25532 5.46148 7.26712 5.46676 7.28526 5.47713C7.30343 5.48753 7.32291 5.50053 7.3439 5.51618C7.3647 5.53183 7.37759 5.53968 7.38287 5.53968C7.36207 5.58645 7.33331 5.60987 7.29689 5.60987C7.32817 5.69325 7.2892 5.78445 7.17985 5.88335C7.15884 5.90414 7.12628 5.92494 7.08208 5.94585C7.03759 5.96664 6.99734 5.98353 6.96081 5.99658C6.92427 6.00963 6.90359 6.01872 6.89836 6.02392C6.84629 6.07087 6.80713 6.11901 6.78122 6.16845C6.75527 6.21801 6.75133 6.26611 6.76939 6.31304C6.78767 6.36005 6.83581 6.39114 6.91407 6.40687L6.92165 6.46932V6.60989L6.9295 6.67244C6.93484 6.70886 6.93878 6.74145 6.94132 6.77018C6.94387 6.79886 6.94387 6.83517 6.94132 6.87956C6.93878 6.92375 6.92701 6.94857 6.90621 6.95363C6.88553 6.95897 6.85685 6.95363 6.82032 6.93801C6.77848 6.91721 6.72911 6.80261 6.6717 6.59432C6.66131 6.54227 6.62995 6.47988 6.57787 6.40685C6.55185 6.43287 6.52974 6.44973 6.51157 6.45752C6.49348 6.46538 6.48027 6.4668 6.47269 6.46146C6.46483 6.45632 6.45049 6.44453 6.42964 6.42636C6.40885 6.40819 6.39076 6.39377 6.37505 6.38348C6.349 6.36794 6.30349 6.3548 6.23823 6.34451C6.17324 6.33411 6.13266 6.32101 6.11723 6.30546C5.99209 6.39938 5.91651 6.37576 5.89052 6.23533C5.88017 6.26127 5.88143 6.29638 5.89446 6.34079C5.90754 6.38506 5.91402 6.40972 5.91402 6.41495C5.8776 6.48275 5.82033 6.48779 5.74218 6.43049C5.7109 6.39938 5.63926 6.39546 5.52726 6.41886C5.41526 6.4422 5.34105 6.44611 5.30463 6.43049C5.30991 6.43049 5.32025 6.43826 5.3359 6.45397C5.3515 6.46417 5.36198 6.47205 5.36715 6.47731C5.3619 6.49821 5.35413 6.51373 5.34365 6.52413C5.33319 6.53444 5.32277 6.53838 5.3124 6.53595C5.30197 6.53332 5.29026 6.53332 5.27718 6.53595C5.26415 6.53838 5.25247 6.5423 5.24202 6.54755C5.22119 6.56309 5.1952 6.59043 5.16392 6.62948C5.1327 6.66855 5.10927 6.69326 5.09365 6.70355C5.12484 6.7869 5.13921 6.85077 5.13664 6.89496C5.13393 6.93935 5.12621 7.00445 5.11313 7.09031C5.10005 7.17618 5.09357 7.2453 5.09357 7.29746C5.09357 7.38059 5.11833 7.47724 5.16778 7.58645C5.21728 7.69582 5.27584 7.77129 5.34356 7.81305C5.38012 7.83385 5.44265 7.84676 5.53112 7.85193C5.61964 7.85724 5.68217 7.85193 5.71859 7.83639C5.74987 7.82096 5.77323 7.8026 5.78886 7.7818C5.80448 7.761 5.81756 7.73085 5.82791 7.69191C5.83833 7.65294 5.84621 7.62561 5.85141 7.61006C5.88783 7.51098 5.95553 7.45893 6.05437 7.45368C6.11712 7.44845 6.16243 7.45518 6.19127 7.47316C6.21992 7.49141 6.23155 7.51612 6.2263 7.54743C6.22105 7.5786 6.21068 7.61119 6.19519 7.64506C6.17948 7.67897 6.16 7.71662 6.13652 7.7584C6.11323 7.80024 6.09881 7.83144 6.09378 7.85234C6.08335 7.89399 6.0741 7.95252 6.06644 8.02821C6.05859 8.10368 6.05199 8.1493 6.04677 8.165C6.05727 8.17009 6.09627 8.17269 6.16391 8.17269C6.16391 8.16238 6.16785 8.14533 6.1757 8.12193C6.18339 8.09854 6.18733 8.0842 6.18733 8.07905C6.21347 8.12081 6.25514 8.14404 6.31244 8.1493C6.36974 8.15452 6.4115 8.13375 6.43752 8.08683C6.44803 8.10248 6.47928 8.14161 6.53138 8.20416C6.58343 8.26652 6.61208 8.3186 6.61736 8.36035C6.62259 8.38134 6.63287 8.41506 6.64845 8.46207C6.66418 8.50889 6.66943 8.54148 6.66418 8.55981C6.65895 8.57779 6.63287 8.58706 6.58608 8.58706C6.56529 8.58706 6.55221 8.59492 6.54712 8.61046C6.5417 8.6262 6.5417 8.64557 6.54712 8.66899C6.55237 8.69239 6.55894 8.71461 6.5666 8.7354C6.57437 8.75609 6.58477 8.77839 6.59771 8.80182C6.61098 8.82505 6.61739 8.83944 6.61739 8.84467C6.71103 9.0164 6.83876 9.06333 7.00018 8.98535C7.00018 9.13631 6.96368 9.21964 6.89062 9.23518C6.84943 9.24552 6.8027 9.21923 6.75062 9.15686ZM6.8673 10.9219C6.85701 10.8698 6.85176 10.8282 6.85233 10.7971C6.84689 10.7554 6.86525 10.6993 6.90682 10.6291C6.94846 10.5589 6.96926 10.5054 6.96926 10.469C6.88594 10.4482 6.85472 10.3804 6.87535 10.2658C6.88583 10.1877 6.9613 10.0835 7.10195 9.95334C7.20101 9.86477 7.23212 9.73963 7.19578 9.57832C7.18005 9.5106 7.16694 9.41154 7.15662 9.28134C7.14633 9.15109 7.13583 9.05997 7.12535 9.00792C7.12535 9.02346 7.15005 9.0378 7.19969 9.0508C7.24917 9.06372 7.2791 9.08076 7.2895 9.10137C7.2999 9.08594 7.31284 9.05718 7.32855 9.01558C7.34409 8.97383 7.35985 8.94266 7.37518 8.92175C7.38569 8.90613 7.40777 8.88665 7.4417 8.86311C7.47558 8.83972 7.49769 8.82549 7.50809 8.82023C7.51829 8.81509 7.54188 8.79823 7.57822 8.7695C7.61472 8.74085 7.64471 8.71882 7.66819 8.7032C7.69178 8.68757 7.72278 8.67586 7.76194 8.66817C7.8011 8.66032 7.82835 8.67195 7.84387 8.7032C7.87 8.7345 7.86486 8.78261 7.82835 8.84779C7.79182 8.91297 7.79182 8.95856 7.82835 8.98469C7.83366 8.96896 7.83875 8.93497 7.84387 8.8829C7.84921 8.83082 7.86486 8.79177 7.8908 8.76556C7.92208 8.73447 7.95193 8.71611 7.98069 8.71105C8.00934 8.70563 8.03528 8.70955 8.05862 8.72276C8.08221 8.73579 8.10955 8.75377 8.14066 8.77735C8.17194 8.80075 8.20056 8.81512 8.22661 8.82023C8.30471 8.84628 8.39854 8.90358 8.50791 8.99216C8.50269 8.98685 8.50269 8.98037 8.50791 8.97249C8.51317 8.96482 8.52346 8.95697 8.53922 8.94909C8.55476 8.94143 8.56899 8.93357 8.5821 8.92569C8.59501 8.91792 8.60924 8.91166 8.62498 8.90632L8.64837 8.89847C8.68471 8.89847 8.71082 8.89592 8.72639 8.89059C8.7419 8.88544 8.76431 8.89058 8.79277 8.90632C8.82126 8.92186 8.84093 8.93357 8.85122 8.94143C8.8617 8.94909 8.87987 8.96343 8.90592 8.98431C8.93195 9.0051 8.95031 9.02084 8.9604 9.03113C8.97614 9.04142 9.00479 9.05978 9.04638 9.08583C9.08814 9.11185 9.12073 9.13265 9.14415 9.14816C9.16774 9.1637 9.18851 9.18732 9.20649 9.2183C9.22466 9.24976 9.23142 9.28359 9.22616 9.32009C9.25747 9.32534 9.31983 9.34603 9.41366 9.38245C9.4294 9.39277 9.4618 9.40204 9.51141 9.40971C9.56088 9.41756 9.59344 9.42938 9.60907 9.44481C8.85442 10.2422 7.94019 10.7344 6.8673 10.9219Z\", fill: \"currentColor\" })));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LinkIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.LinkIcon = () => (react_1.default.createElement(IconBase_1.default, { viewBox: \"0 0 12 12\" },\r\n    react_1.default.createElement(\"path\", { d: \"M5.59849 8.36744L6.52962 7.43657C5.93459 7.37598 5.47177 7.16668 5.15221 6.84721C4.24312 5.93838 4.24312 4.66602 5.1467 3.7627L7.00345 1.90648C7.91255 1.00316 9.17976 1.00316 10.0889 1.90648C11.0034 2.82082 10.9979 4.09318 10.0944 4.9965L9.27343 5.81721C9.46627 6.26335 9.5434 6.82518 9.41667 7.31539L10.9594 5.77313C12.3478 4.40163 12.3478 2.43525 10.9539 1.04171C9.55993 -0.351824 7.60401 -0.340814 6.22659 1.03621L4.27618 2.98055C2.89877 4.36307 2.89325 6.32395 4.2872 7.71197C4.58472 8.01492 5.01998 8.25727 5.59849 8.36744ZM6.40291 3.6305L5.47177 4.56687C6.06681 4.62746 6.52962 4.83125 6.84918 5.15073C7.75828 6.05956 7.75828 7.33742 6.8547 8.23524L4.99794 10.0915C4.08884 10.9948 2.81611 11.0003 1.91253 10.0915C0.99794 9.17712 1.00345 7.91027 1.90703 7.00694L2.72797 6.18625C2.53513 5.74009 2.45799 5.17276 2.58472 4.68254L1.03651 6.22479C-0.346419 7.60182 -0.346419 9.56268 1.04201 10.9562C2.44146 12.3498 4.39739 12.3443 5.7748 10.9617L7.71971 9.01739C9.10263 7.63486 9.10814 5.6795 7.71419 4.28597C7.41667 3.98302 6.98141 3.74067 6.40291 3.6305Z\", fill: \"currentColor\" })));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LockIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.LockIcon = () => (react_1.default.createElement(IconBase_1.default, { viewBox: \"0 0 12 12\" },\r\n    react_1.default.createElement(\"path\", { d: \"M10.125 5.25H9.5625V3.5625C9.5625 1.59844 7.96406 0 6 0C4.03594 0 2.4375 1.59844 2.4375 3.5625V5.25H1.875C1.25391 5.25 0.75 5.75391 0.75 6.375V10.875C0.75 11.4961 1.25391 12 1.875 12H10.125C10.7461 12 11.25 11.4961 11.25 10.875V6.375C11.25 5.75391 10.7461 5.25 10.125 5.25ZM7.6875 5.25H4.3125V3.5625C4.3125 2.63203 5.06953 1.875 6 1.875C6.93047 1.875 7.6875 2.63203 7.6875 3.5625V5.25Z\", fill: \"currentColor\" })));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PatronIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.PatronIcon = props => (react_1.default.createElement(IconBase_1.default, Object.assign({ viewBox: \"0 0 24 24\", fill: \"none\" }, props),\r\n    react_1.default.createElement(\"path\", { d: \"M13 10.3L16 9L19 10.3V13.7L16 15L13 13.7V10.3Z\", fill: \"#999999\" }),\r\n    react_1.default.createElement(\"path\", { d: \"M5 10.3L8 9L11 10.3V13.7L8 15L5 13.7V10.3Z\", fill: \"#999999\" }),\r\n    react_1.default.createElement(\"path\", { d: \"M12 4.65522L16.4615 7.74856V16.2514L12 19.3448L7.53846 16.2514V7.74856L12 4.65522Z\", fill: \"white\", stroke: \"white\", strokeWidth: \"1.07692\" })));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SearchIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.SearchIcon = props => (react_1.default.createElement(IconBase_1.default, Object.assign({ fill: \"none\", viewBox: \"0 0 24 24\" }, props),\r\n    react_1.default.createElement(\"path\", { clipRule: \"evenodd\", d: \"m12 20c4.4183 0 8-3.5817 8-8 0-4.41828-3.5817-8-8-8-4.41828 0-8 3.58172-8 8 0 4.4183 3.58172 8 8 8zm-.3678-12c-2.00599 0-3.6322 1.62621-3.6322 3.6322 0 2.0061 1.62621 3.6323 3.6322 3.6323.7056 0 1.3649-.2016 1.9226-.55l2.2855 2.4452 1.1597-1.1597-2.2855-2.4452c.3484-.5577.55-1.217.55-1.9226 0-2.00599-1.6262-3.6322-3.6323-3.6322zm-1.99219 3.6322c0-1.1002.89199-1.99219 1.99219-1.99219 1.1003 0 1.9923.89199 1.9923 1.99219 0 1.1003-.892 1.9923-1.9923 1.9923-1.1002 0-1.99219-.892-1.99219-1.9923z\", fill: \"currentColor\", fillRule: \"evenodd\" })));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TeamIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.TeamIcon = props => (react_1.default.createElement(IconBase_1.default, Object.assign({ viewBox: \"0 0 33 32\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props),\r\n    react_1.default.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M9.98041 17.3524C11.4921 17.3524 12.7214 15.8995 12.7543 14.2274C12.8192 14.1384 12.8639 14.024 12.8766 13.8963C12.8957 13.7058 12.8394 13.5294 12.7376 13.4147C12.6588 11.8805 12.266 10.2483 10.6463 10.0524L10.6277 10.0502C10.1581 9.99325 9.08961 9.86378 8.87058 10.5087C7.3924 10.3299 7.20857 11.8965 7.19827 13.1907C7.0275 13.2967 6.93859 13.5444 6.9944 13.8017C7.02765 13.955 7.10599 14.0827 7.20584 14.1655C7.20917 15.8635 8.45011 17.3524 9.98041 17.3524ZM10.767 22.8274L10.767 22.7992C10.7669 21.3867 10.7669 19.9174 12.2098 19.0109C11.3219 17.5281 3.32138 17.9227 5.31908 22.8274H10.767Z\", fill: \"currentColor\" }),\r\n    react_1.default.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M23.354 17.3679C21.8205 17.3765 20.5689 15.8906 20.5594 14.1898C20.5589 14.1043 20.559 14.0176 20.5598 13.9301C20.4799 13.8413 20.4222 13.7188 20.4027 13.5783C20.3702 13.3436 20.454 13.1256 20.6011 13.0167C20.7249 11.6198 21.1773 10.2577 22.6467 10.0718L22.6653 10.0694C23.135 10.0099 24.2035 9.8744 24.4264 10.518C26.0573 10.3117 26.1235 12.2385 26.1161 13.5805C26.2378 13.7 26.2989 13.9044 26.2607 14.1197C26.2371 14.2527 26.1793 14.3684 26.1021 14.4536C25.9776 16.0291 24.7983 17.3598 23.354 17.3679ZM21.7101 22.5895L21.7101 22.5637C21.7101 21.2685 21.7102 19.9214 20.3872 19.0903C21.2013 17.7308 28.5367 18.0926 26.7051 22.5895H21.7101Z\", fill: \"currentColor\" }),\r\n    react_1.default.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M20.0196 13.6191C20.0196 14.3434 19.7618 15.0586 19.4571 15.6034C19.3879 15.7271 19.5125 15.9361 19.6374 16.1455C19.7744 16.3754 19.9117 16.6057 19.7933 16.7241C19.4691 17.0483 18.7029 17.0097 18.0824 16.9634C17.6751 17.3199 17.1841 17.5281 16.6555 17.5281C16.0611 17.5281 15.5141 17.2648 15.0802 16.8233C14.9613 16.8784 14.8427 16.9334 14.7255 16.9895C13.8038 16.8672 13.2346 15.35 13.4543 13.6007C13.674 11.8513 14.5993 10.5323 15.5211 10.6546C15.7321 10.7 15.9233 10.7586 16.0964 10.8281C16.4923 10.5009 16.9626 10.3113 17.467 10.3113C18.8768 10.3113 20.0196 11.7923 20.0196 13.6191ZM11.9207 23L21.1323 23C21.1323 23 21.7982 18.554 16.471 18.4375C11.1438 18.321 11.9207 23 11.9207 23Z\", fill: \"currentColor\" })));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.UserIcon = void 0;\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst IconBase_1 = __importDefault(require(\"react-icons/IconBase\"));\r\nexports.UserIcon = props => (react_1.default.createElement(IconBase_1.default, Object.assign({ fill: \"none\", viewBox: \"0 0 24 24\" }, props),\r\n    react_1.default.createElement(\"path\", { clipRule: \"evenodd\", d: \"m15.9534 6.45205c0 .97485-.347 1.93741-.7571 2.67069-.0931.16646.0746.44777.2427.7296.1844.30936.3692.61936.2098.77876-.4363.4363-1.4674.3843-2.3024.3221-.5483.4799-1.2091.76-1.9205.76-.8001 0-1.53626-.3544-2.12019-.9486-.16009.0742-.31971.1483-.47739.2237-1.24057-.1645-2.00655-2.20661-1.71086-4.56109s1.54107-4.12976 2.78164-3.9652c.284.0611.5412.13992.7741.23345.5329-.44032 1.1657-.69546 1.8446-.69546 1.8974 0 3.4356 1.99325 3.4356 4.45205zm-10.90009 12.62585h12.39809s.8963-5.984-6.2737-6.1407c-7.17001-.1568-6.12439 6.1407-6.12439 6.1407z\", fill: \"currentColor\", fillRule: \"evenodd\" })));\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst styled_components_1 = __importDefault(require(\"styled-components\"));\r\nconst get_spacing_1 = __importDefault(require(\"./get-spacing\"));\r\nexports.default = styled_components_1.default.div `\n  padding: ${get_spacing_1.default};\n  box-sizing: border-box;\n`;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nlet isOnline = navigator.onLine;\r\nconst listeners = {};\r\nfunction updateOnlineStatus(event) {\r\n    isOnline = navigator.onLine;\r\n    Object.keys(listeners).forEach(listener => {\r\n        listeners[listener](isOnline);\r\n    });\r\n}\r\nwindow.addEventListener('online', updateOnlineStatus);\r\nwindow.addEventListener('offline', updateOnlineStatus);\r\nlet id = 0;\r\nfunction addListener(listener) {\r\n    const listenerId = id;\r\n    listeners[id++] = listener;\r\n    // Already let listener know what the status is\r\n    listener(isOnline);\r\n    return () => {\r\n        listeners[listenerId] = null;\r\n    };\r\n}\r\nexports.default = addListener;\r\n","\"use strict\";\r\n// In production, we register a service worker to serve assets from local cache.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.unregister = void 0;\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\nconst isLocalhost = Boolean(window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\r\nconst isHttp = Boolean(window.location.protocol === 'http:');\r\nfunction register(swUrl, { onUpdated, onInstalled }) {\r\n    if ('serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        // @ts-ignore\r\n        const publicUrl = new URL(process.env.PUBLIC_URL || '/', window.location);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n            return;\r\n        }\r\n        // window.addEventListener('load', () => {\r\n        if (!isLocalhost && !isHttp) {\r\n            // It's neither localhost nor http. Just register service worker\r\n            registerValidSW(swUrl, { onUpdated, onInstalled });\r\n        }\r\n        else if (isLocalhost) {\r\n            // This is running on localhost. Lets check if a service worker still exists or not.\r\n            checkValidServiceWorker(swUrl, { onUpdated, onInstalled });\r\n        }\r\n        // });\r\n    }\r\n}\r\nexports.default = register;\r\nfunction registerValidSW(swUrl, { onUpdated, onInstalled, } = {}) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n        registration.onupdatefound = () => {\r\n            const installingWorker = registration.installing;\r\n            installingWorker.onstatechange = () => {\r\n                if (installingWorker.state === 'installed') {\r\n                    if (navigator.serviceWorker.controller) {\r\n                        // At this point, the old content will have been purged and\r\n                        // the fresh content will have been added to the cache.\r\n                        // It's the perfect time to display a \"New content is\r\n                        // available; please refresh.\" message in your web app.\r\n                        if (onUpdated) {\r\n                            onUpdated();\r\n                        }\r\n                    }\r\n                    else if (onInstalled) {\r\n                        // At this point, everything has been precached.\r\n                        // It's the perfect time to display a\r\n                        // \"Content is cached for offline use.\" message.\r\n                        onInstalled();\r\n                    }\r\n                }\r\n                else if (installingWorker.state === 'redundant') {\r\n                    if ('storage' in navigator && 'estimate' in navigator.storage) {\r\n                        navigator.storage.estimate().then(results => {\r\n                            const percentUsed = results.usage / results.quota;\r\n                            // Let's assume that if we're using 95% of our quota, then this failure\r\n                            // was due to quota exceeded errors.\r\n                            // TODO: Hardcoding a threshold stinks.\r\n                            if (percentUsed >= 0.95) {\r\n                                // Get rid of the existing SW so that we're not stuck\r\n                                // with the previously cached content.\r\n                                registration.unregister();\r\n                                // Let's assume that we have some way of doing this without inadvertantly\r\n                                // blowing away storage being used on the origin by something other than\r\n                                // our service worker.\r\n                                // I don't think that the Clear-Site-Data: header helps here, unfortunately.\r\n                                self.caches.keys().then(names => {\r\n                                    names.forEach(name => {\r\n                                        self.caches.delete(name);\r\n                                    });\r\n                                });\r\n                                // TODO clear indexeddb\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        // What about browsers that don't support navigator.storage.estimate()?\r\n                        // There's no way of guessing why the service worker is redundant.\r\n                    }\r\n                }\r\n            };\r\n        };\r\n    })\r\n        .catch(error => {\r\n        console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\nfunction checkValidServiceWorker(swUrl, { onUpdated, onInstalled }) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n        .then(response => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        if (response.status === 404 ||\r\n            response.headers.get('content-type').indexOf('javascript') === -1) {\r\n            // No service worker found. Probably a different app. Reload the page.\r\n            navigator.serviceWorker.ready.then(registration => {\r\n                registration.unregister().then(() => {\r\n                    window.location.reload();\r\n                });\r\n            });\r\n        }\r\n        else {\r\n            // Service worker found. Proceed as normal.\r\n            registerValidSW(swUrl, { onUpdated, onInstalled });\r\n        }\r\n    })\r\n        .catch(e => {\r\n        // eslint-disable-next-line no-console\r\n        console.log('No internet connection found. App is running in offline mode.', e);\r\n    });\r\n}\r\nfunction unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister();\r\n        });\r\n    }\r\n}\r\nexports.unregister = unregister;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HIDDEN_DIRECTORIES = void 0;\r\nexports.HIDDEN_DIRECTORIES = ['.codesandbox'];\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst template_icons_1 = require(\"@codesandbox/template-icons\");\r\nconst _1 = require(\".\");\r\nfunction getIcon(theme) {\r\n    switch (theme) {\r\n        case _1.adonis.name:\r\n            return template_icons_1.AdonisIcon;\r\n        case _1.react.name:\r\n            return template_icons_1.ReactIcon;\r\n        case _1.vue.name:\r\n            return template_icons_1.VueIcon;\r\n        case _1.preact.name:\r\n            return template_icons_1.PreactIcon;\r\n        case _1.reactTs.name:\r\n            return template_icons_1.ReactIcon;\r\n        case _1.svelte.name:\r\n            return template_icons_1.SvelteIcon;\r\n        case _1.angular.name:\r\n            return template_icons_1.AngularIcon;\r\n        case _1.parcel.name:\r\n            return template_icons_1.JavaScriptIcon;\r\n        case _1.dojo.name:\r\n            return template_icons_1.DojoIcon;\r\n        case _1.ember.name:\r\n            return template_icons_1.EmberIcon;\r\n        case _1.sapper.name:\r\n            return template_icons_1.SapperIcon;\r\n        case _1.cxjs.name:\r\n            return template_icons_1.CxJSIcon;\r\n        case _1.reason.name:\r\n            return template_icons_1.ReasonIcon;\r\n        case _1.gatsby.name:\r\n            return template_icons_1.GatsbyIcon;\r\n        case _1.marko.name:\r\n            return template_icons_1.MarkoIcon;\r\n        case _1.next.name:\r\n            return template_icons_1.NextIcon;\r\n        case _1.nuxt.name:\r\n            return template_icons_1.NuxtIcon;\r\n        case _1.node.name:\r\n            return template_icons_1.NodeIcon;\r\n        case _1.apollo.name:\r\n            return template_icons_1.ApolloIcon;\r\n        case _1.nest.name:\r\n            return template_icons_1.NestIcon;\r\n        case _1.staticTemplate.name:\r\n            return template_icons_1.HTML5Icon;\r\n        case _1.styleguidist.name:\r\n            return template_icons_1.StyleguidistIcon;\r\n        case _1.gridsome.name:\r\n            return template_icons_1.GridsomeIcon;\r\n        case _1.vuepress.name:\r\n            return template_icons_1.VuePressIcon;\r\n        case _1.mdxDeck.name:\r\n            return template_icons_1.MDXDeckIcon;\r\n        case _1.quasar.name:\r\n            return template_icons_1.QuasarIcon;\r\n        case _1.unibit.name:\r\n            return template_icons_1.UnibitIcon;\r\n        default:\r\n            return template_icons_1.ReactIcon;\r\n    }\r\n}\r\nexports.default = getIcon;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst codesandbox_json_1 = __importDefault(require(\"./codesandbox.json\"));\r\nconst codesandbox_black_1 = __importDefault(require(\"./codesandbox-black\"));\r\nconst codesandbox_light_json_1 = __importDefault(require(\"./codesandbox-light.json\"));\r\nexports.default = [\r\n    {\r\n        name: 'CodeSandbox',\r\n        id: 'codesandbox',\r\n        content: codesandbox_json_1.default,\r\n    },\r\n    {\r\n        name: 'CodeSandbox Black',\r\n        id: 'codesandboxBlack',\r\n        content: codesandbox_black_1.default,\r\n    },\r\n    {\r\n        name: 'CodeSandbox Light',\r\n        id: 'codesandboxLight',\r\n        content: codesandbox_light_json_1.default,\r\n    },\r\n    {\r\n        name: 'Night Owl',\r\n        id: 'nightOwl',\r\n        url: 'https://cdn.jsdelivr.net/gh/sdras/night-owl-vscode-theme@ff58e0d3967ef968492ce8c9809239f0511b9b70/themes/Night%20Owl-color-theme.json',\r\n    },\r\n    {\r\n        name: 'Night Owl (No Italics)',\r\n        id: 'nightOwlNoItalics',\r\n        url: 'https://cdn.jsdelivr.net/gh/sdras/night-owl-vscode-theme@ff58e0d3967ef968492ce8c9809239f0511b9b70/themes/Night%20Owl-color-theme-noitalic.json',\r\n    },\r\n    {\r\n        name: 'Atom Dark',\r\n        id: 'atomDark',\r\n        type: 'dark',\r\n        url: 'https://cdn.jsdelivr.net/gh/akamud/vscode-theme-onedark@11ef483921495ea6c086f56149dfa0ca6225ae53/themes/OneDark.json',\r\n    },\r\n    {\r\n        name: 'Cobalt 2',\r\n        id: 'cobalt2',\r\n        url: 'https://cdn.jsdelivr.net/gh/wesbos/cobalt2-vscode/theme/cobalt2.json',\r\n    },\r\n    {\r\n        name: 'Palenight',\r\n        id: 'palenight',\r\n        url: 'https://cdn.jsdelivr.net/gh/whizkydee/vscode-material-palenight-theme/themes/palenight.json',\r\n    },\r\n    {\r\n        name: 'Palenight Italic',\r\n        id: 'palenightItalic',\r\n        url: 'https://cdn.jsdelivr.net/gh/whizkydee/vscode-material-palenight-theme/themes/palenight-italic.json',\r\n    },\r\n    {\r\n        name: 'Shades of Purple',\r\n        id: 'shadesOfPurple',\r\n        url: 'https://cdn.jsdelivr.net/gh/ahmadawais/shades-of-purple-vscode@983101b2e9f57638fbc1bd5c551f5c84e561756e/themes/shades-of-purple-color-theme.json',\r\n    },\r\n    {\r\n        name: 'Lucy',\r\n        id: 'lucy',\r\n        url: 'https://cdn.jsdelivr.net/gh/juliettepretot/lucy-vscode@f27d836399d906bc7f7af5fd3950126240be969c/dist/color-theme.json',\r\n    },\r\n    {\r\n        name: 'High Contrast',\r\n        id: 'highContrast',\r\n        get: () => Promise.resolve().then(() => __importStar(require('./high-contrast.json'))),\r\n    },\r\n    {\r\n        name: 'VSCode Light',\r\n        id: 'vscodeLight',\r\n        get: () => Promise.resolve().then(() => __importStar(require('./vscode-light'))),\r\n    },\r\n    {\r\n        name: 'Atom Light',\r\n        id: 'atomLight',\r\n        url: 'https://cdn.jsdelivr.net/gh/akamud/vscode-theme-onelight/themes/OneLight.json',\r\n    },\r\n    {\r\n        name: 'Solarized Light',\r\n        id: 'solarizedLight',\r\n        url: 'https://cdn.jsdelivr.net/gh/Microsoft/vscode@d2b6bbb46fbdf535e2c96b3e00ac56ac1d427a69/extensions/theme-solarized-light/themes/solarized-light-color-theme.json',\r\n    },\r\n];\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = {\r\n    $schema: 'vscode://schemas/color-theme',\r\n    type: 'light',\r\n    colors: {\r\n        'activityBarBadge.background': '#007acc',\r\n        'editor.background': '#ffffff',\r\n        'editor.foreground': '#000000',\r\n        'editor.inactiveSelectionBackground': '#e5ebf1',\r\n        'editor.selectionHighlightBackground': '#add6ff4d',\r\n        'editorIndentGuide.activeBackground': '#939393',\r\n        'editorIndentGuide.background': '#d3d3d3',\r\n        'editorSuggestWidget.background': '#f3f3f3',\r\n        'input.placeholderForeground': '#adadad',\r\n        'list.hoverBackground': '#e8e8e8',\r\n        'sideBarTitle.foreground': '#6f6f6f',\r\n        'activityBar.background': '#2c2c2c',\r\n        'activityBar.dropBackground': '#ffffff1f',\r\n        'activityBar.foreground': '#ffffff',\r\n        'activityBarBadge.foreground': '#ffffff',\r\n        'badge.background': '#bebebe',\r\n        'badge.foreground': '#ffffff',\r\n        'button.background': '#007acc',\r\n        'button.foreground': '#ffffff',\r\n        'button.hoverBackground': '#0062a3',\r\n        'debugExceptionWidget.background': '#f1dfde',\r\n        'debugExceptionWidget.border': '#a31515',\r\n        'debugToolBar.background': '#f3f3f3',\r\n        descriptionForeground: '#6c6c6cb3',\r\n        'diffEditor.insertedTextBackground': '#9bb95533',\r\n        'diffEditor.removedTextBackground': '#ff000033',\r\n        'dropdown.background': '#ffffff',\r\n        'dropdown.border': '#cecece',\r\n        'editor.findMatchBackground': '#a8ac94',\r\n        'editor.findMatchHighlightBackground': '#ea5c0055',\r\n        'editor.findRangeHighlightBackground': '#b4b4b44d',\r\n        'editor.hoverHighlightBackground': '#add6ff26',\r\n        'editor.lineHighlightBorder': '#eeeeee',\r\n        'editor.rangeHighlightBackground': '#fdff0033',\r\n        'editor.selectionBackground': '#add6ff',\r\n        'editor.wordHighlightBackground': '#57575740',\r\n        'editor.wordHighlightStrongBackground': '#0e639c40',\r\n        'editorActiveLineNumber.foreground': '#0b216f',\r\n        'editorBracketMatch.background': '#0064001a',\r\n        'editorBracketMatch.border': '#b9b9b9',\r\n        'editorCodeLens.foreground': '#999999',\r\n        'editorCursor.foreground': '#000000',\r\n        'editorError.foreground': '#d60a0a',\r\n        'editorGroup.border': '#e7e7e7',\r\n        'editorGroup.dropBackground': '#3399ff2e',\r\n        'editorGroupHeader.noTabsBackground': '#ffffff',\r\n        'editorGroupHeader.tabsBackground': '#f3f3f3',\r\n        'editorGutter.addedBackground': '#81b88b',\r\n        'editorGutter.background': '#ffffff',\r\n        'editorGutter.deletedBackground': '#ca4b51',\r\n        'editorGutter.modifiedBackground': '#66afe0',\r\n        'editorHint.foreground': '#6c6c6c',\r\n        'editorHoverWidget.background': '#efeff2',\r\n        'editorHoverWidget.border': '#c8c8c8',\r\n        'editorInfo.foreground': '#008000',\r\n        'editorLineNumber.activeForeground': '#0b216f',\r\n        'editorLineNumber.foreground': '#2b91af',\r\n        'editorLink.activeForeground': '#0000ff',\r\n        'editorMarkerNavigation.background': '#ffffff',\r\n        'editorMarkerNavigationError.background': '#d60a0a',\r\n        'editorMarkerNavigationInfo.background': '#008000',\r\n        'editorMarkerNavigationWarning.background': '#117711',\r\n        'editorOverviewRuler.addedForeground': '#007acc99',\r\n        'editorOverviewRuler.border': '#7f7f7f4d',\r\n        'editorOverviewRuler.bracketMatchForeground': '#a0a0a0',\r\n        'editorOverviewRuler.commonContentForeground': '#60606066',\r\n        'editorOverviewRuler.currentContentForeground': '#40c8ae80',\r\n        'editorOverviewRuler.deletedForeground': '#007acc99',\r\n        'editorOverviewRuler.errorForeground': '#ff1212b3',\r\n        'editorOverviewRuler.findMatchForeground': '#f6b94db3',\r\n        'editorOverviewRuler.incomingContentForeground': '#40a6ff80',\r\n        'editorOverviewRuler.infoForeground': '#121288b3',\r\n        'editorOverviewRuler.modifiedForeground': '#007acc99',\r\n        'editorOverviewRuler.rangeHighlightForeground': '#007acc99',\r\n        'editorOverviewRuler.selectionHighlightForeground': '#a0a0a0cc',\r\n        'editorOverviewRuler.warningForeground': '#128812b3',\r\n        'editorOverviewRuler.wordHighlightForeground': '#a0a0a0cc',\r\n        'editorOverviewRuler.wordHighlightStrongForeground': '#c0a0c0cc',\r\n        'editorPane.background': '#ffffff',\r\n        'editorRuler.foreground': '#d3d3d3',\r\n        'editorSuggestWidget.border': '#c8c8c8',\r\n        'editorSuggestWidget.foreground': '#000000',\r\n        'editorSuggestWidget.highlightForeground': '#007acc',\r\n        'editorSuggestWidget.selectedBackground': '#dcebfc',\r\n        'editorUnnecessaryCode.opacity': '#00000077',\r\n        'editorWarning.foreground': '#117711',\r\n        'editorWhitespace.foreground': '#33333333',\r\n        'editorWidget.background': '#efeff2',\r\n        'editorWidget.border': '#c8c8c8',\r\n        errorForeground: '#a1260d',\r\n        'extensionButton.prominentBackground': '#327e36',\r\n        'extensionButton.prominentForeground': '#ffffff',\r\n        'extensionButton.prominentHoverBackground': '#28632b',\r\n        focusBorder: '#007acc66',\r\n        foreground: '#6c6c6c',\r\n        'gitDecoration.addedResourceForeground': '#587c0c',\r\n        'gitDecoration.conflictingResourceForeground': '#6c6cc4',\r\n        'gitDecoration.deletedResourceForeground': '#ad0707',\r\n        'gitDecoration.ignoredResourceForeground': '#8e8e90',\r\n        'gitDecoration.modifiedResourceForeground': '#a76e12',\r\n        'gitDecoration.submoduleResourceForeground': '#1258a7',\r\n        'gitDecoration.untrackedResourceForeground': '#019001',\r\n        'input.background': '#ffffff',\r\n        'input.foreground': '#6c6c6c',\r\n        'inputOption.activeBorder': '#007acc',\r\n        'inputValidation.errorBackground': '#f2dede',\r\n        'inputValidation.errorBorder': '#be1100',\r\n        'inputValidation.infoBackground': '#d6ecf2',\r\n        'inputValidation.infoBorder': '#007acc',\r\n        'inputValidation.warningBackground': '#f6f5d2',\r\n        'inputValidation.warningBorder': '#b89500',\r\n        'list.activeSelectionBackground': '#3399ff',\r\n        'list.activeSelectionForeground': '#ffffff',\r\n        'list.dropBackground': '#dcebfc',\r\n        'list.errorForeground': '#d60a0a',\r\n        'list.focusBackground': '#dcebfc',\r\n        'list.highlightForeground': '#007acc',\r\n        'list.inactiveFocusBackground': '#d8dae6',\r\n        'list.inactiveSelectionBackground': '#cccedb',\r\n        'list.invalidItemForeground': '#b89500',\r\n        'list.warningForeground': '#117711',\r\n        'merge.commonContentBackground': '#60606029',\r\n        'merge.commonHeaderBackground': '#60606066',\r\n        'merge.currentContentBackground': '#40c8ae33',\r\n        'merge.currentHeaderBackground': '#40c8ae80',\r\n        'merge.incomingContentBackground': '#40a6ff33',\r\n        'merge.incomingHeaderBackground': '#40a6ff80',\r\n        'notificationCenterHeader.background': '#e2e2e7',\r\n        'notificationLink.foreground': '#4080d0',\r\n        'notifications.background': '#efeff2',\r\n        'notifications.border': '#e2e2e7',\r\n        'panel.background': '#ffffff',\r\n        'panel.border': '#80808059',\r\n        'panel.dropBackground': '#3399ff2e',\r\n        'panelTitle.activeBorder': '#80808059',\r\n        'panelTitle.activeForeground': '#424242',\r\n        'panelTitle.inactiveForeground': '#424242bf',\r\n        'peekView.border': '#007acc',\r\n        'peekViewEditor.background': '#f2f8fc',\r\n        'peekViewEditor.matchHighlightBackground': '#f5d802de',\r\n        'peekViewEditorGutter.background': '#f2f8fc',\r\n        'peekViewResult.background': '#f3f3f3',\r\n        'peekViewResult.fileForeground': '#1e1e1e',\r\n        'peekViewResult.lineForeground': '#646465',\r\n        'peekViewResult.matchHighlightBackground': '#ea5c004d',\r\n        'peekViewResult.selectionBackground': '#3399ff33',\r\n        'peekViewResult.selectionForeground': '#6c6c6c',\r\n        'peekViewTitle.background': '#ffffff',\r\n        'peekViewTitleDescription.foreground': '#6c6c6cb3',\r\n        'peekViewTitleLabel.foreground': '#333333',\r\n        'pickerGroup.border': '#cccedb',\r\n        'pickerGroup.foreground': '#007acc99',\r\n        'progressBar.background': '#0e70c0',\r\n        'scrollbar.shadow': '#dddddd',\r\n        'scrollbarSlider.activeBackground': '#00000099',\r\n        'scrollbarSlider.background': '#64646466',\r\n        'scrollbarSlider.hoverBackground': '#646464b3',\r\n        'settings.modifiedItemForeground': '#019001',\r\n        'sideBar.background': '#f3f3f3',\r\n        'sideBar.dropBackground': '#ffffff1f',\r\n        'sideBarSectionHeader.background': '#80808033',\r\n        'statusBar.background': '#007acc',\r\n        'statusBar.debuggingBackground': '#cc6633',\r\n        'statusBar.debuggingForeground': '#ffffff',\r\n        'statusBar.foreground': '#ffffff',\r\n        'statusBar.noFolderBackground': '#68217a',\r\n        'statusBar.noFolderForeground': '#ffffff',\r\n        'statusBarItem.activeBackground': '#ffffff2e',\r\n        'statusBarItem.hoverBackground': '#ffffff1f',\r\n        'statusBarItem.prominentBackground': '#388a34',\r\n        'statusBarItem.prominentHoverBackground': '#369432',\r\n        'tab.activeBackground': '#ffffff',\r\n        'tab.activeForeground': '#333333',\r\n        'tab.border': '#f3f3f3',\r\n        'tab.inactiveBackground': '#ececec',\r\n        'tab.inactiveForeground': '#33333380',\r\n        'tab.unfocusedActiveForeground': '#333333b3',\r\n        'tab.unfocusedInactiveForeground': '#33333340',\r\n        'terminal.ansiBlack': '#000000',\r\n        'terminal.ansiBlue': '#0451a5',\r\n        'terminal.ansiBrightBlack': '#666666',\r\n        'terminal.ansiBrightBlue': '#0451a5',\r\n        'terminal.ansiBrightCyan': '#0598bc',\r\n        'terminal.ansiBrightGreen': '#14ce14',\r\n        'terminal.ansiBrightMagenta': '#bc05bc',\r\n        'terminal.ansiBrightRed': '#cd3131',\r\n        'terminal.ansiBrightWhite': '#a5a5a5',\r\n        'terminal.ansiBrightYellow': '#b5ba00',\r\n        'terminal.ansiCyan': '#0598bc',\r\n        'terminal.ansiGreen': '#00bc00',\r\n        'terminal.ansiMagenta': '#bc05bc',\r\n        'terminal.ansiRed': '#cd3131',\r\n        'terminal.ansiWhite': '#555555',\r\n        'terminal.ansiYellow': '#949800',\r\n        'terminal.foreground': '#333333',\r\n        'terminal.selectionBackground': '#00000040',\r\n        'textBlockQuote.background': '#7f7f7f1a',\r\n        'textBlockQuote.border': '#007acc80',\r\n        'textCodeBlock.background': '#dcdcdc66',\r\n        'textLink.activeForeground': '#4080d0',\r\n        'textLink.foreground': '#4080d0',\r\n        'textPreformat.foreground': '#a31515',\r\n        'textSeparator.foreground': '#0000002e',\r\n        'titleBar.activeBackground': '#dddddd',\r\n        'titleBar.activeForeground': '#333333',\r\n        'titleBar.inactiveBackground': '#dddddd99',\r\n        'titleBar.inactiveForeground': '#33333399',\r\n        'widget.shadow': '#a8a8a8',\r\n    },\r\n    tokenColors: [\r\n        {\r\n            scope: ['meta.embedded', 'source.groovy.embedded'],\r\n            settings: {\r\n                foreground: '#000000ff',\r\n            },\r\n        },\r\n        {\r\n            scope: 'emphasis',\r\n            settings: {\r\n                fontStyle: 'italic',\r\n            },\r\n        },\r\n        {\r\n            scope: 'strong',\r\n            settings: {\r\n                fontStyle: 'bold',\r\n            },\r\n        },\r\n        {\r\n            scope: 'meta.diff.header',\r\n            settings: {\r\n                foreground: '#000080',\r\n            },\r\n        },\r\n        {\r\n            scope: 'comment',\r\n            settings: {\r\n                foreground: '#008000',\r\n            },\r\n        },\r\n        {\r\n            scope: 'constant.language',\r\n            settings: {\r\n                foreground: '#0000ff',\r\n            },\r\n        },\r\n        {\r\n            scope: ['constant.numeric'],\r\n            settings: {\r\n                foreground: '#09885a',\r\n            },\r\n        },\r\n        {\r\n            scope: 'constant.regexp',\r\n            settings: {\r\n                foreground: '#811f3f',\r\n            },\r\n        },\r\n        {\r\n            name: 'css tags in selectors, xml tags',\r\n            scope: 'entity.name.tag',\r\n            settings: {\r\n                foreground: '#800000',\r\n            },\r\n        },\r\n        {\r\n            scope: 'entity.name.selector',\r\n            settings: {\r\n                foreground: '#800000',\r\n            },\r\n        },\r\n        {\r\n            scope: 'entity.other.attribute-name',\r\n            settings: {\r\n                foreground: '#ff0000',\r\n            },\r\n        },\r\n        {\r\n            scope: [\r\n                'entity.other.attribute-name.class.css',\r\n                'entity.other.attribute-name.class.mixin.css',\r\n                'entity.other.attribute-name.id.css',\r\n                'entity.other.attribute-name.parent-selector.css',\r\n                'entity.other.attribute-name.pseudo-class.css',\r\n                'entity.other.attribute-name.pseudo-element.css',\r\n                'source.css.less entity.other.attribute-name.id',\r\n                'entity.other.attribute-name.attribute.scss',\r\n                'entity.other.attribute-name.scss',\r\n            ],\r\n            settings: {\r\n                foreground: '#800000',\r\n            },\r\n        },\r\n        {\r\n            scope: 'invalid',\r\n            settings: {\r\n                foreground: '#cd3131',\r\n            },\r\n        },\r\n        {\r\n            scope: 'markup.underline',\r\n            settings: {\r\n                fontStyle: 'underline',\r\n            },\r\n        },\r\n        {\r\n            scope: 'markup.bold',\r\n            settings: {\r\n                fontStyle: 'bold',\r\n                foreground: '#000080',\r\n            },\r\n        },\r\n        {\r\n            scope: 'markup.heading',\r\n            settings: {\r\n                fontStyle: 'bold',\r\n                foreground: '#800000',\r\n            },\r\n        },\r\n        {\r\n            scope: 'markup.italic',\r\n            settings: {\r\n                fontStyle: 'italic',\r\n            },\r\n        },\r\n        {\r\n            scope: 'markup.inserted',\r\n            settings: {\r\n                foreground: '#09885a',\r\n            },\r\n        },\r\n        {\r\n            scope: 'markup.deleted',\r\n            settings: {\r\n                foreground: '#a31515',\r\n            },\r\n        },\r\n        {\r\n            scope: 'markup.changed',\r\n            settings: {\r\n                foreground: '#0451a5',\r\n            },\r\n        },\r\n        {\r\n            scope: [\r\n                'beginning.punctuation.definition.quote.markdown',\r\n                'beginning.punctuation.definition.list.markdown',\r\n            ],\r\n            settings: {\r\n                foreground: '#0451a5',\r\n            },\r\n        },\r\n        {\r\n            scope: 'markup.inline.raw',\r\n            settings: {\r\n                foreground: '#800000',\r\n            },\r\n        },\r\n        {\r\n            scope: 'meta.selector',\r\n            settings: {\r\n                foreground: '#800000',\r\n            },\r\n        },\r\n        {\r\n            name: 'brackets of XML/HTML tags',\r\n            scope: 'punctuation.definition.tag',\r\n            settings: {\r\n                foreground: '#800000',\r\n            },\r\n        },\r\n        {\r\n            scope: 'meta.preprocessor',\r\n            settings: {\r\n                foreground: '#0000ff',\r\n            },\r\n        },\r\n        {\r\n            scope: 'meta.preprocessor.string',\r\n            settings: {\r\n                foreground: '#a31515',\r\n            },\r\n        },\r\n        {\r\n            scope: 'meta.preprocessor.numeric',\r\n            settings: {\r\n                foreground: '#09885a',\r\n            },\r\n        },\r\n        {\r\n            scope: 'meta.structure.dictionary.key.python',\r\n            settings: {\r\n                foreground: '#0451a5',\r\n            },\r\n        },\r\n        {\r\n            scope: 'storage',\r\n            settings: {\r\n                foreground: '#0000ff',\r\n            },\r\n        },\r\n        {\r\n            scope: 'storage.type',\r\n            settings: {\r\n                foreground: '#0000ff',\r\n            },\r\n        },\r\n        {\r\n            scope: 'storage.modifier',\r\n            settings: {\r\n                foreground: '#0000ff',\r\n            },\r\n        },\r\n        {\r\n            scope: 'string',\r\n            settings: {\r\n                foreground: '#a31515',\r\n            },\r\n        },\r\n        {\r\n            scope: [\r\n                'string.comment.buffered.block.pug',\r\n                'string.quoted.pug',\r\n                'string.interpolated.pug',\r\n                'string.unquoted.plain.in.yaml',\r\n                'string.unquoted.plain.out.yaml',\r\n                'string.unquoted.block.yaml',\r\n                'string.quoted.single.yaml',\r\n                'string.quoted.double.xml',\r\n                'string.quoted.single.xml',\r\n                'string.unquoted.cdata.xml',\r\n                'string.quoted.double.html',\r\n                'string.quoted.single.html',\r\n                'string.unquoted.html',\r\n                'string.quoted.single.handlebars',\r\n                'string.quoted.double.handlebars',\r\n            ],\r\n            settings: {\r\n                foreground: '#0000ff',\r\n            },\r\n        },\r\n        {\r\n            scope: 'string.regexp',\r\n            settings: {\r\n                foreground: '#811f3f',\r\n            },\r\n        },\r\n        {\r\n            name: 'String interpolation',\r\n            scope: [\r\n                'punctuation.definition.template-expression.begin',\r\n                'punctuation.definition.template-expression.end',\r\n                'punctuation.section.embedded',\r\n            ],\r\n            settings: {\r\n                foreground: '#0000ff',\r\n            },\r\n        },\r\n        {\r\n            name: 'Reset JavaScript string interpolation expression',\r\n            scope: ['meta.template.expression'],\r\n            settings: {\r\n                foreground: '#000000',\r\n            },\r\n        },\r\n        {\r\n            scope: [\r\n                'support.constant.property-value',\r\n                'support.constant.font-name',\r\n                'support.constant.media-type',\r\n                'support.constant.media',\r\n                'constant.other.color.rgb-value',\r\n                'constant.other.rgb-value',\r\n                'support.constant.color',\r\n            ],\r\n            settings: {\r\n                foreground: '#0451a5',\r\n            },\r\n        },\r\n        {\r\n            scope: [\r\n                'support.type.vendored.property-name',\r\n                'support.type.property-name',\r\n                'variable.css',\r\n                'variable.scss',\r\n                'variable.other.less',\r\n                'source.coffee.embedded',\r\n            ],\r\n            settings: {\r\n                foreground: '#ff0000',\r\n            },\r\n        },\r\n        {\r\n            scope: ['support.type.property-name.json'],\r\n            settings: {\r\n                foreground: '#0451a5',\r\n            },\r\n        },\r\n        {\r\n            scope: 'keyword',\r\n            settings: {\r\n                foreground: '#0000ff',\r\n            },\r\n        },\r\n        {\r\n            scope: 'keyword.control',\r\n            settings: {\r\n                foreground: '#0000ff',\r\n            },\r\n        },\r\n        {\r\n            scope: 'keyword.operator',\r\n            settings: {\r\n                foreground: '#000000',\r\n            },\r\n        },\r\n        {\r\n            scope: [\r\n                'keyword.operator.new',\r\n                'keyword.operator.expression',\r\n                'keyword.operator.cast',\r\n                'keyword.operator.sizeof',\r\n                'keyword.operator.instanceof',\r\n                'keyword.operator.logical.python',\r\n            ],\r\n            settings: {\r\n                foreground: '#0000ff',\r\n            },\r\n        },\r\n        {\r\n            scope: 'keyword.other.unit',\r\n            settings: {\r\n                foreground: '#09885a',\r\n            },\r\n        },\r\n        {\r\n            scope: [\r\n                'punctuation.section.embedded.begin.php',\r\n                'punctuation.section.embedded.end.php',\r\n            ],\r\n            settings: {\r\n                foreground: '#800000',\r\n            },\r\n        },\r\n        {\r\n            scope: 'support.function.git-rebase',\r\n            settings: {\r\n                foreground: '#0451a5',\r\n            },\r\n        },\r\n        {\r\n            scope: 'constant.sha.git-rebase',\r\n            settings: {\r\n                foreground: '#09885a',\r\n            },\r\n        },\r\n        {\r\n            name: 'coloring of the Java import and package identifiers',\r\n            scope: [\r\n                'storage.modifier.import.java',\r\n                'variable.language.wildcard.java',\r\n                'storage.modifier.package.java',\r\n            ],\r\n            settings: {\r\n                foreground: '#000000',\r\n            },\r\n        },\r\n        {\r\n            name: 'this.self',\r\n            scope: 'variable.language',\r\n            settings: {\r\n                foreground: '#0000ff',\r\n            },\r\n        },\r\n        {\r\n            scope: 'token.info-token',\r\n            settings: {\r\n                foreground: '#316bcd',\r\n            },\r\n        },\r\n        {\r\n            scope: 'token.warn-token',\r\n            settings: {\r\n                foreground: '#cd9731',\r\n            },\r\n        },\r\n        {\r\n            scope: 'token.error-token',\r\n            settings: {\r\n                foreground: '#cd3131',\r\n            },\r\n        },\r\n        {\r\n            scope: 'token.debug-token',\r\n            settings: {\r\n                foreground: '#800080',\r\n            },\r\n        },\r\n    ],\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PatronBadge = exports.StripeErrorCode = exports.LiveMessageEvent = exports.TabType = exports.VercelDeploymentType = exports.VercelDeploymentState = exports.ServerContainerStatus = exports.ServerStatus = exports.WindowOrientation = exports.CommentsFilterOption = void 0;\r\nvar CommentsFilterOption;\r\n(function (CommentsFilterOption) {\r\n    CommentsFilterOption[\"ALL\"] = \"All\";\r\n    CommentsFilterOption[\"OPEN\"] = \"Open\";\r\n    CommentsFilterOption[\"RESOLVED\"] = \"Resolved\";\r\n})(CommentsFilterOption = exports.CommentsFilterOption || (exports.CommentsFilterOption = {}));\r\nvar WindowOrientation;\r\n(function (WindowOrientation) {\r\n    WindowOrientation[\"VERTICAL\"] = \"vertical\";\r\n    WindowOrientation[\"HORIZONTAL\"] = \"horizontal\";\r\n})(WindowOrientation = exports.WindowOrientation || (exports.WindowOrientation = {}));\r\nvar ServerStatus;\r\n(function (ServerStatus) {\r\n    ServerStatus[\"INITIALIZING\"] = \"initializing\";\r\n    ServerStatus[\"CONNECTED\"] = \"connected\";\r\n    ServerStatus[\"DISCONNECTED\"] = \"disconnected\";\r\n})(ServerStatus = exports.ServerStatus || (exports.ServerStatus = {}));\r\nvar ServerContainerStatus;\r\n(function (ServerContainerStatus) {\r\n    ServerContainerStatus[\"INITIALIZING\"] = \"initializing\";\r\n    ServerContainerStatus[\"CONTAINER_STARTED\"] = \"container-started\";\r\n    ServerContainerStatus[\"SANDBOX_STARTED\"] = \"sandbox-started\";\r\n    ServerContainerStatus[\"STOPPED\"] = \"stopped\";\r\n    ServerContainerStatus[\"HIBERNATED\"] = \"hibernated\";\r\n    ServerContainerStatus[\"ERROR\"] = \"error\";\r\n})(ServerContainerStatus = exports.ServerContainerStatus || (exports.ServerContainerStatus = {}));\r\nvar VercelDeploymentState;\r\n(function (VercelDeploymentState) {\r\n    VercelDeploymentState[\"DEPLOYING\"] = \"DEPLOYING\";\r\n    VercelDeploymentState[\"INITIALIZING\"] = \"INITIALIZING\";\r\n    VercelDeploymentState[\"DEPLOYMENT_ERROR\"] = \"DEPLOYMENT_ERROR\";\r\n    VercelDeploymentState[\"BOOTED\"] = \"BOOTED\";\r\n    VercelDeploymentState[\"BUILDING\"] = \"BUILDING\";\r\n    VercelDeploymentState[\"READY\"] = \"READY\";\r\n    VercelDeploymentState[\"BUILD_ERROR\"] = \"BUILD_ERROR\";\r\n    VercelDeploymentState[\"FROZEN\"] = \"FROZEN\";\r\n    VercelDeploymentState[\"ERROR\"] = \"ERROR\";\r\n})(VercelDeploymentState = exports.VercelDeploymentState || (exports.VercelDeploymentState = {}));\r\nvar VercelDeploymentType;\r\n(function (VercelDeploymentType) {\r\n    VercelDeploymentType[VercelDeploymentType[\"NPM\"] = 0] = \"NPM\";\r\n    VercelDeploymentType[VercelDeploymentType[\"DOCKER\"] = 1] = \"DOCKER\";\r\n    VercelDeploymentType[VercelDeploymentType[\"STATIC\"] = 2] = \"STATIC\";\r\n    VercelDeploymentType[VercelDeploymentType[\"LAMBDAS\"] = 3] = \"LAMBDAS\";\r\n})(VercelDeploymentType = exports.VercelDeploymentType || (exports.VercelDeploymentType = {}));\r\nvar TabType;\r\n(function (TabType) {\r\n    TabType[\"MODULE\"] = \"MODULE\";\r\n    TabType[\"DIFF\"] = \"DIFF\";\r\n})(TabType = exports.TabType || (exports.TabType = {}));\r\nvar LiveMessageEvent;\r\n(function (LiveMessageEvent) {\r\n    LiveMessageEvent[\"SAVE\"] = \"save\";\r\n    LiveMessageEvent[\"JOIN\"] = \"join\";\r\n    LiveMessageEvent[\"MODULE_STATE\"] = \"module_state\";\r\n    LiveMessageEvent[\"USER_ENTERED\"] = \"user:entered\";\r\n    LiveMessageEvent[\"USER_LEFT\"] = \"user:left\";\r\n    LiveMessageEvent[\"USERS_CHANGED\"] = \"users:changed\";\r\n    LiveMessageEvent[\"MODULE_SAVED\"] = \"module:saved\";\r\n    LiveMessageEvent[\"MODULE_CREATED\"] = \"module:created\";\r\n    LiveMessageEvent[\"MODULE_MASS_CREATED\"] = \"module:mass-created\";\r\n    LiveMessageEvent[\"MODULE_UPDATED\"] = \"module:updated\";\r\n    LiveMessageEvent[\"MODULE_DELETED\"] = \"module:deleted\";\r\n    LiveMessageEvent[\"EXTERNAL_RESOURCES\"] = \"sandbox:external-resources\";\r\n    LiveMessageEvent[\"DIRECTORY_CREATED\"] = \"directory:created\";\r\n    LiveMessageEvent[\"DIRECTORY_UPDATED\"] = \"directory:updated\";\r\n    LiveMessageEvent[\"DIRECTORY_DELETED\"] = \"directory:deleted\";\r\n    LiveMessageEvent[\"USER_SELECTION\"] = \"user:selection\";\r\n    LiveMessageEvent[\"USER_CURRENT_MODULE\"] = \"user:current-module\";\r\n    LiveMessageEvent[\"USER_VIEW_RANGE\"] = \"user:view-range\";\r\n    LiveMessageEvent[\"LIVE_MODE\"] = \"live:mode\";\r\n    LiveMessageEvent[\"LIVE_CHAT_ENABLED\"] = \"live:chat_enabled\";\r\n    LiveMessageEvent[\"LIVE_ADD_EDITOR\"] = \"live:add-editor\";\r\n    LiveMessageEvent[\"LIVE_REMOVE_EDITOR\"] = \"live:remove-editor\";\r\n    LiveMessageEvent[\"OPERATION\"] = \"operation\";\r\n    LiveMessageEvent[\"CONNECTION_LOSS\"] = \"connection-loss\";\r\n    LiveMessageEvent[\"DISCONNECT\"] = \"disconnect\";\r\n    LiveMessageEvent[\"OWNER_LEFT\"] = \"owner_left\";\r\n    LiveMessageEvent[\"CHAT\"] = \"chat\";\r\n    LiveMessageEvent[\"NOTIFICATION\"] = \"notification\";\r\n})(LiveMessageEvent = exports.LiveMessageEvent || (exports.LiveMessageEvent = {}));\r\nvar StripeErrorCode;\r\n(function (StripeErrorCode) {\r\n    StripeErrorCode[\"REQUIRES_ACTION\"] = \"requires_action\";\r\n})(StripeErrorCode = exports.StripeErrorCode || (exports.StripeErrorCode = {}));\r\nvar PatronBadge;\r\n(function (PatronBadge) {\r\n    PatronBadge[\"ONE\"] = \"patron-1\";\r\n    PatronBadge[\"TWO\"] = \"patron-2\";\r\n    PatronBadge[\"THREE\"] = \"patron-3\";\r\n    PatronBadge[\"FOURTH\"] = \"patron-4\";\r\n})(PatronBadge = exports.PatronBadge || (exports.PatronBadge = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst styled_components_1 = require(\"styled-components\");\r\nconst animation = styled_components_1.keyframes `\n  0%   { opacity: 0; }\n  100% { opacity: 1; }\n`;\r\nexports.default = delay => styled_components_1.css `\n    animation: ${animation} 0.3s;\n    animation-delay: ${delay}s;\n    animation-fill-mode: forwards;\n    opacity: 0;\n  `;\r\n","\"use strict\";\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst react_1 = __importDefault(require(\"react\"));\r\nconst styled_components_1 = __importDefault(require(\"styled-components\"));\r\nconst Tooltip_1 = __importDefault(require(\"../../components/Tooltip\"));\r\nconst _1 = __importDefault(require(\".\"));\r\nconst NameContainer = styled_components_1.default.div `\n  display: inline-block;\n  text-align: center;\n`;\r\nconst Image = styled_components_1.default.img `\n  transition: 0.3s ease all;\n  margin-bottom: -0.4em;\n\n  opacity: ${props => (props.visible ? 1 : 0.5)};\n  cursor: pointer;\n\n  &:hover {\n    ${props => !props.visible && `opacity: .75;`};\n  }\n`;\r\nclass Badge extends react_1.default.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.handleClick = () => {\r\n            if (this.props.onClick) {\r\n                this.props.onClick(this.props.badge);\r\n            }\r\n        };\r\n    }\r\n    render() {\r\n        const _a = this.props, { visible, badge, tooltip, size, onClick } = _a, props = __rest(_a, [\"visible\", \"badge\", \"tooltip\", \"size\", \"onClick\"]);\r\n        const innerContent = (react_1.default.createElement(Image, Object.assign({}, props, { width: size, src: _1.default(badge.id), alt: badge.name, visible: visible || badge.visible, onClick: this.handleClick })));\r\n        if (tooltip !== false) {\r\n            return (react_1.default.createElement(Tooltip_1.default, { style: {\r\n                    display: 'block',\r\n                }, content: tooltip || badge.name }, innerContent));\r\n        }\r\n        return (react_1.default.createElement(NameContainer, null,\r\n            innerContent,\r\n            react_1.default.createElement(\"div\", { style: { marginTop: '0.5rem' } }, badge.name)));\r\n    }\r\n}\r\nexports.default = Badge;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/* @flow */\r\nconst patron_4_svg_1 = __importDefault(require(\"./svg/patron-4.svg\"));\r\nconst patron_3_svg_1 = __importDefault(require(\"./svg/patron-3.svg\"));\r\nconst patron_2_svg_1 = __importDefault(require(\"./svg/patron-2.svg\"));\r\nconst patron_1_svg_1 = __importDefault(require(\"./svg/patron-1.svg\"));\r\nfunction getBadge(badgeId) {\r\n    if (badgeId === 'patron_4')\r\n        return patron_4_svg_1.default;\r\n    if (badgeId === 'patron_3')\r\n        return patron_3_svg_1.default;\r\n    if (badgeId === 'patron_2')\r\n        return patron_2_svg_1.default;\r\n    if (badgeId === 'patron_1')\r\n        return patron_1_svg_1.default;\r\n    return '';\r\n}\r\nexports.default = getBadge;\r\n","module.exports = __webpack_public_path__ + \"static/media/patron-1.228cd9db.svg\";","module.exports = __webpack_public_path__ + \"static/media/patron-2.764a2ace.svg\";","module.exports = __webpack_public_path__ + \"static/media/patron-3.262ba8e6.svg\";","module.exports = __webpack_public_path__ + \"static/media/patron-4.57071f9d.svg\";","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.STRIPE_API_KEY = exports.ALGOLIA_DEFAULT_INDEX = exports.ALGOLIA_APPLICATION_ID = exports.ALGOLIA_API_KEY = void 0;\r\nexports.ALGOLIA_API_KEY = '7675b9e87ed7dd5bbf18f3e5310f92d6';\r\nexports.ALGOLIA_APPLICATION_ID = 'ZACZHDBO7S';\r\nexports.ALGOLIA_DEFAULT_INDEX = process.env.NODE_ENV === 'production' || process.env.LOCAL_SERVER\r\n    ? 'prod_sandboxes'\r\n    : 'dev_sandboxes';\r\nexports.STRIPE_API_KEY = process.env.NODE_ENV === 'production'\r\n    ? 'pk_live_KeUgofl1VrjTtbrhhN7gGI9W'\r\n    : 'pk_test_0HgnQIkQJCECIFCQkafGQ5gA';\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ColorIcons = exports.getTemplateIcon = void 0;\r\nconst template_icons_1 = require(\"@codesandbox/template-icons\");\r\nconst icons_1 = __importDefault(require(\"../templates/icons\"));\r\nexports.getTemplateIcon = (iconUrl, environment) => {\r\n    const UserIcon = iconUrl && template_icons_1.ColorIcons[iconUrl] ? template_icons_1.ColorIcons[iconUrl] : icons_1.default(environment);\r\n    const OfficialIcon = icons_1.default(environment);\r\n    return {\r\n        UserIcon,\r\n        OfficialIcon,\r\n    };\r\n};\r\nexports.ColorIcons = template_icons_1.ColorIcons;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.hasPermission = void 0;\r\nconst permissions = [\r\n    'write_code',\r\n    'write_project',\r\n    'comment',\r\n    'read',\r\n    'none',\r\n];\r\n/**\r\n * Whether the given permission is permitted compared to the required permission.\r\n * We use a simple model for this, where if you have a top permission it will be considered\r\n * that you have all other permissions. This same list is saved on the server, and this needs\r\n * to keep in sync with that.\r\n * @param permission Permission to test\r\n * @param requiredPermission Required permission to pass the test\r\n */\r\nfunction hasPermission(permission, requiredPermission) {\r\n    return (permissions.indexOf(permission) <= permissions.indexOf(requiredPermission));\r\n}\r\nexports.hasPermission = hasPermission;\r\n","module.exports = \"---\\nbanner: ./images/3-6-6.jpg\\ntitle: v3.6.6\\nslug: bug fixes v3.6.6\\ndate: 2020-06-05\\ndescription: This release includes bug fixes.\\n---\\n\\n###\\n\\n#### Fixes\\n\\n- We reduced the time it takes to run syntax highlighting by 3x in most cases\\n- Several fixes to resolve edge-cases in how the the bundler handles ES modules\\n- We now better handle projects that define an invalid \\\"modules\\\" entry-point\\n- We also improved our handling of dynamic imports\\n- We fixed an overflow issue for long dependency names in the editor\\n- We removed the now superfluous notification that you're live since sandboxes\\n  are live by default\\n\"","import track from '@codesandbox/common/lib/utils/analytics';\nimport { notificationState } from '@codesandbox/common/lib/utils/notifications';\nimport { NotificationStatus } from '@codesandbox/notifications';\nimport { client } from 'app/graphql/client';\nimport {\n  ListTemplatesQuery,\n  ListTemplatesQueryVariables,\n  PathedSandboxesFoldersQueryVariables,\n  PathedSandboxesQuery,\n  UnmakeSandboxesTemplateMutation,\n  UnmakeSandboxesTemplateMutationVariables,\n} from 'app/graphql/types';\nimport {\n  PATHED_SANDBOXES_CONTENT_QUERY,\n  addSandboxesToFolder,\n} from 'app/pages/Dashboard/queries';\nimport gql from 'graphql-tag';\nimport immer from 'immer';\n\nconst TEMPLATE_FRAGMENT = gql`\n  fragment Template on Template {\n    id\n    color\n    iconUrl\n    published\n    sandbox {\n      id\n      alias\n      title\n      description\n      insertedAt\n      updatedAt\n\n      collection {\n        team {\n          name\n        }\n      }\n\n      author {\n        username\n      }\n\n      source {\n        template\n      }\n    }\n  }\n`;\n\nexport const LIST_PERSONAL_TEMPLATES = gql`\n  query ListPersonalTemplates {\n    me {\n      templates {\n        ...Template\n      }\n\n      recentlyUsedTemplates {\n        ...Template\n\n        sandbox {\n          git {\n            id\n            username\n            commitSha\n            path\n            repo\n            branch\n          }\n        }\n      }\n\n      bookmarkedTemplates {\n        ...Template\n      }\n\n      teams {\n        id\n        name\n        bookmarkedTemplates {\n          ...Template\n        }\n        templates {\n          ...Template\n        }\n      }\n    }\n  }\n\n  ${TEMPLATE_FRAGMENT}\n`;\n\nexport const LIST_OWNED_TEMPLATES = gql`\n  query ListTemplates($showAll: Boolean) {\n    me {\n      templates(showAll: $showAll) {\n        ...Template\n      }\n\n      teams {\n        id\n        name\n        templates {\n          ...Template\n        }\n      }\n    }\n  }\n\n  ${TEMPLATE_FRAGMENT}\n`;\n\nexport const LIST_BOOKMARKED_TEMPLATES_QUERY = gql`\n  query ListPersonalBookmarkedTemplates {\n    me {\n      teams {\n        id\n        name\n        bookmarkedTemplates {\n          ...Template\n        }\n      }\n      bookmarkedTemplates {\n        ...Template\n      }\n    }\n  }\n\n  ${TEMPLATE_FRAGMENT}\n`;\n\nexport const MAKE_SANDBOXES_TEMPLATE_MUTATION = gql`\n  mutation MakeSandboxesTemplate($sandboxIds: [ID!]!) {\n    makeSandboxesTemplates(sandboxIds: $sandboxIds) {\n      id\n    }\n  }\n`;\n\nexport const UNMAKE_SANDBOXES_TEMPLATE_MUTATION = gql`\n  mutation UnmakeSandboxesTemplate($sandboxIds: [ID!]!) {\n    unmakeSandboxesTemplates(sandboxIds: $sandboxIds) {\n      id\n    }\n  }\n`;\n\nexport function unmakeTemplates(selectedSandboxes: string[]) {\n  return client.mutate<\n    UnmakeSandboxesTemplateMutation,\n    UnmakeSandboxesTemplateMutationVariables\n  >({\n    mutation: UNMAKE_SANDBOXES_TEMPLATE_MUTATION,\n    variables: {\n      sandboxIds: selectedSandboxes,\n    },\n    refetchQueries: [\n      'DeletedSandboxes',\n      'PathedSandboxes',\n      'RecentSandboxes',\n      'SearchSandboxes',\n      'ListTemplates',\n    ],\n    update: cache => {\n      try {\n        const variables: ListTemplatesQueryVariables = {\n          showAll: false,\n        };\n\n        const oldTemplatesCache = cache.readQuery<\n          ListTemplatesQuery,\n          ListTemplatesQueryVariables\n        >({\n          query: LIST_OWNED_TEMPLATES,\n          variables,\n        });\n\n        const data = immer(oldTemplatesCache, draft => {\n          if (draft?.me?.templates && draft?.me?.teams) {\n            draft.me.templates = draft.me.templates.filter(x =>\n              x?.sandbox?.id\n                ? selectedSandboxes.indexOf(x.sandbox.id) === -1\n                : true\n            );\n\n            draft.me.teams = draft.me.teams.map(t => ({\n              ...t,\n              templates: t?.templates?.filter(x =>\n                x?.sandbox?.id\n                  ? selectedSandboxes.indexOf(x.sandbox.id) === -1\n                  : true\n              ),\n              // Giving up\n            })) as any;\n          }\n        });\n\n        if (data) {\n          cache.writeQuery<ListTemplatesQuery, ListTemplatesQueryVariables>({\n            query: LIST_OWNED_TEMPLATES,\n            variables,\n            data,\n          });\n        }\n      } catch (e) {\n        // cache doesn't exist, no biggie!\n      }\n    },\n  });\n}\n\nexport function makeTemplates(\n  selectedSandboxes: string[],\n  teamId: string | null,\n  collections?: { teamId: string | null }[]\n) {\n  const unpackedSelectedSandboxes: string[] =\n    // @ts-ignore\n    typeof selectedSandboxes.toJS === 'function'\n      ? (selectedSandboxes as any).toJS()\n      : selectedSandboxes;\n  return Promise.all([\n    addSandboxesToFolder(unpackedSelectedSandboxes, '/', teamId),\n    client\n      .mutate({\n        mutation: MAKE_SANDBOXES_TEMPLATE_MUTATION,\n        variables: {\n          sandboxIds: unpackedSelectedSandboxes,\n        },\n        refetchQueries: [\n          'DeletedSandboxes',\n          'PathedSandboxes',\n          'RecentSandboxes',\n          'SearchSandboxes',\n          'ListTemplates',\n        ],\n        update: cache => {\n          if (collections) {\n            collections.forEach(variables => {\n              try {\n                const oldFolderCacheData = cache.readQuery<\n                  PathedSandboxesQuery,\n                  PathedSandboxesFoldersQueryVariables\n                >({\n                  query: PATHED_SANDBOXES_CONTENT_QUERY,\n                  variables,\n                });\n\n                const data = immer(oldFolderCacheData, draft => {\n                  if (\n                    draft?.me?.collection &&\n                    oldFolderCacheData?.me?.collection?.sandboxes\n                  ) {\n                    draft.me.collection.sandboxes = oldFolderCacheData.me.collection.sandboxes.filter(\n                      x =>\n                        x?.id ? selectedSandboxes.indexOf(x.id) === -1 : true\n                    );\n                  }\n                });\n\n                cache.writeQuery({\n                  query: PATHED_SANDBOXES_CONTENT_QUERY,\n                  variables,\n                  data,\n                });\n              } catch (e) {\n                // cache doesn't exist, no biggie!\n              }\n            });\n          }\n        },\n      })\n      .then(() => {\n        notificationState.addNotification({\n          message: `Successfully created ${selectedSandboxes.length} template${\n            selectedSandboxes.length === 1 ? '' : 's'\n          }`,\n          status: NotificationStatus.SUCCESS,\n          actions: {\n            primary: {\n              label: 'Undo',\n              run: () => {\n                track('Template - Removed', {\n                  source: 'Undo',\n                });\n                unmakeTemplates(unpackedSelectedSandboxes);\n              },\n            },\n          },\n        });\n      }),\n  ]);\n}\n","import delayEffect from '@codesandbox/common/lib/utils/animation/delay-effect';\nimport styled from 'styled-components';\n\nexport const DelayedAnimation = styled.div<{ delay?: number }>`\n  ${({ delay = 0 }) => delayEffect(delay)};\n`;\n","import { Button as ReakitButton } from 'reakit';\nimport styled, { css } from 'styled-components';\n\nexport const LinkButton = styled(ReakitButton)`\n  ${({ theme }) => css`\n    display: inline-block;\n    padding: 0;\n    margin: 0;\n    border: none;\n    background-color: transparent;\n    color: ${theme.secondary};\n    outline: none;\n    transition: 0.3s ease color;\n    cursor: pointer;\n\n    &:hover,\n    &:focus {\n      color: ${theme.secondary.lighten(0.2)};\n    }\n  `}\n`;\n","import React from 'react';\nimport Modal from 'react-modal';\nimport { createGlobalStyle } from 'styled-components';\nimport css from '@styled-system/css';\nimport { Text } from '@codesandbox/components';\n\nconst CLOSE_TIMEOUT_MS = 300;\n\nif (document.getElementById('root')) {\n  Modal.setAppElement('#root');\n} else if (document.getElementById('___gatsby')) {\n  Modal.setAppElement('#___gatsby');\n}\n\nconst GlobalStyles = createGlobalStyle`\n.ReactModal__Content {\n  transition: all ${CLOSE_TIMEOUT_MS}ms ease;\n  transition-property: opacity, transform;\n  opacity: 0;\n  transform: scale(0.9) translateY(5px);\n\n  h2 {\n    margin-top: 14px;\n  }\n}\n\n.ReactModal__Overlay {\n  transition: all ${CLOSE_TIMEOUT_MS}ms ease;\n  transition-property: opacity, transform;\n  z-index: 10;\n  opacity: 0;\n}\n\n.ReactModal__Overlay--after-open {\n  transition: all ${CLOSE_TIMEOUT_MS}ms ease;\n  z-index: 10;\n  opacity: 1;\n}\n\n.ReactModal__Html--open {\n  overflow-y: hidden;\n}\n\n.ReactModal__Content--after-open {\n  opacity: 1;\n  transform: scale(1) translateY(0);\n}\n\n.ReactModal__Overlay--before-close {\n  opacity: 0;\n}\n\n.ReactModal__Content--before-close {\n  opacity: 0;\n  transform: scale(0.9) translateY(0);\n}\n`;\n\nclass ModalComponent extends React.Component {\n  getStyles = (width = 400, top = 20) => ({\n    overlay: {\n      backgroundColor: 'rgba(0, 0, 0, 0.75)',\n      overflowY: 'auto',\n      zIndex: 30,\n      transform: 'translate3d(0, 0, 0)',\n    },\n    content: {\n      position: 'relative',\n      overflow: 'hidden',\n      padding: 0,\n      maxWidth: width,\n      top: `${top}vh`,\n      bottom: 40,\n      left: 0,\n      right: 0,\n      margin: `0 auto ${top}vh`,\n      fontFamily: \"'Inter', sans-serif\",\n      outline: 'none',\n    },\n  });\n\n  render() {\n    const {\n      isOpen,\n      width,\n      top,\n      onClose,\n      children,\n      title,\n      ...props\n    } = this.props;\n\n    if (!isOpen) {\n      return null;\n    }\n\n    return (\n      <>\n        <GlobalStyles />\n        <Modal\n          isOpen={isOpen}\n          onRequestClose={e => {\n            onClose(e.type === 'keydown');\n          }}\n          contentLabel={title || 'Modal'}\n          css={css({\n            border: '1px solid',\n            borderColor: 'sideBar.border',\n            borderRadius: 'medium',\n            backgroundColor: 'sideBar.background',\n            boxShadow: 2,\n            color: 'sideBar.foreground',\n            lineHeight: 1.2,\n          })}\n          style={this.getStyles(width, top)}\n          closeTimeoutMS={CLOSE_TIMEOUT_MS}\n          htmlOpenClassName=\"ReactModal__Html--open\"\n          {...props}\n        >\n          <div>\n            {title && (\n              <Text weight=\"bold\" block size={4} paddingBottom={2}>\n                {title}\n              </Text>\n            )}\n            <div>{children}</div>\n          </div>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default ModalComponent;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: inherit;\n  position: relative;\n`;\n\nexport const ContentContainer = styled.div`\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  z-index: 10;\n`;\n","import React, {\n  useState,\n  useLayoutEffect,\n  useEffect,\n  useCallback,\n} from 'react';\nimport { motion } from 'framer-motion';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport Portal from '@codesandbox/common/lib/components/Portal';\nimport { ESC } from '@codesandbox/common/lib/utils/keycodes';\nimport { Container, ContentContainer } from './elements';\n\ninterface IOverlayProps {\n  event: string;\n  isOpen?: boolean;\n  onOpen?: () => void;\n  onClose?: () => void;\n  children: (handleOpen: () => void) => React.ReactNode;\n  content: React.ComponentType;\n  noHeightAnimation?: boolean;\n  width?: number;\n}\n\nconst POPOVER_WIDTH = 390;\n\nconst noop = () => undefined;\nexport const Overlay: React.FC<IOverlayProps> = ({\n  event,\n  isOpen,\n  onOpen = noop,\n  onClose = noop,\n  children,\n  content: Content,\n  noHeightAnimation = true,\n  width = POPOVER_WIDTH,\n}) => {\n  const [open, setOpen] = useState(isOpen === undefined ? false : isOpen);\n  const isControlled = isOpen !== undefined;\n  const openState = isControlled ? isOpen : open;\n  const element = React.useRef<HTMLDivElement>();\n  const bounds = React.useRef<{\n    top: number;\n    left: number;\n    height: number;\n    width: number;\n  }>({\n    top: 0,\n    left: 0,\n    width: 0,\n    height: 0,\n  });\n\n  const calculateBounds = () => {\n    const posData = element.current.getBoundingClientRect();\n    bounds.current = {\n      top: posData.top,\n      left: posData.left,\n      width: posData.width,\n      height: posData.height,\n    };\n  };\n\n  useLayoutEffect(() => {\n    calculateBounds();\n\n    window.addEventListener('resize', calculateBounds);\n    return () => {\n      window.removeEventListener('resize', calculateBounds);\n    };\n  }, []);\n\n  const handleClose = useCallback(() => {\n    if (openState) {\n      if (event) {\n        track(`Closed ${event}`);\n      }\n      if (isControlled) {\n        if (onClose) {\n          onClose();\n        }\n      } else {\n        setOpen(false);\n      }\n    }\n  }, [openState, isControlled, onClose, setOpen, event]);\n\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (!e.defaultPrevented && e.keyCode === ESC) {\n        handleClose();\n      }\n    };\n\n    if (openState) {\n      document.addEventListener('keydown', handleEscape);\n    } else {\n      document.removeEventListener('keydown', handleEscape);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [handleClose, openState]);\n\n  const handleOpen = () => {\n    if (event) {\n      track(`Opened ${event}`);\n    }\n    if (isControlled) {\n      if (onOpen) {\n        onOpen();\n      }\n    } else {\n      setOpen(true);\n    }\n  };\n\n  return (\n    <Container onMouseDown={e => e.stopPropagation()} ref={element}>\n      {children(handleOpen)}\n\n      {openState && (\n        <Portal>\n          <ContentContainer onClick={handleClose}>\n            <motion.div\n              onClick={e => e.stopPropagation()}\n              style={{\n                opacity: 0.6,\n                position: 'absolute',\n                zIndex: 10,\n                overflow: 'hidden',\n                boxShadow: '0 3px 3px rgba(0, 0, 0, 0.3)',\n                height: 'auto',\n                borderRadius: 4,\n                top: bounds.current.top + bounds.current.height + 8,\n                left: bounds.current.left + bounds.current.width - width * 0.75,\n                width,\n              }}\n              transition={{\n                duration: 0.2,\n              }}\n              initial={{ y: -5 }}\n              animate={{ opacity: 1, y: 0 }}\n            >\n              <Content />\n            </motion.div>\n          </ContentContainer>\n        </Portal>\n      )}\n    </Container>\n  );\n};\n","export { Overlay } from './Overlay';\n","import styled from 'styled-components';\nimport { Input } from '@codesandbox/components';\n\nexport const CardContainer = styled.div`\n  margin-top: 0.25rem;\n`;\n\nexport const StripeInput = styled(Input)`\n  width: 100%;\n  height: 32.8px;\n  padding: 0.5rem;\n  margin-top: 0.25rem;\n  margin-bottom: 0.5rem;\n  font-size: 0.875rem;\n`;\n\nexport const ErrorText = styled.div`\n  margin: 0.25rem 0;\n  color: ${props => props.theme.red};\n  font-size: 0.875rem;\n`;\n","import React from 'react';\nimport {\n  injectStripe,\n  CardElement,\n  ReactStripeElements,\n} from 'react-stripe-elements';\nimport { withTheme } from 'styled-components';\nimport css from '@styled-system/css';\nimport { logError } from '@codesandbox/common/lib/utils/analytics';\nimport { Button, Label, Element } from '@codesandbox/components';\n\nimport { CardContainer, StripeInput, ErrorText } from './elements';\n\ninterface Props {\n  name: string;\n  buttonName: string;\n  loadingText: string;\n  isLoading: boolean;\n  subscribe: (params: { token: string; coupon: string }) => void;\n  stripe?: ReactStripeElements.StripeProps;\n  error?: Error | string;\n  hasCoupon?: boolean;\n  theme?: any;\n}\n\ninterface State {\n  errors: {\n    name?: string;\n    stripe?: string;\n  };\n  name: string;\n  coupon: string;\n  loading: boolean;\n}\n\nclass CheckoutFormComponent extends React.PureComponent<Props, State> {\n  state: State = {\n    errors: {},\n    name: this.props.name || '',\n    coupon: '',\n    loading: false,\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.name !== this.props.name) {\n      this.setState({ errors: {}, name: nextProps.name });\n    }\n  }\n\n  setName = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e) {\n      this.setState({ errors: {}, name: e.target.value });\n    }\n  };\n\n  setCoupon = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e) {\n      this.setState({ errors: {}, coupon: e.target.value });\n    }\n  };\n\n  handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!this.state.name) {\n      return this.setState({ errors: { name: 'Please provide a name ' } });\n    }\n\n    this.setState({ loading: true, errors: {} });\n\n    // Within the context of `Elements`, this call to createToken knows which Element to\n    // tokenize, since there's only one in this group.\n    const { token, error } = await this.props.stripe.createToken({\n      name: this.state.name,\n    });\n    if (error) {\n      return this.setState({\n        loading: false,\n        errors: {\n          stripe: error.message,\n        },\n      });\n    }\n\n    try {\n      await this.props.subscribe({\n        token: token.id,\n        coupon: this.state.coupon,\n      });\n    } catch (err) {\n      logError(err);\n\n      return this.setState({\n        loading: false,\n        errors: {\n          stripe: err.message,\n        },\n      });\n    }\n\n    return this.setState({\n      loading: false,\n    });\n  };\n\n  render() {\n    const {\n      buttonName,\n      loadingText,\n      isLoading,\n      error,\n      hasCoupon = false,\n      theme,\n    } = this.props;\n    const { errors, loading: stateLoading } = this.state;\n\n    const loading = isLoading || stateLoading;\n\n    const stripeError = errors.stripe || error;\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <Label variant=\"muted\" size={3} paddingBottom={1}>\n          Cardholder Name\n        </Label>\n        {errors.name != null && <ErrorText>{errors.name}</ErrorText>}\n        <Element>\n          <StripeInput\n            value={this.state.name}\n            onChange={this.setName}\n            placeholder=\"Please enter your name\"\n          />\n        </Element>\n\n        <Label variant=\"muted\" size={3} paddingBottom={1}>\n          Card\n        </Label>\n        {stripeError != null && <ErrorText>{stripeError}</ErrorText>}\n        <CardContainer>\n          <Element\n            css={css({\n              height: '32px',\n              paddingTop: '6px',\n              width: '100%',\n              paddingX: 2,\n              fontSize: 3,\n              lineHeight: 1, // trust the height\n              fontFamily: 'Inter, sans-serif',\n              borderRadius: 'small',\n              backgroundColor: 'input.background',\n              border: '1px solid',\n              borderColor: 'input.border',\n              color: 'input.foreground',\n            })}\n          >\n            <CardElement\n              style={{\n                base: {\n                  color: theme.colors.input.foreground,\n                },\n              }}\n            />\n          </Element>\n        </CardContainer>\n\n        {hasCoupon && (\n          <>\n            <Label variant=\"muted\" size={3} paddingBottom={1}>\n              Coupon\n            </Label>\n            <Element>\n              <StripeInput\n                value={this.state.coupon}\n                onChange={this.setCoupon}\n                placeholder=\"Coupon or Discount Code\"\n              />\n            </Element>\n          </>\n        )}\n\n        <Button\n          type=\"submit\"\n          disabled={loading}\n          style={{ marginTop: '1rem', width: 300 }}\n        >\n          {loading ? loadingText : buttonName}\n        </Button>\n      </form>\n    );\n  }\n}\n// @ts-ignore\nexport const CheckoutForm = injectStripe(withTheme(CheckoutFormComponent));\n","import React from 'react';\nimport { StripeProvider, Elements } from 'react-stripe-elements';\nimport { STRIPE_API_KEY } from '@codesandbox/common/lib/utils/config';\nimport { useScript } from 'app/hooks';\nimport { Element } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { CheckoutForm } from './CheckoutForm';\n\ninterface ISubscribeFormProps {\n  name: string;\n  subscribe: (params: { token: string; coupon: string }) => void;\n  loadingText?: string;\n  buttonName?: string;\n  isLoading?: boolean;\n  error?: string;\n  hasCoupon?: boolean;\n}\n\nconst context = window as any;\n\nexport const SubscribeForm: React.FC<ISubscribeFormProps> = ({\n  name,\n  subscribe,\n  loadingText = 'Creating Subscription...',\n  buttonName = 'Subscribe',\n  isLoading = false,\n  error,\n  hasCoupon,\n}) => {\n  const [stripe, setStripe] = React.useState(null);\n  const [loaded] = useScript('https://js.stripe.com/v3/');\n\n  React.useEffect(() => {\n    if (context.Stripe) {\n      setStripe(context.Stripe(STRIPE_API_KEY));\n    }\n  }, [loaded]);\n\n  return (\n    <>\n      <Element\n        css={css({\n          width: 300,\n          borderRadius: 3,\n        })}\n      >\n        <StripeProvider stripe={stripe}>\n          <Elements>\n            <CheckoutForm\n              buttonName={buttonName}\n              loadingText={loadingText}\n              subscribe={subscribe}\n              name={name}\n              isLoading={isLoading}\n              error={error}\n              hasCoupon={hasCoupon}\n            />\n          </Elements>\n        </StripeProvider>\n      </Element>\n    </>\n  );\n};\n","import React, { useEffect } from 'react';\nimport Downshift, { DownshiftProps } from 'downshift';\nimport css from '@styled-system/css';\nimport { Input, List, ListAction } from '@codesandbox/components';\n\ntype User = {\n  id: string;\n  username: string;\n  avatar_url: string;\n};\n\ninterface IUserAutoComplete {\n  inputValue: string;\n  children: (answer: {\n    users: User[];\n    loading: boolean;\n    error: Error | null;\n  }) => JSX.Element;\n}\n\nconst UserAutoComplete = ({ inputValue, children }: IUserAutoComplete) => {\n  const [users, setUsers] = React.useState<User[]>([]);\n  const [loading, setLoading] = React.useState<boolean>(true);\n  const [error, setError] = React.useState<Error | null>(null);\n  useEffect(() => {\n    setLoading(true);\n    setError(null);\n\n    let timeoutId: number;\n\n    if (inputValue.length > 2 && !inputValue.includes('@')) {\n      // Small debounce\n      timeoutId = window.setTimeout(() => {\n        fetch(`/api/v1/users/search?username=${inputValue}`)\n          .then(x => x.json())\n          .then(x => {\n            setUsers(x);\n            setLoading(false);\n          })\n          .catch(e => {\n            setError(e);\n          });\n      }, 300);\n    } else {\n      setUsers([]);\n    }\n\n    return () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    };\n  }, [inputValue]);\n\n  return children({ users, loading, error });\n};\n\ninterface IUserSearchInputProps {\n  onInputValueChange: DownshiftProps<string>['onInputValueChange'];\n  inputValue: string;\n  [key: string]: any;\n}\n\n// There is a conflict with 'as' typing (string vs 'select' | 'option', etc...)\nconst InputWithoutTypes = Input as any;\n\nexport const UserSearchInput = ({\n  onInputValueChange,\n  inputValue,\n  ...props\n}: IUserSearchInputProps) => (\n  <Downshift\n    inputValue={inputValue}\n    onInputValueChange={onInputValueChange}\n    selectedItem={inputValue}\n  >\n    {({\n      getInputProps,\n      getItemProps,\n      getRootProps,\n      getMenuProps,\n      isOpen,\n      selectedItem,\n      inputValue: currentInputValue,\n      highlightedIndex,\n    }) => (\n      <div style={{ width: '100%', position: 'relative' }}>\n        <div\n          {...getRootProps({ refKey: 'innerRef' }, { suppressRefError: true })}\n        >\n          <InputWithoutTypes\n            {...props}\n            {...getInputProps({\n              placeholder: 'Enter username or email',\n            })}\n            autoFocus\n            spellcheck=\"false\"\n          />\n        </div>\n\n        <UserAutoComplete inputValue={currentInputValue}>\n          {({ users, error }) =>\n            users.length > 0 && !error && isOpen ? (\n              <List\n                css={css({\n                  position: 'absolute',\n                  width: '100%',\n                  borderBottomLeftRadius: 'small',\n                  borderBottomRightRadius: 'small',\n                  boxShadow: 1,\n                  fontSize: 3,\n                  backgroundColor: 'dialog.background',\n                  border: '1px solid',\n                  borderColor: 'dialog.border',\n                })}\n                {...getMenuProps({})}\n              >\n                {users.map((item, index) => (\n                  <ListAction\n                    key={item.id}\n                    isActive={highlightedIndex === index}\n                    {...getItemProps({\n                      item: item.username,\n                      index,\n                      isSelected: selectedItem === item.username,\n                    })}\n                  >\n                    <img\n                      alt={item.username}\n                      css={css({\n                        borderRadius: 2,\n                        marginRight: 2,\n                      })}\n                      width={24}\n                      height={24}\n                      src={item.avatar_url}\n                    />{' '}\n                    {item.username}\n                  </ListAction>\n                ))}\n              </List>\n            ) : null\n          }\n        </UserAutoComplete>\n      </div>\n    )}\n  </Downshift>\n);\n","export { UserSearchInput } from './UserSearchInput';\n","export const DIALOG_TRANSITION_DURATION = 0.25;\nexport const DIALOG_WIDTH = 420;\nexport const REPLY_TRANSITION_DELAY = 0.5;\n","export interface IntrospectionResultData {\n  __schema: {\n    types: {\n      kind: string;\n      name: string;\n      possibleTypes: {\n        name: string;\n      }[];\n    }[];\n  };\n}\n\nconst result: IntrospectionResultData = {\n  __schema: {\n    types: [\n      {\n        kind: 'UNION',\n        name: 'BookmarkEntity',\n        possibleTypes: [\n          {\n            name: 'Team',\n          },\n          {\n            name: 'User',\n          },\n        ],\n      },\n      {\n        kind: 'UNION',\n        name: 'ReferenceMetadata',\n        possibleTypes: [\n          {\n            name: 'CodeReferenceMetadata',\n          },\n        ],\n      },\n    ],\n  },\n};\n\nexport default result;\n","import { ApolloClient } from 'apollo-client';\nimport { ApolloLink } from 'apollo-link';\nimport { BatchHttpLink } from 'apollo-link-batch-http';\nimport { setContext } from 'apollo-link-context';\nimport {\n  InMemoryCache,\n  IntrospectionFragmentMatcher,\n} from 'apollo-cache-inmemory';\nimport { onError } from 'apollo-link-error';\nimport { notificationState } from '@codesandbox/common/lib/utils/notifications';\nimport { NotificationStatus } from '@codesandbox/notifications';\nimport introspectionQueryResultData from './introspection-result';\n\nconst fragmentMatcher = new IntrospectionFragmentMatcher({\n  introspectionQueryResultData,\n});\n\nconst httpLink = new BatchHttpLink({\n  uri: '/api/graphql',\n});\n\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const token = localStorage.getItem('jwt');\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${JSON.parse(token)}` : '',\n    },\n  };\n});\n\nconst absintheAfterware = new ApolloLink((operation, forward) =>\n  // @ts-ignore\n  forward(operation).map(({ payload, ...result }) => ({\n    ...result,\n    errors: payload.errors,\n    data: payload.data,\n  }))\n);\n\nconst errorHandler = onError(({ graphQLErrors, networkError }) => {\n  if (graphQLErrors) {\n    graphQLErrors.forEach(({ message }) => {\n      notificationState.addNotification({\n        message,\n        status: NotificationStatus.ERROR,\n      });\n    });\n  }\n\n  if (networkError) {\n    notificationState.addNotification({\n      message: `Network Error: ${networkError}`,\n      status: NotificationStatus.ERROR,\n    });\n  }\n});\n\nexport const client = new ApolloClient({\n  link: authLink.concat(\n    errorHandler.concat(absintheAfterware.concat(httpLink))\n  ),\n  cache: new InMemoryCache({\n    dataIdFromObject: o => o.id,\n    fragmentMatcher,\n    cacheRedirects: {\n      Query: {\n        collection: (_, args, { getCacheKey }) =>\n          getCacheKey({ __typename: 'Collection', path: args.path }),\n      },\n    },\n  }),\n  queryDeduplication: true,\n});\n","export type Maybe<T> = T | null;\n/** All built-in and custom scalars, mapped to their actual values */\nexport type Scalars = {\n  ID: string;\n  String: string;\n  Boolean: boolean;\n  Int: number;\n  Float: number;\n  /**\n   * The `DateTime` scalar type represents a date and time in the UTC\n   * timezone. The DateTime appears in a JSON response as an ISO8601 formatted\n   * string, including UTC timezone (\"Z\"). The parsed date and time string will\n   * be converted to UTC and any UTC offset other than 0 will be rejected.\n   * */\n  DateTime: any;\n  /**\n   * The `Naive DateTime` scalar type represents a naive date and time without\n   * timezone. The DateTime appears in a JSON response as an ISO8601 formatted\n   * string.\n   * */\n  NaiveDateTime: any;\n};\n\nexport enum Authorization {\n  Comment = 'COMMENT',\n  None = 'NONE',\n  Owner = 'OWNER',\n  Read = 'READ',\n  WriteCode = 'WRITE_CODE',\n  WriteProject = 'WRITE_PROJECT',\n}\n\nexport type Bookmarked = {\n  __typename?: 'Bookmarked';\n  entity: Maybe<BookmarkEntity>;\n  isBookmarked: Maybe<Scalars['Boolean']>;\n};\n\n/** A team or the current user */\nexport type BookmarkEntity = Team | User;\n\nexport type CodeReference = {\n  anchor: Scalars['Int'];\n  code: Scalars['String'];\n  head: Scalars['Int'];\n  lastUpdatedAt: Scalars['String'];\n  path: Scalars['String'];\n};\n\nexport type CodeReferenceMetadata = {\n  __typename?: 'CodeReferenceMetadata';\n  anchor: Scalars['Int'];\n  code: Scalars['String'];\n  head: Scalars['Int'];\n  path: Scalars['String'];\n  sandboxId: Scalars['String'];\n};\n\n/** A collaborator on a sandbox */\nexport type Collaborator = {\n  __typename?: 'Collaborator';\n  authorization: Authorization;\n  id: Scalars['ID'];\n  lastSeenAt: Maybe<Scalars['DateTime']>;\n  sandbox: Sandbox;\n  user: User;\n  warning: Maybe<Scalars['String']>;\n};\n\nexport type Collection = {\n  __typename?: 'Collection';\n  id: Maybe<Scalars['ID']>;\n  path: Scalars['String'];\n  sandboxes: Array<Sandbox>;\n  team: Maybe<Team>;\n  teamId: Maybe<Scalars['ID']>;\n  user: Maybe<User>;\n};\n\n/** A comment on a sandbox. A comment can also have replies and references. */\nexport type Comment = {\n  __typename?: 'Comment';\n  comments: Array<Comment>;\n  content: Maybe<Scalars['String']>;\n  id: Scalars['ID'];\n  insertedAt: Scalars['NaiveDateTime'];\n  isRead: Scalars['Boolean'];\n  isResolved: Scalars['Boolean'];\n  parentComment: Maybe<Comment>;\n  references: Array<Reference>;\n  replyCount: Scalars['Int'];\n  sandbox: Sandbox;\n  updatedAt: Scalars['NaiveDateTime'];\n  user: User;\n};\n\nexport type CurrentUser = {\n  __typename?: 'CurrentUser';\n  bookmarkedTemplates: Array<Template>;\n  collection: Maybe<Collection>;\n  collections: Array<Collection>;\n  email: Scalars['String'];\n  firstName: Maybe<Scalars['String']>;\n  id: Scalars['ID'];\n  lastName: Maybe<Scalars['String']>;\n  notifications: Maybe<Array<Maybe<Notification>>>;\n  recentlyUsedTemplates: Array<Template>;\n  sandboxes: Array<Sandbox>;\n  team: Maybe<Team>;\n  teams: Array<Team>;\n  templates: Array<Template>;\n  username: Scalars['String'];\n};\n\nexport type CurrentUserCollectionArgs = {\n  path: Scalars['String'];\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type CurrentUserCollectionsArgs = {\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type CurrentUserNotificationsArgs = {\n  limit: Maybe<Scalars['Int']>;\n  orderBy: Maybe<OrderBy>;\n};\n\nexport type CurrentUserSandboxesArgs = {\n  limit: Maybe<Scalars['Int']>;\n  orderBy: Maybe<OrderBy>;\n  showDeleted: Maybe<Scalars['Boolean']>;\n};\n\nexport type CurrentUserTeamArgs = {\n  id: Scalars['ID'];\n};\n\nexport type CurrentUserTemplatesArgs = {\n  showAll: Maybe<Scalars['Boolean']>;\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport enum Direction {\n  Asc = 'ASC',\n  Desc = 'DESC',\n}\n\nexport type Git = {\n  __typename?: 'Git';\n  branch: Maybe<Scalars['String']>;\n  commitSha: Maybe<Scalars['String']>;\n  id: Maybe<Scalars['ID']>;\n  path: Maybe<Scalars['String']>;\n  repo: Maybe<Scalars['String']>;\n  username: Maybe<Scalars['String']>;\n};\n\n/** An invitation to a sandbox */\nexport type Invitation = {\n  __typename?: 'Invitation';\n  authorization: Authorization;\n  email: Maybe<Scalars['String']>;\n  id: Maybe<Scalars['ID']>;\n  sandbox: Sandbox;\n  token: Scalars['String'];\n};\n\nexport type Notification = {\n  __typename?: 'Notification';\n  data: Maybe<Scalars['String']>;\n  id: Maybe<Scalars['ID']>;\n  read: Maybe<Scalars['Boolean']>;\n  type: Maybe<Scalars['String']>;\n};\n\nexport type OrderBy = {\n  direction: Direction;\n  field: Scalars['String'];\n};\n\nexport type Reference = {\n  __typename?: 'Reference';\n  id: Scalars['ID'];\n  metadata: ReferenceMetadata;\n  resource: Scalars['String'];\n  type: Scalars['String'];\n};\n\n/** The metadata of a reference */\nexport type ReferenceMetadata = CodeReferenceMetadata;\n\nexport type RootMutationType = {\n  __typename?: 'RootMutationType';\n  /** Redeem an invite token from a team */\n  redeemTeamInviteToken: Team;\n  changeSandboxInvitationAuthorization: Invitation;\n  renameSandbox: Sandbox;\n  /** Remove someone from a team */\n  removeFromTeam: Team;\n  /** Revoke an invitation to a team */\n  revokeTeamInvitation: Team;\n  /** Invite someone to a team via email */\n  inviteToTeamViaEmail: Scalars['String'];\n  /** Delete sandboxes */\n  deleteSandboxes: Array<Sandbox>;\n  /** Rename a collection and all subfolders */\n  renameCollection: Array<Collection>;\n  /** Clear notification unread count */\n  clearNotificationCount: Maybe<User>;\n  resolveComment: Comment;\n  /** Accept an invitation to a team */\n  acceptTeamInvitation: Team;\n  /** bookmark a template */\n  bookmarkTemplate: Maybe<Template>;\n  /** Add sandboxes to a collection */\n  addToCollection: Collection;\n  /** Remove a collaborator */\n  removeCollaborator: Collaborator;\n  updateComment: Comment;\n  /** Invite someone to a team */\n  inviteToTeam: Team;\n  /** Convert templates back to sandboxes */\n  unmakeSandboxesTemplates: Array<Template>;\n  /** Add a collaborator */\n  addCollaborator: Collaborator;\n  /** Leave a team */\n  leaveTeam: Scalars['String'];\n  /** Delete a collection and all subfolders */\n  deleteCollection: Array<Collection>;\n  /** Unbookmark a template */\n  unbookmarkTemplate: Maybe<Template>;\n  /** Set the description of the team */\n  setTeamDescription: Team;\n  /** Soft delete a comment. Note: all child comments will also be deleted. */\n  deleteComment: Comment;\n  createSandboxInvitation: Invitation;\n  revokeSandboxInvitation: Invitation;\n  /** Mark all notifications as read */\n  markAllNotificationsAsRead: Maybe<User>;\n  unresolveComment: Comment;\n  /** Make templates from sandboxes */\n  makeSandboxesTemplates: Array<Template>;\n  redeemSandboxInvitation: Invitation;\n  createComment: Comment;\n  /** Change authorization of a collaborator */\n  changeCollaboratorAuthorization: Collaborator;\n  setSandboxesPrivacy: Array<Sandbox>;\n  /** Create a collection */\n  createCollection: Collection;\n  /** Create a team */\n  createTeam: Team;\n  /** Reject an invitation to a team */\n  rejectTeamInvitation: Scalars['String'];\n  permanentlyDeleteSandboxes: Array<Sandbox>;\n};\n\nexport type RootMutationTypeRedeemTeamInviteTokenArgs = {\n  inviteToken: Scalars['String'];\n};\n\nexport type RootMutationTypeChangeSandboxInvitationAuthorizationArgs = {\n  authorization: Authorization;\n  invitationId: Scalars['ID'];\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootMutationTypeRenameSandboxArgs = {\n  id: Scalars['ID'];\n  title: Scalars['String'];\n};\n\nexport type RootMutationTypeRemoveFromTeamArgs = {\n  teamId: Scalars['ID'];\n  userId: Scalars['ID'];\n};\n\nexport type RootMutationTypeRevokeTeamInvitationArgs = {\n  teamId: Scalars['ID'];\n  userId: Scalars['ID'];\n};\n\nexport type RootMutationTypeInviteToTeamViaEmailArgs = {\n  email: Scalars['String'];\n  teamId: Scalars['ID'];\n};\n\nexport type RootMutationTypeDeleteSandboxesArgs = {\n  sandboxIds: Array<Scalars['ID']>;\n};\n\nexport type RootMutationTypeRenameCollectionArgs = {\n  newPath: Scalars['String'];\n  newTeamId: Maybe<Scalars['ID']>;\n  path: Scalars['String'];\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type RootMutationTypeResolveCommentArgs = {\n  commentId: Scalars['ID'];\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootMutationTypeAcceptTeamInvitationArgs = {\n  teamId: Scalars['ID'];\n};\n\nexport type RootMutationTypeBookmarkTemplateArgs = {\n  teamId: Maybe<Scalars['ID']>;\n  templateId: Scalars['ID'];\n};\n\nexport type RootMutationTypeAddToCollectionArgs = {\n  collectionPath: Scalars['String'];\n  sandboxIds: Array<Maybe<Scalars['ID']>>;\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type RootMutationTypeRemoveCollaboratorArgs = {\n  sandboxId: Scalars['ID'];\n  username: Scalars['String'];\n};\n\nexport type RootMutationTypeUpdateCommentArgs = {\n  commentId: Scalars['ID'];\n  content: Maybe<Scalars['String']>;\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootMutationTypeInviteToTeamArgs = {\n  teamId: Scalars['ID'];\n  username: Scalars['String'];\n};\n\nexport type RootMutationTypeUnmakeSandboxesTemplatesArgs = {\n  sandboxIds: Array<Scalars['ID']>;\n};\n\nexport type RootMutationTypeAddCollaboratorArgs = {\n  authorization: Authorization;\n  sandboxId: Scalars['ID'];\n  username: Scalars['String'];\n};\n\nexport type RootMutationTypeLeaveTeamArgs = {\n  teamId: Scalars['ID'];\n};\n\nexport type RootMutationTypeDeleteCollectionArgs = {\n  path: Scalars['String'];\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type RootMutationTypeUnbookmarkTemplateArgs = {\n  teamId: Maybe<Scalars['ID']>;\n  templateId: Scalars['ID'];\n};\n\nexport type RootMutationTypeSetTeamDescriptionArgs = {\n  description: Scalars['String'];\n  teamId: Scalars['ID'];\n};\n\nexport type RootMutationTypeDeleteCommentArgs = {\n  commentId: Scalars['ID'];\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootMutationTypeCreateSandboxInvitationArgs = {\n  authorization: Authorization;\n  email: Scalars['String'];\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootMutationTypeRevokeSandboxInvitationArgs = {\n  invitationId: Scalars['ID'];\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootMutationTypeUnresolveCommentArgs = {\n  commentId: Scalars['ID'];\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootMutationTypeMakeSandboxesTemplatesArgs = {\n  sandboxIds: Array<Scalars['ID']>;\n};\n\nexport type RootMutationTypeRedeemSandboxInvitationArgs = {\n  invitationToken: Scalars['String'];\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootMutationTypeCreateCommentArgs = {\n  codeReference: Maybe<CodeReference>;\n  content: Scalars['String'];\n  id: Maybe<Scalars['ID']>;\n  parentCommentId: Maybe<Scalars['ID']>;\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootMutationTypeChangeCollaboratorAuthorizationArgs = {\n  authorization: Authorization;\n  sandboxId: Scalars['ID'];\n  username: Scalars['String'];\n};\n\nexport type RootMutationTypeSetSandboxesPrivacyArgs = {\n  privacy: Maybe<Scalars['Int']>;\n  sandboxIds: Array<Scalars['ID']>;\n};\n\nexport type RootMutationTypeCreateCollectionArgs = {\n  path: Scalars['String'];\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type RootMutationTypeCreateTeamArgs = {\n  name: Scalars['String'];\n};\n\nexport type RootMutationTypeRejectTeamInvitationArgs = {\n  teamId: Scalars['ID'];\n};\n\nexport type RootMutationTypePermanentlyDeleteSandboxesArgs = {\n  sandboxIds: Array<Scalars['ID']>;\n};\n\nexport type RootQueryType = {\n  __typename?: 'RootQueryType';\n  /** Get current user */\n  me: Maybe<CurrentUser>;\n  /** Get a sandbox */\n  sandbox: Maybe<Sandbox>;\n  /** A team from an invite token */\n  teamByToken: Maybe<Team>;\n};\n\nexport type RootQueryTypeSandboxArgs = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootQueryTypeTeamByTokenArgs = {\n  inviteToken: Scalars['String'];\n};\n\nexport type RootSubscriptionType = {\n  __typename?: 'RootSubscriptionType';\n  collaboratorAdded: Collaborator;\n  collaboratorChanged: Collaborator;\n  collaboratorRemoved: Collaborator;\n  commentAdded: Comment;\n  commentChanged: Comment;\n  commentRemoved: Comment;\n  invitationChanged: Invitation;\n  invitationCreated: Invitation;\n  invitationRemoved: Invitation;\n  sandboxChanged: Sandbox;\n};\n\nexport type RootSubscriptionTypeCollaboratorAddedArgs = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootSubscriptionTypeCollaboratorChangedArgs = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootSubscriptionTypeCollaboratorRemovedArgs = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootSubscriptionTypeCommentAddedArgs = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootSubscriptionTypeCommentChangedArgs = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootSubscriptionTypeCommentRemovedArgs = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootSubscriptionTypeInvitationChangedArgs = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootSubscriptionTypeInvitationCreatedArgs = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootSubscriptionTypeInvitationRemovedArgs = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type RootSubscriptionTypeSandboxChangedArgs = {\n  sandboxId: Scalars['ID'];\n};\n\n/** A Sandbox */\nexport type Sandbox = {\n  __typename?: 'Sandbox';\n  alias: Maybe<Scalars['String']>;\n  author: Maybe<User>;\n  authorization: Authorization;\n  collaborators: Array<Collaborator>;\n  collection: Maybe<Collection>;\n  comment: Maybe<Comment>;\n  comments: Array<Comment>;\n  /** If the sandbox is a template this will be set */\n  customTemplate: Maybe<Template>;\n  description: Maybe<Scalars['String']>;\n  forkCount: Scalars['Int'];\n  forkedTemplate: Maybe<Template>;\n  /** If the sandbox has a git repo tied to it this will be set */\n  git: Maybe<Git>;\n  id: Scalars['ID'];\n  insertedAt: Scalars['String'];\n  invitations: Array<Invitation>;\n  likeCount: Scalars['Int'];\n  privacy: Scalars['Int'];\n  removedAt: Maybe<Scalars['String']>;\n  screenshotOutdated: Scalars['Boolean'];\n  screenshotUrl: Maybe<Scalars['String']>;\n  source: Source;\n  title: Maybe<Scalars['String']>;\n  updatedAt: Scalars['String'];\n  viewCount: Scalars['Int'];\n};\n\n/** A Sandbox */\nexport type SandboxCommentArgs = {\n  commentId: Scalars['ID'];\n};\n\nexport type Source = {\n  __typename?: 'Source';\n  id: Maybe<Scalars['ID']>;\n  template: Maybe<Scalars['String']>;\n};\n\nexport type Team = {\n  __typename?: 'Team';\n  bookmarkedTemplates: Array<Template>;\n  collections: Array<Collection>;\n  creatorId: Maybe<Scalars['ID']>;\n  description: Maybe<Scalars['String']>;\n  id: Scalars['ID'];\n  inviteToken: Scalars['String'];\n  invitees: Array<User>;\n  name: Scalars['String'];\n  templates: Array<Template>;\n  users: Array<User>;\n};\n\n/** A Template */\nexport type Template = {\n  __typename?: 'Template';\n  bookmarked: Maybe<Array<Maybe<Bookmarked>>>;\n  color: Maybe<Scalars['String']>;\n  description: Maybe<Scalars['String']>;\n  iconUrl: Maybe<Scalars['String']>;\n  id: Maybe<Scalars['ID']>;\n  insertedAt: Maybe<Scalars['String']>;\n  published: Maybe<Scalars['Boolean']>;\n  sandbox: Maybe<Sandbox>;\n  title: Maybe<Scalars['String']>;\n  updatedAt: Maybe<Scalars['String']>;\n};\n\n/** A CodeSandbox User */\nexport type User = {\n  __typename?: 'User';\n  avatarUrl: Scalars['String'];\n  firstName: Maybe<Scalars['String']>;\n  id: Scalars['ID'];\n  lastName: Maybe<Scalars['String']>;\n  name: Maybe<Scalars['String']>;\n  username: Scalars['String'];\n};\n\nexport type TemplateFragment = { __typename?: 'Template' } & Pick<\n  Template,\n  'id' | 'color' | 'iconUrl' | 'published'\n> & {\n    sandbox: Maybe<\n      { __typename?: 'Sandbox' } & Pick<\n        Sandbox,\n        'id' | 'alias' | 'title' | 'description' | 'insertedAt' | 'updatedAt'\n      > & {\n          collection: Maybe<\n            { __typename?: 'Collection' } & {\n              team: Maybe<{ __typename?: 'Team' } & Pick<Team, 'name'>>;\n            }\n          >;\n          author: Maybe<{ __typename?: 'User' } & Pick<User, 'username'>>;\n          source: { __typename?: 'Source' } & Pick<Source, 'template'>;\n        }\n    >;\n  };\n\nexport type ListPersonalTemplatesQueryVariables = {};\n\nexport type ListPersonalTemplatesQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      templates: Array<{ __typename?: 'Template' } & TemplateFragment>;\n      recentlyUsedTemplates: Array<\n        { __typename?: 'Template' } & {\n          sandbox: Maybe<\n            { __typename?: 'Sandbox' } & {\n              git: Maybe<\n                { __typename?: 'Git' } & Pick<\n                  Git,\n                  'id' | 'username' | 'commitSha' | 'path' | 'repo' | 'branch'\n                >\n              >;\n            }\n          >;\n        } & TemplateFragment\n      >;\n      bookmarkedTemplates: Array<\n        { __typename?: 'Template' } & TemplateFragment\n      >;\n      teams: Array<\n        { __typename?: 'Team' } & Pick<Team, 'id' | 'name'> & {\n            bookmarkedTemplates: Array<\n              { __typename?: 'Template' } & TemplateFragment\n            >;\n            templates: Array<{ __typename?: 'Template' } & TemplateFragment>;\n          }\n      >;\n    }\n  >;\n};\n\nexport type ListTemplatesQueryVariables = {\n  showAll: Maybe<Scalars['Boolean']>;\n};\n\nexport type ListTemplatesQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      templates: Array<{ __typename?: 'Template' } & TemplateFragment>;\n      teams: Array<\n        { __typename?: 'Team' } & Pick<Team, 'id' | 'name'> & {\n            templates: Array<{ __typename?: 'Template' } & TemplateFragment>;\n          }\n      >;\n    }\n  >;\n};\n\nexport type ListPersonalBookmarkedTemplatesQueryVariables = {};\n\nexport type ListPersonalBookmarkedTemplatesQuery = {\n  __typename?: 'RootQueryType';\n} & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      teams: Array<\n        { __typename?: 'Team' } & Pick<Team, 'id' | 'name'> & {\n            bookmarkedTemplates: Array<\n              { __typename?: 'Template' } & TemplateFragment\n            >;\n          }\n      >;\n      bookmarkedTemplates: Array<\n        { __typename?: 'Template' } & TemplateFragment\n      >;\n    }\n  >;\n};\n\nexport type MakeSandboxesTemplateMutationVariables = {\n  sandboxIds: Array<Scalars['ID']>;\n};\n\nexport type MakeSandboxesTemplateMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  makeSandboxesTemplates: Array<\n    { __typename?: 'Template' } & Pick<Template, 'id'>\n  >;\n};\n\nexport type UnmakeSandboxesTemplateMutationVariables = {\n  sandboxIds: Array<Scalars['ID']>;\n};\n\nexport type UnmakeSandboxesTemplateMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  unmakeSandboxesTemplates: Array<\n    { __typename?: 'Template' } & Pick<Template, 'id'>\n  >;\n};\n\nexport type CollaboratorFragment = { __typename?: 'Collaborator' } & Pick<\n  Collaborator,\n  'id' | 'authorization' | 'lastSeenAt' | 'warning'\n> & {\n    user: { __typename?: 'User' } & Pick<User, 'id' | 'username' | 'avatarUrl'>;\n  };\n\nexport type InvitationFragment = { __typename?: 'Invitation' } & Pick<\n  Invitation,\n  'id' | 'authorization' | 'email'\n>;\n\nexport type SandboxChangedFragment = { __typename?: 'Sandbox' } & Pick<\n  Sandbox,\n  'id' | 'privacy' | 'title' | 'description' | 'authorization'\n>;\n\nexport type AddCollaboratorMutationVariables = {\n  sandboxId: Scalars['ID'];\n  username: Scalars['String'];\n  authorization: Authorization;\n};\n\nexport type AddCollaboratorMutation = { __typename?: 'RootMutationType' } & {\n  addCollaborator: { __typename?: 'Collaborator' } & CollaboratorFragment;\n};\n\nexport type RemoveCollaboratorMutationVariables = {\n  sandboxId: Scalars['ID'];\n  username: Scalars['String'];\n};\n\nexport type RemoveCollaboratorMutation = { __typename?: 'RootMutationType' } & {\n  removeCollaborator: { __typename?: 'Collaborator' } & CollaboratorFragment;\n};\n\nexport type ChangeCollaboratorAuthorizationMutationVariables = {\n  sandboxId: Scalars['ID'];\n  username: Scalars['String'];\n  authorization: Authorization;\n};\n\nexport type ChangeCollaboratorAuthorizationMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  changeCollaboratorAuthorization: {\n    __typename?: 'Collaborator';\n  } & CollaboratorFragment;\n};\n\nexport type InviteCollaboratorMutationVariables = {\n  sandboxId: Scalars['ID'];\n  authorization: Authorization;\n  email: Scalars['String'];\n};\n\nexport type InviteCollaboratorMutation = { __typename?: 'RootMutationType' } & {\n  createSandboxInvitation: { __typename?: 'Invitation' } & InvitationFragment;\n};\n\nexport type RevokeSandboxInvitationMutationVariables = {\n  sandboxId: Scalars['ID'];\n  invitationId: Scalars['ID'];\n};\n\nexport type RevokeSandboxInvitationMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  revokeSandboxInvitation: { __typename?: 'Invitation' } & InvitationFragment;\n};\n\nexport type ChangeSandboxInvitationAuthorizationMutationVariables = {\n  sandboxId: Scalars['ID'];\n  invitationId: Scalars['ID'];\n  authorization: Authorization;\n};\n\nexport type ChangeSandboxInvitationAuthorizationMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  changeSandboxInvitationAuthorization: {\n    __typename?: 'Invitation';\n  } & InvitationFragment;\n};\n\nexport type RedeemSandboxInvitationMutationVariables = {\n  sandboxId: Scalars['ID'];\n  invitationToken: Scalars['String'];\n};\n\nexport type RedeemSandboxInvitationMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  redeemSandboxInvitation: { __typename?: 'Invitation' } & InvitationFragment;\n};\n\nexport type SandboxCollaboratorsQueryVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type SandboxCollaboratorsQuery = { __typename?: 'RootQueryType' } & {\n  sandbox: Maybe<\n    { __typename?: 'Sandbox' } & {\n      collaborators: Array<\n        { __typename?: 'Collaborator' } & CollaboratorFragment\n      >;\n    }\n  >;\n};\n\nexport type SandboxInvitationsQueryVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type SandboxInvitationsQuery = { __typename?: 'RootQueryType' } & {\n  sandbox: Maybe<\n    { __typename?: 'Sandbox' } & {\n      invitations: Array<{ __typename?: 'Invitation' } & InvitationFragment>;\n    }\n  >;\n};\n\nexport type OnCollaboratorAddedSubscriptionVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type OnCollaboratorAddedSubscription = {\n  __typename?: 'RootSubscriptionType';\n} & {\n  collaboratorAdded: { __typename?: 'Collaborator' } & CollaboratorFragment;\n};\n\nexport type OnCollaboratorChangedSubscriptionVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type OnCollaboratorChangedSubscription = {\n  __typename?: 'RootSubscriptionType';\n} & {\n  collaboratorChanged: { __typename?: 'Collaborator' } & CollaboratorFragment;\n};\n\nexport type OnCollaboratorRemovedSubscriptionVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type OnCollaboratorRemovedSubscription = {\n  __typename?: 'RootSubscriptionType';\n} & {\n  collaboratorRemoved: { __typename?: 'Collaborator' } & CollaboratorFragment;\n};\n\nexport type OnInvitationCreatedSubscriptionVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type OnInvitationCreatedSubscription = {\n  __typename?: 'RootSubscriptionType';\n} & { invitationCreated: { __typename?: 'Invitation' } & InvitationFragment };\n\nexport type OnInvitationRemovedSubscriptionVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type OnInvitationRemovedSubscription = {\n  __typename?: 'RootSubscriptionType';\n} & { invitationRemoved: { __typename?: 'Invitation' } & InvitationFragment };\n\nexport type OnInvitationChangedSubscriptionVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type OnInvitationChangedSubscription = {\n  __typename?: 'RootSubscriptionType';\n} & { invitationChanged: { __typename?: 'Invitation' } & InvitationFragment };\n\nexport type OnSandboxChangedSubscriptionVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type OnSandboxChangedSubscription = {\n  __typename?: 'RootSubscriptionType';\n} & { sandboxChanged: { __typename?: 'Sandbox' } & SandboxChangedFragment };\n\nexport type CodeReferenceMetadataFragment = {\n  __typename?: 'CodeReferenceMetadata';\n} & Pick<CodeReferenceMetadata, 'anchor' | 'code' | 'head' | 'path'>;\n\nexport type CommentFragment = { __typename?: 'Comment' } & Pick<\n  Comment,\n  'id' | 'content' | 'insertedAt' | 'updatedAt' | 'isResolved' | 'replyCount'\n> & {\n    references: Array<\n      { __typename?: 'Reference' } & Pick<\n        Reference,\n        'id' | 'resource' | 'type'\n      > & {\n          metadata: {\n            __typename?: 'CodeReferenceMetadata';\n          } & CodeReferenceMetadataFragment;\n        }\n    >;\n    user: { __typename?: 'User' } & Pick<\n      User,\n      'id' | 'name' | 'username' | 'avatarUrl'\n    >;\n    parentComment: Maybe<{ __typename?: 'Comment' } & Pick<Comment, 'id'>>;\n  };\n\nexport type CommentWithRepliesFragment = { __typename?: 'Comment' } & Pick<\n  Comment,\n  'id' | 'content' | 'insertedAt' | 'updatedAt' | 'isResolved' | 'replyCount'\n> & {\n    references: Array<\n      { __typename?: 'Reference' } & Pick<\n        Reference,\n        'id' | 'resource' | 'type'\n      > & {\n          metadata: {\n            __typename?: 'CodeReferenceMetadata';\n          } & CodeReferenceMetadataFragment;\n        }\n    >;\n    user: { __typename?: 'User' } & Pick<\n      User,\n      'id' | 'name' | 'username' | 'avatarUrl'\n    >;\n    parentComment: Maybe<{ __typename?: 'Comment' } & Pick<Comment, 'id'>>;\n    comments: Array<{ __typename?: 'Comment' } & CommentFragment>;\n  };\n\nexport type CreateCommentMutationVariables = {\n  id: Maybe<Scalars['ID']>;\n  content: Scalars['String'];\n  sandboxId: Scalars['ID'];\n  parentCommentId: Maybe<Scalars['ID']>;\n  codeReference: Maybe<CodeReference>;\n};\n\nexport type CreateCommentMutation = { __typename?: 'RootMutationType' } & {\n  createComment: { __typename?: 'Comment' } & CommentFragment;\n};\n\nexport type DeleteCommentMutationVariables = {\n  commentId: Scalars['ID'];\n  sandboxId: Scalars['ID'];\n};\n\nexport type DeleteCommentMutation = { __typename?: 'RootMutationType' } & {\n  deleteComment: { __typename?: 'Comment' } & Pick<Comment, 'id'>;\n};\n\nexport type UpdateCommentMutationVariables = {\n  commentId: Scalars['ID'];\n  sandboxId: Scalars['ID'];\n  content: Maybe<Scalars['String']>;\n};\n\nexport type UpdateCommentMutation = { __typename?: 'RootMutationType' } & {\n  updateComment: { __typename?: 'Comment' } & Pick<Comment, 'id'>;\n};\n\nexport type ResolveCommentMutationVariables = {\n  commentId: Scalars['ID'];\n  sandboxId: Scalars['ID'];\n};\n\nexport type ResolveCommentMutation = { __typename?: 'RootMutationType' } & {\n  resolveComment: { __typename?: 'Comment' } & Pick<Comment, 'id'>;\n};\n\nexport type UnresolveCommentMutationVariables = {\n  commentId: Scalars['ID'];\n  sandboxId: Scalars['ID'];\n};\n\nexport type UnresolveCommentMutation = { __typename?: 'RootMutationType' } & {\n  unresolveComment: { __typename?: 'Comment' } & Pick<Comment, 'id'>;\n};\n\nexport type SandboxCommentQueryVariables = {\n  sandboxId: Scalars['ID'];\n  commentId: Scalars['ID'];\n};\n\nexport type SandboxCommentQuery = { __typename?: 'RootQueryType' } & {\n  sandbox: Maybe<\n    { __typename?: 'Sandbox' } & {\n      comment: Maybe<{ __typename?: 'Comment' } & CommentWithRepliesFragment>;\n    }\n  >;\n};\n\nexport type SandboxCommentsQueryVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type SandboxCommentsQuery = { __typename?: 'RootQueryType' } & {\n  sandbox: Maybe<\n    { __typename?: 'Sandbox' } & {\n      comments: Array<{ __typename?: 'Comment' } & CommentFragment>;\n    }\n  >;\n};\n\nexport type CommentAddedSubscriptionVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type CommentAddedSubscription = {\n  __typename?: 'RootSubscriptionType';\n} & {\n  commentAdded: { __typename?: 'Comment' } & {\n    sandbox: { __typename?: 'Sandbox' } & Pick<Sandbox, 'id'>;\n  } & CommentFragment;\n};\n\nexport type CommentChangedSubscriptionVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type SetTeamNameMutationVariables = {\n  teamId: Scalars['ID'];\n  name: Scalars['String'];\n};\n\nexport type SetTeamNameMutation = { __typename?: 'RootMutationType' } & {\n  setTeamName: { __typename?: 'Team' } & TeamFragment;\n};\n\nexport type CommentChangedSubscription = {\n  __typename?: 'RootSubscriptionType';\n} & {\n  commentChanged: { __typename?: 'Comment' } & {\n    sandbox: { __typename?: 'Sandbox' } & Pick<Sandbox, 'id'>;\n  } & CommentFragment;\n};\n\nexport type CommentRemovedSubscriptionVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type CommentRemovedSubscription = {\n  __typename?: 'RootSubscriptionType';\n} & {\n  commentRemoved: { __typename?: 'Comment' } & {\n    sandbox: { __typename?: 'Sandbox' } & Pick<Sandbox, 'id'>;\n  } & CommentFragment;\n};\n\nexport type SandboxFragmentDashboardFragment = {\n  __typename?: 'Sandbox';\n} & Pick<\n  Sandbox,\n  | 'id'\n  | 'alias'\n  | 'title'\n  | 'description'\n  | 'insertedAt'\n  | 'updatedAt'\n  | 'removedAt'\n  | 'privacy'\n  | 'screenshotUrl'\n  | 'screenshotOutdated'\n  | 'likeCount'\n  | 'forkCount'\n  | 'viewCount'\n> & {\n    source: { __typename?: 'Source' } & Pick<Source, 'template'>;\n    customTemplate: Maybe<{ __typename?: 'Template' } & Pick<Template, 'id'>>;\n    forkedTemplate: Maybe<\n      { __typename?: 'Template' } & Pick<Template, 'id' | 'color'>\n    >;\n    collection: Maybe<\n      { __typename?: 'Collection' } & Pick<Collection, 'path' | 'teamId'>\n    >;\n  };\n\nexport type SidebarCollectionDashboardFragment = {\n  __typename?: 'Collection';\n} & Pick<Collection, 'id' | 'path'>;\n\nexport type TemplateFragmentDashboardFragment = {\n  __typename?: 'Template';\n} & Pick<Template, 'id' | 'color' | 'iconUrl' | 'published'> & {\n    sandbox: Maybe<\n      { __typename?: 'Sandbox' } & Pick<\n        Sandbox,\n        | 'id'\n        | 'alias'\n        | 'title'\n        | 'description'\n        | 'insertedAt'\n        | 'updatedAt'\n        | 'likeCount'\n        | 'forkCount'\n        | 'viewCount'\n        | 'screenshotUrl'\n        | 'screenshotOutdated'\n      > & {\n          collection: Maybe<\n            { __typename?: 'Collection' } & {\n              team: Maybe<{ __typename?: 'Team' } & Pick<Team, 'name'>>;\n            }\n          >;\n          author: Maybe<{ __typename?: 'User' } & Pick<User, 'username'>>;\n          source: { __typename?: 'Source' } & Pick<Source, 'template'>;\n        }\n    >;\n  };\n\nexport type TeamFragmentDashboardFragment = { __typename?: 'Team' } & Pick<\n  Team,\n  'id' | 'name' | 'description' | 'creatorId'\n> & {\n    users: Array<\n      { __typename?: 'User' } & Pick<\n        User,\n        'id' | 'name' | 'username' | 'avatarUrl'\n      >\n    >;\n    invitees: Array<\n      { __typename?: 'User' } & Pick<\n        User,\n        'id' | 'name' | 'username' | 'avatarUrl'\n      >\n    >;\n  };\n\nexport type _CreateTeamMutationVariables = {\n  name: Scalars['String'];\n};\n\nexport type _CreateTeamMutation = { __typename?: 'RootMutationType' } & {\n  createTeam: { __typename?: 'Team' } & TeamFragmentDashboardFragment;\n};\n\nexport type CreateFolderMutationVariables = {\n  path: Scalars['String'];\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type CreateFolderMutation = { __typename?: 'RootMutationType' } & {\n  createCollection: {\n    __typename?: 'Collection';\n  } & SidebarCollectionDashboardFragment;\n};\n\nexport type DeleteFolderMutationVariables = {\n  path: Scalars['String'];\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type DeleteFolderMutation = { __typename?: 'RootMutationType' } & {\n  deleteCollection: Array<\n    { __typename?: 'Collection' } & SidebarCollectionDashboardFragment\n  >;\n};\n\nexport type RenameFolderMutationVariables = {\n  path: Scalars['String'];\n  newPath: Scalars['String'];\n};\n\nexport type RenameFolderMutation = { __typename?: 'RootMutationType' } & {\n  renameCollection: Array<\n    { __typename?: 'Collection' } & SidebarCollectionDashboardFragment\n  >;\n};\n\nexport type AddToFolderMutationVariables = {\n  collectionPath: Scalars['String'];\n  sandboxIds: Array<Scalars['ID']>;\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type AddToFolderMutation = { __typename?: 'RootMutationType' } & {\n  addToCollection: { __typename?: 'Collection' } & {\n    sandboxes: Array<\n      { __typename?: 'Sandbox' } & SandboxFragmentDashboardFragment\n    >;\n  };\n};\n\nexport type MoveToTrashMutationVariables = {\n  sandboxIds: Array<Scalars['ID']>;\n};\n\nexport type MoveToTrashMutation = { __typename?: 'RootMutationType' } & {\n  deleteSandboxes: Array<\n    { __typename?: 'Sandbox' } & SandboxFragmentDashboardFragment\n  >;\n};\n\nexport type ChangePrivacyMutationVariables = {\n  sandboxIds: Array<Scalars['ID']>;\n  privacy: Scalars['Int'];\n};\n\nexport type ChangePrivacyMutation = { __typename?: 'RootMutationType' } & {\n  setSandboxesPrivacy: Array<\n    { __typename?: 'Sandbox' } & SandboxFragmentDashboardFragment\n  >;\n};\n\nexport type _RenameSandboxMutationVariables = {\n  id: Scalars['ID'];\n  title: Scalars['String'];\n};\n\nexport type _RenameSandboxMutation = { __typename?: 'RootMutationType' } & {\n  renameSandbox: { __typename?: 'Sandbox' } & SandboxFragmentDashboardFragment;\n};\n\nexport type _PermanentlyDeleteSandboxesMutationVariables = {\n  sandboxIds: Array<Scalars['ID']>;\n};\n\nexport type _PermanentlyDeleteSandboxesMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  permanentlyDeleteSandboxes: Array<\n    { __typename?: 'Sandbox' } & Pick<Sandbox, 'id'>\n  >;\n};\n\nexport type _LeaveTeamMutationVariables = {\n  teamId: Scalars['ID'];\n};\n\nexport type _LeaveTeamMutation = { __typename?: 'RootMutationType' } & Pick<\n  RootMutationType,\n  'leaveTeam'\n>;\n\nexport type _RemoveFromTeamMutationVariables = {\n  teamId: Scalars['ID'];\n  userId: Scalars['ID'];\n};\n\nexport type _RemoveFromTeamMutation = { __typename?: 'RootMutationType' } & {\n  removeFromTeam: { __typename?: 'Team' } & TeamFragmentDashboardFragment;\n};\n\nexport type _InviteToTeamMutationVariables = {\n  teamId: Scalars['ID'];\n  username: Scalars['String'];\n};\n\nexport type _InviteToTeamMutation = { __typename?: 'RootMutationType' } & {\n  inviteToTeam: { __typename?: 'Team' } & TeamFragmentDashboardFragment;\n};\n\nexport type _InviteToTeamViaEmailMutationVariables = {\n  teamId: Scalars['ID'];\n  email: Scalars['String'];\n};\n\nexport type _InviteToTeamViaEmailMutation = {\n  __typename?: 'RootMutationType';\n} & Pick<RootMutationType, 'inviteToTeamViaEmail'>;\n\nexport type _RevokeTeamInvitationMutationVariables = {\n  teamId: Scalars['ID'];\n  userId: Scalars['ID'];\n};\n\nexport type _RevokeTeamInvitationMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  revokeTeamInvitation: { __typename?: 'Team' } & TeamFragmentDashboardFragment;\n};\n\nexport type _AcceptTeamInvitationMutationVariables = {\n  teamId: Scalars['ID'];\n};\n\nexport type _AcceptTeamInvitationMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  acceptTeamInvitation: { __typename?: 'Team' } & TeamFragmentDashboardFragment;\n};\n\nexport type _RejectTeamInvitationMutationVariables = {\n  teamId: Scalars['ID'];\n};\n\nexport type _RejectTeamInvitationMutation = {\n  __typename?: 'RootMutationType';\n} & Pick<RootMutationType, 'rejectTeamInvitation'>;\n\nexport type _SetTeamDescriptionMutationVariables = {\n  teamId: Scalars['ID'];\n  description: Scalars['String'];\n};\n\nexport type _SetTeamDescriptionMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  setTeamDescription: { __typename?: 'Team' } & TeamFragmentDashboardFragment;\n};\n\nexport type _UnmakeSandboxesTemplateMutationVariables = {\n  sandboxIds: Array<Scalars['ID']>;\n};\n\nexport type _UnmakeSandboxesTemplateMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  unmakeSandboxesTemplates: Array<\n    { __typename?: 'Template' } & Pick<Template, 'id'>\n  >;\n};\n\nexport type _MakeSandboxesTemplateMutationVariables = {\n  sandboxIds: Array<Scalars['ID']>;\n};\n\nexport type _MakeSandboxesTemplateMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  makeSandboxesTemplates: Array<\n    { __typename?: 'Template' } & Pick<Template, 'id'>\n  >;\n};\n\nexport type RecentlyDeletedSandboxesQueryVariables = {};\n\nexport type RecentlyDeletedSandboxesQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      sandboxes: Array<\n        { __typename?: 'Sandbox' } & SandboxFragmentDashboardFragment\n      >;\n    }\n  >;\n};\n\nexport type SandboxesByPathQueryVariables = {\n  path: Scalars['String'];\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type SandboxesByPathQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      collections: Array<\n        { __typename?: 'Collection' } & SidebarCollectionDashboardFragment\n      >;\n      collection: Maybe<\n        { __typename?: 'Collection' } & Pick<Collection, 'id' | 'path'> & {\n            sandboxes: Array<\n              { __typename?: 'Sandbox' } & SandboxFragmentDashboardFragment\n            >;\n          }\n      >;\n    }\n  >;\n};\n\nexport type AllCollectionsQueryVariables = {\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type AllCollectionsQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      collections: Array<\n        { __typename?: 'Collection' } & {\n          sandboxes: Array<{ __typename?: 'Sandbox' } & Pick<Sandbox, 'id'>>;\n        } & SidebarCollectionDashboardFragment\n      >;\n    }\n  >;\n};\n\nexport type TeamTemplatesQueryVariables = {\n  id: Scalars['ID'];\n};\n\nexport type TeamTemplatesQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      team: Maybe<\n        { __typename?: 'Team' } & Pick<Team, 'id' | 'name'> & {\n            templates: Array<\n              { __typename?: 'Template' } & TemplateFragmentDashboardFragment\n            >;\n          }\n      >;\n    }\n  >;\n};\n\nexport type OwnedTemplatesQueryVariables = {\n  showAll: Maybe<Scalars['Boolean']>;\n};\n\nexport type OwnedTemplatesQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      templates: Array<\n        { __typename?: 'Template' } & TemplateFragmentDashboardFragment\n      >;\n    }\n  >;\n};\n\nexport type AllTeamsQueryVariables = {};\n\nexport type AllTeamsQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      teams: Array<{ __typename?: 'Team' } & Pick<Team, 'id' | 'name'>>;\n    }\n  >;\n};\n\nexport type _SearchSandboxesQueryVariables = {};\n\nexport type _SearchSandboxesQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      sandboxes: Array<\n        { __typename?: 'Sandbox' } & SandboxFragmentDashboardFragment\n      >;\n    }\n  >;\n};\n\nexport type ListUserTemplatesQueryVariables = {};\n\nexport type ListUserTemplatesQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      templates: Array<\n        { __typename?: 'Template' } & TemplateFragmentDashboardFragment\n      >;\n      recentlyUsedTemplates: Array<\n        { __typename?: 'Template' } & {\n          sandbox: Maybe<\n            { __typename?: 'Sandbox' } & {\n              git: Maybe<\n                { __typename?: 'Git' } & Pick<\n                  Git,\n                  'id' | 'username' | 'commitSha' | 'path' | 'repo' | 'branch'\n                >\n              >;\n            }\n          >;\n        } & TemplateFragmentDashboardFragment\n      >;\n      bookmarkedTemplates: Array<\n        { __typename?: 'Template' } & TemplateFragmentDashboardFragment\n      >;\n      teams: Array<\n        { __typename?: 'Team' } & Pick<Team, 'id' | 'name'> & {\n            bookmarkedTemplates: Array<\n              { __typename?: 'Template' } & TemplateFragmentDashboardFragment\n            >;\n            templates: Array<\n              { __typename?: 'Template' } & TemplateFragmentDashboardFragment\n            >;\n          }\n      >;\n    }\n  >;\n};\n\nexport type LatestSandboxesQueryVariables = {\n  limit: Scalars['Int'];\n  orderField: Scalars['String'];\n  orderDirection: Direction;\n};\n\nexport type LatestSandboxesQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      sandboxes: Array<\n        { __typename?: 'Sandbox' } & SandboxFragmentDashboardFragment\n      >;\n    }\n  >;\n};\n\nexport type GetTeamQueryVariables = {\n  teamId: Scalars['ID'];\n};\n\nexport type GetTeamQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      team: Maybe<\n        { __typename?: 'Team' } & Pick<\n          Team,\n          'id' | 'creatorId' | 'description' | 'name' | 'inviteToken'\n        > & {\n            users: Array<\n              { __typename?: 'User' } & Pick<\n                User,\n                'avatarUrl' | 'name' | 'lastName' | 'username' | 'id'\n              >\n            >;\n          }\n      >;\n    }\n  >;\n};\n\nexport type TeamsQueryVariables = {};\n\nexport type TeamsQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      teams: Array<{ __typename?: 'Team' } & Pick<Team, 'id' | 'name'>>;\n    }\n  >;\n};\n\nexport type UnbookmarkTemplateFromDashboardMutationVariables = {\n  template: Scalars['ID'];\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type UnbookmarkTemplateFromDashboardMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  unbookmarkTemplate: Maybe<\n    { __typename?: 'Template' } & Pick<Template, 'id'> & {\n        bookmarked: Maybe<\n          Array<\n            Maybe<\n              { __typename?: 'Bookmarked' } & Pick<\n                Bookmarked,\n                'isBookmarked'\n              > & {\n                  entity: Maybe<\n                    | ({ __typename: 'Team' } & Pick<Team, 'id' | 'name'>)\n                    | ({ __typename: 'User' } & Pick<User, 'id'> & {\n                          name: User['username'];\n                        })\n                  >;\n                }\n            >\n          >\n        >;\n      }\n  >;\n};\n\nexport type SidebarCollectionFragment = { __typename?: 'Collection' } & Pick<\n  Collection,\n  'id' | 'path'\n>;\n\nexport type SandboxFragment = { __typename?: 'Sandbox' } & Pick<\n  Sandbox,\n  | 'id'\n  | 'alias'\n  | 'title'\n  | 'description'\n  | 'insertedAt'\n  | 'updatedAt'\n  | 'removedAt'\n  | 'privacy'\n  | 'screenshotUrl'\n  | 'screenshotOutdated'\n> & {\n    source: { __typename?: 'Source' } & Pick<Source, 'template'>;\n    customTemplate: Maybe<{ __typename?: 'Template' } & Pick<Template, 'id'>>;\n    forkedTemplate: Maybe<\n      { __typename?: 'Template' } & Pick<Template, 'id' | 'color'>\n    >;\n    collection: Maybe<\n      { __typename?: 'Collection' } & Pick<Collection, 'path' | 'teamId'>\n    >;\n  };\n\nexport type TeamFragment = { __typename?: 'Team' } & Pick<\n  Team,\n  'id' | 'name' | 'inviteToken' | 'description' | 'creatorId'\n> & {\n    users: Array<\n      { __typename?: 'User' } & Pick<\n        User,\n        'id' | 'name' | 'username' | 'avatarUrl'\n      >\n    >;\n    invitees: Array<\n      { __typename?: 'User' } & Pick<\n        User,\n        'id' | 'name' | 'username' | 'avatarUrl'\n      >\n    >;\n  };\n\nexport type TeamsSidebarQueryVariables = {};\n\nexport type TeamsSidebarQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      teams: Array<{ __typename?: 'Team' } & Pick<Team, 'id' | 'name'>>;\n    }\n  >;\n};\n\nexport type CreateTeamMutationVariables = {\n  name: Scalars['String'];\n};\n\nexport type CreateTeamMutation = { __typename?: 'RootMutationType' } & {\n  createTeam: { __typename?: 'Team' } & TeamFragment;\n};\n\nexport type PathedSandboxesFoldersQueryVariables = {\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type PathedSandboxesFoldersQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      collections: Array<\n        { __typename?: 'Collection' } & SidebarCollectionFragment\n      >;\n    }\n  >;\n};\n\nexport type CreateCollectionMutationVariables = {\n  path: Scalars['String'];\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type CreateCollectionMutation = { __typename?: 'RootMutationType' } & {\n  createCollection: { __typename?: 'Collection' } & SidebarCollectionFragment;\n};\n\nexport type DeleteCollectionMutationVariables = {\n  path: Scalars['String'];\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type DeleteCollectionMutation = { __typename?: 'RootMutationType' } & {\n  deleteCollection: Array<\n    { __typename?: 'Collection' } & SidebarCollectionFragment\n  >;\n};\n\nexport type RenameCollectionMutationVariables = {\n  path: Scalars['String'];\n  newPath: Scalars['String'];\n  teamId: Maybe<Scalars['ID']>;\n  newTeamId: Maybe<Scalars['ID']>;\n};\n\nexport type RenameCollectionMutation = { __typename?: 'RootMutationType' } & {\n  renameCollection: Array<\n    { __typename?: 'Collection' } & SidebarCollectionFragment\n  >;\n};\n\nexport type AddToCollectionMutationVariables = {\n  collectionPath: Scalars['String'];\n  sandboxIds: Array<Scalars['ID']>;\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type AddToCollectionMutation = { __typename?: 'RootMutationType' } & {\n  addToCollection: { __typename?: 'Collection' } & {\n    sandboxes: Array<{ __typename?: 'Sandbox' } & SandboxFragment>;\n  };\n};\n\nexport type DeleteSandboxesMutationVariables = {\n  sandboxIds: Array<Scalars['ID']>;\n};\n\nexport type DeleteSandboxesMutation = { __typename?: 'RootMutationType' } & {\n  deleteSandboxes: Array<{ __typename?: 'Sandbox' } & SandboxFragment>;\n};\n\nexport type SetSandboxesPrivacyMutationVariables = {\n  sandboxIds: Array<Scalars['ID']>;\n  privacy: Scalars['Int'];\n};\n\nexport type SetSandboxesPrivacyMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  setSandboxesPrivacy: Array<{ __typename?: 'Sandbox' } & SandboxFragment>;\n};\n\nexport type RenameSandboxMutationVariables = {\n  id: Scalars['ID'];\n  title: Scalars['String'];\n};\n\nexport type RenameSandboxMutation = { __typename?: 'RootMutationType' } & {\n  renameSandbox: { __typename?: 'Sandbox' } & SandboxFragment;\n};\n\nexport type PermanentlyDeleteSandboxesMutationVariables = {\n  sandboxIds: Array<Scalars['ID']>;\n};\n\nexport type PermanentlyDeleteSandboxesMutation = {\n  __typename?: 'RootMutationType';\n} & {\n  permanentlyDeleteSandboxes: Array<\n    { __typename?: 'Sandbox' } & Pick<Sandbox, 'id'>\n  >;\n};\n\nexport type PathedSandboxesQueryVariables = {\n  path: Scalars['String'];\n  teamId: Maybe<Scalars['ID']>;\n};\n\nexport type PathedSandboxesQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      collections: Array<\n        { __typename?: 'Collection' } & SidebarCollectionFragment\n      >;\n      collection: Maybe<\n        { __typename?: 'Collection' } & Pick<Collection, 'id' | 'path'> & {\n            sandboxes: Array<{ __typename?: 'Sandbox' } & SandboxFragment>;\n          }\n      >;\n    }\n  >;\n};\n\nexport type RecentSandboxesQueryVariables = {\n  orderField: Scalars['String'];\n  orderDirection: Direction;\n};\n\nexport type RecentSandboxesQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      sandboxes: Array<{ __typename?: 'Sandbox' } & SandboxFragment>;\n    }\n  >;\n};\n\nexport type SearchSandboxesQueryVariables = {};\n\nexport type SearchSandboxesQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      sandboxes: Array<{ __typename?: 'Sandbox' } & SandboxFragment>;\n    }\n  >;\n};\n\nexport type DeletedSandboxesQueryVariables = {};\n\nexport type DeletedSandboxesQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      sandboxes: Array<{ __typename?: 'Sandbox' } & SandboxFragment>;\n    }\n  >;\n};\n\nexport type TeamQueryVariables = {\n  id: Scalars['ID'];\n};\n\nexport type TeamQuery = { __typename?: 'RootQueryType' } & {\n  me: Maybe<\n    { __typename?: 'CurrentUser' } & {\n      team: Maybe<{ __typename?: 'Team' } & TeamFragment>;\n    }\n  >;\n};\n\nexport type LeaveTeamMutationVariables = {\n  teamId: Scalars['ID'];\n};\n\nexport type LeaveTeamMutation = { __typename?: 'RootMutationType' } & Pick<\n  RootMutationType,\n  'leaveTeam'\n>;\n\nexport type RemoveFromTeamMutationVariables = {\n  teamId: Scalars['ID'];\n  userId: Scalars['ID'];\n};\n\nexport type RemoveFromTeamMutation = { __typename?: 'RootMutationType' } & {\n  removeFromTeam: { __typename?: 'Team' } & TeamFragment;\n};\n\nexport type InviteToTeamMutationVariables = {\n  teamId: Scalars['ID'];\n  username: Scalars['String'];\n};\n\nexport type InviteToTeamMutation = { __typename?: 'RootMutationType' } & {\n  inviteToTeam: { __typename?: 'Team' } & TeamFragment;\n};\n\nexport type InviteToTeamViaEmailMutationVariables = {\n  teamId: Scalars['ID'];\n  email: Scalars['String'];\n};\n\nexport type InviteToTeamViaEmailMutation = {\n  __typename?: 'RootMutationType';\n} & Pick<RootMutationType, 'inviteToTeamViaEmail'>;\n\nexport type RevokeTeamInvitationMutationVariables = {\n  teamId: Scalars['ID'];\n  userId: Scalars['ID'];\n};\n\nexport type RevokeTeamInvitationMutation = {\n  __typename?: 'RootMutationType';\n} & { revokeTeamInvitation: { __typename?: 'Team' } & TeamFragment };\n\nexport type AcceptTeamInvitationMutationVariables = {\n  teamId: Scalars['ID'];\n};\n\nexport type AcceptTeamInvitationMutation = {\n  __typename?: 'RootMutationType';\n} & { acceptTeamInvitation: { __typename?: 'Team' } & TeamFragment };\n\nexport type RejectTeamInvitationMutationVariables = {\n  teamId: Scalars['ID'];\n};\n\nexport type RejectTeamInvitationMutation = {\n  __typename?: 'RootMutationType';\n} & Pick<RootMutationType, 'rejectTeamInvitation'>;\n\nexport type SetTeamDescriptionMutationVariables = {\n  teamId: Scalars['ID'];\n  description: Scalars['String'];\n};\n\nexport type SetTeamDescriptionMutation = { __typename?: 'RootMutationType' } & {\n  setTeamDescription: { __typename?: 'Team' } & TeamFragment;\n};\n\nexport type BookmarkTemplateV2MutationVariables = {\n  template: Scalars['ID'];\n  team: Maybe<Scalars['ID']>;\n};\n\nexport type BookmarkTemplateV2Mutation = { __typename?: 'RootMutationType' } & {\n  template: Maybe<{ __typename?: 'Template' } & BookmarkTemplateFieldsFragment>;\n};\n\nexport type UnbookmarkTemplateV2MutationVariables = {\n  template: Scalars['ID'];\n  team: Maybe<Scalars['ID']>;\n};\n\nexport type UnbookmarkTemplateV2Mutation = {\n  __typename?: 'RootMutationType';\n} & {\n  template: Maybe<{ __typename?: 'Template' } & BookmarkTemplateFieldsFragment>;\n};\n\nexport type BookmarkTemplateFieldsV2Fragment = {\n  __typename?: 'Template';\n} & Pick<Template, 'id'> & {\n    bookmarked: Maybe<\n      Array<\n        Maybe<\n          { __typename?: 'Bookmarked' } & Pick<Bookmarked, 'isBookmarked'> & {\n              entity: Maybe<\n                | ({ __typename: 'Team' } & Pick<Team, 'id' | 'name'>)\n                | ({ __typename: 'User' } & Pick<User, 'id'> & {\n                      name: User['username'];\n                    })\n              >;\n            }\n        >\n      >\n    >;\n  };\n\nexport type BookmarkedSandboxInfoV2QueryVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type BookmarkedSandboxInfoV2Query = { __typename?: 'RootQueryType' } & {\n  sandbox: Maybe<\n    { __typename?: 'Sandbox' } & Pick<Sandbox, 'id'> & {\n        author: Maybe<\n          { __typename?: 'User' } & Pick<User, 'id'> & {\n              name: User['username'];\n            }\n        >;\n        customTemplate: Maybe<\n          { __typename?: 'Template' } & BookmarkTemplateFieldsV2Fragment\n        >;\n      }\n  >;\n};\n\nexport type BookmarkTemplateMutationVariables = {\n  template: Scalars['ID'];\n  team: Maybe<Scalars['ID']>;\n};\n\nexport type BookmarkTemplateMutation = { __typename?: 'RootMutationType' } & {\n  template: Maybe<{ __typename?: 'Template' } & BookmarkTemplateFieldsFragment>;\n};\n\nexport type UnbookmarkTemplateMutationVariables = {\n  template: Scalars['ID'];\n  team: Maybe<Scalars['ID']>;\n};\n\nexport type UnbookmarkTemplateMutation = { __typename?: 'RootMutationType' } & {\n  template: Maybe<{ __typename?: 'Template' } & BookmarkTemplateFieldsFragment>;\n};\n\nexport type BookmarkTemplateFieldsFragment = { __typename?: 'Template' } & Pick<\n  Template,\n  'id'\n> & {\n    bookmarked: Maybe<\n      Array<\n        Maybe<\n          { __typename?: 'Bookmarked' } & Pick<Bookmarked, 'isBookmarked'> & {\n              entity: Maybe<\n                | ({ __typename: 'Team' } & Pick<Team, 'id' | 'name'>)\n                | ({ __typename: 'User' } & Pick<User, 'id'> & {\n                      name: User['username'];\n                    })\n              >;\n            }\n        >\n      >\n    >;\n  };\n\nexport type BookmarkedSandboxInfoQueryVariables = {\n  sandboxId: Scalars['ID'];\n};\n\nexport type BookmarkedSandboxInfoQuery = { __typename?: 'RootQueryType' } & {\n  sandbox: Maybe<\n    { __typename?: 'Sandbox' } & Pick<Sandbox, 'id'> & {\n        author: Maybe<\n          { __typename?: 'User' } & Pick<User, 'id'> & {\n              name: User['username'];\n            }\n        >;\n        customTemplate: Maybe<\n          { __typename?: 'Template' } & BookmarkTemplateFieldsFragment\n        >;\n      }\n  >;\n};\n\nexport type TeamByTokenQueryVariables = {\n  inviteToken: Scalars['String'];\n};\n\nexport type TeamByTokenQuery = { __typename?: 'RootQueryType' } & {\n  teamByToken: Maybe<{ __typename?: 'Team' } & Pick<Team, 'name'>>;\n};\n\nexport type JoinTeamByTokenMutationVariables = {\n  inviteToken: Scalars['String'];\n};\n\nexport type JoinTeamByTokenMutation = { __typename?: 'RootMutationType' } & {\n  redeemTeamInviteToken: { __typename?: 'Team' } & Pick<Team, 'id' | 'name'>;\n};\n","// Based on https://usehooks.com/useScript/\nimport { useEffect, useState } from 'react';\n\nconst cachedScripts = [];\n\nexport const useScript = (src: string) => {\n  const [state, setState] = useState({\n    loaded: false,\n    error: false,\n  });\n\n  useEffect(() => {\n    if (cachedScripts.includes(src)) {\n      setState({\n        loaded: true,\n        error: false,\n      });\n    } else {\n      cachedScripts.push(src);\n\n      const script = document.createElement('script');\n      script.src = src;\n      script.async = true;\n\n      const onScriptLoad = () => {\n        setState({\n          loaded: true,\n          error: false,\n        });\n      };\n\n      const onScriptError = () => {\n        const index = cachedScripts.indexOf(src);\n\n        if (index >= 0) {\n          cachedScripts.splice(index, 1);\n        }\n\n        script.remove();\n\n        setState({\n          loaded: true,\n          error: true,\n        });\n      };\n\n      script.addEventListener('load', onScriptLoad);\n      script.addEventListener('error', onScriptError);\n\n      document.body.appendChild(script);\n\n      return () => {\n        script.removeEventListener('load', onScriptLoad);\n        script.removeEventListener('error', onScriptError);\n      };\n    }\n\n    return undefined;\n  }, [src]);\n\n  return [state.loaded, state.error];\n};\n","export { useInterval } from './useInterval';\nexport { useScript } from './useScript';\n","import React, { useEffect, useCallback } from 'react';\nimport { ESC } from '@codesandbox/common/lib/utils/keycodes';\nimport { ThemeProvider, Stack } from '@codesandbox/components';\nimport codeSandboxBlack from '@codesandbox/components/lib/themes/codesandbox-black';\nimport OutsideClickHandler from 'react-outside-click-handler';\nimport { SignInModalElement } from 'app/pages/SignIn/Modal';\nimport { useOvermind } from 'app/overmind';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport const SignInModal = () => {\n  const {\n    actions: { toggleSignInModal },\n    state: { redirectOnLogin },\n  } = useOvermind();\n\n  const closeModal = useCallback(\n    event => {\n      if (event.keyCode === ESC && open) {\n        toggleSignInModal();\n      }\n    },\n    [toggleSignInModal]\n  );\n\n  useEffect(() => {\n    document.addEventListener('keydown', closeModal, false);\n    return () => document.removeEventListener('keydown', closeModal, false);\n  }, [closeModal]);\n\n  return (\n    <ThemeProvider theme={codeSandboxBlack}>\n      <AnimatePresence>\n        <motion.div\n          initial={{ opacity: 0, zIndex: 9999 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n        >\n          <Stack\n            align=\"center\"\n            justify=\"center\"\n            css={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              zIndex: 9999,\n              background: 'rgba(0, 0, 0, 0.75)',\n            }}\n          >\n            <OutsideClickHandler onOutsideClick={toggleSignInModal}>\n              <SignInModalElement redirectTo={redirectOnLogin} />\n            </OutsideClickHandler>\n          </Stack>\n        </motion.div>\n      </AnimatePresence>\n    </ThemeProvider>\n  );\n};\n","import browser from 'browser-detect';\nimport VERSION from '@codesandbox/common/lib/version';\n\ninterface IbuildCrashReport {\n  error?: Error;\n  trace?: string;\n}\n\nexport const buildCrashReport = ({\n  error,\n  trace,\n}: IbuildCrashReport): string => {\n  const url = new URL(\n    `https://github.com/codesandbox/codesandbox-client/issues/new`\n  );\n  const { name, version, os } = browser();\n\n  // Only put commit sha inside the body, GitHub can parse this back to a link to commit.\n  const commitSha = VERSION.split('-')[2];\n\n  url.searchParams.set(\n    `body`,\n    `<h1> Crash Report</h1>\n\n  <h2>What were you trying to accomplish when the crash occurred?</h2>\n\n  > Please use this issue template to describe what you were doing when you encountered this crash. While we are able to fill in some details automatically, it's not always enough to reproduce!\n\n  <h3>Link to sandbox: [link]() (optional)</h3>\n\n  <h3>Crash Details</h3>\n\n  <details>\n  <summary>Environment</summary>\n\n  | Browser |  Version  | Operating System | CodeSandbox Version |\n  | ------- | --------- | ---------------- | ------------------- |\n  | ${name} | ${version} | ${os}           | ${commitSha}          |\n\n  **Route:**\n  ${window.location.href}\n\n  </details>\n\n  <details>\n  <summary>Error Message</summary>\n\n  ${'```'}bash\n  ${error}\n  ${error.stack}\n  ${trace}\n  ${'```'}\n\n  </details>\n  `\n  );\n\n  url.searchParams.set(`labels`, ` Crash Report`);\n\n  return url.toString();\n};\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  ${({ theme }) => css`\n    display: grid;\n    grid-template-rows: min-content auto;\n    width: 100%;\n    height: 100vh;\n    background-color: rgb(17, 21, 24);\n    color: ${theme.white};\n  `}\n`;\n\nexport const Header = styled.header`\n  margin: auto;\n  width: 1280px;\n`;\n\nexport const Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  align-self: start;\n  justify-self: center;\n  min-width: 320px;\n  margin-top: 8rem;\n`;\n\nexport const Title = styled.h1`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const Subtitle = styled.h2`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const Actions = styled.section`\n  display: flex;\n  justify-content: center;\n  padding: 0 1rem;\n\n  > a {\n    display: inline-flex;\n    align-items: center;\n\n    &:not(:first-child) {\n      margin-left: 1rem;\n    }\n  }\n`;\n\nexport const ButtonIcon = styled.span`\n  display: inline-flex;\n  align-items: center;\n  padding-right: 0.5rem;\n  font-size: 16px;\n`;\n","import React from 'react';\n\ninterface ISadboxProps extends React.HTMLAttributes<SVGElement> {\n  scale?: number;\n  width?: number;\n  height?: number;\n}\n\nexport const Sadbox: React.FC<ISadboxProps> = ({\n  scale = 1,\n  width = 64,\n  height = 64,\n  ...props\n}) => (\n  <svg\n    width={width * scale}\n    height={height * scale}\n    viewBox=\"0 0 58 58\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <g fill=\"none\" fillRule=\"evenodd\">\n      <path d=\"m48 0h-38l-10 16v42h58v-42z\" fill=\"#a98258\" />\n      <path d=\"m10 0-10 16h58l-10-16z\" fill=\"#daae86\" />\n      <path d=\"m33 54-4-4-4 4-2-2v6h12v-6z\" fill=\"#d8b18b\" />\n      <path d=\"m23 0h12v16h-12z\" fill=\"#f4d5bd\" />\n      <path d=\"m25 21 4 4 4-4 2 2v-7h-12v7z\" fill=\"#d8b18b\" />\n      <g fill=\"#000\" transform=\"translate(4 24)\">\n        <path\n          d=\"m17.8181818 14.736842c.000495.8458946.1974848 1.6687015.5320707 2.4310874.5043535 1.1430876 1.3170604 2.1638595 2.3648684 2.9306664 1.0453333.7628771 2.3515048 1.2698245 3.7848784 1.2698245.9532727.0004912 1.8565554-.2254737 2.6573836-.6017544 1.2027272-.5663859 2.1847069-1.4569823 2.8875351-2.5013331.6993636-1.0453332 1.1334342-2.2586664 1.1368989-3.5284908 0-.8139649-.6647171-1.4736841-1.4848484-1.4736841-.8201312 0-1.4848483.6597192-1.4848483 1.4736841.0004949.3826666-.0935455.8183858-.2845959 1.2531226-.284596.6533333-.7899394 1.2899648-1.400707 1.7325613-.6137373.446035-1.3076564.6985262-2.026818.6985262-.4815858 0-.9458484-.112-1.3883332-.3192982-.6627373-.308-1.2675655-.8454034-1.6853028-1.4707367-.4216969-.6233683-.6419495-1.3214034-.6384848-1.8941752 0-.8139649-.6647171-1.4736841-1.4848483-1.4736841-.8201313 0-1.4848484.6597192-1.4848484 1.4736841\"\n          transform=\"matrix(1 0 0 -1 0 34.631578)\"\n        />\n        <g opacity=\".2\">\n          <ellipse cx=\"2.227273\" cy=\"11.789473\" rx=\"2.227273\" ry=\"2.210526\" />\n          <ellipse cx=\"46.772727\" cy=\"11.789473\" rx=\"2.227273\" ry=\"2.210526\" />\n        </g>\n        <ellipse cx=\"5.568182\" cy=\"3.315789\" rx=\"3.340909\" ry=\"3.315789\" />\n        <ellipse cx=\"44.174243\" cy=\"3.315789\" rx=\"3.340909\" ry=\"3.315789\" />\n      </g>\n    </g>\n  </svg>\n);\n","import { Button } from '@codesandbox/common/lib/components/Button';\nimport { dashboardUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { useOvermind } from 'app/overmind';\nimport { Navigation } from 'app/pages/common/Navigation';\nimport React, { useEffect } from 'react';\nimport GoHome from 'react-icons/lib/go/home';\nimport { Element } from '@codesandbox/components';\nimport GoIssueOpened from 'react-icons/lib/go/issue-opened';\n// @ts-ignore\nimport Dashboard from '-!svg-react-loader!@codesandbox/common/lib/icons/dashboard.svg';\n\nimport { IFallbackComponentProps } from '../types';\nimport { buildCrashReport } from './buildCrashReport';\nimport {\n  Actions,\n  ButtonIcon,\n  Container,\n  Content,\n  Subtitle,\n  Title,\n} from './elements';\nimport { Sadbox } from './Sadbox';\n\nexport const CodeSadbox: React.FC<IFallbackComponentProps> = ({\n  error,\n  trace,\n}) => {\n  const {\n    actions: { codesadboxMounted },\n    state: { isLoggedIn },\n  } = useOvermind();\n\n  useEffect(() => {\n    codesadboxMounted();\n  }, [codesadboxMounted]);\n\n  return (\n    <Element\n      style={{ width: '100vw', height: '100vh', background: 'rgb(17,21,24)' }}\n    >\n      <Navigation title=\"CodeSadbox\" />\n      <Container>\n        <Content>\n          <Title>Oh no! Something broke!</Title>\n          <Sadbox scale={3} />\n          <Subtitle>CodeSadbox</Subtitle>\n          <Actions>\n            {isLoggedIn ? (\n              <Button small secondary href={dashboardUrl()}>\n                <ButtonIcon>\n                  <Dashboard />\n                </ButtonIcon>\n                Go to Dashboard\n              </Button>\n            ) : (\n              <Button small secondary href=\"/\">\n                <ButtonIcon>\n                  <GoHome />\n                </ButtonIcon>\n                Back to Home\n              </Button>\n            )}\n\n            <Button\n              small\n              target=\"_blank\"\n              rel=\"noopener\"\n              href={buildCrashReport({ error, trace })}\n            >\n              <ButtonIcon>\n                <GoIssueOpened />\n              </ButtonIcon>\n              Report Crash\n            </Button>\n          </Actions>\n        </Content>\n      </Container>\n    </Element>\n  );\n};\n","import React, { Component } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { CodeSadbox } from './CodeSadbox';\nimport { IErrorBoundaryProps, ErrorInfo, IErrorBoundaryState } from './types';\n\nexport class ErrorBoundary extends Component<\n  RouteComponentProps & IErrorBoundaryProps,\n  IErrorBoundaryState\n> {\n  static getDerivedStateFromError(error: Error) {\n    return { error };\n  }\n\n  static getDerivedStateFromProps(\n    props: IErrorBoundaryProps,\n    state: IErrorBoundaryState\n  ) {\n    if (props.location !== state.previousLocation) {\n      return {\n        error: null,\n        info: null,\n        previousLocation: props.location,\n      };\n    }\n\n    return null;\n  }\n\n  state = {\n    error: null,\n    info: null,\n    previousLocation: null,\n  };\n\n  componentDidCatch(error: Error, info: ErrorInfo): void {\n    const { onError } = this.props;\n\n    if (typeof onError === 'function') {\n      try {\n        onError.call(this, error, info ? info.componentStack : '');\n      } catch {} // eslint-disable-line\n    }\n\n    this.setState({ info });\n  }\n\n  render() {\n    const { children, FallbackComponent = CodeSadbox } = this.props;\n    const { error, info } = this.state;\n\n    return error !== null ? (\n      <FallbackComponent\n        error={error}\n        trace={info ? info.componentStack : ''}\n      />\n    ) : (\n      children || null\n    );\n  }\n}\n","import latest from './3-6-6/index.md';\n\nexport default latest;\n","import styled from 'styled-components';\nimport { Tab as BaseTab, TabList, TabPanel } from 'reakit/Tab';\n\nexport const Container = styled.div`\n  display: flex;\n  min-width: 870px;\n  max-width: 1200px;\n  height: 496px;\n  overflow: hidden;\n  border: 1px solid #242424;\n  border-radius: 4px;\n  background-color: #242424;\n  color: #fff;\n\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.24);\n`;\n\nexport const Tabs = styled(TabList)`\n  display: flex;\n  flex-direction: column;\n  background: #242424;\n  padding: 1rem 0;\n  width: 176px;\n  min-width: 176px;\n`;\n\nexport const Tab = styled(BaseTab)`\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 0.5rem 1rem;\n  margin-bottom: 0.5rem;\n  border: none;\n  background: transparent;\n  color: white;\n  font-family: 'Inter', sans-serif;\n  font-size: 13px;\n  cursor: pointer;\n\n  &[aria-selected='true'],\n  :hover {\n    background: #151515;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  svg {\n    margin-right: 0.5rem;\n  }\n`;\n\nexport const TabContent = styled(TabPanel)`\n  display: grid;\n  grid-template-rows: min-content auto;\n  background: #151515;\n  max-height: 496px;\n  width: 100%;\n  border-left: 1px solid #040404;\n\n  outline: none;\n`;\n\nexport const Header = styled.header`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-bottom: 1rem;\n  margin: 1.5rem 1.5rem 0 1.5rem;\n  border-bottom: 1px solid #242424;\n  font-size: 19px;\n  line-height: 24px;\n`;\n\nexport const Legend = styled.span`\n  color: #757575;\n  font-size: 16px;\n  line-height: 19px;\n`;\n\nexport const SubHeader = styled.h2`\n  font-family: Inter;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 19px;\n  margin: 1rem 1.5rem;\n  margin-top: 24px;\n`;\n\nexport const Grid = styled.div<{ columnCount: number }>`\n  display: grid;\n  margin: 0 1.5rem;\n  grid-template-columns: repeat(${props => props.columnCount}, 1fr);\n  gap: 1rem;\n`;\n","import styled from 'styled-components';\nimport { SubHeader } from '../elements';\n\nexport const CenteredMessage = styled(SubHeader).attrs({ as: 'div' })`\n  text-align: center;\n  padding: 1rem;\n`;\n","import styled from 'styled-components';\n\nexport const LoadingWrapper = styled.div`\n  overflow: hidden;\n  height: calc(100%);\n`;\n\nexport const Individual = styled.div`\n  margin: 1.5rem;\n  margin-bottom: 0;\n`;\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\nimport { LoadingWrapper, Individual } from './elements';\n\nconst Loading = () => (\n  <ContentLoader\n    ariaLabel=\"Loading templates\"\n    width={613}\n    height={260}\n    primaryColor=\"#242424\"\n    secondaryColor=\"#1A1A1A\"\n  >\n    <polygon points=\"0 0 299.623 0 299.623 17 0 17\" />\n    <path d=\"M0,43 C0,41.8954 0.895431,41 2,41 L29.4359,41 C30.5405,41 31.4359,41.8954 31.4359,43 L31.4359,71 C31.4359,72.1046 30.5405,73 29.4359,73 L2,73 C0.89543,73 0,72.1046 0,71 L0,43 Z\" />\n    <polygon points=\"160.127 41 54.0304 41 54.0304 53 160.127 53\" />\n    <polygon points=\"54.0304 61 106.096 61 106.096 73 54.0304 73\" />\n    <polygon points=\"278.011 61 189.598 61 189.598 73 278.011 73\" />\n    <path d=\"M0,99 C0,97.8954 0.895431,97 2,97 L29.4359,97 C30.5405,97 31.4359,97.8954 31.4359,99 L31.4359,127 C31.4359,128.105 30.5405,129 29.4359,129 L2,129 C0.89543,129 0,128.105 0,127 L0,99 Z\" />\n    <polygon points=\"160.127 97 54.0304 97 54.0304 109 160.127 109\" />\n    <polygon points=\"54.0304 117 106.096 117 106.096 129 54.0304 129\" />\n    <polygon points=\"278.011 117 189.598 117 189.598 129 278.011 129\" />\n    <path d=\"M334.989,43 C334.989,41.8954 335.884,41 336.989,41 L364.425,41 C365.529,41 366.425,41.8954 366.425,43 L366.425,71 C366.425,72.1046 365.529,73 364.425,73 L336.989,73 C335.884,73 334.989,72.1046 334.989,71 L334.989,43 Z\" />\n    <polygon points=\"495.115 41 389.019 41 389.019 53 495.115 53\" />\n    <polygon points=\"389.019 61 441.085 61 441.085 73 389.019 73\" />\n    <polygon points=\"613 61 524.587 61 524.587 73 613 73\" />\n    <path d=\"M334.989,99 C334.989,97.8954 335.884,97 336.989,97 L364.425,97 C365.529,97 366.425,97.8954 366.425,99 L366.425,127 C366.425,128.105 365.529,129 364.425,129 L336.989,129 C335.884,129 334.989,128.105 334.989,127 L334.989,99 Z\" />\n    <polygon points=\"495.115 97 389.019 97 389.019 109 495.115 109\" />\n    <polygon points=\"389.019 117 441.085 117 441.085 129 389.019 129\" />\n    <polygon points=\"613 117 524.587 117 524.587 129 613 129\" />\n    <path d=\"M0,153 C0,151.8954 0.895431,151 2,151 L29.4359,151 C30.5405,151 31.4359,151.8954 31.4359,153 L31.4359,181 C31.4359,182.1046 30.5405,183 29.4359,183 L2,183 C0.89543,183 0,182.1046 0,181 L0,153 Z\" />\n    <polygon points=\"160.127 151 54.0304 151 54.0304 163 160.127 163\" />\n    <polygon points=\"54.0304 171 106.096 171 106.096 183 54.0304 183\" />\n    <polygon points=\"278.011 171 189.598 171 189.598 183 278.011 183\" />\n    <path d=\"M0,209 C0,207.8954 0.895431,207 2,207 L29.4359,207 C30.5405,207 31.4359,207.8954 31.4359,209 L31.4359,237 C31.4359,238.105 30.5405,239 29.4359,239 L2,239 C0.89543,239 0,238.105 0,237 L0,209 Z\" />\n    <polygon points=\"160.127 207 54.0304 207 54.0304 219 160.127 219\" />\n    <polygon points=\"54.0304 227 106.096 227 106.096 239 54.0304 239\" />\n    <polygon points=\"278.011 227 189.598 227 189.598 239 278.011 239\" />\n    <path d=\"M334.989,153 C334.989,151.8954 335.884,151 336.989,151 L364.425,151 C365.529,151 366.425,151.8954 366.425,153 L366.425,181 C366.425,182.1046 365.529,183 364.425,183 L336.989,183 C335.884,183 334.989,182.1046 334.989,181 L334.989,153 Z\" />\n    <polygon points=\"495.115 151 389.019 151 389.019 163 495.115 163\" />\n    <polygon points=\"389.019 171 441.085 171 441.085 183 389.019 183\" />\n    <polygon points=\"613 171 524.587 171 524.587 183 613 183\" />\n    <path d=\"M334.989,209 C334.989,207.8954 335.884,207 336.989,207 L364.425,207 C365.529,207 366.425,207.8954 366.425,209 L366.425,237 C366.425,238.105 365.529,239 364.425,239 L336.989,239 C335.884,239 334.989,238.105 334.989,237 L334.989,209 Z\" />\n    <polygon points=\"495.115 207 389.019 207 389.019 219 495.115 219\" />\n    <polygon points=\"389.019 227 441.085 227 441.085 239 389.019 239\" />\n    <polygon points=\"613 227 524.587 227 524.587 239 613 239\" />\n  </ContentLoader>\n);\n\nexport const Loader = () => (\n  <LoadingWrapper>\n    <Individual>\n      <Loading />\n    </Individual>\n    <Individual>\n      <Loading />\n    </Individual>\n  </LoadingWrapper>\n);\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled.button<{ focused?: boolean }>`\n  transition: 0.3s ease background-color;\n  display: inline-flex;\n  padding: 0.5rem;\n  margin: 0;\n  border: none;\n  box-shadow: 0px 1px 0px #242424;\n  background: none;\n  cursor: pointer;\n  text-decoration: none;\n  border-radius: 2px;\n\n  &:focus {\n    background-color: #242424;\n    outline: 0;\n  }\n\n  ${props =>\n    props.focused &&\n    css`\n      background-color: #242424;\n      outline: 0;\n    `}\n`;\n\nexport const Icon = styled.div<{ color: string }>`\n  ${({ color }) => css`\n    display: flex;\n    flex: 0 0 auto;\n    justify-content: center;\n    align-items: center;\n    width: 2rem;\n    height: 2rem;\n    border-radius: 2px;\n    /* background-color: ${color}; */\n  `}\n`;\n\nexport const Details = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  margin-left: 1rem;\n`;\n\nexport const Row = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nexport const Title = styled.span`\n  padding: 0;\n  margin: 0;\n  color: #fff;\n  font-weight: 600;\n  margin-bottom: 0.125rem;\n  font-size: 13px;\n  line-height: 1rem;\n  max-width: 200px;\n  text-align: left;\n  max-height: 16px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nexport const Owner = styled.span`\n  color: #e6e6e6;\n  font-size: 11px;\n  line-height: 13px;\n`;\n\nexport const Detail = styled.span`\n  color: #757575;\n  font-size: 11px;\n  line-height: 13px;\n`;\n","import React from 'react';\nimport { TemplateType } from '@codesandbox/common/lib/templates';\nimport { getTemplateIcon } from '@codesandbox/common/lib/utils/getTemplateIcon';\n\nimport {\n  Container,\n  Icon,\n  Details,\n  Row,\n  Title,\n  Owner,\n  Detail,\n} from './elements';\n\ninterface ISandboxCardProps {\n  title: string;\n  iconUrl: string;\n  environment: TemplateType;\n  color: string;\n  owner?: string;\n  official?: boolean;\n  focused?: boolean;\n  detailText?: string;\n  onClick?: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n  onFocus?: (e: React.FocusEvent<HTMLButtonElement>) => void;\n  onKeyPress?: (e: React.KeyboardEvent<HTMLButtonElement>) => void;\n  onMouseOver?: (e: React.MouseEvent<HTMLButtonElement>) => void;\n  DetailComponent?: React.FunctionComponent;\n}\n\nexport const SandboxCard: React.FC<ISandboxCardProps> = ({\n  title,\n  iconUrl,\n  environment,\n  official,\n  color,\n  focused,\n  detailText,\n  onClick,\n  onFocus,\n  onKeyPress,\n  onMouseOver,\n  DetailComponent,\n  owner,\n}) => {\n  const elRef = React.useRef<HTMLButtonElement>();\n  const { OfficialIcon, UserIcon } = getTemplateIcon(iconUrl, environment);\n\n  React.useEffect(() => {\n    const inputHasFocus =\n      document.activeElement && document.activeElement.tagName === 'INPUT';\n    if (focused && elRef.current && !inputHasFocus) {\n      elRef.current.focus();\n    }\n  }, [focused]);\n\n  return (\n    <Container\n      ref={elRef}\n      onClick={onClick}\n      onMouseOver={onMouseOver}\n      onFocus={onFocus}\n      onKeyPress={onKeyPress}\n      tabIndex={focused ? 0 : -1}\n      focused={focused}\n    >\n      <Icon color={color}>\n        {official && OfficialIcon ? <OfficialIcon /> : <UserIcon />}\n      </Icon>\n      <Details>\n        <Row>\n          <Title>{title}</Title>\n\n          {focused && DetailComponent && <DetailComponent />}\n        </Row>\n        <Row>\n          <Owner>{owner ? `by ${owner}` : ''}</Owner>\n\n          {detailText && <Detail>{detailText}</Detail>}\n        </Row>\n      </Details>\n    </Container>\n  );\n};\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const TemplateInfoContainer = styled.div`\n  margin-bottom: 2rem;\n`;\n\nexport const EditIcon = styled(Link)`\n  transition: 0.3s ease color;\n  font-size: 0.75rem;\n  color: rgba(255, 255, 255, 0.5);\n  text-decoration: none;\n  width: 1rem;\n\n  &:hover,\n  &:focus {\n    outline: none;\n    color: white;\n  }\n`;\n","import React from 'react';\nimport { TemplateFragment } from 'app/graphql/types';\nimport { sandboxUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport getTemplateDefinition, {\n  TemplateType,\n} from '@codesandbox/common/lib/templates';\nimport { useOvermind } from 'app/overmind';\nimport useKey from 'react-use/lib/useKey';\nimport { isMac } from '@codesandbox/common/lib/utils/platform';\nimport { getSandboxName } from '@codesandbox/common/lib/utils/get-sandbox-name';\nimport history from 'app/utils/history';\nimport MdEditIcon from 'react-icons/lib/md/edit';\n\nimport Tooltip from '@codesandbox/common/lib/components/Tooltip';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { SandboxCard } from '../SandboxCard';\nimport { SubHeader, Grid } from '../elements';\nimport { EditIcon, TemplateInfoContainer } from './elements';\n\nexport interface ITemplateInfo {\n  title?: string;\n  key: string;\n  templates: TemplateFragment[];\n  isOwned?: boolean;\n}\n\nexport interface ITemplateListProps {\n  templateInfos: ITemplateInfo[];\n  forkOnOpen?: boolean;\n  columnCount?: number;\n  showSecondaryShortcuts?: boolean;\n}\n\nconst MODIFIER_KEY = isMac ? 'Ctrl' : '';\n\nconst getNumber = (e: KeyboardEvent): number => {\n  if (e.code && e.code.startsWith('Digit')) {\n    return parseInt(e.code.replace('Digit', ''), 10);\n  }\n\n  return NaN;\n};\n\nexport const TemplateList = ({\n  templateInfos,\n  forkOnOpen,\n  showSecondaryShortcuts,\n  columnCount = 2,\n}: ITemplateListProps) => {\n  const { actions, state } = useOvermind();\n  const [focusedTemplateIndex, setFocusedTemplate] = React.useState(0);\n  const lastMouseMoveEventAt = React.useRef<number>(Date.now());\n\n  const openSandbox = (\n    sandbox: TemplateFragment['sandbox'],\n    openInNewWindow = false\n  ) => {\n    // We can't fork a sandbox that's server and if you're signed in, so then we just go to it\n    const templateDefinition = getTemplateDefinition(\n      sandbox.source.template as TemplateType\n    );\n    const cannotFork = templateDefinition.isServer && !state.isLoggedIn;\n\n    if (forkOnOpen && !cannotFork) {\n      actions.editor.forkExternalSandbox({\n        sandboxId: sandbox.id,\n        openInNewWindow,\n      });\n    } else {\n      history.push(sandboxUrl(sandbox));\n    }\n\n    return actions.modalClosed();\n  };\n\n  React.useEffect(() => {\n    const listener = () => {\n      lastMouseMoveEventAt.current = Date.now();\n    };\n\n    window.addEventListener('mousemove', listener);\n\n    return () => {\n      window.removeEventListener('mousemove', listener);\n    };\n  }, []);\n\n  const getTemplateInfoByIndex = React.useCallback(\n    (index: number) => {\n      let count = 0;\n      let i = 0;\n      while (index >= count && i < templateInfos.length) {\n        count += templateInfos[i].templates.length;\n        i++;\n      }\n      return {\n        templateInfo: templateInfos[i - 1],\n        offset: count - templateInfos[i - 1].templates.length,\n      };\n    },\n    [templateInfos]\n  );\n\n  const getTemplateByIndex = React.useCallback(\n    (index: number) => {\n      const { templateInfo, offset } = getTemplateInfoByIndex(index);\n\n      const indexInTemplateInfo = index - offset;\n      return templateInfo.templates[indexInTemplateInfo];\n    },\n    [getTemplateInfoByIndex]\n  );\n\n  const getColumnCountInLastRow = (templateInfo: ITemplateInfo) =>\n    templateInfo.templates.length % columnCount || columnCount;\n\n  const getTotalTemplateCount = React.useCallback(\n    () =>\n      templateInfos.reduce(\n        (total, templateInfo) => total + templateInfo.templates.length,\n        0\n      ),\n    [templateInfos]\n  );\n\n  /**\n   * Ensures that the next set is in bound of 0 and the max template count\n   */\n  const safeSetFocusedTemplate = React.useCallback(\n    (setter: (newPos: number) => number) => {\n      const totalCount = getTotalTemplateCount();\n\n      return setFocusedTemplate(i =>\n        Math.max(0, Math.min(setter(i), totalCount - 1))\n      );\n    },\n    [getTotalTemplateCount]\n  );\n\n  React.useEffect(() => {\n    // Make sure our index stays in bounds with max templateInfos\n\n    const totalCount = getTotalTemplateCount();\n\n    if (focusedTemplateIndex >= totalCount || focusedTemplateIndex < 0) {\n      safeSetFocusedTemplate(i => i);\n    }\n\n    // We only want this check to happen if templateInfos changes. Only then we\n    // can get our index out of bounds\n    // eslint-disable-next-line\n  }, [templateInfos]);\n\n  useKey(\n    'ArrowRight',\n    evt => {\n      if ((evt.target as HTMLInputElement).id === 'filter-templates') {\n        return;\n      }\n      evt.preventDefault();\n      safeSetFocusedTemplate(i => i + 1);\n    },\n    {},\n    [safeSetFocusedTemplate]\n  );\n\n  useKey(\n    'ArrowLeft',\n    evt => {\n      if ((evt.target as HTMLInputElement).id === 'filter-templates') {\n        return;\n      }\n      evt.preventDefault();\n      safeSetFocusedTemplate(i => i - 1);\n    },\n    {},\n    [safeSetFocusedTemplate]\n  );\n\n  useKey(\n    'ArrowDown',\n    evt => {\n      if ((evt.target as HTMLInputElement).id === 'filter-templates') {\n        return;\n      }\n      evt.preventDefault();\n      const { templateInfo, offset } = getTemplateInfoByIndex(\n        focusedTemplateIndex\n      );\n      const indexInTemplateInfo = focusedTemplateIndex - offset;\n      const totalRowCount = Math.ceil(\n        templateInfo.templates.length / columnCount\n      );\n      const currentRow = Math.floor(indexInTemplateInfo / columnCount);\n      const isLastRow = totalRowCount === currentRow + 1;\n      const isSecondToLastRow = totalRowCount === currentRow + 2;\n      const nextTemplateInfo =\n        templateInfos[templateInfos.indexOf(templateInfo) + 1] || templateInfo;\n      const { templateInfo: templateInfoUnder } = getTemplateInfoByIndex(\n        focusedTemplateIndex + columnCount\n      );\n      const columnCountInLastRow = getColumnCountInLastRow(templateInfo);\n\n      const indexInRow = indexInTemplateInfo % columnCount;\n      const hasItemUnder =\n        (!isLastRow &&\n          (!isSecondToLastRow || indexInRow < columnCountInLastRow)) ||\n        (!isSecondToLastRow && templateInfoUnder === nextTemplateInfo);\n\n      const itemsAfterCurrentItemInRow =\n        (isLastRow ? columnCountInLastRow : columnCount) - 1 - indexInRow;\n\n      safeSetFocusedTemplate(\n        i =>\n          i +\n          Math.min(\n            hasItemUnder\n              ? // index + leftover items\n                // example:\n                // 1 | 2\n                // 3 | 4 | 5\n                // in case of 2, to get to 4 we would do\n                // currentPos + (itemsAfter) + 1 + (indexInRow) = 2 + 0 + 1 + 1 = 4\n                // second example:\n                // 1 | 2 | 3\n                // 4 | 5\n                // from 2 to 5 is\n                // currentPos + (itemsAfter) + 1 + (indexInRow) = 2 + 1 + 1 + 1 = 5\n                Math.min(\n                  itemsAfterCurrentItemInRow + 1 + indexInRow,\n                  columnCount\n                )\n              : itemsAfterCurrentItemInRow + 1,\n            templateInfo.templates.length\n          )\n      );\n    },\n    {},\n    [\n      focusedTemplateIndex,\n      getTemplateInfoByIndex,\n      safeSetFocusedTemplate,\n      templateInfos,\n    ]\n  );\n\n  useKey(\n    'ArrowUp',\n    evt => {\n      if ((evt.target as HTMLInputElement).id === 'filter-templates') {\n        return;\n      }\n      evt.preventDefault();\n      const { templateInfo, offset } = getTemplateInfoByIndex(\n        focusedTemplateIndex\n      );\n      const previousTemplateInfo =\n        templateInfos[templateInfos.indexOf(templateInfo) - 1] || templateInfo;\n      const indexInTemplateInfo = focusedTemplateIndex - offset;\n      const isFirstRow = indexInTemplateInfo < columnCount;\n\n      const indexInRow = indexInTemplateInfo % columnCount;\n      const { templateInfo: templateInfoAbove } = getTemplateInfoByIndex(\n        Math.max(0, focusedTemplateIndex - (indexInRow + 1))\n      );\n      const columnCountInPreviousRow = isFirstRow\n        ? getColumnCountInLastRow(previousTemplateInfo)\n        : columnCount;\n      const hasItemAbove =\n        !isFirstRow ||\n        (templateInfoAbove === previousTemplateInfo &&\n          columnCountInPreviousRow > indexInRow);\n\n      safeSetFocusedTemplate(\n        i => i - (hasItemAbove ? columnCountInPreviousRow : indexInRow + 1)\n      );\n    },\n    {},\n    [\n      focusedTemplateIndex,\n      getTemplateInfoByIndex,\n      safeSetFocusedTemplate,\n      templateInfos,\n    ]\n  );\n\n  /**\n   * Our listener for CMD/CTRL + Num calls\n   */\n  useKey(\n    e => {\n      const num = getNumber(e);\n      const modifierCheck = isMac ? e.ctrlKey : e.shiftKey;\n      return num > 0 && num < 10 && modifierCheck;\n    },\n    e => {\n      if (showSecondaryShortcuts) {\n        const num = getNumber(e);\n\n        const template = getTemplateByIndex(num - 1);\n\n        if (!template) {\n          return;\n        }\n\n        track('Template Modal - Open Sandbox', { source: 'num-keys' });\n        openSandbox(template.sandbox);\n      }\n    },\n    {},\n    [focusedTemplateIndex, getTemplateByIndex, openSandbox]\n  );\n\n  /**\n   * We have this one to listen to any opening when focus is on an input\n   */\n  useKey(\n    'Enter',\n    e => {\n      if (\n        !e.defaultPrevented &&\n        document.activeElement &&\n        document.activeElement.tagName === 'INPUT'\n      ) {\n        e.preventDefault();\n        const currentTemplate = getTemplateByIndex(focusedTemplateIndex);\n\n        if (!currentTemplate) {\n          // There are no sandboxes\n          return;\n        }\n\n        track('Template Modal - Open Sandbox', { source: 'enter' });\n        openSandbox(currentTemplate.sandbox, isMac ? e.metaKey : e.ctrlKey);\n      }\n    },\n    {},\n    [focusedTemplateIndex, getTemplateByIndex, openSandbox]\n  );\n\n  let offset = 0;\n  return (\n    <>\n      {templateInfos.map(\n        ({ templates, title, key, isOwned }, templateInfoIndex) => {\n          if (templateInfoIndex > 0) {\n            offset += templateInfos[templateInfoIndex - 1].templates.length;\n          }\n\n          if (templates.length === 0) {\n            return null;\n          }\n\n          return (\n            <TemplateInfoContainer key={key}>\n              {title !== undefined && <SubHeader>{title}</SubHeader>}\n              <Grid columnCount={columnCount}>\n                {templates.map((template: TemplateFragment, i) => {\n                  const index = offset + i;\n                  const focused = focusedTemplateIndex === offset + i;\n                  const owner =\n                    template.sandbox.collection?.team?.name ||\n                    template.sandbox.author?.username;\n\n                  const shortKey = showSecondaryShortcuts\n                    ? index < 9\n                      ? `${MODIFIER_KEY}+${index + 1}`\n                      : ''\n                    : '';\n                  const detailText = focused ? '' : shortKey;\n\n                  return (\n                    <SandboxCard\n                      key={template.id}\n                      title={getSandboxName(template.sandbox)}\n                      iconUrl={template.iconUrl}\n                      // @ts-ignore\n                      environment={template.sandbox.source.template}\n                      owner={owner}\n                      color={template.color}\n                      onFocus={() => {\n                        safeSetFocusedTemplate(() => index);\n                      }}\n                      onMouseOver={() => {\n                        // This is to prevent selecting with your mouse on scroll move\n                        if (Date.now() - lastMouseMoveEventAt.current < 500) {\n                          safeSetFocusedTemplate(() => index);\n                        }\n                      }}\n                      onKeyPress={e => {\n                        if (e.key === 'Enter') {\n                          e.preventDefault();\n\n                          track('Template Modal - Open Sandbox', {\n                            source: 'enter',\n                          });\n                          openSandbox(\n                            template.sandbox,\n                            isMac ? e.metaKey : e.ctrlKey\n                          );\n                        }\n                      }}\n                      onClick={e => {\n                        e.preventDefault();\n\n                        track('Template Modal - Open Sandbox', {\n                          source: 'click',\n                        });\n                        openSandbox(\n                          template.sandbox,\n                          isMac ? e.metaKey : e.ctrlKey\n                        );\n                      }}\n                      focused={focused}\n                      detailText={detailText}\n                      DetailComponent={\n                        isOwned\n                          ? () => (\n                              <Tooltip content=\"Edit Template\">\n                                <EditIcon\n                                  onClick={evt => {\n                                    evt.stopPropagation();\n                                    actions.modalClosed();\n                                  }}\n                                  to={sandboxUrl(template.sandbox)}\n                                >\n                                  <MdEditIcon />\n                                </EditIcon>\n                              </Tooltip>\n                            )\n                          : undefined\n                      }\n                    />\n                  );\n                })}\n              </Grid>\n            </TemplateInfoContainer>\n          );\n        }\n      )}\n    </>\n  );\n};\n","import React from 'react';\nimport Media from 'react-media';\nimport { COLUMN_MEDIA_THRESHOLD } from '../CreateSandbox';\nimport { TemplateList, ITemplateListProps } from './TemplateList';\n\n/**\n * TemplateList that automatically switches between 3 and 2 columns\n * based on the width of the browser window\n */\nexport const DynamicWidthTemplateList = (\n  templateListProps: ITemplateListProps\n) => (\n  <Media query={`(min-width: ${COLUMN_MEDIA_THRESHOLD}px)`}>\n    {matches => (\n      <TemplateList {...templateListProps} columnCount={matches ? 3 : 2} />\n    )}\n  </Media>\n);\n","import React from 'react';\nimport Fuse from 'fuse.js';\n\nimport { uniqBy, flatten } from 'lodash-es';\nimport { ITemplateInfo } from '../../TemplateList';\nimport { DynamicWidthTemplateList } from '../../TemplateList/DynamicWidthTemplateList';\n\ninterface IFilteredTemplateProps {\n  templateInfos: ITemplateInfo[];\n  query: string;\n  forkOnOpen: boolean;\n}\n\nexport const FilteredTemplates = ({\n  query,\n  templateInfos,\n  forkOnOpen,\n}: IFilteredTemplateProps) => {\n  const searchIndex = React.useMemo(\n    () =>\n      new Fuse(\n        uniqBy(flatten(templateInfos.map(t => t.templates)), t => t.id),\n        {\n          shouldSort: true,\n          threshold: 0.3,\n          distance: 10,\n          keys: [\n            { name: 'sandbox.title', weight: 0.3 },\n            { name: 'sandbox.description', weight: 0.25 },\n            { name: 'sandbox.alias', weight: 0.2 },\n            { name: 'sandbox.source.template', weight: 0.2 },\n            { name: 'sandbox.id', weight: 0.05 },\n          ],\n        }\n      ),\n    [templateInfos]\n  );\n\n  const filteredTemplateInfos = [\n    {\n      title: 'Search Results',\n      key: 'search-results',\n      templates: searchIndex.search(query),\n    },\n  ];\n\n  return (\n    <DynamicWidthTemplateList\n      forkOnOpen={forkOnOpen}\n      templateInfos={filteredTemplateInfos}\n    />\n  );\n};\n","import React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport {\n  ListPersonalTemplatesQuery,\n  ListPersonalTemplatesQueryVariables,\n} from 'app/graphql/types';\nimport { LIST_PERSONAL_TEMPLATES } from 'app/components/CreateNewSandbox/queries';\nimport { Loader } from '../../Loader/index';\nimport { ITemplateInfo } from '../../TemplateList';\nimport { CenteredMessage } from '../elements';\nimport { FilteredTemplates } from './FilteredTemplates';\nimport { DynamicWidthTemplateList } from '../../TemplateList/DynamicWidthTemplateList';\n\ninterface IPersonalTemplatesProps {\n  filter: string;\n  officialTemplateInfos: ITemplateInfo[];\n  hasLogIn: boolean;\n}\n\nexport const PersonalTemplates = ({\n  filter,\n  officialTemplateInfos,\n  hasLogIn,\n}: IPersonalTemplatesProps) => {\n  const { data, error } = useQuery<\n    ListPersonalTemplatesQuery,\n    ListPersonalTemplatesQueryVariables\n  >(LIST_PERSONAL_TEMPLATES, {\n    variables: {},\n    fetchPolicy: 'cache-and-network',\n    skip: !hasLogIn,\n  });\n\n  if (error) {\n    return (\n      <CenteredMessage>\n        Something went wrong while fetching your templates, please try again in\n        a minute.\n      </CenteredMessage>\n    );\n  }\n\n  // Instead of checking the loading var we check this. Apollo sets the loading\n  // var to true even if we still have cached data that we can use.\n  if (hasLogIn && typeof data?.me === 'undefined') {\n    return <Loader />;\n  }\n\n  const personalTemplateInfos: ITemplateInfo[] = hasLogIn\n    ? [\n        {\n          title: 'Recently Used Templates',\n          key: 'recently-used-templates',\n          templates: data.me.recentlyUsedTemplates,\n        },\n        {\n          title: 'My Templates',\n          key: 'my-templates',\n          templates: data.me.templates,\n          isOwned: true,\n        },\n        ...data.me.teams\n          .filter(t => t.templates.length > 0)\n          .map(team => ({\n            key: `${team.id}-templates`,\n            title: `${team.name}${\n              team.name.endsWith('s') ? \"'\" : \"'s\"\n            } Templates`,\n            templates: team.templates,\n            isOwned: true,\n          })),\n\n        {\n          title: 'My Bookmarked Templates',\n          key: 'my-bookmarked-templates',\n          templates: data.me.bookmarkedTemplates,\n        },\n        ...data.me.teams\n          .filter(t => t.bookmarkedTemplates.length > 0)\n          .map(team => ({\n            key: `${team.id}-bookmarked-templates`,\n            title: `${team.name}${\n              team.name.endsWith('s') ? \"'\" : \"'s\"\n            } Bookmarked Templates`,\n            templates: team.bookmarkedTemplates,\n          })),\n      ]\n    : [];\n\n  const allTemplateInfos: ITemplateInfo[] = [\n    ...personalTemplateInfos,\n    ...officialTemplateInfos,\n  ];\n\n  const hasNoTemplates =\n    hasLogIn &&\n    data.me.templates.length === 0 &&\n    data.me.bookmarkedTemplates.length === 0;\n\n  return filter ? (\n    <FilteredTemplates\n      forkOnOpen\n      query={filter}\n      templateInfos={allTemplateInfos}\n    />\n  ) : (\n    <>\n      {hasNoTemplates && (\n        <CenteredMessage>\n          You don{\"'\"}t have any templates yet, go on and create or bookmark\n          some!\n        </CenteredMessage>\n      )}\n      <DynamicWidthTemplateList\n        showSecondaryShortcuts\n        forkOnOpen\n        templateInfos={allTemplateInfos}\n      />\n    </>\n  );\n};\n","import styled, { css } from 'styled-components';\n\nconst svg = (hover?: boolean) => css`\nbackground-image: url(\"data:image/svg+xml,%3Csvg width='13' height='12' viewBox='0 0 13 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M7.68564 7.60174C6.95348 8.19679 6.02089 8.55326 5.00532 8.55326C2.65163 8.55326 0.743591 6.63855 0.743591 4.27663C0.743591 1.91471 2.65163 0 5.00532 0C7.35901 0 9.26706 1.91471 9.26706 4.27663C9.26706 5.29574 8.91183 6.2316 8.31886 6.96631L12.7018 11.3646L12.0686 12L7.68564 7.60174ZM8.37155 4.27663C8.37155 6.14224 6.86444 7.65462 5.00532 7.65462C3.14621 7.65462 1.6391 6.14224 1.6391 4.27663C1.6391 2.41102 3.14621 0.898637 5.00532 0.898637C6.86444 0.898637 8.37155 2.41102 8.37155 4.27663Z' fill='${\n  hover ? 'white' : '%23757575'\n}'/%3E%3C/svg%3E%0A\");\n`;\n\nexport const SearchElement = styled.input`\n  background: #222222;\n  border: 1px solid #040404;\n  box-sizing: border-box;\n  border-radius: 2px;\n  padding: 0.25rem;\n  padding-left: 30px;\n  padding-right: 1.5rem;\n  min-width: 14rem;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  color: #ffffff;\n  ${svg()}\n  background-repeat: no-repeat;\n  background-position-x: 0.5rem;\n  background-position-y: 50%;\n  transition: width 1s ease, border-color 200ms ease;\n\n  &:focus {\n    border-color: #757575;\n    ${svg(true)}\n  }\n\n  &::-webkit-input-placeholder {\n    color: #757575;\n  }\n  &::-moz-placeholder {\n    color: #757575;\n  }\n  &:-ms-input-placeholder {\n    color: #757575;\n  }\n`;\n\nexport const InputWrapper = styled.div`\n  position: relative;\n\n  &:focus-within {\n    :before {\n      background-image: url(\"data:image/svg+xml,%3Csvg width='13' height='12' viewBox='0 0 13 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='1.20227' y='0.375' width='11.2083' height='11.25' rx='0.375' stroke='white' stroke-width='0.75'/%3E%3Cpath d='M8.00501 2.71875H7.37219L5.4386 9.90234H6.07141L8.00501 2.71875Z' fill='white'/%3E%3C/svg%3E%0A\");\n    }\n  }\n\n  &::before {\n    content: '';\n    background-image: url(\"data:image/svg+xml,%3Csvg width='13' height='12' viewBox='0 0 13 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='1.20227' y='0.375' width='11.2083' height='11.25' rx='0.375' stroke='%23757575' stroke-width='0.75'/%3E%3Cpath d='M8.00501 2.71875H7.37219L5.4386 9.90234H6.07141L8.00501 2.71875Z' fill='%23757575'/%3E%3C/svg%3E%0A\");\n    width: 13px;\n    height: 13px;\n    top: 6px;\n    right: 0.5rem;\n    position: absolute;\n    background-repeat: no-repeat;\n  }\n`;\n","import React from 'react';\nimport useKey from 'react-use/lib/useKey';\nimport { ESC } from '@codesandbox/common/lib/utils/keycodes';\nimport { SearchElement, InputWrapper } from './elements';\n\ntype SearchProps = {\n  value: string;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  placeholder?: string;\n};\n\nexport const SearchBox = ({\n  value,\n  onChange,\n  placeholder = 'Search',\n}: SearchProps) => {\n  const inputEl = React.useRef<HTMLInputElement>();\n\n  useKey('/', () => {\n    if (inputEl.current) {\n      requestAnimationFrame(() => {\n        inputEl.current.focus();\n      });\n    }\n  });\n\n  const handleEsc = (evt: React.KeyboardEvent<HTMLInputElement>) => {\n    if (evt.keyCode === ESC && inputEl.current) {\n      evt.stopPropagation();\n      inputEl.current.blur();\n    }\n  };\n\n  return (\n    <form\n      noValidate\n      action=\"\"\n      role=\"search\"\n      onSubmit={e => {\n        e.preventDefault();\n      }}\n    >\n      <InputWrapper>\n        <SearchElement\n          id=\"filter-templates\"\n          placeholder={placeholder}\n          ref={inputEl}\n          value={value}\n          onChange={onChange}\n          onKeyDown={handleEsc}\n          type=\"search\"\n        />\n      </InputWrapper>\n    </form>\n  );\n};\n","import { TemplateType } from '@codesandbox/common/lib/templates';\nimport { ITemplateInfo } from '../TemplateList';\n\ninterface IExploreTemplate {\n  title: string;\n  sandboxes: {\n    id: string;\n    title: string | null;\n    alias: string | null;\n    description: string | null;\n    inserted_at: string;\n    updated_at: string;\n    author: { username: string } | null;\n    environment: TemplateType;\n    custom_template: {\n      id: string;\n      icon_url: string;\n      color: string;\n    };\n    collection?: {\n      team: {\n        name: string;\n      };\n    };\n    git: {\n      id: string;\n      username: string;\n      commit_sha: string;\n      path: string;\n      repo: string;\n      branch: string;\n    };\n  }[];\n}\n\nconst mapAPIResponseToTemplateInfo = (\n  exploreTemplate: IExploreTemplate\n): ITemplateInfo => ({\n  key: exploreTemplate.title,\n  title: exploreTemplate.title,\n  templates: exploreTemplate.sandboxes.map(sandbox => ({\n    id: sandbox.custom_template.id,\n    color: sandbox.custom_template.color,\n    iconUrl: sandbox.custom_template.icon_url,\n    published: true,\n    sandbox: {\n      id: sandbox.id,\n      insertedAt: sandbox.inserted_at,\n      updatedAt: sandbox.updated_at,\n      alias: sandbox.alias,\n      title: sandbox.title,\n      author: sandbox.author,\n      description: sandbox.description,\n      source: {\n        template: sandbox.environment,\n      },\n      collection: sandbox.collection,\n      git: sandbox.git && {\n        id: sandbox.git.id,\n        username: sandbox.git.username,\n        commitSha: sandbox.git.commit_sha,\n        path: sandbox.git.path,\n        repo: sandbox.git.repo,\n        branch: sandbox.git.branch,\n      },\n    },\n  })),\n});\n\nexport const getTemplateInfosFromAPI = (\n  url: string\n): Promise<ITemplateInfo[]> =>\n  fetch(url)\n    .then(res => res.json())\n    .then((body: IExploreTemplate[]) => body.map(mapAPIResponseToTemplateInfo));\n","import React, { useEffect } from 'react';\nimport { Scrollable } from '@codesandbox/common/lib/components/Scrollable';\nimport { useOvermind } from 'app/overmind';\nimport { LinkButton } from 'app/components/LinkButton';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { Header } from '../elements';\nimport { CenteredMessage } from './elements';\n\nimport { PersonalTemplates } from './PersonalTemplates';\nimport { SearchBox } from '../SearchBox';\nimport { getTemplateInfosFromAPI } from '../utils/api';\n\nexport const Create = () => {\n  const { state, actions } = useOvermind();\n  const [filter, setFilter] = React.useState('');\n  const [officialTemplateInfos, setOfficialTemplates] = React.useState([]);\n\n  useEffect(() => {\n    track('Create Sandbox Tab Open', { tab: 'create' });\n  }, []);\n\n  useEffect(() => {\n    getTemplateInfosFromAPI('/api/v1/sandboxes/templates/official').then(x => {\n      setOfficialTemplates(x);\n    });\n  }, []);\n\n  return (\n    <>\n      <Header>\n        <span>Create Sandbox</span>\n        <div>\n          <SearchBox\n            onChange={evt => setFilter(evt.target.value)}\n            value={filter}\n            placeholder=\"Filter Templates\"\n          />\n        </div>\n      </Header>\n      <Scrollable>\n        {!state.hasLogIn && (\n          <CenteredMessage>\n            <div>\n              <LinkButton onClick={actions.signInGithubClicked}>\n                Sign in\n              </LinkButton>{' '}\n              to create and bookmark templates for later use.\n            </div>\n          </CenteredMessage>\n        )}\n\n        <PersonalTemplates\n          filter={filter}\n          hasLogIn={state.hasLogIn}\n          officialTemplateInfos={officialTemplateInfos}\n        />\n      </Scrollable>\n    </>\n  );\n};\n","import { createGlobalStyle } from 'styled-components';\n\nexport const GlobalSearchStyles = createGlobalStyle`\n.ais-InstantSearch__root {\n  display: flex;\n  flex-direction: column;\n  height: 496px;\n}\n`;\n","import React, { useEffect } from 'react';\nimport { connectInfiniteHits } from 'react-instantsearch-dom';\nimport { InfiniteHitsProvided } from 'react-instantsearch-core';\nimport { AlgoliaSandboxHit } from '@codesandbox/common/lib/types/algolia';\nimport { ITemplateInfo } from '../../TemplateList';\nimport { DynamicWidthTemplateList } from '../../TemplateList/DynamicWidthTemplateList';\n\ntype ResultsProps = InfiniteHitsProvided<AlgoliaSandboxHit> & {};\n\nconst Results = (props: ResultsProps) => {\n  const { hits } = props;\n  const bottomDetectionEl = React.useRef<HTMLDivElement>();\n\n  useEffect(() => {\n    let observer: IntersectionObserver;\n    const onSentinelIntersection = (entries: IntersectionObserverEntry[]) => {\n      const { hasMore, refineNext } = props;\n\n      entries.forEach(entry => {\n        if (entry.isIntersecting && hasMore) {\n          refineNext();\n        }\n      });\n    };\n\n    if (bottomDetectionEl.current) {\n      observer = new IntersectionObserver(onSentinelIntersection);\n      observer.observe(bottomDetectionEl.current);\n    }\n\n    return () => {\n      if (observer) {\n        observer.disconnect();\n      }\n    };\n  }, [props]);\n\n  const searchTemplateInfo: ITemplateInfo = {\n    key: 'search-results',\n    templates: hits.map(hit => ({\n      id: hit.custom_template.id,\n      color: hit.custom_template.color,\n      iconUrl: hit.custom_template.icon_url,\n      published: hit.custom_template.published,\n      sandbox: {\n        id: hit.objectID,\n        alias: hit.alias,\n        title: hit.title,\n        description: hit.description,\n        insertedAt: new Date(hit.inserted_at).toString(),\n        updatedAt: new Date(hit.updated_at).toString(),\n        author: hit.author,\n        source: {\n          template: hit.template,\n        },\n        collection: {\n          team: hit.team,\n        },\n      },\n    })),\n  };\n\n  return (\n    <>\n      <DynamicWidthTemplateList templateInfos={[searchTemplateInfo]} />\n\n      <div\n        style={{ minHeight: 10, width: 1, backgroundColor: 'transparent' }}\n        ref={bottomDetectionEl}\n        id=\"bottom-detection-element\"\n      />\n    </>\n  );\n};\n\nexport const ExploreResultList = connectInfiniteHits(Results);\n","import React from 'react';\nimport {\n  ALGOLIA_API_KEY,\n  ALGOLIA_APPLICATION_ID,\n  ALGOLIA_DEFAULT_INDEX, // eslint-disable-line\n} from '@codesandbox/common/lib/utils/config';\nimport { InstantSearch, Configure, Stats } from 'react-instantsearch/dom';\nimport { connectStateResults } from 'react-instantsearch-dom';\nimport { SubHeader } from '../../elements';\nimport { GlobalSearchStyles } from './elements';\nimport { ExploreResultList } from './ExploreResultList';\nimport { Loader } from '../../Loader';\n\nconst LoadingIndicator = connectStateResults(({ isSearchStalled }) =>\n  isSearchStalled ? <Loader /> : null\n);\n\nexport const SearchResults = ({ search }: { search: string }) => (\n  <>\n    <GlobalSearchStyles />\n    <InstantSearch\n      appId={ALGOLIA_APPLICATION_ID}\n      apiKey={ALGOLIA_API_KEY}\n      indexName={ALGOLIA_DEFAULT_INDEX}\n    >\n      <Configure\n        query={search}\n        hitsPerPage={50}\n        facetFilters={[\n          [\n            'custom_template.published: true',\n            'custom_template.published: false',\n          ],\n        ]}\n      />\n\n      <SubHeader>\n        <Stats\n          translations={{\n            stats: nbHits => `${nbHits.toLocaleString()} results found`,\n          }}\n        />\n      </SubHeader>\n      <LoadingIndicator />\n      <ExploreResultList />\n    </InstantSearch>\n  </>\n);\n","import React, { useState, useEffect } from 'react';\nimport { Scrollable } from '@codesandbox/common/lib/components/Scrollable';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { Header } from '../elements';\nimport { SearchBox } from '../SearchBox';\nimport { SearchResults } from './SearchResults';\nimport { Loader } from '../Loader';\nimport { ITemplateInfo } from '../TemplateList';\nimport { DynamicWidthTemplateList } from '../TemplateList/DynamicWidthTemplateList';\nimport { getTemplateInfosFromAPI } from '../utils/api';\n\nexport const Explore = () => {\n  const [search, setSearch] = useState('');\n  const [exploreTemplates, setExploreTemplates] = useState<ITemplateInfo[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    track('Create Sandbox Tab Open', { tab: 'explore' });\n  }, []);\n\n  useEffect(() => {\n    let loaded = false;\n    const timeout = window.setTimeout(() => {\n      // We only show the loading screen 600ms after opening the component\n      // and if the data hasn't been loaded yet. This is to save people from\n      // seeing a flickering\n      if (!loaded) {\n        setLoading(true);\n      }\n    }, 600);\n\n    getTemplateInfosFromAPI('/api/v1/sandboxes/templates/explore').then(\n      body => {\n        setExploreTemplates(body);\n        setLoading(false);\n\n        loaded = true;\n      }\n    );\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n\n  const isLoading = (!exploreTemplates.length && !search) || loading;\n  return (\n    <>\n      <Header>\n        <span>Template Universe</span>\n        <div>\n          <SearchBox\n            onChange={evt => setSearch(evt.target.value)}\n            value={search}\n            placeholder=\"Search Public Templates\"\n          />\n        </div>\n      </Header>\n      <Scrollable>\n        {isLoading ? <Loader /> : null}\n\n        {search ? (\n          <SearchResults search={search} />\n        ) : (\n          <DynamicWidthTemplateList\n            forkOnOpen={false}\n            templateInfos={exploreTemplates}\n          />\n        )}\n      </Scrollable>\n    </>\n  );\n};\n","import React from 'react';\nimport IconBase from 'react-icons/IconBase';\n\nexport const CodeSandboxIcon = props => (\n  <IconBase viewBox=\"0 0 32 32\" {...props}>\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M15.78 0L2 7.84V23.95L16 32L30 23.95V7.84L15.78 0ZM14.25 28.73L8.82 25.69V20.56L3.75 17.63V10.88L14.25 16.76V28.73ZM15.78 13.5L5.72 7.62L11.19 4.57L15.78 7.21L20.59 4.57L26.06 7.62L15.78 13.5ZM28.25 17.63L23.73 20.44V25.47L17.97 28.73V16.76L28.25 11.1V17.63Z\"\n      fill=\"white\"\n    />\n  </IconBase>\n);\n","import React from 'react';\nimport IconBase from 'react-icons/IconBase';\n\nexport const GitHubIcon = props => (\n  <IconBase viewBox=\"0 0 32 32\" {...props}>\n    <path\n      d=\"M29.8537 8.16855C28.4229 5.65563 26.4822 3.66615 24.031 2.19966C21.5794 0.733096 18.903 0 15.9999 0C13.0971 0 10.4198 0.73332 7.96873 2.19966C5.51729 3.66608 3.57662 5.65563 2.14585 8.16855C0.715309 10.6814 0 13.4254 0 16.4006C0 19.9745 1.01718 23.1882 3.05205 26.0425C5.0867 28.8971 7.71517 30.8724 10.9372 31.9685C11.3123 32.0399 11.5899 31.9897 11.7705 31.8193C11.9511 31.6486 12.0412 31.4348 12.0412 31.1788C12.0412 31.1361 12.0377 30.7519 12.0307 30.0257C12.0236 29.2995 12.0202 28.6659 12.0202 28.1253L11.541 28.2103C11.2355 28.2677 10.8501 28.292 10.3848 28.2851C9.91969 28.2785 9.43686 28.2285 8.93695 28.1356C8.43683 28.0435 7.97165 27.83 7.54107 27.4954C7.1107 27.1608 6.80518 26.7229 6.62458 26.1822L6.41626 25.6908C6.2774 25.3637 6.05879 25.0002 5.76013 24.6018C5.46147 24.2031 5.15945 23.9328 4.85393 23.7904L4.70807 23.6834C4.61087 23.6123 4.52068 23.5265 4.43728 23.4269C4.35395 23.3274 4.29156 23.2277 4.2499 23.1279C4.20816 23.0281 4.24275 22.9462 4.35402 22.8819C4.4653 22.8177 4.6664 22.7865 4.9582 22.7865L5.37471 22.8503C5.6525 22.9074 5.99611 23.0778 6.40597 23.3627C6.81561 23.6474 7.15236 24.0175 7.41629 24.4729C7.73589 25.0568 8.12095 25.5017 8.57255 25.8078C9.02378 26.114 9.47874 26.2668 9.93698 26.2668C10.3952 26.2668 10.791 26.2312 11.1245 26.1603C11.4576 26.0891 11.7701 25.9821 12.0619 25.8398C12.1869 24.8855 12.5272 24.1524 13.0826 23.64C12.291 23.5547 11.5794 23.4263 10.9472 23.2555C10.3155 23.0846 9.66262 22.8071 8.98912 22.4223C8.31526 22.0381 7.75625 21.5609 7.31194 20.9917C6.86757 20.4222 6.50287 19.6745 6.21837 18.7493C5.93372 17.8238 5.79136 16.7561 5.79136 15.546C5.79136 13.8231 6.34008 12.3569 7.4373 11.1466C6.92332 9.85128 6.97184 8.39915 7.58302 6.79039C7.98581 6.66212 8.58313 6.75838 9.37469 7.07859C10.1664 7.39895 10.7461 7.67339 11.1143 7.90092C11.4825 8.12838 11.7775 8.32114 11.9997 8.47746C13.2916 8.10744 14.6248 7.92239 15.9997 7.92239C17.3746 7.92239 18.7081 8.10744 20.0001 8.47746L20.7917 7.96517C21.333 7.62335 21.9723 7.31009 22.708 7.02533C23.4441 6.74073 24.007 6.66234 24.396 6.79062C25.0208 8.39945 25.0765 9.85151 24.5623 11.1469C25.6595 12.3571 26.2084 13.8237 26.2084 15.5463C26.2084 16.7563 26.0656 17.8274 25.7813 18.76C25.4968 19.6928 25.1289 20.4398 24.6777 21.0024C24.2259 21.565 23.6634 22.0384 22.9899 22.4225C22.3162 22.807 21.6632 23.0845 21.0314 23.2555C20.3993 23.4265 19.6877 23.555 18.8961 23.6404C19.6181 24.2808 19.9791 25.2917 19.9791 26.6726V31.1782C19.9791 31.4342 20.0659 31.6479 20.2398 31.8187C20.4133 31.9891 20.6875 32.0393 21.0625 31.9679C24.2851 30.8719 26.9135 28.8965 28.9481 26.0419C30.9825 23.1876 32 19.9739 32 16.4C31.9993 13.4252 31.2836 10.6814 29.8537 8.16855Z\"\n      fill=\"white\"\n    />\n  </IconBase>\n);\n","import React from 'react';\nimport IconBase from 'react-icons/IconBase';\n\nexport const PlusIcon = props => (\n  <IconBase viewBox=\"0 0 32 32\" {...props}>\n    <path\n      d=\"M17.6 0H14.4V14.4H0V17.6H14.4V32H17.6V17.6H32V14.4H17.6V0Z\"\n      fill=\"white\"\n    />\n  </IconBase>\n);\n","import React from 'react';\nimport IconBase from 'react-icons/IconBase';\n\nexport const StackbitIcon = props => (\n  <IconBase viewBox=\"0 0 32 32\" {...props}>\n    <path\n      d=\"M31.9879 13.7232C32.0918 12.5911 31.5206 11.428 30.4612 10.8152L17.6663 3.43104C16.7316 2.85983 15.5684 2.85983 14.6128 3.41027L1.56854 10.7944C0.436507 11.428 -0.0827749 12.5911 0.0106931 13.7232V18.646C-0.0620036 19.83 0.509201 20.9827 1.58931 21.5747L14.6336 28.7097C15.5684 29.2289 16.6796 29.2289 17.6143 28.7097L30.4198 21.5747C31.4999 20.9827 32.0919 19.7988 31.988 18.646L31.9879 13.7232ZM29.433 19.7572L16.6276 26.8922C16.3368 27.0687 15.9629 27.0687 15.6721 26.8922L2.62777 19.7572C2.15003 19.5079 1.96309 18.8952 2.23311 18.4279C2.47198 17.9605 3.09512 17.7632 3.56248 18.0333L16.1395 24.8981L28.4672 18.0333C28.9346 17.7633 29.5265 17.9294 29.7966 18.4279C30.0665 18.8951 29.9005 19.4767 29.433 19.7572ZM29.7966 13.9723C29.5265 14.4396 28.9138 14.6058 28.4465 14.3359L16.1395 7.22169L5.08916 13.4739L16.6276 19.996C17.095 20.266 17.2715 20.8892 17.0014 21.3565C16.7315 21.8239 16.1083 21.9901 15.641 21.72L2.59661 14.3359C1.93194 13.9412 1.93194 12.9857 2.59661 12.6118L15.641 5.22764C15.9629 5.05109 16.3368 5.05109 16.6276 5.22764L29.433 12.6118C29.9005 12.882 30.0665 13.4946 29.7966 13.9723Z\"\n      fill=\"white\"\n    />\n  </IconBase>\n);\n","import React from 'react';\nimport IconBase from 'react-icons/IconBase';\n\nexport const StarIcon = props => (\n  <IconBase viewBox=\"0 0 32 32\" {...props}>\n    <path\n      d=\"M15.2314 0.585613C15.4733 -0.195204 16.5267 -0.195205 16.7686 0.585612L19.9917 10.9884C20.0998 11.3376 20.4101 11.574 20.7602 11.574H31.1903C31.9732 11.574 32.2987 12.6246 31.6653 13.1072L23.2272 19.5364C22.944 19.7522 22.8255 20.1348 22.9336 20.484L26.1567 30.8868C26.3986 31.6676 25.5465 32.3169 24.9131 31.8343L16.475 25.405C16.1918 25.1892 15.8082 25.1892 15.525 25.405L7.08689 31.8343C6.45354 32.3169 5.60137 31.6676 5.84328 30.8868L9.06635 20.484C9.17454 20.1348 9.05602 19.7522 8.77278 19.5364L0.334677 13.1072C-0.298674 12.6246 0.0268239 11.574 0.809689 11.574H11.2398C11.5899 11.574 11.9002 11.3376 12.0083 10.9884L15.2314 0.585613Z\"\n      fill=\"white\"\n    />\n  </IconBase>\n);\n","import React from 'react';\nimport IconBase from 'react-icons/IconBase';\n\nexport const UploadIcon = props => (\n  <IconBase viewBox=\"0 0 32 32\" {...props}>\n    <path\n      d=\"M24.8634 7.62269C27.1014 7.84325 28.875 9.64481 29.0522 11.8953C30.8001 12.7708 32 14.5786 32 16.6667C32 19.6122 29.6122 22 26.6667 22H19.3333V16.4074L22.5379 19.8408L25.4621 17.1116L17.3333 8.40215L9.20456 17.1116L12.1288 19.8408L15.3333 16.4074V22H4V21.9527C1.73847 21.6293 0 19.6843 0 17.3333C0 15.3481 1.23967 13.6523 2.98715 12.978C2.95167 12.7461 2.93327 12.5085 2.93327 12.2666C2.93327 9.68931 5.02261 7.59998 7.59993 7.59998C8.06739 7.59998 8.5188 7.66871 8.94459 7.79661C10.0404 4.43178 13.2029 2 16.9334 2C20.5993 2 23.7167 4.3483 24.8634 7.62269Z\"\n      fill=\"currentColor\"\n    />\n    <path d=\"M16 22H18.6667V30H16V22Z\" fill=\"currentColor\" />\n  </IconBase>\n);\n","import React from 'react';\nimport IconBase from 'react-icons/IconBase';\n\nexport const NewIcon = props => (\n  <IconBase viewBox=\"0 0 16 16\" {...props}>\n    <path\n      fill=\"#fff\"\n      d=\"M7.111 9.263H.89v5.053c0 .93.796 1.684 1.778 1.684H7.11V9.263zM8.889 16h4.444c.982 0 1.778-.754 1.778-1.684V9.263H8.89V16z\"\n    />\n    <path\n      fill=\"#fff\"\n      fillRule=\"evenodd\"\n      d=\"M8.208 3.694h-.172a2.161 2.161 0 01-.41-.029 8.02 8.02 0 01-.978-.233 31.435 31.435 0 01-2.128-.73c-.71-.267-1.097-1.006-.923-1.693C3.838.055 5.01-.327 5.842.323c.61.478 1.343 1.07 1.891 1.578.173.159.334.316.47.463.136-.147.298-.304.47-.463C9.22 1.394 9.954.8 10.564.323c.83-.65 2.004-.268 2.245.686.174.687-.214 1.426-.922 1.694a31.43 31.43 0 01-2.129.729 8.02 8.02 0 01-.978.233c-.14.022-.281.035-.41.03-.045-.002-.162 0-.162 0zM4.801 1.908c.59.223 1.383.509 2.06.707.202.059.387.108.551.146a9.659 9.659 0 00-.265-.254A31.676 31.676 0 005.314.979c-.312-.244-.769-.112-.866.272a.561.561 0 00.353.657zm6.804 0c-.59.223-1.383.509-2.06.707-.202.059-.387.108-.551.146.078-.079.167-.164.266-.254A31.66 31.66 0 0111.092.979c.312-.244.769-.112.866.272a.561.561 0 01-.353.657z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"#fff\"\n      d=\"M1.778 4.21C.796 4.21 0 4.966 0 5.896v1.684h7.111V4.211H1.778zM8.889 4.21V7.58H16V5.895c0-.93-.796-1.684-1.778-1.684H8.89z\"\n    />\n  </IconBase>\n);\n","import React from 'react';\nimport IconBase from 'react-icons/IconBase';\n\nexport const TerminalIcon = props => (\n  <IconBase viewBox=\"0 0 21 16\" {...props}>\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M0 1a1 1 0 011-1h19a1 1 0 011 1v14a1 1 0 01-1 1H1a1 1 0 01-1-1V1zm6.175 4.795L3.088 2.707l1.414-1.414 3.795 3.795.707.707-.707.707-3.795 3.795-1.414-1.414 3.087-3.088zM8 11h7V9H8v2z\"\n      clipRule=\"evenodd\"\n    />\n  </IconBase>\n);\n","import React from 'react';\nimport IconBase from 'react-icons/IconBase';\n\nexport const DownloadIcon = props => (\n  <IconBase viewBox=\"0 0 23 20\" {...props}>\n    <path\n      fill=\"currentColor\"\n      d=\"M17.266 4.016c1.554.158 2.786 1.445 2.91 3.052a3.822 3.822 0 012.046 3.408c0 2.104-1.658 3.81-3.704 3.81h-5.092V10.29l2.225 2.452 2.031-1.949-5.645-6.221-5.645 6.221 2.03 1.95 2.226-2.453v3.995h-7.87v-.034C1.208 14.021 0 12.632 0 10.952c0-1.418.86-2.629 2.074-3.11a3.453 3.453 0 01-.037-.509C2.037 5.493 3.487 4 5.277 4c.325 0 .639.05.935.14C6.972 1.737 9.169 0 11.759 0c2.546 0 4.71 1.677 5.507 4.016zM11.111 14.286h1.852V20h-1.852v-5.714z\"\n    />\n  </IconBase>\n);\n","import React from 'react';\nimport history from 'app/utils/history';\nimport { Button } from '@codesandbox/common/lib/components/Button';\nimport { gitHubToSandboxUrl } from '@codesandbox/common/lib/utils/url-generator';\n\nfunction openStackbit(username: string, closeModal: () => void) {\n  const stackbitWindow = window.open(\n    `https://app.stackbit.com/wizard?ref=codesandbox&githubUser=${username}`,\n    '_blank',\n    'width=1210,height=800'\n  );\n\n  window.addEventListener('message', receiveMessage, false);\n\n  function receiveMessage(event) {\n    if (event.origin === 'https://app.stackbit.com' && event.data) {\n      const data = JSON.parse(event.data);\n\n      if (\n        data.type === 'project-update' &&\n        data.project &&\n        data.project.repository &&\n        data.project.repository.url\n      ) {\n        stackbitWindow.close();\n\n        closeModal();\n        history.push(gitHubToSandboxUrl(data.project.repository.url));\n        window.removeEventListener('message', receiveMessage, false);\n      }\n    }\n  }\n}\n\ninterface Props {\n  username: string;\n  closeModal: () => void;\n  style?: React.CSSProperties;\n}\n\nexport const StackbitButton = ({ username, style, closeModal }: Props) => (\n  <Button\n    style={style}\n    small\n    onClick={() => openStackbit(username, closeModal)}\n  >\n    Generate Sandbox\n  </Button>\n);\n","import styled, { css } from 'styled-components';\nimport { InfoIcon } from '../Icons';\n\nexport const Features = styled.section`\n  display: flex;\n  margin-top: 2rem;\n  margin-bottom: 2rem;\n  padding: 0 1.5rem;\n  padding-bottom: 1.5rem;\n  border-bottom: 1px solid #242424;\n`;\n\nexport const FeatureName = styled.h3`\n  font-family: Inter;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 16px;\n  padding: 0;\n  margin: 0;\n  color: #ffffff;\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n`;\n\nexport const FeatureText = styled.p`\n  font-family: Roboto;\n  font-size: 13px;\n  line-height: 17px;\n  margin-top: 0.5rem;\n  margin-bottom: 1.5rem;\n\n  color: #757575;\n\n  small {\n    display: block;\n    padding-top: 0.75rem;\n    font-size: 11px;\n  }\n`;\n\nexport const IconLink = styled.a.attrs({\n  target: '_blank',\n  rel: 'noreferrer noopener',\n})`\n  display: flex;\n  align-items: center;\n`;\n\nexport const StyledInfoIcon = styled(InfoIcon)`\n  font-size: 0.75em;\n  margin-left: 0.5rem;\n`;\n\nexport const Column = styled.div``;\n\nexport const VerticalSeparator = styled.hr`\n  height: auto;\n  width: 1px;\n  min-width: 1px;\n  margin: 0 1rem;\n  border: 0;\n  outline: 0;\n\n  background-color: #242424;\n`;\n\nexport const Button = styled.button`\n  background: #040404;\n  border-radius: 2px;\n  border: none;\n  color: white;\n  padding: 0.5rem;\n  font-size: 10px;\n  margin: 0;\n  opacity: 1;\n  transition: opacity 200ms ease;\n\n  &:disabled {\n    opacity: 0.4;\n  }\n`;\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n  margin-top: 0.5rem;\n  float: right;\n  margin-bottom: 1rem;\n\n  button:first-child {\n    margin-right: 0.5rem;\n  }\n`;\n\nexport const Input = styled.input`\n  padding: 0.25rem 0.5rem;\n  background: #222222;\n  border: 0.957784px solid #040404;\n  box-sizing: border-box;\n  border-radius: 2px;\n  font-size: 13px;\n  color: white;\n  width: 100%;\n  max-width: 300px;\n\n  &::-webkit-input-placeholder {\n    /* Chrome/Opera/Safari */\n    color: #757575;\n  }\n  &::-moz-placeholder {\n    /* Firefox 19+ */\n    color: #757575;\n  }\n  &:-ms-input-placeholder {\n    /* IE 10+ */\n    color: #757575;\n  }\n`;\n\nconst linkStyles = css`\n  transition: 0.3s ease color;\n\n  display: block;\n  margin: 1rem 0.25rem;\n  margin-left: 0.5rem;\n\n  color: rgba(255, 255, 255, 0.5);\n  text-decoration: none;\n\n  font-weight: 500;\n  font-size: 13px;\n`;\n\nexport const PlaceHolderLink = styled.span<{ error: string }>`\n  ${linkStyles};\n\n  ${props =>\n    props.error &&\n    css`\n      color: ${props.theme.red};\n    `}\n`;\n\nexport const GitHubLink = styled.a`\n  ${linkStyles};\n  word-break: break-all;\n  s &:hover {\n    color: rgba(255, 255, 255, 0.8);\n  }\n`;\n\nexport const ImportChoices = styled.div`\n  transition: 0.3s ease color;\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 60px;\n  padding: 0 1.5rem;\n  font-family: Inter;\n  font-size: 16px;\n  margin-bottom: 4rem;\n  color: #757575;\n\n  a {\n    transition: 0.3s ease color;\n    color: #757575;\n    display: flex;\n    align-items: center;\n    text-decoration: none;\n\n    &:hover,\n    &:focus {\n      color: white;\n    }\n  }\n\n  svg {\n    margin-right: 0.5rem;\n  }\n`;\n","import React from 'react';\nimport IconBase from 'react-icons/IconBase';\n\nexport const InfoIcon = ({ ...props }) => (\n  <IconBase viewBox=\"0 0 12 12\" {...props}>\n    <circle cx=\"6\" cy=\"6\" r=\"5.5\" fill=\"white\" stroke=\"#242424\" />\n    <path\n      d=\"M6.65217 8.65049C6.45894 8.8835 6.21739 9 5.92754 9C5.63768 9 5.40902 8.92557 5.24155 8.7767C5.08052 8.62783 5 8.43366 5 8.19417C5 8.11003 5.05153 7.75728 5.15459 7.13592L5.47343 5.39806H5.06763L5.08696 5.2233H5.50242C5.97907 5.2233 6.33011 5.20388 6.55556 5.16505L6.69082 5.13592L6.02415 8.80583C6.21739 8.78641 6.37842 8.69579 6.50725 8.53398L6.65217 8.65049ZM5.80193 4.20388C5.66667 4.06796 5.59903 3.90291 5.59903 3.70874C5.59903 3.51456 5.66667 3.34951 5.80193 3.21359C5.9372 3.0712 6.10145 3 6.29469 3C6.48792 3 6.65217 3.0712 6.78744 3.21359C6.92915 3.34951 7 3.51456 7 3.70874C7 3.90291 6.92915 4.06796 6.78744 4.20388C6.65217 4.33981 6.48792 4.40777 6.29469 4.40777C6.10145 4.40777 5.9372 4.33981 5.80193 4.20388Z\"\n      fill=\"#151515\"\n    />\n  </IconBase>\n);\n","import React, { useState, useCallback, useEffect } from 'react';\nimport {\n  gitHubToSandboxUrl,\n  protocolAndHost,\n  gitHubRepoPattern,\n} from '@codesandbox/common/lib/utils/url-generator';\nimport { Button } from '@codesandbox/common/lib/components/Button';\nimport { useOvermind } from 'app/overmind';\nimport { SignInButton } from 'app/pages/common/SignInButton';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { TerminalIcon } from '../Icons/TerminalIcon';\nimport { DownloadIcon } from '../Icons/DownloadIcon';\nimport { GitHubIcon, StackbitIcon } from '../Icons';\nimport { Header } from '../elements';\nimport { StackbitButton } from './Stackbit';\nimport {\n  Features,\n  Column,\n  FeatureName,\n  FeatureText,\n  Input,\n  ButtonContainer,\n  PlaceHolderLink,\n  ImportChoices,\n  VerticalSeparator,\n  GitHubLink,\n  StyledInfoIcon,\n  IconLink,\n} from './elements';\n\nconst getFullGitHubUrl = (url: string) =>\n  `${protocolAndHost()}${gitHubToSandboxUrl(url)}`;\n\nexport const Import = () => {\n  const { state, actions, effects } = useOvermind();\n  const [error, setError] = useState(null);\n  const [transformedUrl, setTransformedUrl] = useState('');\n  const [url, setUrl] = useState('');\n\n  useEffect(() => {\n    track('Create Sandbox Tab Open', { tab: 'import' });\n  }, []);\n\n  const updateUrl = useCallback(({ target: { value: newUrl } }) => {\n    if (!newUrl) {\n      setError(null);\n      setTransformedUrl('');\n      setUrl(newUrl);\n    } else if (!gitHubRepoPattern.test(newUrl)) {\n      setError('The URL provided is not valid.');\n      setTransformedUrl('');\n      setUrl(newUrl);\n    } else {\n      setError(null);\n      setTransformedUrl(getFullGitHubUrl(newUrl.trim()));\n      setUrl(newUrl);\n    }\n  }, []);\n\n  return (\n    <>\n      <Header>\n        <span>Import Project</span>\n      </Header>\n      <Features>\n        <Column>\n          <FeatureName>\n            <GitHubIcon style={{ marginRight: '1rem' }} />\n            Import from GitHub{' '}\n            <IconLink href=\"/docs/importing#import-from-github\">\n              <StyledInfoIcon />\n            </IconLink>\n          </FeatureName>\n          <FeatureText>\n            Enter the URL to your GitHub repository to generate a URL to your\n            sandbox. The sandbox will stay in sync with your repository.\n            <small>\n              Tip: you can also link to specific directories, commits and\n              branches here.\n            </small>\n          </FeatureText>\n          <form>\n            <Input\n              value={url}\n              onChange={updateUrl}\n              type=\"text\"\n              placeholder=\"GitHub Repository URL...\"\n            />\n\n            {transformedUrl ? (\n              <GitHubLink\n                href={transformedUrl}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n              >\n                {transformedUrl.replace(/^https?:\\/\\//, '')}\n              </GitHubLink>\n            ) : (\n              <PlaceHolderLink error={error}>\n                {error || 'Enter a URL to see the generated URL'}\n              </PlaceHolderLink>\n            )}\n\n            <ButtonContainer>\n              <Button\n                small\n                style={{ fontSize: 11 }}\n                onClick={() => effects.browser.copyToClipboard(transformedUrl)}\n                disabled={!transformedUrl}\n              >\n                Copy Link\n              </Button>\n              <Button\n                small\n                style={{ fontSize: 11 }}\n                disabled={!transformedUrl}\n                to={gitHubToSandboxUrl(url)}\n                onClick={() => {\n                  actions.modalClosed();\n                }}\n              >\n                Generate Sandbox\n              </Button>\n            </ButtonContainer>\n          </form>\n        </Column>\n\n        <>\n          <VerticalSeparator />\n          <Column>\n            <FeatureName>\n              <StackbitIcon style={{ marginRight: '1rem' }} />\n              Import from Stackbit\n            </FeatureName>\n            <FeatureText>\n              Create a project using{' '}\n              <a\n                href=\"https://www.stackbit.com/\"\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n              >\n                Stackbit\n              </a>\n              . This generates a project for you that{\"'\"}s automatically set up\n              with any Theme, Site Generator and CMS.\n            </FeatureText>\n            {!state.user ? (\n              <SignInButton />\n            ) : (\n              <StackbitButton\n                style={{ fontSize: 11 }}\n                username={state.user.username}\n                closeModal={() => actions.modalClosed()}\n              />\n            )}\n          </Column>\n        </>\n      </Features>\n      <ImportChoices>\n        <a href=\"/docs/importing#export-with-cli\">\n          <TerminalIcon />\n          CLI Documentation\n        </a>\n        <a href=\"/docs/importing#define-api\">\n          <DownloadIcon />\n          API Documentation\n        </a>\n      </ImportChoices>\n    </>\n  );\n};\n","import React from 'react';\n\nexport const CodeAnywhere = props => (\n  <svg\n    width=\"200\"\n    height=\"100\"\n    viewBox=\"0 0 200 100\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <circle cx=\"101\" cy=\"46\" r=\"14\" fill=\"white\" />\n    <path\n      d=\"M142.5 48.5C142.5 53.8632 138.031 58.8603 130.479 62.5464C122.961 66.2161 112.539 68.5 101 68.5C89.4612 68.5 79.0393 66.2161 71.5208 62.5464C63.9689 58.8603 59.5 53.8632 59.5 48.5C59.5 43.1368 63.9689 38.1397 71.5208 34.4536C79.0393 30.7839 89.4612 28.5 101 28.5C112.539 28.5 122.961 30.7839 130.479 34.4536C138.031 38.1397 142.5 43.1368 142.5 48.5Z\"\n      stroke=\"#8F8F8F\"\n    />\n    <path\n      d=\"M160.75 50C160.75 57.5761 154.105 64.5138 143.175 69.5721C132.266 74.6207 117.179 77.75 100.5 77.75C83.8212 77.75 68.7336 74.6207 57.825 69.5721C46.8955 64.5138 40.25 57.5761 40.25 50C40.25 42.4239 46.8955 35.4862 57.825 30.4279C68.7336 25.3793 83.8212 22.25 100.5 22.25C117.179 22.25 132.266 25.3793 143.175 30.4279C154.105 35.4862 160.75 42.4239 160.75 50Z\"\n      stroke=\"#444444\"\n      strokeWidth=\"0.5\"\n    />\n    <circle cx=\"122\" cy=\"33\" r=\"5\" fill=\"#8F8F8F\" />\n    <circle cx=\"138\" cy=\"28\" r=\"3\" fill=\"#444444\" />\n  </svg>\n);\n","import React from 'react';\n\nexport const StartQuickly = props => (\n  <svg\n    width=\"200\"\n    height=\"100\"\n    viewBox=\"0 0 200 100\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path d=\"M82 46L100.187 77.5H63.8135L82 46Z\" fill=\"#757575\" />\n    <circle cx=\"94\" cy=\"25\" r=\"14\" fill=\"white\" />\n    <rect\n      x=\"122.771\"\n      y=\"33.7462\"\n      width=\"24.6963\"\n      height=\"24.6963\"\n      transform=\"rotate(47.8949 122.771 33.7462)\"\n      fill=\"white\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nexport const PrototypeRapidly = props => (\n  <svg\n    width=\"200\"\n    height=\"100\"\n    viewBox=\"0 0 200 100\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <rect\n      x=\"65.3528\"\n      y=\"25.7894\"\n      width=\"40\"\n      height=\"40\"\n      transform=\"rotate(15 65.3528 25.7894)\"\n      fill=\"#444444\"\n    />\n    <rect\n      x=\"90.1744\"\n      y=\"22.9637\"\n      width=\"40\"\n      height=\"40\"\n      transform=\"rotate(30 90.1744 22.9637)\"\n      fill=\"#8F8F8F\"\n    />\n    <rect\n      x=\"117.495\"\n      y=\"22\"\n      width=\"40\"\n      height=\"40\"\n      transform=\"rotate(45 117.495 22)\"\n      fill=\"white\"\n    />\n  </svg>\n);\n","import styled from 'styled-components';\n\nexport const Features = styled.ul`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 1.6rem;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  margin-top: 4rem;\n  margin-bottom: 4rem;\n  padding: 0 1.5rem;\n\n  li {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n`;\n\nexport const FeatureName = styled.h3`\n  font-family: Roboto;\n  font-weight: bold;\n  font-size: 13px;\n  line-height: 15px;\n  text-align: center;\n  padding: 0;\n  margin: 0;\n  margin-top: 2rem;\n  color: #ffffff;\n`;\n\nexport const FeatureText = styled.p`\n  font-weight: 400;\n  font-size: 13px;\n  line-height: 1.5;\n  margin-top: 0.5rem;\n  text-align: center;\n  color: #757575;\n`;\n\nexport const CreateButton = styled.button`\n  background: #0a84ff;\n  border-radius: 2px;\n  border: none;\n  padding: 8px 62px;\n  text-align: center;\n  font-size: 10px;\n  line-height: 19px;\n  color: #ffffff;\n`;\n\nexport const Actions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-bottom: 3.25rem;\n`;\n","import React, { useEffect } from 'react';\nimport { Button } from '@codesandbox/common/lib/components/Button';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { CodeAnywhere } from './CodeAnywhere';\nimport { StartQuickly } from './StartQuickly';\nimport { PrototypeRapidly } from './PrototypeRapidly';\nimport { Header } from '../elements';\nimport { Features, FeatureName, FeatureText, Actions } from './elements';\n\nexport const Welcome = ({ goToTab }: { goToTab: (event: any) => void }) => {\n  useEffect(() => {\n    track('Create Sandbox Tab Open', { tab: 'welcome' });\n  }, []);\n\n  return (\n    <>\n      <Header>\n        <span>Welcome to CodeSandbox</span>\n      </Header>\n      <Features>\n        <li>\n          <CodeAnywhere />\n          <FeatureName>Code Anywhere</FeatureName>\n          <FeatureText>\n            An instantly ready, full-featured online IDE for web development on\n            any device with a browser.\n          </FeatureText>\n        </li>\n        <li>\n          <StartQuickly />\n          <FeatureName>Start Quickly</FeatureName>\n          <FeatureText>\n            With no setup, and templates for all popular frameworks to get you\n            started quickly.\n          </FeatureText>\n        </li>\n        <li>\n          <PrototypeRapidly />\n          <FeatureName>Prototype Rapidly</FeatureName>\n          <FeatureText>\n            You can create web apps, experiment with code, test ideas, and share\n            creations easily.\n          </FeatureText>\n        </li>\n      </Features>\n      <Actions>\n        <Button small style={{ fontSize: 12, width: 200 }} onClick={goToTab}>\n          Create Sandbox\n        </Button>\n      </Actions>\n    </>\n  );\n};\n","import styled, { css } from 'styled-components';\n\n// header\n\nexport const Header = styled.section`\n  text-align: center;\n  padding: 4rem 0 8rem 0;\n  color: #f2f2f2;\n  margin-bottom: 2rem;\n\n  @media screen and (max-width: 768px) {\n    padding: 4rem 0 2rem 0;\n  }\n`;\n\nexport const PageTitle = styled.h1`\n  font-weight: 500;\n  font-size: 4.5rem;\n  font-weight: 700;\n  line-height: 5.5rem;\n  letter-spacing: -0.02rem;\n\n  @media screen and (max-width: 768px) {\n    font-size: 2.5rem;\n    line-height: 3.5rem;\n  }\n`;\n\nexport const PageSubtitle = styled.h2`\n  font-size: 2rem;\n  font-weight: 400;\n\n  @media screen and (max-width: 768px) {\n    font-size: 1rem;\n  }\n`;\n\nexport const Posts = styled.article`\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: 15rem 1fr;\n  grid-template-areas:\n    'aside img'\n    '. content';\n\n  @media screen and (max-width: 768px) {\n    grid-template-columns: 1fr;\n    grid-template-areas:\n      'aside'\n      'img'\n      'content';\n  }\n\n  grid-column-gap: 2rem;\n  padding: 4rem 0 2rem 0;\n  border-bottom: 1px solid #151515;\n  &:last-child {\n    border: none;\n  }\n`;\n\nexport const Aside = styled.aside`\n  font-size: 1rem;\n  font-stretch: normal;\n  font-style: normal;\n  font-variant-caps: normal;\n  font-weight: 400;\n  line-height: 18px;\n  color: rgba(255, 255, 255, 0.65);\n  margin: 4rem 0 0 0;\n  grid-area: aside;\n\n  @media screen and (max-width: 768px) {\n    margin: 0.25rem 0 2rem 0;\n  }\n`;\n\nexport const Thumbnail = styled.img`\n  margin-bottom: 2rem;\n  width: 100%;\n  overflow: hidden;\n  grid-area: img;\n  clip-path: inset(0 0 0 0 round 0.5rem);\n`;\n\nexport const Smallupdate = styled.div`\n  background: #151515;\n  text-align: center;\n  justify-content: center;\n  padding: 5rem 0;\n  margin-bottom: 2rem;\n  grid-area: img;\n  font-size: 3rem;\n  font-weight: 700;\n  border: 1px solid #242424;\n  border-radius: 0.25rem;\n\n  @media screen and (max-width: 768px) {\n    font-size: 1.5rem;\n    padding: 3rem 0;\n  }\n`;\n\nexport const Postitle = styled.h2`\n  font-size: 1.6rem;\n  font-weight: 200;\n  margin: 2rem 0 0.5rem 0;\n  color: #fff;\n\n  > a {\n    color: #fff;\n    text-decoration: none;\n  }\n`;\n\nexport const listStyles = css`\n  > ul,\n  ol {\n    padding: 0;\n    margin: 1rem 0 3rem 0;\n    color: rgba(255, 255, 255, 0.75);\n  }\n\n  > ul li,\n  ol li {\n    list-style: none;\n    line-height: 2rem;\n    padding: 0px 0px 0px 2rem;\n    position: relative;\n  }\n\n  > ul li:before {\n    content: ' ';\n    background-image: url(\"data:image/svg+xml;utf8,<svg width='15' height='11' viewBox='0 0 15 11' xmlns='http://www.w3.org/2000/svg'><path id='mask' d='M2 6l3.5 3.5L13 2' stroke-width='2' stroke='%236cc7f6'  fill='none' stroke-linecap='round'/></svg>\");\n    height: 11px;\n    width: 15px;\n    left: 2px;\n    top: 10px;\n    position: absolute;\n  }\n\n  > ol li:before {\n    content: '+ ';\n    font-weight: 600;\n    color: #5bc266;\n    font-size: 19px;\n    width: 10px;\n    height: 10px;\n    top: -1px;\n    left: 5px;\n\n    position: absolute;\n  }\n\n  > ul li a,\n  ol li a {\n    color: rgba(255, 255, 255, 1);\n    text-decoration: none;\n    border-bottom: 1px solid rgba(255, 255, 255, 0);\n    transition: all 100ms ease-in;\n  }\n\n  > ul li a:hover,\n  ol li a:hover {\n    border-bottom: 1px solid rgba(255, 255, 255, 1);\n  }\n`;\n\nexport const Post = styled.div`\n  font-size: 1.1rem;\n  line-height: 1.6rem;\n  font-weight: 300;\n  color: rgba(255, 255, 255, 0.75);\n  margin-top: 1.8em;\n  margin-bottom: 2rem;\n  grid-area: content;\n\n  > p a {\n    text-decoration: none;\n  }\n\n  > p {\n    margin-bottom: 2rem;\n  }\n\n  > h3 {\n    color: #fff;\n    font-size: 19px;\n    margin-top: 1rem;\n  }\n\n  > h4 {\n    color: #fff;\n    font-size: 19px;\n    margin-top: 0rem;\n  }\n\n  > h5 {\n    color: #fff;\n    margin: 0;\n    font-size: 1rem;\n    font-weight: 700;\n  }\n\n  > image {\n    margin: 0;\n  }\n\n  ${listStyles}\n`;\n","import React, { useEffect } from 'react';\nimport { Button, Text, Element, Stack, Link } from '@codesandbox/components';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport css from '@styled-system/css';\nimport format from 'date-fns/format';\nimport styled from 'styled-components';\nimport { listStyles } from 'homepage/src/pages/changelog/_elements';\n\nimport ReactMarkdown from 'react-markdown';\n\nimport { Header } from '../elements';\n\nconst Wrapper = styled(Element)`\n  ${listStyles}\n`;\n\nexport const New = ({\n  goToTab,\n  info,\n  latestChangelog,\n}: {\n  goToTab: (event: any) => void;\n  info: any;\n  latestChangelog: string;\n}) => {\n  useEffect(() => {\n    track('Create Sandbox Tab Open', { tab: 'new' });\n  }, []);\n\n  return (\n    <>\n      <Header>\n        <Text weight=\"normal\">See whats new</Text>\n        <Link size={4} href=\"/changelog\" variant=\"muted\">\n          Show all\n        </Link>\n      </Header>\n\n      <Element padding={6} css={css({ maxHeight: '100%', overflow: 'auto' })}>\n        {info ? (\n          <>\n            <Text weight=\"bold\" size={24} block paddingBottom={1}>\n              {info.title}\n            </Text>\n            <Text variant=\"muted\" block paddingBottom={3} size={3}>\n              {format(new Date(info.date), 'MMMM d yyyy')}\n            </Text>\n            <Text size={16} css={css({ lineHeight: '23px' })}>\n              {info.description}\n            </Text>\n          </>\n        ) : null}\n        <Wrapper\n          css={css({\n            display: 'grid',\n            gridTemplateColumns: '30% 1fr',\n            gridGap: 6,\n          })}\n        >\n          <ReactMarkdown\n            renderers={{\n              heading: props => {\n                if (!props.children.length) return null;\n\n                return React.createElement(\n                  `h${props.level}`,\n                  {},\n                  props.children\n                );\n              },\n            }}\n            source={latestChangelog.split('---')[2]}\n          />\n        </Wrapper>\n      </Element>\n      <Stack\n        justify=\"flex-end\"\n        paddingY={2}\n        paddingRight={6}\n        css={css({\n          borderTop: '1px solid transparent',\n          borderTopColor: 'grays.600',\n        })}\n      >\n        <Button css={css({ width: 'auto' })} onClick={goToTab}>\n          Create Sandbox\n        </Button>\n      </Stack>\n    </>\n  );\n};\n","import { useOvermind } from 'app/overmind';\nimport React, { useState, useEffect } from 'react';\nimport { useTabState } from 'reakit/Tab';\nimport css from '@styled-system/css';\n\nimport latestChangelog from 'homepage/content/changelog';\nimport { ThemeProvider, Element } from '@codesandbox/components';\nimport codesandboxBlack from '@codesandbox/components/lib/themes/codesandbox-black';\nimport { getInfoFromMarkdown } from './utils/getInfoFromMarkdown';\nimport { Create } from './Create';\nimport { Container, Tab, TabContent, Tabs } from './elements';\nimport { Explore } from './Explore';\nimport {\n  CodeSandboxIcon,\n  PlusIcon,\n  StarIcon,\n  UploadIcon,\n  NewIcon,\n} from './Icons';\nimport { Import } from './Import';\nimport { Welcome } from './Welcome';\nimport { New } from './New';\n\nexport const COLUMN_MEDIA_THRESHOLD = 1600;\n\nexport const CreateSandbox: React.FC = props => {\n  const {\n    state: { isFirstVisit },\n    effects: { browser },\n  } = useOvermind();\n  const [newChangelogToSee, setNewChangelogToSee] = useState(false);\n  const tab = useTabState({\n    orientation: 'vertical',\n    selectedId: isFirstVisit ? 'Welcome' : 'Create',\n  });\n\n  const [info, setInfo] = useState(null);\n\n  useEffect(() => {\n    const infoData = getInfoFromMarkdown(latestChangelog);\n    setInfo(infoData);\n    const key = 'last_changelog_viewed_create_sandbox_modal';\n    if (browser.storage.get(key) !== infoData.title) {\n      setNewChangelogToSee(true);\n    }\n    browser.storage.set(key, infoData.title);\n  }, [browser.storage]);\n\n  return (\n    <ThemeProvider theme={codesandboxBlack}>\n      <Container {...props}>\n        <Tabs {...tab} aria-label=\"My tabs\">\n          <Tab {...tab} stopId=\"New\">\n            {newChangelogToSee ? (\n              <Element\n                css={css({\n                  width: '5px',\n                  height: '5px',\n                  left: 29,\n                  top: 0,\n                  transform: 'translateY(100%)',\n                  borderRadius: '50%',\n                  position: 'absolute',\n                  backgroundColor: 'reds.500',\n                })}\n              />\n            ) : null}\n            <NewIcon scale={0.5} />\n            What{\"'\"}s new\n          </Tab>\n          {isFirstVisit ? (\n            <Tab {...tab} stopId=\"Welcome\">\n              <CodeSandboxIcon scale={0.5} />\n              Welcome\n            </Tab>\n          ) : null}\n          <Tab {...tab} stopId=\"Create\">\n            <PlusIcon scale={0.5} />\n            Create Sandbox\n          </Tab>\n          <Tab {...tab} stopId=\"Explore\">\n            <StarIcon scale={0.5} />\n            Explore Templates\n          </Tab>\n          <Tab {...tab} stopId=\"Import\">\n            <UploadIcon scale={0.5} />\n            Import Project\n          </Tab>\n        </Tabs>\n        {isFirstVisit ? (\n          <TabContent {...tab} stopId=\"Welcome\">\n            {rProps =>\n              !rProps.hidden && (\n                <div {...rProps}>\n                  <Welcome goToTab={() => tab.select('Create')} />\n                </div>\n              )\n            }\n          </TabContent>\n        ) : null}\n        <TabContent {...tab} stopId=\"Create\">\n          {rProps =>\n            !rProps.hidden && (\n              <div {...rProps}>\n                <Create />\n              </div>\n            )\n          }\n        </TabContent>\n\n        <TabContent {...tab} stopId=\"New\">\n          {rProps =>\n            !rProps.hidden && (\n              <div {...rProps}>\n                <New\n                  latestChangelog={latestChangelog}\n                  info={info}\n                  goToTab={() => tab.select('Create')}\n                />\n              </div>\n            )\n          }\n        </TabContent>\n        <TabContent {...tab} stopId=\"Explore\">\n          {rProps =>\n            !rProps.hidden && (\n              <div {...rProps}>\n                <Explore />\n              </div>\n            )\n          }\n        </TabContent>\n        <TabContent {...tab} stopId=\"Import\">\n          {rProps =>\n            !rProps.hidden && (\n              <div {...rProps}>\n                <Import />\n              </div>\n            )\n          }\n        </TabContent>\n      </Container>\n    </ThemeProvider>\n  );\n};\n","import parse from 'remark-parse';\nimport stringify from 'remark-stringify';\nimport unified from 'unified';\nimport frontmatter from 'remark-frontmatter';\n\nexport const getInfoFromMarkdown = latestChangelog => {\n  let desc = false;\n  const rawMarkdown = unified()\n    .use(parse)\n    .use(stringify)\n    .use(frontmatter, ['yaml'])\n    .parse(latestChangelog);\n\n  try {\n    const infoData = rawMarkdown.children[0].value\n      .split('\\n')\n      .reduce((acc, current) => {\n        const [key, value] = current.split(':');\n\n        if (desc) {\n          acc.description += key;\n        }\n\n        if (key === 'description' && !value) {\n          acc[key] = '';\n          desc = true;\n        } else {\n          acc[key] = value.trim();\n        }\n\n        return acc;\n      }, {});\n\n    return infoData;\n  } catch {\n    return {};\n  }\n};\n","import React from 'react';\n\ninterface IOpagueLogoProps extends React.SVGAttributes<SVGElement> {\n  width: number;\n  height: number;\n}\n\nexport const OpaqueLogo: React.FC<IOpagueLogoProps> = ({\n  width = 35,\n  height = 35,\n  ...props\n}) => (\n  <svg\n    x=\"0px\"\n    y=\"0px\"\n    width={`${width}px`}\n    height={`${height}px`}\n    viewBox=\"0 0 747 833\"\n    {...props}\n  >\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth={1} fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"Artboard\">\n        <g id=\"Logo\" transform=\"translate(40.000000, 46.000000)\">\n          <g id=\"Layer_1\">\n            <polygon\n              id=\"Shape\"\n              stroke=\"#FFFFFF\"\n              strokeWidth={80}\n              fill=\"#24282A\"\n              points=\"0 556.355883 333.160828 740.381929 666.463493 555.739612 666.463493 185.703126 333.231747 0 0 186.524821\"\n            />\n            <polyline\n              id=\"Shape\"\n              fill=\"#FFFFFF\"\n              fillRule=\"nonzero\"\n              points=\"515.246464 648.658551 515.246464 475.155956 671.608198 388.018462 671.608198 561.778247 515.246464 648.658551\"\n            />\n            <polyline\n              id=\"Shape\"\n              fill=\"#FFFFFF\"\n              fillRule=\"nonzero\"\n              points=\"159.72664 477.832217 6 392.126938 6 563.537497 159.72664 649.677453 159.72664 477.832217\"\n            />\n            <polyline\n              id=\"Shape\"\n              fill=\"#FFFFFF\"\n              fillRule=\"nonzero\"\n              points=\"338.843831 175.85264 495.169679 88.6198293 338.910477 1 182.014717 88.9107094 338.843831 175.85264\"\n            />\n          </g>\n          <g\n            id=\"Layer_2\"\n            transform=\"translate(1.000000, 185.000000)\"\n            strokeWidth={80}\n            stroke=\"#FFFFFF\"\n          >\n            <polyline\n              id=\"Shape\"\n              points=\"663.754613 0.703126 330.522866 185.72178 330.522866 555.484641\"\n            />\n            <path d=\"M0.70888075,1.524821 L333.370716,185.584557\" id=\"Shape\" />\n          </g>\n        </g>\n      </g>\n    </g>\n  </svg>\n);\n","import React from 'react';\nimport IconBase from 'react-icons/IconBase';\n\nexport const GitHubLogo: React.FC<React.SVGAttributes<SVGElement>> = props => (\n  <IconBase viewBox=\"0 0 40 40\" {...props}>\n    <g>\n      <circle cx=\"20\" cy=\"20\" r=\"20\" fill=\"rgb(36, 40, 42)\" />\n      <path d=\"m20 0c-11 0-20 9-20 20 0 8.8 5.7 16.3 13.7 19 1 0.2 1.3-0.5 1.3-1 0-0.5 0-2 0-3.7-5.5 1.2-6.7-2.4-6.7-2.4-0.9-2.3-2.2-2.9-2.2-2.9-1.9-1.2 0.1-1.2 0.1-1.2 2 0.1 3.1 2.1 3.1 2.1 1.7 3 4.6 2.1 5.8 1.6 0.2-1.3 0.7-2.2 1.3-2.7-4.5-0.5-9.2-2.2-9.2-9.8 0-2.2 0.8-4 2.1-5.4-0.2-0.5-0.9-2.6 0.2-5.3 0 0 1.7-0.5 5.5 2 1.6-0.4 3.3-0.6 5-0.6 1.7 0 3.4 0.2 5 0.7 3.8-2.6 5.5-2.1 5.5-2.1 1.1 2.8 0.4 4.8 0.2 5.3 1.3 1.4 2.1 3.2 2.1 5.4 0 7.6-4.7 9.3-9.2 9.8 0.7 0.6 1.4 1.9 1.4 3.7 0 2.7 0 4.9 0 5.5 0 0.6 0.3 1.2 1.3 1 8-2.7 13.7-10.2 13.7-19 0-11-9-20-20-20z\" />\n    </g>\n  </IconBase>\n);\n","import styled, { css, keyframes } from 'styled-components';\n\nconst rotateAnimation = keyframes`\n  0% {\n    transform: rotateX(-37.5deg) rotateY(45deg);\n  }\n  100% {\n    transform: rotateX(-37.5deg) rotateY(405deg);\n  }\n`;\n\nexport const Container = styled.div<{ size: number }>`\n  ${({ size }) => css`\n    position: absolute;\n    width: ${size + 1}px;\n    height: ${size + 1}px;\n\n    * {\n      position: absolute;\n      width: ${size + 1}px;\n      height: ${size + 1}px;\n    }\n  `}\n`;\n\nexport const Sides = styled.div<{ size: number }>`\n  ${({ size }) => css`\n    animation: ${rotateAnimation} 1s linear infinite;\n    transform-style: preserve-3d;\n    transform: rotateX(-37.5deg) rotateY(45deg);\n\n    * {\n      box-sizing: border-box;\n      background-color: rgba(242, 119, 119, 0.5);\n      border: ${size / 10}px solid white;\n    }\n  `}\n`;\n\nexport const Side = styled.div<{ rotate: string; size: number }>`\n  ${({ rotate, size }) => css`\n    transform-origin: 50% 50%;\n    transform: ${rotate} translateZ(${size / 2}px);\n  `}\n`;\n","import React from 'react';\nimport { Container, Sides, Side } from './elements';\n\ninterface ICubeComponentProps extends React.HTMLAttributes<HTMLDivElement> {\n  size?: number;\n}\n\nexport const Cube: React.FC<ICubeComponentProps> = ({\n  size = 150,\n  ...props\n}) => (\n  <Container size={size} {...props}>\n    <Sides size={size}>\n      <Side rotate=\"rotateX(90deg)\" size={size} />\n      <Side rotate=\"rotateX(-90deg)\" size={size} />\n      <Side rotate=\"rotateY(0deg)\" size={size} />\n      <Side rotate=\"rotateY(-180deg)\" size={size} />\n      <Side rotate=\"rotateY(-90deg)\" size={size} />\n      <Side rotate=\"rotateY(90deg)\" size={size} />\n    </Sides>\n  </Container>\n);\n","import styled, { css, keyframes } from 'styled-components';\nimport delayInEffect from '@codesandbox/common/lib/utils/animation/delay-effect';\nimport { OpaqueLogo as BaseOpaqueLogo } from 'app/components/OpaqueLogo';\nimport { GitHubLogo as BaseGitHubLogo } from 'app/components/GitHubLogo';\nimport { Cube as BaseCube } from '../Cube';\n\nexport const DeployAnimationContainer = styled.div<{ deploying: boolean }>`\n  ${({ deploying }) => css`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 3rem;\n    ${deploying && delayInEffect(0, false)};\n  `}\n`;\n\nexport const GitHubLogo = styled(BaseGitHubLogo)`\n  position: absolute;\n  color: white;\n  font-size: 4rem;\n  transform: translateY(10px) translateX(80px);\n`;\n\nconst cubeAnimation = keyframes`\n  0% {\n    transform: translateY(20px) translateX(-100px) scale(0, 0);\n  }\n\n  20% {\n    transform: translateY(20px) translateX(-100px) scale(1, 1);\n  }\n\n  80% {\n    transform: translateY(20px) translateX(80px) scale(1, 1);\n  }\n\n  100% {\n    transform: translateY(20px) translateX(80px) scale(1, 1);\n  }\n`;\n\nexport const Cube = styled(BaseCube)<{ delay: number }>`\n  ${({ delay }) => css`\n    position: absolute;\n    animation: ${cubeAnimation} 2s ease-in infinite;\n    animation-delay: ${delay * 0.5}s;\n    transform: translateY(20px) translateX(-100px) scale(0, 0);\n  `}\n`;\n\nexport const OpaqueLogo = styled(BaseOpaqueLogo)`\n  position: absolute;\n  z-index: 10;\n  transform: translateY(15px) translateX(-100px);\n`;\n","import React, { FunctionComponent, ReactNode } from 'react';\nimport { Element, Text } from '@codesandbox/components';\nimport {\n  Cube,\n  DeployAnimationContainer,\n  GitHubLogo,\n  OpaqueLogo,\n} from './elements';\n\ntype Props = {\n  message: string;\n  result: ReactNode;\n};\nexport const GitProgress: FunctionComponent<Props> = ({ message, result }) => (\n  <Element padding={4} paddingTop={6}>\n    {result ? (\n      <Text marginBottom={4} size={3} block>\n        {result}\n      </Text>\n    ) : (\n      <>\n        <DeployAnimationContainer deploying>\n          <OpaqueLogo height={70} width={70} />\n\n          {[0, 1, 2, 3].map(i => (\n            <Cube delay={i} key={i} size={20} />\n          ))}\n\n          <GitHubLogo />\n        </DeployAnimationContainer>\n        <Text align=\"center\" weight=\"bold\" block size={4} marginTop={4}>\n          {message}\n        </Text>\n      </>\n    )}\n  </Element>\n);\n","import React, { FunctionComponent } from 'react';\nimport { Stack, Link, Text } from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nimport { GitProgress } from 'app/components/GitProgress';\nimport { useOvermind } from 'app/overmind';\n\nconst CommitModal: FunctionComponent = () => {\n  const {\n    state: {\n      editor: {\n        currentSandbox: { originalGit: git },\n      },\n      git: { commit },\n      user: { username },\n    },\n  } = useOvermind();\n\n  let message;\n\n  if (commit) {\n    if (commit.newBranch) {\n      const newUrl = `https://github.com/${git.username}/${git.repo}/compare/${git.branch}...${username}:${commit.newBranch}?expand=1`;\n\n      message = (\n        <>\n          <Text block marginBottom={6}>\n            There was a merge conflict while committing, you can open a PR\n            instead.\n          </Text>\n          <Stack justify=\"flex-end\">\n            <Link\n              css={css({\n                textDecoration: 'none',\n                width: 'auto',\n              })}\n              href={newUrl}\n              target=\"_blank\"\n              rel=\"noreferrer noopener\"\n            >\n              Open a PR\n            </Link>\n          </Stack>\n        </>\n      );\n    } else if (commit.merge) {\n      message =\n        'Success! There were other commits, so we merged your changes in and opened an up to date sandbox.';\n    } else {\n      message = 'Successfully created commit!';\n    }\n  }\n\n  return <GitProgress result={message} message=\"Creating Commit...\" />;\n};\n\nexport default CommitModal;\n","import React, { FunctionComponent } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { Alert } from '../Common/Alert';\n\nconst DeleteSandboxModal: FunctionComponent = () => {\n  const {\n    actions: {\n      modalClosed,\n      workspace: { sandboxDeleted },\n    },\n  } = useOvermind();\n\n  return (\n    <Alert\n      title=\"Delete Sandbox\"\n      description=\"Are you sure you want to delete this sandbox?\"\n      onCancel={modalClosed}\n      onPrimaryAction={sandboxDeleted}\n      confirmMessage=\"Delete\"\n      type=\"danger\"\n    />\n  );\n};\n\nexport default DeleteSandboxModal;\n","import React, { FunctionComponent } from 'react';\n\nexport const VercelIcon: FunctionComponent = props => (\n  <svg\n    width={130}\n    height={56}\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 283 64\"\n    {...props}\n  >\n    <path\n      d=\"M141.04 16c-11.04 0-19 7.2-19 18s8.96 18 20 18c6.67 0 12.55-2.64 16.19-7.09l-7.65-4.42c-2.02 2.21-5.09 3.5-8.54 3.5-4.79 0-8.86-2.5-10.37-6.5h28.02c.22-1.12.35-2.28.35-3.5 0-10.79-7.96-17.99-19-17.99zm-9.46 14.5c1.25-3.99 4.67-6.5 9.45-6.5 4.79 0 8.21 2.51 9.45 6.5h-18.9zM248.72 16c-11.04 0-19 7.2-19 18s8.96 18 20 18c6.67 0 12.55-2.64 16.19-7.09l-7.65-4.42c-2.02 2.21-5.09 3.5-8.54 3.5-4.79 0-8.86-2.5-10.37-6.5h28.02c.22-1.12.35-2.28.35-3.5 0-10.79-7.96-17.99-19-17.99zm-9.45 14.5c1.25-3.99 4.67-6.5 9.45-6.5 4.79 0 8.21 2.51 9.45 6.5h-18.9zM200.24 34c0 6 3.92 10 10 10 4.12 0 7.21-1.87 8.8-4.92l7.68 4.43c-3.18 5.3-9.14 8.49-16.48 8.49-11.05 0-19-7.2-19-18s7.96-18 19-18c7.34 0 13.29 3.19 16.48 8.49l-7.68 4.43c-1.59-3.05-4.68-4.92-8.8-4.92-6.07 0-10 4-10 10zm82.48-29v46h-9V5h9zM36.95 0L73.9 64H0L36.95 0zm92.38 5l-27.71 48L73.91 5H84.3l17.32 30 17.32-30h10.39zm58.91 12v9.69c-1-.29-2.06-.49-3.2-.49-5.81 0-10 4-10 10V51h-9V17h9v9.2c0-5.08 5.91-9.2 13.2-9.2z\"\n      fill=\"#fff\"\n    />\n  </svg>\n);\n","import React, { FunctionComponent } from 'react';\nimport { GitProgress } from 'app/components/GitProgress';\n\ntype Props = {\n  isExported?: boolean;\n};\nconst ExportGitHubModal: FunctionComponent<Props> = ({\n  isExported = false,\n}) => (\n  <GitProgress\n    result={isExported ? <div>Exported to GitHub!</div> : null}\n    message=\"Creating Repository...\"\n  />\n);\n\nexport default ExportGitHubModal;\n","import { useOvermind } from 'app/overmind';\nimport Loadable from 'app/utils/Loadable';\nimport React, { FunctionComponent } from 'react';\n\nconst Feedback = Loadable(() =>\n  import(/* webpackChunkName: 'feedback' */ './Feedback').then(module => ({\n    default: module.Feedback,\n  }))\n);\n\nexport const FeedbackModal: FunctionComponent = () => {\n  const {\n    state: {\n      editor: { currentSandbox },\n      user,\n    },\n  } = useOvermind();\n\n  return <Feedback user={user} id={currentSandbox?.id} />;\n};\n","import React, { FunctionComponent } from 'react';\nimport { Alert } from '../Common/Alert';\n\nconst LiveVersionMismatch: FunctionComponent = () => (\n  <Alert\n    title=\"Version Mismatch\"\n    description={\n      \"You are running an older version of CodeSandbox. Refresh to get the latest version. If refreshing doesn't work, you can try to clear your storage and unregister the service worker.\"\n    }\n  />\n);\n\nexport default LiveVersionMismatch;\n","import styled, { keyframes } from 'styled-components';\nimport { Element } from '@codesandbox/components';\n\nconst loading = keyframes`\n  0%   { content: ''; }\n  25%  { content: '.'; }\n  50%  { content: '..'; }\n  75%  { content: '...'; }\n  100% { content: ''; }\n`;\n\nexport const Item = styled(Element)`\n  &:first-child:after {\n    display: inline-block;\n    animation: ${loading} steps(1, end) 1s infinite;\n    content: '';\n  }\n`;\n","import React from 'react';\nimport { Element, Text, Stack } from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nexport const SideNavigation = ({ menuItems, itemId, setItem }) => (\n  <Element\n    paddingBottom={8}\n    css={css({\n      backgroundColor: 'sideBar.background',\n      borderWidth: 1,\n      borderRightStyle: 'solid',\n      borderColor: 'sideBar.border',\n      width: 220,\n    })}\n  >\n    <Text\n      paddingLeft={6}\n      paddingTop={6}\n      paddingBottom={6}\n      size={4}\n      block\n      weight=\"bold\"\n    >\n      Preferences\n    </Text>\n    <Element style={{ position: 'relative' }}>\n      {menuItems.map(item => (\n        <Stack\n          align=\"center\"\n          css={css({\n            transition: '0.3s ease all',\n            fontSize: 3,\n            paddingX: 6,\n            paddingY: 2,\n            cursor: 'pointer',\n            lineHeight: 1,\n            color:\n              itemId === item.id ? 'list.hoverForeground' : 'mutedForeground',\n            '&:hover': {\n              backgroundColor: 'list.hoverBackground',\n              color: 'list.hoverForeground',\n            },\n          })}\n          onClick={() => setItem({ itemId: item.id })}\n          key={item.title}\n          selected={itemId === item.id}\n        >\n          <Element marginRight={3}>{item.icon}</Element>\n          {item.title}\n        </Stack>\n      ))}\n    </Element>\n  </Element>\n);\n","import { Preference } from '@codesandbox/common/lib/components/Preference';\nimport styled, { css } from 'styled-components';\n\nexport const SubContainer = styled.div`\n  width: 100%;\n\n  div {\n    &:first-child {\n      padding-top: 0;\n    }\n  }\n`;\n\nexport const PreferenceContainer = styled.div<{ disabled?: boolean }>`\n  padding-top: 0.5rem;\n\n  ${props =>\n    props.disabled &&\n    css`\n      opacity: 0.5;\n      pointer-events: none;\n      cursor: disabled;\n    `}\n`;\n\n// Preference is typed in a bad way, not possible to infer\n// correct values\nexport const PaddedPreference = styled<any>(Preference)`\n  padding: 0;\n  font-weight: 400;\n`;\n\nexport const Rule = styled.hr`\n  border: none;\n  height: 1px;\n  outline: none;\n  margin: 1rem 0;\n\n  background-color: rgba(255, 255, 255, 0.1);\n`;\n","import { Button } from '@codesandbox/components';\nimport React, { FunctionComponent } from 'react';\n\nimport { useOvermind } from 'app/overmind';\n\nexport const OpenVSCodeSettingsButton: FunctionComponent = () => {\n  const {\n    actions: { modalClosed },\n    effects: { vscode },\n  } = useOvermind();\n\n  const openCommand = () => {\n    vscode\n      .runCommand('workbench.action.openSettings2')\n      .then(() => modalClosed());\n  };\n\n  return (\n    <Button marginTop={4} onClick={openCommand} style={{ width: 'auto' }}>\n      Open VSCode Settings\n    </Button>\n  );\n};\n","import { editorUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport React, { FunctionComponent } from 'react';\nimport { Route } from 'react-router-dom';\nimport { Text } from '@codesandbox/components';\n\nimport { OpenVSCodeSettingsButton } from './OpenVSCodeSettingsButton';\n\ntype Props = {\n  hideTitle?: boolean;\n};\nexport const VSCodePlaceholder: FunctionComponent<Props> = ({\n  hideTitle = false,\n}) =>\n  hideTitle ? null : (\n    <>\n      <Text size={3} block fontStyle=\"italic\" style={{ lineHeight: 1.5 }}>\n        Some options are disabled because they are handled by VSCode. You can\n        open the settings of VSCode by pressing {\"'\"}\n        CTRL/CMD + ,{\"'\"}.\n      </Text>\n      <Route\n        path={editorUrl()}\n        render={({ match }) => match && <OpenVSCodeSettingsButton />}\n      />\n    </>\n  );\n","import { PreferenceText as PreferenceTextBase } from '@codesandbox/common/lib/components/Preference/PreferenceText';\nimport styled from 'styled-components';\n\nexport const BigTitle = styled.h2`\n  font-weight: 600;\n  color: white;\n  font-size: 1rem;\n  padding-top: 1.5rem;\n  margin-bottom: 0.5rem;\n`;\n\nexport const PreferenceText = styled(PreferenceTextBase)`\n  font-family: 'Source Code Pro';\n  font-size: 0.8rem;\n  width: 100%;\n`;\n","import React, { FunctionComponent } from 'react';\n\nimport { useOvermind } from 'app/overmind';\nimport { Text } from '@codesandbox/components';\n\nimport { Rule } from '../../elements';\nimport { PreferenceText } from './elements';\n\nexport const EditorTheme: FunctionComponent = () => {\n  const {\n    actions: {\n      preferences: { settingChanged },\n    },\n    state: {\n      preferences: { settings },\n    },\n  } = useOvermind();\n\n  const bindValue = (name: string, setUndefined?: boolean) => ({\n    setValue: value => settingChanged({ name, value }),\n    value: setUndefined ? settings[name] || undefined : settings[name],\n  });\n\n  return (\n    <div>\n      <Text block size={3} marginTop={8} marginBottom={2}>\n        Editor Theme\n      </Text>\n\n      <Text variant=\"muted\" size={3} block>\n        You can select your editor theme by selecting File {'->'} Preferences{' '}\n        {'->'} Color Theme in the menu bar.\n      </Text>\n\n      <Rule />\n\n      <Text size={3} marginBottom={2} block>\n        Custom VSCode Theme\n      </Text>\n\n      <Text variant=\"muted\" size={3} marginBottom={4} block>\n        After changing this setting you\n        {\"'\"}\n        ll have to reload the browser and select {'\"'}\n        Custom\n        {'\"'} as your color theme.\n      </Text>\n\n      <PreferenceText\n        block\n        style={{ minHeight: 130 }}\n        isTextArea\n        placeholder={`You can use your own theme from VSCode directly:\n1. Open VSCode\n2. Press (CMD or CTRL) + SHIFT + P\n3. Enter: '> Developer: Generate Color Scheme From Current Settings'\n4. Copy the contents and paste them here!`}\n        rows={7}\n        {...bindValue('manualCustomVSCodeTheme', true)}\n      />\n    </div>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { Text } from '@codesandbox/components';\nimport { PreferenceContainer, SubContainer } from '../elements';\nimport { VSCodePlaceholder } from '../VSCodePlaceholder';\nimport { EditorTheme } from './EditorTheme';\n\nexport const Appearance: FunctionComponent = () => (\n  <div>\n    <Text size={4} marginBottom={6} block variant=\"muted\" weight=\"bold\">\n      Appearance\n    </Text>\n\n    <SubContainer>\n      <PreferenceContainer>\n        <VSCodePlaceholder />\n\n        <EditorTheme />\n      </PreferenceContainer>\n    </SubContainer>\n  </div>\n);\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  ${({ theme }) => css`\n    display: flex;\n    flex-direction: column;\n    padding: 1rem;\n    background-color: ${theme.background};\n    color: rgba(255, 255, 255, 0.8);\n  `}\n`;\n\nexport const Title = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 0 !important;\n  margin-bottom: 1rem;\n  font-size: 1.125rem;\n  font-weight: 500;\n  text-transform: uppercase;\n`;\n\nexport const Text = styled.div`\n  font-size: 14px;\n  text-align: center;\n`;\n\nexport const Buttons = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 1rem;\n\n  button {\n    display: flex;\n    justify-content: center;\n    width: 6rem;\n    margin: 0.5rem;\n  }\n`;\n","import React from 'react';\nimport { Button } from '@codesandbox/common/lib/components/Button';\nimport { Container, Title, Text, Buttons } from './elements';\n\ninterface IAlertProps {\n  title: string;\n  body: string | React.ReactNode;\n  confirmMessage?: string;\n  onCancel: (event: React.MouseEvent<HTMLButtonElement>) => void;\n  onConfirm: (event: React.MouseEvent<HTMLButtonElement>) => void;\n}\n\nexport const Alert: React.FC<IAlertProps> = ({\n  title,\n  body,\n  confirmMessage = 'Confirm',\n  onCancel,\n  onConfirm,\n  ...props\n}) => (\n  <Container {...props}>\n    <Title>{title}</Title>\n    <Text>{body}</Text>\n    <Buttons>\n      <Button small block secondary onClick={onCancel}>\n        Cancel\n      </Button>\n      <Button small block danger onClick={onConfirm}>\n        {confirmMessage}\n      </Button>\n    </Buttons>\n  </Container>\n);\n","import { Alert } from 'app/components/Alert';\nimport Modal from 'app/components/Modal';\nimport { useOvermind } from 'app/overmind';\nimport React from 'react';\nimport { Text, Element } from '@codesandbox/components';\nimport { Preference } from '@codesandbox/common/lib/components/Preference';\n\nimport { PreferenceContainer } from '../../elements';\nimport { VSCodePlaceholder } from '../../VSCodePlaceholder';\n\nconst isSafari: boolean = /^((?!chrome|android).)*safari/i.test(\n  navigator.userAgent\n);\nconst isFF: boolean = navigator.userAgent.toLowerCase().includes('firefox');\n\nexport const EditorSettings: React.FC = () => {\n  const [showModal, setShowModal] = React.useState(false);\n\n  const {\n    state: {\n      preferences: { settings },\n    },\n    actions: {\n      preferences: { settingChanged },\n    },\n  } = useOvermind();\n\n  const bindValue = (name: string) => ({\n    value: settings[name],\n    setValue: (value: any) => {\n      settingChanged({ name, value });\n      setShowModal(true);\n    },\n  });\n\n  return (\n    <>\n      <Text size={4} marginBottom={6} block variant=\"muted\" weight=\"bold\">\n        Appearance\n      </Text>\n\n      <Element>\n        <VSCodePlaceholder />\n\n        {/* {Vim mode does not work on FF or Safari */}\n        <Element marginTop={4}>\n          <PreferenceContainer disabled={isSafari || isFF}>\n            <Preference\n              title=\"Enable VIM extension\"\n              type=\"boolean\"\n              {...bindValue('vimMode')}\n            />\n            <Text\n              marginTop={2}\n              block\n              size={2}\n              variant=\"muted\"\n              style={{ maxWidth: '60%', lineHeight: 1.5 }}\n            >\n              Toggling the VIM extension will require a refresh. When enabled,\n              use the command palette to control VIM\n            </Text>\n          </PreferenceContainer>\n        </Element>\n        {isSafari || isFF ? (\n          <Text size={2} variant=\"muted\" marginBottom={2} block marginTop={2}>\n            The VIM extension currently only works on Chrome and Microsoft Edge.\n          </Text>\n        ) : null}\n        <Modal\n          isOpen={showModal}\n          onClose={() => setShowModal(false)}\n          width={400}\n        >\n          <Alert\n            title=\"Toggle VIM extension\"\n            body=\"You need to refresh the browser for this to take effect, do you want to do that now?\"\n            onCancel={() => setShowModal(false)}\n            onConfirm={() => {\n              location.reload(true);\n            }}\n          />\n        </Modal>\n      </Element>\n    </>\n  );\n};\n","import React from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { Text } from '@codesandbox/components';\nimport {\n  SubContainer,\n  PreferenceContainer,\n  PaddedPreference,\n  Rule,\n} from '../../elements';\n\nexport const PreviewSettings: React.FC = () => {\n  const { state, actions } = useOvermind();\n  const bindValue = name => ({\n    value: state.preferences.settings[name],\n    setValue: value =>\n      actions.preferences.settingChanged({\n        name,\n        value,\n      }),\n  });\n\n  return (\n    <div>\n      <Text size={4} marginBottom={6} block variant=\"muted\" weight=\"bold\">\n        Preview\n      </Text>\n\n      <SubContainer>\n        <PreferenceContainer>\n          <PaddedPreference\n            title=\"Preview on edit\"\n            type=\"boolean\"\n            {...bindValue('livePreviewEnabled')}\n            tooltip=\"Only update on save\"\n          />\n          <Text size={2} variant=\"muted\">\n            Preview the latest code without saving.\n          </Text>\n          <Rule />\n          <PaddedPreference\n            title=\"Clear console\"\n            type=\"boolean\"\n            {...bindValue('clearConsoleEnabled')}\n            tooltip=\"Clear console when executing\"\n          />\n          <Text size={2} variant=\"muted\">\n            Clear your developer console between every execution.\n          </Text>\n          <Rule />\n          <PaddedPreference\n            title=\"Instant preview\"\n            type=\"boolean\"\n            {...bindValue('instantPreviewEnabled')}\n          />\n          <Text size={2} variant=\"muted\">\n            Show preview on every keypress.\n          </Text>\n        </PreferenceContainer>\n      </SubContainer>\n    </div>\n  );\n};\n","import QuestionBase from 'react-icons/lib/go/question';\nimport styled from 'styled-components';\n\nexport const Question = styled(QuestionBase)`\n  margin-bottom: 3px;\n`;\n","import React, { FunctionComponent } from 'react';\nimport { Text, Element } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\n\nimport {\n  SubContainer,\n  PreferenceContainer,\n  PaddedPreference,\n  Rule,\n} from '../../elements';\n\nexport const Prettier: FunctionComponent = () => {\n  const {\n    actions: {\n      preferences: { settingChanged },\n    },\n    state: {\n      preferences: {\n        settings: { prettierConfig },\n      },\n    },\n  } = useOvermind();\n\n  const bindValue = (name: string) => ({\n    setValue: value =>\n      settingChanged({ name: `prettierConfig.${name}`, value }),\n    value: prettierConfig[name],\n  });\n\n  return (\n    <SubContainer>\n      <PreferenceContainer>\n        <Text size={3} variant=\"muted\">\n          This configuration can be overridden by a{' '}\n          <a\n            href=\"https://prettier.io/docs/en/configuration.html\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            .prettierrc\n          </a>{' '}\n          JSON file at the root of the sandbox.\n        </Text>\n\n        <Rule />\n\n        <PaddedPreference\n          title=\"Fluid print width\"\n          type=\"boolean\"\n          {...bindValue('fluid')}\n        />\n\n        <Text size={2} variant=\"muted\">\n          Wrap the code based on the editor width.\n        </Text>\n\n        <Rule />\n        <Element\n          css={css({\n            pointerEvents: prettierConfig.fluid ? 'none' : 'all',\n          })}\n        >\n          <PaddedPreference\n            style={{ opacity: prettierConfig.fluid ? 0.5 : 1 }}\n            title=\"Print width\"\n            type=\"number\"\n            {...bindValue('printWidth')}\n          />\n\n          <Text\n            size={2}\n            variant=\"muted\"\n            style={{ opacity: prettierConfig.fluid ? 0.5 : 1 }}\n          >\n            Specify the line length that the printer will wrap on.\n          </Text>\n        </Element>\n        <Rule />\n\n        <PaddedPreference\n          title=\"Tab width\"\n          type=\"number\"\n          {...bindValue('tabWidth')}\n        />\n\n        <Text size={2} variant=\"muted\">\n          Specify the number of spaces per indentation-level.\n        </Text>\n\n        <Rule />\n\n        <PaddedPreference\n          title=\"Use tabs\"\n          type=\"boolean\"\n          {...bindValue('useTabs')}\n        />\n\n        <Text size={2} variant=\"muted\">\n          Indent lines with tabs instead of spaces.\n        </Text>\n\n        <Rule />\n\n        <PaddedPreference\n          title=\"Semicolons\"\n          type=\"boolean\"\n          {...bindValue('semi')}\n        />\n\n        <Text size={2} variant=\"muted\">\n          Print semicolons at the ends of statements.\n        </Text>\n\n        <Rule />\n\n        <PaddedPreference\n          title=\"Use single quotes\"\n          type=\"boolean\"\n          {...bindValue('singleQuote')}\n        />\n\n        <Text size={2} variant=\"muted\">\n          Use {\"'\"}single{\"'\"} quotes instead of {'\"'}double{'\"'} quotes.\n        </Text>\n\n        <Rule />\n\n        <PaddedPreference\n          title=\"Trailing commas\"\n          type=\"dropdown\"\n          options={['none', 'es5', 'all']}\n          {...bindValue('trailingComma')}\n        />\n\n        <Text size={2} variant=\"muted\">\n          Print trailing commas wherever possible.\n        </Text>\n\n        <Rule />\n\n        <PaddedPreference\n          title=\"Bracket spacing\"\n          type=\"boolean\"\n          {...bindValue('bracketSpacing')}\n        />\n\n        <Text size={2} variant=\"muted\">\n          Print spaces between brackets in object literals.\n        </Text>\n\n        <Rule />\n\n        <PaddedPreference\n          title=\"JSX Brackets\"\n          type=\"boolean\"\n          {...bindValue('jsxBracketSameLine')}\n        />\n\n        <Text size={2} variant=\"muted\">\n          Put the `{'>'}` of a multi-line JSX element at the end of the last\n          line instead of being alone on the next line.\n        </Text>\n\n        <Rule />\n\n        <PaddedPreference\n          options={['avoid', 'always']}\n          title=\"Arrow Function Parentheses\"\n          type=\"dropdown\"\n          {...bindValue('arrowParens')}\n        />\n\n        <Text size={2} variant=\"muted\">\n          Include parentheses around a sole arrow function parameter.\n        </Text>\n      </PreferenceContainer>\n    </SubContainer>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { Text } from '@codesandbox/components';\n\nimport { Question } from './elements';\nimport { Prettier } from './Prettier';\n\nexport const CodeFormatting: FunctionComponent = () => (\n  <>\n    <Text size={4} marginBottom={4} block variant=\"muted\" weight=\"bold\">\n      Prettier Settings{' '}\n      <a\n        href=\"https://prettier.io/docs/en/options.html\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <Question />\n      </a>\n    </Text>\n    <Prettier />\n  </>\n);\n","import React from 'react';\n\nexport const AmexIcon = props => (\n  <svg width={58} height={38} fill=\"none\" viewBox=\"0 0 58 38\" {...props}>\n    <filter\n      id=\"a\"\n      width={58}\n      height={40}\n      x={0}\n      y={0}\n      colorInterpolationFilters=\"sRGB\"\n      filterUnits=\"userSpaceOnUse\"\n    >\n      <feFlood floodOpacity={0} result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n      />\n      <feOffset dy={2} />\n      <feGaussianBlur stdDeviation={2} />\n      <feColorMatrix values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0\" />\n      <feBlend in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\" />\n      <feBlend in=\"SourceGraphic\" in2=\"effect1_dropShadow\" result=\"shape\" />\n    </filter>\n    <clipPath id=\"b\">\n      <path d=\"M0 0h58v38H0z\" />\n    </clipPath>\n    <g\n      fillRule=\"evenodd\"\n      clipPath=\"url(#b)\"\n      clipRule=\"evenodd\"\n      filter=\"url(#a)\"\n    >\n      <path\n        fill=\"#6cc7f6\"\n        d=\"M8 2a4 4 0 00-4 4v24a4 4 0 004 4h42a4 4 0 004-4V6a4 4 0 00-4-4z\"\n      />\n      <path\n        fill=\"#fff\"\n        d=\"M19.452 23.115h-2.07l-.822-2.271h-3.765l-.777 2.271H10l3.669-10h2.011zM15.95 19.16l-1.298-3.71-1.272 3.71zm4.485 3.956v-10h2.846l1.71 6.822 1.69-6.822h2.852v10h-1.767v-7.871l-1.87 7.871h-1.83l-1.864-7.871v7.871zm10.987 0v-10h6.985v1.692h-5.083v2.217h4.73v1.685h-4.73v2.721h5.263v1.685zm7.82 0l3.22-5.218-2.918-4.782h2.223l1.89 3.213 1.85-3.213h2.204l-2.93 4.857L48 23.115h-2.294l-2.088-3.458-2.095 3.458z\"\n      />\n    </g>\n  </svg>\n);\n\nexport const MasterCardIcon = props => (\n  <svg width={58} height={38} fill=\"none\" viewBox=\"0 0 58 38\" {...props}>\n    <filter\n      id=\"a\"\n      width={58}\n      height={40}\n      x={0}\n      y={0}\n      colorInterpolationFilters=\"sRGB\"\n      filterUnits=\"userSpaceOnUse\"\n    >\n      <feFlood floodOpacity={0} result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n      />\n      <feOffset dy={2} />\n      <feGaussianBlur stdDeviation={2} />\n      <feColorMatrix values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0\" />\n      <feBlend in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\" />\n      <feBlend in=\"SourceGraphic\" in2=\"effect1_dropShadow\" result=\"shape\" />\n    </filter>\n    <clipPath id=\"b\">\n      <path d=\"M0 0h58v38H0z\" />\n    </clipPath>\n    <g\n      fillRule=\"evenodd\"\n      clipPath=\"url(#b)\"\n      clipRule=\"evenodd\"\n      filter=\"url(#a)\"\n    >\n      <path\n        fill=\"#535bcf\"\n        d=\"M8 2a4 4 0 00-4 4v24a4 4 0 004 4h42a4 4 0 004-4V6a4 4 0 00-4-4z\"\n      />\n      <path\n        fill=\"#eb455a\"\n        d=\"M22 28c5.523 0 10-4.477 10-10S27.523 8 22 8s-10 4.477-10 10 4.477 10 10 10z\"\n      />\n      <path\n        fill=\"#f69935\"\n        d=\"M36 28c5.523 0 10-4.477 10-10S41.523 8 36 8s-10 4.477-10 10 4.477 10 10 10z\"\n      />\n      <path\n        fill=\"#ff8150\"\n        d=\"M29 10.859c-1.851 1.814-3 4.344-3 7.141s1.149 5.327 3 7.141c1.851-1.814 3-4.344 3-7.141s-1.149-5.327-3-7.141z\"\n      />\n    </g>\n  </svg>\n);\n\nexport const VisaIcon = props => (\n  <svg width={58} height={38} fill=\"none\" viewBox=\"0 0 58 38\" {...props}>\n    <filter\n      id=\"a\"\n      width={60}\n      height={42}\n      x={-1}\n      y={-1}\n      colorInterpolationFilters=\"sRGB\"\n      filterUnits=\"userSpaceOnUse\"\n    >\n      <feFlood floodOpacity={0} result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n      />\n      <feOffset dy={2} />\n      <feGaussianBlur stdDeviation={2.5} />\n      <feColorMatrix values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0\" />\n      <feBlend in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\" />\n      <feBlend in=\"SourceGraphic\" in2=\"effect1_dropShadow\" result=\"shape\" />\n    </filter>\n    <clipPath id=\"b\">\n      <path d=\"M0 0h58v38H0z\" />\n    </clipPath>\n    <g\n      fillRule=\"evenodd\"\n      clipPath=\"url(#b)\"\n      clipRule=\"evenodd\"\n      filter=\"url(#a)\"\n    >\n      <path\n        fill=\"#f7f7f7\"\n        d=\"M8 2a4 4 0 00-4 4v24a4 4 0 004 4h42a4 4 0 004-4V6a4 4 0 00-4-4z\"\n      />\n      <path fill=\"#535bcf\" d=\"M8 2a4 4 0 00-4 4v2h50V6a4 4 0 00-4-4z\" />\n      <path fill=\"#f69935\" d=\"M4 28v2a4 4 0 004 4h42a4 4 0 004-4v-2z\" />\n      <g fill=\"#535bcf\">\n        <path d=\"M18.314 21.373c.343-.933.583-1.531.725-1.794L21.887 14h2.084l-4.932 9.269h-2.202L16 14h1.945l.336 5.58c.017.189.026.471.026.842-.01.436-.022.753-.04.951zM23.596 23.269L25.653 14h2.012l-2.058 9.269zM33.782 20.664c0 .885-.326 1.582-.975 2.095-.651.514-1.533.77-2.644.77-.973 0-1.754-.19-2.348-.57v-1.737c.848.456 1.636.684 2.361.684.491 0 .877-.088 1.154-.269.277-.18.415-.424.415-.738 0-.181-.03-.341-.089-.48a1.396 1.396 0 00-.254-.383c-.11-.119-.382-.333-.818-.647-.606-.42-1.033-.832-1.279-1.243a2.518 2.518 0 01-.37-1.325c0-.546.135-1.032.409-1.462.272-.428.659-.762 1.164-1.001.503-.239 1.08-.358 1.737-.358.953 0 1.827.21 2.618.627l-.719 1.477c-.685-.312-1.318-.469-1.899-.469-.366 0-.664.095-.896.286a.924.924 0 00-.35.754c0 .259.073.484.218.676.146.192.47.447.976.763.53.339.93.712 1.193 1.12.264.41.396.885.396 1.43zM40.086 21.1h-3.118l-1.135 2.207h-2.11L38.774 14h2.46l.969 9.307h-1.958zm-.1-1.648l-.17-2.218a19.925 19.925 0 01-.067-1.604v-.228a17.417 17.417 0 01-.719 1.61l-1.24 2.44z\" />\n      </g>\n    </g>\n  </svg>\n);\n\nexport const BlankIcon = props => (\n  <svg width={58} height={38} fill=\"none\" viewBox=\"0 0 58 38\" {...props}>\n    <filter\n      id=\"a\"\n      width={58}\n      height={40}\n      x={0}\n      y={0}\n      colorInterpolationFilters=\"sRGB\"\n      filterUnits=\"userSpaceOnUse\"\n    >\n      <feFlood floodOpacity={0} result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n      />\n      <feOffset dy={2} />\n      <feGaussianBlur stdDeviation={2} />\n      <feColorMatrix values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0\" />\n      <feBlend in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\" />\n      <feBlend in=\"SourceGraphic\" in2=\"effect1_dropShadow\" result=\"shape\" />\n    </filter>\n    <clipPath id=\"b\">\n      <path d=\"M0 0h58v38H0z\" />\n    </clipPath>\n    <g clipPath=\"url(#b)\" filter=\"url(#a)\">\n      <path\n        fill=\"#e6e6e6\"\n        fillRule=\"evenodd\"\n        d=\"M8 2a4 4 0 00-4 4v24a4 4 0 004 4h42a4 4 0 004-4V6a4 4 0 00-4-4z\"\n        clipRule=\"evenodd\"\n      />\n      <path\n        fill=\"#999\"\n        fillRule=\"evenodd\"\n        d=\"M4 10v6h50v-6z\"\n        clipRule=\"evenodd\"\n      />\n      <path\n        stroke=\"#999\"\n        strokeLinecap=\"square\"\n        strokeWidth={2}\n        d=\"M11 23h14M11 27h8\"\n      />\n      <path\n        fill=\"#999\"\n        fillRule=\"evenodd\"\n        d=\"M40 22v6h8v-6z\"\n        clipRule=\"evenodd\"\n      />\n    </g>\n  </svg>\n);\n\nexport const DiscoverIcon = props => (\n  <svg width={58} height={38} fill=\"none\" viewBox=\"0 0 58 38\" {...props}>\n    <filter\n      id=\"a\"\n      width={58}\n      height={41.684}\n      x={0}\n      y={0}\n      colorInterpolationFilters=\"sRGB\"\n      filterUnits=\"userSpaceOnUse\"\n    >\n      <feFlood floodOpacity={0} result=\"BackgroundImageFix\" />\n      <feColorMatrix\n        in=\"SourceAlpha\"\n        values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n      />\n      <feOffset dy={2} />\n      <feGaussianBlur stdDeviation={2} />\n      <feColorMatrix values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0\" />\n      <feBlend in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\" />\n      <feBlend in=\"SourceGraphic\" in2=\"effect1_dropShadow\" result=\"shape\" />\n    </filter>\n    <clipPath id=\"b\">\n      <path d=\"M0 0h58v38H0z\" />\n    </clipPath>\n    <g\n      fillRule=\"evenodd\"\n      clipPath=\"url(#b)\"\n      clipRule=\"evenodd\"\n      filter=\"url(#a)\"\n    >\n      <path\n        fill=\"#fff0c5\"\n        d=\"M8 2C5.79 2 4 3.885 4 6.21v25.264c0 2.325 1.79 4.21 4 4.21h42c2.21 0 4-1.885 4-4.21V6.21C54 3.885 52.21 2 50 2z\"\n      />\n      <path\n        fill=\"#f69935\"\n        d=\"M26.785 35.684H50c2.21 0 4-1.885 4-4.21V17.597c-4.105 8.22-14.2 14.867-27.215 18.087zM29 25.158c3.866 0 7-3.3 7-7.369s-3.134-7.368-7-7.368-7 3.299-7 7.368c0 4.07 3.134 7.369 7 7.369z\"\n      />\n      <path\n        fill=\"#fa9a06\"\n        d=\"M33.576 12.213c-1.227-1.116-2.827-1.792-4.576-1.792-3.866 0-7 3.299-7 7.368 0 2.322 1.02 4.393 2.614 5.743 1.31-4.985 4.62-9.096 8.962-11.319z\"\n      />\n    </g>\n  </svg>\n);\n","import React, { ComponentProps, FunctionComponent, useEffect } from 'react';\n\nimport { SubscribeForm } from 'app/components/SubscribeForm';\nimport { useOvermind } from 'app/overmind';\nimport css from '@styled-system/css';\n\nimport { Text, Element, Stack } from '@codesandbox/components';\nimport {\n  AmexIcon,\n  MasterCardIcon,\n  VisaIcon,\n  BlankIcon,\n  DiscoverIcon,\n} from './Icons';\n\nconst Icon = (name: string) => {\n  let icon;\n  switch (name) {\n    case 'MasterCard':\n      icon = MasterCardIcon;\n      break;\n    case 'American Express':\n      icon = AmexIcon;\n      break;\n    case 'Discover':\n      icon = DiscoverIcon;\n      break;\n    case 'Visa':\n      icon = VisaIcon;\n      break;\n\n    default:\n      icon = BlankIcon;\n  }\n\n  return icon;\n};\n\nexport const PaymentInfo: FunctionComponent = () => {\n  const {\n    actions: {\n      preferences: { paymentDetailsRequested, paymentDetailsUpdated },\n    },\n    state: {\n      preferences: {\n        isLoadingPaymentDetails,\n        paymentDetailError,\n        paymentDetails,\n      },\n    },\n  } = useOvermind();\n\n  useEffect(() => {\n    paymentDetailsRequested();\n  }, [paymentDetailsRequested]);\n\n  const updatePaymentDetails: ComponentProps<\n    typeof SubscribeForm\n  >['subscribe'] = ({ token }) => paymentDetailsUpdated(token);\n\n  const Body = () => {\n    const { brand, last4, name } = paymentDetails || {};\n    if (isLoadingPaymentDetails) {\n      return (\n        <Text size={3} align=\"center\" marginTop={6}>\n          Loading payment details...\n        </Text>\n      );\n    }\n\n    if (paymentDetailError) {\n      return (\n        <Text size={3} align=\"center\" marginTop={6}>\n          An error occurred: {paymentDetailError}\n        </Text>\n      );\n    }\n\n    return (\n      <>\n        <Stack gap={4}>\n          <Element>\n            <Text block size={3} marginTop={4} marginBottom={4}>\n              Update card info\n            </Text>\n            <SubscribeForm\n              buttonName=\"Update\"\n              loadingText=\"Updating Card Info...\"\n              name={name}\n              subscribe={updatePaymentDetails}\n            />\n          </Element>\n          <Element>\n            <Text block size={3} marginTop={4} marginBottom={2}>\n              Current card\n            </Text>\n            <Stack align=\"flex-start\" paddingY={4}>\n              <Element\n                paddingRight={2}\n                marginTop={1}\n                css={css({\n                  svg: {\n                    height: 16,\n                    width: 'auto',\n                  },\n                })}\n              >\n                {Icon(brand)()}\n              </Element>\n              <Element>\n                <Element>\n                  <Text weight=\"bold\" size={3}>\n                    {brand}\n                  </Text>{' '}\n                  <Text variant=\"muted\">ending in </Text>\n                  <Text weight=\"bold\" size={3}>\n                    {last4}\n                  </Text>\n                </Element>\n                <Element>\n                  <Text weight=\"bold\" size={3}>\n                    {name}\n                  </Text>\n                </Element>\n              </Element>\n            </Stack>\n          </Element>\n        </Stack>\n      </>\n    );\n  };\n\n  return (\n    <Element>\n      <Text size={4} marginBottom={6} block variant=\"muted\" weight=\"bold\">\n        Payment Info\n      </Text>\n      <Body />\n    </Element>\n  );\n};\n","import styled, { css } from 'styled-components';\n\nexport const Details = styled.div`\n  ${({ theme }) => css`\n    display: inline-flex;\n    flex: 3;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0.75rem 1rem;\n    background-color: ${theme.light\n      ? css`rgba(255, 255, 255, 0.3)`\n      : css`rgba(0, 0, 0, 0.3)`};\n  `}\n`;\n\nexport const Heading = styled.div`\n  ${({ theme }) => css`\n    margin-bottom: 0.25rem;\n    color: ${theme.light\n      ? css`rgba(0, 0, 0, 0.5)`\n      : css`rgba(255, 255, 255, 0.5)`};\n    font-size: 0.75rem;\n  `}\n`;\n\nexport const Info = styled.div`\n  font-weight: 400;\n`;\n\nexport const Action = styled.div<{ red: boolean }>`\n  ${({ red, theme }) => css`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 1.5rem;\n    height: 1.5rem;\n    border: 1px solid ${red ? css`rgba(255, 0, 0, 0.4)` : theme.secondary};\n    border-radius: 4px;\n    background-color: ${red ? `transparent` : theme.secondary};\n    color: ${red ? css`rgba(255, 0, 0, 0.6)` : `white`};\n    opacity: 0.8;\n    transition: 0.3s ease all;\n    cursor: pointer;\n\n    &:hover {\n      background-color: ${red ? css`rgba(255, 0, 0, 0.6)` : theme.secondary};\n      color: white;\n      opacity: 1;\n    }\n  `}\n`;\n","import React from 'react';\nimport CrossIcon from 'react-icons/lib/md/clear';\nimport Margin from '@codesandbox/common/lib/components/spacing/Margin';\nimport Tooltip from '@codesandbox/common/lib/components/Tooltip';\nimport { Button } from '@codesandbox/components';\nimport { Details, Heading, Info, Action } from './elements';\n\ninterface IDetailInfoProps {\n  heading: string;\n  info: string;\n  onSignOut?: () => void;\n  onSignIn?: () => void;\n}\n\nexport const DetailInfo: React.FC<IDetailInfoProps> = ({\n  heading,\n  info,\n  onSignOut,\n  onSignIn,\n}) => (\n  <Details>\n    <Margin right={2}>\n      <Heading>{heading}</Heading>\n      <Info>{info}</Info>\n    </Margin>\n\n    {onSignOut ? (\n      <Tooltip content=\"Sign out\">\n        <Action onClick={onSignOut} red>\n          <CrossIcon />\n        </Action>\n      </Tooltip>\n    ) : (\n      <Button style={{ width: 'auto' }} onClick={onSignIn}>\n        Sign in\n      </Button>\n    )}\n  </Details>\n);\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled.div<{\n  small: boolean;\n  loading: boolean;\n}>`\n  ${({ small, loading, theme }) => css`\n    display: inline-flex;\n    width: 100%;\n    border-radius: 4px;\n    border: 1px solid ${theme.colors.avatar.border};\n    color: ${theme.light ? css`#636363` : css`rgba(255, 255, 255, 0.8)`};\n    overflow: hidden;\n\n    ${small &&\n      css`\n        flex-direction: column;\n        font-size: 0.875rem;\n      `};\n\n    ${loading &&\n      css`\n        opacity: 0.5;\n      `};\n  `}\n`;\n\nexport const IntegrationBlock = styled.div<{ bgColor: string; small: boolean }>`\n  ${({ bgColor, small }) => css`\n    display: inline-flex;\n    flex: 1;\n    align-items: center;\n    padding: 1em 1.5em;\n    background-color: ${bgColor};\n    color: white;\n    font-size: 1.25em;\n\n    ${small &&\n      css`\n        padding: 0.75em 0.75em;\n        font-size: 1em;\n      `};\n  `}\n`;\n\nexport const Name = styled.span`\n  margin-left: 0.75em;\n  font-size: 1.375em;\n`;\n","import React from 'react';\nimport { DetailInfo } from './DetailInfo';\nimport { Container, IntegrationBlock, Name } from './elements';\n\ninterface IIntegrationProps {\n  small: boolean;\n  loading: boolean;\n  bgColor: string;\n  Icon: React.ComponentType;\n  name: string;\n  onSignOut?: () => void;\n  onSignIn?: () => void;\n  userInfo: any; // Replace with userInfo interface\n  description: string;\n}\n\nexport const Integration: React.FC<IIntegrationProps> = ({\n  small = false,\n  loading,\n  bgColor,\n  Icon,\n  name,\n  onSignOut,\n  userInfo,\n  onSignIn,\n  description,\n}) => (\n  <Container small={small} loading={loading}>\n    <IntegrationBlock small={small} bgColor={bgColor}>\n      <Icon />\n      <Name>{name}</Name>\n    </IntegrationBlock>\n    {userInfo ? (\n      <DetailInfo\n        onSignOut={onSignOut}\n        heading=\"Signed in as\"\n        info={userInfo.email || 'Loading...'}\n      />\n    ) : (\n      <DetailInfo onSignIn={onSignIn} heading=\"Enables\" info={description} />\n    )}\n  </Container>\n);\n","import React from 'react';\nimport IconBase from 'react-icons/lib/IconBase';\n\nexport const VercelLogo: React.FC<React.SVGAttributes<SVGElement>> = props => (\n  <IconBase viewBox=\"0 0 116 100\" {...props}>\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M57.5 0L115 100H0L57.5 0z\" />\n  </IconBase>\n);\n","import React, { FunctionComponent } from 'react';\n\nimport { Integration } from 'app/components/Integration';\nimport { VercelLogo } from 'app/components/VercelLogo';\nimport { useOvermind } from 'app/overmind';\n\ntype Props = {\n  small: boolean;\n};\nexport const VercelIntegration: FunctionComponent<Props> = ({ small }) => {\n  const {\n    actions: { signInVercelClicked, signOutVercelClicked },\n    state: { user, isLoadingVercel },\n  } = useOvermind();\n\n  return (\n    <Integration\n      name=\"Vercel\"\n      small={small}\n      bgColor=\"black\"\n      description=\"Deployments\"\n      Icon={VercelLogo}\n      userInfo={user.integrations.zeit}\n      onSignIn={signInVercelClicked}\n      onSignOut={signOutVercelClicked}\n      loading={isLoadingVercel}\n    />\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport GitHubLogo from 'react-icons/lib/go/mark-github';\n\nimport { Integration } from 'app/components/Integration';\nimport { useOvermind } from 'app/overmind';\n\ntype Props = {\n  small?: boolean;\n};\nexport const GithubIntegration: FunctionComponent<Props> = ({\n  small = false,\n}) => {\n  const {\n    actions: { signInGithubClicked, signOutGithubIntegration },\n    state: {\n      isLoadingGithub,\n      user: {\n        integrations: { github },\n      },\n    },\n  } = useOvermind();\n\n  return (\n    <Integration\n      bgColor=\"#0971f1\"\n      description={small ? 'Commits & PRs' : 'Committing & Pull Requests'}\n      Icon={GitHubLogo}\n      loading={isLoadingGithub}\n      name=\"GitHub\"\n      onSignIn={() => signInGithubClicked()}\n      onSignOut={() => signOutGithubIntegration()}\n      small={small}\n      userInfo={github}\n    />\n  );\n};\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  > div {\n    margin: 0.5rem 0;\n  }\n\n  &:first-child {\n    margin-top: 0;\n  }\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n","import React from 'react';\n\nimport { VercelIntegration } from 'app/pages/common/VercelIntegration';\nimport { GithubIntegration } from 'app/pages/common/GithubIntegration';\nimport { Text } from '@codesandbox/components';\n\nimport { Container } from './elements';\n\nexport function Integrations() {\n  return (\n    <div>\n      <Text size={4} marginBottom={6} block variant=\"muted\" weight=\"bold\">\n        Integrations\n      </Text>\n\n      <Container>\n        <VercelIntegration />\n        <GithubIntegration />\n      </Container>\n    </div>\n  );\n}\n","import React, { FunctionComponent } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { Text, Element } from '@codesandbox/components';\nimport Badge from '@codesandbox/common/lib/utils/badges/Badge';\n\nexport const Badges: FunctionComponent = () => {\n  const {\n    actions: {\n      preferences: { setBadgeVisibility },\n    },\n    state: {\n      user: { badges },\n    },\n  } = useOvermind();\n\n  return (\n    <>\n      <Text size={4} marginBottom={6} block variant=\"muted\" weight=\"bold\">\n        Badges\n      </Text>\n\n      <Text size={3}>\n        You currently have {badges.length} badge\n        {badges.length === 1 ? '' : 's'}. You can click on the badges to toggle\n        visibility.\n      </Text>\n\n      <Element marginTop={4}>\n        {badges.map(badge => (\n          <Badge\n            badge={badge}\n            onClick={({ id, visible }) =>\n              setBadgeVisibility({ id, visible: !visible })\n            }\n            key={badge.id}\n            size={128}\n            tooltip={false}\n            visible={badge.visible}\n          />\n        ))}\n      </Element>\n    </>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { Text } from '@codesandbox/components';\nimport { PaddedPreference } from '../elements';\n\nexport const ContainerLSP: FunctionComponent = () => {\n  const {\n    actions: {\n      preferences: { toggleContainerLspExperiment },\n    },\n    state: { user },\n  } = useOvermind();\n\n  return user ? (\n    <>\n      <PaddedPreference\n        setValue={() => toggleContainerLspExperiment()}\n        title=\"Use container language server\"\n        tooltip=\"Language server\"\n        type=\"boolean\"\n        value={user.experiments.containerLsp}\n      />\n      <Text\n        size={3}\n        variant=\"muted\"\n        marginTop={2}\n        block\n        style={{ maxWidth: '60%' }}\n      >\n        As part of making containers more powerful we now allow the language\n        server to run there. Please help us test it :-)\n      </Text>\n    </>\n  ) : null;\n};\n","import React from 'react';\nimport { Text, Element } from '@codesandbox/components';\nimport { SubContainer } from '../elements';\nimport { ContainerLSP } from './ContainerLSP';\n\nexport const Experiments: React.FunctionComponent = () => (\n  <>\n    <Text size={4} marginBottom={6} block variant=\"muted\" weight=\"bold\">\n      Experiments\n    </Text>\n    <SubContainer>\n      <Element paddingTop={2}>\n        <ContainerLSP />\n      </Element>\n    </SubContainer>\n  </>\n);\n","import React, { FunctionComponent } from 'react';\nimport { Text } from '@codesandbox/components';\n\nimport { VSCodePlaceholder } from '../VSCodePlaceholder';\n\nexport const KeyMapping: FunctionComponent = () => (\n  <>\n    <Text size={4} marginBottom={6} block variant=\"muted\" weight=\"bold\">\n      Key Bindings\n    </Text>\n    <VSCodePlaceholder />\n  </>\n);\n","import React, { useMemo } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport css from '@styled-system/css';\nimport { Stack } from '@codesandbox/components';\n\nimport AppearanceIcon from 'react-icons/lib/md/color-lens';\nimport CodeIcon from 'react-icons/lib/fa/code';\nimport CreditCardIcon from 'react-icons/lib/md/credit-card';\nimport BrowserIcon from 'react-icons/lib/go/browser';\nimport StarIcon from 'react-icons/lib/go/star';\nimport FlaskIcon from 'react-icons/lib/fa/flask';\nimport CodeFormatIcon from 'react-icons/lib/fa/dedent';\nimport IntegrationIcon from 'react-icons/lib/md/device-hub';\nimport KeyboardIcon from 'react-icons/lib/go/keyboard';\n\nimport { SideNavigation } from './SideNavigation';\n\nimport { Appearance } from './Appearance';\nimport { EditorSettings } from './EditorPageSettings/EditorSettings';\nimport { PreviewSettings } from './EditorPageSettings/PreviewSettings';\nimport { CodeFormatting } from './CodeFormatting';\nimport { PaymentInfo } from './PaymentInfo';\nimport { Integrations } from './Integrations';\nimport { Badges } from './Badges';\nimport { Experiments } from './Experiments';\nimport { KeyMapping } from './KeyMapping';\nimport { Alert } from '../Common/Alert';\n\nconst PreferencesModal: React.FC = () => {\n  const {\n    state: {\n      isPatron,\n      isLoggedIn,\n      preferences: { itemId = 'appearance' },\n    },\n    actions: {\n      preferences: { itemIdChanged },\n    },\n  } = useOvermind();\n\n  const items = useMemo(\n    () =>\n      [\n        {\n          id: 'appearance',\n          title: 'Appearance',\n          icon: <AppearanceIcon />,\n          content: <Appearance />,\n        },\n        {\n          id: 'editor',\n          title: 'Editor',\n          icon: <CodeIcon />,\n          content: <EditorSettings />,\n        },\n        {\n          id: 'prettierSettings',\n          title: 'Prettier Settings',\n          icon: <CodeFormatIcon />,\n          content: <CodeFormatting />,\n        },\n        {\n          id: 'preview',\n          title: 'Preview',\n          icon: <BrowserIcon />,\n          content: <PreviewSettings />,\n        },\n        {\n          id: 'keybindings',\n          title: 'Key Bindings',\n          icon: <KeyboardIcon />,\n          content: <KeyMapping />,\n        },\n        isLoggedIn && {\n          id: 'integrations',\n          title: 'Integrations',\n          icon: <IntegrationIcon />,\n          content: <Integrations />,\n        },\n        isPatron && {\n          id: 'paymentInfo',\n          title: 'Payment Info',\n          icon: <CreditCardIcon />,\n          content: <PaymentInfo />,\n        },\n        isPatron && {\n          id: 'badges',\n          title: 'Badges',\n          icon: <StarIcon />,\n          content: <Badges />,\n        },\n        {\n          id: 'experiments',\n          title: 'Experiments',\n          icon: <FlaskIcon />,\n          content: <Experiments />,\n        },\n      ].filter(Boolean),\n    [isLoggedIn, isPatron]\n  );\n\n  const item = items.find(currentItem => currentItem.id === itemId);\n\n  return (\n    <Stack\n      css={css({\n        fontFamily: \"'Inter', sans-serif\",\n      })}\n    >\n      <SideNavigation\n        itemId={itemId}\n        menuItems={items}\n        setItem={itemIdChanged}\n      />\n      <Alert\n        css={css({\n          height: 482,\n          width: '100%',\n          padding: 6,\n          '*': {\n            boxSizing: 'border-box',\n          },\n        })}\n      >\n        {item.content}\n      </Alert>\n    </Stack>\n  );\n};\n\nexport default PreferencesModal;\n","import { createGlobalStyle } from 'styled-components';\nimport Color from 'color';\n\nexport default createGlobalStyle`\n.ReactModal__Content div[class^='Modal__ModalBody'] {\n  /*\n   * app/src/app/containers/Modal.js sets ModalBody background to white.\n   * We don't want to risk messing up something else, so we fix that here.\n   */\n  background: transparent;\n}\n\n.search-dependencies {\n\n  .ais-Pagination {\n    color: ${props =>\n      props.theme.light ? 'rgba(0, 0, 0, 1)' : 'rgba(255, 255, 255, 1)'};\n    background-color: ${props => props.theme['sideBar.background']};\n    border-radius: 0;\n    display: flex;\n    justify-content: center;\n    padding: 0;\n  }\n\n  .ais-Pagination-link {\n    &:not(.ais-Pagination-link--selected) {\n      color: ${props =>\n        Color(props.theme.colors.dialog.foreground)\n          .alpha(0.6)\n          .rgbString()} !important;\n    }\n  }\n\n  .ais-Pagination-item--selected {\n    color: ${props => props.theme.white};\n    background: ${props => props.theme['button.hoverBackground']};\n  }\n\n  .ais-Highlight-highlighted {\n    color: ${props => props.theme.colors.button.background};\n  }\n\n  .ais-PoweredBy-link svg {\n    fill: ${props =>\n      Color(props.theme.colors.dialog.foreground)\n        .alpha(0.8)\n        .rgbString()} !important;\n\n    path:nth-child(4) {\n      fill: ${props =>\n        Color(props.theme.colors.dialog.foreground)\n          .alpha(0.8)\n          .rgbString()} !important;\n    }\n  }\n\n  footer {\n    height: 40px;\n    background-color: ${props => props.theme['sideBar.background']};\n\n    .ais-PoweredBy {\n      color: ${props =>\n        Color(props.theme.colors.dialog.foreground).rgbString()} !important;\n    }\n  }\n}\n`;\n","import styled from 'styled-components';\nimport Color from 'color';\nimport Select from '@codesandbox/common/lib/components/Select';\nimport { UserWithAvatar } from '@codesandbox/common/lib/components/UserWithAvatar';\nimport { GitHubLogo } from 'app/components/GitHubLogo';\n\nexport const GitHubLogoStyled = styled(GitHubLogo)``;\n\nconst getContainerColor = props => {\n  if (props.highlighted) {\n    return Color(props.theme.colors.dialog.background)\n      .darken(0.2)\n      .rgbString();\n  }\n\n  return props.theme.colors.dialog.background;\n};\n\nexport const Container = styled.div`\n  display: flex;\n  color: ${props => props.theme.colors.dialog.foreground};\n  background-color: ${getContainerColor};\n  cursor: pointer;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid\n      ${props =>\n        Color(props.theme.colors.dialog.background)\n          .darken(0.4)\n          .rgbString()};\n  }\n\n  &:hover {\n    background-color: ${props =>\n      Color(props.theme.colors.dialog.background)\n        .darken(0.2)\n        .rgbString()};\n  }\n`;\n\nexport const Left = styled.div`\n  flex: 1;\n`;\n\nexport const Right = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const Row = styled.div`\n  margin: 10px;\n  & > * {\n    margin-right: 10px;\n  }\n`;\n\nexport const Description = styled(Row)`\n  font-size: 0.875rem;\n\n  color: ${props =>\n    Color(props.theme.colors.dialog.foreground)\n      .alpha(0.6)\n      .rgbString()};\n`;\n\nexport const Downloads = styled.span`\n  color: ${props => props.theme['panelTitle.inactiveForeground']};\n  font-weight: 500;\n  font-size: 12px;\n`;\n\nexport const License = styled.span`\n  border: 1px solid\n    ${props =>\n      Color(props.theme.colors.dialog.border)\n        .alpha(0.4)\n        .rgbString()};\n  border-radius: 3px;\n  padding: 1px 3px;\n\n  color: ${props =>\n    Color(props.theme.colors.dialog.foreground)\n      .alpha(0.6)\n      .rgbString()};\n  font-size: 12px;\n`;\n\nexport const IconLink = styled.a`\n  font-size: 1rem;\n  color: ${props =>\n    Color(props.theme.colors.icon.foreground)\n      .alpha(1)\n      .rgbString()};\n\n  ${GitHubLogoStyled} {\n    circle {\n      fill: transparent;\n    }\n  }\n`;\n\nexport const StyledSelect = styled(Select)`\n  font-size: 0.875rem;\n`;\n\nexport const StyledUserWithAvatar = styled(UserWithAvatar)`\n  font-size: 0.75rem;\n  font-weight: 500;\n`;\n","import React from 'react';\nimport HomeIcon from 'react-icons/lib/io/home';\nimport SearchIcon from 'react-icons/lib/go/search';\nimport { Highlight } from 'react-instantsearch/dom';\nimport compareVersions from 'compare-versions';\n\nimport Tooltip from '@codesandbox/common/lib/components/Tooltip';\n\nimport formatDownloads from '../formatDownloads';\n\nimport {\n  Container,\n  Left,\n  Right,\n  Row,\n  Description,\n  Downloads,\n  License,\n  IconLink,\n  StyledSelect,\n  StyledUserWithAvatar,\n  GitHubLogoStyled,\n} from './elements';\n\nconst getDefaultSelectedVersion = tags => {\n  if (!tags) {\n    return '';\n  }\n\n  if (!tags.latest) {\n    return '';\n  }\n\n  return tags.latest;\n};\n\nexport default class DependencyHit extends React.PureComponent {\n  state = {\n    selectedVersion: getDefaultSelectedVersion(this.props.hit.tags),\n  };\n\n  makeGitHubRepoUrl(repo) {\n    return `https://github.com/${repo.user}/${repo.project}`;\n  }\n\n  makeSearchUrl(hitName) {\n    return `${process.env.CODESANDBOX_HOST}/search?refinementList%5Bnpm_dependencies.dependency%5D%5B0%5D=${hitName}&page=1`;\n  }\n\n  stopPropagation(e) {\n    e.stopPropagation();\n  }\n\n  handleVersionChange = e => {\n    const selectedVersion = e.target.value;\n    this.setState({ selectedVersion });\n    this.props.onVersionChange(selectedVersion);\n  };\n\n  render() {\n    const { highlighted, hit, onClick } = this.props;\n\n    if (!hit.versions) {\n      if (hit.version) {\n        hit.versions = [hit.version];\n      } else {\n        return null;\n      }\n    }\n\n    const versions = Object.keys(hit.versions).sort((a, b) => {\n      try {\n        return compareVersions(b, a);\n      } catch (e) {\n        return 0;\n      }\n    });\n\n    const getTagName = (tags, version) =>\n      Object.keys(tags).find(key => tags[key] === version);\n\n    const validDescription = description =>\n      description &&\n      !description.includes('&lt') &&\n      !description.includes('&gt') &&\n      !description.includes('[![');\n\n    return (\n      <Container highlighted={highlighted} onClick={onClick}>\n        <Left>\n          <Row>\n            <Highlight attribute=\"name\" hit={hit} />\n            <Downloads>{formatDownloads(hit.downloadsLast30Days)}</Downloads>\n            {hit.license && <License>{hit.license}</License>}\n          </Row>\n          {validDescription(hit.description) && (\n            <Description>{hit.description}</Description>\n          )}\n          <Row>\n            <StyledUserWithAvatar\n              username={hit.owner.name}\n              avatarUrl={hit.owner.avatar}\n            />\n          </Row>\n        </Left>\n        <Right>\n          <Row>\n            {hit.githubRepo && (\n              <Tooltip content={`GitHub repository of ${hit.name}`}>\n                <IconLink\n                  href={this.makeGitHubRepoUrl(hit.githubRepo)}\n                  target=\"_blank\"\n                  rel=\"noreferrer noopener\"\n                  onClick={this.stopPropagation}\n                >\n                  <GitHubLogoStyled />\n                </IconLink>\n              </Tooltip>\n            )}\n            {hit.homepage && (\n              <Tooltip content={`Homepage of ${hit.name}`}>\n                <IconLink\n                  href={hit.homepage}\n                  target=\"_blank\"\n                  rel=\"noreferrer noopener\"\n                  onClick={this.stopPropagation}\n                >\n                  <HomeIcon />\n                </IconLink>\n              </Tooltip>\n            )}\n            <Tooltip content={`Search for sandboxes using ${hit.name}`}>\n              <IconLink\n                href={this.makeSearchUrl(hit.name)}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                onClick={this.stopPropagation}\n              >\n                <SearchIcon />\n              </IconLink>\n            </Tooltip>\n            {hit.tags && (\n              <StyledSelect\n                onClick={this.stopPropagation}\n                onChange={this.handleVersionChange}\n                value={this.state.selectedVersion}\n              >\n                {versions.map(v => {\n                  const tagName = getTagName(hit.tags, v);\n                  return (\n                    <option value={v} key={v}>\n                      {v} {tagName && `- ${tagName}`}\n                    </option>\n                  );\n                })}\n              </StyledSelect>\n            )}\n          </Row>\n        </Right>\n      </Container>\n    );\n  }\n}\n","export default function formatDownloads(downloads: number = 0) {\n  if (downloads >= 1000000) {\n    const x = Math.floor(downloads / 100000);\n    const millions = x / 10;\n    return millions + 'M';\n  }\n  if (downloads >= 1000) {\n    const x = Math.floor(downloads / 100);\n    const thousands = x / 10;\n    return thousands + 'K';\n  }\n  return downloads.toString();\n}\n","import styled from 'styled-components';\nimport Color from 'color';\n\nexport const AutoCompleteInput = styled.input`\n  width: 100%;\n  box-sizing: border-box;\n  border: none;\n  outline: none;\n  background-color: transparent;\n  font-weight: 600;\n  font-family: inherit;\n  letter-spacing: 0.45px;\n\n  color: ${props => Color(props.theme.colors.dialog.foreground).rgbString()};\n  padding: 0.75em 1em;\n  z-index: 2;\n`;\n\nexport const SuggestionInput = styled(AutoCompleteInput)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  color: ${props =>\n    Color(props.theme.colors.dialog.foreground)\n      .alpha(0.3)\n      .rgbString()};\n  background-color: transparent;\n  z-index: 1;\n  pointer-events: none;\n`;\n","import React from 'react';\nimport Downshift from 'downshift';\n\nimport { Pagination } from 'react-instantsearch/dom';\n\nimport { ENTER, ARROW_RIGHT } from '@codesandbox/common/lib/utils/keycodes';\n\nimport DependencyHit from '../DependencyHit';\nimport { AutoCompleteInput, SuggestionInput } from './elements';\n\n/* eslint-disable no-param-reassign */\nfunction getName(value: string) {\n  const scope = value[0] === '@' ? '@' : '';\n  value = scope ? value.substr(1) : value;\n\n  return scope + value.split('@')[0];\n}\n\nfunction isExplicitVersion(value: string) {\n  const scope = value[0] === '@' ? '@' : '';\n  value = scope ? value.substr(1) : value;\n\n  return value.includes('@');\n}\n\nfunction getVersion(value: string, hit) {\n  if (value.indexOf('@') > 0) {\n    return value.split('@')[1];\n  }\n  if (hit) {\n    return hit.version;\n  }\n\n  return null;\n}\n\nfunction getIsValid(value: string, hit, version: string) {\n  return Boolean(\n    hit &&\n      hit.tags &&\n      hit.versions &&\n      hit.name.startsWith(getName(value)) &&\n      (version in hit.tags || version in hit.versions)\n  );\n}\n\nfunction getHit(value: string, hits) {\n  return value && hits.find(hit => hit.name.startsWith(value));\n}\n\nclass RawAutoComplete extends React.Component {\n  state = {\n    value: '',\n  };\n\n  render() {\n    const {\n      onSelect,\n      onManualSelect,\n      onHitVersionChange,\n      hits,\n      refine,\n      currentRefinement,\n    } = this.props;\n\n    const hit = getHit(currentRefinement, hits);\n    const version = getVersion(this.state.value, hit);\n    const isValid = getIsValid(this.state.value, hit, version);\n\n    const autoCompletedQuery = noName => {\n      if (isExplicitVersion(this.state.value)) return null;\n\n      if (hit && isValid)\n        return noName ? '@' + hit.version : hit.name + '@' + hit.version;\n\n      return null;\n    };\n\n    const getRefinement = () => {\n      if (isExplicitVersion(this.state.value)) return this.state.value;\n\n      if (hit) return hit.name;\n\n      return currentRefinement;\n    };\n\n    return (\n      <Downshift itemToString={h => (h ? h.name : h)} onSelect={onSelect}>\n        {({ getInputProps, getItemProps, highlightedIndex }) => (\n          <div>\n            {highlightedIndex == null && (\n              <SuggestionInput as=\"div\">\n                {getRefinement()}\n                <span\n                  css={{\n                    color: 'var(--color-white-3)',\n                  }}\n                >\n                  {autoCompletedQuery(true)}\n                </span>\n              </SuggestionInput>\n            )}\n            <AutoCompleteInput\n              autoFocus\n              {...getInputProps({\n                innerRef(ref) {\n                  if (ref) {\n                    if (\n                      document.activeElement &&\n                      document.activeElement.tagName !== 'SELECT'\n                    ) {\n                      ref.focus();\n                    }\n                  }\n                },\n                value: this.state.value,\n                placeholder: 'Search or enter npm dependency',\n\n                onChange: e => {\n                  const name = e.target.value;\n\n                  this.setState({ value: name }, () => {\n                    if (name.indexOf('@') === 0) {\n                      const parts = name.split('@');\n\n                      refine(`@${parts[1]}`);\n                      return;\n                    }\n\n                    const parts = name.split('@');\n\n                    requestAnimationFrame(() => {\n                      refine(`${parts[0]}`);\n                    });\n                  });\n                },\n\n                onKeyUp: e => {\n                  // If enter with no selection\n                  if (e.keyCode === ENTER) {\n                    onManualSelect(autoCompletedQuery() || e.target.value);\n                  } else if (\n                    autoCompletedQuery() &&\n                    e.keyCode === ARROW_RIGHT\n                  ) {\n                    this.setState({ value: autoCompletedQuery() });\n                  }\n                },\n              })}\n            />\n            <Pagination />\n\n            <div>\n              {hits.map((h, index) => (\n                <DependencyHit\n                  key={h.name}\n                  {...getItemProps({\n                    item: h,\n                    index,\n                    highlighted: highlightedIndex === index,\n                    hit: h,\n                    // Downshift supplies onClick\n                    onVersionChange(v) {\n                      onHitVersionChange(h, v);\n                    },\n                  })}\n                />\n              ))}\n            </div>\n          </div>\n        )}\n      </Downshift>\n    );\n  }\n}\n\nexport default RawAutoComplete;\n","import React from 'react';\nimport { InstantSearch, Configure, PoweredBy } from 'react-instantsearch/dom';\nimport { connectAutoComplete } from 'react-instantsearch/connectors';\n\nimport Style from 'app/pages/Search/search';\nimport DependenciesCSS from './dependencies';\n\nimport RawAutoComplete from './RawAutoComplete';\n\nconst ConnectedAutoComplete = connectAutoComplete(RawAutoComplete);\n\nexport default class SearchDependencies extends React.PureComponent {\n  hitToVersionMap = new Map();\n\n  handleSelect = hit => {\n    let version = this.hitToVersionMap.get(hit);\n\n    if (!version && hit.tags) {\n      version = hit.tags.latest;\n    }\n\n    this.props.onConfirm(hit.name, version);\n  };\n\n  handleManualSelect = hitName => {\n    if (!hitName) {\n      return;\n    }\n\n    const isScoped = hitName.startsWith('@');\n    let version = 'latest';\n\n    const splittedName = hitName.split('@');\n\n    if (splittedName.length > (isScoped ? 2 : 1)) {\n      version = splittedName.pop();\n    }\n\n    const depName = splittedName.join('@');\n\n    this.props.onConfirm(depName, version);\n  };\n\n  handleHitVersionChange = (hit, version) => {\n    this.hitToVersionMap.set(hit, version);\n  };\n\n  render() {\n    return (\n      <div className=\"search-dependencies\">\n        <Style />\n        <DependenciesCSS />\n        <InstantSearch\n          appId=\"OFCNCOG2CU\"\n          apiKey=\"00383ecd8441ead30b1b0ff981c426f5\"\n          indexName=\"npm-search\"\n        >\n          <Configure\n            analyticsTags={['codesandbox-dependencies']}\n            hitsPerPage={5}\n          />\n          <ConnectedAutoComplete\n            onSelect={this.handleSelect}\n            onManualSelect={this.handleManualSelect}\n            onHitVersionChange={this.handleHitVersionChange}\n          />\n          <footer>\n            <PoweredBy />\n          </footer>\n        </InstantSearch>\n      </div>\n    );\n  }\n}\n","import styled from 'styled-components';\n\nexport const TitleContainer = styled.span`\n  display: inline-block;\n  margin-left: 0.5rem;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n`;\n","import * as React from 'react';\n\nimport { TitleContainer } from './elements';\n\nfunction EntryTitle({ title }) {\n  return <TitleContainer title={title}>{title}</TitleContainer>;\n}\n\nexport default EntryTitle;\n","// @flow\nimport styled from 'styled-components';\n\nexport const LeftOffset = styled.div`\n  display: flex;\n  flex-wrap: nowrap;\n  padding-left: ${props => props.depth}rem;\n`;\n","// @flow\nimport * as React from 'react';\nimport { EntryContainer as Entry } from 'app/pages/Sandbox/Editor/Workspace/elements';\nimport EntryIcons from 'app/pages/Sandbox/Editor/Workspace/Files/DirectoryEntry/Entry/EntryIcons';\nimport EntryTitle from 'app/pages/Sandbox/Editor/Workspace/Files/DirectoryEntry/Entry/EntryTitle';\n\nimport { LeftOffset } from './elements';\n\ntype Props = {\n  title: string,\n  depth: number,\n  type: string,\n  active?: boolean,\n  alternative?: boolean,\n  onClick?: () => void,\n};\n\nexport default class File extends React.PureComponent<Props> {\n  static defaultProps = {\n    active: false,\n    alternative: false,\n  };\n\n  render() {\n    const { title, depth, type, active, alternative, onClick } = this.props;\n    return (\n      <div>\n        <Entry\n          alternative={alternative}\n          active={active}\n          type={type}\n          onClick={onClick}\n        >\n          <LeftOffset depth={depth}>\n            <EntryIcons type={type} />\n            <EntryTitle title={title} />\n          </LeftOffset>\n        </Entry>\n      </div>\n    );\n  }\n}\n","// @flow\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n  line-height: 1;\n`;\n","// @flow\n\nimport * as React from 'react';\nimport { sortBy } from 'lodash-es';\n\nimport type {\n  Module,\n  Directory as DirectoryType,\n} from '@codesandbox/common/lib/types';\n\nimport { isMainModule } from '@codesandbox/common/lib/sandbox/modules';\n// eslint-disable-next-line import/extensions\nimport getType from 'app/utils/get-type.ts';\n\nimport File from '../File';\n\nimport { Container } from './elements';\n\ntype Props = {\n  modules: Module[],\n  directories: DirectoryType[],\n  directoryId: ?string,\n  depth?: number,\n  currentModule: string,\n  setCurrentModule: (id: string) => void,\n  template: string,\n  entry: string,\n};\n\nfunction Files({\n  modules,\n  directories,\n  directoryId,\n  depth = 0,\n  currentModule,\n  setCurrentModule,\n  template,\n  entry,\n}: Props) {\n  const childrenModules = modules.filter(\n    m => m.directoryShortid === directoryId\n  );\n\n  const childrenDirectories = directories.filter(\n    d => d.directoryShortid === directoryId\n  );\n\n  return (\n    <Container>\n      {sortBy(childrenDirectories, directory => directory.title).map(\n        directory => (\n          <Directory\n            key={directory.shortid}\n            directory={directory}\n            currentModuleId={currentModule}\n            setCurrentModule={setCurrentModule}\n            template={template}\n            entry={entry}\n            modules={modules}\n            directories={directories}\n            depth={depth}\n          />\n        )\n      )}\n      {sortBy(childrenModules, m => m.title).map(m => (\n        <File\n          id={m.id}\n          shortid={m.shortid}\n          title={m.title}\n          key={m.shortid}\n          type={getType(m.title)}\n          depth={depth}\n          active={m.id === currentModule}\n          alternative={isMainModule(m, modules, directories, entry)}\n          onClick={() => setCurrentModule(m.id)}\n        />\n      ))}\n    </Container>\n  );\n}\n\n/** Utils to help identify module tree */\n\nconst getCurrentModule = (modules, currentModuleId) =>\n  modules.find(module => module.id === currentModuleId);\n\nconst getParentDirectory = (directories, child) =>\n  directories.find(directory => directory.shortid === child.directoryShortid);\n\nconst getCurrentModuleTree = (directories, currentModule) => {\n  const currentModuleTree = [currentModule];\n\n  let parentDirectory = getParentDirectory(directories, currentModule);\n\n  while (parentDirectory) {\n    currentModuleTree.push(parentDirectory);\n    // get parent directory of the parent directory\n    parentDirectory = getParentDirectory(directories, parentDirectory);\n  }\n\n  return currentModuleTree;\n};\n\nfunction Directory({\n  directory,\n  currentModuleId,\n  setCurrentModule,\n  template,\n  entry,\n  modules,\n  directories,\n  depth,\n}) {\n  /** directory should be open by default if currentModule is inside it */\n  const [open, setOpen] = React.useState(() => {\n    const currentModule = getCurrentModule(modules, currentModuleId);\n    const currentModuleTree = getCurrentModuleTree(directories, currentModule);\n\n    let openByDefault = false;\n    if (currentModuleTree.find(module => module.id === directory.id)) {\n      openByDefault = true;\n    }\n    return openByDefault;\n  });\n\n  return (\n    <div>\n      <File\n        id={directory.id}\n        shortid={directory.shortid}\n        title={directory.title}\n        type={open ? 'directory-open' : 'directory'}\n        depth={depth}\n        onClick={() => {\n          setOpen(!open);\n        }}\n      />\n      {open ? (\n        <Files\n          modules={modules}\n          directories={directories}\n          directoryId={directory.shortid}\n          depth={depth + 1}\n          currentModule={currentModuleId}\n          setCurrentModule={setCurrentModule}\n          template={template}\n          entry={entry}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nexport default Files;\n","import { Preference } from '@codesandbox/common/lib/components/Preference';\nimport styled from 'styled-components';\n\nexport const FilesContainer = styled.div`\n  max-height: 300px;\n  overflow: auto;\n`;\n\nexport const PaddedPreference = styled(Preference)`\n  color: #e5e5e5;\n  padding-bottom: 1rem;\n\n  &:last-child {\n    padding-bottom: 0;\n  }\n`;\n\nexport const ShareOptions = styled.div`\n  font-size: 0.875rem;\n  color: rgba(255, 255, 255, 0.8);\n  padding: 1rem;\n  background-color: #1c2022;\n`;\n\nexport const Inputs = styled.div`\n  margin-top: 0.5rem;\n  color: #e5e5e5;\n\n  input,\n  textarea {\n    border: none;\n    outline: none;\n    background: #333739;\n    color: #e5e5e5;\n    padding: 0.2rem;\n    margin: 0.5rem 0;\n    border-radius: 4px;\n    width: 100%;\n  }\n\n  textarea {\n    height: 100px;\n  }\n`;\n\nexport const LinkName = styled.div`\n  margin: 0.5rem 0;\n  font-weight: 400;\n  margin-bottom: 0;\n`;\n\nexport const ButtonContainer = styled.div`\n  margin-top: 0.25rem;\n`;\n\nexport const Title = styled.h4`\n  font-family: 'Roboto';\n  font-weight: 500;\n  font-size: 18px;\n  padding-bottom: 20px;\n  margin: 0;\n  padding-top: 5px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n\n  svg {\n    margin-right: 10px;\n  }\n`;\n\nexport const Wrapper = styled.section`\n  display: grid;\n  grid-gap: 30px;\n  grid-template-columns: repeat(2, 1fr);\n`;\n\nexport const SideTitle = styled.span`\n  font-family: 'Poppins', sans-serif;\n  font-weight: bold;\n  font-size: 20px;\n  margin-top: 20px;\n  margin-bottom: 15px;\n  color: #e5e5e5;\n  display: block;\n`;\n","import { getModulePath } from '@codesandbox/common/lib/sandbox/modules';\nimport { getSandboxName } from '@codesandbox/common/lib/utils/get-sandbox-name';\nimport {\n  embedUrl,\n  optionsToParameterizedUrl,\n  protocolAndHost,\n  sandboxUrl,\n} from '@codesandbox/common/lib/utils/url-generator';\nimport { escapeHtml } from 'app/utils/escape';\n\nexport const BUTTON_URL = `${process.env.CODESANDBOX_HOST}/static/img/play-codesandbox.svg`;\n\nexport const VIEW_OPTIONS = ['Editor + Preview', 'Preview', 'Editor'];\nexport const THEME_OPTIONS = ['Dark', 'Light'];\n\nconst getOptionsUrl = (sandbox, mainModule, state) => {\n  const {\n    defaultModule,\n    view,\n    theme,\n    testsView,\n    autoResize,\n    hideNavigation,\n    isCurrentModuleView,\n    fontSize,\n    initialPath,\n    enableEslint,\n    useCodeMirror,\n    expandDevTools,\n  } = state;\n\n  const options = {\n    view: view !== VIEW_OPTIONS[0] ? view.toLowerCase() : null,\n    theme: theme !== THEME_OPTIONS[0] ? theme.toLowerCase() : null,\n    previewwindow: testsView ? 'tests' : null,\n    autoresize: autoResize ? 1 : null,\n    hidenavigation: hideNavigation ? 1 : null,\n    moduleview: isCurrentModuleView ? 1 : null,\n    eslint: enableEslint ? 1 : null,\n    codemirror: useCodeMirror ? 1 : null,\n    expanddevtools: expandDevTools ? 1 : null,\n    fontsize: fontSize !== 14 ? fontSize : 14,\n    initialpath: initialPath || null,\n  };\n\n  const mainModuleId = mainModule.id;\n  if (defaultModule && defaultModule !== mainModuleId) {\n    const modulePath = getModulePath(\n      sandbox.modules,\n      sandbox.directories,\n      defaultModule\n    );\n    // @ts-ignore\n    options.module = modulePath;\n  }\n\n  return optionsToParameterizedUrl(options);\n};\n\nexport const getEditorUrl = (sandbox, mainModule, state) =>\n  protocolAndHost() +\n  sandboxUrl(sandbox) +\n  getOptionsUrl(sandbox, mainModule, state);\n\nexport const getEmbedUrl = (sandbox, mainModule, state) =>\n  protocolAndHost() +\n  embedUrl(sandbox) +\n  getOptionsUrl(sandbox, mainModule, state);\n\nexport const getIframeScript = (sandbox, mainModule, state) =>\n  `<iframe\n     src=\"${getEmbedUrl(sandbox, mainModule, state)}\"\n     style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"${escapeHtml(getSandboxName(sandbox))}\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-autoplay allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>`;\n\n// eslint-disable-next-line\nexport const getButtonMarkdown = (sandbox, mainModule, state) => {\n  return `[![Edit ${getSandboxName(sandbox)}](${BUTTON_URL})](${getEditorUrl(\n    sandbox,\n    mainModule,\n    state\n  )})`;\n};\n\n// eslint-disable-next-line\nexport const getButtonHTML = (sandbox, mainModule, state) => {\n  return `<a href=\"${getEditorUrl(sandbox, mainModule, state)}\">\n  <img alt=\"Edit ${sandbox.title || sandbox.id}\" src=\"${BUTTON_URL}\">\n</a>\n`;\n};\n","import React, { useState } from 'react';\nimport Down from 'react-icons/lib/fa/angle-down';\nimport Right from 'react-icons/lib/fa/angle-right';\nimport { Spring, animated } from 'react-spring/renderprops';\n\nimport { Title as TitleElement } from './elements';\n\ninterface Props {\n  title: string;\n  open?: boolean;\n}\n\nexport const Title: React.FC<Props> = ({ open, title, children }) => {\n  const [isOpen, setOpen] = useState(open || false);\n\n  function toggleShow() {\n    setOpen(!isOpen);\n  }\n\n  return (\n    <>\n      <TitleElement onClick={() => toggleShow()}>\n        {isOpen ? <Down /> : <Right />}\n        {title}\n      </TitleElement>\n      <Spring\n        from={{ height: 'auto' }}\n        to={{\n          height: isOpen ? 'auto' : 0,\n          overflow: 'hidden',\n        }}\n      >\n        {props => <animated.div style={props}>{children}</animated.div>}\n      </Spring>\n    </>\n  );\n};\n","import { Button } from '@codesandbox/common/lib/components/Button';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { getSandboxName } from '@codesandbox/common/lib/utils/get-sandbox-name';\nimport { sandboxUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { useOvermind } from 'app/overmind';\n// eslint-disable-next-line\nimport Files from 'embed/components/legacy/Files';\nimport QRCode from 'qrcode.react';\nimport React, { useEffect, useState } from 'react';\n\nimport {\n  ButtonContainer,\n  FilesContainer,\n  Inputs,\n  LinkName,\n  PaddedPreference,\n  ShareOptions,\n  SideTitle,\n  Wrapper,\n} from './elements';\nimport {\n  BUTTON_URL,\n  THEME_OPTIONS,\n  VIEW_OPTIONS,\n  getButtonHTML,\n  getButtonMarkdown,\n  getEditorUrl,\n  getEmbedUrl,\n  getIframeScript,\n} from './getCode';\nimport { Title } from './Title';\n\ninterface Props {}\n\nexport const ShareModal: React.FC<Props> = () => {\n  const {\n    state: { editor },\n  } = useOvermind();\n  const [state, updateState] = useState({\n    view: VIEW_OPTIONS[0],\n    theme: 'dark',\n    testsView: false,\n    defaultModule: null,\n    autoResize: false,\n    hideNavigation: true,\n    isCurrentModuleView: false,\n    fontSize: 14,\n    initialPath: '',\n    useCodeMirror: false,\n    enableEslint: false,\n    expandDevTools: false,\n  });\n\n  useEffect(() => {\n    track('Share Modal Opened', {});\n  }, []);\n\n  function setDefaultModule(id: string) {\n    updateState({ ...state, defaultModule: id });\n  }\n\n  function setAutoResize(autoResize: boolean) {\n    updateState({ ...state, autoResize });\n  }\n\n  function setHideNavigation(hideNavigation: boolean) {\n    updateState({ ...state, hideNavigation });\n  }\n\n  function setUseCodeMirror(useCodeMirror: boolean) {\n    updateState({ ...state, useCodeMirror });\n  }\n\n  function setEnableEslint(enableEslint: boolean) {\n    updateState({ ...state, enableEslint });\n  }\n\n  function setIsCurrentModuleView(isCurrentModuleView: boolean) {\n    updateState({ ...state, isCurrentModuleView });\n  }\n\n  function setExpandDevTools(expandDevTools: boolean) {\n    updateState({ ...state, expandDevTools });\n  }\n\n  function setFontSize(fontSize: number) {\n    updateState({ ...state, fontSize });\n  }\n\n  function setTestsView(testsView: boolean) {\n    updateState({ ...state, testsView });\n  }\n\n  function setInitialPath({ target }) {\n    const initialPath = target.value;\n    updateState({ ...state, initialPath });\n  }\n\n  function setView(view: string) {\n    updateState({ ...state, view });\n  }\n\n  function setTheme(theme: string) {\n    updateState({ ...state, theme });\n  }\n\n  function select(event) {\n    event.target.select();\n  }\n\n  const { mainModule, currentSandbox: sandbox } = editor;\n  const {\n    view,\n    theme,\n    testsView,\n    autoResize,\n    hideNavigation,\n    isCurrentModuleView,\n    fontSize,\n    initialPath,\n    useCodeMirror,\n    enableEslint,\n    expandDevTools,\n  } = state;\n\n  const defaultModule = state.defaultModule || mainModule.id;\n\n  return (\n    <>\n      <header\n        // eslint-disable-next-line\n        dangerouslySetInnerHTML={{\n          __html: getIframeScript(sandbox, mainModule, state),\n        }}\n      />\n\n      <ShareOptions>\n        <Wrapper>\n          <section>\n            <SideTitle>Configure</SideTitle>\n            <Title title=\"Appearance\">\n              <PaddedPreference\n                title=\"Default View\"\n                type=\"dropdown\"\n                options={VIEW_OPTIONS}\n                value={view}\n                setValue={setView}\n              />\n              <PaddedPreference\n                title=\"Theme\"\n                type=\"dropdown\"\n                options={THEME_OPTIONS}\n                value={theme}\n                setValue={setTheme}\n              />\n              <PaddedPreference\n                title=\"Auto resize\"\n                type=\"boolean\"\n                tooltip=\"Works only on Medium\"\n                value={autoResize}\n                setValue={setAutoResize}\n              />\n              <PaddedPreference\n                title=\"Hide navigation bar\"\n                type=\"boolean\"\n                value={hideNavigation}\n                setValue={setHideNavigation}\n              />\n              <PaddedPreference\n                title=\"Expand console\"\n                type=\"boolean\"\n                value={expandDevTools}\n                setValue={setExpandDevTools}\n              />\n              <PaddedPreference\n                title=\"Show current module view\"\n                type=\"boolean\"\n                tooltip=\"Only show the module that's currently open\"\n                value={isCurrentModuleView}\n                setValue={setIsCurrentModuleView}\n              />\n              <PaddedPreference\n                title=\"Show Tests (instead of browser preview)\"\n                type=\"boolean\"\n                value={testsView}\n                setValue={setTestsView}\n              />\n              <PaddedPreference\n                title=\"Font size\"\n                type=\"number\"\n                value={fontSize}\n                setValue={setFontSize}\n              />\n            </Title>\n            <Title title=\"Sandbox Options\">\n              <PaddedPreference\n                title=\"Use CodeMirror instead of Monaco editor\"\n                type=\"boolean\"\n                value={useCodeMirror}\n                setValue={setUseCodeMirror}\n              />\n              <PaddedPreference\n                title=\"Enable eslint (significantly higher bundle size)\"\n                type=\"boolean\"\n                value={enableEslint}\n                setValue={setEnableEslint}\n              />\n              <div>\n                {/* eslint-disable-next-line */}\n                <h4>Default module to show</h4>\n\n                <FilesContainer>\n                  {/*\n                  // @ts-ignore */}\n                  <Files\n                    modules={sandbox.modules}\n                    directoryId={null}\n                    directories={sandbox.directories}\n                    currentModule={defaultModule}\n                    setCurrentModule={setDefaultModule}\n                  />\n                </FilesContainer>\n              </div>\n            </Title>\n            <Title title=\"Other Options\">\n              <Inputs>\n                <LinkName>Project Initial Path</LinkName>\n                <input\n                  onFocus={select}\n                  placeholder=\"e.g: /home\"\n                  value={initialPath}\n                  onChange={setInitialPath}\n                />\n              </Inputs>\n            </Title>\n          </section>\n          <section>\n            <SideTitle>Share</SideTitle>\n            <Title title=\"Share embed\" open>\n              <Inputs>\n                <LinkName>Editor url (also works on Medium)</LinkName>\n                <input\n                  onFocus={select}\n                  value={getEditorUrl(sandbox, mainModule, state)}\n                  readOnly\n                />\n              </Inputs>\n              <Inputs>\n                <LinkName>Embed url</LinkName>\n                <input\n                  onFocus={select}\n                  value={getEmbedUrl(sandbox, mainModule, state)}\n                  readOnly\n                />\n              </Inputs>\n              <Inputs>\n                <LinkName>iframe</LinkName>\n                <textarea\n                  onFocus={select}\n                  value={getIframeScript(sandbox, mainModule, state)}\n                  readOnly\n                />\n              </Inputs>\n            </Title>\n            <Title title=\"Share CodeSandbox Button\">\n              <Inputs>\n                <ButtonContainer>\n                  <a href={sandboxUrl(sandbox)}>\n                    <img alt={getSandboxName(sandbox)} src={BUTTON_URL} />\n                  </a>\n                </ButtonContainer>\n              </Inputs>\n              <Inputs>\n                <LinkName>Markdown</LinkName>\n                <textarea\n                  onFocus={select}\n                  value={getButtonMarkdown(sandbox, mainModule, state)}\n                  readOnly\n                />\n              </Inputs>\n              <Inputs>\n                <LinkName>HTML</LinkName>\n                <textarea\n                  onFocus={select}\n                  value={getButtonHTML(sandbox, mainModule, state)}\n                  readOnly\n                />\n              </Inputs>\n            </Title>\n            <Title title=\"Share QR code\">\n              <Inputs>\n                <QRCode\n                  value={getEmbedUrl(sandbox, mainModule, state)}\n                  size=\"100%\"\n                  renderAs=\"svg\"\n                />\n              </Inputs>\n            </Title>\n            <Title title=\"Share on Social Media\">\n              <Inputs\n                style={{\n                  margin: '20px 0',\n                }}\n              >\n                <Button\n                  small\n                  target=\"_blank\"\n                  href={`https://dev.to/new?prefill=---%5Cn%20title:${encodeURIComponent(\n                    sandbox.title || sandbox.id\n                  )}%5Cn%20published:%20false%5Cn%20tags:%20codesandbox%5Cn%20---%5Cn%20%5Cn%20%5Cn%20%5Cn%20%7B%25%20codesandbox%20${encodeURIComponent(\n                    sandbox.id\n                  )}%20%25%7D`}\n                >\n                  Share on DEV\n                </Button>\n                <Button\n                  style={{ marginLeft: '1em' }}\n                  small\n                  target=\"_blank\"\n                  href={`https://twitter.com/intent/tweet?text=${encodeURIComponent(\n                    `${sandbox.title || sandbox.id}. ${getEditorUrl(\n                      sandbox,\n                      mainModule,\n                      state\n                    )}`\n                  )}`}\n                >\n                  Share on Twitter\n                </Button>\n              </Inputs>\n            </Title>\n          </section>\n        </Wrapper>\n      </ShareOptions>\n    </>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { Alert } from '../Common/Alert';\n\nconst SignInForTemplates: FunctionComponent = () => {\n  const {\n    actions: { modalClosed, signInClicked },\n  } = useOvermind();\n\n  return (\n    <Alert\n      title=\"Sign in to create templates\"\n      description=\"You can only create templates as a logged in user.\"\n      onCancel={modalClosed}\n      onPrimaryAction={() => signInClicked()}\n      confirmMessage=\"Sign in with GitHub\"\n    />\n  );\n};\n\nexport default SignInForTemplates;\n","import styled, { keyframes } from 'styled-components';\n\nconst loadingAnimation = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nexport const LoadingAnimationContainer = styled.div`\n  margin: auto;\n  border: 8px solid #f3f3f3;\n  border-top: 8px solid black;\n  border-radius: 50%;\n  width: 60px;\n  height: 60px;\n  animation: ${loadingAnimation} 2s linear infinite;\n`;\n","import { UploadFile } from '@codesandbox/common/lib/types';\nimport React, { FunctionComponent } from 'react';\n\nimport { useOvermind } from 'app/overmind';\nimport { Button, Icon } from '@codesandbox/components';\n\ntype Props = Pick<UploadFile, 'name' | 'url'>;\nexport const AddFileToSandboxButton: FunctionComponent<Props> = ({\n  name,\n  url,\n}) => {\n  const {\n    actions: {\n      files: { addedFileToSandbox },\n    },\n    state: {\n      editor: { currentSandbox },\n    },\n  } = useOvermind();\n\n  if (!currentSandbox) {\n    return null;\n  }\n\n  return (\n    <Button\n      css={{ width: 'auto' }}\n      variant=\"secondary\"\n      disabled={!currentSandbox}\n      title=\"Add file to sandbox\"\n      onClick={() => addedFileToSandbox({ name, url })}\n    >\n      <Icon name=\"plus\" />\n    </Button>\n  );\n};\n","import { UploadFile } from '@codesandbox/common/lib/types';\nimport React, { FunctionComponent } from 'react';\nimport css from '@styled-system/css';\n\nimport { useOvermind } from 'app/overmind';\nimport { Button, Icon } from '@codesandbox/components';\n\ntype Props = Pick<UploadFile, 'id'>;\nexport const DeleteFileButton: FunctionComponent<Props> = ({ id }) => {\n  const {\n    actions: {\n      files: { deletedUploadedFile },\n    },\n  } = useOvermind();\n\n  return (\n    <Button\n      css={css({\n        width: 'auto',\n        '&:hover': {\n          background: theme =>\n            theme.colors.dangerButton.background + ' !important',\n          color: 'dangerButton.foreground',\n        },\n      })}\n      variant=\"secondary\"\n      onClick={() => deletedUploadedFile(id)}\n      title=\"Delete File\"\n    >\n      <Icon name=\"trash\" />\n    </Button>\n  );\n};\n","import filesize from 'filesize';\nimport { sortBy } from 'lodash-es';\nimport React, { FunctionComponent, useState } from 'react';\nimport {\n  Button,\n  Stack,\n  Element,\n  List,\n  ListAction,\n  Link,\n  Text,\n  Checkbox,\n} from '@codesandbox/components';\n\nimport { useOvermind } from 'app/overmind';\n\nimport { AddFileToSandboxButton } from './AddFileToSandboxButton';\nimport { DeleteFileButton } from './DeleteFileButton';\n\nexport const FilesList: FunctionComponent = () => {\n  const {\n    actions: {\n      files: { deletedUploadedFile, addedFileToSandbox },\n    },\n    state: {\n      editor: { currentSandbox },\n      uploadedFiles,\n    },\n  } = useOvermind();\n  const [selectedItems, setSelectedItems] = useState<string[]>([]);\n\n  const getSelection = () =>\n    uploadedFiles.filter(({ id }) => selectedItems.includes(id));\n\n  const toggleCheckbox = (id: string) =>\n    setSelectedItems(items =>\n      items.includes(id) ? items.filter(item => item !== id) : items.concat(id)\n    );\n\n  return (\n    <Element marginTop={4}>\n      <Stack gap={2} marginBottom={6} justify=\"space-between\">\n        <Button\n          style={{ width: 'auto' }}\n          disabled={selectedItems.length === 0 || !currentSandbox}\n          onClick={() => getSelection().map(addedFileToSandbox)}\n        >\n          Add all selected to project\n        </Button>\n\n        <Button\n          variant=\"danger\"\n          style={{ width: 'auto' }}\n          disabled={selectedItems.length === 0}\n          onClick={() => selectedItems.map(deletedUploadedFile)}\n        >\n          Delete all selected\n        </Button>\n      </Stack>\n\n      <List>\n        {sortBy(uploadedFiles, 'name').map(\n          ({ id, name, objectSize, url }, index) => (\n            <ListAction justify=\"space-between\" key={id}>\n              <Stack\n                gap={4}\n                css={`\n                  width: 40%;\n                `}\n              >\n                <Checkbox\n                  onChange={() => toggleCheckbox(id)}\n                  checked={selectedItems.includes(id)}\n                />\n                <Link\n                  css={`\n                    max-width: 80%;\n                    white-space: nowrap;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                  `}\n                  size={3}\n                  href={url}\n                  rel=\"noreferrer noopener\"\n                  target=\"_blank\"\n                >\n                  {name}\n                </Link>\n              </Stack>\n              <Element\n                css={`\n                  width: 100px;\n                `}\n              >\n                <Text size={3}>{filesize(objectSize)}</Text>\n              </Element>\n              <Stack gap={2}>\n                <AddFileToSandboxButton name={name} url={url} />\n                <DeleteFileButton id={id} />\n              </Stack>\n            </ListAction>\n          )\n        )}\n      </List>\n    </Element>\n  );\n};\n","import styled, { css, keyframes } from 'styled-components';\nimport LocalLogo from 'react-icons/lib/md/laptop';\nimport delayInEffect from '@codesandbox/common/lib/utils/animation/delay-effect';\nimport { OpaqueLogo } from 'app/components/OpaqueLogo';\nimport { Cube } from '../Cube';\n\nexport const UploadAnimationContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3rem;\n  ${delayInEffect(0, false)}\n`;\n\nexport const StyledLocalLogo = styled(LocalLogo)`\n  position: absolute;\n  z-index: 20;\n  font-size: 4rem;\n  transform: translateY(15px) translateX(-100px);\n`;\n\nconst cubeAnimation = keyframes`\n0% {\n  transform: translateY(20px) translateX(-100px) scale(0, 0);\n}\n\n20% {\n  transform: translateY(20px) translateX(-100px) scale(1, 1);\n}\n\n80% {\n  transform: translateY(20px) translateX(80px) scale(1, 1);\n}\n\n100% {\n  transform: translateY(20px) translateX(80px) scale(1, 1);\n}\n`;\n\nexport const StyledCube = styled(Cube)<{ delay: number }>`\n  ${({ delay }) => css`\n    position: absolute;\n    animation: ${cubeAnimation} 2s ease-in infinite;\n    animation-delay: ${delay * 0.5}s;\n    transform: translateY(20px) translateX(-100px) scale(0, 0);\n  `}\n`;\n\nexport const StyledLogo = styled(OpaqueLogo)`\n  position: absolute;\n  z-index: 10;\n  transform: translateY(10px) translateX(80px);\n`;\n","import React from 'react';\nimport { Element, Text } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport {\n  UploadAnimationContainer,\n  StyledLocalLogo,\n  StyledCube,\n  StyledLogo,\n} from './elements';\n\ninterface IUploadProgressProps {\n  result?: string;\n  message: string;\n}\n\nexport const UploadProgress: React.FC<IUploadProgressProps> = ({\n  message,\n  result,\n}) => (\n  <Element padding={4} paddingTop={6}>\n    {result ? (\n      <Text marginBottom={4} size={3} block>\n        {result}\n      </Text>\n    ) : (\n      <>\n        <UploadAnimationContainer>\n          <StyledLocalLogo\n            css={css({\n              backgroundColor: 'sideBar.background',\n              color: 'sideBar.foreground',\n            })}\n          />\n          {[0, 1, 2, 3].map(i => (\n            <StyledCube key={i} delay={i} size={20} />\n          ))}\n          <StyledLogo width={70} height={70} />\n        </UploadAnimationContainer>\n        <Text align=\"center\" weight=\"bold\" block size={4} marginTop={4}>\n          {message}\n        </Text>\n      </>\n    )}\n  </Element>\n);\n","import React from 'react';\nimport { UploadProgress } from 'app/components/UploadProgress';\n\nconst UploadModal = () => <UploadProgress message=\"Uploading Files...\" />;\n\nexport default UploadModal;\n","import codesandbox from '@codesandbox/common/lib/themes/codesandbox.json';\nimport {\n  COLUMN_MEDIA_THRESHOLD,\n  CreateSandbox,\n} from 'app/components/CreateNewSandbox/CreateSandbox';\nimport Modal from 'app/components/Modal';\nimport { useOvermind } from 'app/overmind';\nimport getVSCodeTheme from 'app/src/app/pages/Sandbox/Editor/utils/get-vscode-theme';\nimport Loadable from 'app/utils/Loadable';\nimport React, { FunctionComponent, useEffect, useState } from 'react';\nimport { ThemeProvider } from '@codesandbox/components';\n\nimport CommitModal from './CommitModal';\nimport { DeleteDeploymentModal } from './DeleteDeploymentModal';\nimport { DeleteProfileSandboxModal } from './DeleteProfileSandboxModal';\nimport DeleteSandboxModal from './DeleteSandboxModal';\nimport { DeploymentModal } from './DeploymentModal';\nimport { EmptyTrash } from './EmptyTrash';\nimport ExportGitHubModal from './ExportGitHubModal';\nimport { FeedbackModal } from './FeedbackModal';\nimport { ForkServerModal } from './ForkServerModal';\nimport { LiveSessionEnded } from './LiveSessionEnded';\nimport LiveSessionVersionMismatch from './LiveSessionVersionMismatch';\nimport { NetlifyLogs } from './NetlifyLogs';\nimport { PickSandboxModal } from './PickSandboxModal';\nimport PreferencesModal from './PreferencesModal';\nimport { PRModal } from './PRModal';\nimport { SearchDependenciesModal } from './SearchDependenciesModal';\nimport { SelectSandboxModal } from './SelectSandboxModal';\nimport { ShareModal } from './ShareModal';\nimport SignInForTemplates from './SignInForTemplates';\nimport { StorageManagementModal } from './StorageManagementModal';\nimport { SurveyModal } from './SurveyModal';\nimport { RecoverFilesModal } from './RecoverFilesModal';\nimport UploadModal from './UploadModal';\n\nconst MoveSandboxFolderModal = Loadable(() =>\n  import('./MoveSandboxFolderModal').then(module => ({\n    default: module.MoveSandboxFolderModal,\n  }))\n);\n\nconst modals = {\n  preferences: {\n    Component: PreferencesModal,\n    width: 900,\n  },\n  newSandbox: {\n    Component: CreateSandbox,\n    width: () => (window.outerWidth > COLUMN_MEDIA_THRESHOLD ? 1200 : 950),\n  },\n  share: {\n    Component: ShareModal,\n    width: 1200,\n  },\n  deployment: {\n    Component: DeploymentModal,\n    width: 400,\n  },\n  recoveredFiles: {\n    Component: RecoverFilesModal,\n    width: 400,\n  },\n  exportGithub: {\n    Component: ExportGitHubModal,\n    width: 400,\n  },\n  commit: {\n    Component: CommitModal,\n    width: 400,\n  },\n  signInForTemplates: {\n    Component: SignInForTemplates,\n    width: 400,\n  },\n  pr: {\n    Component: PRModal,\n    width: 400,\n  },\n  netlifyLogs: {\n    Component: NetlifyLogs,\n    width: 750,\n  },\n  deleteDeployment: {\n    Component: DeleteDeploymentModal,\n    width: 400,\n  },\n  deleteSandbox: {\n    Component: DeleteSandboxModal,\n    width: 400,\n  },\n  pickSandbox: {\n    Component: PickSandboxModal,\n    width: 600,\n  },\n  deleteProfileSandbox: {\n    Component: DeleteProfileSandboxModal,\n    width: 400,\n  },\n  emptyTrash: {\n    Component: EmptyTrash,\n    width: 400,\n  },\n  selectSandbox: {\n    Component: SelectSandboxModal,\n    width: 600,\n  },\n  searchDependencies: {\n    Component: SearchDependenciesModal,\n    width: 600,\n  },\n  liveSessionEnded: {\n    Component: LiveSessionEnded,\n    width: 400,\n  },\n  liveVersionMismatch: {\n    Component: LiveSessionVersionMismatch,\n    width: 400,\n  },\n  uploading: {\n    Component: UploadModal,\n    width: 400,\n  },\n  storageManagement: {\n    Component: StorageManagementModal,\n    width: 800,\n  },\n  forkServerModal: {\n    Component: ForkServerModal,\n    width: 400,\n  },\n  moveSandbox: {\n    Component: MoveSandboxFolderModal,\n    width: 350,\n  },\n  feedback: {\n    Component: FeedbackModal,\n    width: 450,\n  },\n  userSurvey: {\n    Component: SurveyModal,\n    width: 850,\n  },\n};\n\nconst Modals: FunctionComponent = () => {\n  const {\n    actions,\n    state: {\n      preferences: {\n        settings: { customVSCodeTheme },\n      },\n      currentModal,\n    },\n  } = useOvermind();\n\n  const [localState, setLocalState] = useState({\n    theme: {\n      colors: {},\n      vscodeTheme: codesandbox,\n    },\n    customVSCodeTheme: null,\n  });\n\n  useEffect(() => {\n    async function loadTheme() {\n      try {\n        const t = await getVSCodeTheme('', customVSCodeTheme);\n        setLocalState({ theme: t, customVSCodeTheme });\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    if (localState.customVSCodeTheme !== customVSCodeTheme) {\n      loadTheme();\n    }\n  }, [localState.customVSCodeTheme, customVSCodeTheme]);\n\n  const modal = currentModal && modals[currentModal];\n\n  return (\n    <ThemeProvider theme={localState.theme.vscodeTheme}>\n      <Modal\n        isOpen={Boolean(modal)}\n        width={\n          modal &&\n          (typeof modal.width === 'function' ? modal.width() : modal.width)\n        }\n        onClose={isKeyDown => actions.modalClosed()}\n      >\n        {modal\n          ? React.createElement(modal.Component, {\n              closeModal: () => actions.modalClosed(),\n            })\n          : null}\n      </Modal>\n    </ThemeProvider>\n  );\n};\n\nexport { Modals };\n","import React, { FunctionComponent } from 'react';\nimport { Element, Button, Text, Stack, Link } from '@codesandbox/components';\nimport { useOvermind } from 'app/overmind';\nimport css from '@styled-system/css';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { Alert } from '../Common/Alert';\nimport { VercelIcon } from './VercelLogo';\n\nexport const DeploymentModal: FunctionComponent = () => {\n  const {\n    state: {\n      user,\n      deployment: { deploying, url },\n    },\n    actions: {\n      deployment: { deployClicked },\n      signInVercelClicked,\n    },\n  } = useOvermind();\n\n  if (!user) {\n    return null;\n  }\n\n  const {\n    integrations: { zeit: vercel },\n  } = user;\n  const vercelSignedIn = Boolean(vercel);\n\n  return (\n    <Alert\n      title=\"Deployment\"\n      description=\"Deploy a production version of your Sandbox to Vercel\"\n    >\n      {url ? (\n        <Element marginBottom={4}>\n          <Text weight=\"bold\" block size={4} align=\"center\" paddingBottom={4}>\n            Deployed!\n          </Text>\n          <Link variant=\"muted\" block size={3} align=\"center\" href={url}>\n            {url}\n          </Link>\n          <Text paddingTop={4} block size={3} align=\"center\">\n            You can manage your deployments{' '}\n            <Link\n              variant=\"muted\"\n              href=\"https://vercel.com/dashboard\"\n              target=\"_blank\"\n              rel=\"noreferrer noopener\"\n            >\n              here\n            </Link>\n            .\n          </Text>\n        </Element>\n      ) : (\n        <Stack\n          align=\"center\"\n          marginBottom={4}\n          css={css({\n            border: '1px solid',\n            borderColor: 'sideBar.border',\n            borderRadius: 'medium',\n          })}\n        >\n          <VercelIcon />\n          <Element paddingLeft={4}>\n            {vercelSignedIn ? (\n              <>\n                <Text size={3} block paddingBottom={1} variant=\"muted\">\n                  Signed in with\n                </Text>\n                <Text size={3}>{vercel.email || 'Loading...'}</Text>\n              </>\n            ) : (\n              <>\n                <Text size={3} block paddingBottom={1}>\n                  Please sign in\n                </Text>\n                <Button onClick={signInVercelClicked}>Sign In</Button>\n              </>\n            )}\n          </Element>\n        </Stack>\n      )}\n      <Stack justify=\"flex-end\">\n        <Button\n          css={css({ width: 'auto' })}\n          onClick={() => {\n            track('Deploy Clicked', { provider: 'vercel' });\n            deployClicked();\n          }}\n          disabled={!vercelSignedIn || deploying}\n        >\n          {deploying ? 'Deploying' : 'Deploy Sandbox'}\n        </Button>\n      </Stack>\n    </Alert>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { Button, Stack } from '@codesandbox/components';\nimport { useOvermind } from 'app/overmind';\nimport css from '@styled-system/css';\nimport { Alert } from '../Common/Alert';\n\nexport const RecoverFilesModal: FunctionComponent = () => {\n  const {\n    actions: { files, modalClosed },\n    state: {\n      editor: { recoveredFiles },\n    },\n  } = useOvermind();\n\n  return (\n    <Alert\n      title=\"Recovered Files\"\n      description={`We recovered ${recoveredFiles.length} unsaved ${\n        recoveredFiles.length > 1 ? 'files' : 'file'\n      } from a previous session, what do you want to do?`}\n    >\n      <Stack justify=\"flex-end\" gap={2}>\n        <Button\n          variant=\"secondary\"\n          css={css({\n            width: 'auto',\n          })}\n          onClick={() => {\n            files.applyRecover(recoveredFiles);\n            modalClosed();\n          }}\n        >\n          Apply Changes\n        </Button>\n        <Button\n          variant=\"secondary\"\n          onClick={() => {\n            files.createRecoverDiffs(recoveredFiles);\n            modalClosed();\n          }}\n          type=\"submit\"\n          css={css({\n            width: 'auto',\n          })}\n        >\n          Compare\n        </Button>\n        <Button\n          onClick={() => {\n            files.discardRecover();\n            modalClosed();\n          }}\n          type=\"submit\"\n          css={css({\n            width: 'auto',\n          })}\n        >\n          Discard\n        </Button>\n      </Stack>\n    </Alert>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { GitProgress } from 'app/components/GitProgress';\nimport { useOvermind } from 'app/overmind';\nimport { Stack, Link, Text } from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nexport const PRModal: FunctionComponent = () => {\n  const {\n    state: {\n      git: { isCreatingPr, pr },\n    },\n  } = useOvermind();\n\n  return (\n    <GitProgress\n      message=\"Forking Repository & Creating PR...\"\n      result={\n        isCreatingPr ? null : (\n          <>\n            <Text marginBottom={6} size={3} block>\n              Done! We{\"'\"}ll now open the new sandbox of this PR and GitHub in\n              3 seconds...\n            </Text>\n\n            <Stack justify=\"flex-end\">\n              <Link\n                css={css({\n                  width: 'auto',\n                  textDecoration: 'none',\n                })}\n                href={pr.prURL}\n                rel=\"noreferrer noopener\"\n                target=\"_blank\"\n              >\n                Click here if nothing happens.\n              </Link>\n            </Stack>\n          </>\n        )\n      }\n    />\n  );\n};\n","import React, { FunctionComponent, useEffect, useState } from 'react';\n\nimport { Element, Button, Stack } from '@codesandbox/components';\nimport { useOvermind } from 'app/overmind';\nimport css from '@styled-system/css';\nimport { Item } from './elements';\nimport { Alert } from '../Common/Alert';\n\nexport const NetlifyLogs: FunctionComponent = () => {\n  const {\n    actions: { modalClosed },\n    state: {\n      deployment: { netlifyLogs: netlifyLogsUrl },\n    },\n  } = useOvermind();\n  const [logs, setLogs] = useState(['Waiting for build to start']);\n\n  useEffect(() => {\n    const interval = setInterval(async () => {\n      const { logs: fetchedLogs } = await fetch(netlifyLogsUrl).then(data =>\n        data.json()\n      );\n\n      if (fetchedLogs.length > 0) {\n        setLogs(fetchedLogs);\n      }\n    }, 2000);\n\n    return () => clearInterval(interval);\n  }, [netlifyLogsUrl]);\n\n  return (\n    <Alert\n      title=\"Sandbox Site Logs\"\n      description=\"Builds typically take a minute or two to complete\"\n    >\n      <Element\n        marginY={6}\n        padding={4}\n        css={css({\n          fontFamily: \"'dm'\",\n          maxHeight: 400,\n          overflow: 'auto',\n          wordBreak: 'break-word',\n          borderRadius: 'medium',\n          border: '1px solid',\n          borderColor: 'sideBar.border',\n        })}\n      >\n        {logs.map(log => (\n          <Item marginBottom={2} key={log}>\n            {log}\n          </Item>\n        ))}\n      </Element>\n      <Stack gap={2} align=\"center\" justify=\"flex-end\">\n        <Button\n          css={css({\n            width: 'auto',\n          })}\n          variant=\"link\"\n          onClick={modalClosed}\n        >\n          Close\n        </Button>\n      </Stack>\n    </Alert>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { Alert } from '../Common/Alert';\n\nexport const DeleteDeploymentModal: FunctionComponent = () => {\n  const {\n    actions: {\n      deployment: { deleteDeployment },\n      modalClosed,\n    },\n  } = useOvermind();\n\n  return (\n    <Alert\n      title=\"Delete Deployment\"\n      description=\"Are you sure you want to delete this deployment?\"\n      onCancel={modalClosed}\n      onPrimaryAction={deleteDeployment}\n      confirmMessage=\"Delete\"\n      type=\"danger\"\n    />\n  );\n};\n","/* eslint-disable jsx-a11y/accessible-emoji */\n// @ts-nocheck\nimport React, { FormEvent, FunctionComponent, useState } from 'react';\n\nimport {\n  FormField,\n  Button,\n  Text,\n  Stack,\n  Input,\n  Textarea,\n} from '@codesandbox/components';\nimport { useOvermind } from 'app/overmind';\nimport css from '@styled-system/css';\nimport { Alert } from '../Common/Alert';\n\nexport const PickSandboxModal: FunctionComponent = () => {\n  const {\n    actions: {\n      explore: { pickSandbox },\n      modalClosed,\n    },\n    state: {\n      explore: {\n        pickedSandboxDetails: { id, ...details },\n      },\n    },\n  } = useOvermind();\n  const [description, setDescription] = useState(details.description);\n  const [title, setTitle] = useState(details.title);\n\n  return (\n    <Alert\n      title=\"Pick this sandbox\"\n      description=\"Please add a title and description to this sandbox if none exists or you think you have a better description for it. This title and description will be the ones used in the explore page.\"\n    >\n      <form\n        onSubmit={(event: FormEvent<HTMLFormElement>) => {\n          event.preventDefault();\n          pickSandbox({ description, id, title });\n        }}\n      >\n        <FormField\n          style={{ padding: 0 }}\n          marginBottom={4}\n          direction=\"vertical\"\n          label=\"Sandbox name\"\n        >\n          <Input\n            marginTop={2}\n            id=\"title\"\n            name=\"title\"\n            onChange={e => setTitle(e.target.value)}\n            required\n            value={title}\n          />\n        </FormField>\n\n        <FormField\n          style={{ padding: 0 }}\n          marginBottom={4}\n          direction=\"vertical\"\n          label=\"Sandbox Description\"\n        >\n          <Textarea\n            marginTop={2}\n            id=\"description\"\n            name=\"description\"\n            onChange={e => setDescription(e.target.value)}\n            required\n            rows={3}\n            value={description}\n          />\n        </FormField>\n\n        <Stack justify=\"flex-end\" gap={2}>\n          <Button\n            css={css({\n              width: 'auto',\n            })}\n            variant=\"link\"\n            onClick={modalClosed}\n          >\n            Cancel\n          </Button>\n          <Button\n            type=\"submit\"\n            css={css({\n              width: 'auto',\n            })}\n          >\n            Ship it{' '}\n            <Text as=\"span\" paddingLeft={1} role=\"img\" aria-label=\"rocket\">\n              \n            </Text>\n          </Button>\n        </Stack>\n      </form>\n    </Alert>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { Alert } from '../Common/Alert';\n\nexport const DeleteProfileSandboxModal: FunctionComponent = () => {\n  const {\n    actions: {\n      modalClosed,\n      profile: { sandboxDeleted },\n    },\n  } = useOvermind();\n\n  return (\n    <Alert\n      title=\"Delete Sandbox\"\n      description=\"Are you sure you want to delete this sandbox?\"\n      onCancel={modalClosed}\n      onPrimaryAction={sandboxDeleted}\n      confirmMessage=\"Delete\"\n      type=\"danger\"\n    />\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { Alert } from '../Common/Alert';\n\nimport { permanentlyDeleteSandboxes } from '../../../Dashboard/queries';\n\nexport const EmptyTrash: FunctionComponent = () => {\n  const {\n    actions: { modalClosed },\n    state: {\n      dashboard: { trashSandboxIds },\n    },\n  } = useOvermind();\n\n  return (\n    <Alert\n      title=\" Empty Trash\"\n      description=\"Are you sure you want to permanently delete all the sandboxes in the trash?\"\n      onCancel={modalClosed}\n      onPrimaryAction={async () => {\n        await permanentlyDeleteSandboxes(trashSandboxIds);\n\n        modalClosed();\n      }}\n      confirmMessage=\"Delete\"\n      type=\"danger\"\n    />\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { getSandboxName } from '@codesandbox/common/lib/utils/get-sandbox-name';\nimport { useOvermind } from 'app/overmind';\nimport {\n  Stack,\n  Text,\n  List,\n  ListAction,\n  Element,\n} from '@codesandbox/components';\nimport { format } from 'date-fns';\nimport { zonedTimeToUtc } from 'date-fns-tz';\nimport { Alert } from '../Common/Alert';\n\nexport const SelectSandboxModal: FunctionComponent = () => {\n  const {\n    actions: {\n      profile: { newSandboxShowcaseSelected },\n    },\n    state: { profile },\n  } = useOvermind();\n\n  if (!profile) {\n    return null;\n  }\n  const { isLoadingSandboxes, userSandboxes, showcasedSandbox } = profile;\n\n  if (isLoadingSandboxes) {\n    return (\n      <Stack align=\"center\" justify=\"center\">\n        <Text>Loading sandboxes...</Text>\n      </Stack>\n    );\n  }\n\n  return (\n    <Alert title=\"Select a Sandbox\">\n      <List>\n        {userSandboxes.filter(Boolean).map(sandbox => (\n          <ListAction\n            justify=\"space-between\"\n            disabled={sandbox.id === showcasedSandbox.id}\n            key={sandbox.id}\n            onClick={() => newSandboxShowcaseSelected(sandbox.id)}\n          >\n            <Element>\n              {getSandboxName(sandbox)}\n              {sandbox.id === showcasedSandbox.id && ' (Selected)'}\n            </Element>\n\n            <Element>\n              {format(\n                zonedTimeToUtc(sandbox.insertedAt, 'Etc/UTC'),\n                'MMM dd, yyyy'\n              )}\n            </Element>\n          </ListAction>\n        ))}\n      </List>\n    </Alert>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { useOvermind } from 'app/overmind';\nimport SearchDependencies from 'app/pages/Sandbox/SearchDependencies';\n\nexport const SearchDependenciesModal: FunctionComponent = () => {\n  const {\n    actions: {\n      editor: { addNpmDependency },\n    },\n  } = useOvermind();\n\n  return (\n    <SearchDependencies\n      onConfirm={(name, version) => addNpmDependency({ name, version })}\n    />\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { Button, Link, Stack } from '@codesandbox/components';\nimport { useOvermind } from 'app/overmind';\nimport css from '@styled-system/css';\nimport { Alert } from '../Common/Alert';\n\nexport const LiveSessionEnded: FunctionComponent = () => {\n  const {\n    actions: {\n      editor: { forkSandboxClicked },\n      modalClosed,\n    },\n    state: {\n      currentModalMessage,\n      editor: { currentSandbox },\n    },\n  } = useOvermind();\n  if (!currentSandbox) {\n    return null;\n  }\n  const { owned } = currentSandbox;\n\n  const suggestion = owned\n    ? 'you can continue working on the current sandbox.'\n    : 'you can continue working by forking the sandbox or by creating a new sandbox.';\n\n  return (\n    <Alert\n      title=\"  The live session has ended\"\n      description={`${currentModalMessage ||\n        'The session has ended due to inactivity'}, ${suggestion}`}\n    >\n      <Stack gap={2} align=\"center\" justify=\"flex-end\">\n        {owned ? (\n          <Button\n            css={css({\n              width: 'auto',\n            })}\n            variant=\"link\"\n            onClick={modalClosed}\n          >\n            Close Modal\n          </Button>\n        ) : (\n          <Button\n            css={css({\n              width: 'auto',\n            })}\n            onClick={() => {\n              forkSandboxClicked();\n              modalClosed();\n            }}\n            variant=\"link\"\n          >\n            Fork Sandbox\n          </Button>\n        )}\n        <Link\n          href=\"/s\"\n          css={css({\n            width: 'auto',\n            textDecoration: 'none',\n          })}\n          onClick={modalClosed}\n        >\n          Create Sandbox\n        </Link>\n      </Stack>\n    </Alert>\n  );\n};\n","import filesize from 'filesize';\nimport React, { FunctionComponent } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { Text } from '@codesandbox/components';\n\nimport { LoadingAnimationContainer } from './elements';\nimport { FilesList } from './FilesList';\nimport { Alert } from '../Common/Alert';\n\nexport const StorageManagementModal: FunctionComponent = () => {\n  const {\n    state: { maxStorage, uploadedFiles, usedStorage },\n  } = useOvermind();\n  const isLoading = uploadedFiles === null;\n  const isEmpty = !isLoading && uploadedFiles.length === 0;\n\n  return (\n    <Alert\n      title=\"Storage Management\"\n      description=\"This is where you can manage your uploaded files.\"\n    >\n      <Text variant=\"muted\" align=\"center\" size={3}>\n        {`Used ${filesize(usedStorage)} / Total ${filesize(maxStorage)}`}\n      </Text>\n      {!isEmpty && !isLoading && <FilesList />}\n      {isEmpty && (\n        <Text align=\"center\" weight=\"bold\" block marginTop={6} marginBottom={6}>\n          You have no uploaded files.\n        </Text>\n      )}\n      {isLoading && <LoadingAnimationContainer />}\n    </Alert>\n  );\n};\n","import getTemplateDefinition from '@codesandbox/common/lib/templates';\nimport React, { FunctionComponent, useEffect } from 'react';\n\nimport { useOvermind } from 'app/overmind';\nimport { Alert } from '../Common/Alert';\n\nexport const ForkServerModal: FunctionComponent = () => {\n  const {\n    actions: {\n      editor: { forkSandboxClicked },\n      modalClosed,\n      signInClicked,\n    },\n    state: {\n      editor: {\n        currentSandbox: { template },\n      },\n      isLoggedIn,\n    },\n  } = useOvermind();\n\n  useEffect(() => {\n    // Which means that the user signed in in the meantime with the intention to fork\n    if (isLoggedIn) {\n      forkSandboxClicked();\n\n      modalClosed();\n    }\n  }, [forkSandboxClicked, isLoggedIn, modalClosed]);\n\n  const { niceName } = getTemplateDefinition(template);\n\n  return (\n    <Alert\n      title={`Fork ${niceName} Sandbox`}\n      description={`We execute ${niceName} sandboxes in a server container. This is still in beta, so we require you to sign in before you can fork a ${niceName}${' '} sandbox.`}\n      onPrimaryAction={() => signInClicked()}\n      confirmMessage=\"Sign in with GitHub\"\n    />\n  );\n};\n","import hash from '@codesandbox/common/lib/utils/hash';\nimport * as typeformEmbed from '@typeform/embed';\nimport React, { FunctionComponent } from 'react';\n\nimport { useOvermind } from 'app/overmind';\n\nimport { Alert } from '../Common/Alert';\n\nexport const SurveyModal: FunctionComponent = () => {\n  const {\n    actions: { modalClosed },\n    state: { isPatron, user },\n  } = useOvermind();\n\n  const initializeTypeform = (el?: HTMLDivElement) => {\n    if (el) {\n      typeformEmbed.makeWidget(\n        el,\n        `https://codesandbox.typeform.com/to/LYbjII?userid=${hash(\n          user.id\n        )}&ispatron=${isPatron}`,\n        {\n          opacity: 0,\n          hideScrollbars: true,\n          hideFooter: true,\n          hideHeaders: true,\n          onSubmit: () => {\n            setTimeout(() => {\n              modalClosed();\n            }, 3000);\n          },\n        }\n      );\n    }\n  };\n\n  return (\n    <Alert style={{ padding: 0 }}>\n      <div style={{ width: '100%', height: 500 }} ref={initializeTypeform} />\n    </Alert>\n  );\n};\n","import styled, { css } from 'styled-components';\nimport Logo from '@codesandbox/common/lib/components/Logo';\nimport RowBase from '@codesandbox/common/lib/components/flex/Row';\n\nexport const LogoWithBorder = styled(Logo)`\n  padding-right: 1rem;\n  color: white;\n`;\n\nexport const Border = styled.hr`\n  display: inline-block;\n  height: 22px;\n  width: 1px;\n  border: none;\n  border-right: 1px solid rgba(255, 255, 255, 0.4);\n`;\n\nexport const Title = styled.h1`\n  margin-left: 1rem;\n  font-size: 1.125rem;\n  color: white;\n  font-weight: 300;\n`;\n\nexport const Actions = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 0 1rem;\n`;\n\nexport const Action = styled.div<{ noHover?: boolean }>`\n  ${({ noHover }) => css`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: 0.3s ease all;\n    margin: 0 1rem;\n    cursor: pointer;\n    color: white;\n    opacity: 0.8;\n    background: transparent;\n    border: none;\n    padding: 0;\n\n    ${noHover\n      ? css`\n          color: rgba(255, 255, 255, 0.8);\n          opacity: 1;\n        `\n      : css`\n          &:hover {\n            opacity: 1;\n          }\n        `};\n  `};\n`;\n\nexport const UnreadIcon = styled.div`\n  ${({ theme }) => css`\n    position: absolute;\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background-color: ${theme.secondary};\n\n    top: 4px;\n    right: 0;\n  `};\n`;\n\nexport const Row = styled(RowBase)<{ float?: boolean }>`\n  ${({ float }) =>\n    float &&\n    css`\n      position: absolute;\n      left: 0;\n      top: 0;\n      right: 0;\n      padding: 1rem;\n    `};\n`;\n\nexport const TitleWrapper = styled(RowBase)`\n  position: relative;\n  z-index: 10;\n`;\n\nexport const Wrapper = styled(RowBase)`\n  position: relative;\n  z-index: 10;\n  @media (max-width: 768px) {\n    display: none;\n  }\n`;\n","import Tooltip from '@codesandbox/common/lib/components/Tooltip';\nimport { exploreUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport React, { FunctionComponent } from 'react';\nimport FlameIcon from 'react-icons/lib/go/flame';\n\nimport { Action } from '../elements';\n\nexport const ExploreAction: FunctionComponent = () => (\n  <Action>\n    <Tooltip content=\"Explore Sandboxes\" placement=\"bottom\">\n      <a style={{ color: 'white' }} href={exploreUrl()}>\n        <FlameIcon height={35} />\n      </a>\n    </Tooltip>\n  </Action>\n);\n","import Tooltip from '@codesandbox/common/lib/components/Tooltip';\nimport React, { FunctionComponent } from 'react';\nimport PlusIcon from 'react-icons/lib/go/plus';\n\nimport { useOvermind } from 'app/overmind';\n\nimport { Action } from '../elements';\n\nexport const NewSandboxAction: FunctionComponent = () => {\n  const {\n    actions: { modalOpened },\n  } = useOvermind();\n\n  return (\n    <Action\n      aria-label=\"New Sandbox\"\n      as=\"button\"\n      onClick={() => modalOpened({ modal: 'newSandbox' })}\n      style={{ fontSize: '1.125rem' }}\n    >\n      <Tooltip content=\"New Sandbox\" placement=\"bottom\">\n        <PlusIcon height={35} />\n      </Tooltip>\n    </Action>\n  );\n};\n","import styled, { css } from 'styled-components';\nimport BaseSearchIcon from 'react-icons/lib/go/search';\nimport Relative from '@codesandbox/common/lib/components/Relative';\n\nexport const Container = styled(Relative)`\n  display: flex;\n  align-items: center;\n  font-weight: 500;\n`;\n\nexport const Input = styled.input.attrs({\n  type: 'text',\n})`\n  ${({ theme }) => css`\n    z-index: 20;\n    width: 10em;\n    padding: 0.35em 0.5em;\n    padding-right: 1.75em;\n    border: 1px solid transparent;\n    border-radius: 4px;\n    background-color: ${theme[`input.background`] ||\n      css`rgba(255, 255, 255, 0.1)`};\n    color: ${theme[`input.foreground`] || css`white`};\n    font-weight: 500;\n    transition: 0.4s ease all;\n    outline: none;\n\n    &::-webkit-input-placeholder {\n      font-weight: 500;\n    }\n\n    &:focus {\n      width: 14em;\n    }\n  `}\n`;\n\nexport const SearchButton = styled.button.attrs({\n  type: 'submit',\n})`\n  position: absolute;\n  z-index: 20;\n  right: 0;\n  top: 50%;\n  padding: 0.35em 0.5em;\n  border: none;\n  background: transparent;\n  outline: none;\n  transform: translate(0, -50%);\n  cursor: pointer;\n`;\n\nexport const SearchIcon = styled(BaseSearchIcon)`\n  ${({ theme }) => css`\n    color: ${theme.light\n      ? css`rgba(0, 0, 0, 0.7)`\n      : css`rgba(255, 255, 255, 0.7)`};\n    font-size: 0.875em;\n  `}\n`;\n","import React, { useState } from 'react';\nimport history from 'app/utils/history';\nimport { searchUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { Container, Input, SearchButton, SearchIcon } from './elements';\n\nexport const HeaderSearchBar = () => {\n  const [query, setQuery] = useState(``);\n\n  const handleFormSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    history.push(searchUrl(query));\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setQuery(e.target.value);\n  };\n\n  return (\n    <form onSubmit={handleFormSubmit}>\n      <Container role=\"search\">\n        <Input\n          aria-label=\"Search sandboxes\"\n          placeholder=\"Search sandboxes\"\n          value={query}\n          onChange={handleChange}\n          id=\"search-sandboxes\"\n          type=\"text\"\n        />\n        <SearchButton type=\"submit\" aria-labelledby=\"search-sandboxes\">\n          <SearchIcon />\n        </SearchButton>\n      </Container>\n    </form>\n  );\n};\n","import Tooltip from '@codesandbox/common/lib/components/Tooltip';\nimport { searchUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport React, { FunctionComponent } from 'react';\nimport SearchIcon from 'react-icons/lib/go/search';\nimport Media from 'react-media';\nimport { Link } from 'react-router-dom';\n\nimport { HeaderSearchBar } from 'app/components/HeaderSearchBar';\n\nimport { Action } from '../elements';\n\ntype Props = {\n  searchNoInput?: boolean;\n};\nexport const SearchAction: FunctionComponent<Props> = ({ searchNoInput }) => (\n  <Action>\n    <Media query=\"(max-width: 920px)\">\n      {matches =>\n        matches || searchNoInput ? (\n          <Tooltip content=\"Search All Sandboxes\" placement=\"bottom\">\n            <Link\n              aria-label=\"Search All Sandboxes\"\n              style={{ color: 'white' }}\n              to={searchUrl()}\n            >\n              <SearchIcon height={35} />\n            </Link>\n          </Tooltip>\n        ) : (\n          <HeaderSearchBar />\n        )\n      }\n    </Media>\n  </Action>\n);\n","import Tooltip from '@codesandbox/common/lib/components/Tooltip';\nimport React, { FunctionComponent } from 'react';\nimport BellIcon from 'react-icons/lib/md/notifications';\n\nimport { useOvermind } from 'app/overmind';\n\nimport { Action, UnreadIcon } from '../elements';\n\ntype Props = {\n  openNotifications: (\n    event: React.MouseEvent<HTMLDivElement | HTMLButtonElement>\n  ) => void;\n};\nexport const ShowNotificationsAction: FunctionComponent<Props> = ({\n  openNotifications,\n}) => {\n  const {\n    state: {\n      userNotifications: { unreadCount },\n    },\n  } = useOvermind();\n\n  return (\n    <Action\n      aria-label={unreadCount > 0 ? 'Show Notifications' : 'No Notifications'}\n      as=\"button\"\n      onClick={openNotifications}\n      style={{ fontSize: '1.25rem', position: 'relative' }}\n    >\n      <Tooltip\n        content={unreadCount > 0 ? 'Show Notifications' : 'No Notifications'}\n        placement=\"bottom\"\n      >\n        <BellIcon height={35} />\n\n        {unreadCount > 0 && <UnreadIcon />}\n      </Tooltip>\n    </Action>\n  );\n};\n","import styled, { css } from 'styled-components';\nimport delayEffect from '@codesandbox/common/lib/utils/animation/delay-effect';\n\nexport const Container = styled.div`\n  overflow: hidden;\n  box-sizing: border-box;\n  text-align: left;\n  line-height: 1.6;\n  z-index: 10;\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 0.875rem;\n  font-weight: 600;\n\n  border-radius: 2px;\n  box-shadow: 0 3px 3px rgba(0, 0, 0, 0.3);\n\n  background-color: ${props => props.theme.background};\n`;\n\nexport const NotificationsContainer = styled.div`\n  color: rgba(255, 255, 255, 0.6);\n  max-height: 500px;\n  overflow-y: auto;\n`;\n\nexport const NoNotifications = styled.div`\n  padding: 0.75rem 1rem;\n`;\n\nexport const Loading = styled.div`\n  ${delayEffect(1)};\n\n  padding: 0.75rem 1rem;\n`;\n\nexport const Title = styled.div`\n  color: white;\n  padding: 0.75rem 1rem;\n\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\n`;\n\nexport const NotificationContainer = styled.div<{\n  read?: boolean;\n  success?: boolean;\n}>`\n  transition: 0.3s ease all;\n  padding: 0.75rem 1rem;\n\n  border-left: 2px solid transparent;\n\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n\n  ${props =>\n    props.read\n      ? css`\n          border-left-color: transparent;\n\n          &:hover {\n            background-color: ${props.theme.background2};\n          }\n        `\n      : css`\n          border-left-color: ${props.theme.secondary.clearer(0.3)()};\n\n          &:hover {\n            border-left-color: ${props.theme.secondary()};\n            background-color: ${props.theme.background2};\n          }\n        `};\n\n  ${props =>\n    props.success &&\n    css`\n      border-left-color: ${props.theme.green.clearer(0.2)()};\n\n      &:hover {\n        border-left-color: ${props.theme.green()};\n      }\n    `};\n`;\n\nexport const NotificationImage = styled.img`\n  border-radius: 4px;\n  width: 24px;\n  height: 24px;\n  min-width: 24px;\n  min-height: 24px;\n  margin-right: 1rem;\n  margin-top: 0.25rem;\n`;\n","import styled, { css } from 'styled-components';\nimport { NotificationContainer } from '../elements';\n\nexport const Container = styled(NotificationContainer)`\n  display: flex;\n  text-decoration: none;\n  color: rgba(255, 255, 255, 0.6);\n`;\n\nexport const Buttons = styled.div`\n  display: flex;\n`;\n\nexport const Button = styled.div<{ decline?: boolean; disabled?: boolean }>`\n  transition: 0.3s ease background-color;\n  height: 36px;\n  width: 100%;\n\n  color: white;\n  background-color: ${props =>\n    props.decline ? props.theme.red : props.theme.secondary};\n\n  border: 2px solid\n    ${props =>\n      props.decline\n        ? props.theme.red.lighten(0.1)\n        : props.theme.secondary.lighten(0.2)};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n\n  ${props =>\n    props.disabled &&\n    css`\n      pointer-events: none;\n      opacity: 0.5;\n    `};\n  &:hover {\n    background-color: ${props =>\n      props.decline\n        ? props.theme.red.lighten(0.1)\n        : props.theme.secondary.lighten(0.2)};\n  }\n`;\n\nexport const W = styled.span`\n  color: rgba(255, 255, 255, 0.95);\n`;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { sandboxUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { Authorization } from 'app/graphql/types';\nimport { NotificationImage as Image } from '../elements';\nimport { Container, W } from './elements';\n\ninterface ISandboxInvitationProps {\n  read: boolean;\n  inviterAvatar: string;\n  inviterName: string;\n  sandboxId: string;\n  sandboxAlias: string | null;\n  sandboxTitle: string | null;\n  authorization: Authorization;\n}\n\nexport const SandboxInvitation = ({\n  read,\n  inviterAvatar,\n  inviterName,\n  sandboxId,\n  sandboxAlias,\n  sandboxTitle,\n  authorization,\n}: ISandboxInvitationProps) => {\n  const niceSandboxTitle = sandboxTitle || sandboxAlias || sandboxId;\n  let nicePermissionName = 'view';\n  if (authorization === Authorization.Comment) {\n    nicePermissionName = 'comment on';\n  } else if (authorization === Authorization.WriteCode) {\n    nicePermissionName = 'edit';\n  }\n\n  return (\n    <div>\n      <Container\n        as={Link}\n        to={sandboxUrl({ id: sandboxId, alias: sandboxAlias })}\n        read={read}\n      >\n        <Image src={inviterAvatar} />\n        <div>\n          <W>{inviterName}</W> invited you to {nicePermissionName}{' '}\n          <W>{niceSandboxTitle}</W>\n        </div>\n      </Container>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { NotificationImage as Image } from '../elements';\nimport { Container, W } from './elements';\n\ninterface Props {\n  read: boolean;\n  teamName: string;\n  userName: string;\n  userAvatar: string;\n}\n\nexport const TeamAccepted = ({\n  read,\n  teamName,\n  userName,\n  userAvatar,\n}: Props) => (\n  <div>\n    <Container success read={read}>\n      <Image src={userAvatar} />\n      <div>\n        <W>{userName}</W> accepted your invitation to join <W>{teamName}!</W>\n      </div>\n    </Container>\n  </div>\n);\n","import { teamOverviewUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport React, { FunctionComponent } from 'react';\nimport { Mutation } from 'react-apollo';\n\nimport { useOvermind } from 'app/overmind';\nimport {\n  REJECT_TEAM_INVITATION,\n  ACCEPT_TEAM_INVITATION,\n} from 'app/pages/Dashboard/queries';\nimport history from 'app/utils/history';\n\nimport { NotificationImage as Image } from '../elements';\n\nimport { Container, Buttons, Button, W } from './elements';\n\ntype Props = {\n  read: boolean;\n  teamId: string;\n  teamName: string;\n  inviterName: string;\n  inviterAvatar: string;\n};\nexport const TeamInvite: FunctionComponent<Props> = ({\n  read,\n  teamId,\n  teamName,\n  inviterName,\n  inviterAvatar,\n}) => {\n  const {\n    actions: { acceptTeamInvitation, rejectTeamInvitation },\n  } = useOvermind();\n\n  return (\n    <div>\n      <Container read={read}>\n        <Image src={inviterAvatar} />\n\n        <div>\n          <W>{inviterName}</W> invites you to join team <W>{teamName}</W>\n        </div>\n      </Container>\n\n      {!read && (\n        <Buttons>\n          <Mutation\n            variables={{ teamId }}\n            mutation={REJECT_TEAM_INVITATION}\n            refetchQueries={['RecentNotifications']}\n            onCompleted={() => rejectTeamInvitation({ teamName })}\n          >\n            {(mutate, { loading }) => (\n              <Button onClick={() => mutate()} disabled={loading} decline>\n                Decline\n              </Button>\n            )}\n          </Mutation>\n\n          <Mutation\n            variables={{ teamId }}\n            mutation={ACCEPT_TEAM_INVITATION}\n            refetchQueries={['RecentNotifications', 'TeamsSidebar']}\n            onCompleted={() => {\n              acceptTeamInvitation({ teamName, teamId });\n\n              history.push(teamOverviewUrl(teamId));\n            }}\n          >\n            {(mutate, { loading }) => (\n              <Button onClick={() => mutate()} disabled={loading}>\n                Accept\n              </Button>\n            )}\n          </Mutation>\n        </Buttons>\n      )}\n    </div>\n  );\n};\n","import gql from 'graphql-tag';\nimport React from 'react';\nimport { Query } from 'react-apollo';\n\nimport {\n  Container,\n  Loading,\n  NoNotifications,\n  NotificationsContainer,\n  Title,\n} from './elements';\nimport { SandboxInvitation } from './notifications/SandboxInvitation';\nimport { TeamAccepted } from './notifications/TeamAccepted';\nimport { TeamInvite } from './notifications/TeamInvite';\n\nexport const VIEW_QUERY = gql`\n  query RecentNotifications {\n    me {\n      notifications(\n        limit: 20\n        orderBy: { field: \"insertedAt\", direction: ASC }\n      ) {\n        id\n        type\n        data\n        read\n      }\n    }\n  }\n`;\n\nconst getNotificationComponent = (type, data, read) => {\n  const parsedData = JSON.parse(data);\n\n  if (type === 'team_invite') {\n    return (\n      <TeamInvite\n        read={read}\n        teamId={parsedData.team_id}\n        teamName={parsedData.team_name}\n        inviterName={parsedData.inviter_name}\n        inviterAvatar={parsedData.inviter_avatar}\n      />\n    );\n  }\n  if (type === 'team_accepted') {\n    return (\n      <TeamAccepted\n        read={read}\n        teamName={parsedData.team_name}\n        userAvatar={parsedData.user_avatar}\n        userName={parsedData.user_name}\n      />\n    );\n  }\n  if (type === 'sandbox_invitation') {\n    return (\n      <SandboxInvitation\n        read={read}\n        inviterAvatar={parsedData.inviter_avatar}\n        inviterName={parsedData.inviter_name}\n        sandboxId={parsedData.sandbox_id}\n        sandboxAlias={parsedData.sandbox_alias}\n        sandboxTitle={parsedData.sandbox_title}\n        authorization={parsedData.authorization.toUpperCase()}\n      />\n    );\n  }\n\n  return <div />;\n};\n\nexport const Notifications = props => (\n  <Container {...props}>\n    <Title>Notifications</Title>\n    <NotificationsContainer>\n      <Query fetchPolicy=\"cache-and-network\" query={VIEW_QUERY}>\n        {({ loading, error, data }: any) => {\n          if (error) {\n            return (\n              <NoNotifications>\n                Something went wrong while fetching notifications\n              </NoNotifications>\n            );\n          }\n\n          if (loading) {\n            return <Loading>Loading Notifications...</Loading>;\n          }\n\n          if (data.me.notifications.length === 0) {\n            return (\n              <NoNotifications>\n                You don{\"'\"}t have any notifications\n              </NoNotifications>\n            );\n          }\n\n          return (\n            <div>\n              {data.me.notifications.map(notification => (\n                <div key={notification.id}>\n                  {getNotificationComponent(\n                    notification.type,\n                    notification.data,\n                    notification.read\n                  )}\n                </div>\n              ))}\n            </div>\n          );\n        }}\n      </Query>\n    </NotificationsContainer>\n  </Container>\n);\n","import { Overlay } from 'app/components/Overlay';\nimport { useOvermind } from 'app/overmind';\nimport React, { FunctionComponent } from 'react';\n\nimport { SignInButton } from 'app/pages/common/SignInButton';\nimport { UserMenu } from 'app/pages/common/UserMenu';\nimport {\n  ExploreAction,\n  NewSandboxAction,\n  SearchAction,\n  ShowNotificationsAction,\n} from './Actions';\nimport {\n  Actions,\n  Border,\n  LogoWithBorder,\n  Row,\n  Title,\n  TitleWrapper,\n  Wrapper,\n} from './elements';\nimport { Notifications } from './Notifications';\n\ntype Props = {\n  float?: boolean;\n  searchNoInput?: boolean;\n  title: string;\n};\nexport const Navigation: FunctionComponent<Props> = ({\n  float = false,\n  searchNoInput,\n  title,\n}) => {\n  const {\n    actions: {\n      userNotifications: { notificationsClosed, notificationsOpened },\n    },\n    state: {\n      isLoggedIn,\n      isAuthenticating,\n      user,\n      userNotifications: { notificationsOpened: notificationsMenuOpened },\n    },\n  } = useOvermind();\n\n  return (\n    <Row justifyContent=\"space-between\" float={float}>\n      <TitleWrapper>\n        <a href=\"/?from-app=1\">\n          <LogoWithBorder height={35} width={35} />\n        </a>\n\n        <Border role=\"presentation\" />\n\n        <Title>{title}</Title>\n      </TitleWrapper>\n\n      {isAuthenticating ? null : (\n        <Wrapper>\n          <Actions>\n            <SearchAction searchNoInput={searchNoInput} />\n\n            <ExploreAction />\n\n            {user && (\n              <Overlay\n                content={Notifications}\n                event=\"Notifications\"\n                isOpen={notificationsMenuOpened}\n                noHeightAnimation\n                onClose={notificationsClosed}\n                onOpen={notificationsOpened}\n              >\n                {open => <ShowNotificationsAction openNotifications={open} />}\n              </Overlay>\n            )}\n\n            <NewSandboxAction />\n          </Actions>\n\n          {isLoggedIn ? <UserMenu /> : <SignInButton />}\n        </Wrapper>\n      )}\n    </Row>\n  );\n};\n","import styled, { css } from 'styled-components';\n\nexport const ButtonsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: calc(100% - 1.75rem);\n  box-sizing: border-box;\n`;\n\nexport const Container = styled.div<{ hide?: boolean; color?: any }>`\n  ${({ color, hide, theme }) => css`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: calc(100% - 2rem);\n    height: 100%;\n    border: 2px dashed ${(color || theme.secondary).clearer(0.2)};\n    border-radius: 4px;\n    background-color: ${(color || theme.secondary).clearer(0.9)};\n    color: rgba(255, 255, 255, 1);\n    font-size: 1.125rem;\n    font-weight: 600;\n    text-decoration: none;\n    box-sizing: border-box;\n    overflow: hidden;\n    outline: none;\n    cursor: pointer;\n    user-select: none;\n    transition: 0.3s ease background-color;\n\n    ${hide &&\n      css`\n        opacity: 0;\n      `};\n\n    &:first-child {\n      border-bottom: 0;\n    }\n\n    &:last-child {\n      border-bottom: 2px dashed ${(color || theme.secondary).clearer(0.2)};\n    }\n\n    &:hover,\n    &:focus {\n      background-color: ${(color || theme.secondary).clearer(0.8)};\n    }\n  `}\n`;\n","import { Link } from 'react-router-dom';\n\nimport { Container } from '../elements';\n\nexport const ContainerLink = Container.withComponent(Link);\n","import { Template } from '@codesandbox/common/lib/types';\nimport { sandboxUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport React, { FunctionComponent } from 'react';\n\nimport { Container } from '../elements';\n\nimport { ContainerLink } from './elements';\n\ntype Props = {\n  collectionId?: string;\n  createSandbox: (template: Pick<Template, 'shortid'>) => void;\n  template: Template | null;\n};\nexport const MostUsedSandbox: FunctionComponent<Props> = ({\n  collectionId,\n  createSandbox,\n  template,\n}) => {\n  if (!template) {\n    return null;\n  }\n\n  const buttonName = `Create ${template.niceName} Sandbox`;\n  return collectionId ? (\n    <Container\n      color={template.color}\n      onClick={() => createSandbox(template)}\n      role=\"button\"\n      tabIndex={0}\n    >\n      {buttonName}\n    </Container>\n  ) : (\n    <ContainerLink\n      color={template.color}\n      to={sandboxUrl({ alias: null, id: template.shortid })}\n    >\n      {buttonName}\n    </ContainerLink>\n  );\n};\n","import Template from '@codesandbox/common/lib/templates/template';\nimport { ENTER } from '@codesandbox/common/lib/utils/keycodes';\nimport { sandboxUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport React, {\n  ComponentProps,\n  FunctionComponent,\n  HTMLAttributes,\n  KeyboardEvent,\n} from 'react';\n\nimport { useOvermind } from 'app/overmind';\nimport history from 'app/utils/history';\n\nimport { ButtonsContainer, Container } from './elements';\nimport { MostUsedSandbox } from './MostUsedSandbox';\n\ntype Props = {\n  collectionId?: string;\n  mostUsedSandboxTemplate: ComponentProps<typeof MostUsedSandbox>['template'];\n} & Pick<HTMLAttributes<HTMLDivElement>, 'style'>;\nexport const CreateNewSandboxButton: FunctionComponent<Props> = ({\n  collectionId,\n  mostUsedSandboxTemplate,\n  style,\n}) => {\n  const {\n    actions: {\n      dashboard: { createSandboxClicked },\n      modalOpened,\n    },\n  } = useOvermind();\n\n  const createSandbox = ({ shortid }: Pick<Template, 'shortid'>) => {\n    if (collectionId) {\n      createSandboxClicked({ body: { collectionId }, sandboxId: shortid });\n    } else {\n      setTimeout(() => {\n        history.push(sandboxUrl({ alias: null, id: shortid }));\n      }, 300);\n    }\n  };\n\n  const handleClick = () => {\n    modalOpened({ modal: 'newSandbox' });\n  };\n\n  return (\n    <div style={style}>\n      <ButtonsContainer>\n        <Container\n          onClick={handleClick}\n          tabIndex={0}\n          role=\"button\"\n          onKeyDown={({ keyCode }: KeyboardEvent) => {\n            if (keyCode === ENTER) {\n              handleClick();\n            }\n          }}\n        >\n          Create Sandbox\n        </Container>\n\n        <MostUsedSandbox\n          createSandbox={createSandbox}\n          template={mostUsedSandboxTemplate}\n        />\n      </ButtonsContainer>\n    </div>\n  );\n};\n","import { countBy } from 'lodash-es';\nimport getTemplate from '@codesandbox/common/lib/templates';\n\nexport default function getMostUsedTemplate(sandboxes) {\n  const countedByTemplates = countBy(sandboxes, s => s.source.template);\n  const mostUsedTemplateInfo = Object.keys(countedByTemplates).reduce(\n    (prev, template) => {\n      const count = countedByTemplates[template];\n      if (count > prev.count) {\n        return {\n          count,\n          template,\n        };\n      }\n\n      return prev;\n    },\n    { count: 0, template: '' }\n  );\n\n  if (mostUsedTemplateInfo.count > 0) {\n    return getTemplate(mostUsedTemplateInfo.template);\n  }\n\n  return null;\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  padding-left: 2rem;\n`;\n\nexport const HeaderContainer = styled.div`\n  position: relative;\n  display: flex;\n  font-size: 1.25rem;\n  color: white;\n\n  @media (max-width: 768px) {\n    margin-left: 1rem;\n  }\n`;\n\nexport const Description = styled.p`\n  font-size: 1rem;\n  width: 100%;\n  font-weight: 600;\n  color: ${props =>\n    props.theme.light ? 'rgba(0, 0, 0, 0.7)' : 'rgba(255, 255, 255, 0.7)'};\n\n  line-height: 1.6;\n\n  @media (max-width: 768px) {\n    margin-left: 1rem;\n  }\n`;\n\nexport const HeaderTitle = styled.div`\n  display: flex;\n  flex: 1;\n  width: 100%;\n  vertical-align: middle;\n  align-items: center;\n`;\n","import React, { useMemo } from 'react';\nimport { useOvermind } from 'app/overmind';\n\nimport { AnimatedSandboxItem } from './AnimatedSandboxItem';\n\ninterface ISelectedSandboxItemsProps {\n  x: number;\n  y: number;\n  isOverPossibleTargets: boolean;\n  id: string;\n}\n\nexport const SelectedSandboxItems: React.FC<ISelectedSandboxItemsProps> = ({\n  x,\n  y,\n  isOverPossibleTargets,\n  id,\n}) => {\n  const {\n    state: {\n      dashboard: { selectedSandboxes },\n    },\n  } = useOvermind();\n\n  const selectedIds = useMemo(\n    () => [id, ...selectedSandboxes.filter(b => b !== id)],\n    [id, selectedSandboxes]\n  );\n\n  const scale = isOverPossibleTargets ? 0.4 : 0.8;\n\n  return (\n    <>\n      {selectedIds.map((sid, i) => (\n        <AnimatedSandboxItem\n          key={sid}\n          id={sid}\n          i={i}\n          isLast={i === selectedIds.length - 1}\n          x={x}\n          y={y}\n          scale={scale}\n          selectedSandboxes={selectedIds}\n        />\n      ))}\n    </>\n  );\n};\n","import React from 'react';\n\nimport { DragLayer as DNDDragLayer } from 'react-dnd';\n\nimport { SelectedSandboxItems } from './SelectedSandboxItems';\n\nconst layerStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 100,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%',\n};\n\nfunction getItemCoords(props) {\n  const { currentOffset } = props;\n\n  const { x, y } = currentOffset;\n\n  return {\n    x,\n    y,\n  };\n}\n\nclass CustomDragLayer extends React.Component {\n  renderItem(type, item, isOverPossibleTargets, { x, y }) {\n    if (type !== 'SANDBOX') {\n      return null;\n    }\n    return (\n      <SelectedSandboxItems\n        isOverPossibleTargets={isOverPossibleTargets}\n        x={x}\n        y={y}\n        id={item.id}\n      />\n    );\n  }\n\n  render() {\n    const {\n      item,\n      itemType,\n      isOverPossibleTargets,\n      currentOffset,\n      isDragging,\n    } = this.props;\n\n    if (!isDragging || !currentOffset) {\n      return null;\n    }\n\n    return (\n      <div style={layerStyles}>\n        <div>\n          {this.renderItem(\n            itemType,\n            item,\n            isOverPossibleTargets,\n            getItemCoords(this.props)\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction collect(monitor) {\n  const isOverPossibleTargets = monitor.getTargetIds().length > 0;\n  return {\n    item: monitor.getItem(),\n    itemType: monitor.getItemType(),\n    currentOffset: monitor.getSourceClientOffset(),\n    isDragging: monitor.isDragging(),\n    isOverPossibleTargets,\n  };\n}\n\nexport const DragLayer = DNDDragLayer(collect)(CustomDragLayer);\n","import styled from 'styled-components';\nimport fadeIn from '@codesandbox/common/lib/utils/animation/fade-in';\nimport Tooltip from '@codesandbox/common/lib/components/Tooltip';\nimport { ContextMenu } from 'app/components/ContextMenu';\nimport { KebabIcon as MoreInfoIcon } from './KebabIcon';\n\nexport const PADDING = 32;\n\nexport const Container = styled.div`\n  ${fadeIn(0)};\n  background-color: ${props => props.theme.background};\n  overflow: hidden;\n  border-radius: 2px;\n  user-select: none;\n\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n`;\n\nexport const StyledContextMenu = styled(ContextMenu)<{\n  isDraggingItem: boolean;\n}>`\n  padding-right: ${PADDING}px;\n  box-sizing: border-box;\n  opacity: ${({ isDraggingItem }) => (isDraggingItem ? 0 : 1)};\n`;\n\nexport const SandboxImageContainer = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: stretch;\n  height: 160px;\n\n  background-color: rgba(255, 255, 255, 0.1);\n`;\n\nexport const SandboxImage = styled.div`\n  background-size: cover;\n  background-position: 50%;\n  background-repeat: no-repeat;\n  width: 100%;\n  z-index: 1;\n`;\n\nexport const SandboxInfo = styled.div`\n  position: relative;\n  display: flex;\n  padding: 0.6rem 0.75rem;\n  font-size: 0.875em;\n\n  align-items: center;\n`;\n\nexport const SandboxTitle = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const PrivacyIconContainer = styled(Tooltip)`\n  display: flex;\n  margin-left: 0.5rem;\n  color: rgba(255, 255, 255, 0.4);\n`;\n\nexport const SandboxDetails = styled.div`\n  font-size: 0.875em;\n  color: rgba(255, 255, 255, 0.5);\n  margin-top: 4px;\n`;\n\nexport const ImageMessage = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  font-weight: 600;\n  z-index: 0;\n\n  font-size: 1.125rem;\n  color: rgba(255, 255, 255, 0.6);\n`;\n\nexport const KebabIcon = styled(MoreInfoIcon)`\n  transition: 0.3s ease color;\n  font-size: 1.75rem;\n  height: 16px;\n  width: 20px;\n  color: rgba(255, 255, 255, 0.6);\n  cursor: pointer;\n\n  &:hover {\n    color: rgba(255, 255, 255, 0.8);\n  }\n`;\n","import React from 'react';\nimport IconBase from 'react-icons/lib/IconBase';\n\nexport const KebabIcon = ({ ...props }) => (\n  <IconBase {...props} width=\"40px\" height=\"184px\" viewBox=\"0 0 40 184\">\n    <g fill=\"currentFill\" stroke=\"none\" strokeWidth={1} fillRule=\"evenodd\">\n      <circle cx={20} cy={20} r={20} />\n      <circle cx={20} cy={92} r={20} />\n      <circle cx={20} cy={164} r={20} />\n    </g>\n  </IconBase>\n);\n","// @ts-check\n/* eslint-disable react/prefer-stateless-function */\nimport React from 'react';\nimport history from 'app/utils/history';\nimport { sandboxUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { DragSource } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { Mutation } from 'react-apollo';\nimport TrashIcon from 'react-icons/lib/md/delete';\n\nimport Unlisted from 'react-icons/lib/md/insert-link';\nimport Private from 'react-icons/lib/md/lock';\n\nimport Input from '@codesandbox/common/lib/components/Input';\nimport getTemplate, { TemplateType } from '@codesandbox/common/lib/templates';\nimport theme from '@codesandbox/common/lib/theme';\nimport track from '@codesandbox/common/lib/utils/analytics';\n\nimport { ESC, ENTER } from '@codesandbox/common/lib/utils/keycodes';\nimport { SandboxFragment } from 'app/graphql/types';\nimport { RENAME_SANDBOX_MUTATION } from '../../queries';\n\nimport {\n  Container,\n  SandboxImageContainer,\n  StyledContextMenu,\n  SandboxImage,\n  SandboxInfo,\n  SandboxDetails,\n  ImageMessage,\n  PrivacyIconContainer,\n  SandboxTitle,\n  KebabIcon,\n} from './elements';\n\ntype Props = {\n  id: string;\n  title: string;\n  details: string;\n  selected: boolean;\n  color?: string;\n  template: TemplateType;\n  customTemplate: { color: string } | null;\n  screenshotUrl: string | undefined;\n  screenshotOutdated: boolean;\n  setSandboxesSelected: (\n    ids: string[],\n    options?: { additive?: boolean; range?: boolean }\n  ) => void;\n  selectedCount: number;\n  collectionPath: string; // eslint-disable-line react/no-unused-prop-types\n  collectionTeamId: string | undefined;\n  sandbox: SandboxFragment;\n  page: string | undefined;\n  privacy: number;\n  isPatron: boolean;\n  isScrolling: () => boolean;\n  removedAt?: string;\n  style?: React.CSSProperties;\n  alias: string | undefined;\n\n  setSandboxesPrivacy: (privacy: 0 | 1 | 2) => void;\n  deleteSandboxes: () => void;\n  exportSandboxes: () => void;\n  permanentlyDeleteSandboxes: () => void;\n  undeleteSandboxes: () => void;\n  makeTemplates: (teamId?: string) => void;\n  forkSandbox: (id: string) => void;\n\n  // React-DnD, lazy typings\n  connectDragSource: any;\n  isDraggingItem: any;\n  connectDragPreview: any;\n};\n\ntype State = {\n  renamingSandbox: boolean;\n  screenshotUrl: string | undefined;\n};\n\nexport const DELETE_SANDBOX_DROP_KEY = 'delete';\nexport const MAKE_TEMPLATE_DROP_KEY = 'makeTemplate';\n\nconst copyToClipboard = (str: string) => {\n  const el = document.createElement('textarea');\n  el.value = str;\n  el.setAttribute('readonly', '');\n  el.style.position = 'absolute';\n  el.style.left = '-9999px';\n  document.body.appendChild(el);\n  el.select();\n  document.execCommand('copy');\n  document.body.removeChild(el);\n};\n\nclass SandboxItemComponent extends React.PureComponent<Props, State> {\n  el: HTMLDivElement;\n  screenshotTimeout: number;\n\n  state: State = {\n    renamingSandbox: false,\n    screenshotUrl: null,\n  };\n\n  requestScreenshot = async () => {\n    const url = `/api/v1/sandboxes/${this.props.id}/screenshot.png`;\n    try {\n      await fetch(url);\n    } finally {\n      this.setState({\n        screenshotUrl: url,\n      });\n    }\n  };\n\n  getPrivacyIcon = () => {\n    if (this.props.privacy === 1) {\n      return (\n        <PrivacyIconContainer content=\"Unlisted Sandbox\">\n          <Unlisted />\n        </PrivacyIconContainer>\n      );\n    }\n    if (this.props.privacy === 2) {\n      return (\n        <PrivacyIconContainer content=\"Private Sandbox\">\n          <Private />\n        </PrivacyIconContainer>\n      );\n    }\n\n    return null;\n  };\n\n  checkScreenshot() {\n    if (this.props.screenshotOutdated) {\n      if (this.hasScreenshot()) {\n        // We only request the screenshot if the sandbox card is in view for > 1 second\n        this.screenshotTimeout = window.setTimeout(() => {\n          this.requestScreenshot();\n        }, 1000);\n      }\n    } else {\n      this.setState({ screenshotUrl: this.props.screenshotUrl });\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.id !== this.props.id) {\n      window.requestAnimationFrame(() => {\n        this.checkScreenshot();\n      });\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.selected) {\n      if (\n        this.el &&\n        typeof this.el.focus === 'function' &&\n        !this.props.isScrolling()\n      ) {\n        this.el.focus();\n      }\n    }\n\n    const { connectDragPreview } = this.props;\n    if (connectDragPreview) {\n      // Use empty image as a drag preview so browsers don't draw it\n      // and we can draw whatever we want on the custom drag layer instead.\n      connectDragPreview(getEmptyImage(), {\n        // IE fallback: specify that we'd rather screenshot the node\n        // when it already knows it's being dragged so we can hide it with CSS.\n        captureDraggingState: true,\n      });\n    }\n\n    this.checkScreenshot();\n  }\n\n  componentWillUnmount() {\n    if (this.screenshotTimeout) {\n      clearTimeout(this.screenshotTimeout);\n    }\n  }\n\n  getContextItems = () => {\n    const { selectedCount } = this.props;\n    if (this.props.removedAt) {\n      return [\n        {\n          title:\n            selectedCount > 1\n              ? `Recover ${selectedCount} Sandboxes`\n              : 'Recover Sandbox',\n          action: () => {\n            this.props.undeleteSandboxes();\n            return true;\n          },\n        },\n        {\n          title:\n            selectedCount > 1\n              ? `Delete ${selectedCount} Sandboxes Permanently`\n              : 'Delete Permanently',\n          action: () => {\n            this.props.permanentlyDeleteSandboxes();\n            return true;\n          },\n          color: theme.red.darken(0.2)(),\n        },\n      ];\n    }\n\n    if (selectedCount > 1) {\n      const items = [];\n\n      if (this.props.isPatron) {\n        items.push([\n          {\n            title: `Make ${selectedCount} Sandboxes Public`,\n            action: () => {\n              this.props.setSandboxesPrivacy(0);\n              return true;\n            },\n          },\n          {\n            title: `Make ${selectedCount} Sandboxes Unlisted`,\n            action: () => {\n              this.props.setSandboxesPrivacy(1);\n              return true;\n            },\n          },\n          {\n            title: `Make ${selectedCount} Sandboxes Private`,\n            action: () => {\n              this.props.setSandboxesPrivacy(2);\n              return true;\n            },\n          },\n        ]);\n      }\n      return [\n        ...items,\n        [\n          {\n            title: `Export ${selectedCount} Sandboxes`,\n            action: () => {\n              this.props.exportSandboxes();\n              return true;\n            },\n          },\n        ],\n        [\n          selectedCount < 50 && {\n            title: `Make ${selectedCount} Sandboxes a Template`,\n            action: () => {\n              track('Template - Created', {\n                source: 'Context Menu',\n                count: selectedCount,\n              });\n              this.props.makeTemplates();\n              return true;\n            },\n          },\n          {\n            title: `Move ${selectedCount} Sandboxes To Trash`,\n            action: () => {\n              this.props.deleteSandboxes();\n              return true;\n            },\n            color: theme.red.darken(0.2)(),\n          },\n        ],\n      ].filter(Boolean);\n    }\n\n    return [\n      (this.props.page === 'recent' || this.props.page === 'search') && [\n        {\n          title: 'Show In Folder',\n          action: () => {\n            if (this.props.collectionTeamId) {\n              history.push(\n                `/dashboard/teams/${this.props.collectionTeamId}/sandboxes${this.props.collectionPath}`\n              );\n            } else {\n              history.push(`/dashboard/sandboxes${this.props.collectionPath}`);\n            }\n          },\n        },\n      ],\n      [\n        {\n          title: 'Open Sandbox',\n          action: this.openSandbox,\n        },\n        {\n          title: 'Open Sandbox in new tab',\n          action: () => {\n            this.openSandbox(true);\n            return true;\n          },\n        },\n        {\n          title: 'Copy Sandbox Link',\n          action: () => {\n            this.copySandboxURL();\n            return true;\n          },\n        },\n        {\n          title: 'Fork Sandbox',\n          action: () => {\n            this.props.forkSandbox(this.props.id);\n            return true;\n          },\n        },\n        {\n          title: 'Export Sandbox',\n          action: () => {\n            this.props.exportSandboxes();\n            return true;\n          },\n        },\n      ],\n      this.props.isPatron &&\n        [\n          this.props.privacy !== 0 && {\n            title: 'Make Sandbox Public',\n            action: () => {\n              this.props.setSandboxesPrivacy(0);\n              return true;\n            },\n          },\n          this.props.privacy !== 1 && {\n            title: 'Make Sandbox Unlisted',\n            action: () => {\n              this.props.setSandboxesPrivacy(1);\n              return true;\n            },\n          },\n          this.props.privacy !== 2 && {\n            title: 'Make Sandbox Private',\n            action: () => {\n              this.props.setSandboxesPrivacy(2);\n              return true;\n            },\n          },\n        ].filter(Boolean),\n      [\n        {\n          title: `Rename Sandbox`,\n          action: () => {\n            this.setState({ renamingSandbox: true });\n            return true;\n          },\n        },\n        {\n          title: `Make Sandbox a Template`,\n          action: () => {\n            track('Template - Created', {\n              source: 'Context Menu',\n              count: 1,\n            });\n            this.props.makeTemplates();\n            return true;\n          },\n        },\n        {\n          title: `Move to Trash`,\n          action: () => {\n            this.props.deleteSandboxes();\n            return true;\n          },\n          color: theme.red.darken(0.2)(),\n        },\n      ],\n    ].filter(Boolean);\n  };\n\n  selectSandbox = (e: React.MouseEvent | React.FocusEvent) => {\n    this.props.setSandboxesSelected([this.props.id], {\n      additive: 'metaKey' in e ? e.metaKey : false,\n      range: 'shiftKey' in e ? e.shiftKey : false,\n    });\n  };\n\n  openSandbox = (openNewWindow = false) => {\n    // @ts-ignore Git sandboxes aren't shown here anyway\n    const url = sandboxUrl({ id: this.props.id, alias: this.props.alias });\n\n    if (!this.props.removedAt) {\n      if (openNewWindow === true) {\n        track('Dashboard - Sandbox Opened in a new tab');\n        window.open(url, '_blank');\n      } else {\n        history.push(url);\n      }\n    }\n\n    return true;\n  };\n\n  copySandboxURL = () => {\n    const url = sandboxUrl({ id: this.props.id, alias: this.props.alias });\n    // TODO: Use effects.browse.copyToClipboard after refactoring to Function Component\n    copyToClipboard(`https://codesandbox.io${url}`);\n\n    return true;\n  };\n\n  handleMouseDown = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    e.stopPropagation();\n\n    if (!this.props.selected || e.metaKey) {\n      this.selectSandbox(e);\n    }\n  };\n\n  handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.keyCode === ENTER) {\n      track('Dashboard - Sandbox Opened With Enter');\n      // enter\n      this.openSandbox();\n    }\n  };\n\n  handleOnContextMenu = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    track('Dashboard - Sandbox Context Menu Opened');\n    if (!this.props.selected) {\n      this.selectSandbox(e);\n    }\n  };\n\n  handleOnFocus = (e: React.FocusEvent) => {\n    if (!this.props.selected) {\n      this.selectSandbox(e);\n    }\n  };\n\n  handleOnBlur = (e: React.FocusEvent) => {\n    if (this.props.selected && e.bubbles) {\n      this.props.setSandboxesSelected([]);\n    }\n  };\n\n  getImageMessage = () => {\n    if (this.props.removedAt) {\n      return (\n        <TrashIcon\n          style={{\n            fontSize: '3rem',\n          }}\n        />\n      );\n    }\n\n    if (this.props.privacy === 2) {\n      return (\n        <Private\n          style={{\n            fontSize: '3rem',\n          }}\n        />\n      );\n    }\n\n    const templateDefinition = getTemplate(this.props.template);\n\n    if (templateDefinition.isServer) {\n      return `Container Sandbox`;\n    }\n\n    if (process.env.STAGING) {\n      return `Staging Sandbox`;\n    }\n\n    return `Generating Screenshot...`;\n  };\n\n  hasScreenshot = () => {\n    const templateDefinition = getTemplate(this.props.template);\n\n    if (templateDefinition.isServer) {\n      return false;\n    }\n\n    return !this.props.removedAt && this.props.privacy !== 2;\n  };\n\n  render() {\n    const {\n      style,\n      id,\n      title,\n      details,\n      color,\n      template,\n      connectDragSource,\n      isDraggingItem,\n      selected,\n    } = this.props;\n\n    const templateInfo = getTemplate(template);\n\n    return (\n      <StyledContextMenu\n        style={style}\n        isDraggingItem={isDraggingItem}\n        id={id}\n        childFunction\n        className=\"sandbox-item\"\n        items={this.getContextItems()}\n      >\n        {onContextMenu =>\n          connectDragSource(\n            <div\n              style={{\n                padding: 2,\n                borderRadius: 2,\n                backgroundColor: selected ? theme.secondary() : 'transparent',\n              }}\n            >\n              <Container\n                style={{ outline: 'none' }}\n                onMouseDown={this.handleMouseDown}\n                onContextMenu={e => {\n                  onContextMenu(e);\n                  this.handleOnContextMenu(e);\n                }}\n                onDoubleClick={event => {\n                  // check for cmd click\n                  const cmd = event.ctrlKey || event.metaKey;\n\n                  this.openSandbox(Boolean(cmd));\n                }}\n                onBlur={this.handleOnBlur}\n                onFocus={this.handleOnFocus}\n                onKeyDown={this.handleKeyDown}\n                ref={el => {\n                  this.el = el;\n                }}\n                role=\"button\"\n                tabIndex={0}\n              >\n                <SandboxImageContainer>\n                  <ImageMessage>{this.getImageMessage()}</ImageMessage>\n\n                  {this.hasScreenshot() && (\n                    <SandboxImage\n                      style={{\n                        backgroundImage: `url(${this.state.screenshotUrl ||\n                          this.props.screenshotUrl})`,\n                      }}\n                    />\n                  )}\n                </SandboxImageContainer>\n                <SandboxInfo>\n                  <div\n                    style={{\n                      position: 'absolute',\n                      top: 0,\n                      bottom: 0,\n                      left: 0,\n                      width: 2,\n                      height: '100%',\n                      backgroundColor: color || templateInfo.color(),\n                    }}\n                  />\n                  <div style={{ flex: 1 }}>\n                    <div>\n                      {this.state.renamingSandbox ? (\n                        <Mutation mutation={RENAME_SANDBOX_MUTATION}>\n                          {mutate => {\n                            let input = null;\n\n                            const saveName = () => {\n                              this.setState({ renamingSandbox: false });\n\n                              if (input.value !== title) {\n                                mutate({\n                                  variables: {\n                                    title: input.value,\n                                    id: this.props.id,\n                                  },\n                                  optimisticResponse: {\n                                    __typename: 'Mutation',\n                                    renameSandbox: {\n                                      __typename: 'Sandbox',\n                                      ...this.props.sandbox,\n                                      title: input.value,\n                                    },\n                                  },\n                                });\n                              }\n                            };\n\n                            return (\n                              <Input\n                                ref={node => {\n                                  input = node;\n                                  if (node) {\n                                    node.select();\n                                  }\n                                }}\n                                onKeyDown={e => {\n                                  if (e.keyCode === ENTER) {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n\n                                    saveName();\n                                  } else if (e.keyCode === ESC) {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n\n                                    this.setState({ renamingSandbox: false });\n                                  }\n                                }}\n                                onBlur={saveName}\n                                block\n                                defaultValue={title}\n                              />\n                            );\n                          }}\n                        </Mutation>\n                      ) : (\n                        <SandboxTitle>\n                          {title} {this.getPrivacyIcon()}\n                        </SandboxTitle>\n                      )}\n                    </div>\n                    <SandboxDetails>{details}</SandboxDetails>\n                  </div>\n                  <KebabIcon onClick={onContextMenu} />\n                </SandboxInfo>\n              </Container>\n            </div>\n          )\n        }\n      </StyledContextMenu>\n    );\n  }\n}\n\n/**\n * Implements the drag source contract.\n */\nconst cardSource = {\n  beginDrag(props) {\n    track('Dashboard - Sandbox Dragged');\n    props.setDragging({ isDragging: true });\n\n    return {\n      left: props.style.left,\n      top: props.style.top,\n      id: props.id,\n      collectionPath: props.collectionPath,\n      collectionTeamId: props.collectionTeamId,\n      removedAt: props.removedAt,\n    };\n  },\n\n  endDrag(props, monitor) {\n    props.setDragging({ isDragging: false });\n\n    const result = monitor.getDropResult();\n\n    if (result && result[DELETE_SANDBOX_DROP_KEY]) {\n      props.deleteSandboxes();\n    }\n\n    if (result && result[MAKE_TEMPLATE_DROP_KEY]) {\n      track('Template - Created', {\n        source: 'Dragging',\n        team: !!result.teamId,\n      });\n      props.makeTemplates(result.teamId);\n    }\n  },\n};\n\n/**\n * Specifies the props to inject into your component.\n */\nfunction collect(connect) {\n  return {\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n  };\n}\n\nexport const SandboxItem = DragSource(\n  'SANDBOX',\n  cardSource,\n  collect\n)(SandboxItemComponent);\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { Spring, animated } from 'react-spring/renderprops';\n\nconst Container = styled(animated.div)`\n  position: fixed;\n  border: 1px solid ${props => props.theme.secondary};\n  background-color: ${props => props.theme.secondary.clearer(0.5)};\n  pointer-events: none;\n`;\n\nexport function getBounds(startX, startY, endX, endY) {\n  const top = startY > endY ? endY : startY;\n  const left = startX > endX ? endX : startX;\n  const width = startX > endX ? startX - endX : endX - startX;\n  const height = startY > endY ? startY - endY : endY - startY;\n\n  return {\n    top,\n    height,\n    left,\n    width,\n  };\n}\n\nexport const Selection = ({ startX, startY, endX, endY }) => {\n  const { top, height, left, width } = getBounds(startX, startY, endX, endY);\n\n  return (\n    <Spring native immediate to={{ top, height, left, width }}>\n      {style => <Container style={style} />}\n    </Spring>\n  );\n};\n","import styled, { css } from 'styled-components';\nimport Row from './Row';\n\nexport const StyledRow = styled(Row)`\n  font-weight: 600;\n  user-select: none;\n\n  ${props =>\n    props.selected &&\n    css`\n      background-color: ${props.theme.secondary.clearer(0.9)};\n      color: ${props.theme.secondary};\n    `};\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport const Content = styled.div`\n  width: 100%;\n  height: calc(100% - 23px);\n  padding-top: 2rem;\n  box-sizing: border-box;\n\n  @media (max-width: 768px) {\n    width: calc(100% - 30px);\n    margin-left: 30px;\n  }\n`;\n","/** @flow */\nimport * as React from 'react';\n\n/**\n * Default row renderer for Table.\n */\nexport default function defaultRowRenderer({\n  className,\n  columns,\n  index,\n  key,\n  onRowClick,\n  onRowDoubleClick,\n  onRowMouseOut,\n  onRowMouseOver,\n  onRowRightClick,\n  selectSandboxes,\n  rowData,\n  style,\n  id,\n}) {\n  const a11yProps = {};\n\n  a11yProps['aria-label'] = 'row';\n  a11yProps.tabIndex = 0;\n\n  if (onRowClick) {\n    a11yProps.onClick = event => onRowClick({ event, index, rowData });\n  }\n  if (onRowDoubleClick) {\n    a11yProps.onDoubleClick = event =>\n      onRowDoubleClick({ event, index, rowData });\n  }\n  if (onRowMouseOut) {\n    a11yProps.onMouseOut = event => onRowMouseOut({ event, index, rowData });\n  }\n  if (onRowMouseOver) {\n    a11yProps.onMouseOver = event => onRowMouseOver({ event, index, rowData });\n  }\n  if (onRowRightClick) {\n    a11yProps.onContextMenu = event =>\n      onRowRightClick({ event, index, rowData });\n  }\n\n  return (\n    <div\n      {...a11yProps}\n      onMouseDown={e => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        selectSandboxes([id], { additive: e.metaKey, range: e.shiftKey });\n      }}\n      className={className}\n      key={key}\n      role=\"row\"\n      style={style}\n      id={id}\n      tabIndex=\"0\"\n    >\n      {columns}\n    </div>\n  );\n}\n","import 'react-virtualized/styles.css';\n\nimport { basename } from 'path';\n\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { getSandboxName } from '@codesandbox/common/lib/utils/get-sandbox-name';\nimport { protocolAndHost } from '@codesandbox/common/lib/utils/url-generator';\nimport { makeTemplates } from 'app/components/CreateNewSandbox/queries';\nimport downloadZip from 'app/overmind/effects/zip/create-zip';\nimport { formatDistanceToNow } from 'date-fns';\nimport { zonedTimeToUtc } from 'date-fns-tz';\nimport { camelizeKeys } from 'humps';\nimport { uniq } from 'lodash-es';\nimport React from 'react';\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport Grid from 'react-virtualized/dist/commonjs/Grid';\nimport Table from 'react-virtualized/dist/commonjs/Table';\nimport Column from 'react-virtualized/dist/commonjs/Table/Column';\n\nimport { SandboxFragment } from 'app/graphql/types';\nimport { Sandbox } from '@codesandbox/common/lib/types';\nimport {\n  deleteSandboxes,\n  permanentlyDeleteSandboxes,\n  setSandboxesPrivacy,\n  undeleteSandboxes,\n} from '../../queries';\nimport { DragLayer } from '../DragLayer';\nimport { SandboxItem } from '../SandboxCard';\nimport { PADDING } from '../SandboxCard/elements';\nimport { Selection, getBounds } from '../Selection';\nimport { Content, StyledRow } from './elements';\n\ntype State = {\n  selection:\n    | {\n        startX: number;\n        startY: number;\n        endX: number;\n        endY: number;\n      }\n    | undefined;\n  localSandboxesSelected: string[] | null;\n};\n\nconst BASE_WIDTH = 300;\nconst BASE_HEIGHT = 242;\nconst IS_TABLE = false;\n\nconst diff = (a, b) => (a > b ? a - b : b - a);\nconst distanceInWordsToNow = date =>\n  formatDistanceToNow(zonedTimeToUtc(date, 'Etc/UTC'));\n\ninterface ISandboxGridComponentProps {\n  page?: 'search' | 'recent';\n  ExtraElement: React.ComponentType<{ style?: React.CSSProperties }>;\n  sandboxes: SandboxFragment[];\n  selectedSandboxes: string[];\n  orderByField: string;\n  isDragging: boolean;\n  isPatron: boolean;\n  sandboxesSelected: (params: { sandboxIds: string[] }) => void;\n  forkExternalSandbox: (params: { sandboxId: string }) => void;\n  dragChanged: (params: { isDragging: boolean }) => void;\n}\n\nclass SandboxGridComponent extends React.Component<\n  ISandboxGridComponentProps,\n  State\n> {\n  state = {\n    selection: undefined,\n    localSandboxesSelected: null,\n  };\n\n  selectedSandboxesObject: { [id: string]: true };\n  loadedSandboxes: { [id: string]: Sandbox } = {};\n  scrolling: boolean;\n  isDragging: boolean;\n  columnCount: number;\n\n  getSelectedSandboxIds = () => {\n    const { selectedSandboxes: selectedSandboxesFromState } = this.props;\n    const { localSandboxesSelected } = this.state;\n\n    return localSandboxesSelected === null\n      ? selectedSandboxesFromState\n      : localSandboxesSelected;\n  };\n\n  commitSandboxesSelected = () => {\n    this.props.sandboxesSelected({\n      sandboxIds: this.state.localSandboxesSelected || [],\n    });\n    this.setState({\n      localSandboxesSelected: null,\n    });\n  };\n\n  setSandboxesSelected = (\n    ids,\n    { additive = false, range = false, delay = false } = {}\n  ) => {\n    const { sandboxes } = this.props;\n\n    const selectedSandboxes = this.getSelectedSandboxIds();\n\n    const setSelected = (sandboxIds: string[]) => {\n      /**\n       * If delay is true we don't commit to the store yet, but we keep it in this component.\n       * This is for performance reasons when having a selection. On mouseup we commit the selection\n       * to the store.\n       */\n      if (delay) {\n        this.setState({\n          localSandboxesSelected: sandboxIds,\n        });\n      } else {\n        this.props.sandboxesSelected({\n          sandboxIds,\n        });\n        this.setState({\n          localSandboxesSelected: null,\n        });\n      }\n    };\n\n    if (range === true) {\n      if (!delay) {\n        track('Dashboard - Sandbox Shift Selection');\n      }\n      const indexedSandboxes = sandboxes.map((sandbox, i) => ({ sandbox, i }));\n\n      // We need to select a range\n      const firstIndexInfo = indexedSandboxes.find(({ sandbox }) =>\n        selectedSandboxes.includes(sandbox.id)\n      );\n\n      const [id] = ids;\n\n      const lastIndexInfo = indexedSandboxes.find(\n        ({ sandbox }) => sandbox.id === id\n      );\n\n      if (firstIndexInfo && lastIndexInfo) {\n        const indexes = [firstIndexInfo.i, lastIndexInfo.i].sort();\n        const sandboxIds = indexedSandboxes\n          .map(({ sandbox }) => sandbox.id)\n          .slice(indexes[0], indexes[1] + 1);\n\n        setSelected(sandboxIds);\n        return;\n      }\n    }\n\n    let sandboxIds = ids;\n\n    if (additive) {\n      if (!delay) {\n        track('Dashboard - Sandbox Additive Selection');\n      }\n      sandboxIds = selectedSandboxes.filter(id => !ids.includes(id));\n      const additiveIds = ids.filter(id => !selectedSandboxes.includes(id));\n\n      sandboxIds = uniq([...sandboxIds, ...additiveIds]);\n    }\n\n    setSelected(sandboxIds);\n  };\n\n  makeTemplates = (teamId?: string) => {\n    const collections = uniq(\n      this.props.sandboxes\n        .filter(sandbox => this.selectedSandboxesObject[sandbox.id])\n        .map(s => s.collection)\n    );\n\n    makeTemplates(this.props.selectedSandboxes, teamId, collections);\n  };\n\n  deleteSandboxes = () => {\n    const collections = uniq(\n      this.props.sandboxes\n        .filter(sandbox => this.selectedSandboxesObject[sandbox.id])\n        .map(s => s.collection)\n    );\n    deleteSandboxes(this.props.selectedSandboxes, collections);\n  };\n\n  undeleteSandboxes = () => {\n    undeleteSandboxes(this.props.selectedSandboxes);\n  };\n\n  permanentlyDeleteSandboxes = () => {\n    permanentlyDeleteSandboxes(this.props.selectedSandboxes);\n  };\n\n  setSandboxesPrivacy = (privacy: 0 | 1 | 2) => {\n    track('Sandbox - Update Privacy', {\n      privacy,\n      source: 'dashboard',\n    });\n    setSandboxesPrivacy(this.props.selectedSandboxes, privacy);\n  };\n\n  getSandbox = async sandboxId => {\n    if (this.loadedSandboxes[sandboxId]) {\n      return Promise.resolve(this.loadedSandboxes[sandboxId]);\n    }\n\n    return fetch(`${protocolAndHost()}/api/v1/sandboxes/${sandboxId}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${JSON.parse(localStorage.getItem('jwt'))}`,\n      },\n    })\n      .then(x => x.json())\n      .then(x => {\n        const data = camelizeKeys(x.data) as Sandbox;\n        this.loadedSandboxes[data.id] = data;\n        return data;\n      });\n  };\n\n  exportSandboxes = async () => {\n    const sandboxIds = uniq(\n      this.props.sandboxes\n        .filter(sandbox => this.selectedSandboxesObject[sandbox.id])\n        .map(s => s.id)\n    );\n    const sandboxes = await Promise.all(\n      sandboxIds.map(s => this.getSandbox(s))\n    );\n    return Promise.all(\n      sandboxes.map(s => downloadZip(s, s.modules, s.directories))\n    );\n  };\n\n  forkSandbox = id => {\n    this.props.forkExternalSandbox({ sandboxId: id });\n  };\n\n  onMouseDown = (event: React.MouseEvent<HTMLDivElement>) => {\n    this.setState({\n      selection: {\n        startX: event.clientX,\n        startY: event.clientY,\n        endX: event.clientX,\n        endY: event.clientY,\n      },\n    });\n\n    if (!event.metaKey) {\n      this.setSandboxesSelected([]);\n    }\n\n    document.addEventListener('mousemove', this.onMouseMove);\n    document.addEventListener('mouseup', this.onMouseUp);\n  };\n\n  onMouseUp = () => {\n    if (\n      this.state.selection &&\n      (diff(this.state.selection.startX, this.state.selection.endX) > 50 ||\n        diff(this.state.selection.startY, this.state.selection.endY) > 50)\n    ) {\n      track('Dashboard - Sandbox Selection Done');\n    }\n\n    document.removeEventListener('mousemove', this.onMouseMove);\n    document.removeEventListener('mouseup', this.onMouseUp);\n    this.setState(\n      {\n        selection: undefined,\n      },\n      () => {\n        this.commitSandboxesSelected();\n      }\n    );\n  };\n\n  onMouseMove = event => {\n    if (this.state.selection) {\n      const newSelection = {\n        ...this.state.selection,\n        endX: event.clientX,\n        endY: event.clientY,\n      };\n      // eslint-disable-next-line\n      this.setState(state => ({\n        selection: newSelection,\n      }));\n\n      const sandboxes = document.querySelectorAll('.sandbox-item');\n      const selectedSandboxes = [];\n      const selection = getBounds(\n        newSelection.startX,\n        newSelection.startY,\n        newSelection.endX,\n        newSelection.endY\n      );\n\n      /* eslint-disable no-restricted-syntax */\n      // @ts-ignore\n      for (const sandbox of sandboxes) {\n        const { top, height, left, width } = sandbox.getBoundingClientRect();\n        const padding = IS_TABLE ? 0 : PADDING;\n        const boxWidth = width - padding;\n        const boxHeight = height - padding;\n\n        if (\n          (left >= selection.left || left + boxWidth >= selection.left) &&\n          left <= selection.left + selection.width &&\n          (top >= selection.top || top + boxHeight >= selection.top) &&\n          top <= selection.top + selection.height\n        ) {\n          selectedSandboxes.push(sandbox);\n        }\n      }\n      /* eslint-enable */\n\n      this.setSandboxesSelected(\n        selectedSandboxes.map(el => el.id),\n        {\n          additive: event.metaKey,\n          delay: true,\n        }\n      );\n    }\n  };\n\n  isScrolling = () => this.scrolling;\n\n  cellRenderer = ({ rowIndex, columnIndex, key, style, isScrolling }) => {\n    this.scrolling = isScrolling;\n\n    let index = rowIndex * this.columnCount + columnIndex;\n    const { sandboxes, ExtraElement } = this.props;\n\n    if (ExtraElement) {\n      if (index === 0) {\n        return <ExtraElement key=\"extra\" style={style} />;\n      }\n\n      index--;\n    }\n\n    if (index > sandboxes.length - 1) {\n      return null;\n    }\n\n    const item = sandboxes[index];\n\n    const getOrder = () => {\n      if (item.removedAt) {\n        return `Deleted ${distanceInWordsToNow(item.removedAt)} ago`;\n      }\n\n      const orderField = this.props.orderByField;\n      if (orderField === 'insertedAt') {\n        return `Created ${distanceInWordsToNow(item.insertedAt)} ago`;\n      }\n\n      return `Edited ${distanceInWordsToNow(item.updatedAt)} ago`;\n    };\n\n    let editedSince = getOrder();\n\n    if (this.props.page === 'search' || this.props.page === 'recent') {\n      const dir =\n        basename(item.collection.path) ||\n        (item.collection.teamId ? 'Team Sandboxes' : 'My Sandboxes');\n\n      if (dir) {\n        editedSince += ` in ${dir}`;\n      }\n    }\n\n    const itemInSelection = this.selectedSandboxesObject[item.id];\n\n    return (\n      <SandboxItem\n        isScrolling={this.isScrolling}\n        id={item.id}\n        title={getSandboxName(item)}\n        alias={item.alias}\n        color={item.forkedTemplate ? item.forkedTemplate.color : undefined}\n        details={editedSince}\n        style={style}\n        key={key}\n        sandbox={item}\n        // @ts-ignore\n        template={item.source.template}\n        removedAt={item.removedAt}\n        selected={itemInSelection}\n        selectedCount={this.props.selectedSandboxes.length}\n        setSandboxesSelected={this.setSandboxesSelected}\n        setDragging={this.props.dragChanged}\n        isDraggingItem={this.isDragging && itemInSelection}\n        collectionPath={item.collection.path}\n        collectionTeamId={item.collection.teamId}\n        forkSandbox={this.forkSandbox}\n        deleteSandboxes={this.deleteSandboxes}\n        undeleteSandboxes={this.undeleteSandboxes}\n        permanentlyDeleteSandboxes={this.permanentlyDeleteSandboxes}\n        exportSandboxes={this.exportSandboxes}\n        setSandboxesPrivacy={this.setSandboxesPrivacy}\n        makeTemplates={this.makeTemplates}\n        page={this.props.page}\n        privacy={item.privacy}\n        isPatron={this.props.isPatron}\n        screenshotUrl={item.screenshotUrl}\n        screenshotOutdated={item.screenshotOutdated}\n      />\n    );\n  };\n\n  rowRenderer = props => {\n    const selected = this.selectedSandboxesObject[props.rowData.id];\n    return (\n      <StyledRow\n        {...props}\n        selected={selected}\n        className={`sandbox-item ${props.className}`}\n        id={props.rowData.id}\n        selectSandboxes={this.setSandboxesSelected}\n      />\n    );\n  };\n\n  render() {\n    const { selection } = this.state;\n    const { sandboxes, isDragging } = this.props;\n\n    let sandboxCount = sandboxes.length;\n\n    this.isDragging = isDragging;\n    this.selectedSandboxesObject = {};\n    // Create an object to make it O(1)\n    this.getSelectedSandboxIds().forEach(id => {\n      this.selectedSandboxesObject[id] = true;\n    });\n\n    return (\n      <Content style={{ overflowX: 'hidden' }} onMouseDown={this.onMouseDown}>\n        <DragLayer />\n        <AutoSizer>\n          {({ width, height }) => {\n            if (this.props.ExtraElement) {\n              sandboxCount += 1;\n            }\n\n            const columnCount = Math.max(\n              1,\n              Math.floor(width / (BASE_WIDTH + PADDING))\n            );\n            const rowCount = Math.ceil(sandboxCount / columnCount);\n            const columnWidth = width / columnCount;\n            this.columnCount = columnCount;\n\n            if (IS_TABLE) {\n              return (\n                <Table\n                  style={{ outline: 'none' }}\n                  gridStyle={{ outline: 'none' }}\n                  width={width - 32}\n                  height={height}\n                  headerHeight={40}\n                  rowHeight={40}\n                  rowCount={sandboxCount}\n                  rowRenderer={this.rowRenderer}\n                  rowGetter={({ index }) => sandboxes[index]}\n                  headerStyle={{\n                    color: 'white',\n                  }}\n                  rowStyle={{\n                    fontSize: '.875rem',\n                  }}\n                >\n                  <Column\n                    label=\"Title\"\n                    dataKey=\"title\"\n                    cellDataGetter={({ rowData }) =>\n                      rowData.title || rowData.id\n                    }\n                    width={200}\n                  />\n                  <Column\n                    label=\"Description\"\n                    dataKey=\"description\"\n                    width={300}\n                  />\n                  <Column\n                    label=\"Last Updated\"\n                    dataKey=\"updatedAt\"\n                    cellDataGetter={({ rowData }) =>\n                      distanceInWordsToNow(rowData.updatedAt) + ' ago'\n                    }\n                    width={150}\n                  />\n                  <Column\n                    label=\"Created\"\n                    dataKey=\"insertedAt\"\n                    cellDataGetter={({ rowData }) =>\n                      distanceInWordsToNow(rowData.insertedAt) + ' ago'\n                    }\n                    width={150}\n                  />\n                  <Column\n                    label=\"Template\"\n                    dataKey=\"source.template\"\n                    cellDataGetter={({ rowData }) => rowData.source.template}\n                    width={150}\n                  />\n                </Table>\n              );\n            }\n\n            return (\n              <Grid\n                style={{ outline: 'none', overflowX: 'hidden' }}\n                cellCount={sandboxCount}\n                cellRenderer={this.cellRenderer}\n                width={width}\n                height={height}\n                rowCount={rowCount}\n                columnCount={columnCount}\n                columnWidth={columnWidth}\n                rowHeight={BASE_HEIGHT}\n              />\n            );\n          }}\n        </AutoSizer>\n\n        {selection && <Selection {...this.state.selection} />}\n      </Content>\n    );\n  }\n}\n\nexport const SandboxGrid = SandboxGridComponent;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  align-items: center;\n  font-size: 0.875rem;\n  color: rgba(255, 255, 255, 0.8);\n  margin-right: 3rem;\n`;\n\nexport const VanillaButton = styled.button`\n  transition: 0.3s ease color;\n  background-color: transparent;\n  display: flex;\n  border: 0;\n  outline: 0;\n  padding: 0;\n  margin: 0;\n  color: rgba(255, 255, 255, 0.8);\n  vertical-align: middle;\n  align-items: center;\n\n  cursor: pointer;\n\n  &:focus {\n    color: white;\n  }\n\n  &:hover {\n    color: white;\n  }\n\n  svg {\n    margin-left: 0.5rem;\n  }\n`;\n","import React from 'react';\n\nimport { Container, VanillaButton } from './elements';\n\nexport interface IAction {\n  name: string;\n  run: () => void;\n  Icon: React.FunctionComponentElement<any>;\n}\n\ninterface Props {\n  actions?: IAction[];\n}\n\nexport function DashboardActions({ actions = [] }: Props) {\n  return (\n    <Container>\n      {actions.map(action => (\n        <VanillaButton key={action.name} onClick={() => action.run()}>\n          {action.name} {action.Icon}\n        </VanillaButton>\n      ))}\n    </Container>\n  );\n}\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled.div<{ hideFilters: boolean }>`\n  ${({ hideFilters }) => css`\n    transition: 0.3s ease opacity;\n    position: relative;\n    color: rgba(255, 255, 255, 0.6);\n    font-size: 0.875rem;\n\n    margin-right: 1rem;\n    vertical-align: middle;\n\n    ${hideFilters &&\n      css`\n        opacity: 0.5;\n        pointer-events: none;\n      `};\n  `};\n`;\n\nexport const TemplatesName = styled.span`\n  transition: 0.3s ease color;\n  color: rgba(255, 255, 255, 0.8);\n\n  cursor: pointer;\n\n  &:hover {\n    color: white;\n  }\n`;\n\nexport const OverlayContainer = styled.div`\n  ${({ theme }) => css`\n    overflow: hidden;\n    box-sizing: border-box;\n    right: 0;\n    text-align: left;\n    line-height: 1.6;\n    width: 300px;\n    padding: 1rem;\n    z-index: 10;\n    color: rgba(255, 255, 255, 0.8);\n    font-size: 0.875rem;\n\n    border-radius: 2px;\n    box-shadow: 0 3px 3px rgba(0, 0, 0, 0.3);\n\n    background-color: ${theme.background};\n  `};\n`;\n\nexport const OptionName = styled.span`\n  font-weight: 600;\n  cursor: pointer;\n`;\n\nexport const Option = styled.div<{ selected: boolean }>`\n  ${({ selected, theme }) => css`\n    transition: 0.3s ease color;\n    cursor: pointer;\n    color: ${theme.light ? 'rgba(0, 0, 0, 0.7)' : 'rgba(255, 255, 255, 0.7)'};\n\n    margin-bottom: 0.25rem;\n\n    &:hover {\n      color: rgba(255, 255, 255, 0.9);\n\n      ${!selected &&\n        css`\n          span {\n            border-color: rgba(255, 255, 255, 0.1);\n          }\n        `};\n    }\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    ${selected &&\n      css`\n        color: white;\n      `};\n  `};\n`;\n\nexport const CheckBox = styled.span<{ color: string; selected: boolean }>`\n  ${({ color, selected }) => css`\n    ${selected\n      ? css`\n          background: ${color} url('') no-repeat 50%/10px;\n          background-image: url(\"data:image/svg+xml;utf8,<svg viewBox='0 0 10 9' xmlns='http://www.w3.org/2000/svg'><path d='M1 4.88l2.378 2.435L9.046 1.6' stroke-width='1.6' stroke='%23FFF' fill='none' fill-rule='evenodd' stroke-linecap='round' stroke-linejoin='round'/></svg>\");\n        `\n      : css`\n          background: rgba(0, 0, 0, 0.3) url('') no-repeat 50%/10px;\n          background-image: url(\"data:image/svg+xml;utf8,<svg viewBox='0 0 10 9' xmlns='http://www.w3.org/2000/svg'><path fill='rgba(255, 255, 255, 0.2)/></svg>\");\n        `};\n    border: 2px solid transparent;\n\n    ${selected &&\n      css`\n        border-color: ${color};\n      `};\n    box-shadow: none;\n    display: inline-block;\n    border-radius: 3.5px;\n    width: 16px;\n    height: 16px;\n    outline: none;\n    vertical-align: middle;\n    margin-right: 0.75rem;\n    transition: 0.15s ease all;\n    cursor: pointer;\n  `};\n`;\n","import React from 'react';\n\nimport { Option as Container, OptionName, CheckBox } from './elements';\n\ninterface Props {\n  color: string;\n  id: string;\n  style?: React.CSSProperties;\n  niceName: string;\n  selected: boolean;\n  toggleTemplate: (name: string, selected: boolean) => void;\n}\n\nexport const Option = ({\n  color,\n  id,\n  style,\n  niceName,\n  selected,\n  toggleTemplate,\n}: Props) => {\n  const checkBoxName = `${id}-checkbox`;\n  return (\n    <Container\n      selected={selected}\n      onClick={e => {\n        e.preventDefault();\n        toggleTemplate(id, !selected);\n      }}\n      onMouseDown={e => {\n        e.preventDefault();\n      }}\n      style={style}\n    >\n      <label htmlFor={checkBoxName} style={{ display: 'none' }}>\n        {checkBoxName}\n      </label>\n      <CheckBox id={checkBoxName} color={color} selected={selected} />\n      <OptionName style={{ fontWeight: 500 }}>{niceName}</OptionName>\n    </Container>\n  );\n};\n","import { orderBy } from 'lodash-es';\nimport React, { FunctionComponent } from 'react';\n\nimport { useOvermind } from 'app/overmind';\nimport { Overlay as OverlayComponent } from 'app/components/Overlay';\n\nimport { Container, TemplatesName, OverlayContainer } from './elements';\nimport { Option } from './Option';\n\ntype Template = {\n  id: string;\n  name: string;\n  color: string;\n  niceName: string;\n};\ntype Props = {\n  possibleTemplates?: Template[];\n  hideFilters?: boolean;\n};\nexport const FilterOptions: FunctionComponent<Props> = ({\n  possibleTemplates = [],\n  hideFilters = false,\n}) => {\n  const {\n    actions: {\n      dashboard: {\n        blacklistedTemplateAdded,\n        blacklistedTemplateRemoved,\n        blacklistedTemplatesChanged,\n        blacklistedTemplatesCleared,\n      },\n    },\n    state: {\n      dashboard: {\n        filters: { blacklistedTemplates },\n        isTemplateSelected,\n      },\n    },\n  } = useOvermind();\n\n  const toggleTemplate = (name: string, select: boolean) =>\n    select ? blacklistedTemplateRemoved(name) : blacklistedTemplateAdded(name);\n  const allSelected = possibleTemplates.every(({ id }) =>\n    isTemplateSelected(id)\n  );\n\n  const Overlay = () => (\n    <OverlayContainer>\n      {possibleTemplates.length > 0 ? (\n        <>\n          {orderBy(possibleTemplates, 'niceName').map(\n            ({ color, id, name, niceName }) => {\n              const selected = isTemplateSelected(id);\n\n              return (\n                <Option\n                  color={color}\n                  id={id}\n                  key={name}\n                  niceName={niceName || name}\n                  selected={selected}\n                  toggleTemplate={toggleTemplate}\n                />\n              );\n            }\n          )}\n\n          <Option\n            color=\"#374140\"\n            id=\"all\"\n            niceName=\"Select All\"\n            selected={allSelected}\n            style={{ marginTop: '1rem' }}\n            toggleTemplate={() => {\n              if (allSelected) {\n                return blacklistedTemplatesChanged(\n                  possibleTemplates.map(({ id }) => id)\n                );\n              }\n\n              return blacklistedTemplatesCleared();\n            }}\n          />\n        </>\n      ) : (\n        'No environments found'\n      )}\n    </OverlayContainer>\n  );\n\n  const templateCount = possibleTemplates.length - blacklistedTemplates.length;\n  const templateMessage =\n    templateCount === possibleTemplates.length && templateCount > 0\n      ? 'all environments'\n      : `${Math.max(0, templateCount)} ${\n          templateCount === 1 ? 'environment' : 'environments'\n        }`;\n\n  return (\n    <OverlayComponent\n      width={200}\n      content={Overlay}\n      event=\"Dashboard - Order By\"\n    >\n      {open => (\n        <Container hideFilters={hideFilters}>\n          Showing{' '}\n          <TemplatesName onClick={open}>{templateMessage}</TemplatesName>\n        </Container>\n      )}\n    </OverlayComponent>\n  );\n};\n","import ArrowDown from 'react-icons/lib/md/arrow-downward';\nimport styled, { css } from 'styled-components';\n\nimport { OrderBy } from 'app/overmind/namespaces/dashboard/state';\n\nexport const Container = styled.div<{\n  hideOrder: boolean;\n}>`\n  ${({ hideOrder }) => css`\n    transition: 0.3s ease opacity;\n    color: rgba(255, 255, 255, 0.6);\n    font-size: 0.875rem;\n    width: 175px;\n    text-align: right;\n\n    ${hideOrder &&\n      css`\n        opacity: 0.5;\n        pointer-events: none;\n      `};\n  `};\n`;\n\nexport const OrderName = styled.span`\n  transition: 0.3s ease color;\n  color: rgba(255, 255, 255, 0.8);\n  cursor: pointer;\n\n  &:hover {\n    color: white;\n  }\n`;\n\nexport const Arrow = styled(ArrowDown)<{ order: OrderBy['order'] }>`\n  ${({ order }) => css`\n    transition: 0.3s ease all;\n    cursor: pointer;\n    font-size: 0.875rem;\n    margin-bottom: 2px;\n    margin-left: 4px;\n    transform: rotate(${order === 'asc' ? -180 : 0}deg);\n\n    &:hover {\n      color: white;\n    }\n  `};\n`;\n","export const FIELD_TO_NAME = {\n  insertedAt: 'Last Created',\n  updatedAt: 'Last Modified',\n  title: 'Name',\n};\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  ${({ theme }) => css`\n    overflow: hidden;\n    box-sizing: border-box;\n    right: 0;\n    text-align: left;\n    line-height: 1.6;\n    width: 200px;\n    padding: 1rem;\n    z-index: 10;\n    color: rgba(255, 255, 255, 0.8);\n    font-size: 0.875rem;\n\n    border-radius: 2px;\n    box-shadow: 0 3px 3px rgba(0, 0, 0, 0.3);\n\n    background-color: ${theme.background};\n  `};\n`;\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled.a<{\n  selected: boolean;\n}>`\n  ${({ selected, theme }) => css`\n    transition: 0.3s ease color;\n    display: flex;\n    vertical-align: middle;\n    align-items: center;\n    margin-bottom: 0.5rem;\n    color: ${theme.light ? 'rgba(0, 0, 0, 0.7)' : 'rgba(255, 255, 255, 0.7)'};\n    text-decoration: none;\n    cursor: pointer;\n    font-weight: 600;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    &:hover {\n      color: white;\n    }\n\n    ${selected &&\n      css`\n        color: white;\n      `};\n  `};\n`;\n\nexport const IconContainer = styled.div`\n  width: 1rem;\n  margin-right: 0.5rem;\n`;\n","import React, { FunctionComponent } from 'react';\nimport Check from 'react-icons/lib/md/check';\n\nimport { Container, IconContainer } from './elements';\n\ntype Props = {\n  currentField: string;\n  field: string;\n  name: string;\n  setField: (field: string) => void;\n};\nexport const Option: FunctionComponent<Props> = ({\n  currentField,\n  field,\n  name,\n  setField,\n}) => {\n  const selected = field === currentField;\n\n  return (\n    <Container onClick={() => setField(field)} selected={selected}>\n      <IconContainer>{selected && <Check />}</IconContainer> {name}\n    </Container>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { useOvermind } from 'app/overmind';\n\nimport { FIELD_TO_NAME } from '../FieldToName';\n\nimport { Container } from './elements';\nimport { Option } from './Option';\n\nexport const Overlay: FunctionComponent = () => {\n  const {\n    actions: {\n      dashboard: { orderByChanged },\n    },\n    state: {\n      dashboard: {\n        orderBy: { field: currentField, order },\n      },\n    },\n  } = useOvermind();\n\n  const setField = (field: string) => orderByChanged({ field, order });\n\n  return (\n    <Container>\n      <Option\n        currentField={currentField}\n        field=\"title\"\n        name={FIELD_TO_NAME.title}\n        setField={setField}\n      />\n\n      <Option\n        currentField={currentField}\n        field=\"insertedAt\"\n        name={FIELD_TO_NAME.insertedAt}\n        setField={setField}\n      />\n\n      <Option\n        currentField={currentField}\n        field=\"updatedAt\"\n        name={FIELD_TO_NAME.updatedAt}\n        setField={setField}\n      />\n    </Container>\n  );\n};\n","import React, {\n  ComponentProps,\n  FunctionComponent,\n  MouseEvent,\n  ReactSVGElement,\n} from 'react';\n\nimport { Overlay as OverlayComponent } from 'app/components/Overlay';\nimport { useOvermind } from 'app/overmind';\n\nimport { Arrow, Container, OrderName } from './elements';\nimport { FIELD_TO_NAME } from './FieldToName';\nimport { Overlay } from './Overlay';\n\ntype Props = Pick<ComponentProps<typeof Container>, 'hideOrder'>;\nexport const SortOptions: FunctionComponent<Props> = ({ hideOrder }) => {\n  const {\n    actions: {\n      dashboard: { orderByChanged },\n    },\n    state: {\n      dashboard: {\n        orderBy: { field, order },\n      },\n    },\n  } = useOvermind();\n\n  const toggleSort = (event: MouseEvent<ReactSVGElement>) => {\n    event.preventDefault();\n\n    orderByChanged({\n      field,\n      order: order === 'asc' ? 'desc' : 'asc',\n    });\n  };\n\n  return (\n    <OverlayComponent\n      width={200}\n      content={Overlay}\n      event=\"Dashboard - Order By\"\n    >\n      {open => (\n        <Container hideOrder={hideOrder}>\n          Sort by <OrderName onClick={open}>{FIELD_TO_NAME[field]} </OrderName>\n          <Arrow onClick={toggleSort} order={order} />\n        </Container>\n      )}\n    </OverlayComponent>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  margin-right: 2rem;\n  align-items: center;\n\n  @media (max-width: 1000px) {\n    position: relative;\n    right: 0;\n    margin-top: 1rem;\n  }\n`;\n","import React, { ComponentProps, FunctionComponent } from 'react';\n\nimport { FilterOptions } from './FilterOptions';\nimport { SortOptions } from './SortOptions';\n\nimport { Container } from './elements';\n\ntype Props = Pick<\n  ComponentProps<typeof FilterOptions>,\n  'hideFilters' | 'possibleTemplates'\n> &\n  Partial<Pick<ComponentProps<typeof SortOptions>, 'hideOrder'>>;\nexport const Filters: FunctionComponent<Props> = ({\n  hideFilters,\n  hideOrder,\n  possibleTemplates,\n}) => (\n  <Container>\n    <FilterOptions\n      hideFilters={hideFilters}\n      possibleTemplates={possibleTemplates}\n    />\n\n    <SortOptions hideOrder={hideOrder} />\n  </Container>\n);\n","import React, { ComponentProps, ComponentType, FunctionComponent } from 'react';\n\nimport { DelayedAnimation } from 'app/components/DelayedAnimation';\nimport { useOvermind } from 'app/overmind';\n\nimport { Container, HeaderContainer, HeaderTitle } from '../elements';\nimport { SandboxGrid } from '../SandboxGrid';\n\nimport { DashboardActions } from './Actions';\nimport { Filters } from './Filters';\n\ntype Props = {\n  Header: ComponentType | string;\n  isLoading?: boolean;\n  SubHeader?: ComponentType;\n} & Pick<ComponentProps<typeof DashboardActions>, 'actions'> &\n  Pick<\n    ComponentProps<typeof SandboxGrid>,\n    'ExtraElement' | 'page' | 'sandboxes'\n  > &\n  Pick<\n    ComponentProps<typeof Filters>,\n    'hideFilters' | 'hideOrder' | 'possibleTemplates'\n  >;\nexport const Content: FunctionComponent<Props> = ({\n  actions: dashboardActions,\n  ExtraElement,\n  Header,\n  hideFilters,\n  hideOrder,\n  isLoading = false,\n  page,\n  possibleTemplates,\n  sandboxes,\n  SubHeader,\n}) => {\n  const { state, actions } = useOvermind();\n\n  return (\n    <Container>\n      <HeaderContainer>\n        <HeaderTitle>\n          {Header}\n\n          {sandboxes && !isLoading && (\n            <span\n              style={{\n                fontSize: '1rem',\n                fontWeight: 600,\n                color: 'rgba(255, 255, 255, 0.6',\n                marginLeft: '.5rem',\n              }}\n            >\n              {sandboxes.length}\n            </span>\n          )}\n        </HeaderTitle>\n\n        <DashboardActions actions={dashboardActions} />\n\n        <Filters\n          hideFilters={hideFilters}\n          hideOrder={hideOrder}\n          possibleTemplates={possibleTemplates}\n        />\n      </HeaderContainer>\n\n      {SubHeader}\n\n      {isLoading ? (\n        <DelayedAnimation\n          delay={0.6}\n          style={{\n            textAlign: 'center',\n            marginTop: '2rem',\n            fontWeight: 600,\n            color: 'rgba(255, 255, 255, 0.5)',\n          }}\n        >\n          Fetching Sandboxes...\n        </DelayedAnimation>\n      ) : (\n        <SandboxGrid\n          page={page}\n          ExtraElement={ExtraElement}\n          sandboxes={sandboxes}\n          selectedSandboxes={state.dashboard.selectedSandboxes}\n          orderByField={state.dashboard.orderBy.field}\n          isDragging={state.dashboard.isDragging}\n          isPatron={state.isPatron}\n          sandboxesSelected={actions.dashboard.sandboxesSelected}\n          forkExternalSandbox={actions.editor.forkExternalSandbox}\n          dragChanged={actions.dashboard.dragChanged}\n        />\n      )}\n    </Container>\n  );\n};\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useQuery } from '@apollo/react-hooks';\n\nimport { useOvermind } from 'app/overmind';\nimport { CreateNewSandboxButton } from 'app/components/CreateNewSandbox';\nimport {\n  RecentSandboxesQuery,\n  RecentSandboxesQueryVariables,\n} from 'app/graphql/types';\nimport getMostUsedTemplate from '../../../utils/get-most-used-template';\nimport { Content as Sandboxes } from '../../Sandboxes';\nimport { RECENT_SANDBOXES_CONTENT_QUERY } from '../../../queries';\n\nexport const RecentSandboxes = () => {\n  const { state } = useOvermind();\n  const { loading, error, data } = useQuery<\n    RecentSandboxesQuery,\n    RecentSandboxesQueryVariables\n  >(RECENT_SANDBOXES_CONTENT_QUERY, {\n    variables: {\n      orderField: state.dashboard.orderBy.field,\n      // @ts-ignore\n      orderDirection: state.dashboard.orderBy.order.toUpperCase(),\n    },\n  });\n\n  if (error) {\n    return <div>Error!</div>;\n  }\n\n  const sandboxes = loading ? [] : (data && data.me && data.me.sandboxes) || [];\n\n  let mostUsedTemplate = null;\n  try {\n    mostUsedTemplate = getMostUsedTemplate(sandboxes);\n  } catch (e) {\n    // Not critical\n  }\n\n  // We want to hide all templates\n  // TODO: make this a query variable for graphql and move the logic to the server\n  const noTemplateSandboxes = sandboxes.filter(s => !s.customTemplate);\n  return (\n    <>\n      <Helmet>\n        <title>Recent Sandboxes - CodeSandbox</title>\n      </Helmet>\n      <Sandboxes\n        isLoading={loading}\n        Header=\"Recent Sandboxes\"\n        ExtraElement={({ style }) => (\n          <CreateNewSandboxButton\n            mostUsedSandboxTemplate={mostUsedTemplate}\n            style={style}\n          />\n        )}\n        hideFilters\n        sandboxes={noTemplateSandboxes}\n        page=\"recent\"\n      />\n    </>\n  );\n};\n","import { uniqBy } from 'lodash-es';\nimport getDefinition from '@codesandbox/common/lib/templates';\n\nexport function getPossibleTemplates(sandboxes: any[]) {\n  return uniqBy(\n    sandboxes.map(x => {\n      const templateId = x.source?.template;\n      const template = getDefinition(templateId);\n\n      return {\n        id: templateId,\n        color: template.color,\n        name: template.name,\n        niceName: template.niceName,\n      };\n    }),\n    template => template.id\n  );\n}\n","import styled, { css } from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Container = styled.div`\n  display: flex;\n  align-items: center;\n  position: relative;\n`;\n\n// TODO: Use withoutProps utility from common once Follow Templates is merged\n//       to remove the DOM error for teamId prop\nexport const NavigationLink = styled(Link)<{ first?: string; last?: string }>`\n  transition: 0.3s ease color;\n  margin-right: 0.5rem;\n  text-decoration: none;\n  color: rgba(255, 255, 255, 0.6);\n\n  &:hover {\n    color: white;\n  }\n\n  &:last-child {\n    margin-right: 0;\n  }\n\n  ${props =>\n    props.first\n      ? css`\n          margin-left: 0;\n        `\n      : css`\n          margin-left: 0.5rem;\n        `};\n\n  ${props =>\n    props.last\n      ? css`\n          color: white;\n        `\n      : css`\n          &::after {\n            content: '';\n            margin-left: 0.5rem;\n          }\n        `};\n`;\n","import React from 'react';\nimport { DropTarget, ConnectDropTarget } from 'react-dnd';\nimport {\n  entryTarget,\n  collectTarget,\n} from '../../../../Sidebar/SandboxesItem/folder-drop-target';\nimport { NavigationLink as StyledLink } from './elements';\n\ninterface ICollectedProps {\n  connectDropTarget: ConnectDropTarget;\n  isOver: boolean;\n}\n\ninterface IOwnProps {\n  teamId?: string;\n  name: string;\n  path: string;\n  splittedPath: string[];\n  i: number;\n  // We need this to make drag & drop work\n  selectedSandboxes: string[];\n}\n\ntype Props = ICollectedProps & IOwnProps;\n\nconst Link: React.FC<Props> = ({\n  teamId,\n  name,\n  path,\n  isOver,\n  splittedPath,\n  i,\n  connectDropTarget,\n}) =>\n  connectDropTarget(\n    <div>\n      <StyledLink\n        to={\n          teamId\n            ? `/dashboard/teams/${teamId}/sandboxes${path}`\n            : `/dashboard/sandboxes${path}`\n        }\n        last={i === splittedPath.length - 1 ? 'true' : undefined}\n        first={i === 0 ? 'true' : undefined}\n        style={isOver ? { color: 'white' } : {}}\n      >\n        {name}\n      </StyledLink>\n    </div>\n  );\n\n// TODO: remove generic when entryTarget(DropTargetSpec) and collectTarget(DropTargetCollector) are typed\nexport const NavigationLink = DropTarget<IOwnProps, ICollectedProps>(\n  'SANDBOX',\n  entryTarget,\n  collectTarget\n)(Link);\n","import React from 'react';\nimport { join } from 'path';\n\nimport { useOvermind } from 'app/overmind';\nimport { Container } from './elements';\nimport { NavigationLink } from './NavigationLink';\n\ninterface INavigationProps {\n  path: string;\n  teamId?: string;\n}\n\nexport const Navigation: React.FC<INavigationProps> = ({ path, teamId }) => {\n  const { state } = useOvermind();\n\n  const splittedPath = path === '/' ? [''] : path.split('/');\n\n  const paths = splittedPath.reduce((bases, next) => {\n    if (next === '') {\n      return [{ url: '/', name: teamId ? 'Team Sandboxes' : 'My Sandboxes' }];\n    }\n\n    const baseUrl = bases[bases.length - 1].url;\n    bases.push({ url: join(baseUrl, next), name: next });\n    return bases;\n  }, []);\n\n  return (\n    <Container>\n      {paths.map(({ name, url }, i) => (\n        <NavigationLink\n          teamId={teamId}\n          name={name}\n          path={url}\n          splittedPath={splittedPath}\n          i={i}\n          key={url}\n          // Give this prop to make drag & drop work\n          selectedSandboxes={state.dashboard.selectedSandboxes}\n        />\n      ))}\n    </Container>\n  );\n};\n","import { basename } from 'path';\n\nimport { CreateNewSandboxButton } from 'app/components/CreateNewSandbox';\nimport { Observer } from 'app/overmind';\nimport React from 'react';\nimport { Query } from 'react-apollo';\nimport Helmet from 'react-helmet';\n\nimport { PATHED_SANDBOXES_CONTENT_QUERY } from '../../../queries';\n// import Folders from './Folders';\nimport getMostUsedTemplate from '../../../utils/get-most-used-template';\nimport { Content as Sandboxes } from '../../Sandboxes';\nimport { getPossibleTemplates } from '../../Sandboxes/utils';\nimport { Navigation } from './Navigation';\n\nconst PathedSandboxes = props => {\n  const path = '/' + decodeURIComponent(props.match.params.path || '');\n  const { teamId } = props.match.params;\n  return (\n    <>\n      <Helmet>\n        <title>{basename(path) || 'Dashboard'} - CodeSandbox</title>\n      </Helmet>\n      <Query\n        query={PATHED_SANDBOXES_CONTENT_QUERY}\n        variables={{ path, teamId }}\n      >\n        {({ loading, error, data }) => (\n          <Observer>\n            {({ state }) => {\n              if (error) {\n                console.error(error);\n                return <div>Error!</div>;\n              }\n\n              const sandboxes =\n                loading || !data.me || !data.me.collection\n                  ? []\n                  : data.me.collection.sandboxes;\n\n              const possibleTemplates = getPossibleTemplates(sandboxes);\n\n              // We want to hide all templates\n              // TODO: make this a query variable for graphql and move the logic to the server\n              const noTemplateSandboxes = sandboxes.filter(\n                s => !s.customTemplate\n              );\n              const orderedSandboxes = state.dashboard.getFilteredSandboxes(\n                noTemplateSandboxes\n              );\n\n              let mostUsedTemplate = null;\n              if (!loading) {\n                try {\n                  mostUsedTemplate = getMostUsedTemplate(sandboxes);\n                } catch (e) {\n                  // Not critical\n                }\n              }\n\n              return (\n                <Sandboxes\n                  ExtraElement={({ style }) => (\n                    <CreateNewSandboxButton\n                      collectionId={\n                        data &&\n                        data.me &&\n                        data.me.collection &&\n                        data.me.collection.id\n                      }\n                      mostUsedSandboxTemplate={mostUsedTemplate}\n                      style={style}\n                    />\n                  )}\n                  isLoading={loading}\n                  possibleTemplates={possibleTemplates}\n                  Header={<Navigation teamId={teamId} path={path} />}\n                  // Fix React Virtualized First\n                  // SubHeader={\n                  //   <Folders me={data.me} loading={loading} teamId={teamId} />\n                  // }\n                  sandboxes={orderedSandboxes}\n                />\n              );\n            }}\n          </Observer>\n        )}\n      </Query>\n    </>\n  );\n};\n\nexport default PathedSandboxes;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  padding-left: 2rem;\n`;\n\nexport const Grid = styled.section`\n  padding-top: 2rem;\n  display: grid;\n  grid-gap: 32px;\n  grid-template-columns: repeat(auto-fill, 203.5px);\n\n  height: auto;\n  overflow-y: auto;\n\n  margin-bottom: 2rem;\n`;\n\nexport const EmptyTitle = styled.h2`\n  font-size: 16px;\n  line-height: 1.6;\n  margin: 18px 0;\n  width: 500px;\n\n  color: rgba(255, 255, 255, 0.7);\n`;\n","import styled from 'styled-components';\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n\n  a:not(:last-child) {\n    margin-right: 1rem;\n  }\n`;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n`;\n\nexport const NavigationTitle = styled.h2`\n  display: inline-flex;\n  margin-right: 0.5rem;\n  text-decoration: none;\n  transition: 0.3s ease color;\n  font-size: 1.25rem;\n  margin-left: 0;\n  color: white;\n  margin-top: 0;\n  margin-bottom: 0;\n  font-weight: 400;\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport const Number = styled.span`\n  font-size: 1rem;\n  font-weight: 600;\n  color: rgba(255, 255, 255, 0.6);\n  margin-left: 0.5rem;\n`;\n","import React from 'react';\nimport { Container, NavigationTitle, Number } from './elements';\n\ninterface INavigationProps {\n  teamId?: string;\n  number?: number;\n  bookmarked?: boolean;\n}\n\nexport const Navigation = ({\n  teamId,\n  number,\n  bookmarked,\n}: INavigationProps) => (\n  <Container>\n    {bookmarked ? (\n      <NavigationTitle>\n        {teamId ? 'Bookmarked Templates' : 'Bookmarked Templates'}\n      </NavigationTitle>\n    ) : (\n      <NavigationTitle>\n        {teamId ? 'Team Templates' : 'My Templates'}\n      </NavigationTitle>\n    )}\n\n    {number != null && <Number>{number}</Number>}\n  </Container>\n);\n","import gql from 'graphql-tag';\n\nexport const UNBOOKMARK_TEMPLATE_FROM_DASHBOARD = gql`\n  mutation unbookmarkTemplateFromDashboard($template: ID!, $teamId: ID) {\n    unbookmarkTemplate(templateId: $template, teamId: $teamId) {\n      id\n      bookmarked {\n        isBookmarked\n        entity {\n          __typename\n          ... on User {\n            id\n            name: username\n          }\n          ... on Team {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n`;\n","import React, { useEffect } from 'react';\nimport { sortBy } from 'lodash-es';\nimport { useQuery, useMutation, useApolloClient } from '@apollo/react-hooks';\nimport { DelayedAnimation } from 'app/components/DelayedAnimation';\nimport { Button } from '@codesandbox/common/lib/components/Button';\nimport { sandboxUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport history from 'app/utils/history';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { ContextMenu } from 'app/components/ContextMenu';\nimport CustomTemplate from '@codesandbox/common/lib/components/CustomTemplate';\nimport { getSandboxName } from '@codesandbox/common/lib/utils/get-sandbox-name';\nimport { LIST_BOOKMARKED_TEMPLATES_QUERY } from 'app/components/CreateNewSandbox/queries';\nimport {\n  UnbookmarkTemplateFromDashboardMutation,\n  UnbookmarkTemplateFromDashboardMutationVariables,\n  ListPersonalBookmarkedTemplatesQuery,\n} from 'app/graphql/types';\nimport { useOvermind } from 'app/overmind';\nimport { ButtonContainer } from './elements';\n\nimport { Grid, EmptyTitle } from '../elements';\nimport { Navigation } from '../Navigation';\nimport { UNBOOKMARK_TEMPLATE_FROM_DASHBOARD } from './mutations';\n\ntype BookmarkedTemplatesProps = { teamId?: string };\n\nexport const BookmarkedTemplates = (props: BookmarkedTemplatesProps) => {\n  const { teamId } = props;\n\n  const { actions } = useOvermind();\n\n  const { loading, error, data } = useQuery<\n    ListPersonalBookmarkedTemplatesQuery\n  >(LIST_BOOKMARKED_TEMPLATES_QUERY);\n  const client = useApolloClient();\n  const [unBookmark] = useMutation<\n    UnbookmarkTemplateFromDashboardMutation,\n    UnbookmarkTemplateFromDashboardMutationVariables\n  >(UNBOOKMARK_TEMPLATE_FROM_DASHBOARD, {\n    onCompleted({ unbookmarkTemplate: unbookmarkMutation }) {\n      const newTemplates = data.me.bookmarkedTemplates.filter(\n        template => template.id !== unbookmarkMutation.id\n      );\n      client.writeData({\n        data: {\n          ...data,\n          me: {\n            ...data.me,\n            bookmarkedTemplates: newTemplates,\n          },\n        },\n      });\n    },\n  });\n\n  useEffect(() => {\n    document.title = `${\n      teamId ? 'Team' : 'My'\n    } Bookmarked Templates - CodeSandbox`;\n  }, [teamId]);\n\n  const sortedTemplates = React.useMemo(() => {\n    if (data && data.me) {\n      if (teamId) {\n        const team = data.me.teams.find(t => t.id === teamId);\n        return team.bookmarkedTemplates;\n      }\n\n      return data.me.bookmarkedTemplates;\n    }\n\n    return undefined;\n  }, [teamId, data]);\n\n  if (error) {\n    console.error(error);\n    return <div>Error!</div>;\n  }\n\n  if (loading || !sortedTemplates) {\n    return (\n      <DelayedAnimation\n        delay={0.6}\n        style={{\n          textAlign: 'center',\n          marginTop: '2rem',\n          fontWeight: 600,\n          color: 'rgba(255, 255, 255, 0.5)',\n        }}\n      >\n        Fetching Templates...\n      </DelayedAnimation>\n    );\n  }\n  const orderedTemplates = sortBy(sortedTemplates, template =>\n    getSandboxName(template.sandbox).toLowerCase()\n  );\n\n  return (\n    <>\n      <Navigation bookmarked teamId={teamId} number={orderedTemplates.length} />\n      {!orderedTemplates.length && (\n        <div>\n          <EmptyTitle>\n            <p style={{ marginBottom: '0.5rem' }}>\n              You don{\"'\"}t have any bookmarked templates yet. You can discover\n              new templates on Template Universe!\n            </p>\n            <ButtonContainer>\n              <Button small href=\"/docs/templates\" secondary>\n                Learn more\n              </Button>\n              <Button\n                small\n                onClick={() => {\n                  actions.modalOpened({\n                    modal: 'newSandbox',\n                  });\n                }}\n              >\n                Explore\n              </Button>\n            </ButtonContainer>\n          </EmptyTitle>\n        </div>\n      )}\n      <Grid>\n        {orderedTemplates.map((template, i) => (\n          <ContextMenu\n            items={[\n              {\n                title: 'Unbookmark Template',\n                action: () => {\n                  track('Template - Unbookmarked', { source: 'Context Menu' });\n                  if (teamId) {\n                    unBookmark({\n                      variables: { teamId, template: template.id },\n                    });\n                  } else {\n                    unBookmark({\n                      variables: {\n                        template: template.id,\n                        teamId: undefined,\n                      },\n                    });\n                  }\n                  return true;\n                },\n              },\n            ]}\n            key={template.id}\n          >\n            <CustomTemplate\n              i={i}\n              template={template}\n              onClick={() => history.push(sandboxUrl(template.sandbox))}\n            />\n          </ContextMenu>\n        ))}\n      </Grid>\n    </>\n  );\n};\n","import React from 'react';\nimport { sortBy } from 'lodash-es';\nimport { useQuery } from '@apollo/react-hooks';\n\nimport { DelayedAnimation } from 'app/components/DelayedAnimation';\nimport { ContextMenu } from 'app/components/ContextMenu';\nimport { useOvermind } from 'app/overmind';\nimport history from 'app/utils/history';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport theme from '@codesandbox/common/lib/theme';\nimport { sandboxUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport CustomTemplate from '@codesandbox/common/lib/components/CustomTemplate';\nimport { getSandboxName } from '@codesandbox/common/lib/utils/get-sandbox-name';\nimport {\n  LIST_OWNED_TEMPLATES,\n  unmakeTemplates,\n} from 'app/components/CreateNewSandbox/queries';\nimport {\n  ListTemplatesQuery,\n  ListTemplatesQueryVariables,\n} from 'app/graphql/types';\nimport { Grid, EmptyTitle } from '../elements';\nimport { Navigation } from '../Navigation';\n\ntype OwnedTemplatesProps = { teamId?: string };\n\nexport const OwnedTemplates = (props: OwnedTemplatesProps) => {\n  const {\n    actions: {\n      dashboard: { deleteTemplate },\n    },\n    effects: {\n      browser: { copyToClipboard },\n    },\n  } = useOvermind();\n  const { teamId } = props;\n  const { loading, error, data, refetch } = useQuery<\n    ListTemplatesQuery,\n    ListTemplatesQueryVariables\n  >(LIST_OWNED_TEMPLATES, {\n    variables: { showAll: false },\n  });\n\n  if (error) {\n    console.error(error);\n    return <div>Error!</div>;\n  }\n\n  if (loading) {\n    return (\n      <DelayedAnimation\n        delay={0.6}\n        style={{\n          textAlign: 'center',\n          marginTop: '2rem',\n          fontWeight: 600,\n          color: 'rgba(255, 255, 255, 0.5)',\n        }}\n      >\n        Fetching Templates...\n      </DelayedAnimation>\n    );\n  }\n\n  const templatesToUse = teamId\n    ? data.me.teams.find(t => t.id === teamId)?.templates\n    : data.me.templates;\n\n  const sortedTemplates = sortBy(templatesToUse, template =>\n    getSandboxName(template.sandbox).toLowerCase()\n  );\n\n  return (\n    <>\n      <Navigation teamId={teamId} number={sortedTemplates.length} />\n      {!sortedTemplates.length && (\n        <div>\n          <EmptyTitle>\n            <p style={{ marginBottom: '0.5rem' }}>\n              You have not created any templates yet. You can create a template\n              by dragging a sandbox from {'\"'}My Sandboxes{'\"'} to here or by\n              clicking {'\"'}Create Template{'\"'} from the editor.\n            </p>\n            You can learn more about templates{' '}\n            <a href=\"/docs/templates\" target=\"_blank\">\n              here\n            </a>\n            .\n          </EmptyTitle>\n        </div>\n      )}\n      <Grid>\n        {sortedTemplates.map((template, i) => (\n          <ContextMenu\n            items={[\n              [\n                {\n                  title: 'Convert to Sandbox',\n                  action: () => {\n                    track('Template - Removed', { source: 'Context Menu' });\n                    unmakeTemplates([template.sandbox.id]);\n                    return true;\n                  },\n                },\n                {\n                  title: 'Copy Template Link',\n                  action: () => {\n                    copyToClipboard(\n                      `https://codesandbox.io${sandboxUrl(template.sandbox)}`\n                    );\n                    return true;\n                  },\n                },\n              ],\n              {\n                title: `Delete Template`,\n                action: () => {\n                  deleteTemplate({\n                    sandboxId: template.sandbox.id,\n                    templateId: template.id,\n                  }).then(() => refetch());\n                  return true;\n                },\n                color: theme.red.darken(0.2)(),\n              },\n            ]}\n            key={template.id}\n          >\n            <CustomTemplate\n              i={i}\n              template={template}\n              onClick={() => history.push(sandboxUrl(template.sandbox))}\n            />\n          </ContextMenu>\n        ))}\n      </Grid>\n    </>\n  );\n};\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { RouteComponentProps } from 'react-router';\nimport { Container } from './elements';\nimport { BookmarkedTemplates } from './BookmarkedTemplates';\nimport { OwnedTemplates } from './OwnedTemplates';\n\ntype TemplatesProps = RouteComponentProps<{ teamId: string }> & {};\n\nexport const Templates = (props: TemplatesProps) => {\n  const { teamId } = props.match.params;\n\n  return (\n    <Container>\n      <Helmet>\n        <title>{teamId ? 'Team' : 'My'} Templates - CodeSandbox</title>\n      </Helmet>\n\n      <OwnedTemplates teamId={teamId} />\n      <BookmarkedTemplates teamId={teamId} />\n    </Container>\n  );\n};\n","import { Observer } from 'app/overmind';\nimport React from 'react';\nimport { Query } from 'react-apollo';\nimport Helmet from 'react-helmet';\nimport RemoveIcon from 'react-icons/lib/md/highlight-remove';\n\nimport { DELETED_SANDBOXES_CONTENT_QUERY } from '../../../queries';\nimport { Content as Sandboxes } from '../../Sandboxes';\nimport { getPossibleTemplates } from '../../Sandboxes/utils';\n\nconst DeletedSandboxes = () => (\n  <>\n    <Helmet>\n      <title>Deleted Sandboxes - CodeSandbox</title>\n    </Helmet>\n    <Query\n      fetchPolicy=\"cache-and-network\"\n      query={DELETED_SANDBOXES_CONTENT_QUERY}\n    >\n      {({ loading, error, data }) => (\n        <Observer>\n          {({ state, actions }) => {\n            if (error) {\n              return <div>Error!</div>;\n            }\n\n            const sandboxes = loading\n              ? []\n              : (data && data.me && data.me.sandboxes) || [];\n\n            const possibleTemplates = getPossibleTemplates(sandboxes);\n\n            const orderedSandboxes = state.dashboard.getFilteredSandboxes(\n              sandboxes\n            );\n            const trashSandboxIds = orderedSandboxes.map(i => i.id);\n            if (\n              JSON.stringify(state.dashboard.trashSandboxIds) !==\n              JSON.stringify(trashSandboxIds)\n            ) {\n              actions.dashboard.setTrashSandboxes({\n                sandboxIds: trashSandboxIds,\n              });\n            }\n\n            return (\n              <Sandboxes\n                isLoading={loading}\n                Header=\"Deleted Sandboxes\"\n                sandboxes={orderedSandboxes}\n                possibleTemplates={possibleTemplates}\n                actions={\n                  orderedSandboxes.length\n                    ? [\n                        {\n                          name: 'Empty Trash',\n                          Icon: <RemoveIcon />,\n                          run: () => {\n                            actions.modalOpened({\n                              modal: 'emptyTrash',\n                            });\n                          },\n                        },\n                      ]\n                    : []\n                }\n              />\n            );\n          }}\n        </Observer>\n      )}\n    </Query>\n  </>\n);\n\nexport default DeletedSandboxes;\n","import { Observer } from 'app/overmind';\nimport Fuse from 'fuse.js';\nimport React from 'react';\nimport { Query } from 'react-apollo';\nimport Helmet from 'react-helmet';\n\nimport { SEARCH_SANDBOXES_QUERY } from '../../../queries';\nimport { Content as Sandboxes } from '../../Sandboxes';\nimport { getPossibleTemplates } from '../../Sandboxes/utils';\n\nlet lastSandboxes = null;\nlet searchIndex = null;\n\nconst SearchSandboxes = () => (\n  <Query query={SEARCH_SANDBOXES_QUERY}>\n    {({ loading, error, data }) => (\n      <Observer>\n        {({ state }) => {\n          if (error) {\n            return <div>Error!</div>;\n          }\n\n          const { search } = state.dashboard.filters;\n          let sandboxes = data && data.me && data.me.sandboxes;\n          if (\n            sandboxes &&\n            (lastSandboxes === null || lastSandboxes !== sandboxes)\n          ) {\n            searchIndex = new Fuse(sandboxes, {\n              threshold: 0.1,\n              distance: 1000,\n              keys: [\n                { name: 'title', weight: 0.4 },\n                { name: 'description', weight: 0.2 },\n                { name: 'alias', weight: 0.2 },\n                { name: 'source.template', weight: 0.1 },\n                { name: 'id', weight: 0.1 },\n              ],\n            });\n\n            lastSandboxes = sandboxes;\n          }\n\n          if (searchIndex && search) {\n            sandboxes = searchIndex.search(search);\n          }\n\n          const Header =\n            search && sandboxes\n              ? `${sandboxes.length} search results for '${search}'`\n              : 'Search results for all sandboxes';\n\n          let possibleTemplates = [];\n          if (sandboxes) {\n            possibleTemplates = getPossibleTemplates(sandboxes);\n\n            sandboxes = state.dashboard\n              .getFilteredSandboxes(sandboxes)\n              .filter(x => !x.customTemplate);\n          }\n\n          return (\n            <>\n              <Helmet>\n                <title>\n                  {search\n                    ? `Search: '${search}' - CodeSandbox`\n                    : 'Search - CodeSandbox'}\n                </title>\n              </Helmet>\n              <Sandboxes\n                isLoading={loading}\n                Header={Header}\n                page=\"search\"\n                hideOrder={Boolean(search)}\n                sandboxes={loading ? [] : sandboxes}\n                possibleTemplates={possibleTemplates}\n              />\n            </>\n          );\n        }}\n      </Observer>\n    )}\n  </Query>\n);\n\nexport default SearchSandboxes;\n","import styled from 'styled-components';\n\nexport const Label = styled.label`\n  display: block;\n  font-weight: 600;\n  color: ${props =>\n    props.theme.light ? 'rgba(0, 0, 0, 0.7)' : 'rgba(255, 255, 255, 0.7)'};\n  margin-bottom: 0.5rem;\n  margin-top: 2rem;\n`;\n\nexport const ComingSoon = styled.div`\n  position: relative;\n\n  &:hover {\n    .overlay {\n      opacity: 1;\n    }\n  }\n`;\n\nexport const Overlay = styled.div`\n  transition: 0.3s ease opacity;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n\n  padding: 2rem;\n\n  display: flex;\n  justify-content: center;\n\n  font-weight: 600;\n  font-size: 1.5rem;\n\n  color: white;\n`;\n\nexport const PatronInfo = styled.div`\n  position: absolute;\n  left: 100%;\n  margin-left: 2rem;\n  width: 400px;\n`;\n\nexport const QuestionHeader = styled.h2`\n  font-size: 1.125rem;\n  font-weight: 600;\n  margin-top: 0.5rem;\n  margin-bottom: 1rem;\n  color: white;\n`;\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  transition: 0.3s ease border-color;\n  border-radius: 4px;\n  padding: 1rem;\n  border: 2px solid rgba(0, 0, 0, 0.3);\n  color: rgba(255, 255, 255, 0.8);\n\n  background-color: ${props => props.theme.background};\n  margin-bottom: 1.5rem;\n\n  cursor: pointer;\n\n  ${props =>\n    props.selected\n      ? css`\n          border-color: ${props.theme.shySecondary};\n        `\n      : css`\n          &:hover {\n            border-color: ${props.theme.shySecondary.clearer(0.6)};\n          }\n        `};\n`;\n\nexport const Name = styled.h1`\n  font-size: 1.125rem;\n  font-weight: 600;\n  margin-top: 0;\n  margin-bottom: 1rem;\n  color: white;\n`;\n\nexport const Points = styled.div`\n  font-size: 1rem;\n  font-weight: 600;\n  line-height: 1.6;\n  color: ${props =>\n    props.theme.light ? 'rgba(0, 0, 0, 0.7)' : 'rgba(255, 255, 255, 0.7)'};\n`;\n\nexport const CheckBox = styled.span`\n  ${props =>\n    props.selected\n      ? css`\n          background: ${props.color} url('') no-repeat 50%/10px;\n          background-image: url(\"data:image/svg+xml;utf8,<svg viewBox='0 0 10 9' xmlns='http://www.w3.org/2000/svg'><path d='M1 4.88l2.378 2.435L9.046 1.6' stroke-width='1.6' stroke='%23FFF' fill='none' fill-rule='evenodd' stroke-linecap='round' stroke-linejoin='round'/></svg>\");\n        `\n      : css`\n          background: rgba(0, 0, 0, 0.3) url('') no-repeat 50%/10px;\n          background-image: url(\"data:image/svg+xml;utf8,<svg viewBox='0 0 10 9' xmlns='http://www.w3.org/2000/svg'><path fill='rgba(255, 255, 255, 0.2)/></svg>\");\n        `};\n  border: 2px solid transparent;\n\n  ${props =>\n    props.selected &&\n    css`\n      border-color: ${props.color};\n    `};\n  box-shadow: none;\n  display: inline-block;\n  border-radius: 3.5px;\n  width: 16px;\n  height: 16px;\n  outline: none;\n  vertical-align: middle;\n  margin-right: 0.75rem;\n  transition: 0.15s ease all;\n  cursor: pointer;\n`;\n","import React from 'react';\nimport theme from '@codesandbox/common/lib/theme';\n\nimport { Container, Name, Points, CheckBox } from './elements';\n\n/* eslint-disable react/no-array-index-key) */\nexport default ({ name, points, selected }) => (\n  <Container selected={selected}>\n    <Name>{name}</Name>\n    <Points>\n      {points.map((point, i) => (\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            marginTop: '.25rem',\n          }}\n          // eslint-disable-next-line\n          key={i}\n        >\n          <CheckBox\n            selected\n            color={selected ? theme.shySecondary : theme.background2}\n          />\n          <div> {point}</div>\n        </div>\n      ))}\n    </Points>\n  </Container>\n);\n","import React from 'react';\nimport { Mutation } from 'react-apollo';\n\nimport Input from '@codesandbox/common/lib/components/Input';\nimport { Button } from '@codesandbox/common/lib/components/Button';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport history from 'app/utils/history';\nimport { teamOverviewUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { notificationState } from '@codesandbox/common/lib/utils/notifications';\nimport { NotificationStatus } from '@codesandbox/notifications';\n\nimport { Container, Description, HeaderContainer } from '../../elements';\nimport {\n  Label,\n  ComingSoon,\n  Overlay,\n  PatronInfo,\n  QuestionHeader,\n} from './elements';\nimport { CREATE_TEAM_MUTATION, TEAMS_QUERY } from '../../../queries';\n\nimport Plan from './Plan';\n\nconst FREE_POINTS = [\n  'Unlimited Users',\n  '20 Mb Static File Hosting per User',\n  'Live Collaboration',\n];\n\nconst PRO_POINTS = [\n  'Unlimited Users',\n  '500 Mb Static File Hosting per User',\n  'Live Collaboration',\n  'Team Invoices',\n  'Private & Unlisted Sandboxes',\n];\n\nexport default class CreateTeam extends React.PureComponent {\n  state = { inputValue: '' };\n\n  handleChange = e => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  render() {\n    return (\n      <Container style={{ width: 500 }}>\n        <HeaderContainer>Create a Team</HeaderContainer>\n\n        <Description>\n          Make collaboration easy by creating teams. Teams allow you to create\n          and edit sandboxes that are shared between you and your team members.\n        </Description>\n\n        <Mutation mutation={CREATE_TEAM_MUTATION}>\n          {mutate => {\n            const submit = e => {\n              e.preventDefault();\n              e.stopPropagation();\n              const name = this.state.inputValue;\n\n              track('Team - Create Team');\n\n              mutate({\n                variables: {\n                  name,\n                },\n                optimisticResponse: {\n                  __typename: 'Mutation',\n                  createTeam: {\n                    __typename: 'Team',\n                    id: 'new-team',\n                    name,\n                  },\n                },\n                update: (proxy, { data: { createTeam } }) => {\n                  // Read the data from our cache for this query.\n                  const d = proxy.readQuery({\n                    query: TEAMS_QUERY,\n                  });\n\n                  // Add our team from the mutation to the end.\n                  d.me.teams.push(createTeam);\n                  // Write our data back to the cache.\n                  proxy.writeQuery({\n                    query: TEAMS_QUERY,\n                    data: d,\n                  });\n                },\n              }).then(({ data }) => {\n                notificationState.addNotification({\n                  message: `Successfully created team '${data.createTeam.name}'`,\n                  status: NotificationStatus.SUCCESS,\n                });\n\n                history.push(teamOverviewUrl(data.createTeam.id));\n              });\n            };\n\n            return (\n              <form onSubmit={submit}>\n                <Label htmlFor=\"team-name\">Team Name</Label>\n                <Input id=\"team-name\" onChange={this.handleChange} block />\n\n                <Label>Team Plan</Label>\n                <Plan selected points={FREE_POINTS} name=\"Free\" />\n\n                <ComingSoon style={{ position: 'relative' }}>\n                  <PatronInfo>\n                    <QuestionHeader>\n                      What if I{\"'\"}m a{' '}\n                      <a target=\"_blank\" href=\"/patron\">\n                        <span>Pro</span>\n                      </a>\n                      ?\n                    </QuestionHeader>\n\n                    <Description>\n                      You can benefit from all Pro features. This means that you\n                      can create unlimited private and unlisted sandboxes as a\n                      Pro in your team.\n                      <br />\n                      <br />\n                      When we release Team Pro it will be required to have a Pro\n                      subscription to get the Pro functionality.\n                    </Description>\n                  </PatronInfo>\n\n                  <Overlay className=\"overlay\">\n                    Coming Soon\n                    <div style={{ fontSize: '1.125rem' }}>\n                      <Button\n                        href=\"https://airtable.com/shrlgLSJWiX8rYqyG\"\n                        target=\"_blank\"\n                        rel=\"noreferrer noopener\"\n                        small\n                        style={{\n                          position: 'absolute',\n                          boxSizing: 'border-box',\n\n                          bottom: '2rem',\n                          left: '2rem',\n                          right: '2rem',\n                          width: 'calc(100% - 4rem)',\n                        }}\n                      >\n                        Let me know when this releases\n                      </Button>\n                    </div>\n                  </Overlay>\n                  <Plan points={PRO_POINTS} name=\"Pro\" />\n                </ComingSoon>\n\n                <Button\n                  type=\"submit\"\n                  disabled={this.state.inputValue === ''}\n                  style={{ float: 'right', marginBottom: '1rem' }}\n                >\n                  Create Team!\n                </Button>\n              </form>\n            );\n          }}\n        </Mutation>\n      </Container>\n    );\n  }\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { Button } from '@codesandbox/components';\n\nimport { useMutation } from '@apollo/react-hooks';\n\nimport track from '@codesandbox/common/lib/utils/analytics';\n\nimport { UserSearchInput } from 'app/components/UserSearchInput';\n\nimport { useOvermind } from 'app/overmind';\nimport { INVITE_TO_TEAM, INVITE_TO_TEAM_VIA_EMAIL } from '../../../../queries';\nimport { IAddTeamMemberProps, IMutationVariables } from './types';\n\nconst ErrorMessage = styled.div`\n  color: ${props => props.theme.red};\n  font-weight: 600;\n  font-size: 0.875rem;\n  margin-bottom: 0.5rem;\n`;\n\nexport const AddTeamMember: React.FC<IAddTeamMemberProps> = ({ teamId }) => {\n  const { actions } = useOvermind();\n  const [inviteToTeam] = useMutation(INVITE_TO_TEAM);\n  const [inviteToTeamViaEmail] = useMutation(INVITE_TO_TEAM_VIA_EMAIL);\n\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState<\n    null | (Error & { graphQLErrors: Error[] })\n  >(null);\n  const [inviteValue, setInviteValue] = React.useState('');\n\n  const submit: React.FormEventHandler = async e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setLoading(true);\n    setError(null);\n\n    try {\n      const isEmail = inviteValue.includes('@');\n\n      track('Team - Add Member', { email: isEmail });\n\n      // We don't enable email for now for privacy reasons\n\n      const variables: IMutationVariables = { teamId };\n\n      const inviteVar = inviteValue;\n      setInviteValue('');\n\n      if (isEmail) {\n        variables.email = inviteVar;\n        await inviteToTeamViaEmail({\n          variables,\n        });\n      } else {\n        variables.username = inviteVar;\n        await inviteToTeam({\n          variables,\n        });\n      }\n\n      actions.notificationAdded({\n        title: `${inviteVar} has been invited!`,\n        notificationType: 'success',\n      });\n    } catch (err) {\n      setError(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const errorMessage =\n    error &&\n    error.graphQLErrors &&\n    error.graphQLErrors[0] &&\n    error.graphQLErrors[0].message;\n\n  return (\n    <>\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      <form style={{ display: 'flex' }} onSubmit={loading ? undefined : submit}>\n        <UserSearchInput\n          inputValue={inviteValue}\n          onInputValueChange={val => {\n            setInviteValue(val);\n          }}\n        />\n        <Button\n          type=\"submit\"\n          loading={loading}\n          style={{ width: 200, marginLeft: 8 }}\n        >\n          {loading ? 'Adding Member...' : 'Add Member'}\n        </Button>\n      </form>\n    </>\n  );\n};\n","import styled from 'styled-components';\nimport CrossIcon from 'react-icons/lib/md/clear';\nimport EditIcon from 'react-icons/lib/go/pencil';\n\nexport const TeamContainer = styled.div`\n  display: flex;\n  width: 100%;\n\n  @media (max-width: 900px) {\n    flex-direction: column;\n  }\n`;\n\nexport const Section = styled.div`\n  flex: 1;\n  width: 100%;\n\n  margin-right: 2rem;\n`;\n\nexport const Members = styled.div`\n  margin-top: 1rem;\n\n  @media (max-width: 768px) {\n    margin-left: 1rem;\n  }\n`;\n\nexport const MemberHeader = styled.div`\n  margin: 1.5rem 0;\n  margin-bottom: 0.5rem;\n  font-size: 0.875rem;\n\n  font-weight: 600;\n  color: rgba(255, 255, 255, 0.6);\n`;\n\nexport const StyledCrossIcon = styled(CrossIcon)`\n  transition: 0.3s ease color;\n  color: white;\n  cursor: pointer;\n\n  &:hover {\n    color: ${props => props.theme.red};\n  }\n`;\n\nexport const StyledEditIcon = styled(EditIcon)`\n  transition: 0.3s ease color;\n  vertical-align: middle;\n  font-size: 1rem;\n  margin-bottom: 5px;\n  margin-left: 0.75rem;\n  color: ${props =>\n    props.theme.light ? 'rgba(0, 0, 0, 0.7)' : 'rgba(255, 255, 255, 0.7)'};\n  cursor: pointer;\n\n  &:hover {\n    color: white;\n  }\n`;\n","import React from 'react';\nimport { Mutation } from 'react-apollo';\n\nimport Tooltip from '@codesandbox/common/lib/components/Tooltip';\nimport history from 'app/utils/history';\nimport { dashboardUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { NotificationStatus } from '@codesandbox/notifications';\nimport { notificationState } from '@codesandbox/common/lib/utils/notifications';\n\nimport { REMOVE_FROM_TEAM, LEAVE_TEAM } from '../../../../queries';\n\nimport { StyledCrossIcon } from '../elements';\n\nexport const RemoveTeamMember = ({\n  creatorId,\n  currentUserId,\n  userId,\n  totalMemberSize,\n  teamId,\n  name,\n}) => {\n  if (creatorId === userId && totalMemberSize > 1) {\n    return (\n      <div\n        style={{\n          float: 'right',\n          fontSize: '.875rem',\n          fontWeight: 400,\n          fontStyle: 'italic',\n        }}\n      >\n        Owner\n      </div>\n    );\n  }\n\n  const isCreator = currentUserId === creatorId;\n  const isOwnUser = userId === currentUserId;\n\n  if (isCreator || isOwnUser) {\n    return (\n      <Tooltip\n        content={\n          isOwnUser ? 'Leave the team' : `Remove '${name}' from the team`\n        }\n        style={{\n          fontSize: '1rem',\n        }}\n      >\n        <Mutation\n          variables={isOwnUser ? { teamId } : { teamId, userId }}\n          mutation={isOwnUser ? LEAVE_TEAM : REMOVE_FROM_TEAM}\n          refetchQueries={isOwnUser ? ['TeamsSidebar'] : []}\n          onCompleted={() => {\n            notificationState.addNotification({\n              message: isOwnUser\n                ? 'Successfully left the team'\n                : 'Successfully removed from team',\n              status: NotificationStatus.SUCCESS,\n            });\n\n            history.push(dashboardUrl());\n          }}\n        >\n          {(mutate, { loading }) => (\n            <StyledCrossIcon\n              style={{\n                opacity: loading ? 0.5 : 1,\n                userSelect: loading ? 'none' : 'initial',\n              }}\n              onClick={() => {\n                let confirmation = true;\n                if (isOwnUser && isCreator) {\n                  // eslint-disable-next-line no-alert\n                  confirmation = confirm(\n                    \"Are you sure you want to leave? You won't be able to access the team again.\"\n                  );\n                }\n                if (confirmation) {\n                  mutate();\n                }\n              }}\n            />\n          )}\n        </Mutation>\n      </Tooltip>\n    );\n  }\n\n  return false;\n};\n","import React from 'react';\n\nimport { Button, Stack, Input } from '@codesandbox/components';\nimport { teamInviteLink } from '@codesandbox/common/lib/utils/url-generator';\n\nimport { useOvermind } from 'app/overmind';\nimport { IInviteLinkProps } from './types';\n\nexport const InviteLink: React.FC<IInviteLinkProps> = ({ inviteToken }) => {\n  const { effects } = useOvermind();\n\n  const [isCopied, setIsCopied] = React.useState(false);\n\n  const inviteLink = teamInviteLink(inviteToken);\n\n  const copyLink = () => {\n    setIsCopied(true);\n    effects.browser.copyToClipboard(inviteLink);\n\n    setTimeout(() => {\n      setIsCopied(false);\n    }, 2000);\n  };\n\n  return (\n    <Stack gap={2}>\n      <Input onClick={e => e.target.select()} value={inviteLink} />\n      <Button onClick={copyLink} style={{ width: 200 }}>\n        {isCopied ? 'Copied!' : 'Copy Invite Link'}\n      </Button>\n    </Stack>\n  );\n};\n","import AutosizeTextArea from '@codesandbox/common/lib/components/AutosizeTextArea';\nimport { Button, Input } from '@codesandbox/components';\nimport Margin from '@codesandbox/common/lib/components/spacing/Margin';\nimport { UserWithAvatar } from '@codesandbox/common/lib/components/UserWithAvatar';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { Observer } from 'app/overmind';\nimport { sortBy } from 'lodash-es';\nimport React from 'react';\nimport { Mutation, Query } from 'react-apollo';\nimport Helmet from 'react-helmet';\n\nimport {\n  REVOKE_TEAM_INVITATION,\n  SET_TEAM_DESCRIPTION,\n  SET_TEAM_NAME,\n  TEAM_QUERY,\n} from '../../../queries';\nimport { Container, Description, HeaderContainer } from '../../elements';\nimport { AddTeamMember } from './AddTeamMember';\nimport {\n  MemberHeader,\n  Members,\n  Section,\n  StyledEditIcon,\n  TeamContainer,\n} from './elements';\nimport { RemoveTeamMember } from './RemoveTeamMember';\nimport { InviteLink } from './InviteLink';\n\nconst User = ({ user, rightElement }) => (\n  <div\n    style={{\n      display: 'flex',\n      alignItems: 'center',\n      fontWeight: 600,\n      marginBottom: '.5rem',\n      color: 'rgba(255, 255, 255, 0.9)',\n    }}\n  >\n    <div style={{ width: '100%' }}>\n      <UserWithAvatar\n        name={user.name}\n        username={user.username}\n        avatarUrl={user.avatarUrl}\n        hideBadge\n        useBigName\n      />\n    </div>\n\n    {rightElement}\n  </div>\n);\n\nclass TeamView extends React.PureComponent {\n  state = {\n    editingDescription: false,\n    editingName: false,\n  };\n\n  render() {\n    const { teamId } = this.props.match.params;\n\n    return (\n      <Container>\n        <Query query={TEAM_QUERY} variables={{ id: teamId }}>\n          {({ data, loading, error }) => (\n            <Observer>\n              {({ state }) => {\n                const currentUser = state.user;\n                if (loading || error) {\n                  return null;\n                }\n\n                const description =\n                  data.me.team.description ||\n                  `This is a description for your team. You can change this description and invite people to the team so they can edit the sandboxes of this team.`;\n\n                return (\n                  <TeamContainer>\n                    <Helmet>\n                      <title>{data.me.team.name} - CodeSandbox</title>\n                    </Helmet>\n                    <Section>\n                      <HeaderContainer>\n                        {this.state.editingName ? (\n                          <Mutation mutation={SET_TEAM_NAME}>\n                            {(mutate, { loading: nameLoading }) => {\n                              let input = null;\n\n                              const stopEditing = () => {\n                                this.setState({ editingName: false });\n                              };\n                              const submit = e => {\n                                e.preventDefault();\n                                e.stopPropagation();\n\n                                mutate({\n                                  variables: {\n                                    teamId,\n                                    name: input.value,\n                                  },\n                                }).then(stopEditing);\n                              };\n\n                              return (\n                                <form\n                                  onSubmit={nameLoading ? undefined : submit}\n                                  style={{ width: '100%' }}\n                                >\n                                  <div\n                                    style={{\n                                      width: '100%',\n                                      lineHeight: '1.6',\n                                    }}\n                                  >\n                                    <Input\n                                      ref={node => {\n                                        input = node;\n                                        if (node) {\n                                          node.focus();\n                                        }\n                                      }}\n                                      onBlur={() => {\n                                        stopEditing();\n                                      }}\n                                      style={{\n                                        padding: '.5em',\n                                        lineHeight: '1.6',\n                                      }}\n                                      defaultValue={data.me.team.name}\n                                    />\n                                  </div>\n                                </form>\n                              );\n                            }}\n                          </Mutation>\n                        ) : (\n                          <div\n                            style={{\n                              display: 'flex',\n                              justifyContent: 'center',\n                            }}\n                          >\n                            {data.me.team.name}{' '}\n                            <StyledEditIcon\n                              onClick={() => {\n                                this.setState(currentState => ({\n                                  editingName: !currentState.editingName,\n                                }));\n                              }}\n                            />\n                          </div>\n                        )}\n                      </HeaderContainer>\n                      <Description>\n                        {this.state.editingDescription ? (\n                          <Mutation mutation={SET_TEAM_DESCRIPTION}>\n                            {(mutate, { loading: descriptionLoading }) => {\n                              let input = null;\n\n                              const stopEditing = () => {\n                                this.setState({ editingDescription: false });\n                              };\n                              const submit = e => {\n                                e.preventDefault();\n                                e.stopPropagation();\n\n                                mutate({\n                                  variables: {\n                                    teamId,\n                                    description: input.value,\n                                  },\n                                }).then(stopEditing);\n                              };\n\n                              return (\n                                <form\n                                  onSubmit={\n                                    descriptionLoading ? undefined : submit\n                                  }\n                                  style={{ width: '100%' }}\n                                >\n                                  <div\n                                    style={{\n                                      width: '100%',\n                                      lineHeight: '1.6',\n                                    }}\n                                  >\n                                    <AutosizeTextArea\n                                      inputRef={node => {\n                                        input = node;\n                                      }}\n                                      multiline\n                                      style={{\n                                        padding: '.5em',\n                                        lineHeight: '1.6',\n                                      }}\n                                      defaultValue={description}\n                                    />\n                                  </div>\n                                  <div\n                                    style={{\n                                      display: 'flex',\n                                      width: 300,\n                                      float: 'right',\n                                    }}\n                                  >\n                                    <Button\n                                      style={{ marginRight: '.5rem', flex: 1 }}\n                                      variant=\"danger\"\n                                      onClick={stopEditing}\n                                      type=\"reset\"\n                                      loading={descriptionLoading}\n                                    >\n                                      Cancel\n                                    </Button>\n                                    <Button\n                                      style={{ marginLeft: '.5rem', flex: 1 }}\n                                      type=\"submit\"\n                                      loading={descriptionLoading}\n                                    >\n                                      Confirm\n                                    </Button>\n                                  </div>\n                                </form>\n                              );\n                            }}\n                          </Mutation>\n                        ) : (\n                          <div>\n                            {description}\n\n                            <StyledEditIcon\n                              onClick={() => {\n                                this.setState(currentState => ({\n                                  editingDescription: !currentState.editingDescription,\n                                }));\n                              }}\n                            />\n                          </div>\n                        )}\n                      </Description>\n                    </Section>\n                    <Section>\n                      <HeaderContainer>Team Members</HeaderContainer>\n\n                      <Members style={{ fontSize: '1rem' }}>\n                        {sortBy(\n                          data.me.team.users,\n                          u => u.name || u.username\n                        ).map(user => (\n                          <User\n                            user={user}\n                            key={user.username}\n                            rightElement={\n                              <RemoveTeamMember\n                                creatorId={data.me.team.creatorId}\n                                currentUserId={currentUser.id}\n                                userId={user.id}\n                                name={user.name || user.username}\n                                teamId={teamId}\n                                totalMemberSize={\n                                  data.me.team.users.length +\n                                  data.me.team.invitees.length\n                                }\n                              />\n                            }\n                          />\n                        ))}\n\n                        {data.me.team.invitees &&\n                          data.me.team.invitees.length > 0 && (\n                            <>\n                              <MemberHeader>Invited Members</MemberHeader>\n\n                              {data.me.team.invitees.map(user => (\n                                <Mutation\n                                  key={user.username}\n                                  mutation={REVOKE_TEAM_INVITATION}\n                                >\n                                  {(mutate, { loading: revokeLoading }) => {\n                                    track('Team - Revoke Invitation');\n\n                                    const handleClick = () =>\n                                      mutate({\n                                        variables: { userId: user.id, teamId },\n                                      });\n\n                                    return (\n                                      <User\n                                        user={user}\n                                        style={{\n                                          opacity: revokeLoading ? 0.5 : 1,\n                                        }}\n                                        rightElement={\n                                          <div\n                                            style={{\n                                              float: 'right',\n                                              fontSize: '.75rem',\n                                            }}\n                                          >\n                                            <Button\n                                              onClick={handleClick}\n                                              disabled={revokeLoading}\n                                              small\n                                            >\n                                              {revokeLoading\n                                                ? 'Revoking...'\n                                                : 'Revoke'}\n                                            </Button>\n                                          </div>\n                                        }\n                                      />\n                                    );\n                                  }}\n                                </Mutation>\n                              ))}\n                            </>\n                          )}\n\n                        <Margin top={1}>\n                          <AddTeamMember teamId={teamId} />\n                        </Margin>\n                        <Margin top={0.5}>\n                          <InviteLink inviteToken={data.me.team.inviteToken} />\n                        </Margin>\n                      </Members>\n                    </Section>\n                  </TeamContainer>\n                );\n              }}\n            </Observer>\n          )}\n        </Query>\n      </Container>\n    );\n  }\n}\n\nexport default TeamView;\n","import React from 'react';\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom';\n\nimport codesandbox from '@codesandbox/components/lib/themes/codesandbox.json';\nimport { ThemeProvider } from '@codesandbox/components';\n\nimport { RecentSandboxes } from './routes/RecentSandboxes';\nimport PathedSandboxes from './routes/PathedSandboxes';\nimport { Templates } from './routes/Templates';\nimport DeletedSandboxes from './routes/DeletedSandboxes';\nimport SearchSandboxes from './routes/SearchSandboxes';\nimport CreateTeam from './routes/CreateTeam';\nimport TeamView from './routes/TeamView';\n\nconst Content = () => (\n  <ThemeProvider theme={codesandbox}>\n    <Switch>\n      <Route path=\"/dashboard/recent\" component={RecentSandboxes} />\n      <Route path=\"/dashboard/trash\" component={DeletedSandboxes} />\n      <Route path=\"/dashboard/templates\" exact component={Templates} />\n      <Route path=\"/dashboard/sandboxes/:path*\" component={PathedSandboxes} />\n      <Route path=\"/dashboard/search\" component={SearchSandboxes} />\n      <Route path=\"/dashboard/teams/new\" component={CreateTeam} />\n      <Route exact path=\"/dashboard/teams/:teamId\" component={TeamView} />\n      <Route\n        path=\"/dashboard/teams/:teamId/sandboxes/:path*\"\n        component={PathedSandboxes}\n      />\n      <Route\n        path=\"/dashboard/teams/:teamId/templates\"\n        component={Templates}\n        exact\n      />\n      <Redirect to=\"/dashboard/recent\" />\n    </Switch>\n  </ThemeProvider>\n);\n\nexport default withRouter(Content);\n","import RightIconBase from 'react-icons/lib/md/keyboard-arrow-right';\nimport LeftIconBase from 'react-icons/lib/md/keyboard-arrow-left';\nimport styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  height: 100%;\n  width: 100%;\n\n  color: rgba(255, 255, 255, 0.8);\n`;\n\nexport const LeftIcon = styled(LeftIconBase)`\n  color: #ffffff;\n`;\n\nexport const RightIcon = styled(RightIconBase)`\n  color: #ffffff;\n`;\n\nexport const ShowSidebarButton = styled.button`\n  display: none;\n  transition: opacity 200ms ease;\n  border: none;\n  background-color: rgba(255, 255, 255, 0.1);\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n`;\n\nconst paddingTop = css`\n  padding-top: 100px;\n`;\n\nexport const SidebarContainer = styled.div<{ active: boolean }>`\n  display: flex;\n  box-sizing: border-box;\n\n  height: 100vh;\n  background-color: ${props => props.theme.background};\n\n  ${paddingTop};\n\n  box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.3);\n\n  @media (max-width: 768px) {\n    width: 0;\n    position: fixed;\n    transition: width 200ms ease;\n    z-index: 1;\n\n    ${props =>\n      props.active &&\n      css`\n        width: 275px;\n      `};\n  }\n`;\n\nexport const ContentContainer = styled.div`\n  ${paddingTop};\n\n  box-sizing: border-box;\n  height: 100vh;\n  overflow-y: auto;\n  width: 100%;\n`;\n","import styled from 'styled-components';\n\nexport const Items = styled.div`\n  margin-top: 0.5rem;\n  width: 100%;\n`;\n\nexport const CategoryHeader = styled.div`\n  display: block;\n  transition: 0.3s ease color;\n\n  margin-bottom: 0.75rem;\n  margin-left: 1rem;\n  padding-top: 1rem;\n  text-transform: uppercase;\n  font-size: 0.875rem;\n  color: rgba(255, 255, 255, 0.5);\n  text-decoration: none;\n  font-weight: 600;\n`;\n\nexport const SidebarStyled = styled.aside`\n  width: 275px;\n  overflow-y: auto;\n`;\n\nexport const InputWrapper = styled.div`\n  margin: 0 1rem;\n  margin-bottom: 1.5rem;\n`;\n","import React from 'react';\nimport { DropTarget } from 'react-dnd';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\n// @ts-ignore\nimport TemplateIcon from '-!svg-react-loader!@codesandbox/common/lib/icons/template.svg';\nimport { Item } from '../Item';\nimport { MAKE_TEMPLATE_DROP_KEY } from '../../Content/SandboxCard';\n\ninterface ITemplateItemProps {\n  currentPath: string;\n  teamId?: string;\n  canDrop?: boolean;\n  isOver?: boolean;\n  connectDropTarget?: any;\n}\n\nconst TemplateItemComponent: React.FC<ITemplateItemProps &\n  RouteComponentProps> = ({\n  currentPath,\n  isOver,\n  canDrop,\n  connectDropTarget,\n  teamId,\n}) => {\n  const url = teamId\n    ? `/dashboard/teams/${teamId}/templates`\n    : `/dashboard/templates`;\n\n  return connectDropTarget(\n    <div>\n      <Item\n        active={currentPath === url}\n        path={url}\n        Icon={TemplateIcon}\n        name=\"Templates\"\n        style={\n          isOver && canDrop ? { backgroundColor: 'rgba(0, 0, 0, 0.3)' } : {}\n        }\n      />\n    </div>\n  );\n};\n\nexport const entryTarget = {\n  drop: (props, monitor) => {\n    if (monitor == null) return {};\n\n    // Check if only child is selected:\n    if (!monitor.isOver({ shallow: true })) return {};\n\n    // Used in SandboxCard\n    return { [MAKE_TEMPLATE_DROP_KEY]: true, teamId: props.teamId };\n  },\n\n  canDrop: (props, monitor) => {\n    if (monitor == null) return false;\n    const source = monitor.getItem();\n    if (source == null) return false;\n\n    return !props.removedAt;\n  },\n};\n\nexport function collectTarget(connectMonitor, monitor) {\n  return {\n    // Call this function inside render()\n    // to let React DnD handle the drag events:\n    connectDropTarget: connectMonitor.dropTarget(),\n    // You can ask the monitor about the current drag state:\n    isOver: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n    itemType: monitor.getItemType(),\n  };\n}\n\nexport const TemplateItem = DropTarget(\n  ['SANDBOX'],\n  entryTarget,\n  collectTarget\n)(withRouter(TemplateItemComponent));\n","import React from 'react';\nimport { DropTarget } from 'react-dnd';\nimport TrashIcon from 'react-icons/lib/md/delete';\n\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\n\nimport { Item } from '../Item';\nimport { DELETE_SANDBOX_DROP_KEY } from '../../Content/SandboxCard';\n\ninterface Props {\n  currentPath: string;\n  isOver: boolean;\n  canDrop: boolean;\n  connectDropTarget: (target: React.ReactElement) => React.ReactElement;\n}\n\nconst TrashItemComponent: React.FC<Props & RouteComponentProps> = ({\n  currentPath,\n  isOver,\n  canDrop,\n  connectDropTarget,\n}) =>\n  connectDropTarget(\n    <div>\n      <Item\n        active={currentPath === '/dashboard/trash'}\n        path=\"/dashboard/trash\"\n        Icon={TrashIcon}\n        name=\"Trash\"\n        style={\n          isOver && canDrop ? { backgroundColor: 'rgba(0, 0, 0, 0.3)' } : {}\n        }\n      />\n    </div>\n  );\n\nexport const entryTarget = {\n  drop: (_, monitor) => {\n    if (monitor == null) return {};\n\n    // Check if only child is selected:\n    if (!monitor.isOver({ shallow: true })) return {};\n\n    // Used in SandboxCard\n    return { [DELETE_SANDBOX_DROP_KEY]: true };\n  },\n\n  canDrop: (props, monitor) => {\n    if (monitor == null) return false;\n    const source = monitor.getItem();\n    if (source == null) return false;\n\n    return !props.removedAt;\n  },\n};\n\nexport function collectTarget(connectMonitor, monitor) {\n  return {\n    // Call this function inside render()\n    // to let React DnD handle the drag events:\n    connectDropTarget: connectMonitor.dropTarget(),\n    // You can ask the monitor about the current drag state:\n    isOver: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n    itemType: monitor.getItemType(),\n  };\n}\n\nexport const TrashItem = DropTarget(\n  ['SANDBOX'],\n  entryTarget,\n  collectTarget\n)(withRouter(TrashItemComponent));\n","import { Button } from '@codesandbox/common/lib/components/Button';\nimport Input from '@codesandbox/common/lib/components/Input';\nimport { teamOverviewUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { useOvermind } from 'app/overmind';\nimport history from 'app/utils/history';\nimport React from 'react';\nimport { Query } from 'react-apollo';\nimport PeopleIcon from 'react-icons/lib/md/people';\nimport { Route, withRouter } from 'react-router-dom';\nimport DashboardIcon from '-!svg-react-loader!@codesandbox/common/lib/icons/dashboard.svg';\n\nimport { TEAMS_QUERY } from '../queries';\nimport { CategoryHeader, InputWrapper, Items, SidebarStyled } from './elements';\nimport { Item } from './Item';\nimport { SandboxesItem } from './SandboxesItem';\nimport { TemplateItem } from './TemplateItem';\nimport { TrashItem } from './TrashItem';\n\nconst SidebarComponent = () => {\n  const {\n    state: { dashboard: dashboardState },\n    actions: { dashboard: dashboardAction },\n  } = useOvermind();\n\n  const handleSearchFocus = () => {\n    history.push('/dashboard/search', { from: 'sandboxSearchFocused' });\n  };\n\n  const handleSearchChange: React.ChangeEventHandler<HTMLInputElement> = e => {\n    dashboardAction.searchChanged({ search: e.target.value });\n  };\n\n  return (\n    <SidebarStyled>\n      <InputWrapper>\n        <Input\n          onFocus={handleSearchFocus}\n          block\n          value={dashboardState.filters.search}\n          onChange={handleSearchChange}\n          placeholder=\"Search my sandboxes\"\n        />\n      </InputWrapper>\n\n      <Route\n        path={[\n          '/dashboard/sandboxes/:path*',\n          '/dashboard/teams/:teamId/sandboxes/:path*',\n          '/',\n        ]}\n      >\n        {({ location, match }) => {\n          const testRegex = /\\/dashboard.*?sandboxes/;\n\n          const path = location.pathname.replace(testRegex, '');\n          const currentTeamId = match ? match.params.teamId : undefined;\n\n          return (\n            <>\n              <Items style={{ marginBottom: '1rem' }}>\n                <Item\n                  Icon={DashboardIcon}\n                  path=\"/dashboard/recent\"\n                  name=\"Overview\"\n                />\n\n                <SandboxesItem\n                  selectedSandboxes={dashboardState.selectedSandboxes}\n                  currentPath={path}\n                  currentTeamId={currentTeamId}\n                  openByDefault\n                />\n\n                <TemplateItem currentPath={path} />\n\n                <TrashItem currentPath={path} />\n              </Items>\n\n              <Query query={TEAMS_QUERY}>\n                {({ loading, data, error }: any) => {\n                  if (loading || error || !data.me || !(data && data.me)) {\n                    return null;\n                  }\n\n                  const { teams = [] } = data.me;\n\n                  return teams.map(({ id, name }) => (\n                    <div key={id}>\n                      <Items>\n                        <CategoryHeader>{name}</CategoryHeader>\n                        <Item\n                          Icon={PeopleIcon}\n                          path={teamOverviewUrl(id)}\n                          name=\"Team Overview\"\n                        />\n\n                        <SandboxesItem\n                          selectedSandboxes={dashboardState.selectedSandboxes}\n                          currentPath={path}\n                          currentTeamId={currentTeamId}\n                          teamId={id}\n                        />\n\n                        <TemplateItem currentPath={path} teamId={id} />\n                      </Items>\n                    </div>\n                  ));\n                }}\n              </Query>\n            </>\n          );\n        }}\n      </Route>\n\n      <div style={{ margin: '2rem', fontSize: '.875rem' }}>\n        <Button\n          style={{ display: 'block' }}\n          to=\"/dashboard/teams/new\"\n          small\n          block\n        >\n          Create Team\n        </Button>\n      </div>\n    </SidebarStyled>\n  );\n};\nexport const Sidebar = withRouter(SidebarComponent);\n","import { signInPageUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport React, { useState, useEffect, FunctionComponent } from 'react';\nimport { withRouter, Redirect, RouteComponentProps } from 'react-router-dom';\n\nimport { client } from 'app/graphql/client';\nimport { useOvermind } from 'app/overmind';\nimport { Navigation } from './Navigation';\n\nimport Content from './Content';\nimport {\n  Container,\n  ContentContainer,\n  LeftIcon,\n  RightIcon,\n  SidebarContainer,\n  ShowSidebarButton,\n} from './elements';\nimport { Sidebar } from './Sidebar';\n\ntype Props = RouteComponentProps;\nconst DashboardComponent: FunctionComponent<Props> = ({ history }) => {\n  const {\n    actions: {\n      dashboard: { dashboardMounted },\n    },\n    state: { hasLogIn },\n  } = useOvermind();\n  const [showSidebar, setShowSidebar] = useState(false);\n\n  useEffect(() => {\n    dashboardMounted();\n\n    // Reset store so new visits get fresh data\n    return () => client.resetStore();\n  }, [dashboardMounted]);\n\n  history.listen(({ state }) => {\n    if (state?.from === 'sandboxSearchFocused') {\n      return;\n    }\n\n    setShowSidebar(false);\n  });\n\n  if (!hasLogIn) {\n    return <Redirect to={signInPageUrl()} />;\n  }\n\n  return (\n    <Container>\n      <Navigation float searchNoInput title=\"Dashboard\" />\n\n      <div style={{ display: 'flex', overflow: 'hidden' }}>\n        <SidebarContainer active={showSidebar}>\n          <Sidebar />\n\n          <ShowSidebarButton onClick={() => setShowSidebar(show => !show)}>\n            {showSidebar ? <LeftIcon /> : <RightIcon />}\n          </ShowSidebarButton>\n        </SidebarContainer>\n\n        <ContentContainer>\n          <Content />\n        </ContentContainer>\n      </div>\n    </Container>\n  );\n};\n\nexport const Dashboard = withRouter(DashboardComponent);\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  height: 100%;\n  width: 100%;\n  margin: 1rem;\n  margin-top: 10%;\n`;\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  margin: 0;\n`;\n\nexport const Content = styled.div`\n  ${({ theme }) => css`\n    display: flex;\n    flex: auto;\n    background-color: ${theme.background2};\n  `}\n`;\n","import React, { useState } from 'react';\nimport { useDebouncedCallback } from 'use-debounce';\nimport { useOvermind } from 'app/overmind';\nimport { useHistory } from 'react-router-dom';\nimport LogoIcon from '@codesandbox/common/lib/components/Logo';\nimport { UserMenu } from 'app/pages/common/UserMenu';\nimport {\n  Stack,\n  Input,\n  Button,\n  Link,\n  Icon,\n  IconButton,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nexport const Header = ({ onSidebarToggle }) => {\n  const [value, setValue] = useState('');\n  const {\n    actions: { modalOpened },\n  } = useOvermind();\n\n  const history = useHistory();\n\n  const searchQuery = new URLSearchParams(window.location.search).get('query');\n\n  const search = query => history.push(`/new-dashboard/search?query=${query}`);\n  const [debouncedSearch] = useDebouncedCallback(search, 250);\n\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n\n    if (!e.target.value) history.push(`/new-dashboard/all`);\n    if (e.target.value.length >= 2) debouncedSearch(e.target.value);\n  };\n\n  return (\n    <Stack\n      as=\"header\"\n      justify=\"space-between\"\n      align=\"center\"\n      paddingX={4}\n      css={css({\n        boxSizing: 'border-box',\n        fontFamily: 'Inter, sans-serif',\n        height: 12,\n        backgroundColor: 'titleBar.activeBackground',\n        color: 'titleBar.activeForeground',\n        borderBottom: '1px solid',\n        borderColor: 'titleBar.border',\n      })}\n    >\n      <Link href=\"/\" css={css({ display: ['none', 'none', 'block'] })}>\n        <LogoIcon height={24} />\n      </Link>\n      <IconButton\n        name=\"menu\"\n        size={18}\n        title=\"Menu\"\n        onClick={onSidebarToggle}\n        css={css({ display: ['block', 'block', 'none'] })}\n      />\n      <Input\n        type=\"text\"\n        value={value || searchQuery || ''}\n        onChange={onChange}\n        placeholder=\"Search all sandboxes\"\n        css={css({ maxWidth: 480, display: ['none', 'none', 'block'] })}\n      />\n      <Stack align=\"center\" gap={2}>\n        <Button\n          variant=\"primary\"\n          css={css({ width: 'auto', paddingX: 3 })}\n          onClick={() => modalOpened({ modal: 'newSandbox' })}\n        >\n          Create Sandbox\n        </Button>\n        <Button variant=\"secondary\" css={css({ size: 26 })}>\n          <Icon name=\"bell\" size={11} title=\"Notifications\" />\n        </Button>\n\n        <UserMenu>\n          <Button variant=\"secondary\" css={css({ size: 26 })}>\n            <Icon name=\"more\" size={12} title=\"User actions\" />\n          </Button>\n        </UserMenu>\n      </Stack>\n    </Stack>\n  );\n};\n","import { uniqBy } from 'lodash-es';\nimport getDefinition from '@codesandbox/common/lib/templates';\n\nexport function getPossibleTemplates(sandboxes: any[]) {\n  if (!sandboxes) return [];\n  return uniqBy(\n    sandboxes.map(x => {\n      const templateId = x.source?.template;\n      const template = getDefinition(templateId);\n\n      return {\n        id: templateId,\n        color: template.color,\n        name: template.name,\n        niceName: template.niceName,\n      };\n    }),\n    template => template.id\n  );\n}\n\nexport const colors = [\n  { background: 'rgb(0, 122, 255)', foreground: 'white' },\n  { background: 'rgb(52, 199, 89)', foreground: 'black' },\n  { background: 'rgb(255, 45, 85)', foreground: 'white' },\n  { background: 'rgb(88, 86, 214)', foreground: 'white' },\n  { background: 'rgb(255, 149, 0)', foreground: 'black' },\n  { background: 'rgb(90, 200, 250)', foreground: 'black' },\n  { background: 'rgb(175, 82, 22)', foreground: 'black' },\n  { background: 'rgb(255, 200, 250)', foreground: 'black' },\n  { background: 'rgb(69, 235, 195)', foreground: 'black' },\n  { background: 'rgb(255, 59, 48)', foreground: 'white' },\n  { background: 'rgb(212, 69, 235)', foreground: 'white' },\n  { background: 'rgb(192, 235, 69)', foreground: 'black' },\n];\n","import React from 'react';\nimport { Stack, Text } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { colors } from 'app/pages/NewDashboard/Content/utils';\n\nexport const TeamAvatar = ({ name, size = 'big' }) => {\n  if (!name) return null;\n\n  // consistent color\n  const index = name.length % (colors.length - 1);\n  const { background, foreground } = colors[index];\n\n  return (\n    <Stack\n      justify=\"center\"\n      align=\"center\"\n      css={css({\n        size: size === 'small' ? 5 : 6,\n        borderRadius: 'small',\n        border: '1px solid',\n        borderColor: 'avatar.border',\n        textTransform: 'uppercase',\n        backgroundColor: background,\n        color: foreground,\n      })}\n    >\n      <Text size={size === 'small' ? 2 : 3}>{name[0]}</Text>\n    </Stack>\n  );\n};\n","import React, { useState } from 'react';\nimport { Link as RouterLink, useLocation } from 'react-router-dom';\nimport { useDrop } from 'react-dnd';\nimport { orderBy } from 'lodash-es';\nimport { useOvermind } from 'app/overmind';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  Element,\n  List,\n  ListAction,\n  ListItem,\n  Link,\n  Avatar,\n  Text,\n  Menu,\n  Stack,\n  Icon,\n  IconButton,\n  Button,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport merge from 'deepmerge';\nimport { TeamAvatar } from './TeamAvatar';\n\nexport const SIDEBAR_WIDTH = 240;\n\nconst SidebarContext = React.createContext(null);\n\nexport const Sidebar = ({ visible, onSidebarToggle, ...props }) => {\n  const {\n    state: { dashboard, user },\n    actions,\n  } = useOvermind();\n  const [activeAccount, setActiveAccount] = useState({\n    username: null,\n    avatarUrl: null,\n  });\n\n  React.useEffect(() => {\n    actions.dashboard.getTeams();\n  }, [actions.dashboard, user]);\n\n  React.useEffect(() => {\n    actions.dashboard.getAllFolders();\n  }, [actions.dashboard, dashboard.activeTeam]);\n\n  React.useEffect(() => {\n    if (dashboard.activeTeam) {\n      const team = dashboard.teams.find(\n        ({ id }) => id === dashboard.activeTeam\n      );\n\n      if (team) setActiveAccount({ username: team.name, avatarUrl: null });\n    } else if (user) {\n      setActiveAccount({\n        username: user.username,\n        avatarUrl: user.avatarUrl,\n      });\n    }\n  }, [dashboard.activeTeam, dashboard.activeTeamInfo, dashboard.teams, user]);\n\n  const folders = dashboard.allCollections || [];\n  const [foldersVisible, setFoldersVisibility] = React.useState(false);\n\n  return (\n    <SidebarContext.Provider value={{ onSidebarToggle }}>\n      <Stack\n        as={motion.aside}\n        direction=\"vertical\"\n        justify=\"space-between\"\n        animate={{\n          left: visible ? 0 : -1 * SIDEBAR_WIDTH,\n          transition: { duration: visible ? 0.2 : 0.15 },\n        }}\n        {...props}\n        css={css({\n          borderRight: '1px solid',\n          borderColor: 'sideBar.border',\n          backgroundColor: 'sideBar.background',\n          width: SIDEBAR_WIDTH,\n          flexShrink: 0,\n          zIndex: 3,\n          ...props.css,\n        })}\n      >\n        <List css={css({ '> li': { height: 10 } })}>\n          <ListItem gap={2} css={css({ paddingX: 0 })}>\n            {user && (\n              <Stack\n                css={css({\n                  width: '100%',\n                  height: '100%',\n                  borderBottom: '1px solid',\n                  borderColor: 'sideBar.border',\n                })}\n              >\n                <Menu>\n                  <Stack\n                    as={Menu.Button}\n                    justify=\"space-between\"\n                    align=\"center\"\n                    css={css({\n                      width: SIDEBAR_WIDTH - 32,\n                      height: '100%',\n                      paddingLeft: 2,\n                      borderRadius: 0,\n                      ':hover, :focus-within': {\n                        backgroundColor: 'sideBar.hoverBackground',\n                      },\n                    })}\n                  >\n                    <Stack as=\"span\" align=\"center\">\n                      <Stack\n                        as=\"span\"\n                        css={css({ width: 10 })}\n                        align=\"center\"\n                        justify=\"center\"\n                      >\n                        {activeAccount.avatarUrl ? (\n                          <Avatar user={activeAccount} css={css({ size: 6 })} />\n                        ) : (\n                          <TeamAvatar name={activeAccount.username} />\n                        )}\n                      </Stack>\n                      <Text size={4} weight=\"normal\" maxWidth={140}>\n                        {activeAccount.username}\n                      </Text>\n                    </Stack>\n                    <Icon name=\"caret\" size={8} />\n                  </Stack>\n                  <Menu.List style={{ width: SIDEBAR_WIDTH, borderRadius: 0 }}>\n                    <Menu.Item\n                      css={{ textAlign: 'left' }}\n                      onSelect={() =>\n                        actions.dashboard.setActiveTeam({ id: null })\n                      }\n                    >\n                      <Stack align=\"center\">\n                        <Stack\n                          as=\"span\"\n                          css={css({ width: 8 })}\n                          align=\"center\"\n                          justify=\"center\"\n                        >\n                          <Avatar user={user} css={css({ size: 5 })} />\n                        </Stack>\n                        <Text\n                          size={3}\n                          weight={\n                            activeAccount.username === user.username\n                              ? 'semibold'\n                              : 'normal'\n                          }\n                        >\n                          {user.username} (Personal)\n                        </Text>\n                      </Stack>\n                    </Menu.Item>\n                    {dashboard.teams.map(team => (\n                      <Menu.Item\n                        key={team.id}\n                        as={Menu.Item}\n                        css={{ textAlign: 'left' }}\n                        onSelect={() =>\n                          actions.dashboard.setActiveTeam({ id: team.id })\n                        }\n                      >\n                        <Stack align=\"center\">\n                          <Stack\n                            as=\"span\"\n                            css={css({ width: 8 })}\n                            align=\"center\"\n                            justify=\"center\"\n                          >\n                            <TeamAvatar name={team.name} size=\"small\" />\n                          </Stack>\n                          <Text\n                            size={3}\n                            weight={\n                              activeAccount.username === team.name\n                                ? 'semibold'\n                                : 'normal'\n                            }\n                          >\n                            {team.name}\n                          </Text>\n                        </Stack>\n                      </Menu.Item>\n                    ))}\n                  </Menu.List>\n                </Menu>\n\n                <Link as={RouterLink} to=\"/new-dashboard/settings\">\n                  <IconButton\n                    name=\"gear\"\n                    size={8}\n                    title=\"Settings\"\n                    css={css({ width: 8, height: '100%', borderRadius: 0 })}\n                  />\n                </Link>\n              </Stack>\n            )}\n          </ListItem>\n          <RowItem name=\"Home\" path=\"home\" icon=\"box\" />\n          <RowItem name=\"Recent\" path=\"recent\" icon=\"clock\" />\n          <RowItem name=\"Drafts\" path=\"/drafts\" icon=\"file\" />\n\n          <RowItem\n            name=\"All sandboxes\"\n            path=\"all\"\n            icon=\"folder\"\n            style={{\n              button: { opacity: 0 },\n              ':hover, :focus-within': { button: { opacity: 1 } },\n            }}\n          >\n            <IconButton\n              name=\"caret\"\n              size={8}\n              title=\"Toggle folders\"\n              onClick={event => {\n                setFoldersVisibility(!foldersVisible);\n                event.stopPropagation();\n              }}\n              css={css({\n                width: 5,\n                height: '100%',\n                borderRadius: 0,\n                svg: {\n                  transform: foldersVisible ? 'rotate(0deg)' : 'rotate(-90deg)',\n                  transition: 'transform ease-in-out',\n                  transitionDuration: theme => theme.speeds[2],\n                },\n              })}\n            />\n            <Link\n              as={RouterLink}\n              to=\"/new-dashboard/all\"\n              style={{ ...linkStyles, paddingLeft: 0 }}\n            >\n              <Stack align=\"center\" gap={3}>\n                <Stack\n                  as=\"span\"\n                  css={css({ width: 4 })}\n                  align=\"center\"\n                  justify=\"center\"\n                >\n                  <Icon name=\"folder\" />\n                </Stack>\n                <Text>All Sandboxes</Text>\n              </Stack>\n            </Link>\n          </RowItem>\n\n          {foldersVisible &&\n            orderBy(folders, 'name')\n              .sort(\n                // pull drafts to the top\n                a => (a.path === '/drafts' ? -1 : 1)\n              )\n              .filter(isTopLevelFolder)\n              .map(folder => (\n                <RowItem\n                  key={folder.path}\n                  name={folder.name}\n                  path={folder.path}\n                  icon=\"folder\"\n                  isNested\n                />\n              ))}\n\n          <RowItem name=\"Templates\" path=\"templates\" icon=\"star\" />\n          <RowItem name=\"Recently Deleted\" path=\"deleted\" icon=\"trash\" />\n        </List>\n        <Element margin={4}>\n          <Button\n            as={RouterLink}\n            to=\"/new-dashboard/settings/new\"\n            variant=\"secondary\"\n          >\n            <Icon name=\"plus\" size={10} marginRight={1} />\n            Create New Workspace\n          </Button>\n        </Element>\n      </Stack>\n      <AnimatePresence>\n        {visible && (\n          <Element\n            as={motion.div}\n            onClick={onSidebarToggle}\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 0.9, transition: { duration: 0.2 } }}\n            exit={{ opacity: 0, transition: { duration: 0.15 } }}\n            css={css({\n              display: ['block', 'block', 'none'], // hide on biggest breakpoint\n              position: 'absolute',\n              backgroundColor: 'sideBar.background',\n              height: '100vh',\n              width: '100vw',\n              zIndex: 2,\n            })}\n          />\n        )}\n      </AnimatePresence>\n    </SidebarContext.Provider>\n  );\n};\n\nconst isTopLevelFolder = folder => !folder.parent;\n\n// I hate this! but we need this until I refactor how\n// components are structured  Sid\n// https://linear.app/issue/CSB-118\nconst linkStyles = {\n  width: '100%',\n  height: '100%',\n  display: 'flex',\n  alignItems: 'center',\n  paddingLeft: 8,\n  paddingRight: 8,\n};\n\nconst canNotAcceptSandboxes = ['home', 'recent', 'all'];\nconst canNotAcceptFolders = ['home', 'recent', '/drafts', 'templates'];\n\nconst isSamePath = (draggedItem, dropPath) => {\n  if (!draggedItem) return false;\n\n  if (\n    draggedItem.type === 'sandbox' &&\n    draggedItem.collectionPath === dropPath\n  ) {\n    return true;\n  }\n\n  if (\n    draggedItem.type === 'folder' &&\n    (draggedItem.path === dropPath || draggedItem.parent === dropPath)\n  ) {\n    return true;\n  }\n\n  return false;\n};\n\nconst RowItem = ({ name, path, icon, isNested = false, ...props }) => {\n  const accepts = [];\n  if (!canNotAcceptSandboxes.includes(path)) accepts.push('sandbox');\n  if (!canNotAcceptFolders.includes(path)) accepts.push('folder');\n\n  const [{ canDrop, isOver, isDragging }, dropRef] = useDrop({\n    accept: accepts,\n    drop: (item, monitor) => ({ path, isSamePath: isSamePath(item, path) }),\n    collect: monitor => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop() && !isSamePath(monitor.getItem(), path),\n      isDragging: !!monitor.getItem(),\n    }),\n  });\n\n  const { onSidebarToggle } = React.useContext(SidebarContext);\n\n  let linkTo: string;\n  if (isNested) linkTo = '/new-dashboard/all' + path;\n  else if (path === '/drafts') linkTo = '/new-dashboard/drafts';\n  else linkTo = '/new-dashboard/' + path;\n\n  const location = useLocation();\n  const isCurrentLink = linkTo === location.pathname;\n\n  return (\n    <ListAction\n      ref={dropRef}\n      align=\"center\"\n      onClick={onSidebarToggle}\n      css={css(\n        merge(\n          {\n            paddingX: 0,\n            paddingLeft: isNested ? 4 : 0,\n            opacity: isDragging && !canDrop ? 0.25 : 1,\n            color:\n              isCurrentLink || (isDragging && canDrop)\n                ? 'list.hoverForeground'\n                : 'list.foreground',\n            backgroundColor:\n              canDrop && isOver ? 'list.hoverBackground' : 'transparent',\n            transition: 'all ease-in',\n            transitionDuration: theme => theme.speeds[4],\n          },\n          props.style || {}\n        )\n      )}\n      style={{ height: isNested ? 32 : 40 }}\n    >\n      {props.children || (\n        <Link as={RouterLink} to={linkTo} style={linkStyles}>\n          <Stack\n            as=\"span\"\n            css={css({ width: 10 })}\n            align=\"center\"\n            justify=\"center\"\n          >\n            <Icon name={icon} />\n          </Stack>\n          {name}\n        </Link>\n      )}\n    </ListAction>\n  );\n};\n","import React from 'react';\nimport { Text, Link } from '@codesandbox/components';\nimport { Link as LinkBase } from 'react-router-dom';\n\nexport const Breadcrumbs = ({ param }) => {\n  const makeLink = p =>\n    param && param.split('/').length > 2\n      ? `/new-dashboard/all/${param\n          .split('/')\n          .slice(0, -1)\n          .map(a => a)}` +\n        '/' +\n        p\n      : `/new-dashboard/all/${p}`;\n\n  return (\n    <Text marginBottom={1} block weight=\"bold\" size={5}>\n      <Link\n        to=\"/new-dashboard/all/\"\n        as={LinkBase}\n        variant={param && param.split('/').length ? 'muted' : 'body'}\n      >\n        All Sandboxes {param && ' / '}\n      </Link>\n      {param\n        ? param.split('/').map((p, i) => (\n            <Link\n              key={p}\n              as={LinkBase}\n              to={makeLink(p)}\n              variant={i < param.split('/').length - 1 ? 'muted' : 'body'}\n            >\n              {p} {i < param.split('/').length - 1 && '/ '}\n            </Link>\n          ))\n        : null}\n    </Text>\n  );\n};\n","import { orderBy } from 'lodash-es';\nimport React, { FunctionComponent } from 'react';\nimport css from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\nimport { Text, Menu, Checkbox } from '@codesandbox/components';\n\ntype Template = {\n  id: string;\n  name: string;\n  color: string;\n  niceName: string;\n};\ntype Props = {\n  possibleTemplates?: Template[];\n};\n\nexport const FilterOptions: FunctionComponent<Props> = ({\n  possibleTemplates = [],\n}) => {\n  const {\n    actions: {\n      dashboard: {\n        blacklistedTemplateAdded,\n        blacklistedTemplateRemoved,\n        blacklistedTemplatesChanged,\n        blacklistedTemplatesCleared,\n      },\n    },\n    state: {\n      dashboard: {\n        filters: { blacklistedTemplates },\n        isTemplateSelected,\n      },\n    },\n  } = useOvermind();\n\n  const toggleTemplate = (name: string, select: boolean) =>\n    select ? blacklistedTemplateRemoved(name) : blacklistedTemplateAdded(name);\n  const allSelected = possibleTemplates.every(({ id }) =>\n    isTemplateSelected(id)\n  );\n\n  const templates = possibleTemplates && possibleTemplates.length > 0;\n\n  return (\n    <>\n      <Menu>\n        <Menu.Button>\n          <Text\n            variant={blacklistedTemplates.length ? 'active' : 'muted'}\n            paddingRight={2}\n          >\n            Filters\n          </Text>\n        </Menu.Button>\n        <Menu.List>\n          {templates ? (\n            orderBy(possibleTemplates, 'niceName').map(\n              ({ id, name, niceName }) => {\n                const selected = isTemplateSelected(id);\n                return (\n                  <Menu.Item\n                    field=\"title\"\n                    key={id || name}\n                    onSelect={() => toggleTemplate(id, !selected)}\n                    css={css({\n                      label: {\n                        color: selected ? 'inherit' : 'mutedForeground',\n                      },\n                    })}\n                  >\n                    <Checkbox checked={selected} label={niceName || name} />\n                  </Menu.Item>\n                );\n              }\n            )\n          ) : (\n            <Menu.Item>No environments found</Menu.Item>\n          )}\n          {templates && (\n            <Menu.Item\n              key=\"all\"\n              onSelect={() => {\n                if (allSelected) {\n                  return blacklistedTemplatesChanged(\n                    possibleTemplates.map(({ id }) => id)\n                  );\n                }\n\n                return blacklistedTemplatesCleared();\n              }}\n              css={css({\n                color: allSelected ? 'body' : 'muted',\n              })}\n            >\n              <Checkbox checked={allSelected} label=\"Select All\" />\n            </Menu.Item>\n          )}\n        </Menu.List>\n      </Menu>\n    </>\n  );\n};\n","import React from 'react';\n\nexport const GridIcon = props => (\n  <svg width={15} height={14} fill=\"none\" viewBox=\"0 0 15 14\" {...props}>\n    <path\n      fill={props.active ? '#fff' : '#757575'}\n      fillRule=\"evenodd\"\n      d=\"M6.709 0H.65v6H6.71V0zm0 8H.65v6H6.71V8zm2.02 0h6.057v6H8.728V8zm6.057-8H8.728v6h6.058V0z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nexport const ListIcon = props => (\n  <svg width={15} height={15} fill=\"none\" viewBox=\"0 0 10 10\" {...props}>\n    <path\n      fill={props.active ? '#fff' : '#757575'}\n      fillRule=\"evenodd\"\n      d=\"M2.5 0H0v2.5h2.5V0zm0 3.75H0v2.5h2.5v-2.5zM0 7.5h2.5V10H0V7.5zm10-3.75H3.75v2.5H10v-2.5zM3.75 7.5H10V10H3.75V7.5zM10 0H3.75v2.5H10V0z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n","import React, { FunctionComponent } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { Text, Menu, Stack } from '@codesandbox/components';\nimport { GridIcon, ListIcon } from './icons';\n\nconst STATES: { name: string; key: 'grid' | 'list'; icon: any }[] = [\n  {\n    name: 'Grid View',\n    key: 'grid',\n    icon: GridIcon,\n  },\n  {\n    name: 'List View',\n    key: 'list',\n    icon: ListIcon,\n  },\n];\n\nexport const ViewOptions: FunctionComponent = () => {\n  const {\n    actions: {\n      dashboard: { viewModeChanged },\n    },\n    state: {\n      dashboard: { viewMode },\n    },\n  } = useOvermind();\n\n  return (\n    <>\n      <Menu>\n        <Menu.Button>\n          {viewMode === 'grid' ? <GridIcon /> : <ListIcon />}\n        </Menu.Button>\n        <Menu.List>\n          {STATES.map(viewState => (\n            <Menu.Item\n              key={viewState.key}\n              field={viewState.key}\n              onSelect={() => viewModeChanged({ mode: viewState.key })}\n            >\n              <Stack gap={4} align=\"center\" justify=\"space-between\">\n                <Text variant={viewMode === viewState.key ? 'body' : 'muted'}>\n                  {viewState.name}\n                </Text>\n                {viewState.icon({\n                  width: 10,\n                  active: viewMode === viewState.key,\n                })}\n              </Stack>\n            </Menu.Item>\n          ))}\n        </Menu.List>\n      </Menu>\n    </>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { Text, Menu, Stack } from '@codesandbox/components';\n\nconst FIELD_TO_NAME = {\n  insertedAt: 'Last Created',\n  updatedAt: 'Last Modified',\n  title: 'Name',\n};\n\nexport const SortOptions: FunctionComponent = () => {\n  const {\n    actions: {\n      dashboard: { orderByChanged },\n    },\n    state: {\n      dashboard: {\n        orderBy: { field, order },\n      },\n    },\n  } = useOvermind();\n\n  const toggleSort = () => {\n    orderByChanged({\n      field,\n      order: order === 'asc' ? 'desc' : 'asc',\n    });\n  };\n\n  const setField = (f: string) => orderByChanged({ field: f, order });\n\n  return (\n    <>\n      <Menu>\n        <Stack align=\"center\">\n          <Menu.Button>\n            <Text variant=\"muted\">{FIELD_TO_NAME[field]}</Text>\n          </Menu.Button>\n          <button\n            onClick={toggleSort}\n            type=\"button\"\n            style={{\n              cursor: 'pointer',\n              padding: 0,\n              border: 'none',\n              background: 'transparent',\n              marginTop: 6,\n              transform: `rotate(${order === 'desc' ? 0 : 180}deg)`,\n            }}\n          >\n            <svg width={11} height={13} fill=\"none\" viewBox=\"0 0 11 13\">\n              <path\n                stroke=\"#343434\"\n                strokeWidth={2}\n                d=\"M5.301 0v11m0 0L1.262 7.071M5.301 11L9.34 7.071\"\n              />\n            </svg>\n          </button>\n        </Stack>\n        <Menu.List>\n          {Object.keys(FIELD_TO_NAME).map(key => (\n            <Menu.Item field=\"title\" key={key} onSelect={() => setField(key)}>\n              <Text variant={FIELD_TO_NAME[key] === field ? 'body' : 'muted'}>\n                {FIELD_TO_NAME[key]}\n              </Text>\n            </Menu.Item>\n          ))}\n        </Menu.List>\n      </Menu>\n    </>\n  );\n};\n","import React from 'react';\nimport {\n  Stack,\n  Element,\n  Text,\n  Stats,\n  Input,\n  IconButton,\n  SkeletonText,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nexport const SandboxCard = ({\n  sandbox,\n  sandboxTitle,\n  newTitle,\n  TemplateIcon,\n  // interactions\n  selected,\n  onClick,\n  onDoubleClick,\n  onBlur,\n  onKeyDown,\n  onContextMenu,\n  // editing\n  editing,\n  onChange,\n  onInputKeyDown,\n  onSubmit,\n  onInputBlur,\n  // drag preview\n  thumbnailRef,\n  opacity,\n  ...props\n}) => (\n  <Stack\n    direction=\"vertical\"\n    gap={2}\n    onClick={onClick}\n    onDoubleClick={onDoubleClick}\n    onBlur={onBlur}\n    onKeyDown={onKeyDown}\n    onContextMenu={onContextMenu}\n    {...props}\n    css={css({\n      position: 'relative',\n      width: '100%',\n      height: 240,\n      backgroundColor: 'grays.700',\n      border: '1px solid',\n      borderColor: selected ? 'blues.600' : 'grays.600',\n      borderRadius: 'medium',\n      overflow: 'hidden',\n      transition: 'all ease-in-out',\n      transitionDuration: theme => theme.speeds[4],\n      opacity,\n      ':hover, :focus, :focus-within': {\n        boxShadow: theme => '0 4px 16px 0 ' + theme.colors.grays[900],\n      },\n    })}\n  >\n    <Element\n      as=\"div\"\n      ref={thumbnailRef}\n      css={css({\n        height: 160,\n        backgroundColor: 'grays.600',\n        backgroundImage: `url(${sandbox.screenshotUrl})`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center center',\n        backgroundRepeat: 'no-repeat',\n      })}\n    />\n    <Element\n      css={css({\n        position: 'absolute',\n        top: 1,\n        right: 1,\n        size: 6,\n        width: '22px',\n        height: '22px',\n        backgroundColor: 'grays.500',\n        border: '3px solid',\n        borderColor: 'grays.500',\n        borderRadius: 'medium',\n      })}\n    >\n      <TemplateIcon width=\"16\" height=\"16\" />\n    </Element>\n    <Stack justify=\"space-between\" align=\"center\" marginLeft={4}>\n      {editing ? (\n        <form onSubmit={onSubmit}>\n          <Input\n            autoFocus\n            value={newTitle}\n            onChange={onChange}\n            onKeyDown={onInputKeyDown}\n            onBlur={onInputBlur}\n          />\n        </form>\n      ) : (\n        <Text size={3} weight=\"medium\">\n          {sandboxTitle}\n        </Text>\n      )}\n\n      <IconButton\n        name=\"more\"\n        size={9}\n        title=\"Sandbox actions\"\n        onClick={onContextMenu}\n      />\n    </Stack>\n    <Stack marginX={4}>\n      <Stats\n        css={css({ fontSize: 2 })}\n        sandbox={{\n          viewCount: sandbox.viewCount,\n          likeCount: sandbox.likeCount,\n          forkCount: sandbox.forkCount,\n        }}\n      />\n    </Stack>\n  </Stack>\n);\n\nexport const SkeletonCard = () => (\n  <Stack\n    direction=\"vertical\"\n    gap={4}\n    css={css({\n      width: '100%',\n      height: 240,\n      border: '1px solid',\n      borderColor: 'grays.600',\n      borderRadius: 'medium',\n      overflow: 'hidden',\n    })}\n  >\n    <SkeletonText css={{ width: '100%', height: 160, borderRadius: 0 }} />\n    <Stack direction=\"vertical\" gap={2} marginX={4}>\n      <SkeletonText css={{ width: 120 }} />\n      <SkeletonText css={{ width: 180 }} />\n    </Stack>\n  </Stack>\n);\n","import React from 'react';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport {\n  Grid,\n  Column,\n  Stack,\n  Element,\n  Text,\n  Input,\n  ListAction,\n  IconButton,\n  SkeletonText,\n  Tooltip,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nexport const SandboxListItem = ({\n  sandbox,\n  sandboxTitle,\n  // interactions\n  selected,\n  onClick,\n  onDoubleClick,\n  onBlur,\n  onKeyDown,\n  onContextMenu,\n  // edit mode\n  editing,\n  newTitle,\n  onChange,\n  onInputKeyDown,\n  onSubmit,\n  onInputBlur,\n  // drag preview\n  thumbnailRef,\n  opacity,\n  ...props\n}) => (\n  <ListAction\n    align=\"center\"\n    onClick={onClick}\n    onDoubleClick={onDoubleClick}\n    onBlur={onBlur}\n    onKeyDown={onKeyDown}\n    onContextMenu={onContextMenu}\n    {...props}\n    css={css({\n      paddingX: 0,\n      opacity,\n      height: 64,\n      borderBottom: '1px solid',\n      borderBottomColor: 'grays.600',\n      overflow: 'hidden',\n      backgroundColor: selected ? 'blues.600' : 'transparent',\n      color: selected ? 'white' : 'inherit',\n      ':hover, :focus, :focus-within': {\n        cursor: 'default',\n        backgroundColor: selected ? 'blues.600' : 'list.hoverBackground',\n      },\n    })}\n  >\n    <Grid css={{ width: 'calc(100% - 26px - 8px)' }}>\n      <Column span={[12, 5, 5]}>\n        <Stack gap={4} align=\"center\" marginLeft={2}>\n          <Element\n            as=\"div\"\n            ref={thumbnailRef}\n            css={css({\n              borderRadius: 'small',\n              height: 32,\n              width: 32,\n              backgroundImage: `url(${sandbox.screenshotUrl})`,\n              backgroundSize: 'cover',\n              backgroundPosition: 'center center',\n              backgroundRepeat: 'no-repeat',\n              border: '1px solid',\n              borderColor: 'grays.600',\n              flexShrink: 0,\n            })}\n          />\n          <Element style={{ width: 150 }}>\n            {editing ? (\n              <form onSubmit={onSubmit}>\n                <Input\n                  autoFocus\n                  value={newTitle}\n                  onChange={onChange}\n                  onKeyDown={onInputKeyDown}\n                  onBlur={onInputBlur}\n                />\n              </form>\n            ) : (\n              <Tooltip label={sandboxTitle}>\n                <Text size={3} weight=\"medium\" maxWidth=\"100%\">\n                  {sandboxTitle}\n                </Text>\n              </Tooltip>\n            )}\n          </Element>\n        </Stack>\n      </Column>\n      <Column span={[0, 4, 4]} as={Stack} align=\"center\">\n        {sandbox.removedAt ? (\n          <Text size={3} variant={selected ? 'body' : 'muted'} maxWidth=\"100%\">\n            <Text css={css({ display: ['none', 'none', 'inline'] })}>\n              Deleted\n            </Text>{' '}\n            {formatDistanceToNow(\n              new Date(sandbox.removedAt.replace(/ /g, 'T'))\n            )}{' '}\n            ago\n          </Text>\n        ) : (\n          <Text size={3} variant={selected ? 'body' : 'muted'} maxWidth=\"100%\">\n            <Text css={css({ display: ['none', 'none', 'inline'] })}>\n              Updated\n            </Text>{' '}\n            {formatDistanceToNow(new Date(sandbox.updatedAt.trim()))} ago\n          </Text>\n        )}\n      </Column>\n      <Column span={[0, 3, 3]} as={Stack} align=\"center\">\n        <Text size={3} variant=\"muted\" maxWidth=\"100%\">\n          {sandbox.source.template}\n        </Text>\n      </Column>\n    </Grid>\n    <IconButton\n      name=\"more\"\n      size={9}\n      title=\"Sandbox actions\"\n      onClick={onContextMenu}\n    />\n  </ListAction>\n);\n\nexport const SkeletonListItem = () => (\n  <Stack\n    paddingX={2}\n    align=\"center\"\n    justify=\"space-between\"\n    css={css({\n      height: 64,\n      paddingX: 2,\n      borderBottom: '1px solid',\n      borderBottomColor: 'grays.600',\n    })}\n  >\n    <Stack align=\"center\" gap={4}>\n      <SkeletonText css={{ height: 32, width: 32 }} />\n      <SkeletonText css={{ width: 120 }} />\n    </Stack>\n    <SkeletonText css={{ width: 120 }} />\n    <SkeletonText\n      css={{\n        width: 26,\n        /* keep menu for justify, but hide it from user */\n        opacity: 0,\n      }}\n    />\n  </Stack>\n);\n","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport { motion } from 'framer-motion';\nimport { Stack, Text } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { SIDEBAR_WIDTH } from '../../Sidebar';\n\nexport const DragPreview = ({\n  sandboxes,\n  folders,\n  selectionItems,\n  selectedIds,\n  viewMode,\n  thumbnailRef,\n  setDragging,\n}) => {\n  const { isDragging, initialOffset, currentOffset } = useDragLayer(\n    monitor => ({\n      initialOffset: monitor.getInitialSourceClientOffset(),\n      currentOffset: monitor.getSourceClientOffset(),\n      isDragging: monitor.isDragging(),\n    })\n  );\n\n  setDragging(isDragging);\n  React.useEffect(() => {\n    // if (isDragging) debugger;\n  }, [isDragging]);\n\n  // can be a sandbox or folder\n  const selectedItems = selectionItems\n    .filter(id => selectedIds.includes(id))\n    .map(id => {\n      if (id.startsWith('/')) {\n        const folder = folders.find(f => f.path === id);\n        return {\n          type: 'folder',\n          title: folder.name,\n          path: folder.path,\n        };\n      }\n\n      const sandbox = sandboxes.find(s => s.id === id);\n      return {\n        type: 'sandbox',\n        id: sandbox.id,\n        title: sandbox.title || sandbox.path || sandbox.alias,\n        url: sandbox.screenshotUrl,\n      };\n    });\n\n  return (\n    <Stack\n      css={{\n        position: 'fixed',\n        pointerEvents: 'none',\n        zIndex: 100,\n        left: 0,\n        top: 0,\n      }}\n    >\n      {isDragging && (\n        <Stack\n          gap={2}\n          direction={viewMode === 'list' ? 'vertical' : 'horizontal'}\n          as={motion.div}\n          css={css({\n            border: viewMode === 'list' ? '1px solid' : 'none',\n            borderColor: 'grays.700',\n            padding: viewMode === 'list' ? 2 : 0,\n            borderRadius: 'medium',\n            boxShadow: 2,\n          })}\n          initial={getItemStyles({\n            initialOffset,\n            currentOffset,\n            viewMode,\n            thumbnailRef,\n            count: selectedItems.length,\n          })}\n          animate={getItemStyles({\n            initialOffset,\n            currentOffset,\n            viewMode,\n            thumbnailRef,\n            count: selectedItems.length,\n          })}\n        >\n          {selectedItems.map((item, index) => (\n            <Stack gap={2} align=\"center\" key={item.id || item.path}>\n              <Stack\n                justify=\"center\"\n                align=\"center\"\n                css={css({\n                  position: viewMode === 'list' ? 'relative' : 'absolute',\n                  top: 0,\n                  left: 0,\n                  width: viewMode === 'list' ? 32 : '100%',\n                  height: viewMode === 'list' ? 32 : '100%',\n                  backgroundColor: 'grays.600',\n                  backgroundImage: item.url ? `url(${item.url})` : null,\n                  backgroundSize: 'cover',\n                  backgroundPosition: 'center center',\n                  backgroundRepeat: 'no-repeat',\n                  borderRadius: viewMode === 'list' ? 'small' : 'medium',\n                  transform:\n                    viewMode === 'list' ? null : `rotate(${index * 2.5}deg)`,\n                })}\n              >\n                {item.type === 'folder' ? (\n                  <svg\n                    width=\"100%\"\n                    height={viewMode === 'list' ? 24 : '33%'}\n                    fill=\"none\"\n                    viewBox=\"0 0 56 49\"\n                  >\n                    <path\n                      fill=\"#6CC7F6\"\n                      d=\"M20.721 0H1.591A1.59 1.59 0 000 1.59v45.82C0 48.287.712 49 1.59 49h52.82A1.59 1.59 0 0056 47.41V7.607a1.59 1.59 0 00-1.59-1.59H28L21.788.41A1.59 1.59 0 0020.72 0z\"\n                    />\n                  </svg>\n                ) : null}\n              </Stack>\n\n              {viewMode === 'list' ? (\n                <Text size={3} weight=\"medium\" css={{ flexShrink: 0 }}>\n                  {item.title}\n                </Text>\n              ) : null}\n            </Stack>\n          ))}\n        </Stack>\n      )}\n    </Stack>\n  );\n};\n\nfunction getItemStyles({\n  initialOffset,\n  currentOffset,\n  viewMode,\n  thumbnailRef,\n  count = 1,\n}) {\n  if (!initialOffset || !currentOffset) {\n    return { display: 'none' };\n  }\n\n  const { x, y } = currentOffset;\n\n  let size: {\n    width: number | string;\n    height: number | string;\n    minWidth?: number;\n  };\n\n  // overlapping with sidebar\n  const isOver = currentOffset && currentOffset.x < SIDEBAR_WIDTH;\n  let backgroundColor = viewMode === 'list' ? 'rgba(36,36,36,1)' : null; // grays.600\n  const thumbnailElement = thumbnailRef.current;\n\n  if (isOver) {\n    if (viewMode === 'list') {\n      backgroundColor = 'rgba(36,36,36,0.8)'; // grays.600 with 50% opacity\n    } else {\n      size = { width: 100, height: 50 };\n    }\n  } else if (viewMode === 'list') {\n    size = { width: 'auto', minWidth: 160, height: 'fit-content' };\n  } else if (thumbnailElement) {\n    const thumbnailRect = thumbnailElement.getBoundingClientRect();\n    size = { width: thumbnailRect.width, height: thumbnailRect.height };\n  }\n\n  return { x, y, backgroundColor, ...size };\n}\n","import React from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { sandboxUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { ESC } from '@codesandbox/common/lib/utils/keycodes';\nimport { Stack, Element, Menu, Icon, Text } from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nexport const ContextMenu = ({\n  visible,\n  position,\n  setVisibility,\n  selectedIds,\n  sandboxes,\n  folders,\n  setRenaming,\n}) => {\n  React.useEffect(() => {\n    // close when user clicks outside or scrolls away\n    const handler = () => {\n      if (visible) setVisibility(false);\n    };\n\n    document.addEventListener('click', handler);\n    document.addEventListener('scroll', handler, true);\n    return () => {\n      document.removeEventListener('click', handler);\n      document.removeEventListener('scroll', handler, true);\n    };\n  }, [visible, setVisibility]);\n\n  // handle key down events - close on escape + disable the rest\n  // TODO: handle arrow keys and space/enter.\n  React.useEffect(() => {\n    const handler = event => {\n      if (!visible) return;\n      if (event.keyCode === ESC) setVisibility(false);\n      event.preventDefault();\n    };\n\n    document.addEventListener('keydown', handler);\n    return () => {\n      document.removeEventListener('keydown', handler);\n    };\n  });\n\n  if (!visible || selectedIds.length === 0) return null;\n\n  const selectedItems = selectedIds.map(id => {\n    if (id.startsWith('/')) {\n      const folder = folders.find(f => f.path === id);\n      return { type: 'folder', ...folder };\n    }\n    const sandbox = sandboxes.find(s => s.id === id);\n    return { type: 'sandbox', ...sandbox };\n  });\n\n  let menu;\n  let menuWidth;\n  if (selectedItems.length > 1) {\n    menu = <MultiMenu selectedItems={selectedItems} />;\n    menuWidth = 160;\n  } else if (selectedItems[0].type === 'sandbox') {\n    menu = <SandboxMenu sandbox={selectedItems[0]} setRenaming={setRenaming} />;\n    menuWidth = 200;\n  } else if (selectedItems[0].type === 'folder') {\n    menu = <FolderMenu folder={selectedItems[0]} setRenaming={setRenaming} />;\n    menuWidth = 120;\n  }\n\n  // tweak position to stay inside window\n  const BOUNDARY_BUFFER = 8;\n\n  const tweakedPosition = {\n    x: Math.min(position.x, window.innerWidth - menuWidth - BOUNDARY_BUFFER),\n    y: position.y,\n  };\n\n  return (\n    <>\n      <Stack\n        direction=\"vertical\"\n        data-reach-menu-list\n        data-component=\"MenuList\"\n        css={css({\n          position: 'absolute',\n          width: menuWidth,\n          top: tweakedPosition.y,\n          left: tweakedPosition.x,\n        })}\n      >\n        {menu}\n      </Stack>\n    </>\n  );\n};\n\nconst MenuItem = props => (\n  <Element data-reach-menu-item=\"\" data-component=\"MenuItem\" {...props} />\n);\n\nconst SandboxMenu = ({\n  sandbox,\n  setRenaming,\n}: {\n  sandbox;\n  setRenaming: (renaming: boolean) => void;\n}) => {\n  const {\n    state: { user },\n    effects,\n    actions,\n  } = useOvermind();\n  const history = useHistory();\n  const location = useLocation();\n\n  const url = sandboxUrl({\n    id: sandbox.id,\n    alias: sandbox.alias,\n  });\n\n  const getFolderUrl = () => {\n    if (sandbox.isTemplate) return '/new-dashboard/templates';\n\n    const path = sandbox.collection.path;\n    if (path === '/' || !path) return '/new-dashboard/all/drafts';\n\n    return '/new-dashboard/all' + path;\n  };\n\n  const label = sandbox.isTemplate ? 'template' : 'sandbox';\n  const isOwner =\n    !sandbox.isTemplate ||\n    (sandbox.author && sandbox.author.username === user.username);\n\n  if (location.pathname.includes('deleted')) {\n    return (\n      <>\n        <MenuItem\n          onClick={() => {\n            actions.dashboard.recoverSandboxes([sandbox.id]);\n          }}\n        >\n          Recover Sandbox\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            actions.dashboard.permanentlyDeleteSandboxes([sandbox.id]);\n          }}\n        >\n          Delete Permanently\n        </MenuItem>\n      </>\n    );\n  }\n\n  return (\n    <>\n      {sandbox.isTemplate ? (\n        <MenuItem\n          onClick={() => {\n            actions.editor.forkExternalSandbox({\n              sandboxId: sandbox.id,\n              openInNewWindow: true,\n            });\n          }}\n        >\n          Fork Template\n        </MenuItem>\n      ) : null}\n      <MenuItem onClick={() => history.push(url)}>Open {label}</MenuItem>\n      <MenuItem\n        onClick={() => {\n          window.open(`https://codesandbox.io${url}`, '_blank');\n        }}\n      >\n        Open {label} in new tab\n      </MenuItem>\n      {isOwner ? (\n        <MenuItem\n          onClick={() => {\n            history.push(getFolderUrl());\n          }}\n        >\n          Show in Folder\n        </MenuItem>\n      ) : null}\n      <Menu.Divider />\n      <MenuItem\n        onClick={() => {\n          effects.browser.copyToClipboard(`https://codesandbox.io${url}`);\n        }}\n      >\n        Copy {label} link\n      </MenuItem>\n      {!sandbox.isTemplate ? (\n        <MenuItem\n          onClick={() => {\n            actions.editor.forkExternalSandbox({\n              sandboxId: sandbox.id,\n              openInNewWindow: true,\n            });\n          }}\n        >\n          Fork sandbox\n        </MenuItem>\n      ) : null}\n      <MenuItem\n        onClick={() => {\n          actions.dashboard.downloadSandboxes([sandbox.id]);\n        }}\n      >\n        Export {label}\n      </MenuItem>\n      {isOwner ? (\n        <>\n          <Menu.Divider />\n          <MenuItem onClick={() => setRenaming(true)}>Rename {label}</MenuItem>\n          {sandbox.isTemplate ? (\n            <MenuItem\n              onClick={() => {\n                actions.dashboard.unmakeTemplate([sandbox.id]);\n              }}\n            >\n              Convert to sandbox\n            </MenuItem>\n          ) : (\n            <MenuItem\n              onClick={() => {\n                actions.dashboard.makeTemplate([sandbox.id]);\n              }}\n            >\n              Make sandbox a template\n            </MenuItem>\n          )}\n          <Menu.Divider />\n          {sandbox.isTemplate ? (\n            <MenuItem\n              onClick={() =>\n                actions.dashboard.deleteTemplate({\n                  sandboxId: sandbox.id,\n                  templateId: sandbox.template.id,\n                })\n              }\n            >\n              Delete template\n            </MenuItem>\n          ) : (\n            <MenuItem\n              onClick={() => {\n                actions.dashboard.deleteSandbox([sandbox.id]);\n              }}\n            >\n              Delete sandbox\n            </MenuItem>\n          )}\n        </>\n      ) : null}\n    </>\n  );\n};\n\nconst FolderMenu = ({ folder, setRenaming }) => {\n  const { actions } = useOvermind();\n\n  const isDrafts = folder.path === '/drafts';\n\n  if (isDrafts)\n    return (\n      <MenuItem>\n        <Stack gap={1}>\n          <Icon name=\"lock\" size={14} />\n          <Text>Protected</Text>\n        </Stack>\n      </MenuItem>\n    );\n\n  return (\n    <>\n      <MenuItem onClick={() => setRenaming(true)}>Rename folder</MenuItem>\n      <MenuItem\n        onClick={() => actions.dashboard.deleteFolder({ path: folder.path })}\n      >\n        Delete folder\n      </MenuItem>\n    </>\n  );\n};\n\nconst MultiMenu = ({ selectedItems }) => {\n  const { actions } = useOvermind();\n  /*\n    sandbox options - export, make template, delete\n    template options - export, unmake template, delete\n    folder options - delete\n\n    sandboxes + templates - export, delete\n    sandboxes + folders - delete\n  */\n\n  const folders = selectedItems.filter(item => item.type === 'folder');\n  const templates = selectedItems.filter(item => item.isTemplate);\n  const sandboxes = selectedItems.filter(\n    item => item.type === 'sandbox' && !item.isTemplate\n  );\n\n  const exportItems = () => {\n    const ids = [\n      ...sandboxes.map(sandbox => sandbox.id),\n      ...templates.map(template => template.id),\n    ];\n    actions.dashboard.downloadSandboxes(ids);\n  };\n\n  const convertToTemplates = () => {\n    actions.dashboard.makeTemplate(sandboxes.map(sandbox => sandbox.id));\n  };\n\n  const convertToSandboxes = () => {\n    actions.dashboard.unmakeTemplate(templates.map(template => template.id));\n  };\n\n  const deleteItems = () => {\n    folders.forEach(folder =>\n      actions.dashboard.deleteFolder({ path: folder.path })\n    );\n\n    templates.forEach(sandbox =>\n      actions.dashboard.deleteTemplate({\n        sandboxId: sandbox.id,\n        templateId: sandbox.template.id,\n      })\n    );\n\n    if (sandboxes.length) {\n      actions.dashboard.deleteSandbox(sandboxes.map(sandbox => sandbox.id));\n    }\n  };\n\n  const EXPORT = { label: 'Export items', fn: exportItems };\n  const DELETE = { label: 'Delete items', fn: deleteItems };\n  const CONVERT_TO_TEMPLATE = {\n    label: 'Convert to templates',\n    fn: convertToTemplates,\n  };\n  const CONVERT_TO_SANDBOX = {\n    label: 'Convert to sandboxes',\n    fn: convertToSandboxes,\n  };\n\n  let options = [];\n\n  if (folders.length) {\n    options = [DELETE];\n  } else if (sandboxes.length && templates.length) {\n    options = [EXPORT, DELETE];\n  } else if (templates.length) {\n    options = [EXPORT, CONVERT_TO_SANDBOX, DELETE];\n  } else if (sandboxes.length) {\n    options = [EXPORT, CONVERT_TO_TEMPLATE, DELETE];\n  }\n\n  return (\n    <>\n      {options.map(option => (\n        <MenuItem key={option.label} onClick={option.fn}>\n          {option.label}\n        </MenuItem>\n      ))}\n    </>\n  );\n};\n","import React from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { useOvermind } from 'app/overmind';\nimport { Element } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport {\n  ARROW_LEFT,\n  ARROW_RIGHT,\n  ARROW_DOWN,\n  ARROW_UP,\n  ENTER,\n  ALT,\n} from '@codesandbox/common/lib/utils/keycodes';\nimport { sandboxUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { DragPreview } from './DragPreview';\nimport { ContextMenu } from './ContextMenu';\n\nconst Context = React.createContext({\n  sandboxes: [],\n  selectedIds: [],\n  onClick: (event: React.MouseEvent<HTMLDivElement>, itemId: string) => {},\n  onMouseDown: (event: React.MouseEvent<HTMLDivElement>) => {},\n  onRightClick: (event: React.MouseEvent<HTMLDivElement>, itemId: string) => {},\n  onMenuEvent: (\n    event:\n      | React.MouseEvent<HTMLDivElement>\n      | React.KeyboardEvent<HTMLDivElement>,\n    itemId?: string\n  ) => {},\n  onBlur: (event: React.FocusEvent<HTMLDivElement>) => {},\n  onKeyDown: (event: React.KeyboardEvent<HTMLDivElement>) => {},\n  onDragStart: (event: React.MouseEvent<HTMLDivElement>, itemId: string) => {},\n  onDrop: (droppedResult: any) => {},\n  thumbnailRef: null,\n  isDragging: false,\n  isRenaming: false,\n  setRenaming: (renaming: boolean) => {},\n});\n\nexport const SelectionProvider = ({\n  sandboxes = [],\n  folders = [],\n  ...props\n}) => {\n  const selectionItems = [\n    ...(folders || []).map(folder => folder.path),\n    ...(sandboxes || []).map(sandbox => sandbox.id),\n  ];\n  const [selectedIds, setSelectedIds] = React.useState([]);\n\n  const {\n    state: { dashboard },\n    actions,\n  } = useOvermind();\n\n  const onClick = (event: React.MouseEvent<HTMLDivElement>, itemId: string) => {\n    if (event.ctrlKey || event.metaKey) {\n      // select multiple with modifier\n\n      if (selectedIds.includes(itemId)) {\n        setSelectedIds(selectedIds.filter(id => id !== itemId));\n      } else {\n        setSelectedIds([...selectedIds, itemId]);\n      }\n\n      event.stopPropagation();\n    } else if (event.shiftKey) {\n      // start = find index for last inserted\n      // end = find index for itemId\n      // find everything in between and add them\n      const start = selectionItems.findIndex(\n        id => id === selectedIds[selectedIds.length - 1]\n      );\n      const end = selectionItems.findIndex(id => id === itemId);\n\n      const itemsInRange = [];\n\n      if (start >= 0 && end >= 0) {\n        const increment = end > start ? +1 : -1;\n\n        for (\n          let index = start;\n          increment > 0 ? index <= end : index >= end;\n          index += increment\n        ) {\n          itemsInRange.push(selectionItems[index]);\n        }\n      } else {\n        itemsInRange.push(itemId);\n      }\n\n      // Missing feature: When you create a new selection that overlaps\n      // with the existing selection, you're probably trying to unselect them\n      // commonIds = itemsInRange.filter(id => selectedIds.length)\n      // remove the common ones while adding the rest\n\n      setSelectedIds([...selectedIds, ...itemsInRange]);\n\n      event.stopPropagation();\n    } else {\n      setSelectedIds([itemId]);\n      event.stopPropagation();\n    }\n  };\n\n  const onMouseDown = (event: React.MouseEvent<HTMLDivElement>) => {\n    // prevent collisions with mouse down on container\n    event.stopPropagation();\n  };\n\n  const [menuVisible, setMenuVisibility] = React.useState(true);\n  const [menuPosition, setMenuPosition] = React.useState({ x: 0, y: 0 });\n\n  const onRightClick = (\n    event: React.MouseEvent<HTMLDivElement> &\n      React.KeyboardEvent<HTMLDivElement>,\n    itemId: string\n  ) => {\n    if (!selectedIds.includes(itemId)) setSelectedIds([itemId]);\n    setMenuVisibility(true);\n    setMenuPosition({ x: event.clientX, y: event.clientY });\n  };\n\n  const onMenuEvent = (\n    event:\n      | React.MouseEvent<HTMLDivElement>\n      | React.KeyboardEvent<HTMLDivElement>,\n    itemId?: string\n  ) => {\n    if (itemId && !selectedIds.includes(itemId)) setSelectedIds([itemId]);\n\n    const target = event.target as HTMLButtonElement;\n\n    let menuElement = target;\n    if (target.dataset.selectionId) {\n      // if the event is fired on the sandbox/folder, we find\n      // the menu button to correctly position the menu\n      menuElement = target.querySelector('button');\n    }\n\n    const rect = menuElement.getBoundingClientRect();\n    const position = {\n      x: rect.x + rect.width / 2,\n      y: rect.y + rect.height / 2,\n    };\n\n    setMenuVisibility(true);\n    setMenuPosition(position);\n  };\n\n  const onBlur = (event: React.FocusEvent<HTMLDivElement>) => {\n    if (!event.bubbles) {\n      // do nothing, another sandbox was selected\n    } else {\n      // reset selection\n      setSelectedIds([]);\n    }\n  };\n\n  const [isRenaming, setRenaming] = React.useState(false);\n\n  let viewMode: string;\n  const location = useLocation();\n\n  if (location.pathname.includes('deleted')) viewMode = 'list';\n  else if (location.pathname.includes('home')) viewMode = 'grid';\n  else viewMode = dashboard.viewMode;\n\n  const history = useHistory();\n  const onKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    if (!selectedIds.length) return;\n    // disable keyboard navigation if menu is open\n    if (menuVisible) return;\n\n    // disable selection keydowns when renaming\n    if (isRenaming) return;\n\n    if (event.keyCode === ALT) onMenuEvent(event);\n\n    // if only one thing is selected, open it\n    if (event.keyCode === ENTER && selectedIds.length === 1) {\n      const selectedId = selectedIds[0];\n\n      let url;\n      if (selectedId.startsWith('/')) {\n        // means its a folder\n        url = '/new-dashboard/all' + selectedId;\n      } else {\n        const seletedSandbox = sandboxes.find(\n          sandbox => sandbox.id === selectedId\n        );\n        url = sandboxUrl({\n          id: seletedSandbox.id,\n          alias: seletedSandbox.alias,\n        });\n      }\n\n      if (event.ctrlKey || event.metaKey) {\n        window.open(url, '_blank');\n      } else {\n        history.push(url);\n      }\n    }\n\n    // if isn't one of the handled keys, skip\n    if (\n      (viewMode === 'grid' &&\n        event.keyCode !== ARROW_RIGHT &&\n        event.keyCode !== ARROW_LEFT &&\n        event.keyCode !== ARROW_UP &&\n        event.keyCode !== ARROW_DOWN) ||\n      (viewMode === 'list' &&\n        event.keyCode !== ARROW_DOWN &&\n        event.keyCode !== ARROW_UP)\n    ) {\n      return;\n    }\n\n    // cancel scroll events\n    event.preventDefault();\n\n    const lastSelectedItemId = selectedIds[selectedIds.length - 1];\n\n    const index = selectionItems.findIndex(id => id === lastSelectedItemId);\n\n    const direction = [ARROW_RIGHT, ARROW_DOWN].includes(event.keyCode)\n      ? 'forward'\n      : 'backward';\n\n    // column count is set by SandboxGrid\n    // to keep the state easy to manage, we imperatively\n    // read this value from data-column-count\n    const gridElement = document.querySelector(\n      '#variable-grid'\n    ) as HTMLButtonElement;\n    const columnCount = parseInt(gridElement.dataset.columnCount, 10);\n\n    const steps = [ARROW_UP, ARROW_DOWN].includes(event.keyCode)\n      ? columnCount\n      : 1;\n\n    const nextItem =\n      selectionItems[index + (direction === 'forward' ? steps : -1 * steps)];\n\n    // boundary conditions\n    if (!nextItem) return;\n\n    // scroll to newly selected element into view imperatively\n    scrollIntoViewport(nextItem);\n\n    // just moving around\n    if (!event.shiftKey) {\n      setSelectedIds([nextItem]);\n      return;\n    }\n\n    // selection:\n    // going back! remove the last one\n    if (selectedIds.includes(nextItem)) {\n      setSelectedIds(selectedIds.slice(0, -1));\n      return;\n    }\n\n    // select one more\n    setSelectedIds([...selectedIds, nextItem]);\n  };\n\n  const onDragStart = (\n    event: React.MouseEvent<HTMLDivElement>,\n    itemId: string\n  ) => {\n    // if the dragged sandbox isn't selected. select it alone\n    if (!selectedIds.includes(itemId)) {\n      setSelectedIds([itemId]);\n    }\n  };\n\n  const onDrop = dropResult => {\n    if (dropResult.isSamePath) return;\n\n    const sandboxIds = selectedIds.filter(isSandboxId);\n    const folderPaths = selectedIds.filter(isFolderPath).filter(notDrafts);\n\n    if (sandboxIds.length) {\n      if (dropResult.path === 'deleted') {\n        actions.dashboard.deleteSandbox(sandboxIds);\n      } else if (dropResult.path === 'templates') {\n        actions.dashboard.makeTemplate(sandboxIds);\n      } else if (dropResult.path === '/drafts') {\n        actions.dashboard.addSandboxesToFolder({\n          sandboxIds,\n          collectionPath: '/',\n        });\n      } else {\n        actions.dashboard.addSandboxesToFolder({\n          sandboxIds,\n          collectionPath: dropResult.path,\n        });\n      }\n    }\n\n    if (folderPaths.length) {\n      if (dropResult.path === 'deleted') {\n        folderPaths.forEach(path => actions.dashboard.deleteFolder({ path }));\n      } else if (dropResult.path === 'templates') {\n        // folders can't be dropped into templates\n      } else if (dropResult.path === 'drafts') {\n        // folders can't be dropped into drafts\n      } else {\n        // moving folders into another folder\n        // is the same as changing it's path\n        folderPaths.forEach(path => {\n          const { name } = folders.find(folder => folder.path === path);\n          actions.dashboard.moveFolder({\n            path,\n            newPath: dropResult.path.replace('all', '') + '/' + name,\n          });\n        });\n      }\n    }\n  };\n\n  // attach to thumbnail, we use this to calculate size\n  const thumbnailRef = React.useRef<HTMLDivElement>();\n\n  // is anything being dragged?\n  const [isDragging, setDragging] = React.useState(false);\n\n  const [drawingRect, setDrawingRect] = React.useState(false);\n  const [selectionRect, setSelectionRect] = React.useState({\n    start: { x: null, y: null },\n    end: { x: null, y: null },\n  });\n  const resetSelectionRect = () => {\n    setDrawingRect(false);\n    setSelectionRect({\n      start: { x: null, y: null },\n      end: { x: null, y: null },\n    });\n  };\n\n  const onContainerMouseDown = event => {\n    setSelectedIds([]); // global blur\n\n    // right click\n    if (event.button === 2) return;\n\n    setDrawingRect(true);\n    setSelectionRect({\n      start: {\n        x: event.clientX,\n        y: event.clientY,\n      },\n      end: { x: null, y: null },\n    });\n  };\n\n  const callbackCalledAt = React.useRef(null);\n\n  const onContainerMouseMove = event => {\n    if (!drawingRect) return;\n\n    setSelectionRect({\n      start: selectionRect.start,\n      end: { x: event.clientX, y: event.clientY },\n    });\n\n    const callback = () => {\n      const selectionLeft = Math.min(\n        selectionRect.start.x,\n        selectionRect.end.x\n      );\n      const selectionRight = Math.max(\n        selectionRect.start.x,\n        selectionRect.end.x\n      );\n      const selectionTop = Math.min(selectionRect.start.y, selectionRect.end.y);\n      const selectionBottom = Math.max(\n        selectionRect.start.y,\n        selectionRect.end.y\n      );\n\n      const visibleItems = document.querySelectorAll('[data-selection-id]');\n      const overlappingItems = [];\n\n      visibleItems.forEach(item => {\n        const rect = item.getBoundingClientRect();\n\n        // left-right doesn't matter for list view\n        if (\n          (viewMode === 'list' ||\n            (rect.left > selectionLeft && rect.left < selectionRight) ||\n            (rect.right > selectionLeft && rect.right < selectionRight)) &&\n          ((rect.top > selectionTop && rect.top < selectionBottom) ||\n            (rect.bottom > selectionTop && rect.bottom < selectionBottom))\n        ) {\n          overlappingItems.push(item);\n        }\n      });\n\n      const overlappingIds = [];\n      overlappingItems.forEach(item => {\n        overlappingIds.push(item.dataset.selectionId);\n      });\n\n      setSelectedIds(overlappingIds);\n      callbackCalledAt.current = new Date().getTime();\n    };\n\n    // performance hack: don't fire the callback again if it was fired 60ms ago\n    if (!callbackCalledAt.current) callback();\n    else if (new Date().getTime() - callbackCalledAt.current > 60) callback();\n  };\n\n  const onContainerMouseUp = event => {\n    if (drawingRect) resetSelectionRect();\n  };\n\n  return (\n    <Context.Provider\n      value={{\n        sandboxes,\n        selectedIds,\n        onClick,\n        onMouseDown,\n        onBlur,\n        onRightClick,\n        onMenuEvent,\n        onKeyDown,\n        onDragStart,\n        onDrop,\n        thumbnailRef,\n        isDragging,\n        isRenaming,\n        setRenaming,\n      }}\n    >\n      <Element\n        id=\"selection-container\"\n        onMouseDown={onContainerMouseDown}\n        onMouseMove={onContainerMouseMove}\n        onMouseUp={onContainerMouseUp}\n        css={css({ paddingTop: 10 })}\n      >\n        {props.children}\n      </Element>\n      {drawingRect && selectionRect.end.x && (\n        <Element\n          id=\"selection-rectangle\"\n          css={css({\n            position: 'absolute',\n            background: '#6CC7F640', // blues.300 with 25% opacity\n            border: '1px solid',\n            borderColor: 'blues.600',\n            left: Math.min(selectionRect.start.x, selectionRect.end.x),\n            top: Math.min(selectionRect.start.y, selectionRect.end.y),\n            width: Math.abs(selectionRect.end.x - selectionRect.start.x),\n            height: Math.abs(selectionRect.end.y - selectionRect.start.y),\n            pointerEvents: 'none', // disable selection\n          })}\n        />\n      )}\n      <DragPreview\n        sandboxes={sandboxes || []}\n        folders={folders || []}\n        selectionItems={selectionItems}\n        selectedIds={selectedIds}\n        thumbnailRef={thumbnailRef}\n        viewMode={viewMode}\n        setDragging={setDragging}\n      />\n      <ContextMenu\n        visible={menuVisible}\n        position={menuPosition}\n        setVisibility={setMenuVisibility}\n        selectedIds={selectedIds}\n        sandboxes={sandboxes || []}\n        folders={folders || []}\n        setRenaming={setRenaming}\n      />\n    </Context.Provider>\n  );\n};\n\nexport const useSelection = () => {\n  const {\n    sandboxes,\n    selectedIds,\n    onClick,\n    onMouseDown,\n    onBlur,\n    onRightClick,\n    onMenuEvent,\n    onKeyDown,\n    onDragStart,\n    onDrop,\n    thumbnailRef,\n    isDragging,\n    isRenaming,\n    setRenaming,\n  } = React.useContext(Context);\n\n  return {\n    sandboxes,\n    selectedIds,\n    onClick,\n    onMouseDown,\n    onBlur,\n    onRightClick,\n    onMenuEvent,\n    onKeyDown,\n    onDragStart,\n    onDrop,\n    thumbnailRef,\n    isDragging,\n    isRenaming,\n    setRenaming,\n  };\n};\n\nconst scrollIntoViewport = (id: string) => {\n  const gridContainer = document.querySelector('#variable-grid');\n  const event = new CustomEvent('scrollToItem', { detail: id });\n  gridContainer.dispatchEvent(event);\n};\n\nconst isFolderPath = id => id.startsWith('/');\nconst isSandboxId = id => !isFolderPath(id);\nconst notDrafts = folder => folder.path !== '/drafts';\n","import React from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { useDrag } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { motion } from 'framer-motion';\nimport { useOvermind } from 'app/overmind';\nimport { sandboxUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { ESC } from '@codesandbox/common/lib/utils/keycodes';\nimport { SandboxCard, SkeletonCard } from './SandboxCard';\nimport { SandboxListItem, SkeletonListItem } from './SandboxListItem';\nimport { getTemplateIcon } from './TemplateIcon';\nimport { useSelection } from '../Selection';\n\nconst GenericSandbox = ({ sandbox, ...props }) => {\n  const {\n    state: { dashboard },\n    actions,\n  } = useOvermind();\n\n  const sandboxTitle = sandbox.title || sandbox.alias || sandbox.id;\n\n  const url = sandboxUrl({\n    id: sandbox.id,\n    alias: sandbox.alias,\n  });\n\n  const TemplateIcon = getTemplateIcon(sandbox);\n\n  /* Drag logic */\n\n  const location = useLocation();\n  const currentCollectionPath = location.pathname\n    .replace('/new-dashboard', '')\n    .replace('/all', '');\n\n  const [, dragRef, preview] = useDrag({\n    item: {\n      type: 'sandbox',\n      id: sandbox.id,\n      collectionPath: currentCollectionPath,\n    },\n    end: (item, monitor) => {\n      const dropResult = monitor.getDropResult();\n\n      if (!dropResult || !dropResult.path) return;\n\n      onDrop(dropResult);\n    },\n  });\n\n  /* View logic */\n  let viewMode: string;\n\n  if (location.pathname.includes('deleted')) viewMode = 'list';\n  else if (location.pathname.includes('home')) viewMode = 'grid';\n  else viewMode = dashboard.viewMode;\n\n  const Component = viewMode === 'list' ? SandboxListItem : SandboxCard;\n\n  // interactions\n  const {\n    selectedIds,\n    onClick: onSelectionClick,\n    onMouseDown,\n    onRightClick,\n    onMenuEvent,\n    onBlur,\n    onKeyDown,\n    onDragStart,\n    onDrop,\n    thumbnailRef,\n    isDragging: isAnythingDragging,\n    isRenaming,\n    setRenaming,\n  } = useSelection();\n\n  const selected = selectedIds.includes(sandbox.id);\n  const isDragging = isAnythingDragging && selected;\n\n  const onClick = event => {\n    onSelectionClick(event, sandbox.id);\n  };\n\n  const onContextMenu = event => {\n    event.preventDefault();\n    if (event.type === 'contextmenu') onRightClick(event, sandbox.id);\n    else onMenuEvent(event, sandbox.id);\n  };\n\n  const history = useHistory();\n  const onDoubleClick = event => {\n    if (event.ctrlKey || event.metaKey) {\n      window.open(url, '_blank');\n    } else {\n      history.push(url);\n    }\n  };\n\n  /* Edit logic */\n\n  const [newTitle, setNewTitle] = React.useState(sandboxTitle);\n\n  const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setNewTitle(event.target.value);\n  };\n  const onInputKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.keyCode === ESC) {\n      // Reset value and exit without saving\n      setNewTitle(sandboxTitle);\n      setRenaming(false);\n    }\n  };\n\n  const onSubmit = async (event?: React.FormEvent<HTMLFormElement>) => {\n    if (event) event.preventDefault();\n    await actions.dashboard.renameSandbox({\n      id: sandbox.id,\n      title: newTitle,\n      oldTitle: sandboxTitle,\n    });\n    setRenaming(false);\n  };\n\n  const onInputBlur = () => {\n    // save value when you click outside or tab away\n    onSubmit();\n  };\n\n  const interactionProps = {\n    tabIndex: 0, // make div focusable\n    style: {\n      outline: 'none',\n    }, // we handle outline with border\n    selected,\n    onClick,\n    onMouseDown,\n    onDoubleClick,\n    onContextMenu,\n    onBlur,\n    onKeyDown,\n    'data-selection-id': sandbox.id,\n  };\n\n  const sandboxProps = {\n    sandboxTitle,\n    sandbox,\n    isTemplate: sandbox.isTemplate,\n    TemplateIcon,\n    // edit mode\n    editing: isRenaming && selected,\n    newTitle,\n    onChange,\n    onInputKeyDown,\n    onSubmit,\n    onInputBlur,\n    // drag preview\n    thumbnailRef,\n    opacity: isDragging ? 0.25 : 1,\n  };\n\n  const dragProps = sandbox.isHomeTemplate\n    ? {}\n    : {\n        ref: dragRef,\n        onDragStart: event => onDragStart(event, sandbox.id),\n      };\n\n  React.useEffect(() => {\n    preview(getEmptyImage(), {\n      captureDraggingState: true,\n    });\n  }, [preview]);\n\n  const resizing = useResizing();\n  const motionProps = resizing\n    ? {}\n    : {\n        layoutTransition: {\n          type: 'spring',\n          damping: 300,\n          stiffness: 300,\n        },\n      };\n\n  return (\n    <>\n      <div {...dragProps}>\n        <motion.div {...motionProps}>\n          <Component {...sandboxProps} {...interactionProps} {...props} />\n        </motion.div>\n      </div>\n    </>\n  );\n};\n\nexport const Sandbox = React.memo(GenericSandbox);\n\nexport const SkeletonSandbox = props => {\n  const {\n    state: { dashboard },\n  } = useOvermind();\n\n  const location = useLocation();\n\n  let viewMode;\n  if (location.pathname.includes('deleted')) viewMode = 'list';\n  else if (location.pathname.includes('home')) viewMode = 'grid';\n  else viewMode = dashboard.viewMode;\n\n  if (viewMode === 'list') {\n    return <SkeletonListItem {...props} />;\n  }\n  return <SkeletonCard {...props} />;\n};\n\nconst useResizing = () => {\n  const TIMEOUT = 250;\n  const [resizing, setResizing] = React.useState(false);\n\n  React.useEffect(() => {\n    let timeoutId = null;\n\n    const handler = () => {\n      setResizing(true);\n      window.clearTimeout(timeoutId);\n      timeoutId = window.setTimeout(() => setResizing(false), TIMEOUT);\n    };\n    window.addEventListener('resize', handler);\n    return () => window.removeEventListener('resize', handler);\n  }, []);\n\n  return resizing;\n};\n","import { getTemplateIcon as commonTemplateIcon } from '@codesandbox/common/lib/utils/getTemplateIcon';\n\nexport const getTemplateIcon = sandbox => {\n  if (!sandbox) return () => null;\n\n  const { UserIcon } = commonTemplateIcon(\n    sandbox.forkedTemplate?.iconUrl,\n    sandbox.source.template\n  );\n\n  return UserIcon;\n};\n","import React from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { Stack, Text, Button, Icon } from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nexport const NewSandbox = () => {\n  const { actions } = useOvermind();\n\n  const onClick = () => actions.modalOpened({ modal: 'newSandbox' });\n  return (\n    <Button\n      variant=\"link\"\n      onClick={onClick}\n      css={css({\n        height: 240,\n        fontSize: 3,\n        backgroundColor: 'grays.700',\n        border: '1px solid',\n        borderColor: 'grays.600',\n        borderRadius: 'medium',\n        transition: 'all ease-in',\n        transitionDuration: theme => theme.speeds[2],\n        ':hover, :focus, :focus-within': {\n          boxShadow: theme => '0 4px 16px 0 ' + theme.colors.grays[900],\n        },\n      })}\n    >\n      <Stack direction=\"vertical\" align=\"center\" gap={4}>\n        <Icon name=\"plusInCircle\" size={24} />\n        <Text>New Sandbox</Text>\n      </Stack>\n    </Button>\n  );\n};\n","import React from 'react';\nimport { Stack, Text, Input, IconButton } from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nexport const FolderCard = ({\n  name,\n  path,\n  isDrafts,\n  numberOfSandboxes,\n  // interactions\n  selected,\n  onClick,\n  onDoubleClick,\n  onContextMenu,\n  // editing\n  editing,\n  isNewFolder,\n  newName,\n  onChange,\n  onInputKeyDown,\n  onSubmit,\n  onInputBlur,\n  // drop target\n  showDropStyles,\n  // drag preview\n  thumbnailRef,\n  opacity,\n  ...props\n}) => (\n  <Stack\n    direction=\"vertical\"\n    gap={2}\n    onClick={onClick}\n    onDoubleClick={onDoubleClick}\n    onContextMenu={onContextMenu}\n    {...props}\n    css={css({\n      width: '100%',\n      height: 240,\n      backgroundColor: 'grays.700',\n      border: '1px solid',\n      borderRadius: 'medium',\n      overflow: 'hidden',\n      // drop target\n      borderColor: getBorderColor(selected, showDropStyles),\n      boxShadow: theme =>\n        showDropStyles ? '0 4px 16px 0 ' + theme.colors.grays[900] : null,\n\n      // drag state,\n      opacity,\n\n      ':hover, :focus, :focus-within': {\n        boxShadow: theme => '0 4px 16px 0 ' + theme.colors.grays[900],\n      },\n    })}\n  >\n    <Stack\n      as=\"div\"\n      justify=\"center\"\n      align=\"center\"\n      ref={thumbnailRef}\n      css={css({\n        height: 160,\n        borderStyle: 'solid',\n        borderWidth: 0,\n        borderBottomWidth: 1,\n        borderColor: 'grays.500',\n        backgroundColor: 'grays.600',\n      })}\n    >\n      <svg width={56} height={49} fill=\"none\" viewBox=\"0 0 56 49\">\n        <path\n          fill=\"#6CC7F6\"\n          d=\"M20.721 0H1.591A1.59 1.59 0 000 1.59v45.82C0 48.287.712 49 1.59 49h52.82A1.59 1.59 0 0056 47.41V7.607a1.59 1.59 0 00-1.59-1.59H28L21.788.41A1.59 1.59 0 0020.72 0z\"\n        />\n      </svg>\n    </Stack>\n    <Stack justify=\"space-between\" align=\"center\" marginLeft={4}>\n      {editing ? (\n        <form onSubmit={onSubmit}>\n          <Input\n            autoFocus\n            value={newName}\n            onChange={onChange}\n            onKeyDown={onInputKeyDown}\n            onBlur={onInputBlur}\n          />\n        </form>\n      ) : (\n        <Text size={3} weight=\"medium\">\n          {name}\n        </Text>\n      )}\n      {!(isNewFolder || isDrafts) ? (\n        <IconButton\n          name=\"more\"\n          size={9}\n          title=\"Sandbox actions\"\n          onClick={onContextMenu}\n        />\n      ) : null}\n    </Stack>\n    {!isNewFolder ? (\n      <Stack marginLeft={4}>\n        <Text size={3} block variant=\"muted\">\n          {numberOfSandboxes || 0}{' '}\n          {numberOfSandboxes === 1 ? 'sandbox' : 'sandboxes'}\n        </Text>\n      </Stack>\n    ) : null}\n  </Stack>\n);\n\nconst getBorderColor = (selected, showDropStyles) => {\n  if (selected) return 'blues.600';\n  if (showDropStyles) return 'grays.400';\n  return 'grays.500';\n};\n","import React from 'react';\nimport {\n  Stack,\n  ListAction,\n  Text,\n  Input,\n  IconButton,\n  Grid,\n  Column,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nexport const FolderListItem = ({\n  name,\n  path,\n  isDrafts,\n  numberOfSandboxes,\n  // interactions\n  selected,\n  onClick,\n  onDoubleClick,\n  onContextMenu,\n  // editing\n  editing,\n  isNewFolder,\n  newName,\n  onChange,\n  onInputKeyDown,\n  onSubmit,\n  onInputBlur,\n  // drop target\n  showDropStyles,\n  // drag preview\n  // opacity,\n  ...props\n}) => (\n  <ListAction\n    onClick={onClick}\n    onDoubleClick={onDoubleClick}\n    onContextMenu={onContextMenu}\n    {...props}\n    css={css({\n      paddingX: 0,\n      backgroundColor: selected\n        ? 'blues.600'\n        : showDropStyles\n        ? 'list.hoverBackground'\n        : 'inherit',\n      color: selected ? 'white' : 'inherit',\n      ':hover, :focus, :focus-within': {\n        cursor: 'default',\n        backgroundColor: selected ? 'blues.600' : 'list.hoverBackground',\n      },\n      width: '100%',\n      height: 64,\n      borderBottom: '1px solid',\n      borderBottomColor: 'grays.600',\n    })}\n  >\n    <Grid css={{ width: 'calc(100% - 26px - 8px)' }}>\n      <Column span={[12, 5, 5]}>\n        <Stack gap={4} align=\"center\" marginLeft={2}>\n          <Stack\n            as=\"div\"\n            justify=\"center\"\n            align=\"center\"\n            css={css({\n              height: 32,\n            })}\n          >\n            <svg width={32} height={24} fill=\"none\" viewBox=\"0 0 56 49\">\n              <path\n                fill=\"#6CC7F6\"\n                d=\"M20.721 0H1.591A1.59 1.59 0 000 1.59v45.82C0 48.287.712 49 1.59 49h52.82A1.59 1.59 0 0056 47.41V7.607a1.59 1.59 0 00-1.59-1.59H28L21.788.41A1.59 1.59 0 0020.72 0z\"\n              />\n            </svg>\n          </Stack>\n          <Stack justify=\"space-between\" align=\"center\">\n            {editing ? (\n              <form onSubmit={onSubmit}>\n                <Input\n                  autoFocus\n                  value={newName}\n                  onChange={onChange}\n                  onKeyDown={onInputKeyDown}\n                  onBlur={onInputBlur}\n                />\n              </form>\n            ) : (\n              <Text size={3} weight=\"medium\">\n                {name}\n              </Text>\n            )}\n          </Stack>\n        </Stack>\n      </Column>\n      <Column span={[0, 4, 4]} as={Stack} align=\"center\">\n        {!(isNewFolder || isDrafts) ? (\n          <Text size={3} block variant={selected ? 'body' : 'muted'}>\n            {numberOfSandboxes || 0}{' '}\n            {numberOfSandboxes === 1 ? 'sandbox' : 'sandboxes'}\n          </Text>\n        ) : null}\n      </Column>\n      <Column span={[0, 3, 3]} as={Stack} align=\"center\">\n        {/* empty column to align with sandbox list items */}\n      </Column>\n    </Grid>\n    {!isNewFolder ? (\n      <IconButton\n        name=\"more\"\n        size={9}\n        title=\"Sandbox actions\"\n        onClick={onContextMenu}\n      />\n    ) : null}\n  </ListAction>\n);\n","import React from 'react';\nimport { join, dirname } from 'path';\nimport { useDrop, useDrag } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { motion } from 'framer-motion';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { ESC } from '@codesandbox/common/lib/utils/keycodes';\nimport { useOvermind } from 'app/overmind';\nimport { FolderCard } from './FolderCard';\nimport { FolderListItem } from './FolderListItem';\nimport { useSelection } from '../Selection';\n\nexport const Folder = ({\n  name = '',\n  path = null,\n  sandboxes = 0,\n  setCreating,\n  ...props\n}) => {\n  const {\n    state: { dashboard },\n    actions,\n  } = useOvermind();\n\n  const isNewFolder = !path;\n  const isDrafts = path === '/drafts';\n\n  const location = useLocation();\n\n  /* View logic */\n\n  let viewMode: string;\n  if (location.pathname.includes('deleted')) viewMode = 'list';\n  else if (location.pathname.includes('home')) viewMode = 'grid';\n  else viewMode = dashboard.viewMode;\n\n  const Component = viewMode === 'list' ? FolderListItem : FolderCard;\n\n  // interactions\n  const {\n    selectedIds,\n    onClick: onSelectionClick,\n    onMouseDown,\n    onRightClick,\n    onMenuEvent,\n    onBlur,\n    onKeyDown,\n    onDragStart,\n    onDrop,\n    thumbnailRef,\n    isDragging: isAnythingDragging,\n    isRenaming,\n    setRenaming,\n  } = useSelection();\n\n  const selected = selectedIds.includes(path) || isNewFolder;\n  const isDragging = isAnythingDragging && selected;\n\n  const onClick = event => {\n    onSelectionClick(event, path);\n  };\n\n  const history = useHistory();\n  const onDoubleClick = event => {\n    const url = '/new-dashboard/all' + path;\n    if (event.ctrlKey || event.metaKey) {\n      window.open(url, '_blank');\n    } else {\n      history.push(url);\n    }\n  };\n\n  const onContextMenu = event => {\n    event.preventDefault();\n\n    if (event.type === 'contextmenu') onRightClick(event, path);\n    else onMenuEvent(event, path);\n  };\n\n  const interactionProps = {\n    tabIndex: 0, // make div focusable\n    style: { outline: 'none' }, // we handle outline with border\n    selected,\n    onClick,\n    onMouseDown,\n    onDoubleClick,\n    onContextMenu,\n    onBlur,\n    onKeyDown,\n    'data-selection-id': path,\n  };\n\n  /* Drop target logic */\n\n  const accepts = ['sandbox'];\n  if (!isDrafts) accepts.push('folder');\n\n  const [{ isOver, canDrop }, dropRef] = useDrop({\n    accept: accepts,\n    drop: () => ({ path }),\n    collect: monitor => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop() && !isSamePath(monitor.getItem(), path),\n    }),\n  });\n\n  const dropProps = {\n    ref: dropRef,\n  };\n\n  /* Drag logic */\n\n  const parent =\n    !isNewFolder &&\n    path\n      .split('/')\n      .slice(0, -1)\n      .join('/');\n\n  const [, dragRef, preview] = useDrag({\n    item: { type: 'folder', path, parent, name },\n    end: (item, monitor) => {\n      const dropResult = monitor.getDropResult();\n\n      if (!dropResult || !dropResult.path) return;\n      if (isSamePath(dropResult, path)) return;\n\n      onDrop(dropResult);\n    },\n  });\n\n  const dragProps = isDrafts\n    ? {}\n    : {\n        ref: dragRef,\n        onDragStart: event => onDragStart(event, path),\n      };\n\n  React.useEffect(() => {\n    preview(getEmptyImage(), { captureDraggingState: true });\n  }, [preview]);\n\n  /* Edit logic */\n  const [newName, setNewName] = React.useState(name);\n\n  const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setNewName(event.target.value);\n  };\n  const onInputKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.keyCode === ESC) {\n      // Reset value and exit without saving\n      setNewName(name);\n      setRenaming(false);\n      if (setCreating) setCreating(false);\n    }\n  };\n\n  const onSubmit = async (event?: React.FormEvent<HTMLFormElement>) => {\n    if (event) event.preventDefault();\n\n    if (name === newName) {\n      // nothing to do here\n    } else if (isNewFolder) {\n      if (newName) {\n        const folderLocation = location.pathname.split(\n          '/new-dashboard/all/'\n        )[1];\n\n        let folderPath = '';\n        if (folderLocation) folderPath += '/' + folderLocation;\n        folderPath += '/' + newName;\n\n        await actions.dashboard.createFolder(folderPath);\n      }\n    } else {\n      await actions.dashboard.renameFolder({\n        path,\n        newPath: join(dirname(path), newName),\n      });\n    }\n\n    if (setCreating) setCreating(false);\n    return setRenaming(false);\n  };\n\n  const onInputBlur = () => {\n    // save value when you click outside or tab away\n    setRenaming(false);\n    onSubmit();\n  };\n\n  // If it's a new folder, enter editing and focus on render\n  React.useEffect(() => {\n    if (isNewFolder) setRenaming(true);\n  }, [isNewFolder, setRenaming]);\n\n  const folderProps = {\n    name,\n    path,\n    isDrafts,\n    numberOfSandboxes: sandboxes,\n    onClick,\n    onDoubleClick,\n    // edit mode\n    editing: isRenaming && selected,\n    isNewFolder,\n    newName,\n    onChange,\n    onInputKeyDown,\n    onSubmit,\n    onInputBlur,\n    // drag preview\n    thumbnailRef,\n    opacity: isDragging ? 0.25 : 1,\n  };\n\n  return (\n    <>\n      <div {...dragProps}>\n        <motion.div\n          initial={{ scale: 1 }}\n          animate={{ scale: isOver && canDrop ? 1.02 : 1 }}\n          {...dropProps}\n        >\n          <Component\n            {...folderProps}\n            {...interactionProps}\n            showDropStyles={isOver && canDrop}\n            {...props}\n          />\n        </motion.div>\n      </div>\n    </>\n  );\n};\n\nconst isSamePath = (draggedItem, selfPath) => {\n  if (draggedItem && draggedItem.path === selfPath) return true;\n  return false;\n};\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Stack, Text, Button } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\nimport { NewSandbox } from '../Sandbox/NewSandbox';\n\nexport const EmptyScreen = () => {\n  const { actions } = useOvermind();\n\n  const location = useLocation();\n  const isSearch = location.pathname.includes('/search');\n\n  const onClick = () => actions.modalOpened({ modal: 'newSandbox' });\n\n  if (isSearch) {\n    return (\n      <Stack justify=\"center\" align=\"center\" marginTop={120}>\n        <Text variant=\"muted\">\n          There are no sandboxes that match your query\n        </Text>\n      </Stack>\n    );\n  }\n\n  return (\n    <Stack justify=\"center\" align=\"center\" marginTop={120}>\n      <Stack direction=\"vertical\" align=\"center\" gap={8} css={{ width: 400 }}>\n        <Stack align=\"center\" css={{ width: 220 }}>\n          <NewSandbox />\n        </Stack>\n\n        <Stack direction=\"vertical\" align=\"center\">\n          <Text variant=\"muted\">You havent created any Sandboxes yet.</Text>\n          <Stack align=\"center\" gap={1}>\n            <Text variant=\"muted\">Start with a</Text>\n            <Button\n              variant=\"link\"\n              onClick={onClick}\n              css={css({\n                color: 'blues.600',\n                fontSize: 'inherit',\n                fontWeight: 'inherit',\n                width: 'fit-content',\n                padding: 0,\n              })}\n            >\n              Template\n            </Button>\n          </Stack>\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import React from 'react';\nimport { Link as RouterLink, useLocation } from 'react-router-dom';\nimport { useOvermind } from 'app/overmind';\nimport { Element, Text, Link } from '@codesandbox/components';\nimport { VariableSizeGrid } from 'react-window';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { Sandbox, SkeletonSandbox } from '../Sandbox';\nimport { NewSandbox } from '../Sandbox/NewSandbox';\nimport { Folder } from '../Folder';\nimport { EmptyScreen } from '../EmptyScreen';\n\nexport const GRID_MAX_WIDTH = 992;\nexport const GUTTER = 24;\nconst ITEM_MIN_WIDTH = 220;\nconst ITEM_HEIGHT_GRID = 240;\nconst ITEM_HEIGHT_LIST = 64;\nconst HEADER_HEIGHT = 64;\nconst GRID_VERTICAL_OFFSET = 120;\nconst ITEM_VERTICAL_OFFSET = 32;\n\nconst ComponentForTypes = {\n  sandbox: props => <Sandbox sandbox={props} />,\n  folder: props => <Folder {...props} />,\n  'new-sandbox': props => <NewSandbox {...props} />,\n  header: props => (\n    <Text block css={{ userSelect: 'none' }}>\n      {props.title}\n    </Text>\n  ),\n  headerLink: props => (\n    <Link\n      as={RouterLink}\n      to={props.link}\n      size={3}\n      variant=\"muted\"\n      block\n      align=\"right\"\n    >\n      Show more\n    </Link>\n  ),\n  blank: () => <div />,\n  skeleton: SkeletonSandbox,\n};\n\nexport const VariableGrid = ({ items }) => {\n  const {\n    state: { dashboard },\n  } = useOvermind();\n\n  const location = useLocation();\n\n  let viewMode;\n  if (location.pathname.includes('deleted')) viewMode = 'list';\n  else if (location.pathname.includes('home')) viewMode = 'grid';\n  else viewMode = dashboard.viewMode;\n\n  const ITEM_HEIGHT = viewMode === 'list' ? ITEM_HEIGHT_LIST : ITEM_HEIGHT_GRID;\n\n  const Item = ({ data, rowIndex, columnIndex, style }) => {\n    const { columnCount, filledItems, containerWidth } = data;\n\n    /**\n     * react-window does not support gutter or maxWidth\n     * we take over the width and offset calculations\n     * to add these features\n     *\n     * |     |----[       ]----[       ]----[       ]----|     |\n     *         G    item    G    item    G    item    G\n     */\n\n    // adjusting total width based on allowed maxWidth\n    const totalWidth = Math.min(containerWidth, GRID_MAX_WIDTH);\n    const containerLeftOffset =\n      containerWidth > GRID_MAX_WIDTH\n        ? (containerWidth - GRID_MAX_WIDTH) / 2\n        : 0;\n\n    // we calculate width by making enough room for gutters between\n    // each item + on the 2 ends\n    const spaceReqiuredForGutters = GUTTER * (columnCount + 1);\n    const spaceLeftForItems = totalWidth - spaceReqiuredForGutters;\n    const numberOfItems = columnCount;\n    const eachItemWidth = spaceLeftForItems / numberOfItems;\n\n    // to get the left offset, we need to add the space taken by\n    // previous elements + the gutter just before this item\n    const spaceTakenBeforeThisItem =\n      containerLeftOffset + columnIndex * (eachItemWidth + GUTTER);\n    const leftOffset = spaceTakenBeforeThisItem + GUTTER;\n\n    const index = rowIndex * data.columnCount + columnIndex;\n    const item = filledItems[index];\n    if (!item) return null;\n\n    const Component = ComponentForTypes[item.type];\n    const isHeader = item.type === 'header' || item.type === 'headerLink';\n\n    const margins = {\n      marginTop: isHeader ? ITEM_VERTICAL_OFFSET + 24 : ITEM_VERTICAL_OFFSET,\n      marginBottom: viewMode === 'list' || isHeader ? 0 : ITEM_VERTICAL_OFFSET,\n    };\n\n    return (\n      <div\n        style={{\n          ...style,\n          width: eachItemWidth,\n          left: leftOffset,\n          height: style.height - GUTTER,\n          ...margins,\n        }}\n      >\n        <Component {...item} />\n      </div>\n    );\n  };\n\n  const getRowHeight = (rowIndex, columnCount, filledItems) => {\n    const item = filledItems[rowIndex * columnCount];\n\n    if (item.type === 'header') return HEADER_HEIGHT;\n    if (item.type === 'blank') return 0;\n    return ITEM_HEIGHT + (viewMode === 'list' ? 0 : GUTTER);\n  };\n\n  const onResize = () => {\n    // force height re-calculation on resizes\n    recalculatePositions();\n  };\n\n  // if view mode or items changes, recalculate everything\n  React.useEffect(() => {\n    recalculatePositions();\n  }, [viewMode, items]);\n\n  const gridRef = React.useRef(null);\n  const recalculatePositions = () => {\n    if (gridRef.current) {\n      gridRef.current.resetAfterIndices({\n        columnIndex: 0,\n        rowIndex: 0,\n        shouldForceUpdate: true,\n      });\n    }\n  };\n\n  /**\n   * Imperatively find and focus the selected item\n   * 1. Get event from Selection with id\n   * 2. Find the index for id in filledItems\n   * 3. Find the row number for index\n   * 4. scroll to the row\n   */\n  const filledItemsRef = React.useRef([]);\n  const containerRef = React.useRef();\n\n  React.useEffect(function imperativelyFindAndScroll() {\n    const containerElement = containerRef.current as HTMLElement;\n\n    const handler = (event: CustomEvent) => {\n      const index = filledItemsRef.current.findIndex(\n        item => item.id === event.detail\n      );\n\n      const columnCount = parseInt(containerElement.dataset.columnCount, 10);\n      const rowToFocus = Math.floor(index / columnCount) + 1;\n\n      gridRef.current.scrollToItem({ rowIndex: rowToFocus });\n    };\n\n    if (containerElement) {\n      containerElement.addEventListener('scrollToItem', handler, false);\n    }\n\n    return () => {\n      if (containerElement) {\n        containerElement.removeEventListener('scrollToItem', handler, false);\n      }\n    };\n  });\n\n  if (items.length === 0) return <EmptyScreen />;\n\n  return (\n    <Element\n      css={{\n        height: `calc(100vh - ${GRID_VERTICAL_OFFSET}px)`,\n      }}\n    >\n      <AutoSizer onResize={onResize}>\n        {({ width, height }) => {\n          const columnCount =\n            viewMode === 'list'\n              ? 1\n              : Math.min(\n                  Math.floor((width - GUTTER) / (ITEM_MIN_WIDTH + GUTTER)),\n                  4\n                );\n\n          const filledItems = [];\n          const blankItem = { type: 'blank' };\n          const skeletonItem = { type: 'skeleton' };\n\n          items.forEach((item, index) => {\n            if (item.type !== 'skeletonRow') filledItems.push(item);\n\n            if (item.type === 'header') {\n              let blanks = columnCount - 1;\n              if (item.showMoreLink) blanks--;\n              for (let i = 0; i < blanks; i++) filledItems.push(blankItem);\n              if (item.showMoreLink) {\n                filledItems.push({\n                  type: 'headerLink',\n                  link: item.showMoreLink,\n                });\n              }\n            } else if (item.type === 'sandbox') {\n              const nextItem = items[index + 1];\n              if (nextItem && nextItem.type === 'header') {\n                const currentIndex = filledItems.length - 1;\n                const rowIndex = currentIndex % columnCount;\n                const blanks = columnCount - rowIndex - 1;\n                for (let i = 0; i < blanks; i++) filledItems.push(blankItem);\n              }\n            } else if (item.type === 'skeletonRow') {\n              for (let i = 0; i < columnCount; i++) {\n                filledItems.push(skeletonItem);\n              }\n            }\n          });\n\n          filledItemsRef.current = filledItems;\n\n          return (\n            <div\n              id=\"variable-grid\"\n              data-column-count={columnCount}\n              ref={containerRef}\n            >\n              <VariableSizeGrid\n                ref={gridRef}\n                columnCount={columnCount}\n                rowCount={Math.ceil(filledItems.length / columnCount)}\n                width={width}\n                height={height}\n                columnWidth={index => width / columnCount}\n                rowHeight={rowIndex =>\n                  getRowHeight(rowIndex, columnCount, filledItems)\n                }\n                estimatedColumnWidth={width / columnCount}\n                estimatedRowHeight={ITEM_HEIGHT}\n                overscanRowCount={2}\n                itemData={{ columnCount, filledItems, containerWidth: width }}\n                style={{ overflowX: 'hidden' }}\n              >\n                {Item}\n              </VariableSizeGrid>\n            </div>\n          );\n        }}\n      </AutoSizer>\n    </Element>\n  );\n};\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Stack, Text, Button } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { Breadcrumbs } from '../Breadcrumbs';\nimport { FilterOptions } from '../Filters/FilterOptions';\nimport { ViewOptions } from '../Filters/ViewOptions';\nimport { SortOptions } from '../Filters/SortOptions';\nimport { GRID_MAX_WIDTH, GUTTER } from '../VariableGrid';\n\ntype Props = {\n  templates?: any[];\n  path?: string;\n  title?: string;\n  createNewFolder?: () => void;\n  showFilters?: boolean;\n  showViewOptions?: boolean;\n  showSortOptions?: boolean;\n};\n\nexport const Header = ({\n  createNewFolder,\n  templates,\n  path,\n  title,\n  showFilters = false,\n  showViewOptions = false,\n  showSortOptions = false,\n}: Props) => {\n  const location = useLocation();\n\n  return (\n    <Stack\n      align=\"center\"\n      justify=\"space-between\"\n      paddingBottom={2}\n      css={css({\n        width: `calc(100% - ${2 * GUTTER}px)`,\n        maxWidth: GRID_MAX_WIDTH - 2 * GUTTER,\n        marginX: 'auto',\n        borderStyle: 'solid',\n        borderWidth: 0,\n        borderBottomWidth: 1,\n        borderColor: 'grays.500',\n      })}\n    >\n      {title ? (\n        <Text marginBottom={1} block weight=\"bold\" size={5}>\n          {title}\n        </Text>\n      ) : (\n        <Breadcrumbs param={path} />\n      )}\n      <Stack gap={4} align=\"center\">\n        {location.pathname.includes('all') &&\n          !location.pathname.includes('all/drafts') && (\n            <Button\n              onClick={createNewFolder}\n              variant=\"link\"\n              css={css({\n                fontSize: 2,\n                color: 'mutedForeground',\n                padding: 0,\n                width: 'auto',\n              })}\n            >\n              + New Folder\n            </Button>\n          )}\n\n        <Stack gap={4}>\n          {showFilters && <FilterOptions possibleTemplates={templates} />}\n          {showSortOptions && <SortOptions />}\n          {showViewOptions && <ViewOptions />}\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { sandboxesTypes } from 'app/overmind/namespaces/dashboard/state';\nimport { Header } from 'app/pages/NewDashboard/Components/Header';\nimport { VariableGrid } from 'app/pages/NewDashboard/Components/VariableGrid';\nimport { SelectionProvider } from 'app/pages/NewDashboard/Components/Selection';\nimport { Helmet } from 'react-helmet';\n\nexport const Home = () => {\n  const {\n    actions,\n    state: {\n      dashboard: { sandboxes },\n    },\n  } = useOvermind();\n\n  useEffect(() => {\n    actions.dashboard.getPage(sandboxesTypes.HOME);\n  }, [actions.dashboard]);\n\n  const templates = (sandboxes.TEMPLATE_HOME || []).map(template => {\n    const { sandbox, ...templateValues } = template;\n    return {\n      type: 'sandbox',\n      ...sandbox,\n      isTemplate: true,\n      template: templateValues,\n      isHomeTemplate: true,\n    };\n  });\n\n  const items = sandboxes.RECENT_HOME\n    ? [\n        {\n          type: 'header',\n          title: 'Recently Used Templates',\n          showMoreLink: '/new-dashboard/templates',\n        },\n        ...templates,\n        {\n          type: 'header',\n          title: 'Your Recent Sandboxes',\n          showMoreLink: '/new-dashboard/recent',\n        },\n        { type: 'new-sandbox' },\n        ...(sandboxes.RECENT_HOME || []).map(sandbox => ({\n          type: 'sandbox',\n          ...sandbox,\n        })),\n      ]\n    : [\n        { type: 'header', title: 'Recently Used Templates' },\n        { type: 'skeletonRow' },\n        { type: 'header', title: 'Your Recent Sandboxes' },\n        { type: 'skeletonRow' },\n      ];\n\n  return (\n    <SelectionProvider\n      sandboxes={[...templates, ...(sandboxes.RECENT_HOME || [])]}\n    >\n      <Helmet>\n        <title>Dashboard - CodeSandbox</title>\n      </Helmet>\n      <Header title=\"Home\" />\n      <VariableGrid items={items} />\n    </SelectionProvider>\n  );\n};\n","import { useOvermind } from 'app/overmind';\nimport { Helmet } from 'react-helmet';\nimport React, { useEffect } from 'react';\nimport { sandboxesTypes } from 'app/overmind/namespaces/dashboard/state';\nimport { Header } from 'app/pages/NewDashboard/Components/Header';\nimport { VariableGrid } from 'app/pages/NewDashboard/Components/VariableGrid';\nimport { SelectionProvider } from 'app/pages/NewDashboard/Components/Selection';\nimport { getPossibleTemplates } from '../../utils';\n\nexport const Templates = () => {\n  const {\n    actions,\n    state: {\n      dashboard: { sandboxes, getFilteredSandboxes, activeTeam },\n    },\n  } = useOvermind();\n\n  useEffect(() => {\n    actions.dashboard.getPage(sandboxesTypes.TEMPLATES);\n  }, [actions.dashboard]);\n\n  const possibleTemplates = sandboxes.TEMPLATES\n    ? getPossibleTemplates(sandboxes.TEMPLATES.map(t => t.sandbox))\n    : [];\n\n  const items = sandboxes.TEMPLATES\n    ? getFilteredSandboxes(\n        // @ts-ignore\n        sandboxes.TEMPLATES.map(template => {\n          const { sandbox, ...templateValues } = template;\n          return {\n            ...sandbox,\n            type: 'sandbox',\n            isTemplate: true,\n            template: templateValues,\n          };\n        })\n      )\n    : [{ type: 'skeletonRow' }, { type: 'skeletonRow' }];\n\n  return (\n    <SelectionProvider\n      sandboxes={\n        sandboxes.TEMPLATES &&\n        sandboxes.TEMPLATES.map(template => {\n          const { sandbox, ...templateValues } = template;\n          return {\n            ...sandbox,\n            isTemplate: true,\n            template: templateValues,\n          };\n        })\n      }\n    >\n      <Helmet>\n        <title>{activeTeam ? 'Team' : 'My'} Templates - CodeSandbox</title>\n      </Helmet>\n      <Header\n        title=\"Templates\"\n        templates={possibleTemplates}\n        showViewOptions\n        showFilters\n        showSortOptions\n      />\n      <VariableGrid items={items} />\n    </SelectionProvider>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useOvermind } from 'app/overmind';\nimport { sandboxesTypes } from 'app/overmind/namespaces/dashboard/state';\nimport { Header } from 'app/pages/NewDashboard/Components/Header';\nimport { VariableGrid } from 'app/pages/NewDashboard/Components/VariableGrid';\nimport { SelectionProvider } from 'app/pages/NewDashboard/Components/Selection';\nimport { getPossibleTemplates } from '../../utils';\n\nexport const Deleted = () => {\n  const {\n    actions,\n    state: {\n      dashboard: { deletedSandboxesByTime, getFilteredSandboxes, sandboxes },\n    },\n  } = useOvermind();\n\n  useEffect(() => {\n    actions.dashboard.getPage(sandboxesTypes.DELETED);\n  }, [actions.dashboard]);\n\n  const getSection = (title, deletedSandboxes) => {\n    if (!deletedSandboxes.length) return [];\n\n    return [\n      { type: 'header', title },\n      ...deletedSandboxes.map(sandbox => ({\n        type: 'sandbox',\n        ...sandbox,\n      })),\n    ];\n  };\n\n  const items = sandboxes.DELETED\n    ? [\n        ...getSection(\n          'Archived this week',\n          getFilteredSandboxes(deletedSandboxesByTime.week)\n        ),\n        ...getSection(\n          'Archived earlier',\n          getFilteredSandboxes(deletedSandboxesByTime.older)\n        ),\n      ]\n    : [\n        { type: 'header', title: 'Archived this week' },\n        { type: 'skeletonRow' },\n        { type: 'header', title: 'Archived earlier' },\n        { type: 'skeletonRow' },\n      ];\n\n  return (\n    <SelectionProvider sandboxes={sandboxes.DELETED}>\n      <Helmet>\n        <title>Deleted Sandboxes - CodeSandbox</title>\n      </Helmet>\n      <Header\n        title=\"Recently Deleted\"\n        showFilters\n        showSortOptions\n        templates={getPossibleTemplates(sandboxes.DELETED)}\n      />\n      <VariableGrid items={items} />\n    </SelectionProvider>\n  );\n};\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useOvermind } from 'app/overmind';\nimport { sandboxesTypes } from 'app/overmind/namespaces/dashboard/state';\nimport { Header } from 'app/pages/NewDashboard/Components/Header';\nimport { VariableGrid } from 'app/pages/NewDashboard/Components/VariableGrid';\nimport { SelectionProvider } from 'app/pages/NewDashboard/Components/Selection';\nimport { getPossibleTemplates } from '../../utils';\n\nexport const Drafts = () => {\n  const {\n    actions,\n    state: {\n      dashboard: { sandboxes, getFilteredSandboxes },\n    },\n  } = useOvermind();\n\n  React.useEffect(() => {\n    actions.dashboard.getPage(sandboxesTypes.DRAFTS);\n  }, [actions.dashboard]);\n\n  const items = sandboxes.DRAFTS\n    ? getFilteredSandboxes(\n        sandboxes.DRAFTS.map(sandbox => ({\n          type: 'sandbox',\n          ...sandbox,\n        }))\n      )\n    : [{ type: 'skeletonRow' }, { type: 'skeletonRow' }];\n\n  return (\n    <SelectionProvider sandboxes={sandboxes.DRAFTS}>\n      <Helmet>\n        <title>Drafts - CodeSandbox</title>\n      </Helmet>\n      <Header\n        path=\"Drafts\"\n        templates={getPossibleTemplates(sandboxes.DRAFTS)}\n        showViewOptions\n        showFilters\n        showSortOptions\n      />\n      <VariableGrid items={items} />\n    </SelectionProvider>\n  );\n};\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { SelectionProvider } from 'app/pages/NewDashboard/Components/Selection';\nimport { useOvermind } from 'app/overmind';\nimport { sandboxesTypes } from 'app/overmind/namespaces/dashboard/state';\nimport { Header } from 'app/pages/NewDashboard/Components/Header';\nimport { VariableGrid } from 'app/pages/NewDashboard/Components/VariableGrid';\nimport { getPossibleTemplates } from '../../utils';\n\nexport const Recent = () => {\n  const {\n    actions,\n    state: {\n      dashboard: { sandboxes, recentSandboxesByTime, getFilteredSandboxes },\n    },\n  } = useOvermind();\n\n  React.useEffect(() => {\n    actions.dashboard.getPage(sandboxesTypes.RECENT);\n  }, [actions.dashboard]);\n\n  const getSection = (title, time) => {\n    const recentSandboxes = getFilteredSandboxes(recentSandboxesByTime[time]);\n\n    if (!recentSandboxes.length) return [];\n\n    return [\n      { type: 'header', title },\n      ...recentSandboxes.map(sandbox => ({\n        type: 'sandbox',\n        ...sandbox,\n      })),\n    ];\n  };\n\n  const items = sandboxes.RECENT\n    ? [\n        ...getSection('Today', 'day'),\n        ...getSection('Last 7 days', 'week'),\n        ...getSection('Earlier this month', 'month'),\n        ...getSection('Older', 'older'),\n      ]\n    : [\n        { type: 'header', title: 'Today' },\n        { type: 'skeletonRow' },\n        { type: 'header', title: 'Last 7 days' },\n        { type: 'skeletonRow' },\n      ];\n\n  return (\n    <SelectionProvider sandboxes={sandboxes.RECENT}>\n      <Helmet>\n        <title>Recent Sandboxes - CodeSandbox</title>\n      </Helmet>\n      <Header\n        templates={getPossibleTemplates(sandboxes.RECENT)}\n        title=\"Recently Modified Sandboxes\"\n        showViewOptions\n        showFilters\n      />\n\n      <VariableGrid items={items} />\n    </SelectionProvider>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { orderBy } from 'lodash-es';\n\nexport const useFilteredItems = (params, level) => {\n  const param = params.path || '';\n  const cleanParam = param.split(' ').join('');\n  const {\n    state: {\n      dashboard: {\n        allCollections,\n        getFilteredSandboxes,\n        sandboxes,\n        filters,\n        orderBy: sandboxesOrder,\n      },\n    },\n  } = useOvermind();\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    const sandboxesForPath =\n      sandboxes.ALL && sandboxes.ALL[cleanParam]\n        ? getFilteredSandboxes(sandboxes.ALL[cleanParam])\n        : [];\n\n    const unsortedFolders =\n      (allCollections &&\n        allCollections.filter(\n          collection =>\n            collection.level === level && collection.parent === param\n        )) ||\n      [];\n    const sortedFolders = orderBy(unsortedFolders, 'name').sort(\n      a => (a.path === '/drafts' ? -1 : 1) // pull drafts to the top\n    );\n    setItems([\n      ...sortedFolders.map(folder => ({ type: 'folder', ...folder })),\n      ...sandboxesForPath.map(sandbox => ({ type: 'sandbox', ...sandbox })),\n    ]);\n  }, [\n    allCollections,\n    level,\n    param,\n    filters.blacklistedTemplates,\n    sandboxesOrder,\n    sandboxes.ALL,\n    cleanParam,\n    getFilteredSandboxes,\n  ]);\n\n  return [\n    items,\n    (allCollections &&\n      allCollections.filter(\n        collection => collection.level === level && collection.parent === param\n      )) ||\n      [],\n  ];\n};\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { withRouter } from 'react-router-dom';\nimport { useOvermind } from 'app/overmind';\nimport { Header } from 'app/pages/NewDashboard/Components/Header';\nimport { SelectionProvider } from 'app/pages/NewDashboard/Components/Selection';\nimport { VariableGrid } from 'app/pages/NewDashboard/Components/VariableGrid';\nimport { getPossibleTemplates } from '../../utils';\nimport { useFilteredItems } from './useFilteredItems';\n\nexport const AllPage = ({ match: { params }, history }) => {\n  const [level, setLevel] = React.useState(0);\n  const [creating, setCreating] = React.useState(false);\n  const [items, folders] = useFilteredItems(params, level);\n  const param = params.path || '';\n  const cleanParam = param.split(' ').join('');\n  const {\n    actions,\n    state: {\n      dashboard: { allCollections, sandboxes, activeTeam },\n    },\n  } = useOvermind();\n  const [localTeam, setLocalTeam] = React.useState(activeTeam);\n\n  React.useEffect(() => {\n    actions.dashboard.getAllFolders();\n  }, [actions.dashboard, activeTeam]);\n\n  React.useEffect(() => {\n    if (localTeam !== activeTeam) {\n      setLocalTeam(activeTeam);\n\n      if (params) {\n        history.push('/new-dashboard/all/');\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeTeam]);\n\n  React.useEffect(() => {\n    if (param) {\n      setLevel(param ? param.split('/').length : 0);\n      actions.dashboard.getSandboxesByPath(param);\n    }\n  }, [param, actions.dashboard, activeTeam]);\n\n  const activeSandboxes = (sandboxes.ALL && sandboxes.ALL[cleanParam]) || [];\n\n  const itemsToShow = allCollections\n    ? [creating ? { type: 'folder', setCreating } : undefined, ...items].filter(\n        exists => exists\n      )\n    : [{ type: 'skeletonRow' }, { type: 'skeletonRow' }];\n\n  return (\n    <SelectionProvider sandboxes={activeSandboxes} folders={folders || []}>\n      <Helmet>\n        <title>{param || 'Dashboard'} - CodeSandbox</title>\n      </Helmet>\n      <Header\n        path={param}\n        templates={getPossibleTemplates(activeSandboxes)}\n        createNewFolder={() => setCreating(true)}\n        showViewOptions\n        showFilters={param}\n        showSortOptions={param}\n      />\n      <VariableGrid items={itemsToShow} />\n    </SelectionProvider>\n  );\n};\n\nexport const All = withRouter(AllPage);\n","import { useOvermind } from 'app/overmind';\nimport { sandboxesTypes } from 'app/overmind/namespaces/dashboard/state';\nimport { Helmet } from 'react-helmet';\nimport { Header } from 'app/pages/NewDashboard/Components/Header';\nimport { VariableGrid } from 'app/pages/NewDashboard/Components/VariableGrid';\nimport { SelectionProvider } from 'app/pages/NewDashboard/Components/Selection';\nimport React, { useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { getPossibleTemplates } from '../../utils';\n\nexport const SearchComponent = ({ location }) => {\n  const {\n    actions,\n    state: {\n      dashboard: { sandboxes, orderBy, filters, getFilteredSandboxes },\n    },\n  } = useOvermind();\n\n  useEffect(() => {\n    actions.dashboard.getPage(sandboxesTypes.SEARCH);\n  }, [actions.dashboard, location.search, filters, orderBy]);\n\n  const items = sandboxes.SEARCH\n    ? getFilteredSandboxes(\n        sandboxes.SEARCH.map(sandbox => ({\n          type: 'sandbox',\n          ...sandbox,\n        }))\n      )\n    : [{ type: 'skeletonRow' }];\n\n  return (\n    <SelectionProvider sandoxes={sandboxes.SEARCH}>\n      <Helmet>\n        <title>\n          {location.search\n            ? `Search: '${location.search.split('?query=')[1]}' - CodeSandbox`\n            : 'Search - CodeSandbox'}\n        </title>\n      </Helmet>\n      <Header\n        title=\"Search results\"\n        showViewOptions\n        showFilters\n        showSortOptions\n        templates={getPossibleTemplates(sandboxes.SEARCH)}\n      />\n\n      <section style={{ position: 'relative' }}>\n        <VariableGrid items={items} />\n      </section>\n    </SelectionProvider>\n  );\n};\n\nexport const Search = withRouter(SearchComponent);\n","import React from 'react';\nimport { Element } from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nexport const Card = props => (\n  <Element\n    {...props}\n    css={css({\n      height: 180,\n      padding: 6,\n      backgroundColor: 'grays.800',\n      border: '1px solid',\n      borderColor: 'grays.600',\n      borderRadius: 'medium',\n      ...(props.css || {}),\n    })}\n  />\n);\n","import React, { useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useOvermind } from 'app/overmind';\nimport {\n  Button,\n  Element,\n  Grid,\n  Column,\n  List,\n  ListAction,\n  Menu,\n  Stack,\n  Text,\n  Input,\n  Textarea,\n  IconButton,\n  Avatar,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { UserSearchInput } from 'app/components/UserSearchInput';\nimport { Header } from 'app/pages/NewDashboard/Components/Header';\nimport { Card } from './components';\n\nexport const TeamSettings = () => {\n  const {\n    state: {\n      user: stateUser,\n      dashboard: { activeTeamInfo: team },\n    },\n    actions,\n  } = useOvermind();\n\n  useEffect(() => {\n    actions.dashboard.getTeam();\n  }, [actions.dashboard]);\n\n  const [editing, setEditing] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const onSubmit = async event => {\n    event.preventDefault();\n    const name = event.target.name.value;\n    const description = event.target.description.value;\n    setLoading(true);\n    try {\n      await actions.dashboard.setTeamInfo({\n        name,\n        description,\n      });\n      setLoading(false);\n      setEditing(false);\n    } catch {\n      setLoading(false);\n    }\n  };\n\n  const [inviteValue, setInviteValue] = useState('');\n  const [inviteLoading, setInviteLoading] = useState(false);\n\n  const onInviteSubmit = async event => {\n    event.preventDefault();\n    setInviteLoading(true);\n    setInviteValue('');\n    await actions.dashboard.inviteToTeam(inviteValue);\n    setInviteLoading(false);\n  };\n\n  if (!team) {\n    return <Header title=\"Team settings\" />;\n  }\n  const created = team.users.find(user => user.id === team.creatorId);\n  return (\n    <>\n      <Helmet>\n        <title>Team Settings - CodeSandbox</title>\n      </Helmet>\n      <Header title=\"Team settings\" />\n      <Element\n        css={css({\n          height: 'calc(100vh - 140px)',\n          overflowY: 'scroll',\n          paddingX: 4,\n          paddingY: 10,\n        })}\n      >\n        <Stack\n          direction=\"vertical\"\n          gap={8}\n          css={css({ maxWidth: 992, marginX: 'auto' })}\n        >\n          <Grid\n            columnGap={4}\n            css={css({\n              gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))',\n            })}\n          >\n            <Card>\n              {editing ? (\n                <Stack\n                  as=\"form\"\n                  onSubmit={onSubmit}\n                  direction=\"vertical\"\n                  gap={2}\n                >\n                  <Input\n                    type=\"text\"\n                    name=\"name\"\n                    required\n                    defaultValue={team.name}\n                    placeholder=\"Enter team name\"\n                  />\n                  <Textarea\n                    name=\"description\"\n                    defaultValue={team.description}\n                    placeholder=\"Enter a description for your team\"\n                  />\n                  <Stack justify=\"flex-end\">\n                    <Button\n                      variant=\"link\"\n                      css={{ width: 100 }}\n                      disabled={loading}\n                      onClick={() => setEditing(false)}\n                    >\n                      Cancel\n                    </Button>\n                    <Button\n                      type=\"submit\"\n                      css={{ width: 100 }}\n                      disabled={loading}\n                      loading={loading}\n                    >\n                      Save\n                    </Button>\n                  </Stack>\n                </Stack>\n              ) : (\n                <Stack direction=\"vertical\" gap={2}>\n                  <Stack justify=\"space-between\">\n                    <Text size={6} weight=\"bold\">\n                      {team.name}\n                    </Text>\n                    <IconButton\n                      name=\"edit\"\n                      size={12}\n                      title=\"Edit team\"\n                      onClick={() => setEditing(true)}\n                    />\n                  </Stack>\n                  <Text size={3}>Community Plan (Free)</Text>\n                  <Text size={3} variant=\"muted\">\n                    {team.description}\n                  </Text>\n                </Stack>\n              )}\n            </Card>\n\n            <Card>\n              <Stack direction=\"vertical\" gap={4}>\n                <Text size={6} weight=\"bold\">\n                  {team.users.length} team{' '}\n                  {team.users.length === 1 ? 'member' : 'members'}\n                </Text>\n                <Text size={3} variant=\"muted\">\n                  Created by {created.username}\n                </Text>\n              </Stack>\n            </Card>\n\n            <Card style={{ backgroundColor: 'white' }}>\n              <Stack direction=\"vertical\" gap={4}>\n                <Text size={6} weight=\"bold\" css={css({ color: 'grays.800' })}>\n                  Team Pro\n                </Text>\n                <Text\n                  size={3}\n                  variant=\"muted\"\n                  css={css({ color: 'grays.800' })}\n                >\n                  Get early access and product updates?\n                </Text>\n                <Button\n                  as=\"a\"\n                  href=\"https://airtable.com/shrlgLSJWiX8rYqyG\"\n                  target=\"_blank\"\n                  marginTop={2}\n                >\n                  Sign up\n                </Button>\n              </Stack>\n            </Card>\n          </Grid>\n          <Stack align=\"center\" justify=\"space-between\" gap={2}>\n            <Text size={4}>Members</Text>\n            <Stack\n              as=\"form\"\n              onSubmit={inviteLoading ? undefined : onInviteSubmit}\n              css={{ display: 'flex', flexGrow: 1, maxWidth: 320 }}\n            >\n              <UserSearchInput\n                inputValue={inviteValue}\n                onInputValueChange={val => {\n                  setInviteValue(val);\n                }}\n              />\n              <Button\n                type=\"submit\"\n                loading={inviteLoading}\n                style={{ width: 'auto', marginLeft: 8 }}\n              >\n                Add Member\n              </Button>\n            </Stack>\n          </Stack>\n          <List>\n            {team.users.map(user => {\n              const teamOwner = stateUser.id === team.creatorId;\n              const you = stateUser.id === user.id;\n\n              return (\n                <ListAction\n                  key={user.username}\n                  align=\"center\"\n                  justify=\"space-between\"\n                  css={css({\n                    height: 64,\n                    borderBottom: '1px solid',\n                    borderColor: 'grays.600',\n                  })}\n                >\n                  <Grid css={{ width: '100%' }}>\n                    <Column span={6}>\n                      <Stack gap={4} align=\"center\" css={{ height: '100%' }}>\n                        <Avatar user={user} />\n                        <Text size={3}>{user.username}</Text>\n                      </Stack>\n                    </Column>\n                    <Column span={6}>\n                      <Stack\n                        justify=\"space-between\"\n                        align=\"center\"\n                        css={{ height: '100%' }}\n                      >\n                        <Text variant=\"muted\" size={3}>\n                          {user.id === team.creatorId ? 'Admin' : 'Member'}\n                        </Text>\n                        {you || teamOwner ? (\n                          <Menu>\n                            <Menu.IconButton\n                              name=\"more\"\n                              size={9}\n                              title=\"Member options\"\n                            />\n                            <Menu.List>\n                              {you ? (\n                                <Menu.Item\n                                  onSelect={actions.dashboard.leaveTeam}\n                                >\n                                  Leave Team\n                                </Menu.Item>\n                              ) : null}\n                              {teamOwner && !you ? (\n                                <Menu.Item\n                                  onSelect={() =>\n                                    actions.dashboard.removeFromTeam(user.id)\n                                  }\n                                >\n                                  Remove Member\n                                </Menu.Item>\n                              ) : null}\n                            </Menu.List>\n                          </Menu>\n                        ) : null}\n                      </Stack>\n                    </Column>\n                  </Grid>\n                </ListAction>\n              );\n            })}\n          </List>\n        </Stack>\n      </Element>\n    </>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useOvermind } from 'app/overmind';\n\nimport {\n  Avatar,\n  Button,\n  Element,\n  Grid,\n  Stack,\n  Text,\n  Link,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nimport { Header } from '../../../Components/Header';\nimport { Card } from './components';\n\nexport const UserSettings = () => {\n  const {\n    state: { user },\n    actions,\n  } = useOvermind();\n\n  useEffect(() => {\n    actions.dashboard.dashboardMounted();\n  }, [actions.dashboard]);\n\n  if (!user) {\n    return <Header title=\"Settings\" />;\n  }\n\n  // @ts-ignore\n  const isPro = user.subscription_plan || user.subscription;\n  const value = (user.subscription && user.subscription.amount) || 9;\n\n  return (\n    <>\n      <Helmet>\n        <title>User Settings - CodeSandbox</title>\n      </Helmet>\n      <Header title=\"User Settings\" />\n      <Element\n        css={css({\n          height: 'calc(100vh - 140px)',\n          overflowY: 'scroll',\n          paddingX: 4,\n          paddingY: 10,\n        })}\n      >\n        <Stack\n          direction=\"vertical\"\n          gap={8}\n          css={css({ maxWidth: 992, marginX: 'auto' })}\n        >\n          <Grid\n            columnGap={4}\n            css={css({\n              gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))',\n            })}\n          >\n            <Card>\n              <Stack direction=\"vertical\" gap={2}>\n                <Stack gap={4}>\n                  <Avatar user={user} css={css({ size: 14 })} />\n                  <Stack\n                    direction=\"vertical\"\n                    gap={2}\n                    css={{ width: 'calc(100% - 64px)' }}\n                  >\n                    <Text size={6} weight=\"bold\" maxWidth=\"100%\">\n                      {user.username}\n                    </Text>\n                    <Text size={3} maxWidth=\"100%\">\n                      {user.name}\n                    </Text>\n                    <Text size={3} maxWidth=\"100%\">\n                      {user.email}\n                    </Text>\n                    <Link\n                      size={3}\n                      href={`https://github.com/${user.username}`}\n                      target=\"_blank\"\n                    >\n                      Managed by Github\n                    </Link>\n                  </Stack>\n                </Stack>\n              </Stack>\n            </Card>\n\n            <Card>\n              <Stack direction=\"vertical\" gap={2}>\n                <Stack direction=\"vertical\" gap={2}>\n                  <Text size={6} weight=\"bold\" maxWidth=\"100%\">\n                    Plan\n                  </Text>\n                  <Text size={3} maxWidth=\"100%\">\n                    {isPro ? 'Pro Plan' : 'Community Plan'}\n                  </Text>\n                  {isPro ? (\n                    <>\n                      <Button\n                        variant=\"link\"\n                        css={css({\n                          width: 'fit-content',\n                          height: 'auto',\n                          fontSize: 3,\n                          color: 'button.background',\n                          padding: 0,\n                        })}\n                        onClick={() => {\n                          actions.modalOpened({\n                            modal: 'preferences',\n                            itemId: 'paymentInfo',\n                          });\n                        }}\n                      >\n                        Change payment info\n                      </Button>\n                      <Button\n                        variant=\"link\"\n                        css={css({\n                          width: 'fit-content',\n                          height: 'auto',\n                          fontSize: 3,\n                          color: 'button.background',\n                          padding: 0,\n                        })}\n                        onClick={() => {\n                          actions.patron.cancelSubscriptionClicked();\n                        }}\n                      >\n                        Downgrade plan\n                      </Button>\n                    </>\n                  ) : null}\n                </Stack>\n              </Stack>\n            </Card>\n            {isPro ? (\n              <Card>\n                <Stack direction=\"vertical\" gap={2}>\n                  <Stack direction=\"vertical\" gap={2}>\n                    <Text size={6} weight=\"bold\" maxWidth=\"100%\">\n                      Invoice details\n                    </Text>\n                    <Text size={3} maxWidth=\"100%\">\n                      US${value}\n                    </Text>\n                    <Text size={3} maxWidth=\"100%\">\n                      Invoices are sent to\n                    </Text>\n                    <Text size={3} maxWidth=\"100%\">\n                      {user.email}\n                    </Text>\n                  </Stack>\n                </Stack>\n              </Card>\n            ) : (\n              <Card style={{ backgroundColor: 'white' }}>\n                <Stack direction=\"vertical\" gap={4}>\n                  <Text\n                    size={6}\n                    weight=\"bold\"\n                    css={css({ color: 'grays.800' })}\n                  >\n                    Pro\n                  </Text>\n                  <Stack direction=\"vertical\" gap={1}>\n                    <Text\n                      size={3}\n                      variant=\"muted\"\n                      css={css({ color: 'grays.800' })}\n                    >\n                      Everything in Community, plus:\n                    </Text>\n                    <Text\n                      size={3}\n                      variant=\"muted\"\n                      css={css({ color: 'grays.800' })}\n                    >\n                      + Unlimited Private Sandboxes\n                    </Text>\n                    <Text\n                      size={3}\n                      variant=\"muted\"\n                      css={css({ color: 'grays.800' })}\n                    >\n                      + Private GitHub Repos\n                    </Text>\n                  </Stack>\n                  <Button\n                    as=\"a\"\n                    href=\"https://airtable.com/shrlgLSJWiX8rYqyG\"\n                    target=\"_blank\"\n                    marginTop={2}\n                  >\n                    Subscribe to Pro\n                  </Button>\n                </Stack>\n              </Card>\n            )}\n          </Grid>\n        </Stack>\n      </Element>\n    </>\n  );\n};\n","import React, { useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useOvermind } from 'app/overmind';\nimport { Element, Stack, Text, Input, Button } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport history from 'app/utils/history';\nimport { Card } from './components';\n\nexport const NewTeam = () => {\n  const {\n    state: { user },\n    actions: { dashboard },\n  } = useOvermind();\n  const [loading, setLoading] = useState(false);\n\n  const onSubmit = async event => {\n    event.preventDefault();\n    const teamName = event.target.name.value;\n    console.warn(teamName, 'created by', user.username);\n    setLoading(true);\n    try {\n      await dashboard.createTeam({ teamName });\n      setLoading(false);\n      history.push('/new-dashboard/settings/invite');\n    } catch {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>Create Team - CodeSandbox</title>\n      </Helmet>\n      <Element\n        css={css({\n          height: 'calc(100vh - 140px)',\n          overflowY: 'scroll',\n        })}\n      >\n        <Stack justify=\"center\" align=\"center\" css={css({ height: '100%' })}>\n          <Card\n            css={css({\n              maxWidth: 528,\n              height: 'auto',\n              paddingTop: 10,\n              paddingBottom: '68px',\n              paddingX: [6, '96px', '96px'],\n            })}\n          >\n            <Stack direction=\"vertical\" gap={7}>\n              <Stack direction=\"vertical\" gap={4}>\n                <Text size={6} weight=\"bold\" align=\"center\">\n                  Create a workspace\n                </Text>\n                <Text size={3} variant=\"muted\" align=\"center\">\n                  You are one step away from seamlessly collaborating, managing\n                  team projects and much more...\n                </Text>\n              </Stack>\n\n              <Stack as=\"form\" onSubmit={onSubmit} direction=\"vertical\" gap={2}>\n                <Input\n                  name=\"name\"\n                  type=\"text\"\n                  placeholder=\"Team name\"\n                  autoFocus\n                  css={css({ height: 8 })}\n                />\n                <Button\n                  loading={loading}\n                  disabled={loading}\n                  type=\"submit\"\n                  css={css({ height: 8, fontSize: 3 })}\n                >\n                  Create team\n                </Button>\n              </Stack>\n            </Stack>\n          </Card>\n        </Stack>\n      </Element>\n    </>\n  );\n};\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useOvermind } from 'app/overmind';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n  Element,\n  Stack,\n  Text,\n  Link,\n  Input,\n  Button,\n  List,\n  ListItem,\n  Avatar,\n} from '@codesandbox/components';\nimport { teamInviteLink } from '@codesandbox/common/lib/utils/url-generator';\nimport css from '@styled-system/css';\nimport { UserSearchInput } from 'app/components/UserSearchInput';\nimport { Card } from './components';\n\nexport const Invite = () => {\n  const {\n    state: {\n      dashboard: { activeTeamInfo: team },\n    },\n    actions,\n    effects,\n  } = useOvermind();\n\n  const inviteLink = team && teamInviteLink(team.inviteToken);\n\n  React.useEffect(() => {\n    actions.dashboard.getTeam();\n  }, [actions.dashboard]);\n\n  const [inviteValue, setInviteValue] = React.useState('');\n  const [loading, setLoading] = React.useState(false);\n\n  const onSubmit = async event => {\n    event.preventDefault();\n    setLoading(true);\n    setInviteValue('');\n    await actions.dashboard.inviteToTeam(inviteValue);\n    setLoading(false);\n  };\n\n  if (!team) return null;\n\n  return (\n    <>\n      <Helmet>\n        <title>Invite Users - CodeSandbox</title>\n      </Helmet>\n      <Element\n        css={css({\n          height: 'calc(100vh - 140px)',\n          overflowY: 'scroll',\n        })}\n      >\n        <Stack\n          direction=\"vertical\"\n          align=\"center\"\n          gap={4}\n          css={css({\n            marginTop: 10,\n            transition: 'height ease-in',\n            transitionDuration: theme => theme.speeds[2],\n          })}\n        >\n          <Card\n            css={css({\n              width: 528,\n              height: 'auto',\n              paddingY: 10,\n              paddingX: [6, '64px', '64px'],\n            })}\n          >\n            <Stack direction=\"vertical\" gap={2} marginBottom={10}>\n              <Text size={6} weight=\"bold\" align=\"center\">\n                Invite members\n              </Text>\n              <Text size={3} variant=\"muted\" align=\"center\">\n                Add the first members to the {team.name} team\n              </Text>\n            </Stack>\n\n            <Stack\n              direction=\"vertical\"\n              gap={4}\n              marginBottom={6}\n              css={css({\n                paddingBottom: 6,\n                borderBottom: '1px solid',\n                borderColor: 'grays.600',\n              })}\n            >\n              <Stack gap={2}>\n                <Input type=\"text\" value={inviteLink} />{' '}\n                <Button\n                  variant=\"secondary\"\n                  css={{ width: 88 }}\n                  onClick={() => effects.browser.copyToClipboard(inviteLink)}\n                >\n                  Copy Link\n                </Button>\n              </Stack>\n              <Stack as=\"form\" onSubmit={onSubmit} gap={2}>\n                <UserSearchInput\n                  inputValue={inviteValue}\n                  onInputValueChange={val => {\n                    setInviteValue(val);\n                  }}\n                />\n                <Button\n                  type=\"submit\"\n                  variant=\"secondary\"\n                  css={{ width: 88 }}\n                  loading={loading}\n                >\n                  Send Invite\n                </Button>\n              </Stack>\n            </Stack>\n\n            <List>\n              {team.users.map(user => (\n                <ListItem\n                  key={user.username}\n                  align=\"center\"\n                  justify=\"space-between\"\n                  css={css({ height: 12, paddingX: 0 })}\n                >\n                  <Stack gap={2} align=\"center\">\n                    <Avatar user={user} />\n                    <Text size={3}>{user.username}</Text>\n                  </Stack>\n\n                  <Text variant=\"muted\" size={3}>\n                    {user.id === team.creatorId ? 'Admin' : 'Member'}\n                  </Text>\n                </ListItem>\n              ))}\n            </List>\n          </Card>\n          <Link\n            as={RouterLink}\n            to=\"/new-dashboard/settings\"\n            variant=\"muted\"\n            size={3}\n            align=\"center\"\n          >\n            Skip for now\n          </Link>\n        </Stack>\n      </Element>\n    </>\n  );\n};\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { useOvermind } from 'app/overmind';\nimport { Element } from '@codesandbox/components';\nimport { TeamSettings } from './TeamSettings';\nimport { UserSettings } from './UserSettings';\nimport { NewTeam } from './NewTeam';\nimport { Invite } from './Invite';\n\nexport const Settings = () => {\n  const { state } = useOvermind();\n  const location = useLocation();\n\n  let Component;\n\n  if (location.pathname.includes('settings/new')) Component = NewTeam;\n  else if (location.pathname.includes('invite')) Component = Invite;\n  else if (state.dashboard.activeTeam) Component = TeamSettings;\n  else Component = UserSettings;\n\n  return (\n    <Element marginY={10}>\n      <Component />\n    </Element>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom';\nimport { Element } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\nimport { Home } from './routes/Home';\nimport { Templates } from './routes/Templates';\nimport { Deleted } from './routes/Deleted';\nimport { Drafts } from './routes/Drafts';\nimport { Recent } from './routes/Recent';\nimport { All } from './routes/All';\nimport { Search } from './routes/Search';\nimport { Settings } from './routes/Settings';\n\nexport const Content = withRouter(({ history }) => {\n  const {\n    state: { dashboard },\n    actions,\n  } = useOvermind();\n\n  useEffect(() => {\n    actions.dashboard.dashboardMounted();\n  }, [actions.dashboard]);\n\n  history.listen(() => {\n    actions.dashboard.blacklistedTemplatesCleared();\n    actions.dashboard.orderByChanged({\n      order: 'desc',\n      field: 'updatedAt',\n    });\n  });\n\n  return (\n    <Element\n      css={css({\n        width: '100%',\n        margin: '0 auto',\n      })}\n    >\n      <Switch>\n        <Route\n          path=\"/new-dashboard/home\"\n          render={() => <Home key={dashboard.activeTeam} />}\n        />\n        <Route\n          path=\"/new-dashboard/templates\"\n          render={() => <Templates key={dashboard.activeTeam} />}\n        />\n        <Route\n          path=\"/new-dashboard/deleted\"\n          render={() => <Deleted key={dashboard.activeTeam} />}\n        />\n        <Route\n          path=\"/new-dashboard/drafts\"\n          render={() => <Drafts key={dashboard.activeTeam} />}\n        />\n        <Route\n          path=\"/new-dashboard/recent\"\n          render={() => <Recent key={dashboard.activeTeam} />}\n        />\n        <Route\n          path=\"/new-dashboard/all/drafts\"\n          render={() => <Drafts key={dashboard.activeTeam} />}\n        />\n        <Route\n          path=\"/new-dashboard/search\"\n          render={() => <Search key={dashboard.activeTeam} />}\n        />\n        <Route\n          path=\"/new-dashboard/all/:path*\"\n          render={() => <All key={window.location.pathname} />}\n        />\n        <Route\n          path=\"/new-dashboard/settings\"\n          render={() => <Settings key={dashboard.activeTeam} />}\n        />\n\n        <Redirect to=\"/new-dashboard/home\" />\n      </Switch>\n    </Element>\n  );\n});\n","import { signInPageUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport React, { FunctionComponent } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { DndProvider } from 'react-dnd';\nimport Backend from 'react-dnd-html5-backend';\nimport { useOvermind } from 'app/overmind';\nimport codesandboxBlack from '@codesandbox/components/lib/themes/codesandbox-black';\nimport { ThemeProvider, Stack, Element } from '@codesandbox/components';\nimport { createGlobalStyle } from 'styled-components';\nimport css from '@styled-system/css';\n\nimport { Header } from './Header';\nimport { Sidebar, SIDEBAR_WIDTH } from './Sidebar';\nimport { Content } from './Content';\n\nconst GlobalStyles = createGlobalStyle({\n  body: { overflow: 'hidden' },\n});\n\nexport const Dashboard: FunctionComponent = () => {\n  const {\n    state: { hasLogIn },\n  } = useOvermind();\n\n  // only used for mobile\n  const [sidebarVisible, setSidebarVisibility] = React.useState(false);\n  const onSidebarToggle = () => setSidebarVisibility(!sidebarVisible);\n\n  if (!hasLogIn) {\n    return <Redirect to={signInPageUrl()} />;\n  }\n\n  return (\n    <ThemeProvider theme={codesandboxBlack}>\n      <GlobalStyles />\n      <DndProvider backend={Backend}>\n        <Stack\n          direction=\"vertical\"\n          css={css({\n            fontFamily: \"'Inter', sans-serif\",\n            backgroundColor: 'sideBar.background',\n            color: 'sideBar.foreground',\n            width: '100vw',\n            minHeight: '100vh',\n          })}\n        >\n          <Header onSidebarToggle={onSidebarToggle} />\n\n          <Stack css={{ flexGrow: 1 }}>\n            <Sidebar\n              id=\"mobile-sidebar\"\n              css={css({ display: ['block', 'block', 'none'] })}\n              visible={sidebarVisible}\n              onSidebarToggle={onSidebarToggle}\n              style={{\n                // We set sidebar as absolute so that content can\n                // take 100% width, this helps us enable dragging\n                // sandboxes onto the sidebar more freely.\n                position: 'absolute',\n                height: 'calc(100% - 48px)',\n              }}\n            />\n            <Element\n              as=\"aside\"\n              id=\"desktop-sidebar\"\n              css={css({ display: ['none', 'none', 'block'] })}\n            >\n              <Sidebar\n                visible\n                onSidebarToggle={() => {\n                  /* do nothing */\n                }}\n                style={{\n                  // We set sidebar as absolute so that content can\n                  // take 100% width, this helps us enable dragging\n                  // sandboxes onto the sidebar more freely.\n                  position: 'absolute',\n                  height: 'calc(100% - 48px)',\n                }}\n              />\n            </Element>\n\n            <Element\n              as=\"main\"\n              css={css({\n                width: '100%',\n                height: 'calc(100vh - 48px)',\n                paddingLeft: [0, 0, SIDEBAR_WIDTH],\n              })}\n            >\n              <Content />\n            </Element>\n          </Stack>\n        </Stack>\n      </DndProvider>\n    </ThemeProvider>\n  );\n};\n","import css from '@styled-system/css';\nimport { ThemeProvider, Element, Stack } from '@codesandbox/components';\nimport codesandboxBlack from '@codesandbox/components/lib/themes/codesandbox-black';\nimport React, { FunctionComponent, useEffect } from 'react';\nimport Media from 'react-media';\nimport {\n  CreateSandbox,\n  COLUMN_MEDIA_THRESHOLD,\n} from 'app/components/CreateNewSandbox/CreateSandbox';\nimport { useOvermind } from 'app/overmind';\nimport { Navigation } from 'app/pages/common/Navigation';\nimport MaxWidth from '@codesandbox/common/lib/components/flex/MaxWidth';\n\nexport const NewSandbox: FunctionComponent = () => {\n  const {\n    actions: { sandboxPageMounted },\n  } = useOvermind();\n\n  useEffect(() => {\n    sandboxPageMounted();\n  }, [sandboxPageMounted]);\n\n  return (\n    <ThemeProvider theme={codesandboxBlack}>\n      <Element\n        css={css({\n          width: '100vw',\n          height: '100vh',\n          backgroundColor: 'sideBar.background',\n        })}\n      >\n        <Navigation title=\"New Sandbox\" />\n        <MaxWidth>\n          <Element margin={6} style={{ height: '100%' }}>\n            <Element marginTop={80}>\n              <Stack align=\"center\" justify=\"center\">\n                <Media query={`(min-width: ${COLUMN_MEDIA_THRESHOLD}px)`}>\n                  {matches => (\n                    <Element\n                      style={{\n                        maxWidth: '100%',\n                        width: matches ? 1200 : 900,\n                      }}\n                      marginTop={8}\n                    >\n                      <CreateSandbox />\n                    </Element>\n                  )}\n                </Media>\n              </Stack>\n            </Element>\n          </Element>\n        </MaxWidth>\n      </Element>\n    </ThemeProvider>\n  );\n};\n","import { Button } from '@codesandbox/common/lib/components/Button';\nimport Centered from '@codesandbox/common/lib/components/flex/Centered';\nimport Fullscreen from '@codesandbox/common/lib/components/flex/Fullscreen';\nimport Padding from '@codesandbox/common/lib/components/spacing/Padding';\nimport { getSandboxName } from '@codesandbox/common/lib/utils/get-sandbox-name';\nimport { Title } from 'app/components/Title';\nimport { useOvermind } from 'app/overmind';\nimport { ThemeProvider } from '@codesandbox/components';\nimport codesandboxBlack from '@codesandbox/components/lib/themes/codesandbox-black';\nimport { GithubIntegration } from 'app/pages/common/GithubIntegration';\nimport { Navigation } from 'app/pages/common/Navigation';\nimport React, { useEffect } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { Link } from 'react-router-dom';\n\nimport Editor from './Editor';\n\ninterface Props {\n  match: {\n    params: {\n      id: string;\n    };\n  };\n}\n\nexport const Sandbox = React.memo<Props>(\n  ({ match }) => {\n    const { state, actions } = useOvermind();\n\n    useEffect(() => {\n      if (window.screen.availWidth < 800) {\n        if (!document.location.search.includes('from-embed')) {\n          const addedSign = document.location.search ? '&' : '?';\n          document.location.href =\n            document.location.href.replace('/s/', '/embed/') +\n            addedSign +\n            'codemirror=1';\n        } else {\n          actions.preferences.codeMirrorForced();\n        }\n      }\n\n      actions.live.onNavigateAway();\n\n      actions.editor.sandboxChanged({ id: match.params.id });\n    }, [actions.live, actions.editor, actions.preferences, match.params.id]);\n\n    useEffect(\n      () => () => {\n        actions.live.onNavigateAway();\n      },\n      [actions.live]\n    );\n\n    function getContent() {\n      const {\n        hasLogIn,\n        isLoggedIn,\n        editor: { error },\n      } = state;\n\n      if (error) {\n        const isGithub = match.params.id.includes('github');\n\n        return (\n          <>\n            <div\n              style={{\n                fontWeight: 300,\n                color: 'rgba(255, 255, 255, 0.5)',\n                marginBottom: '1rem',\n                fontSize: '1.5rem',\n              }}\n            >\n              Something went wrong\n            </div>\n            <Title style={{ fontSize: '1.25rem', marginBottom: 0 }}>\n              {error.message}\n            </Title>\n            <br />\n            <div style={{ display: 'flex', maxWidth: 400, width: '100%' }}>\n              <Button block small style={{ margin: '.5rem' }} href=\"/s\">\n                Create Sandbox\n              </Button>\n              <Button block small style={{ margin: '.5rem' }} href=\"/\">\n                {hasLogIn ? 'Dashboard' : 'Homepage'}\n              </Button>\n            </div>\n            {isLoggedIn && isGithub && error.status !== 422 && (\n              <div\n                style={{ maxWidth: 400, marginTop: '2.5rem', width: '100%' }}\n              >\n                <div\n                  style={{\n                    fontWeight: 300,\n                    color: 'rgba(255, 255, 255, 0.7)',\n                    marginBottom: '1rem',\n                    fontSize: '1rem',\n                    textAlign: 'center',\n                    lineHeight: 1.6,\n                  }}\n                >\n                  Did you try to open a private GitHub repository and are you a{' '}\n                  <Link to=\"/pro\">pro</Link>? Then you might need to get private\n                  access:\n                </div>\n                <GithubIntegration small />\n                <div\n                  style={{\n                    fontWeight: 300,\n                    color: 'rgba(255, 255, 255, 0.7)',\n                    marginTop: '1rem',\n                    fontSize: '1rem',\n                    textAlign: 'center',\n                    lineHeight: 1.6,\n                  }}\n                >\n                  If you{\"'\"}re importing a sandbox from an organization, make\n                  sure to enable organization access{' '}\n                  <a\n                    href=\"https://github.com/settings/connections/applications/c07a89833b557afc7be2\"\n                    target=\"_blank\"\n                    rel=\"noreferrer noopener\"\n                  >\n                    here\n                  </a>\n                  .\n                </div>\n              </div>\n            )}\n          </>\n        );\n      }\n\n      return null;\n    }\n\n    const content = getContent();\n\n    if (content) {\n      return (\n        <ThemeProvider theme={codesandboxBlack}>\n          <Fullscreen>\n            <Padding\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n                width: '100vw',\n                height: '100vh',\n              }}\n              margin={1}\n            >\n              <Navigation title=\"Sandbox Editor\" />\n              <Centered\n                style={{ flex: 1, width: '100%', height: '100%' }}\n                horizontal\n                vertical\n              >\n                {content}\n              </Centered>\n            </Padding>\n          </Fullscreen>\n        </ThemeProvider>\n      );\n    }\n\n    const sandbox = state.editor.currentSandbox;\n\n    return (\n      <>\n        <Helmet>\n          <title>\n            {sandbox ? getSandboxName(sandbox) : 'Loading...'} - CodeSandbox\n          </title>\n        </Helmet>\n        <Editor />\n      </>\n    );\n  },\n  (prev, next) => prev.match.params.id === next.match.params.id\n);\n","import { DNT, trackPageview } from '@codesandbox/common/lib/utils/analytics';\nimport _debug from '@codesandbox/common/lib/utils/debug';\nimport { notificationState } from '@codesandbox/common/lib/utils/notifications';\nimport { Toasts } from '@codesandbox/notifications';\nimport { useOvermind } from 'app/overmind';\nimport Loadable from 'app/utils/Loadable';\nimport React, { useEffect } from 'react';\nimport { SignInModal } from 'app/components/SignInModal';\nimport { Redirect, Route, Switch, withRouter } from 'react-router-dom';\n\nimport { ErrorBoundary } from './common/ErrorBoundary';\nimport { Modals } from './common/Modals';\nimport { Dashboard } from './Dashboard';\nimport { DevAuthPage } from './DevAuth';\nimport { Container, Content } from './elements';\nimport { Dashboard as NewDashboard } from './NewDashboard';\nimport { NewSandbox } from './NewSandbox';\nimport { Sandbox } from './Sandbox';\n\nconst routeDebugger = _debug('cs:app:router');\n\nconst SignInAuth = Loadable(() =>\n  import(/* webpackChunkName: 'page-sign-in' */ './SignInAuth')\n);\nconst SignIn = Loadable(() =>\n  import(/* webpackChunkName: 'page-sign-in' */ './SignIn')\n);\nconst Live = Loadable(() =>\n  import(/* webpackChunkName: 'page-sign-in' */ './Live').then(module => ({\n    default: module.LivePage,\n  }))\n);\nconst VercelSignIn = Loadable(() =>\n  import(/* webpackChunkName: 'page-vercel' */ './VercelAuth')\n);\nconst PreviewAuth = Loadable(() =>\n  import(/* webpackChunkName: 'page-vercel' */ './PreviewAuth')\n);\nconst NotFound = Loadable(() =>\n  import(/* webpackChunkName: 'page-not-found' */ './common/NotFound').then(\n    module => ({\n      default: module.NotFound,\n    })\n  )\n);\nconst Profile = Loadable(() =>\n  import(/* webpackChunkName: 'page-profile' */ './Profile').then(module => ({\n    default: module.Profile,\n  }))\n);\nconst Search = Loadable(() =>\n  import(/* webpackChunkName: 'page-search' */ './Search').then(module => ({\n    default: module.Search,\n  }))\n);\nconst CLI = Loadable(() =>\n  import(/* webpackChunkName: 'page-cli' */ './CLI').then(module => ({\n    default: module.CLI,\n  }))\n);\n\nconst TeamInvitation = Loadable(() =>\n  import(\n    /* webpackChunkName: 'page-team-invitation' */ './TeamInvitation'\n  ).then(module => ({\n    default: module.TeamInvitation,\n  }))\n);\n\nconst GitHub = Loadable(() =>\n  import(/* webpackChunkName: 'page-github' */ './GitHub').then(module => ({\n    default: module.GitHub,\n  }))\n);\nconst CliInstructions = Loadable(() =>\n  import(\n    /* webpackChunkName: 'page-cli-instructions' */ './CliInstructions'\n  ).then(module => ({ default: module.CLIInstructions }))\n);\nconst Patron = Loadable(() =>\n  import(/* webpackChunkName: 'page-patron' */ './Patron')\n);\nconst Pro = Loadable(() => import(/* webpackChunkName: 'page-pro' */ './Pro'));\nconst Curator = Loadable(() =>\n  import(/* webpackChunkName: 'page-curator' */ './Curator').then(module => ({\n    default: module.Curator,\n  }))\n);\nconst CodeSadbox = () => this[``].kaboom();\n\nconst Boundary = withRouter(ErrorBoundary);\n\nconst RoutesComponent: React.FC = () => {\n  const {\n    actions: { appUnmounted },\n    state: { signInModalOpen, user },\n  } = useOvermind();\n  useEffect(() => () => appUnmounted(), [appUnmounted]);\n\n  return (\n    <Container>\n      <Route\n        path=\"/\"\n        render={({ location, history }) => {\n          if (\n            process.env.NODE_ENV === 'production' &&\n            history.action !== 'REPLACE'\n          ) {\n            routeDebugger(\n              `Sending '${location.pathname + location.search}' to analytics.`\n            );\n            if (!DNT) {\n              trackPageview();\n            }\n          }\n          return null;\n        }}\n      />\n      <Toasts state={notificationState} />\n      <Boundary>\n        <Content>\n          <Switch>\n            <Route exact path=\"/\" render={() => <Redirect to=\"/s\" />} />\n            <Route exact path=\"/s/github\" component={GitHub} />\n            <Route exact path=\"/s/cli\" component={CliInstructions} />\n            <Route exact path=\"/s\" component={NewSandbox} />\n            <Route exact path=\"/s2\" component={NewSandbox} />\n            <Route path=\"/invite/:token\" component={TeamInvitation} />\n            <Route path=\"/dashboard\" component={Dashboard} />\n            <Route path=\"/new-dashboard\" component={NewDashboard} />\n            <Route path=\"/curator\" component={Curator} />\n            <Route path=\"/s/:id*\" component={Sandbox} />\n            <Route path=\"/live/:id\" component={Live} />\n            <Route path=\"/signin\" exact component={SignIn} />\n            <Route path=\"/signin/:jwt?\" component={SignInAuth} />\n            <Route path=\"/u/:username\" component={Profile} />\n            <Route path=\"/search\" component={Search} />\n            <Route path=\"/patron\" component={Patron} />\n            <Route path=\"/pro\" component={Pro} />\n            <Route path=\"/cli/login\" component={CLI} />\n            <Route path=\"/auth/zeit\" component={VercelSignIn} />\n            <Route path=\"/auth/sandbox/:id\" component={PreviewAuth} />\n            {(process.env.LOCAL_SERVER || process.env.STAGING) && (\n              <Route path=\"/auth/dev\" component={DevAuthPage} />\n            )}\n            {process.env.NODE_ENV === `development` && (\n              <Route path=\"/codesadbox\" component={CodeSadbox} />\n            )}\n            <Route component={NotFound} />\n          </Switch>\n        </Content>\n      </Boundary>\n      <Modals />\n      {signInModalOpen && !user ? <SignInModal /> : null}\n    </Container>\n  );\n};\n\nexport const Routes = withRouter(RoutesComponent);\n","const OPTS_SYM = 'opts_init'; // not using Symbol to avoid polyfill\nconst BAIL_LEVEL = 1000;\nconst arrayConcat = Array.prototype.concat;\n\nconst initOptions = options =>\n  options[OPTS_SYM] === true\n    ? options\n    : {\n        [OPTS_SYM]: true,\n        recursive: options === true || !!options.recursive,\n        bail: options.bail && options.bail > 0 ? options.bail : BAIL_LEVEL,\n      };\n\nconst getFileFromFileEntry = entry =>\n  new Promise((resolve, reject) => {\n    if (entry.file) {\n      entry.file(resolve, reject);\n    } else {\n      resolve(null);\n    }\n  }).catch(\n    () => null // swallow errors\n  );\n\nconst isItemFileEntry = item => item.kind === 'file';\n\nconst getAsEntry = item => {\n  if (item.getAsEntry) {\n    return item.getAsEntry();\n  }\n  if (item.webkitGetAsEntry) {\n    return item.webkitGetAsEntry();\n  }\n  return null;\n};\n\nconst getListAsArray = (\n  list // returns a flat array\n) => arrayConcat.apply([], list);\n\nexport {\n  initOptions,\n  getFileFromFileEntry,\n  isItemFileEntry,\n  getAsEntry,\n  getListAsArray,\n};\n","import { join } from 'path';\nimport { getFileFromFileEntry, getListAsArray } from './utils';\n\nconst getEntryData = (entry, options, level, path) => {\n  let promise;\n\n  if (entry.isDirectory) {\n    promise = options.recursive\n      ? getFileList(entry, options, level + 1, join(path, entry.name)) // eslint-disable-line\n      : Promise.resolve([]);\n  } else {\n    promise = getFileFromFileEntry(entry).then(file => {\n      if (file) {\n        // eslint-disable-next-line no-param-reassign\n        file.path = join(path, file.name);\n      }\n      return file ? [file] : [];\n    });\n  }\n\n  return promise;\n};\n\n/**\n * returns a flat list of files for root dir item\n * if recursive is true will get all files from sub folders\n */\nconst getFileList = (root, options, level = 0, path = root.name) =>\n  root && level < options.bail && root.isDirectory && root.createReader\n    ? new Promise(resolve => {\n        root.createReader().readEntries(\n          entries =>\n            Promise.all(\n              entries.map(entry => getEntryData(entry, options, level, path))\n            ).then(results => resolve(getListAsArray(results))), // flatten the results\n          () => resolve([])\n        ); // fail silently\n      })\n    : Promise.resolve([]);\n\nexport default getFileList;\n","import getFileList from './file-list';\nimport {\n  isItemFileEntry,\n  getListAsArray,\n  getAsEntry,\n  initOptions,\n} from './utils';\n\n/**\n * returns a Promise<Array<File>> of File objects for the provided item if it represents a directory\n * will attempt to retrieve all of its children files (optionally recursively)\n * @param item: DataTransferItem\n * @param options (optional)\n *  {options.recursive} (default: false) - whether to recursively follow the dir structure\n *  {options.bail} (default: 1000) - how many levels to follow recursively before bailing\n */\nconst getFiles = (item, options = {}) =>\n  getFileList(getAsEntry(item), initOptions(options));\n\nconst getDataTransferItemFiles = (item, options) =>\n  getFiles(item, options).then(files => {\n    if (!files.length) {\n      // perhaps its a regular file\n      const file = item.getAsFile();\n      // eslint-disable-next-line\n      files = file ? [file] : files;\n    }\n\n    return files;\n  });\n\n/**\n * returns a Promise<Array<File>> for the File objects found in the dataTransfer data of a drag&drop event\n * In case a directory is found, will attempt to retrieve all of its children files (optionally recursively)\n *\n * @param evt: DragEvent - containing dataTransfer\n * @param options (optional)\n *  {options.recursive} (default: false) - whether to recursively follow the dir structure\n *  {options.bail} (default: 1000) - how many levels to follow recursively before bailing\n */\nconst getFilesFromDragEvent = (evt, options = {}) => {\n  // eslint-disable-next-line\n  options = initOptions(options);\n\n  return new Promise(resolve => {\n    if (evt.dataTransfer.items) {\n      Promise.all(\n        getListAsArray(evt.dataTransfer.items)\n          .filter(item => isItemFileEntry(item))\n          .map(item => getDataTransferItemFiles(item, options))\n      ).then(files => resolve(getListAsArray(files)));\n    } else if (evt.dataTransfer.files) {\n      resolve(getListAsArray(evt.dataTransfer.files)); // turn into regular array (instead of FileList)\n    } else {\n      resolve([]);\n    }\n  });\n};\n\nexport { getFiles, getFilesFromDragEvent };\n","import HTML5Backend from 'react-dnd-html5-backend';\nimport { getFilesFromDragEvent } from './html-dir-content';\n\nexport default (manager: Object) => {\n  const backend = HTML5Backend(manager);\n  const orgTopDropCapture = backend.handleTopDropCapture;\n\n  backend.handleTopDropCapture = e => {\n    orgTopDropCapture.call(backend, e);\n\n    const item = backend.monitor.getItem();\n    if (item && item.path) {\n      // Big hack we do to make VSCode operate happily with the dropped file.\n      // We monkey patch the getData function to return the right URI, normally\n      // we have to do this on the drag event with setData instead of the drop event, but we\n      // don't have access to it so we monkey-patch.\n      e.dataTransfer.getData = type => {\n        if (type !== 'ResourceURLs') {\n          return '';\n        }\n        return JSON.stringify([`file:///sandbox${item.path}`]);\n      };\n    }\n    if (backend.currentNativeSource) {\n      backend.currentNativeSource.item.dirContent = getFilesFromDragEvent(e, {\n        recursive: true,\n      }); // returns a promise\n    }\n  };\n\n  return backend;\n};\n","import 'react-hot-loader/patch';\nimport '@codesandbox/common/lib/global.css';\nimport 'normalize.css';\n\nimport './split-pane.css';\n\nimport { ApolloProvider as HooksProvider } from '@apollo/react-hooks';\nimport requirePolyfills from '@codesandbox/common/lib/load-dynamic-polyfills';\nimport registerServiceWorker from '@codesandbox/common/lib/registerServiceWorker';\nimport theme from '@codesandbox/common/lib/theme';\nimport {\n  initializeSentry,\n  logError,\n} from '@codesandbox/common/lib/utils/analytics';\nimport { logBreadcrumb } from '@codesandbox/common/lib/utils/analytics/sentry';\nimport _debug from '@codesandbox/common/lib/utils/debug';\nimport {\n  convertTypeToStatus,\n  notificationState,\n} from '@codesandbox/common/lib/utils/notifications';\nimport { isSafari } from '@codesandbox/common/lib/utils/platform';\nimport { Severity } from '@sentry/browser';\nimport { client } from 'app/graphql/client';\nimport history from 'app/utils/history';\nimport { createOvermind } from 'overmind';\nimport { Provider as ActualOvermindProvider } from 'overmind-react';\nimport React from 'react';\nimport { ApolloProvider } from 'react-apollo';\nimport { DndProvider } from 'react-dnd';\nimport { render } from 'react-dom';\nimport { Router } from 'react-router-dom';\nimport { ThemeProvider } from 'styled-components';\n\nimport { config } from './overmind';\nimport { Provider as OvermindProvider } from './overmind/Provider';\nimport { Routes as App } from './pages';\nimport HTML5Backend from './pages/common/HTML5BackendWithFolderSupport';\n\nconst debug = _debug('cs:app');\n\n/**\n * Get rid of a tippy warning that spams the console, and doesn't seem valid.\n */\nconst warn = console.warn;\nconsole.warn = (...args) => {\n  if (\n    args &&\n    args[0] &&\n    typeof args[0].includes === 'function' &&\n    args[0].includes('Cannot update plugins')\n  ) {\n    return;\n  }\n\n  warn(...args);\n};\n\nwindow.setImmediate = (func, delay) => setTimeout(func, delay);\n\nwindow.addEventListener('unhandledrejection', e => {\n  if (e && e.reason && e.reason.name === 'Canceled') {\n    // This is an error from vscode that vscode uses to cancel some actions\n    // We don't want to show this to the user\n    e.preventDefault();\n  }\n});\n\nwindow.__isTouch = !matchMedia('(pointer:fine)').matches;\n\nconst overmind = createOvermind(config, {\n  delimiter: ' ',\n  devtools:\n    (window.opener && window.opener !== window) ||\n    !window.chrome ||\n    location.search.includes('noDevtools')\n      ? false\n      : 'localhost:3031',\n  name:\n    'CodeSandbox - ' +\n    (navigator.userAgent.indexOf('Chrome/76') > 0 ? 'Chrome' : 'Canary'),\n  logProxies: true,\n});\n\nif (process.env.NODE_ENV === 'production') {\n  const ignoredOvermindActions = [\n    'onInitialize',\n    'server.onCodeSandboxAPIMessage',\n    'track',\n    'editor.previewActionReceived',\n    'live.onSelectionChanged',\n    'live.onViewRangeChanged',\n    'editor.onSelectionChanged',\n    'editor.persistCursorToUrl',\n  ];\n\n  try {\n    initializeSentry(\n      'https://f595bc90ce3646c4a9d76a8d3b84b403@sentry.io/2071895'\n    );\n\n    overmind.eventHub.on('action:start', event => {\n      if (ignoredOvermindActions.includes(event.actionName)) {\n        return;\n      }\n\n      // We try as the payload might cause a stringify error\n      try {\n        logBreadcrumb({\n          category: 'overmind-action',\n          message: event.actionName,\n          level: Severity.Info,\n          data: {\n            value: JSON.stringify(event.value),\n          },\n        });\n      } catch (e) {\n        logBreadcrumb({\n          category: 'overmind-action',\n          message: event.actionName,\n          level: Severity.Info,\n        });\n      }\n    });\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n/*\n  Temporary global functions to grab state and actions, related to old\n  Cerebral implementation\n*/\nwindow.getState = path =>\n  path\n    ? path.split('.').reduce((aggr, key) => aggr[key], overmind.state)\n    : overmind.state;\nwindow.getSignal = path =>\n  path.split('.').reduce((aggr, key) => aggr[key], overmind.actions);\n\nconst rootEl = document.getElementById('root');\n\novermind.initialized.then(() => {\n  requirePolyfills().then(() => {\n    if (isSafari) {\n      // eslint-disable-next-line\n      import('subworkers');\n    }\n\n    const showNotification = (message, type) => {\n      notificationState.addNotification({\n        message,\n        status: convertTypeToStatus(type),\n      });\n    };\n\n    window.showNotification = showNotification;\n\n    registerServiceWorker('/service-worker.js', {\n      onUpdated: () => {\n        debug('Updated SW');\n\n        window.getSignal('setUpdateStatus')({ status: 'available' });\n      },\n      onInstalled: () => {\n        debug('Installed SW');\n\n        showNotification(\n          'CodeSandbox has been installed, it now works offline!',\n          'success'\n        );\n      },\n    });\n\n    try {\n      render(\n        <ApolloProvider client={client}>\n          <ActualOvermindProvider value={overmind}>\n            <OvermindProvider value={overmind}>\n              <HooksProvider client={client}>\n                <ThemeProvider theme={theme}>\n                  <DndProvider backend={HTML5Backend}>\n                    <Router history={history}>\n                      <App />\n                    </Router>\n                  </DndProvider>\n                </ThemeProvider>\n              </HooksProvider>\n            </OvermindProvider>\n          </ActualOvermindProvider>\n        </ApolloProvider>,\n        rootEl\n      );\n    } catch (e) {\n      logError(e);\n    }\n  });\n});\n\nif (module.hot) {\n  module.hot.accept(['./pages/index.tsx', './overmind'], () => {\n    const newOvermind = createOvermind(config, {\n      delimiter: ' ',\n      devtools:\n        (window.opener && window.opener !== window) ||\n        !window.chrome ||\n        location.search.includes('noDevtools')\n          ? false\n          : 'localhost:3031',\n      name:\n        'CodeSandbox - ' +\n        (navigator.userAgent.indexOf('Chrome/76') > 0 ? 'Chrome' : 'Canary'),\n      logProxies: true,\n    });\n    render(\n      <ApolloProvider client={client}>\n        <ActualOvermindProvider value={newOvermind}>\n          <OvermindProvider value={newOvermind}>\n            <HooksProvider client={client}>\n              <ThemeProvider theme={theme}>\n                <DndProvider backend={HTML5Backend}>\n                  <Router history={history}>\n                    <App />\n                  </Router>\n                </DndProvider>\n              </ThemeProvider>\n            </HooksProvider>\n          </OvermindProvider>\n        </ActualOvermindProvider>\n      </ApolloProvider>,\n      rootEl\n    );\n  });\n}\n","import { Overmind, IConfiguration } from 'overmind';\nimport { createContext } from 'react';\n\nexport const context = createContext<Overmind<IConfiguration>>(\n  {} as Overmind<IConfiguration>\n);\n\nexport const { Provider } = context;\n","import {\n  getModulePath,\n  resolveModule,\n} from '@codesandbox/common/lib/sandbox/modules';\nimport {\n  preact,\n  react,\n  reactTs,\n  svelte,\n  vue,\n} from '@codesandbox/common/lib/templates/index';\nimport { Directory, Module, Sandbox } from '@codesandbox/common/lib/types';\nimport { saveAs } from 'file-saver';\nimport ignore from 'ignore';\nimport JSZip from 'jszip';\n\nexport const BLOB_ID = 'blob-url://';\n\nconst CSSTag = (resource: string) =>\n  `<link rel=\"stylesheet\" type=\"text/css\" href=\"${resource}\" media=\"all\">`;\nconst JSTag = (resource: string) =>\n  `<script src=\"${resource}\" async=\"false\"></script>`;\n\nexport function getResourceTag(resource: string) {\n  const kind = resource.match(/\\.([^.]*)$/);\n\n  if (kind && kind[1] === 'css') {\n    return CSSTag(resource);\n  }\n\n  return JSTag(resource);\n}\n\nexport function getIndexHtmlBody(\n  modules: Array<Module>,\n  directories?: Array<Directory>\n) {\n  let indexHtmlModule = modules.find(\n    m => m.title === 'index.html' && m.directoryShortid == null\n  );\n\n  if (!indexHtmlModule && directories) {\n    try {\n      indexHtmlModule = resolveModule(\n        'public/index.html',\n        modules,\n        directories\n      );\n    } catch (e) {\n      /* ignore */\n    }\n  }\n\n  if (indexHtmlModule) {\n    return indexHtmlModule.code || '';\n  }\n\n  return `<div id=\"root\"></div>`;\n}\n\nfunction slugify(text) {\n  const a = '/_,:;';\n  const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\n  const p = new RegExp(a.split('').join('|'), 'g');\n\n  /* eslint-disable */\n  return text\n    .toString()\n    .toLowerCase()\n    .replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(p, c => b.charAt(a.indexOf(c))) // Replace special chars\n    .replace(/&/g, '-and-') // Replace & with 'and'\n    .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n    .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, ''); // Trim - from end of text\n  /* eslint-enable */\n}\n\nexport function createPackageJSON(\n  sandbox: Sandbox,\n  dependencies: Object,\n  devDependencies: Object,\n  scripts: Object,\n  extra?: Object\n) {\n  const name = slugify(sandbox.title || sandbox.id);\n  const version = `0.0.${sandbox.version}`;\n\n  const packageJSONModule = sandbox.modules.find(\n    m => m.directoryShortid == null && m.title === 'package.json'\n  );\n\n  try {\n    if (packageJSONModule) {\n      const packageJSON = JSON.parse(packageJSONModule.code || '');\n\n      return JSON.stringify(\n        {\n          ...packageJSON,\n          name,\n          description: packageJSON.description || sandbox.description,\n          version,\n          dependencies: { ...dependencies, ...packageJSON.dependencies },\n          devDependencies: {\n            ...devDependencies,\n            ...packageJSON.devDependencies,\n          },\n          scripts: {\n            ...scripts,\n            ...packageJSON.scripts,\n          },\n          ...(extra || {}),\n        },\n        null,\n        '  '\n      );\n    }\n  } catch (e) {\n    /* fallback */\n  }\n\n  const npmDependencies =\n    typeof sandbox.npmDependencies.toJS === 'function'\n      ? (sandbox.npmDependencies as any).toJS()\n      : sandbox.npmDependencies;\n\n  return JSON.stringify(\n    {\n      name,\n      description: sandbox.description,\n      version,\n      dependencies: { ...npmDependencies, ...dependencies },\n      devDependencies,\n      scripts,\n      ...(extra || {}),\n    },\n    null,\n    '  '\n  );\n}\n\nexport async function createFile(\n  module: Module,\n  zip: JSZip,\n  downloadBlobs: boolean = true\n) {\n  if (module.isBinary && module.code.startsWith('http')) {\n    if (downloadBlobs) {\n      const code = await window\n        .fetch(module.code)\n        .then<string | Blob>(response => {\n          const contentType = response.headers['Content-Type'];\n\n          if (contentType && contentType.startsWith('text/plain')) {\n            return response.text();\n          }\n\n          return response.blob();\n        });\n\n      return zip.file(module.title, code);\n    }\n\n    // Mark that the module is a link to a blob\n    const code = `${BLOB_ID}${module.code}`;\n    const file = zip.file(module.title, code);\n\n    return file;\n  }\n\n  return zip.file(module.title, module.code);\n}\n\nexport async function createDirectoryWithFiles(\n  modules: Array<Module>,\n  directories: Array<Directory>,\n  directory: Directory,\n  zip: JSZip,\n  downloadBlobs: boolean = true\n) {\n  const newZip = zip.folder(directory.title);\n\n  await Promise.all(\n    modules\n      .filter(x => x.directoryShortid === directory.shortid)\n      .map(x => createFile(x, newZip, downloadBlobs))\n  );\n\n  await Promise.all(\n    directories\n      .filter(x => x.directoryShortid === directory.shortid)\n      .map(x =>\n        createDirectoryWithFiles(modules, directories, x, newZip, downloadBlobs)\n      )\n  );\n}\n\nexport async function createZip(\n  sandbox: Sandbox,\n  modules: Array<Module>,\n  directories: Array<Directory>,\n  downloadBlobs: boolean = true,\n  useGitIgnore: boolean = false\n) {\n  const zip = new JSZip();\n  const ignorer = ignore();\n\n  if (useGitIgnore) {\n    const gitIgnore = modules.find(\n      module =>\n        module.title === '.gitignore' && module.directoryShortid === null\n    );\n\n    ignorer.add(gitIgnore ? gitIgnore.code : '');\n  }\n\n  const filteredModules = modules.filter(module => {\n    // Relative path\n    const path = getModulePath(modules, directories, module.id).substring(1);\n    return !ignorer.ignores(path);\n  });\n\n  const fullPromise = () =>\n    import(/* webpackChunkName: 'full-zip' */ './full').then(generator =>\n      generator.default(\n        zip,\n        sandbox,\n        filteredModules,\n        directories,\n        downloadBlobs\n      )\n    );\n\n  let promise: Promise<any> | null = null;\n\n  if (\n    sandbox.template !== vue.name &&\n    sandbox.template !== reactTs.name &&\n    directories.find(m => m.title === 'src' && m.directoryShortid == null)\n  ) {\n    // This is a full project, with all files already in there. We need to create\n    // a zip by just adding all existing files to it (downloading binaries too).\n    promise = fullPromise();\n  } else if (sandbox.template === react.name) {\n    promise = import(\n      /* webpackChunkName: 'create-react-app-zip' */ './create-react-app'\n    ).then(generator =>\n      generator.default(zip, sandbox, filteredModules, directories)\n    );\n  } else if (sandbox.template === reactTs.name) {\n    promise = import(\n      /* webpackChunkName: 'create-react-app-typescript-zip' */ './create-react-app-typescript'\n    ).then(generator =>\n      generator.default(zip, sandbox, filteredModules, directories)\n    );\n  } else if (sandbox.template === vue.name) {\n    try {\n      const packageJSONModule = sandbox.modules.find(\n        m => m.directoryShortid == null && m.title === 'package.json'\n      );\n\n      const pkgJSON = packageJSONModule?.code\n        ? JSON.parse(packageJSONModule.code)\n        : {};\n      if (\n        pkgJSON.devDependencies &&\n        pkgJSON.devDependencies['@vue/cli-service']\n      ) {\n        // For the new vue cli we want to use the full promise\n        promise = fullPromise();\n      } else {\n        promise = import(\n          /* webpackChunkName: 'vue-zip' */ './vue-cli'\n        ).then(generator =>\n          generator.default(zip, sandbox, filteredModules, directories)\n        );\n      }\n    } catch (e) {\n      promise = fullPromise();\n    }\n  } else if (sandbox.template === preact.name) {\n    promise = import(\n      /* webpackChunkName: 'preact-zip' */ './preact-cli'\n    ).then(generator =>\n      generator.default(zip, sandbox, filteredModules, directories)\n    );\n  } else if (sandbox.template === svelte.name) {\n    promise = import(\n      /* webpackChunkName: 'svelte-zip' */ './svelte'\n    ).then(generator =>\n      generator.default(zip, sandbox, filteredModules, directories)\n    );\n  } else {\n    // If no specific zip generator is found we will default to the full generator\n    promise = import(\n      /* webpackChunkName: 'full-zip' */ './full'\n    ).then(generator =>\n      generator.default(\n        zip,\n        sandbox,\n        filteredModules,\n        directories,\n        downloadBlobs\n      )\n    );\n  }\n\n  if (promise) {\n    await promise;\n\n    const file = await zip.generateAsync({ type: 'blob' });\n\n    return file;\n  }\n\n  return null;\n}\n\nexport async function getZip(\n  sandbox: Sandbox,\n  modules: Array<Module>,\n  directories: Array<Directory>\n) {\n  const file = await createZip(sandbox, modules, directories);\n  return { file };\n}\n\nexport default (async function downloadZip(\n  sandbox: Sandbox,\n  modules: Array<Module>,\n  directories: Array<Directory>\n) {\n  const file = await createZip(sandbox, modules, directories);\n\n  if (file) {\n    saveAs(file, `${slugify(sandbox.title || sandbox.id)}.zip`);\n  }\n});\n","import { Contributor, PermissionType } from '@codesandbox/common/lib/types';\nimport { hasPermission } from '@codesandbox/common/lib/utils/permission';\nimport { IState, derived } from 'overmind';\n\nimport { AsyncAction, RootState } from '.';\n\nexport const TEAM_ID_LOCAL_STORAGE = 'codesandbox-selected-team-id';\n\n/*\n  Ensures that we have loaded the app with the initial user\n  and settings\n*/\nexport const withLoadApp = <T>(\n  continueAction?: AsyncAction<T>\n): AsyncAction<T> => async (context, value) => {\n  const { effects, state, actions } = context;\n\n  if (state.hasLoadedApp && continueAction) {\n    await continueAction(context, value);\n    return;\n  }\n  if (state.hasLoadedApp) {\n    return;\n  }\n\n  state.isAuthenticating = true;\n  state.jwt = effects.jwt.get() || null;\n\n  effects.connection.addListener(actions.connectionChanged);\n  actions.internal.setStoredSettings();\n  effects.codesandboxApi.listen(actions.server.onCodeSandboxAPIMessage);\n\n  if (state.jwt) {\n    try {\n      state.user = await effects.api.getCurrentUser();\n      actions.internal.setPatronPrice();\n      actions.internal.setSignedInCookie();\n      effects.analytics.identify('signed_in', true);\n      effects.analytics.setUserId(state.user.id, state.user.email);\n      const localStorageTeam = effects.browser.storage.get(\n        TEAM_ID_LOCAL_STORAGE\n      );\n      if (localStorageTeam) {\n        state.dashboard.activeTeam = localStorageTeam;\n      }\n      try {\n        actions.internal.trackCurrentTeams().catch(e => {});\n        actions.internal.identifyCurrentUser().catch(e => {});\n      } catch (e) {\n        // Not majorly important\n      }\n      actions.internal.showUserSurveyIfNeeded();\n      effects.live.connect();\n      actions.userNotifications.internal.initialize();\n      effects.api.preloadTemplates();\n    } catch (error) {\n      actions.internal.handleError({\n        message: 'We had trouble with signing you in',\n        error,\n      });\n    }\n  } else {\n    effects.jwt.reset();\n    effects.analytics.setAnonymousId();\n  }\n\n  if (continueAction) {\n    await continueAction(context, value);\n  }\n\n  state.hasLoadedApp = true;\n  state.isAuthenticating = false;\n\n  try {\n    const response = await effects.http.get<{\n      contributors: Contributor[];\n    }>(\n      'https://raw.githubusercontent.com/codesandbox/codesandbox-client/master/.all-contributorsrc'\n    );\n\n    state.contributors = response.data.contributors.map(\n      contributor => contributor.login\n    );\n  } catch (error) {\n    // Something wrong in the parsing probably, make sure the file is JSON valid\n  }\n};\n\nexport const withOwnedSandbox = <T>(\n  continueAction: AsyncAction<T>,\n  cancelAction: AsyncAction<T> = () => Promise.resolve(),\n  requiredPermission?: PermissionType\n): AsyncAction<T> => async (context, payload) => {\n  const { state, actions } = context;\n\n  const sandbox = state.editor.currentSandbox;\n  if (sandbox) {\n    if (\n      typeof requiredPermission === 'undefined'\n        ? !sandbox.owned\n        : !hasPermission(sandbox.authorization, requiredPermission)\n    ) {\n      if (state.editor.isForkingSandbox) {\n        return cancelAction(context, payload);\n      }\n\n      try {\n        await actions.editor.internal.forkSandbox({\n          sandboxId: sandbox.id,\n        });\n      } catch (e) {\n        return cancelAction(context, payload);\n      }\n    } else if (sandbox.isFrozen && state.editor.sessionFrozen) {\n      const modalResponse = await actions.modals.forkFrozenModal.open();\n\n      if (modalResponse === 'fork') {\n        try {\n          await actions.editor.internal.forkSandbox({\n            sandboxId: sandbox.id,\n          });\n        } catch (e) {\n          return cancelAction(context, payload);\n        }\n      } else if (modalResponse === 'unfreeze') {\n        state.editor.sessionFrozen = false;\n      } else if (modalResponse === 'cancel') {\n        return cancelAction(context, payload);\n      }\n    }\n  }\n\n  return continueAction(context, payload);\n};\n\nexport const createModals = <\n  T extends {\n    [name: string]: {\n      state?: IState;\n      result?: unknown;\n    };\n  }\n>(\n  modals: T\n): {\n  state: {\n    current: keyof T | null;\n  } & {\n    [K in keyof T]: T[K]['state'] & { isCurrent: boolean };\n  };\n  actions: {\n    [K in keyof T]: {\n      open: AsyncAction<\n        T[K]['state'] extends IState ? T[K]['state'] : void,\n        T[K]['result']\n      >;\n      close: AsyncAction<T[K]['result']>;\n    };\n  };\n} => {\n  function createModal(name, modal) {\n    let resolver;\n\n    const open: AsyncAction<any, any> = async ({ state }, newState = {}) => {\n      state.modals.current = name;\n\n      Object.assign(state.modals[name], newState);\n\n      return new Promise(resolve => {\n        resolver = resolve;\n      });\n    };\n\n    const close: AsyncAction<T> = async ({ state }, payload) => {\n      state.modals.current = null;\n      resolver(payload || modal.result);\n    };\n\n    return {\n      state: {\n        ...modal.state,\n        isCurrent: derived(\n          (_, root: RootState) => root.modals.current === name\n        ),\n      },\n      actions: {\n        open,\n        close,\n      },\n    };\n  }\n\n  return Object.keys(modals).reduce(\n    (aggr, name) => {\n      const modal = createModal(name, modals[name]);\n\n      aggr.state[name] = modal.state;\n      aggr.actions[name] = modal.actions;\n\n      return aggr;\n    },\n    {\n      state: {\n        current: null,\n      },\n      actions: {},\n    }\n  ) as any;\n};\n","import { Sandbox } from '@codesandbox/common/lib/types';\nimport getDefinition from '@codesandbox/common/lib/templates';\nimport parse from '@codesandbox/common/lib/templates/configuration/parse';\nimport { resolveModuleWrapped } from './resolve-module-wrapped';\n\nexport function parseConfigurations(sandbox: Sandbox) {\n  const templateDefinition = getDefinition(sandbox.template);\n\n  return parse(\n    sandbox.template,\n    templateDefinition.configurationFiles,\n    resolveModuleWrapped(sandbox),\n    sandbox\n  );\n}\n","import {\n  ModuleTab,\n  NotificationButton,\n  Sandbox,\n  ServerContainerStatus,\n  ServerStatus,\n  TabType,\n} from '@codesandbox/common/lib/types';\nimport { patronUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { NotificationMessage } from '@codesandbox/notifications/lib/state';\nimport { NotificationStatus } from '@codesandbox/notifications';\nimport values from 'lodash-es/values';\n\nimport { ApiError } from './effects/api/apiFactory';\nimport { defaultOpenedModule, mainModule } from './utils/main-module';\nimport { parseConfigurations } from './utils/parse-configurations';\nimport { Action, AsyncAction } from '.';\n\nexport const signIn: AsyncAction<{ useExtraScopes?: boolean }> = async (\n  { state, effects, actions },\n  options\n) => {\n  effects.analytics.track('Sign In', {});\n  try {\n    const jwt = await actions.internal.signInGithub(options);\n    actions.internal.setJwt(jwt);\n    state.user = await effects.api.getCurrentUser();\n    actions.internal.setPatronPrice();\n    actions.internal.setSignedInCookie();\n    effects.analytics.identify('signed_in', true);\n    effects.analytics.setUserId(state.user.id, state.user.email);\n    actions.internal.setStoredSettings();\n    effects.live.connect();\n    actions.userNotifications.internal.initialize(); // Seemed a bit different originally?\n    actions.refetchSandboxInfo();\n    state.isAuthenticating = false;\n  } catch (error) {\n    actions.internal.handleError({\n      message: 'Could not authenticate with Github',\n      error,\n    });\n  }\n};\n\nexport const setStoredSettings: Action = ({ state, effects }) => {\n  const settings = effects.settingsStore.getAll();\n\n  if (settings.keybindings) {\n    settings.keybindings = Object.keys(settings.keybindings).reduce(\n      (value, key) =>\n        value.concat({\n          key,\n          bindings: settings.keybindings[key],\n        }),\n      [] as Array<{ key: string; bindings: string }>\n    );\n  }\n\n  Object.assign(state.preferences.settings, settings);\n};\n\nexport const setPatronPrice: Action = ({ state }) => {\n  if (!state.user) {\n    return;\n  }\n\n  state.patron.price = state.user.subscription\n    ? Number(state.user.subscription.amount)\n    : 10;\n};\n\nexport const setSignedInCookie: Action = ({ state }) => {\n  document.cookie = 'signedIn=true; Path=/;';\n};\n\nexport const showUserSurveyIfNeeded: Action = ({ state, effects, actions }) => {\n  if (state.user?.sendSurvey) {\n    // Let the server know that we've seen the survey\n    effects.api.markSurveySeen();\n\n    effects.notificationToast.add({\n      title: 'Help improve CodeSandbox',\n      message:\n        \"We'd love to hear your thoughts, it's 7 questions and will only take 2 minutes.\",\n      status: NotificationStatus.NOTICE,\n      sticky: true,\n      actions: {\n        primary: {\n          label: 'Open Survey',\n          run: () => {\n            actions.modalOpened({\n              modal: 'userSurvey',\n            });\n          },\n        },\n      },\n    });\n  }\n};\n\nexport const addNotification: Action<{\n  title: string;\n  type: 'notice' | 'success' | 'warning' | 'error';\n  timeAlive?: number;\n  buttons?: Array<NotificationButton>;\n}> = ({ state }, { title, type, timeAlive, buttons }) => {\n  const now = Date.now();\n  const timeAliveDefault = type === 'error' ? 6 : 3;\n\n  state.notifications.push({\n    id: now,\n    title,\n    type,\n    buttons: buttons || [],\n    endTime: now + (timeAlive || timeAliveDefault) * 1000,\n  });\n};\n\nexport const authorize: AsyncAction = async ({ state, effects }) => {\n  try {\n    state.authToken = await effects.api.getAuthToken();\n  } catch (error) {\n    state.editor.error = error.message;\n  }\n};\n\nexport const signInGithub: Action<\n  { useExtraScopes?: boolean },\n  Promise<string>\n> = ({ effects }, options) => {\n  const authPath =\n    process.env.LOCAL_SERVER || process.env.STAGING\n      ? '/auth/dev'\n      : `/auth/github${options.useExtraScopes ? '?scope=user:email,repo' : ''}`;\n\n  const popup = effects.browser.openPopup(authPath, 'sign in');\n\n  return effects.browser\n    .waitForMessage<{ jwt: string }>('signin')\n    .then(data => {\n      const { jwt } = data;\n\n      popup.close();\n\n      if (jwt) {\n        return jwt;\n      }\n\n      throw new Error('Could not get sign in token');\n    });\n};\n\nexport const setJwt: Action<string> = ({ state, effects }, jwt) => {\n  effects.jwt.set(jwt);\n  state.jwt = jwt;\n};\n\nexport const closeModals: Action<boolean> = ({ state, effects }, isKeyDown) => {\n  if (\n    state.currentModal === 'preferences' &&\n    state.preferences.itemId === 'keybindings' &&\n    isKeyDown\n  ) {\n    return;\n  }\n\n  state.currentModal = null;\n};\n\nexport const setCurrentSandbox: AsyncAction<Sandbox> = async (\n  { state, effects, actions },\n  sandbox\n) => {\n  state.editor.sandboxes[sandbox.id] = sandbox;\n  state.editor.currentId = sandbox.id;\n\n  let { currentModuleShortid } = state.editor;\n  const parsedConfigs = parseConfigurations(sandbox);\n  const main = mainModule(sandbox, parsedConfigs);\n\n  state.editor.mainModuleShortid = main.shortid;\n\n  // Only change the module shortid if it doesn't exist in the new sandbox\n  // This can happen when a sandbox is opened that's different from the current\n  // sandbox, with completely different files\n  if (\n    !sandbox.modules.find(module => module.shortid === currentModuleShortid)\n  ) {\n    const defaultModule = defaultOpenedModule(sandbox, parsedConfigs);\n\n    currentModuleShortid = defaultModule.shortid;\n  }\n\n  const sandboxOptions = effects.router.getSandboxOptions();\n\n  if (sandboxOptions.currentModule) {\n    try {\n      const resolvedModule = effects.utils.resolveModule(\n        sandboxOptions.currentModule,\n        sandbox.modules,\n        sandbox.directories,\n        // currentModule is a string... something wrong here?\n        // @ts-ignore\n        sandboxOptions.currentModule.directoryShortid\n      );\n      currentModuleShortid = resolvedModule\n        ? resolvedModule.shortid\n        : currentModuleShortid;\n    } catch (error) {\n      actions.internal.handleError({\n        message: `Could not find module ${sandboxOptions.currentModule}`,\n        error,\n      });\n    }\n  }\n\n  state.editor.currentModuleShortid = currentModuleShortid;\n  state.editor.workspaceConfigCode = '';\n\n  state.server.status = ServerStatus.INITIALIZING;\n  state.server.containerStatus = ServerContainerStatus.INITIALIZING;\n  state.server.error = null;\n  state.server.hasUnrecoverableError = false;\n  state.server.ports = [];\n\n  const newTab: ModuleTab = {\n    type: TabType.MODULE,\n    moduleShortid: currentModuleShortid,\n    dirty: true,\n  };\n\n  state.editor.tabs = [newTab];\n\n  state.preferences.showPreview = Boolean(\n    sandboxOptions.isPreviewScreen || sandboxOptions.isSplitScreen\n  );\n\n  state.preferences.showEditor = Boolean(\n    sandboxOptions.isEditorScreen || sandboxOptions.isSplitScreen\n  );\n\n  if (sandboxOptions.initialPath)\n    state.editor.initialPath = sandboxOptions.initialPath;\n  if (sandboxOptions.fontSize)\n    state.preferences.settings.fontSize = sandboxOptions.fontSize;\n  if (sandboxOptions.highlightedLines)\n    state.editor.highlightedLines = sandboxOptions.highlightedLines;\n  if (sandboxOptions.hideNavigation)\n    state.preferences.hideNavigation = sandboxOptions.hideNavigation;\n  if (sandboxOptions.isInProjectView)\n    state.editor.isInProjectView = sandboxOptions.isInProjectView;\n  if (sandboxOptions.autoResize)\n    state.preferences.settings.autoResize = sandboxOptions.autoResize;\n  if (sandboxOptions.enableEslint)\n    state.preferences.settings.enableEslint = sandboxOptions.enableEslint;\n  if (sandboxOptions.forceRefresh)\n    state.preferences.settings.forceRefresh = sandboxOptions.forceRefresh;\n  if (sandboxOptions.expandDevTools)\n    state.preferences.showDevtools = sandboxOptions.expandDevTools;\n  if (sandboxOptions.runOnClick)\n    state.preferences.runOnClick = sandboxOptions.runOnClick;\n\n  state.workspace.project.title = sandbox.title || '';\n  state.workspace.project.description = sandbox.description || '';\n  state.workspace.project.alias = sandbox.alias || '';\n\n  actions.server.startContainer(sandbox);\n};\n\nexport const closeTabByIndex: Action<number> = ({ state }, tabIndex) => {\n  const { currentModule } = state.editor;\n  const tabs = state.editor.tabs as ModuleTab[];\n  const isActiveTab = currentModule.shortid === tabs[tabIndex].moduleShortid;\n\n  if (isActiveTab) {\n    const newTab = tabIndex > 0 ? tabs[tabIndex - 1] : tabs[tabIndex + 1];\n\n    if (newTab) {\n      state.editor.currentModuleShortid = newTab.moduleShortid;\n    }\n  }\n\n  state.editor.tabs.splice(tabIndex, 1);\n};\n\nexport const getErrorMessage: Action<{ error: ApiError | Error }, string> = (\n  context,\n  { error }\n) => {\n  const isGenericError =\n    !('response' in error) ||\n    error.response == null ||\n    error.response.status >= 500;\n\n  if (isGenericError) {\n    return error.message;\n  }\n\n  const { response } = error as ApiError;\n  /*\n    Update error message with what is coming from the server\n  */\n  const result = response?.data;\n\n  if (result) {\n    if (typeof result === 'string') {\n      return result;\n    }\n    if ('errors' in result) {\n      const errors = values(result.errors)[0];\n      const fields = Object.keys(result.errors);\n      if (Array.isArray(errors)) {\n        if (errors[0]) {\n          if (fields[0] === 'detail') {\n            return errors[0];\n          }\n          return `${fields[0]}: ${errors[0]}`; // eslint-disable-line no-param-reassign,prefer-destructuring\n        }\n      } else {\n        return errors; // eslint-disable-line no-param-reassign\n      }\n    } else if (result.error) {\n      if (result.error.message) {\n        return result.error.message;\n      }\n\n      return result.error; // eslint-disable-line no-param-reassign\n    } else if (response?.status === 413) {\n      return 'File too large, upload limit is 5MB.';\n    }\n  }\n\n  return error.message;\n};\n\nexport const handleError: Action<{\n  /*\n    The message that will show as title of the notification\n  */\n  message: string;\n  error: ApiError | Error;\n  hideErrorMessage?: boolean;\n}> = ({ actions, effects }, { message, error, hideErrorMessage = false }) => {\n  if (hideErrorMessage) {\n    effects.analytics.logError(error);\n    effects.notificationToast.add({\n      message,\n      status: NotificationStatus.ERROR,\n    });\n\n    return;\n  }\n\n  const isGenericError =\n    !('response' in error) ||\n    error.response == null ||\n    error.response.status >= 500;\n\n  if (isGenericError) {\n    effects.analytics.logError(error);\n    effects.notificationToast.add({\n      title: message,\n      message: error.message,\n      status: NotificationStatus.ERROR,\n    });\n\n    return;\n  }\n\n  const { response } = error as ApiError;\n\n  if (response?.status === 401) {\n    // Reset existing sign in info\n    effects.jwt.reset();\n    effects.analytics.setAnonymousId();\n\n    // Allow user to sign in again in notification\n    effects.notificationToast.add({\n      message: 'Your session seems to be expired, please log in again...',\n      status: NotificationStatus.ERROR,\n      actions: {\n        primary: {\n          label: 'Sign in',\n          run: () => actions.signInClicked(),\n        },\n      },\n    });\n\n    return;\n  }\n\n  error.message = actions.internal.getErrorMessage({ error });\n\n  const notificationActions: NotificationMessage['actions'] = {};\n\n  if (error.message.startsWith('You need to sign in to create more than')) {\n    // Error for \"You need to sign in to create more than 10 sandboxes\"\n    effects.analytics.track('Anonymous Sandbox Limit Reached', {\n      errorMessage: error.message,\n    });\n\n    notificationActions.primary = {\n      label: 'Sign in',\n      run: () => {\n        actions.internal.signIn({});\n      },\n    };\n  } else if (error.message.startsWith('You reached the maximum of')) {\n    effects.analytics.track('Non-Patron Sandbox Limit Reached', {\n      errorMessage: error.message,\n    });\n\n    notificationActions.primary = {\n      label: 'Open Patron Page',\n      run: () => {\n        window.open(patronUrl(), '_blank');\n      },\n    };\n  } else if (\n    error.message.startsWith(\n      'You reached the limit of server sandboxes, you can create more server sandboxes as a patron.'\n    )\n  ) {\n    effects.analytics.track('Non-Patron Server Sandbox Limit Reached', {\n      errorMessage: error.message,\n    });\n\n    notificationActions.primary = {\n      label: 'Open Patron Page',\n      run: () => {\n        window.open(patronUrl(), '_blank');\n      },\n    };\n  } else if (\n    error.message.startsWith(\n      'You reached the limit of server sandboxes, we will increase the limit in the future. Please contact hello@codesandbox.io for more server sandboxes.'\n    )\n  ) {\n    effects.analytics.track('Patron Server Sandbox Limit Reached', {\n      errorMessage: error.message,\n    });\n  }\n\n  effects.notificationToast.add({\n    title: message,\n    message: error.message,\n    status: NotificationStatus.ERROR,\n    ...(notificationActions.primary ? { actions: notificationActions } : {}),\n  });\n};\n\nexport const trackCurrentTeams: AsyncAction = async ({ effects }) => {\n  const { me } = await effects.gql.queries.teams({});\n  if (me) {\n    effects.analytics.setGroup(\n      'teamName',\n      me.teams.map(m => m.name)\n    );\n    effects.analytics.setGroup(\n      'teamId',\n      me.teams.map(m => m.id)\n    );\n  }\n};\n\nexport const identifyCurrentUser: AsyncAction = async ({ state, effects }) => {\n  const user = state.user;\n  if (user) {\n    effects.analytics.identify('pilot', user.experiments.inPilot);\n\n    const profileData = await effects.api.getProfile(user.username);\n    effects.analytics.identify('sandboxCount', profileData.sandboxCount);\n    effects.analytics.identify('pro', Boolean(profileData.subscriptionSince));\n    effects.analytics.identify('receivedViewCount', profileData.viewCount);\n  }\n};\n\nconst seenTermsKey = 'ACCEPTED_TERMS_CODESANDBOX';\nexport const showPrivacyPolicyNotification: Action = ({ effects, state }) => {\n  if (effects.browser.storage.get(seenTermsKey)) {\n    return;\n  }\n\n  if (!state.isFirstVisit) {\n    effects.analytics.track('Saw Privacy Policy Notification');\n    effects.notificationToast.add({\n      message:\n        'Hello, our privacy policy has been updated recently. Whats new? CodeSandbox emails. Please read and reach out.',\n      title: 'Updated Privacy',\n      status: NotificationStatus.NOTICE,\n      sticky: true,\n      actions: {\n        primary: {\n          label: 'Open Privacy Policy',\n          run: () => {\n            window.open('https://codesandbox.io/legal/privacy', '_blank');\n          },\n        },\n      },\n    });\n  }\n\n  effects.browser.storage.set(seenTermsKey, true);\n};\n\nconst VIEW_MODE_DASHBOARD = 'VIEW_MODE_DASHBOARD';\nexport const setViewModeForDashboard: Action = ({ effects, state }) => {\n  const localStorageViewMode = effects.browser.storage.get(VIEW_MODE_DASHBOARD);\n  if (localStorageViewMode) {\n    state.dashboard.viewMode = localStorageViewMode;\n  }\n};\n","import {\n  NotificationType,\n  convertTypeToStatus,\n} from '@codesandbox/common/lib/utils/notifications';\n\nimport { withLoadApp } from './factories';\nimport * as internalActions from './internalActions';\nimport { Action, AsyncAction } from '.';\n\nexport const internal = internalActions;\n\nexport const appUnmounted: AsyncAction = async ({ effects, actions }) => {\n  effects.connection.removeListener(actions.connectionChanged);\n};\n\nexport const sandboxPageMounted: AsyncAction = withLoadApp();\n\nexport const searchMounted: AsyncAction = withLoadApp();\n\nexport const codesadboxMounted: AsyncAction = withLoadApp();\n\nexport const genericPageMounted: AsyncAction = withLoadApp();\n\nexport const cliMounted: AsyncAction = withLoadApp(\n  async ({ state, actions }) => {\n    if (state.user) {\n      await actions.internal.authorize();\n    }\n  }\n);\n\nexport const notificationAdded: Action<{\n  title: string;\n  notificationType: NotificationType;\n  timeAlive?: number;\n}> = ({ effects }, { title, notificationType, timeAlive }) => {\n  effects.notificationToast.add({\n    message: title,\n    status: convertTypeToStatus(notificationType),\n    timeAlive: timeAlive ? timeAlive * 1000 : undefined,\n  });\n};\n\nexport const notificationRemoved: Action<{\n  id: number;\n}> = ({ state }, { id }) => {\n  const { notifications } = state;\n  const notificationToRemoveIndex = notifications.findIndex(\n    notification => notification.id === id\n  );\n\n  state.notifications.splice(notificationToRemoveIndex, 1);\n};\n\nexport const cliInstructionsMounted: AsyncAction = withLoadApp();\n\nexport const githubPageMounted: AsyncAction = withLoadApp();\n\nexport const connectionChanged: Action<boolean> = ({ state }, connected) => {\n  state.connected = connected;\n};\n\ntype ModalName =\n  | 'deleteDeployment'\n  | 'deleteSandbox'\n  | 'feedback'\n  | 'forkServerModal'\n  | 'liveSessionEnded'\n  | 'moveSandbox'\n  | 'netlifyLogs'\n  | 'newSandbox'\n  | 'preferences'\n  | 'searchDependencies'\n  | 'share'\n  | 'signInForTemplates'\n  | 'userSurvey'\n  | 'liveSessionEnded';\n\nexport const modalOpened: Action<{\n  modal: ModalName;\n  message?: string;\n  itemId?: string;\n}> = ({ state, effects }, props) => {\n  effects.analytics.track('Open Modal', { modal: props.modal });\n  state.currentModal = props.modal;\n  if (props.modal === 'preferences' && props.itemId) {\n    state.preferences.itemId = props.itemId;\n  } else {\n    state.currentModalMessage = props.message || null;\n  }\n};\n\nexport const modalClosed: Action = ({ state }) => {\n  state.currentModal = null;\n};\n\nexport const signInClicked: Action<string | void> = ({ state }, redirectTo) => {\n  state.signInModalOpen = true;\n  state.redirectOnLogin = redirectTo || '';\n};\n\nexport const toggleSignInModal: Action = ({ state }) => {\n  state.signInModalOpen = !state.signInModalOpen;\n};\n\nexport const signInButtonClicked: AsyncAction<{\n  useExtraScopes: boolean;\n} | void> = async ({ actions, state }, options) => {\n  if (!options) {\n    await actions.internal.signIn({\n      useExtraScopes: false,\n    });\n    state.signInModalOpen = false;\n    return;\n  }\n  await actions.internal.signIn(options);\n  state.signInModalOpen = false;\n};\n\nexport const signInCliClicked: AsyncAction = async ({ state, actions }) => {\n  await actions.internal.signIn({\n    useExtraScopes: false,\n  });\n  state.signInModalOpen = false;\n\n  if (state.user) {\n    await actions.internal.authorize();\n  }\n};\n\nexport const addNotification: Action<{\n  message: string;\n  type: NotificationType;\n  timeAlive: number;\n}> = ({ effects }, { message, type, timeAlive }) => {\n  effects.notificationToast.add({\n    message,\n    status: effects.notificationToast.convertTypeToStatus(type),\n    timeAlive: timeAlive * 1000,\n  });\n};\n\nexport const removeNotification: Action<number> = ({ state }, id) => {\n  const notificationToRemoveIndex = state.notifications.findIndex(\n    notification => notification.id === id\n  );\n\n  state.notifications.splice(notificationToRemoveIndex, 1);\n};\n\nexport const signInVercelClicked: AsyncAction = async ({\n  state,\n  effects: { browser, api, notificationToast },\n  actions,\n}) => {\n  state.isLoadingVercel = true;\n\n  const popup = browser.openPopup('/auth/zeit', 'sign in');\n  const data: { code: string } = await browser.waitForMessage('signin');\n\n  popup.close();\n\n  if (data && data.code) {\n    try {\n      state.user = await api.createVercelIntegration(data.code);\n      await actions.deployment.internal.getVercelUserDetails();\n    } catch (error) {\n      actions.internal.handleError({\n        message: 'Could not authorize with Vercel',\n        error,\n      });\n    }\n  } else {\n    notificationToast.error('Could not authorize with Vercel');\n  }\n\n  state.isLoadingVercel = false;\n};\n\nexport const signOutVercelClicked: AsyncAction = async ({ state, effects }) => {\n  if (state.user?.integrations?.zeit) {\n    await effects.api.signoutVercel();\n    delete state.user.integrations.zeit;\n  }\n};\n\nexport const authTokenRequested: AsyncAction = async ({ actions }) => {\n  await actions.internal.authorize();\n};\n\nexport const requestAuthorisation: AsyncAction = async ({ actions }) => {\n  await actions.internal.authorize();\n};\n\nexport const signInGithubClicked: AsyncAction = async ({ state, actions }) => {\n  state.isLoadingGithub = true;\n  await actions.internal.signIn({ useExtraScopes: true });\n  state.isLoadingGithub = false;\n};\n\nexport const signOutClicked: AsyncAction = async ({\n  state,\n  effects,\n  actions,\n}) => {\n  effects.analytics.track('Sign Out', {});\n  state.workspace.openedWorkspaceItem = 'files';\n  if (state.live.isLive) {\n    actions.live.internal.disconnect();\n  }\n  await effects.api.signout();\n  effects.jwt.reset();\n  state.user = null;\n  effects.browser.reload();\n};\n\nexport const signOutGithubIntegration: AsyncAction = async ({\n  state,\n  effects,\n}) => {\n  if (state.user?.integrations?.github) {\n    await effects.api.signoutGithubIntegration();\n    delete state.user.integrations.github;\n  }\n};\n\nexport const setUpdateStatus: Action<{ status: string }> = (\n  { state },\n  { status }\n) => {\n  state.updateStatus = status;\n};\n\nexport const track: Action<{ name: string; data: any }> = (\n  { effects },\n  { name, data }\n) => {\n  effects.analytics.track(name, data);\n};\n\nexport const refetchSandboxInfo: AsyncAction = async ({\n  actions,\n  effects,\n  state,\n}) => {\n  const sandbox = state.editor.currentSandbox;\n\n  if (!sandbox?.id) {\n    return;\n  }\n\n  const updatedSandbox = await effects.api.getSandbox(sandbox.id);\n\n  sandbox.collection = updatedSandbox.collection;\n  sandbox.owned = updatedSandbox.owned;\n  sandbox.userLiked = updatedSandbox.userLiked;\n  sandbox.title = updatedSandbox.title;\n  sandbox.team = updatedSandbox.team;\n  sandbox.roomId = updatedSandbox.roomId;\n  sandbox.authorization = updatedSandbox.authorization;\n  sandbox.privacy = updatedSandbox.privacy;\n  sandbox.featureFlags = updatedSandbox.featureFlags;\n\n  await actions.editor.internal.initializeSandbox(sandbox);\n};\n\nexport const acceptTeamInvitation: Action<{\n  teamName: string;\n  teamId: string;\n}> = ({ effects, actions }, { teamName }) => {\n  effects.analytics.track('Team - Join Team', { source: 'invitation' });\n  effects.analytics.track('Team - Invitation Accepted', {});\n\n  actions.internal.trackCurrentTeams();\n\n  effects.notificationToast.success(`Accepted invitation to ${teamName}`);\n};\n\nexport const rejectTeamInvitation: Action<{ teamName: string }> = (\n  { effects },\n  { teamName }\n) => {\n  effects.analytics.track('Team - Invitation Rejected', {});\n\n  effects.notificationToast.success(`Rejected invitation to ${teamName}`);\n};\n","/* eslint-disable */\n\n/*\n  This file is temporary for the transition to Overmind\n*/\n\nimport { IConfiguration, Overmind, EventType } from 'overmind';\nimport { Component, createElement, ComponentType } from 'react';\nimport { context } from './Provider';\n\nexport interface IConnect<Config extends IConfiguration> {\n  overmind: {\n    state: Overmind<Config>['state'];\n    actions: Overmind<Config>['actions'];\n    effects: Overmind<Config>['effects'];\n    addMutationListener: Overmind<Config>['addMutationListener'];\n  };\n  store: Overmind<Config>['state'];\n  signals: Overmind<Config>['actions'];\n}\n\nlet nextComponentId = 0;\nconst IS_PRODUCTION = process.env.NODE_ENV === 'production';\n\nfunction createReaction(overmind: any) {\n  return (reactionCb: any, updateCb: any) => {\n    const tree = overmind.proxyStateTree.getTrackStateTree();\n    const updateReaction = () => {\n      tree.trackScope(\n        () => reactionCb(tree.state),\n        () => {\n          updateCb(reactionCb(tree.state));\n          updateReaction();\n        }\n      );\n    };\n\n    updateReaction();\n\n    return () => {\n      overmind.proxyStateTree.disposeTree(tree);\n    };\n  };\n}\n\nexport const createConnect = <ThisConfig extends IConfiguration>(\n  overmindInstance?: Overmind<ThisConfig>\n) => <Props>(\n  component: ComponentType<\n    Props & {\n      overmind: {\n        state: Overmind<ThisConfig>['state'];\n        actions: Overmind<ThisConfig>['actions'];\n        reaction: (\n          reactionCb: (state: Overmind<ThisConfig>['state']) => any,\n          updateCb: () => void\n        ) => void;\n      };\n    }\n  >\n): ComponentType<\n  Omit<\n    Props & IConnect<Overmind<ThisConfig>>,\n    keyof IConnect<Overmind<ThisConfig>>\n  >\n> => {\n  let componentInstanceId = 0;\n  const name = component.name;\n  const populatedComponent = component as any;\n  populatedComponent.__componentId =\n    typeof populatedComponent.__componentId === 'undefined'\n      ? nextComponentId++\n      : populatedComponent.__componentId;\n  const isClassComponent =\n    component.prototype && typeof component.prototype.render === 'function';\n\n  if (isClassComponent) {\n    const originalRender = component.prototype.render;\n    component.prototype.render = function() {\n      if (this.props.overmind) {\n        return this.props.overmind.tree.trackScope(\n          () => originalRender.call(this),\n          this.props.overmind.onUpdate\n        );\n      }\n\n      return originalRender.call(this);\n    };\n  }\n\n  if (IS_PRODUCTION) {\n    class HOC extends Component {\n      tree: any;\n      overmind: any;\n      state: {\n        overmind: any;\n      };\n      wrappedComponent: any;\n      reaction: any;\n      isUnmounting: boolean;\n      static contextType = context;\n      constructor(props, context) {\n        super(props);\n        this.overmind = overmindInstance || context;\n        this.tree = this.overmind.proxyStateTree.getTrackStateTree();\n        this.isUnmounting = false;\n        this.state = {\n          overmind: {\n            state: this.tree.state,\n            effects: this.overmind.effects,\n            actions: this.overmind.actions,\n            addMutationListener: this.overmind.addMutationListener,\n            onUpdate: this.onUpdate,\n            tree: this.tree,\n          },\n        };\n        this.wrappedComponent = (...args) =>\n          this.tree.trackScope(\n            () => (component as any)(...args),\n            this.onUpdate\n          );\n        this.reaction = createReaction(this.overmind);\n      }\n      componentWillUnmount() {\n        this.isUnmounting = true;\n        this.overmind.proxyStateTree.disposeTree(this.tree);\n      }\n      onUpdate = () => {\n        if (this.isUnmounting) {\n          return;\n        }\n        this.setState({\n          overmind: {\n            state: this.tree.state,\n            effects: this.overmind.effects,\n            actions: this.overmind.actions,\n            addMutationListener: this.overmind.addMutationListener,\n            onUpdate: this.onUpdate,\n            tree: this.tree,\n          },\n        });\n      };\n      render() {\n        if (isClassComponent) {\n          return createElement(component, {\n            ...this.props,\n            overmind: this.state.overmind,\n            store: this.state.overmind.state,\n            signals: this.state.overmind.actions,\n            reaction: this.reaction,\n          } as any);\n        }\n\n        return createElement(this.wrappedComponent, {\n          ...this.props,\n          overmind: this.state.overmind,\n          store: this.state.overmind.state,\n          signals: this.state.overmind.actions,\n          reaction: this.reaction,\n        } as any);\n      }\n    }\n\n    return HOC as any;\n  }\n\n  class HOC extends Component {\n    tree: any;\n    overmind: any;\n    componentInstanceId = componentInstanceId++;\n    currentFlushId = 0;\n    state: {\n      overmind: any;\n    };\n    isUpdating: boolean;\n    wrappedComponent: any;\n    isUnmounting: boolean;\n    reaction: any;\n    static contextType = context;\n    constructor(props, context) {\n      super(props);\n      this.overmind = overmindInstance || context;\n      this.tree = this.overmind.proxyStateTree.getTrackStateTree();\n      this.isUnmounting = false;\n      this.state = {\n        overmind: {\n          state: this.tree.state,\n          effects: this.overmind.effects,\n          actions: this.overmind.actions,\n          addMutationListener: this.overmind.addMutationListener,\n          onUpdate: this.onUpdate,\n          tree: this.tree,\n        },\n      };\n      this.wrappedComponent = (...args) =>\n        this.tree.trackScope(() => (component as any)(...args), this.onUpdate);\n      this.reaction = createReaction(this.overmind);\n    }\n    componentDidMount() {\n      this.overmind.eventHub.emitAsync(EventType.COMPONENT_ADD, {\n        componentId: populatedComponent.__componentId,\n        componentInstanceId: this.componentInstanceId,\n        name,\n        paths: Array.from(this.tree.pathDependencies) as any,\n      });\n    }\n    componentDidUpdate() {\n      if (this.isUpdating) {\n        this.overmind.eventHub.emitAsync(EventType.COMPONENT_UPDATE, {\n          componentId: populatedComponent.__componentId,\n          componentInstanceId: this.componentInstanceId,\n          name,\n          flushId: this.currentFlushId,\n          paths: Array.from(this.tree.pathDependencies as Set<string>),\n        });\n        this.isUpdating = false;\n      }\n    }\n    componentWillUnmount() {\n      this.isUnmounting = true;\n      this.overmind.proxyStateTree.disposeTree(this.tree);\n      this.overmind.eventHub.emitAsync(EventType.COMPONENT_REMOVE, {\n        componentId: populatedComponent.__componentId,\n        componentInstanceId: this.componentInstanceId,\n        name,\n      });\n    }\n    onUpdate = (mutatons, paths, flushId) => {\n      if (this.isUnmounting) {\n        return;\n      }\n      this.currentFlushId = flushId;\n      this.isUpdating = true;\n      this.setState({\n        overmind: {\n          state: this.tree.state,\n          effects: this.overmind.effects,\n          actions: this.overmind.actions,\n          addMutationListener: this.overmind.addMutationListener,\n          onUpdate: this.onUpdate,\n          tree: this.tree,\n        },\n      });\n    };\n    render() {\n      if (isClassComponent) {\n        return createElement(component, {\n          ...this.props,\n          overmind: this.state.overmind,\n          store: this.state.overmind.state,\n          signals: this.state.overmind.actions,\n          reaction: this.reaction,\n        } as any);\n      }\n\n      return createElement(this.wrappedComponent, {\n        ...this.props,\n        overmind: this.state.overmind,\n        store: this.state.overmind.state,\n        signals: this.state.overmind.actions,\n        reaction: this.reaction,\n      } as any);\n    }\n  }\n\n  Object.defineProperties(HOC, {\n    name: {\n      value: 'Connect' + (component.displayName || component.name || ''),\n    },\n  });\n\n  return HOC as any;\n};\n","import { resolveModule } from '@codesandbox/common/lib/sandbox/modules';\nimport { isEqual } from 'lodash-es';\n\nlet nextOptimisticId = 0;\nexport const OPTIMISTIC_ID_PREFIX = 'OPTIMISTIC_';\n\nexport default {\n  createOptimisticId() {\n    return OPTIMISTIC_ID_PREFIX + nextOptimisticId++;\n  },\n  resolveModule,\n  isEqual,\n};\n","import { Sandbox } from '@codesandbox/common/lib/types';\n\nexport default {\n  export(sandbox: Sandbox) {\n    return import(\n      /* webpackChunkName: 'export-to-github' */ './export-to-github'\n    ).then(exportToGithub => exportToGithub.default(sandbox));\n  },\n};\n","import { Directory, Module } from '@codesandbox/common/lib/types';\n\nimport {\n  IDirectoryAPIResponse,\n  IModuleAPIResponse,\n  SandboxAPIResponse,\n} from '../api/types';\n\nexport function transformModule(module: IModuleAPIResponse): Module {\n  return {\n    ...module,\n    code: typeof module.code === 'string' ? module.code : '',\n    savedCode: null,\n    isNotSynced: false,\n    errors: [],\n    corrections: [],\n    type: 'file' as 'file',\n    path: '', // We have to use a temporary string due to typing\n  };\n}\n\nexport function transformDirectory(\n  directory: IDirectoryAPIResponse\n): Directory {\n  return {\n    ...directory,\n    type: 'directory' as 'directory',\n    path: null,\n  };\n}\n\nexport function transformSandbox(sandbox: SandboxAPIResponse) {\n  // We need to add client side properties for tracking\n  return {\n    ...sandbox,\n    environmentVariables: null,\n    modules: sandbox.modules.map(transformModule),\n    directories: sandbox.directories.map(transformDirectory),\n  };\n}\n","import { TemplateType } from '@codesandbox/common/lib/templates';\nimport {\n  CurrentUser,\n  CustomTemplate,\n  Dependency,\n  Directory,\n  EnvironmentVariable,\n  GitChanges,\n  GitCommit,\n  GitInfo,\n  GitPr,\n  Module,\n  PaymentDetails,\n  PickedSandboxes,\n  PopularSandboxes,\n  Profile,\n  Sandbox,\n  SandboxPick,\n  UploadedFilesInfo,\n  UserSandbox,\n} from '@codesandbox/common/lib/types';\nimport { LIST_PERSONAL_TEMPLATES } from 'app/components/CreateNewSandbox/queries';\nimport { client } from 'app/graphql/client';\n\nimport {\n  transformDirectory,\n  transformModule,\n  transformSandbox,\n} from '../utils/sandbox';\nimport apiFactory, { Api, ApiConfig } from './apiFactory';\nimport {\n  IDirectoryAPIResponse,\n  IModuleAPIResponse,\n  SandboxAPIResponse,\n} from './types';\n\nlet api: Api;\n\nexport default {\n  initialize(config: ApiConfig) {\n    api = apiFactory(config);\n  },\n  async getAuthToken(): Promise<string> {\n    const response = await api.get<{ token: string }>('/auth/auth-token');\n\n    return response.token;\n  },\n  createPatronSubscription(\n    token: string,\n    amount: number,\n    duration: 'monthly' | 'yearly',\n    coupon: string\n  ) {\n    return api.post<CurrentUser>('/users/current_user/subscription', {\n      subscription: {\n        amount,\n        coupon,\n        token,\n        duration,\n      },\n    });\n  },\n  updatePatronSubscription(amount: number, coupon: string) {\n    return api.patch<CurrentUser>('/users/current_user/subscription', {\n      subscription: {\n        amount,\n        coupon,\n      },\n    });\n  },\n  cancelPatronSubscription() {\n    return api.delete<CurrentUser>('/users/current_user/subscription');\n  },\n  getCurrentUser(): Promise<CurrentUser> {\n    return api.get('/users/current');\n  },\n  markSurveySeen(): Promise<void> {\n    return api.post('/users/survey-seen', {});\n  },\n  getDependency(name: string): Promise<Dependency> {\n    return api.get(`/dependencies/${name}@latest`);\n  },\n  async getSandbox(id: string): Promise<Sandbox> {\n    const sandbox = await api.get<SandboxAPIResponse>(`/sandboxes/${id}`);\n\n    // We need to add client side properties for tracking\n    return transformSandbox(sandbox);\n  },\n  async forkSandbox(id: string, body?: unknown): Promise<Sandbox> {\n    const url = id.includes('/')\n      ? `/sandboxes/fork/${id}`\n      : `/sandboxes/${id}/fork`;\n\n    const sandbox = await api.post<SandboxAPIResponse>(url, body || {});\n\n    return transformSandbox(sandbox);\n  },\n  createModule(sandboxId: string, module: Module): Promise<Module> {\n    return api\n      .post<IModuleAPIResponse>(`/sandboxes/${sandboxId}/modules`, {\n        module: {\n          title: module.title,\n          directoryShortid: module.directoryShortid,\n          code: module.code,\n          isBinary: module.isBinary === undefined ? false : module.isBinary,\n        },\n      })\n      .then(transformModule);\n  },\n  async deleteModule(sandboxId: string, moduleShortid: string): Promise<void> {\n    await api.delete<IModuleAPIResponse>(\n      `/sandboxes/${sandboxId}/modules/${moduleShortid}`\n    );\n  },\n  saveModuleCode(\n    sandboxId: string,\n    moduleShortid: string,\n    code: string\n  ): Promise<Module> {\n    return api\n      .put<IModuleAPIResponse>(\n        `/sandboxes/${sandboxId}/modules/${moduleShortid}`,\n        {\n          module: { code },\n        }\n      )\n      .then(transformModule);\n  },\n  saveModules(sandboxId: string, modules: Module[]): Promise<Module[]> {\n    return api\n      .put<IModuleAPIResponse[]>(`/sandboxes/${sandboxId}/modules/mupdate`, {\n        modules,\n      })\n      .then(modulesResult => modulesResult.map(transformModule));\n  },\n  getGitChanges(sandboxId: string): Promise<GitChanges> {\n    return api.get(`/sandboxes/${sandboxId}/git/diff`);\n  },\n  saveTemplate(sandboxId: string, template: TemplateType): Promise<void> {\n    return api.put(`/sandboxes/${sandboxId}/`, {\n      sandbox: { template },\n    });\n  },\n  unlikeSandbox(sandboxId: string) {\n    return api.request({\n      method: 'DELETE',\n      url: `/sandboxes/${sandboxId}/likes`,\n      data: {\n        id: sandboxId,\n      },\n    });\n  },\n  likeSandbox(sandboxId: string) {\n    return api.post(`/sandboxes/${sandboxId}/likes`, {\n      id: sandboxId,\n    });\n  },\n  savePrivacy(sandboxId: string, privacy: 0 | 1 | 2) {\n    return api.patch<SandboxAPIResponse>(`/sandboxes/${sandboxId}/privacy`, {\n      sandbox: {\n        privacy,\n      },\n    });\n  },\n  saveFrozen(sandboxId: string, isFrozen: boolean) {\n    return api.put<SandboxAPIResponse>(`/sandboxes/${sandboxId}`, {\n      sandbox: {\n        is_frozen: isFrozen,\n      },\n    });\n  },\n  getEnvironmentVariables(\n    sandboxId: string\n  ): Promise<{ [key: string]: string }> {\n    return api.get(\n      `/sandboxes/${sandboxId}/env`,\n      {},\n      { shouldCamelize: false }\n    );\n  },\n  saveEnvironmentVariable(\n    sandboxId: string,\n    environmentVariable: EnvironmentVariable\n  ): Promise<{ [key: string]: string }> {\n    return api.post(\n      `/sandboxes/${sandboxId}/env`,\n      {\n        environment_variable: environmentVariable,\n      },\n      {\n        shouldCamelize: false,\n      }\n    );\n  },\n  deleteEnvironmentVariable(\n    sandboxId: string,\n    name: string\n  ): Promise<{ [key: string]: string }> {\n    return api.delete(\n      `/sandboxes/${sandboxId}/env/${name}`,\n      {},\n      { shouldCamelize: false }\n    );\n  },\n  saveModuleTitle(sandboxId: string, moduleShortid: string, title: string) {\n    return api.put<IModuleAPIResponse>(\n      `/sandboxes/${sandboxId}/modules/${moduleShortid}`,\n      {\n        module: { title },\n      }\n    );\n  },\n  getPopularSandboxes(date: string): Promise<PopularSandboxes> {\n    return api.get(`/sandboxes/popular?start_date=${date}`);\n  },\n  saveSandboxPick(\n    sandboxId: string,\n    title: string,\n    description: string\n  ): Promise<SandboxPick> {\n    return api.post(`/sandboxes/${sandboxId}/pick`, {\n      title,\n      description,\n    });\n  },\n  getPickedSandboxes(): Promise<PickedSandboxes> {\n    return api.get(`/sandboxes/picked`);\n  },\n  createDirectory(\n    sandboxId: string,\n    directoryShortid: string,\n    title: string\n  ): Promise<Directory> {\n    return api\n      .post<IDirectoryAPIResponse>(`/sandboxes/${sandboxId}/directories`, {\n        directory: {\n          title,\n          directoryShortid,\n        },\n      })\n      .then(transformDirectory);\n  },\n  saveModuleDirectory(\n    sandboxId: string,\n    moduleShortid: string,\n    directoryShortid: string\n  ) {\n    return api.put<IDirectoryAPIResponse>(\n      `/sandboxes/${sandboxId}/modules/${moduleShortid}`,\n      {\n        module: { directoryShortid },\n      }\n    );\n  },\n  saveDirectoryDirectory(\n    sandboxId: string,\n    sourceDirectoryShortid: string,\n    targetDirectoryShortId: string\n  ) {\n    return api.put<IDirectoryAPIResponse>(\n      `/sandboxes/${sandboxId}/directories/${sourceDirectoryShortid}`,\n      {\n        directory: { directoryShortid: targetDirectoryShortId },\n      }\n    );\n  },\n  deleteDirectory(sandboxId: string, directoryShortid: string) {\n    return api.delete(\n      `/sandboxes/${sandboxId}/directories/${directoryShortid}`\n    );\n  },\n  saveDirectoryTitle(\n    sandboxId: string,\n    directoryShortid: string,\n    title: string\n  ) {\n    return api.put<IDirectoryAPIResponse>(\n      `/sandboxes/${sandboxId}/directories/${directoryShortid}`,\n      {\n        directory: { title },\n      }\n    );\n  },\n  getUploads(): Promise<UploadedFilesInfo> {\n    return api.get('/users/current_user/uploads');\n  },\n  deleteUploadedFile(uploadId: string): Promise<void> {\n    return api.delete(`/users/current_user/uploads/${uploadId}`);\n  },\n  createUpload(name: string, content: string): Promise<{ url: string }> {\n    return api.post('/users/current_user/uploads', {\n      content,\n      name,\n    });\n  },\n  async massCreateModules(\n    sandboxId: string,\n    directoryShortid: string | null,\n    modules: Module[],\n    directories: Directory[]\n  ): Promise<{\n    modules: Module[];\n    directories: Directory[];\n  }> {\n    const data = (await api.post(`/sandboxes/${sandboxId}/modules/mcreate`, {\n      directoryShortid,\n      modules,\n      directories,\n    })) as {\n      modules: IModuleAPIResponse[];\n      directories: IDirectoryAPIResponse[];\n    };\n\n    return {\n      modules: data.modules.map(transformModule),\n      directories: data.directories.map(transformDirectory),\n    };\n  },\n  createGit(\n    sandboxId: string,\n    repoTitle: string,\n    data: object\n  ): Promise<GitInfo> {\n    return api.post(`/sandboxes/${sandboxId}/git/repo/${repoTitle}`, data);\n  },\n  createGitCommit(sandboxId: string, message: string): Promise<GitCommit> {\n    return api.post(`/sandboxes/${sandboxId}/git/commit`, {\n      id: sandboxId,\n      message,\n    });\n  },\n  createGitPr(sandboxId: string, message: string): Promise<GitPr> {\n    return api.post(`/sandboxes/${sandboxId}/git/pr`, {\n      id: sandboxId,\n      message,\n    });\n  },\n  async createLiveRoom(sandboxId: string): Promise<string> {\n    const data = await api.post<{\n      id: string;\n    }>(`/sandboxes/${sandboxId}/live`, {\n      id: sandboxId,\n    });\n\n    return data.id;\n  },\n  updateBadge(badgeId: string, visible: boolean): Promise<void> {\n    return api.patch(`/users/current_user/badges/${badgeId}`, {\n      badge: {\n        visible,\n      },\n    });\n  },\n  getPaymentDetails(): Promise<PaymentDetails> {\n    return api.get(`/users/current_user/payment_details`);\n  },\n  updatePaymentDetails(token: string): Promise<PaymentDetails> {\n    return api.patch('/users/current_user/payment_details', {\n      paymentDetails: {\n        token,\n      },\n    });\n  },\n  getProfile(username: string): Promise<Profile> {\n    return api.get(`/users/${username}`);\n  },\n  getUserSandboxes(\n    username: string,\n    page: number\n  ): Promise<{ [page: string]: Sandbox[] }> {\n    return api.get(`/users/${username}/sandboxes`, {\n      page: String(page),\n    });\n  },\n  getUserLikedSandboxes(\n    username: string,\n    page: number\n  ): Promise<{ [page: string]: Sandbox[] }> {\n    return api.get(`/users/${username}/sandboxes/liked`, {\n      page: String(page),\n    });\n  },\n  getSandboxes(): Promise<UserSandbox[]> {\n    return api.get('/sandboxes');\n  },\n  updateShowcasedSandbox(username: string, sandboxId: string) {\n    return api.patch(`/users/${username}`, {\n      user: {\n        showcasedSandboxShortid: sandboxId,\n      },\n    });\n  },\n  deleteSandbox(sandboxId: string): Promise<void> {\n    return api.request({\n      method: 'DELETE',\n      url: `/sandboxes/${sandboxId}`,\n      data: {\n        id: sandboxId,\n      },\n    });\n  },\n  createTag(sandboxId: string, tagName: string): Promise<string[]> {\n    return api.post(`/sandboxes/${sandboxId}/tags`, {\n      tag: tagName,\n    });\n  },\n  deleteTag(sandboxId: string, tagName: string): Promise<string[]> {\n    return api.delete(`/sandboxes/${sandboxId}/tags/${tagName}`);\n  },\n  updateSandbox(sandboxId: string, data: Partial<Sandbox>): Promise<Sandbox> {\n    return api.put(`/sandboxes/${sandboxId}`, {\n      sandbox: data,\n    });\n  },\n  createResource(sandboxId: string, resource: string): Promise<void> {\n    return api.post(`/sandboxes/${sandboxId}/resources`, {\n      externalResource: resource,\n    });\n  },\n  deleteResource(sandboxId: string, resource: string): Promise<void> {\n    return api.request({\n      method: 'DELETE',\n      url: `/sandboxes/${sandboxId}/resources/`,\n      data: {\n        id: resource,\n      },\n    });\n  },\n  updatePrivacy(\n    sandboxId: string,\n    privacy: 0 | 1 | 2\n  ): Promise<SandboxAPIResponse> {\n    return api.patch(`/sandboxes/${sandboxId}/privacy`, {\n      sandbox: {\n        privacy,\n      },\n    });\n  },\n  createVercelIntegration(code: string): Promise<CurrentUser> {\n    return api.post(`/users/current_user/integrations/zeit`, {\n      code,\n    });\n  },\n  signout(): Promise<void> {\n    return api.delete(`/users/signout`);\n  },\n  signoutGithubIntegration(): Promise<void> {\n    return api.delete(`/users/current_user/integrations/github`);\n  },\n  signoutVercel(): Promise<void> {\n    return api.delete(`/users/current_user/integrations/zeit`);\n  },\n  preloadTemplates() {\n    client.query({ query: LIST_PERSONAL_TEMPLATES, variables: {} });\n  },\n  deleteTemplate(\n    sandboxId: string,\n    templateId: string\n  ): Promise<CustomTemplate> {\n    return api.delete(`/sandboxes/${sandboxId}/templates/${templateId}`);\n  },\n  updateTemplate(\n    sandboxId: string,\n    template: CustomTemplate\n  ): Promise<CustomTemplate> {\n    return api\n      .put<{ template: CustomTemplate }>(\n        `/sandboxes/${sandboxId}/templates/${template.id}`,\n        {\n          template,\n        }\n      )\n      .then(data => data.template);\n  },\n  createTemplate(\n    sandboxId: string,\n    template: { color: string; description: string; title: string }\n  ): Promise<CustomTemplate> {\n    return api\n      .post<{ template: CustomTemplate }>(`/sandboxes/${sandboxId}/templates`, {\n        template,\n      })\n      .then(data => data.template);\n  },\n  updateExperiments(experiments: { [key: string]: boolean }): Promise<void> {\n    return api.post(`/users/experiments`, {\n      experiments,\n    });\n  },\n};\n","/* eslint-disable camelcase */\nimport axios, { AxiosError, AxiosRequestConfig, AxiosResponse } from 'axios';\nimport { camelizeKeys, decamelizeKeys } from 'humps';\n\nexport const API_ROOT = '/api/v1';\n\nexport type ApiError = AxiosError<\n  { errors: string[] } | { error: string } | any\n>;\n\nexport type Params = {\n  [key: string]: string;\n};\n\nexport type Options = {\n  shouldCamelize: boolean;\n};\n\nexport type Api = {\n  get<T>(path: string, params?: Params, options?: Options): Promise<T>;\n  post<T>(path: string, body: any, options?: Options): Promise<T>;\n  patch<T>(path: string, body: any, options?: Options): Promise<T>;\n  put<T>(path: string, body: any, options?: Options): Promise<T>;\n  delete<T>(path: string, params?: Params, options?: Options): Promise<T>;\n  request<T>(requestConfig: AxiosRequestConfig, options?: Options): Promise<T>;\n};\n\nexport type ApiConfig = {\n  provideJwtToken: () => string;\n  getParsedConfigurations: () => any;\n};\n\nexport default (config: ApiConfig) => {\n  const createHeaders = (jwt: string) =>\n    jwt\n      ? {\n          Authorization: `Bearer ${jwt}`,\n        }\n      : {};\n\n  const api: Api = {\n    get(path, params, options) {\n      return axios\n        .get(API_ROOT + path, {\n          params,\n          headers: createHeaders(config.provideJwtToken()),\n        })\n        .then(response => handleResponse(response, options));\n    },\n    post(path, body, options) {\n      return axios\n        .post(API_ROOT + path, decamelizeKeys(body), {\n          headers: createHeaders(config.provideJwtToken()),\n        })\n        .then(response => handleResponse(response, options));\n    },\n    patch(path, body, options) {\n      return axios\n        .patch(API_ROOT + path, decamelizeKeys(body), {\n          headers: createHeaders(config.provideJwtToken()),\n        })\n        .then(response => handleResponse(response, options));\n    },\n    put(path, body, options) {\n      return axios\n        .put(API_ROOT + path, decamelizeKeys(body), {\n          headers: createHeaders(config.provideJwtToken()),\n        })\n        .then(response => handleResponse(response, options));\n    },\n    delete(path, params, options) {\n      return axios\n        .delete(API_ROOT + path, {\n          params,\n          headers: createHeaders(config.provideJwtToken()),\n        })\n        .then(response => handleResponse(response, options));\n    },\n    request(requestConfig, options) {\n      return axios\n        .request(\n          Object.assign(requestConfig, {\n            url: API_ROOT + requestConfig.url,\n            data: requestConfig.data ? camelizeKeys(requestConfig.data) : null,\n            headers: createHeaders(config.provideJwtToken()),\n          })\n        )\n        .then(response => handleResponse(response, options));\n    },\n  };\n\n  return api;\n};\n\nexport function handleResponse(\n  response: AxiosResponse,\n  { shouldCamelize = true } = {}\n) {\n  const camelizedData = shouldCamelize\n    ? camelizeKeys(response.data)\n    : response.data;\n\n  // Quickfix to prevent underscored dependencies from being camelized.\n  // Never store data as keys in the future.\n  if (\n    camelizedData &&\n    camelizedData.data &&\n    camelizedData.data.npmDependencies\n  ) {\n    camelizedData.data.npmDependencies = response.data.data.npm_dependencies;\n  }\n\n  return camelizedData.data ? camelizedData.data : camelizedData;\n}\n","function getPopupOffset({ width, height }) {\n  const wLeft = window.screenLeft ? window.screenLeft : window.screenX;\n  const wTop = window.screenTop ? window.screenTop : window.screenY;\n\n  const left = wLeft + window.innerWidth / 2 - width / 2;\n  const top = wTop + window.innerHeight / 2 - height / 2;\n\n  return { top, left };\n}\n\nfunction getPopupSize() {\n  return { width: 1020, height: 618 };\n}\n\nfunction getPopupDimensions() {\n  const { width, height } = getPopupSize();\n  const { top, left } = getPopupOffset({ width, height });\n\n  return `width=${width},height=${height},top=${top},left=${left}`;\n}\n\nexport default {\n  setTitle(title) {\n    document.title = title;\n  },\n  alert(message) {\n    return alert(message); // eslint-disable-line no-alert\n  },\n  confirm(message) {\n    return confirm(message); // eslint-disable-line no-alert,no-restricted-globals\n  },\n  onUnload(cb) {\n    window.addEventListener('beforeunload', cb);\n  },\n  openWindow(url) {\n    window.open(url, '_blank');\n  },\n  getWidth() {\n    return window.innerWidth;\n  },\n  getHeight() {\n    return window.innerHeight;\n  },\n  openPopup(url, name) {\n    const popup = window.open(\n      url,\n      name,\n      `scrollbars=no,toolbar=no,location=no,titlebar=no,directories=no,status=no,menubar=no, ${getPopupDimensions()}`\n    );\n    return {\n      close: () => popup?.close(),\n    };\n  },\n  copyToClipboard: (str: string) => {\n    const el = document.createElement('textarea');\n    el.value = str;\n    el.setAttribute('readonly', '');\n    el.style.position = 'absolute';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand('copy');\n    document.body.removeChild(el);\n  },\n  waitForMessage<T>(type): Promise<T> {\n    return new Promise(resolve => {\n      window.addEventListener('message', function onMessage(event) {\n        if (event.data.type === type) {\n          window.removeEventListener('message', onMessage);\n          resolve(event.data.data);\n        }\n      });\n    });\n  },\n  reload() {\n    location.reload(true);\n  },\n  storage: {\n    get(key: string) {\n      const value = localStorage.getItem(key);\n\n      if (value) {\n        return JSON.parse(value);\n      }\n\n      return null;\n    },\n    set(key: string, value: any) {\n      localStorage.setItem(key, JSON.stringify(value));\n    },\n  },\n  /**\n   * Wait at least MS before resolving the value\n   */\n  waitAtLeast<T>(ms: number, cb: () => Promise<T>): Promise<T> {\n    return new Promise((resolve, reject) => {\n      let resolveValue: T;\n      setTimeout(() => {\n        if (!resolveValue) {\n          return;\n        }\n        resolve(resolveValue);\n      }, ms);\n      const startTime = Date.now();\n      cb()\n        .then(value => {\n          resolveValue = value;\n          if (Date.now() - startTime > ms) {\n            resolve(resolveValue);\n          }\n        })\n        .catch(reject);\n    });\n  },\n};\n","import addListener from '@codesandbox/common/lib/connection-manager';\n\nconst listeners = new Map();\n\nexport default {\n  addListener(listener: (connected: boolean) => void) {\n    const disposer = addListener(listener);\n    listeners.set(listener, disposer);\n  },\n  removeListener(listener: (connected: boolean) => void) {\n    if (listeners.has(listener)) {\n      listeners.get(listener)();\n      listeners.delete(listener);\n    }\n  },\n};\n","import JSZip from 'jszip';\n\nexport default {\n  loadAsync(file) {\n    return JSZip.loadAsync(file);\n  },\n};\n","/**\n * This is a waiting promise that only resolves when the given value is done\n * initializing. It waits.\n */\nexport type Blocker<T> = {\n  promise: Promise<T>;\n  resolve: (value: T) => void;\n  reject: (value: T) => void;\n  isFinished: () => boolean;\n};\n\nexport function blocker<T>(): Blocker<T> {\n  let resolve: (value: any) => void;\n  let reject: (value: any) => void;\n  let isFinished = false;\n\n  const promise = new Promise<T>((success, error) => {\n    resolve = success;\n    reject = error;\n  });\n\n  return {\n    promise,\n    resolve: (payload: T) => {\n      if (isFinished) {\n        return;\n      }\n\n      isFinished = true;\n      resolve(payload);\n    },\n    reject: (payload: any) => {\n      if (isFinished) {\n        return;\n      }\n\n      isFinished = true;\n      reject(payload);\n    },\n    isFinished: () => isFinished,\n  };\n}\n","// translation of https://github.com/djspiewak/cccp/blob/master/agent/src/main/scala/com/codecommit/cccp/agent/state.scala\n/* eslint-disable react/no-access-state-in-setstate */\n\nimport { TextOperation } from 'ot';\n\ninterface IState {\n  name: string;\n  applyClient(client: OTClient, operation: TextOperation): IState;\n  applyServer(client: OTClient, operation: TextOperation): IState;\n  serverAck(client: OTClient): IState;\n  transformSelection<T>(selection: T): T;\n  resend?(client: OTClient): void;\n}\n\n// In the 'Synchronized' state, there is no pending operation that the client\n// has sent to the server.\nclass Synchronized implements IState {\n  name = 'Synchronized';\n\n  applyClient(client: OTClient, operation: TextOperation) {\n    // When the user makes an edit, send the operation to the server and\n    // switch to the 'AwaitingConfirm' state\n    client.sendOperation(client.revision, operation);\n    return new AwaitingConfirm(operation);\n  }\n\n  applyServer(client: OTClient, operation: TextOperation) {\n    // When we receive a new operation from the server, the operation can be\n    // simply applied to the current document\n    client.applyOperation(operation);\n    return this;\n  }\n\n  serverAck(client: OTClient): IState {\n    throw new Error('There is no pending operation.');\n  }\n\n  // Nothing to do because the latest server state and client state are the same.\n  transformSelection(x) {\n    return x;\n  }\n}\n\n// Singleton\nexport const synchronized_ = new Synchronized();\n\n// In the 'AwaitingConfirm' state, there's one operation the client has sent\n// to the server and is still waiting for an acknowledgement.\nclass AwaitingConfirm implements IState {\n  outstanding: TextOperation;\n  name = 'AwaitingConfirm';\n\n  constructor(outstanding: TextOperation) {\n    // Save the pending operation\n    this.outstanding = outstanding;\n  }\n\n  applyClient(client: OTClient, operation: TextOperation) {\n    // When the user makes an edit, don't send the operation immediately,\n    // instead switch to 'AwaitingWithBuffer' state\n    return new AwaitingWithBuffer(this.outstanding, operation);\n  }\n\n  applyServer(client: OTClient, operation: TextOperation) {\n    // This is another client's operation. Visualization:\n    //\n    //                   /\\\n    // this.outstanding /  \\ operation\n    //                 /    \\\n    //                 \\    /\n    //  pair[1]         \\  / pair[0] (new outstanding)\n    //  (can be applied  \\/\n    //  to the client's\n    //  current document)\n    const pair = TextOperation.transform(this.outstanding, operation);\n    client.applyOperation(pair[1]);\n    return new AwaitingConfirm(pair[0]);\n  }\n\n  serverAck(client: OTClient) {\n    // The client's operation has been acknowledged\n    // => switch to synchronized state\n    return synchronized_;\n  }\n\n  transformSelection(selection: any) {\n    return selection.transform(this.outstanding);\n  }\n\n  resend(client: OTClient) {\n    // The confirm didn't come because the client was disconnected.\n    // Now that it has reconnected, we resend the outstanding operation.\n    client.sendOperation(client.revision, this.outstanding);\n  }\n}\n\n// In the 'AwaitingWithBuffer' state, the client is waiting for an operation\n// to be acknowledged by the server while buffering the edits the user makes\nclass AwaitingWithBuffer implements IState {\n  outstanding: TextOperation;\n  buffer: TextOperation;\n\n  name = 'AwaitingWithBuffer';\n\n  constructor(outstanding: TextOperation, buffer: TextOperation) {\n    // Save the pending operation and the user's edits since then\n    this.outstanding = outstanding;\n    this.buffer = buffer;\n  }\n\n  applyClient(client: OTClient, operation: TextOperation) {\n    // Compose the user's changes onto the buffer\n    const newBuffer = this.buffer.compose(operation);\n    return new AwaitingWithBuffer(this.outstanding, newBuffer);\n  }\n\n  applyServer(client: OTClient, operation: TextOperation) {\n    // Operation comes from another client\n    //\n    //                       /\\\n    //     this.outstanding /  \\ operation\n    //                     /    \\\n    //                    /\\    /\n    //       this.buffer /  \\* / pair1[0] (new outstanding)\n    //                  /    \\/\n    //                  \\    /\n    //          pair2[1] \\  / pair2[0] (new buffer)\n    // the transformed    \\/\n    // operation -- can\n    // be applied to the\n    // client's current\n    // document\n    //\n    // * pair1[1]\n    const transform = TextOperation.transform;\n    const pair1 = transform(this.outstanding, operation);\n    const pair2 = transform(this.buffer, pair1[1]);\n    client.applyOperation(pair2[1]);\n    return new AwaitingWithBuffer(pair1[0], pair2[0]);\n  }\n\n  serverAck(client: OTClient) {\n    // The pending operation has been acknowledged\n    // => send buffer\n    client.sendOperation(client.revision, this.buffer);\n    return new AwaitingConfirm(this.buffer);\n  }\n\n  transformSelection(selection: any) {\n    return selection.transform(this.outstanding).transform(this.buffer);\n  }\n\n  resend(client: OTClient) {\n    // The confirm didn't come because the client was disconnected.\n    // Now that it has reconnected, we resend the outstanding operation.\n    client.sendOperation(client.revision, this.outstanding);\n  }\n}\n\nexport abstract class OTClient {\n  revision: number;\n  state: IState;\n\n  constructor(revision: number) {\n    this.revision = revision;\n    this.state = synchronized_;\n  }\n\n  setState(state: IState) {\n    this.state = state;\n  }\n\n  // Call this method when the user changes the document.\n  applyClient(operation: TextOperation) {\n    this.setState(this.state.applyClient(this, operation));\n  }\n\n  // Call this method with a new operation from the server\n  applyServer(operation: TextOperation) {\n    this.revision++;\n    this.setState(this.state.applyServer(this, operation));\n  }\n\n  serverAck() {\n    this.revision++;\n    this.setState(this.state.serverAck(this));\n  }\n\n  serverReconnect() {\n    if (typeof this.state.resend === 'function') {\n      this.state.resend(this);\n    }\n  }\n\n  // Transforms a selection from the latest known server state to the current\n  // client state. For example, if we get from the server the information that\n  // another user's cursor is at position 3, but the server hasn't yet received\n  // our newest operation, an insertion of 5 characters at the beginning of the\n  // document, the correct position of the other user's cursor in our current\n  // document is 8.\n  transformSelection(selection) {\n    return this.state.transformSelection(selection);\n  }\n\n  abstract sendOperation(revision: number, operation: TextOperation): void;\n\n  abstract applyOperation(operation: TextOperation): void;\n}\n","import {\n  captureException,\n  logBreadcrumb,\n} from '@codesandbox/common/lib/utils/analytics/sentry';\nimport { Blocker, blocker } from 'app/utils/blocker';\nimport { TextOperation } from 'ot';\n\nimport { OTClient, synchronized_ } from './ot/client';\n\nexport type SendOperation = (\n  moduleShortid: string,\n  revision: number,\n  operation: TextOperation\n) => Promise<unknown>;\n\nexport type ApplyOperation = (\n  moduleShortid: string,\n  operation: TextOperation\n) => void;\n\nexport class CodeSandboxOTClient extends OTClient {\n  /*\n    We need to be able to wait for a client to go intro synchronized\n    state. The reason is that we want to send a \"save\" event when the\n    client is synchronized\n  */\n  public awaitSynchronized: Blocker<void> | null;\n  moduleShortid: string;\n  onSendOperation: (\n    revision: number,\n    operation: TextOperation\n  ) => Promise<unknown>;\n\n  onApplyOperation: (operation: TextOperation) => void;\n\n  constructor(\n    revision: number,\n    moduleShortid: string,\n    onSendOperation: (\n      revision: number,\n      operation: TextOperation\n    ) => Promise<unknown>,\n    onApplyOperation: (operation: TextOperation) => void\n  ) {\n    super(revision);\n    this.moduleShortid = moduleShortid;\n    this.lastAcknowledgedRevision = revision - 1;\n    this.onSendOperation = onSendOperation;\n    this.onApplyOperation = onApplyOperation;\n  }\n\n  lastAcknowledgedRevision: number = -1;\n  sendOperation(revision: number, operation: TextOperation) {\n    // Whenever we send an operation we enable the blocker\n    // that lets us wait for its resolvment when moving back\n    // to synchronized state\n    if (!this.awaitSynchronized) {\n      this.awaitSynchronized = blocker();\n    }\n\n    return this.onSendOperation(revision, operation)\n      .then(() => {\n        logBreadcrumb({\n          category: 'ot',\n          message: `Acknowledging ${JSON.stringify({\n            moduleShortid: this.moduleShortid,\n            revision,\n            operation,\n          })}`,\n        });\n\n        try {\n          this.safeServerAck(revision);\n        } catch (err) {\n          captureException(\n            new Error(\n              `Server Ack ERROR ${JSON.stringify({\n                moduleShortid: this.moduleShortid,\n                currentRevision: this.revision,\n                currentState: this.state.name,\n                operation,\n              })}`\n            )\n          );\n        }\n      })\n      .catch(error => {\n        // If an operation errors on the server we will reject\n        // the blocker, as an action might be waiting for it to resolve,\n        // creating a user friendly error related to trying to save\n        if (this.awaitSynchronized) {\n          this.awaitSynchronized.reject(error);\n        }\n\n        throw error;\n      });\n  }\n\n  applyOperation(operation: TextOperation) {\n    this.onApplyOperation(operation);\n  }\n\n  resetAwaitSynchronized() {\n    // If we are back in synchronized state we resolve the blocker\n    if (this.state === synchronized_ && this.awaitSynchronized) {\n      const awaitSynchronized = this.awaitSynchronized;\n      this.awaitSynchronized = null;\n      awaitSynchronized.resolve();\n    }\n  }\n\n  safeServerAck(revision: number) {\n    // We make sure to not acknowledge the same revision twice\n    if (this.lastAcknowledgedRevision < revision) {\n      this.lastAcknowledgedRevision = revision;\n      super.serverAck();\n    }\n\n    this.resetAwaitSynchronized();\n  }\n\n  applyClient(operation: TextOperation) {\n    logBreadcrumb({\n      category: 'ot',\n      message: `Apply Client ${JSON.stringify({\n        moduleShortid: this.moduleShortid,\n        currentRevision: this.revision,\n        currentState: this.state.name,\n        operation,\n      })}`,\n    });\n\n    super.applyClient(operation);\n  }\n\n  applyServer(operation: TextOperation) {\n    logBreadcrumb({\n      category: 'ot',\n      message: `Apply Server ${JSON.stringify({\n        moduleShortid: this.moduleShortid,\n        currentRevision: this.revision,\n        currentState: this.state.name,\n        operation,\n      })}`,\n    });\n\n    super.applyServer(operation);\n  }\n\n  serverReconnect() {\n    super.serverReconnect();\n  }\n}\n\nexport class CodesandboxOTClientsManager {\n  private modules = new Map<string, CodeSandboxOTClient>();\n  private sendOperation: SendOperation;\n  private applyOperation: ApplyOperation;\n  constructor(sendOperation: SendOperation, applyOperation: ApplyOperation) {\n    this.sendOperation = sendOperation;\n    this.applyOperation = applyOperation;\n  }\n\n  getAll() {\n    return Array.from(this.modules.values());\n  }\n\n  has(moduleShortid: string) {\n    return this.modules.has(moduleShortid);\n  }\n\n  get(moduleShortid, revision = 0, force = false) {\n    let client = this.modules.get(moduleShortid);\n\n    if (!client || force) {\n      client = this.create(moduleShortid, revision);\n    }\n\n    return client!;\n  }\n\n  create(moduleShortid, initialRevision) {\n    const client = new CodeSandboxOTClient(\n      initialRevision || 0,\n      moduleShortid,\n      (revision, operation) =>\n        this.sendOperation(moduleShortid, revision, operation),\n      operation => {\n        this.applyOperation(moduleShortid, operation);\n      }\n    );\n    this.modules.set(moduleShortid, client);\n\n    return client;\n  }\n\n  reset(moduleShortid, revision) {\n    this.modules.delete(moduleShortid);\n    this.create(moduleShortid, revision);\n  }\n\n  clear() {\n    this.modules.clear();\n  }\n}\n","import {\n  Directory,\n  IModuleStateModule,\n  LiveMessageEvent,\n  Module,\n  RoomInfo,\n  UserSelection,\n  UserViewRange,\n} from '@codesandbox/common/lib/types';\nimport { blocker } from 'app/utils/blocker';\nimport {\n  captureException,\n  logBreadcrumb,\n} from '@codesandbox/common/lib/utils/analytics/sentry';\nimport _debug from '@codesandbox/common/lib/utils/debug';\nimport VERSION from '@codesandbox/common/lib/version';\nimport { camelizeKeys } from 'humps';\nimport { SerializedTextOperation, TextOperation } from 'ot';\nimport { Channel, Presence, Socket } from 'phoenix';\nimport uuid from 'uuid';\n\nimport { OPTIMISTIC_ID_PREFIX } from '../utils';\nimport { CodesandboxOTClientsManager } from './clients';\n\ntype Options = {\n  onApplyOperation(args: {\n    moduleShortid: string;\n    operation: TextOperation;\n  }): void;\n  provideJwtToken(): string;\n  onOperationError(payload: {\n    moduleShortid: string;\n    moduleInfo: IModuleStateModule;\n  }): void;\n};\n\ntype JoinChannelResponse = {\n  liveUserId: string;\n  reconnectToken: string;\n  roomInfo: RoomInfo;\n  moduleState: {\n    [moduleId: string]: IModuleStateModule;\n  };\n};\n\ntype JoinChannelErrorResponse = {\n  reason: 'room not found' | string;\n};\n\ndeclare global {\n  interface Window {\n    socket: any;\n  }\n}\n\nclass Live {\n  private identifier = uuid.v4();\n  private pendingMessages = new Map();\n  private debug = _debug('cs:socket');\n  private channel: Channel | null;\n  private messageIndex = 0;\n  private clientsManager: CodesandboxOTClientsManager;\n  private socket: Socket;\n  private presence: Presence;\n  private provideJwtToken: () => string;\n  private onApplyOperation: (moduleShortid: string, operation: any) => void;\n  private onOperationError: (payload: {\n    moduleShortid: string;\n    moduleInfo: IModuleStateModule;\n  }) => void;\n\n  private liveInitialized = blocker();\n\n  private operationToElixir(ot: (number | string)[]) {\n    return ot.map((op: number | string) => {\n      if (typeof op === 'number') {\n        if (op < 0) {\n          return { d: -op };\n        }\n\n        return op;\n      }\n\n      return { i: op };\n    });\n  }\n\n  private connectionsCount = 0;\n\n  private onSendOperation = async (\n    moduleShortid: string,\n    revision: number,\n    operation: TextOperation\n  ) => {\n    logBreadcrumb({\n      category: 'ot',\n      message: `Sending ${JSON.stringify({\n        moduleShortid,\n        revision,\n        operation,\n      })}`,\n    });\n\n    return this.send('operation', {\n      moduleShortid,\n      operation: this.operationToElixir(operation.toJSON()),\n      revision,\n    }).catch(error => {\n      logBreadcrumb({\n        category: 'ot',\n        message: `ERROR ${JSON.stringify({\n          moduleShortid,\n          revision,\n          operation,\n          message: error.message,\n        })}`,\n      });\n\n      captureException(error);\n      if (error.module_state) {\n        this.onOperationError({\n          moduleInfo: error.module_state[moduleShortid],\n          moduleShortid,\n        });\n      }\n      throw new Error(\n        'The code was out of sync with the server, we had to reset the file'\n      );\n    });\n  };\n\n  initialize(options: Options) {\n    this.provideJwtToken = options.provideJwtToken;\n    this.onOperationError = options.onOperationError;\n    this.onApplyOperation = (moduleShortid, operation) =>\n      options.onApplyOperation({\n        moduleShortid,\n        operation,\n      });\n    this.clientsManager = new CodesandboxOTClientsManager(\n      this.onSendOperation,\n      this.onApplyOperation\n    );\n  }\n\n  getSocket() {\n    return this.socket || this.connect();\n  }\n\n  connect(): Socket {\n    if (!this.socket) {\n      const protocol = process.env.LOCAL_SERVER ? 'ws' : 'wss';\n      this.socket = new Socket(`${protocol}://${location.host}/socket`, {\n        params: {\n          guardian_token: this.provideJwtToken(),\n          client_version: VERSION,\n        },\n      });\n\n      this.socket.connect();\n      window.socket = this.socket;\n      this.debug('Connecting to socket', this.socket);\n    }\n\n    return this.socket;\n  }\n\n  disconnect() {\n    return new Promise((resolve, reject) => {\n      if (!this.channel) {\n        resolve({});\n        return;\n      }\n\n      this.channel\n        .leave()\n        .receive('ok', resp => {\n          if (!this.channel) {\n            return resolve({});\n          }\n\n          this.channel.onMessage = d => d;\n          this.channel = null;\n          this.pendingMessages.clear();\n          this.messageIndex = 0;\n\n          return resolve(resp);\n        })\n        // eslint-disable-next-line prefer-promise-reject-errors\n        .receive('error', resp => reject(resp));\n    });\n  }\n\n  joinChannel(\n    roomId: string,\n    onError: (reason: string) => void\n  ): Promise<JoinChannelResponse> {\n    return new Promise((resolve, reject) => {\n      this.channel = this.getSocket().channel(`live:${roomId}`, { version: 2 });\n      this.channel\n        .join()\n        .receive('ok', resp => {\n          const result = camelizeKeys(resp) as JoinChannelResponse;\n          result.moduleState = resp.module_state; // Don't camelize this!!\n\n          // We rewrite what our reconnect params are by adding the reconnect token.\n          // This token makes sure that you can retain state between reconnects and restarts\n          // from the server\n          // @ts-ignore\n          this.channel.joinPush.payload = () => ({\n            version: 2,\n            reconnect_token: result.reconnectToken,\n          });\n\n          this.presence = new Presence(this.channel!);\n          this.presence.onSync(() => {\n            this.connectionsCount = this.presence.list().length;\n          });\n\n          resolve(result);\n        })\n        .receive('error', (resp: JoinChannelErrorResponse) => {\n          if (resp.reason === 'room not found') {\n            if (this.channel) {\n              this.channel.leave();\n            }\n            onError(resp.reason);\n          }\n          reject(camelizeKeys(resp));\n        });\n    });\n  }\n\n  // TODO: Need to take an action here\n  listen(\n    action: (payload: {\n      event: LiveMessageEvent;\n      _isOwnMessage: boolean;\n      data: object;\n    }) => {}\n  ) {\n    if (!this.channel) {\n      return;\n    }\n\n    this.channel.onMessage = (event: any, data: any) => {\n      const disconnected =\n        (data == null || Object.keys(data).length === 0) &&\n        event === 'phx_error';\n      const alteredEvent = disconnected ? 'connection-loss' : event;\n\n      const _isOwnMessage = Boolean(\n        data && data._messageId && this.pendingMessages.delete(data._messageId)\n      );\n\n      if (event && (event === 'phx_reply' || event.startsWith('chan_reply_'))) {\n        // No action listens to this\n        return data;\n      }\n\n      action({\n        event: alteredEvent,\n        _isOwnMessage,\n        data: data == null ? {} : data,\n      });\n\n      return data;\n    };\n  }\n\n  private send<T>(event, payload: any = {}): Promise<T> {\n    const _messageId = this.identifier + this.messageIndex++;\n    // eslint-disable-next-line\n    payload._messageId = _messageId;\n    this.pendingMessages.set(_messageId, payload);\n\n    return new Promise((resolve, reject) => {\n      if (this.channel) {\n        this.channel\n          .push(event, payload)\n          .receive('ok', resolve)\n          .receive('error', reject);\n      } else {\n        // we might try to send messages even when not on live, just\n        // ignore it\n        resolve();\n      }\n    });\n  }\n\n  awaitModuleSynced(moduleShortid: string) {\n    return Promise.resolve(\n      this.clientsManager.get(moduleShortid).awaitSynchronized?.promise\n    );\n  }\n\n  sendModuleUpdate(module: Module) {\n    return this.send('module:updated', {\n      type: 'module',\n      moduleShortid: module.shortid,\n      module,\n    });\n  }\n\n  sendDirectoryUpdate(directory: Directory) {\n    return this.send('directory:updated', {\n      type: 'directory',\n      directoryShortid: directory.shortid,\n      module: directory,\n    });\n  }\n\n  sendCodeUpdate(moduleShortid: string, operation: TextOperation) {\n    if (!operation) {\n      return;\n    }\n\n    if (operation.ops.length === 1) {\n      const [op] = operation.ops;\n      if (typeof op === 'number' && op >= 0) {\n        // Useless to send a single retain operation, ignore\n        return;\n      }\n    }\n\n    if (moduleShortid.startsWith(OPTIMISTIC_ID_PREFIX)) {\n      // Module is an optimistic module, we will send a full code update\n      // once the module has been created, until then, send nothing!\n      return;\n    }\n\n    try {\n      this.clientsManager.get(moduleShortid).applyClient(operation);\n    } catch (e) {\n      e.name = 'OperationFailure';\n      captureException(e);\n      // Something went wrong, probably a sync mismatch. Request new version\n      this.send('live:module_state', {});\n    }\n  }\n\n  sendExternalResourcesChanged(externalResources: string[]) {\n    return this.send('sandbox:external-resources', {\n      externalResources,\n    });\n  }\n\n  sendUserCurrentModule(moduleShortid: string) {\n    return this.send('user:current-module', {\n      moduleShortid,\n    });\n  }\n\n  sendDirectoryCreated(directory: Directory) {\n    return this.send('directory:created', {\n      type: 'directory',\n      module: directory,\n    });\n  }\n\n  sendDirectoryDeleted(directoryShortid: string) {\n    this.send('directory:deleted', {\n      type: 'directory',\n      directoryShortid,\n    });\n  }\n\n  sendModuleCreated(module: Module) {\n    return this.send('module:created', {\n      type: 'module',\n      moduleShortid: module.shortid,\n      module,\n    });\n  }\n\n  sendModuleDeleted(moduleShortid: string) {\n    return this.send('module:deleted', {\n      type: 'module',\n      moduleShortid,\n    });\n  }\n\n  sendMassCreatedModules(modules: Module[], directories: Directory[]) {\n    return this.send('module:mass-created', {\n      directories,\n      modules,\n    });\n  }\n\n  sendLiveMode(mode: string) {\n    return this.send('live:mode', {\n      mode,\n    });\n  }\n\n  sendEditorAdded(liveUserId: string) {\n    return this.send('live:add-editor', {\n      editor_user_id: liveUserId,\n    });\n  }\n\n  sendEditorRemoved(liveUserId: string) {\n    return this.send('live:remove-editor', {\n      editor_user_id: liveUserId,\n    });\n  }\n\n  sendModuleSaved(module: Module) {\n    return this.send('module:saved', {\n      type: 'module',\n      module,\n      moduleShortid: module.shortid,\n    });\n  }\n\n  sendClosed() {\n    return this.send('live:close', {});\n  }\n\n  sendChat(message: string) {\n    return this.send('chat', {\n      message,\n    });\n  }\n\n  sendChatEnabled(enabled: boolean) {\n    return this.send('live:chat_enabled', { enabled });\n  }\n\n  sendModuleStateSyncRequest() {\n    return this.send('live:module_state', {});\n  }\n\n  sendUserViewRange(\n    moduleShortid: string | null,\n    liveUserId: string,\n    viewRange: UserViewRange\n  ) {\n    if (this.connectionsCount === 1) {\n      return Promise.resolve();\n    }\n\n    return this.send('user:view-range', {\n      liveUserId,\n      moduleShortid,\n      viewRange,\n    });\n  }\n\n  sendUserSelection(\n    moduleShortid: string | null,\n    liveUserId: string,\n    selection: UserSelection\n  ) {\n    if (this.connectionsCount === 1) {\n      return Promise.resolve();\n    }\n\n    return this.send('user:selection', {\n      liveUserId,\n      moduleShortid,\n      selection,\n    });\n  }\n\n  async saveModule(module: Module) {\n    const client = this.clientsManager.get(module.shortid);\n    await client.awaitSynchronized?.promise;\n\n    return this.send<{\n      saved_code: string;\n      updated_at: string;\n      inserted_at: string;\n      version: number;\n    }>('save', {\n      path: module.path,\n      revision: client.revision - 1,\n    });\n  }\n\n  waitForLiveReady() {\n    return this.liveInitialized.promise;\n  }\n\n  markLiveReady() {\n    this.liveInitialized.resolve(undefined);\n  }\n\n  reset() {\n    this.clientsManager.clear();\n    this.liveInitialized.reject(undefined);\n    this.liveInitialized = blocker();\n  }\n\n  resetClient(moduleShortid: string, revision: number) {\n    this.clientsManager.reset(moduleShortid, revision);\n  }\n\n  hasClient(moduleShortid: string) {\n    return this.clientsManager.has(moduleShortid);\n  }\n\n  getClient(moduleShortid: string) {\n    return this.clientsManager.get(moduleShortid);\n  }\n\n  getAllClients() {\n    return this.clientsManager.getAll();\n  }\n\n  applyClient(moduleShortid: string, operation: SerializedTextOperation) {\n    return this.clientsManager\n      .get(moduleShortid)\n      .applyClient(TextOperation.fromJSON(operation));\n  }\n\n  applyServer(moduleShortid: string, operation: SerializedTextOperation) {\n    return this.clientsManager\n      .get(moduleShortid)\n      .applyServer(TextOperation.fromJSON(operation));\n  }\n\n  serverAck(moduleShortid: string) {\n    return this.clientsManager.get(moduleShortid).serverAck();\n  }\n\n  createClient(moduleShortid: string, revision: number) {\n    return this.clientsManager.create(moduleShortid, revision);\n  }\n}\n\nexport default new Live();\n","import { Module } from '@codesandbox/common/lib/types';\n\nconst getKey = (id: string, moduleShortid: string) =>\n  `recover:${id}:${moduleShortid}:code`;\n\nexport type RecoverData = {\n  code: string;\n  version: number;\n  timestamp: number;\n  sandboxId: string;\n};\n\nexport default {\n  save(sandboxId: string, version: number, module: Module) {\n    try {\n      localStorage.setItem(\n        getKey(sandboxId, module.shortid),\n        JSON.stringify({\n          code: module.code,\n          version,\n          timestamp: new Date().getTime(),\n          sandboxId,\n        })\n      );\n    } catch (e) {\n      // Too bad\n    }\n  },\n\n  get(sandboxId: string, moduleShortid: string): RecoverData | null {\n    return JSON.parse(\n      localStorage.getItem(getKey(sandboxId, moduleShortid)) || 'null'\n    );\n  },\n\n  remove(sandboxId: string, module: Module) {\n    try {\n      const recoverData = this.get(sandboxId, module.shortid);\n      if (recoverData && recoverData.code === module.code) {\n        localStorage.removeItem(getKey(sandboxId, module.shortid));\n      }\n    } catch (e) {\n      // Too bad\n    }\n  },\n\n  clearSandbox(sandboxId: string) {\n    try {\n      Object.keys(localStorage)\n        .filter(key => key.startsWith(`recover:${sandboxId}`))\n        .forEach(key => {\n          localStorage.removeItem(key);\n        });\n    } catch (e) {\n      // Too bad\n    }\n  },\n\n  getRecoverList(sandboxId: string, modules: Module[]) {\n    const localKeys = Object.keys(localStorage).filter(key =>\n      key.startsWith(`recover:${sandboxId}`)\n    );\n\n    return modules\n      .filter(m => localKeys.includes(getKey(sandboxId, m.shortid)))\n      .map(module => {\n        const key = getKey(sandboxId, module.shortid);\n\n        try {\n          const recoverData: RecoverData = JSON.parse(\n            localStorage.getItem(key) || 'null'\n          );\n\n          if (recoverData) {\n            return { recoverData, module };\n          }\n        } catch (e) {\n          // Too bad\n        }\n\n        return null;\n      })\n      .filter(Boolean) as Array<{ recoverData: RecoverData; module: Module }>;\n  },\n};\n","import { Channel, Socket } from 'phoenix';\n\ntype Options = {\n  provideSocket: () => Socket;\n};\n\nlet channel: Channel | null = null;\nlet _options: Options | null = null;\n\n/*\n  TODO: Refactor to pass in data instead of using context\n*/\nexport default {\n  initialize(options: Options) {\n    _options = options;\n  },\n  disconnect() {\n    return new Promise((resolve, reject) => {\n      if (!channel) {\n        return;\n      }\n      channel\n        .leave()\n        .receive('ok', resp => {\n          if (!channel) {\n            return;\n          }\n          channel.onMessage = d => d;\n          channel = null;\n\n          resolve(resp);\n        })\n        .receive('error', resp => reject(resp));\n    });\n  },\n  joinChannel(userId: string): Promise<{ unread: number }> {\n    if (!_options) {\n      return Promise.reject();\n    }\n    const socket = _options.provideSocket();\n\n    channel = socket.channel(`notification:${userId}`, {});\n\n    return new Promise((resolve, reject) => {\n      if (!channel) {\n        return;\n      }\n      channel\n        .join()\n        .receive('ok', resp => resolve(resp))\n        .receive('error', resp => reject(resp));\n    });\n  },\n  listen(action: (message: { event: string; data: any }) => void) {\n    if (!channel) {\n      return;\n    }\n\n    channel.onMessage = (event: any, data: any) => {\n      const disconnected = data == null && event === 'phx_error';\n      const alteredEvent = disconnected ? 'connection-loss' : event;\n\n      action({\n        event: alteredEvent,\n        data: data == null ? {} : data,\n      });\n\n      return data;\n    };\n  },\n};\n","import { GitInfo } from '@codesandbox/common/lib/types';\nimport { getSandboxOptions } from '@codesandbox/common/lib/url';\nimport { sandboxUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport history from '../../utils/history';\n\nexport default new (class RouterEffect {\n  replaceSandboxUrl({\n    id,\n    alias,\n    git,\n  }: {\n    id?: string | null;\n    alias?: string | null;\n    git?: GitInfo | null;\n  }) {\n    window.history.replaceState({}, '', sandboxUrl({ id, alias, git }));\n  }\n\n  updateSandboxUrl(\n    {\n      id,\n      alias,\n      git,\n    }: {\n      id?: string | null;\n      alias?: string | null;\n      git?: GitInfo | null;\n    },\n    { openInNewWindow = false }: { openInNewWindow?: boolean } = {}\n  ) {\n    const url = sandboxUrl({\n      id,\n      alias,\n      git,\n    });\n\n    if (openInNewWindow) {\n      window.open(url, '_blank');\n    } else {\n      history.push(url);\n    }\n  }\n\n  redirectToNewSandbox() {\n    history.push('/s/new');\n  }\n\n  redirectToSandboxWizard() {\n    history.replace('/s/');\n  }\n\n  getSandboxOptions() {\n    return getSandboxOptions(decodeURIComponent(document.location.href));\n  }\n\n  getCommentId() {\n    return this.getParameter('comment');\n  }\n\n  createCommentUrl(id: string) {\n    return `${window.location.origin}${window.location.pathname}?comment=${id}`;\n  }\n\n  replace(url: string) {\n    const origin = new URL(url).origin;\n    history.replace(url.replace(origin, ''));\n  }\n\n  getParameter(key: string): string | null {\n    const currentUrl = new URL(location.href);\n    return currentUrl.searchParams.get(key);\n  }\n})();\n","import store from 'store/dist/store.modern';\n\nconst allowedKeys = {\n  autoCompleteEnabled: 'settings.autocomplete',\n  vimMode: 'settings.vimmode',\n  livePreviewEnabled: 'settings.livepreview',\n  instantPreviewEnabled: 'settings.instantpreview',\n  prettifyOnSaveEnabled: 'settings.prettifyonsave',\n  prettierConfig: 'settings.prettierconfig',\n  lintEnabled: 'settings.lintenabled',\n  fontSize: 'settings.fontsize',\n  fontFamily: 'settings.fontfamily',\n  lineHeight: 'settings.lineheight',\n  clearConsoleEnabled: 'settings.clearconsole',\n  codeMirror: 'settings.codemirror',\n  autoDownloadTypes: 'settings.autoDownloadTypes',\n  newPackagerExperiment: 'settings.newPackagerExperiment',\n  zenMode: 'settings.zenMode',\n  keybindings: 'settings.keybindings',\n  enableLigatures: 'settings.enableLigatures',\n  customVSCodeTheme: 'settings.customVSCodeTheme',\n  manualCustomVSCodeTheme: 'settings.manualCustomVSCodeTheme',\n};\n\nexport default {\n  getAll(): { [P in keyof typeof allowedKeys]: any } {\n    return Object.keys(allowedKeys).reduce((result, prop) => {\n      const value = this.get(allowedKeys[prop]);\n\n      if (value !== undefined) {\n        return Object.assign(result, {\n          [prop]: value,\n        });\n      }\n\n      return result;\n    }, {}) as any;\n  },\n  get(key) {\n    try {\n      return store.get(key);\n    } catch (e) {\n      console.error(e);\n      return undefined;\n    }\n  },\n  set(prop, value) {\n    if (!(prop in allowedKeys)) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        \"Not setting key in preferences because it's not in the whitelist\"\n      );\n      return;\n    }\n\n    try {\n      store.set(allowedKeys[prop], value);\n    } catch (e) {\n      console.error(e);\n    }\n  },\n};\n","import store from 'store/dist/store.modern';\n\nexport default {\n  get() {\n    return store.get('sse');\n  },\n  set(sse) {\n    return store.set('sse', sse);\n  },\n  reset() {\n    return store.set('sse', null);\n  },\n};\n","import axios from 'axios';\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  path: axios.patch,\n  delete: axios.delete,\n  put: axios.put,\n  request: axios.request,\n};\n","import track, {\n  identify,\n  logError,\n  setAnonymousId,\n  setUserId,\n  setGroup,\n} from '@codesandbox/common/lib/utils/analytics';\n\nexport default (() => {\n  const trackedEvents = {};\n\n  return {\n    track,\n    trackOnce(event: string, data: any = {}) {\n      if (trackedEvents[event]) {\n        return;\n      }\n      trackedEvents[event] = true;\n      track(event, data);\n    },\n    logError,\n    identify,\n    setAnonymousId,\n    setUserId,\n    setGroup,\n  };\n})();\n","import {\n  notificationState,\n  convertTypeToStatus,\n} from '@codesandbox/common/lib/utils/notifications';\nimport {\n  NotificationMessage,\n  NotificationStatus,\n} from '@codesandbox/notifications/lib/state';\n\nexport default {\n  convertTypeToStatus,\n  add(notification: NotificationMessage) {\n    return notificationState.addNotification(notification);\n  },\n  remove(id: string) {\n    notificationState.removeNotification(id);\n  },\n  error(message: string) {\n    notificationState.addNotification({\n      message,\n      status: NotificationStatus.ERROR,\n    });\n  },\n  success(message: string) {\n    notificationState.addNotification({\n      message,\n      status: NotificationStatus.SUCCESS,\n    });\n  },\n  warning(message: string) {\n    notificationState.addNotification({\n      message,\n      status: NotificationStatus.WARNING,\n    });\n  },\n  notice(message: string) {\n    notificationState.addNotification({\n      message,\n      status: NotificationStatus.NOTICE,\n    });\n  },\n};\n","/* eslint-disable no-console */\n\nimport DEFAULT_PRETTIER_CONFIG from '@codesandbox/common/lib/prettify-default-config';\n\nimport {\n  indexToLineAndColumn,\n  lineAndColumnToIndex,\n} from './monaco-index-converter';\n\nfunction getMode(title: string) {\n  if (/\\.jsx?$/.test(title)) {\n    return 'babylon';\n  }\n\n  if (/\\.tsx?$/.test(title)) {\n    return 'typescript';\n  }\n\n  if (/\\.css$/.test(title)) {\n    return 'css';\n  }\n\n  if (/\\.s[c|a]ss$/.test(title)) {\n    return 'scss';\n  }\n\n  if (/\\.less$/.test(title)) {\n    return 'less';\n  }\n\n  if (/\\.vue$/.test(title)) {\n    return 'vue';\n  }\n\n  if (/\\.gql$/.test(title)) {\n    return 'graphql';\n  }\n\n  if (/\\.html$/.test(title)) {\n    return 'html';\n  }\n\n  if (/\\.md$/.test(title)) {\n    return 'markdown';\n  }\n\n  if (/\\.mdx$/.test(title)) {\n    return 'mdx';\n  }\n\n  if (/\\.json$/.test(title)) {\n    return 'json';\n  }\n\n  if (/\\.component\\.html$/.test(title)) {\n    return 'angular';\n  }\n\n  return null;\n}\n\nexport function canPrettify(title) {\n  return !!getMode(title);\n}\n\nfunction getEditorInfo(prettierConfig) {\n  const newConfig = { ...prettierConfig };\n  const { fluid } = newConfig;\n  delete newConfig.fluid;\n\n  if (fluid && window.CSEditor && window.CSEditor.editor) {\n    try {\n      const layoutInfo = window.CSEditor.editor.getLayoutInfo();\n      newConfig.printWidth = layoutInfo.viewportColumn;\n\n      return newConfig;\n    } catch (e) {\n      // ignore\n    }\n  }\n\n  return newConfig;\n}\n\nfunction getEditorCursorPos(getCode: () => string) {\n  try {\n    if (window.CSEditor && window.CSEditor.editor) {\n      const editorCode = window.CSEditor.editor.getValue(1);\n      const givenCode = getCode();\n\n      if (editorCode === givenCode) {\n        // Same code is open\n        const pos = window.CSEditor.editor.cursor.getPosition();\n\n        const lines = window.CSEditor.editor.getModel().getLinesContent();\n        const index = lineAndColumnToIndex(lines, pos.lineNumber, pos.column);\n\n        return index;\n      }\n\n      return undefined;\n    }\n  } catch (e) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn('Getting cursor pos for prettifying throwed:');\n      console.warn(e);\n    }\n  }\n\n  return undefined;\n}\n\nfunction applyNewCursorOffset(\n  newIndex: number,\n  newCode: string,\n  getCode: () => string\n) {\n  try {\n    if (window.CSEditor && window.CSEditor.editor) {\n      const editorCode = window.CSEditor.editor.getValue(1);\n      const givenCode = getCode();\n\n      if (editorCode === givenCode) {\n        const lines = newCode.split(/\\r?\\n/);\n        const newPos = indexToLineAndColumn(lines, newIndex);\n\n        window.CSEditor.editor.setPosition(newPos);\n      }\n    }\n  } catch (e) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn('Applying cursor pos for prettifying throwed:');\n      console.warn(e);\n    }\n  }\n}\n\nlet worker = null;\n\nexport default function prettify(\n  title,\n  getCode,\n  prettierConfig = DEFAULT_PRETTIER_CONFIG,\n  isCurrentModule = () => false,\n  cancellationToken: {\n    isCancellationRequested: boolean,\n    onCancellationRequested: (cb: Function) => {},\n  }\n) {\n  const mode = getMode(title);\n\n  worker = worker || new Worker('/static/js/prettier/worker-1.16.4.js');\n\n  return new Promise((resolve, reject) => {\n    if (cancellationToken && cancellationToken.isCancellationRequested) {\n      return;\n    }\n    if (!mode) {\n      resolve(getCode());\n      return;\n    }\n\n    const alteredConfig = getEditorInfo(prettierConfig);\n    const cursorPos = isCurrentModule()\n      ? getEditorCursorPos(getCode)\n      : undefined;\n\n    worker.postMessage({\n      text: getCode(),\n      options: {\n        cursorOffset: cursorPos,\n        ...DEFAULT_PRETTIER_CONFIG,\n        ...alteredConfig,\n        parser: mode,\n      },\n    });\n\n    let handler;\n    let timeout;\n    if (!cancellationToken) {\n      timeout = setTimeout(() => {\n        // If worker doesn't respond in time\n        // eslint-disable-next-line prefer-promise-reject-errors\n        reject({ error: 'Prettify timeout' });\n        timeout = null;\n        worker.removeEventListener('message', handler);\n      }, 5000);\n    } else {\n      cancellationToken.onCancellationRequested(() => {\n        worker.removeEventListener('message', handler);\n      });\n    }\n\n    handler = e => {\n      const { result, text, error } = e.data;\n\n      if (text === getCode()) {\n        worker.removeEventListener('message', handler);\n        clearTimeout(timeout);\n        timeout = null;\n\n        if (error) {\n          console.error(error);\n          // eslint-disable-next-line prefer-promise-reject-errors\n          reject({ error });\n        }\n\n        if (result && result.formatted != null) {\n          resolve(result.formatted);\n        }\n\n        // After code is applied\n        if (\n          result &&\n          result.newCursorOffset &&\n          isCurrentModule() &&\n          result.formatted != null\n        ) {\n          const newCursorOffset = result.cursorOffset;\n          requestAnimationFrame(() => {\n            // After model code has changed\n            applyNewCursorOffset(newCursorOffset, result.formatted, getCode);\n          });\n        }\n      }\n    };\n\n    worker.addEventListener('message', handler);\n  });\n}\n","import JSON5 from 'json5';\nimport codeSandboxTheme from '@codesandbox/common/lib/themes/codesandbox.json';\nimport codeSandboxBlackTheme from '@codesandbox/common/lib/themes/codesandbox-black';\nimport { notificationState } from '@codesandbox/common/lib/utils/notifications';\nimport { NotificationStatus } from '@codesandbox/notifications';\n\nexport function initializeThemeCache() {\n  try {\n    if (!localStorage.getItem('vs-global://colorThemeData')) {\n      import('./theme-cache').then(rawTheme => {\n        localStorage.setItem('vs-global://colorThemeData', rawTheme.default);\n      });\n    }\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nexport function initializeExtensionsFolder() {\n  // @ts-ignore\n  const fs = window.BrowserFS.BFSRequire('fs');\n\n  if (!fs.existsSync('/vscode/extensions')) {\n    fs.mkdirSync('/vscode/extensions');\n  }\n}\n\nexport function initializeSettings() {\n  // @ts-ignore\n  const fs = window.BrowserFS.BFSRequire('fs');\n  if (!fs.existsSync('/vscode/settings.json')) {\n    fs.writeFileSync(\n      '/vscode/settings.json',\n      JSON.stringify(\n        {\n          'editor.formatOnSave': true,\n          'editor.fontSize': 15,\n          'editor.fontFamily': \"dm, Menlo, Monaco, 'Courier New', monospace\",\n          'editor.tabSize': 2,\n          'editor.minimap.enabled': false,\n          'workbench.editor.openSideBySideDirection': 'down',\n          'svelte.plugin.typescript.diagnostics.enable': false,\n          'typescript.locale': 'en',\n        },\n        null,\n        2\n      )\n    );\n  }\n\n  try {\n    // We need to do this to prevent duplicate closing tags in live sessions.\n    // https://github.com/codesandbox/codesandbox-client/issues/3398\n    // I haven't found another way to fix this, as the TS extension literally listens\n    // for edits and checks whether an edit ends with '>'. Then it asks the LSP for the changes\n    // and applies them 100ms later. There is no check for cursor or anything else.\n    // This doesn't happen in VSCode Live Share itself, because there they share the LSP between\n    // multiple users. This way the request is not duplicated among multiple users.\n    const settings = JSON5.parse(\n      fs.readFileSync('/vscode/settings.json').toString()\n    );\n\n    let settingsChanged = false;\n    const changeIfNeeded = (field: string, value: unknown) => {\n      if (settings[field] !== value) {\n        settings[field] = value;\n        return true;\n      }\n      return settingsChanged || false;\n    };\n\n    settingsChanged = changeIfNeeded('javascript.autoClosingTags', false);\n    settingsChanged = changeIfNeeded('typescript.autoClosingTags', false);\n    settingsChanged = changeIfNeeded('html.autoClosingTags', false);\n    settingsChanged = changeIfNeeded('typescript.locale', 'en');\n    settingsChanged = changeIfNeeded(\n      'typescript.tsserver.useSeparateSyntaxServer',\n      false\n    );\n\n    if (!settings['workbench.colorTheme']) {\n      // if you have not changed the theme ever,\n      // we set codesandbox black as the theme for you\n\n      settingsChanged = changeIfNeeded(\n        'workbench.colorTheme',\n        'CodeSandbox Black'\n      );\n    }\n\n    if (settingsChanged) {\n      fs.writeFileSync(\n        '/vscode/settings.json',\n        JSON5.stringify(settings, { quote: '\"', space: 2, replacer: null })\n      );\n    }\n  } catch (e) {\n    console.warn(e);\n  }\n}\n\nexport function initializeCodeSandboxTheme() {\n  // @ts-ignore\n  const fs = window.BrowserFS.BFSRequire('fs');\n\n  fs.writeFileSync(\n    '/extensions/ngryman.codesandbox-theme-0.0.1/themes/CodeSandbox-color-theme.json',\n    JSON.stringify(codeSandboxTheme)\n  );\n\n  fs.writeFileSync(\n    '/extensions/codesandbox-black-0.0.1/themes/codesandbox-black.json',\n    JSON.stringify(codeSandboxBlackTheme)\n  );\n}\n\nexport function installCustomTheme(id: string, name: string, theme: string) {\n  const packageJSON = {\n    name: id,\n    displayName: name,\n    description: 'The Custom VSCode Theme',\n    version: '0.4.1',\n    publisher: 'CodeSandbox',\n    license: 'SEE LICENSE IN LICENSE.md',\n    repository: {\n      type: 'git',\n      url: 'https://github.com/sdras/night-owl-vscode-theme',\n    },\n    keywords: [],\n    scripts: {\n      publish: 'vsce publish',\n    },\n    galleryBanner: {\n      color: '#061526',\n      theme: 'dark',\n    },\n    engines: {\n      vscode: '^1.17.0',\n    },\n    categories: ['Themes'],\n    contributes: {\n      themes: [\n        {\n          label: name,\n          uiTheme: 'vs-dark',\n          path: './themes/custom-color-theme.json',\n        },\n      ],\n    },\n  };\n\n  // @ts-ignore\n  const fs = window.BrowserFS.BFSRequire('fs');\n  const extName = `${id}-theme`;\n\n  const folder = `/extensions/${extName}`;\n  const folderExists = fs.existsSync(folder);\n  if (!folderExists) {\n    fs.mkdirSync(folder);\n  }\n  fs.writeFileSync(\n    `/extensions/${extName}/package.json`,\n    JSON.stringify(packageJSON)\n  );\n\n  fs.mkdirSync(`/extensions/${extName}/themes`);\n  fs.writeFileSync(\n    `/extensions/${extName}/themes/custom-color-theme.json`,\n    theme\n  );\n}\n\n/**\n * This auto installs an extension with a custom theme specified in preferences. People can select\n * it as \"Custom Theme\".\n */\nexport function initializeCustomTheme() {\n  const customTheme = localStorage.getItem('settings.manualCustomVSCodeTheme');\n\n  if (customTheme) {\n    try {\n      installCustomTheme('custom', 'Custom Theme', JSON.parse(customTheme));\n    } catch (e) {\n      notificationState.addNotification({\n        title: 'Something went wrong while installing the custom extension',\n        message: e.message,\n        status: NotificationStatus.ERROR,\n        actions: {\n          primary: {\n            label: 'Clear Custom Theme',\n            run: () => {\n              localStorage.removeItem('settings.manualCustomVSCodeTheme');\n            },\n          },\n        },\n      });\n    }\n  }\n}\n\nexport function initializeSnippetDirectory() {\n  const fs = window.BrowserFS.BFSRequire('fs');\n\n  const folder = `/vscode/snippets`;\n  const folderExists = fs.existsSync(folder);\n  if (!folderExists) {\n    fs.mkdirSync(folder);\n  }\n}\n","import { getModulePath } from '@codesandbox/common/lib/sandbox/modules';\nimport { Sandbox } from '@codesandbox/common/lib/types';\nimport { lineAndColumnToIndex } from 'app/overmind/utils/common';\n\nexport function getVSCodePath(sandbox: Sandbox, moduleId: string) {\n  return `/sandbox${getModulePath(\n    sandbox.modules,\n    sandbox.directories,\n    moduleId\n  )}`;\n}\n\nexport function getCurrentModelPath(editor) {\n  const activeEditor = editor.getActiveCodeEditor();\n\n  if (!activeEditor) {\n    return undefined;\n  }\n\n  const model = activeEditor.getModel();\n\n  if (!model) {\n    return undefined;\n  }\n\n  return model.uri.path.replace(/^\\/sandbox/, '');\n}\n\nexport function getCurrentModel(editor) {\n  const activeEditor = editor.getActiveCodeEditor();\n\n  return activeEditor && activeEditor.getModel();\n}\n\nexport function getSelection(lines, selection) {\n  const startSelection = lineAndColumnToIndex(\n    lines,\n    selection.startLineNumber,\n    selection.startColumn\n  );\n  const endSelection = lineAndColumnToIndex(\n    lines,\n    selection.endLineNumber,\n    selection.endColumn\n  );\n\n  return {\n    selection:\n      startSelection === endSelection ? [] : [startSelection, endSelection],\n    cursorPosition: lineAndColumnToIndex(\n      lines,\n      selection.positionLineNumber,\n      selection.positionColumn\n    ),\n  };\n}\n","import { actions, dispatch } from 'codesandbox-api';\nimport debounce from 'lodash-es/debounce';\n// @ts-ignore\n// eslint-disable-next-line\nimport LinterWorker from 'worker-loader?publicPath=/&name=monaco-linter.[hash:8].worker.js!./LinterWorker';\n\nimport { getCurrentModelPath } from './utils';\n\nconst requireAMDModule = paths =>\n  new Promise(resolve => (window as any).require(paths, () => resolve()));\n\nexport class Linter {\n  private worker: LinterWorker;\n  private editor;\n  private monaco;\n  private isDisposed: boolean = false;\n  constructor(editor, monaco) {\n    this.editor = editor;\n    this.monaco = monaco;\n    this.worker = new LinterWorker();\n\n    // This should be disposed?\n    this.worker.addEventListener('message', this.onMessage);\n  }\n\n  dispose(): null {\n    this.worker.removeEventListener('message', this.onMessage);\n    this.worker.terminate();\n    this.isDisposed = true;\n\n    return null;\n  }\n\n  private onMessage = event => {\n    const { markers, version } = event.data;\n    const activeEditor = this.editor.getActiveCodeEditor();\n\n    if (activeEditor && activeEditor.getModel()) {\n      dispatch(\n        actions.correction.clear(getCurrentModelPath(this.editor), 'eslint')\n      );\n\n      if (version === activeEditor.getModel().getVersionId()) {\n        markers.forEach(marker => {\n          dispatch(\n            actions.correction.show(marker.message, {\n              line: marker.startLineNumber,\n              column: marker.startColumn,\n              lineEnd: marker.endLineNumber,\n              columnEnd: marker.endColumn,\n              source: 'eslint',\n              severity: marker.severity === 2 ? 'warning' : 'notice',\n              path: getCurrentModelPath(this.editor),\n            })\n          );\n        });\n      }\n    }\n  };\n\n  lint = debounce(\n    async (code: string, title: string, version: number, template: string) => {\n      if (!title || this.isDisposed) {\n        return;\n      }\n\n      const mode = (await this.getMonacoMode(title)) || '';\n\n      if (\n        ['javascript', 'typescript', 'typescriptreact', 'vue'].includes(mode)\n      ) {\n        this.worker.postMessage({\n          code,\n          title,\n          version,\n          template,\n        });\n      }\n    },\n    100\n  );\n\n  private async getMonacoMode(title: string) {\n    if (title == null) return 'javascript';\n\n    const kind = title.match(/\\.([^.]*)$/);\n\n    if (kind) {\n      if (kind[1] === 'css') return 'css';\n      if (kind[1] === 'scss') return 'scss';\n      if (kind[1] === 'json') return 'json';\n      if (kind[1] === 'html') return 'html';\n      if (kind[1] === 'svelte') return 'html';\n      if (kind[1] === 'vue') {\n        if (\n          this.monaco.languages.getLanguages &&\n          !this.monaco.languages.getLanguages().find(l => l.id === 'vue')\n        ) {\n          await requireAMDModule(['vs/language/vue/monaco.contribution']);\n        }\n        return 'vue';\n      }\n      if (kind[1] === 'less') return 'less';\n      if (kind[1] === 'md') return 'markdown';\n      if (/jsx?$/.test(kind[1])) return 'javascript';\n      if (/tsx?$/.test(kind[1])) return 'typescript';\n    }\n\n    return undefined;\n  }\n}\n","import { resolveModule } from '@codesandbox/common/lib/sandbox/modules';\nimport {\n  EditorSelection,\n  Module,\n  Sandbox,\n  UserSelection,\n} from '@codesandbox/common/lib/types';\nimport { getTextOperation } from '@codesandbox/common/lib/utils/diff';\nimport { hasPermission } from '@codesandbox/common/lib/utils/permission';\nimport { indexToLineAndColumn } from 'app/overmind/utils/common';\nimport { actions, dispatch } from 'codesandbox-api';\nimport { css } from 'glamor';\nimport { TextOperation } from 'ot';\n\nimport { getCurrentModelPath } from './utils';\n\n// @ts-ignore\nconst fadeIn = css.keyframes('fadeIn', {\n  // optional name\n  '0%': { opacity: 0 },\n  '100%': { opacity: 1 },\n});\n\n// @ts-ignore\nconst fadeOut = css.keyframes('fadeOut', {\n  // optional name\n  '0%': { opacity: 1 },\n  '100%': { opacity: 0 },\n});\n\nexport type OnFileChangeData = {\n  moduleShortid: string;\n  title: string;\n  code: string;\n  event: any;\n  model: any;\n};\n\nexport type onSelectionChangeData = UserSelection;\n\nexport type OnOperationAppliedData = {\n  moduleShortid: string;\n  operation: TextOperation;\n  title: string;\n  code: string;\n  model: any;\n};\n\nexport type OnFileChangeCallback = (data: OnFileChangeData) => void;\n\nexport type OnOperationAppliedCallback = (data: OnOperationAppliedData) => void;\n\nexport type ModuleModel = {\n  changeListener: { dispose: Function } | null;\n  currentLine: number;\n  path: string;\n  model: null | any;\n  comments: Array<{ commentId: string; range: [number, number] }>;\n  currentCommentDecorations: string[];\n};\n\nexport class ModelsHandler {\n  public isApplyingOperation: boolean = false;\n  private moduleModels: { [path: string]: ModuleModel } = {};\n  private modelAddedListener: { dispose: Function };\n  private modelRemovedListener: { dispose: Function };\n  private onChangeCallback: OnFileChangeCallback;\n  private onOperationAppliedCallback: OnOperationAppliedCallback;\n  private sandbox: Sandbox;\n  private editorApi;\n  private monaco;\n  private userClassesGenerated = {};\n  private userSelectionDecorations = {};\n  private currentCommentThreadId: string | null = null;\n  constructor(\n    editorApi,\n    monaco,\n    sandbox: Sandbox,\n    onChangeCallback: OnFileChangeCallback,\n    onOperationAppliedCallback: OnOperationAppliedCallback\n  ) {\n    this.editorApi = editorApi;\n    this.monaco = monaco;\n    this.sandbox = sandbox;\n    this.onChangeCallback = onChangeCallback;\n    this.onOperationAppliedCallback = onOperationAppliedCallback;\n    this.listenForChanges();\n  }\n\n  public dispose(): null {\n    this.modelAddedListener.dispose();\n    this.modelRemovedListener.dispose();\n    Object.keys(this.moduleModels).forEach(path => {\n      const changeListener = this.moduleModels[path].changeListener;\n      if (changeListener) {\n        changeListener.dispose();\n      }\n    });\n    this.moduleModels = {};\n\n    return null;\n  }\n\n  public async syncModule(module: Module) {\n    const fileModel = this.editorApi.textFileService\n      .getFileModels()\n      .find(\n        fileModelItem =>\n          fileModelItem.resource.path === '/sandbox' + module.path\n      );\n\n    if (fileModel) {\n      this.isApplyingOperation = true;\n      fileModel.revert();\n      this.isApplyingOperation = false;\n    }\n  }\n\n  private getModuleModelByPath(path: string): ModuleModel | undefined {\n    const fullPath = '/sandbox' + path;\n\n    return this.moduleModels[fullPath];\n  }\n\n  private getOrCreateModuleModelByPath(path: string): ModuleModel {\n    const fullPath = '/sandbox' + path;\n    this.moduleModels[fullPath] = this.getModuleModelByPath(path) || {\n      changeListener: null,\n      model: null,\n      currentLine: 0,\n      path: fullPath,\n      comments: [],\n      currentCommentDecorations: [],\n    };\n\n    return this.moduleModels[fullPath];\n  }\n\n  public updateLineCommentIndication(model: any, lineNumber: number) {\n    const moduleModel = this.moduleModels[model.uri.path];\n\n    moduleModel.currentLine = lineNumber;\n\n    const newDecorationComments = this.createCommentDecorations(\n      moduleModel.comments,\n      model,\n      this.currentCommentThreadId,\n      moduleModel.currentLine\n    );\n    moduleModel.currentCommentDecorations = model.deltaDecorations(\n      moduleModel.currentCommentDecorations,\n      newDecorationComments\n    );\n  }\n\n  public clearComments() {\n    Object.values(this.moduleModels).forEach(moduleModel => {\n      if (!moduleModel.model) {\n        return;\n      }\n      moduleModel.comments = [];\n      moduleModel.currentCommentDecorations = moduleModel.model.deltaDecorations(\n        moduleModel.currentCommentDecorations,\n        []\n      );\n    });\n  }\n\n  public isModuleOpened(module: Module) {\n    const moduleModel = this.getModuleModelByPath(module.path);\n    return Boolean(moduleModel?.model);\n  }\n\n  public changeModule = async (module: Module) => {\n    const moduleModel = this.getOrCreateModuleModelByPath(module.path);\n\n    if (getCurrentModelPath(this.editorApi) !== module.path) {\n      await this.editorApi.openFile(module.path);\n    }\n\n    moduleModel.model = await this.editorApi.textFileService.models\n      .loadOrCreate(this.monaco.Uri.file('/sandbox' + module.path))\n      .then(textFileEditorModel => textFileEditorModel.load())\n      .then(textFileEditorModel => textFileEditorModel.textEditorModel);\n\n    const model = moduleModel.model;\n\n    if (this.sandbox.featureFlags.comments) {\n      const newDecorationComments = this.createCommentDecorations(\n        moduleModel.comments,\n        model,\n        this.currentCommentThreadId,\n        moduleModel.currentLine\n      );\n      moduleModel.currentCommentDecorations = model.deltaDecorations(\n        moduleModel.currentCommentDecorations,\n        newDecorationComments\n      );\n    }\n\n    return moduleModel.model;\n  };\n\n  public async applyComments(\n    commentThreadsByPath: {\n      [path: string]: Array<{\n        commentId: string;\n        range: [number, number];\n      }>;\n    },\n    currentCommentThreadId: string | null\n  ) {\n    // We keep a local reference to the current commentThread id,\n    // because when opening modules we want to highlight any currently\n    // selected comment\n    this.currentCommentThreadId = currentCommentThreadId;\n\n    // Ensure we have the moduleModels\n    Object.keys(commentThreadsByPath).forEach(path => {\n      this.getOrCreateModuleModelByPath(path).comments =\n        commentThreadsByPath[path];\n    });\n\n    // Apply the decorations\n    Object.keys(this.moduleModels).forEach(path => {\n      const moduleModel = this.moduleModels[path];\n      const model = moduleModel.model;\n\n      if (!model) {\n        return;\n      }\n\n      // Clean out any removed comments\n      const currentCommentIds = (\n        commentThreadsByPath[path.replace('/sandbox', '')] || []\n      ).map(comment => comment.commentId);\n      moduleModel.comments = moduleModel.comments.filter(comment =>\n        currentCommentIds.includes(comment.commentId)\n      );\n\n      const existingDecorationComments = moduleModel.currentCommentDecorations;\n      const newDecorationComments = this.createCommentDecorations(\n        moduleModel.comments,\n        model,\n        currentCommentThreadId,\n        moduleModel.currentLine\n      );\n\n      moduleModel.currentCommentDecorations = model.deltaDecorations(\n        existingDecorationComments,\n        newDecorationComments\n      );\n    });\n  }\n\n  public async updateTabsPath(oldPath: string, newPath: string) {\n    const oldModelPath = '/sandbox' + oldPath;\n    const newModelPath = '/sandbox' + newPath;\n\n    return Promise.all(\n      Object.keys(this.moduleModels).map(path => {\n        if (oldModelPath === path && this.moduleModels[path].model) {\n          const model = this.moduleModels[path].model;\n\n          // This runs remove/add automatically\n          return this.editorApi.textFileService.move(\n            model.uri,\n            this.monaco.Uri.file(newModelPath)\n          );\n        }\n\n        return Promise.resolve();\n      })\n    );\n  }\n\n  public async applyOperation(moduleShortid: string, operation: TextOperation) {\n    const module = this.sandbox.modules.find(m => m.shortid === moduleShortid);\n\n    if (!module) {\n      return;\n    }\n\n    const moduleModel = this.getOrCreateModuleModelByPath(module.path);\n\n    const modelEditor = this.editorApi.editorService.editors.find(\n      editor => editor.resource && editor.resource.path === moduleModel.path\n    );\n\n    // We keep a reference to the model on our own. We keep it as a\n    // promise, because there might be multiple operations fired before\n    // the model is actually resolved. This creates a \"natural\" queue\n    if (!moduleModel.model) {\n      if (modelEditor) {\n        moduleModel.model = await modelEditor.textModelReference.then(\n          ref => ref.object.textEditorModel\n        );\n      } else {\n        moduleModel.model = await this.editorApi.textFileService.models\n          .loadOrCreate(this.monaco.Uri.file(moduleModel.path))\n          .then(model => model.textEditorModel);\n      }\n    }\n\n    const model = moduleModel.model;\n\n    this.isApplyingOperation = true;\n    this.applyOperationToModel(operation, false, model);\n    this.isApplyingOperation = false;\n    this.onOperationAppliedCallback({\n      code: model.getValue(),\n      operation,\n      moduleShortid: module.shortid,\n      title: module.title,\n      model,\n    });\n  }\n\n  /**\n   * Sets the code of a model in VSCode. This means that we directly change the in-memory\n   * model and the user will immediately see the code.\n   * @param module The module to apply the changes of\n   * @param triggerChangeEvent Whether we should trigger this event to listeners listening to the model (for eg. live)\n   */\n  public setModuleCode(module: Module, triggerChangeEvent = false) {\n    const moduleModel = this.getModuleModelByPath(module.path);\n    const model = moduleModel?.model;\n\n    if (!model) {\n      return;\n    }\n\n    const oldCode = model.getValue();\n    const changeOperation = getTextOperation(oldCode, module.code);\n    if (!triggerChangeEvent) {\n      this.isApplyingOperation = true;\n    }\n    this.applyOperationToModel(changeOperation, false, model);\n    if (!triggerChangeEvent) {\n      this.isApplyingOperation = false;\n    }\n  }\n\n  public clearUserSelections(userId: string) {\n    const decorations = Object.keys(this.userSelectionDecorations).filter(d =>\n      d.startsWith(userId)\n    );\n    Object.keys(this.moduleModels).forEach(key => {\n      const moduleModel = this.moduleModels[key];\n\n      if (!moduleModel?.model) {\n        return;\n      }\n\n      const model = moduleModel.model;\n\n      decorations.forEach(decorationId => {\n        const userDecorationIdPrefix = this.getSelectionDecorationId(\n          userId,\n          model.id\n        );\n        if (decorationId.startsWith(userDecorationIdPrefix)) {\n          this.userSelectionDecorations[decorationId] = model.deltaDecorations(\n            this.userSelectionDecorations[decorationId] || [],\n            []\n          );\n        }\n      });\n    });\n  }\n\n  private getSelectionDecorationId = (\n    userId: string,\n    modelId: string = '',\n    shortid: string = ''\n  ) => [userId, modelId, shortid].join('|').replace(/\\|\\|$/, '|');\n\n  private cleanUserSelections = (\n    model: any,\n    moduleShortid: string,\n    userSelectionsToKeep: EditorSelection[]\n  ) => {\n    const existingSelectionDecorations = Object.keys(\n      this.userSelectionDecorations\n    ).filter(s => s.endsWith([model.id, moduleShortid].join('|')));\n\n    const newUserSelections = {};\n    for (let i = 0; i < userSelectionsToKeep.length; i++) {\n      newUserSelections[userSelectionsToKeep[i].userId] =\n        userSelectionsToKeep[i];\n    }\n\n    existingSelectionDecorations.forEach(existingDecorationId => {\n      const userId = existingDecorationId.split('|')[0];\n      if (!newUserSelections[userId]) {\n        const decorationId = this.getSelectionDecorationId(\n          userId,\n          model.id,\n          moduleShortid\n        );\n        this.userSelectionDecorations[decorationId] = model.deltaDecorations(\n          this.userSelectionDecorations[decorationId] || [],\n          []\n        );\n      }\n    });\n  };\n\n  nameTagTimeouts: { [name: string]: number } = {};\n\n  public updateUserSelections(\n    module: Module,\n    userSelections: EditorSelection[],\n    showNameTag = true\n  ) {\n    const moduleModel = this.getModuleModelByPath(module.path);\n\n    if (!moduleModel?.model) {\n      return;\n    }\n\n    const model = moduleModel.model;\n    const lines = model.getLinesContent() || [];\n\n    this.cleanUserSelections(model, module.shortid, userSelections);\n\n    userSelections.forEach((data: EditorSelection) => {\n      const { userId } = data;\n\n      const decorationId = this.getSelectionDecorationId(\n        userId,\n        model.id,\n        module.shortid\n      );\n      if (data.selection === null) {\n        this.userSelectionDecorations[decorationId] = model.deltaDecorations(\n          this.userSelectionDecorations[decorationId] || [],\n          []\n        );\n\n        return;\n      }\n\n      const decorations: Array<{\n        range: any;\n        options: {\n          className: string;\n        };\n      }> = [];\n      const { selection, color, name } = data;\n\n      const getCursorDecoration = (position, className) => {\n        const cursorPos = indexToLineAndColumn(lines, position);\n\n        return {\n          range: new this.monaco.Range(\n            cursorPos.lineNumber,\n            cursorPos.column,\n            cursorPos.lineNumber,\n            cursorPos.column\n          ),\n          options: {\n            className: `${this.userClassesGenerated[className]}`,\n          },\n        };\n      };\n\n      const getSelectionDecoration = (start, end, className) => {\n        const from = indexToLineAndColumn(lines, start);\n        const to = indexToLineAndColumn(lines, end);\n\n        return {\n          range: new this.monaco.Range(\n            from.lineNumber,\n            from.column,\n            to.lineNumber,\n            to.column\n          ),\n          options: {\n            className: this.userClassesGenerated[className],\n            stickiness: 3, // GrowsOnlyWhenTypingAfter\n          },\n        };\n      };\n      const prefix = color.join('-') + userId;\n      const cursorClassName = prefix + '-cursor';\n      const nameTagClassName = prefix + '-nametag';\n      const secondaryCursorClassName = prefix + '-secondary-cursor';\n      const selectionClassName = prefix + '-selection';\n      const secondarySelectionClassName = prefix + '-secondary-selection';\n\n      if (selection && color) {\n        const nameStyles = {\n          content: name,\n          position: 'absolute',\n          bottom: '100%',\n          backgroundColor: `rgb(${color[0]}, ${color[1]}, ${color[2]})`,\n          zIndex: 200,\n          color:\n            (color[0] * 299 + color[1] * 587 + color[2] * 114) / 1000 > 128\n              ? 'rgba(0, 0, 0, 0.8)'\n              : 'white',\n          padding: '0 4px',\n          borderRadius: 2,\n          borderBottomLeftRadius: 0,\n          fontSize: '.75rem',\n          fontWeight: 600,\n          userSelect: 'none',\n          pointerEvents: 'none',\n          width: 'max-content',\n          fontFamily: 'dm, Menlo, monospace',\n        };\n        if (!this.userClassesGenerated[cursorClassName]) {\n          this.userClassesGenerated[cursorClassName] = `${css({\n            display: 'inherit',\n            position: 'absolute',\n            backgroundColor: `rgba(${color[0]}, ${color[1]}, ${color[2]}, 0.8)`,\n            width: '2px !important',\n            height: '100%',\n            cursor: 'text',\n            zIndex: 200,\n            ':hover': {\n              ':before': {\n                animation: `${fadeIn} 0.3s`,\n                animationFillMode: 'forwards',\n                opacity: 0,\n                ...nameStyles,\n              },\n            },\n          })}`;\n        }\n\n        if (!this.userClassesGenerated[nameTagClassName]) {\n          this.userClassesGenerated[nameTagClassName] = `${css({\n            ':before': {\n              animation: `${fadeOut} 0.3s`,\n              animationDelay: '1s',\n              animationFillMode: 'forwards',\n              opacity: 1,\n              ...nameStyles,\n            },\n          })}`;\n        }\n\n        if (!this.userClassesGenerated[secondaryCursorClassName]) {\n          this.userClassesGenerated[secondaryCursorClassName] = `${css({\n            backgroundColor: `rgba(${color[0]}, ${color[1]}, ${color[2]}, 0.6)`,\n            width: '2px !important',\n          })}`;\n        }\n\n        if (!this.userClassesGenerated[selectionClassName]) {\n          this.userClassesGenerated[selectionClassName] = `${css({\n            backgroundColor: `rgba(${color[0]}, ${color[1]}, ${color[2]}, 0.3)`,\n            borderRadius: '3px',\n            minWidth: 7.6,\n          })}`;\n        }\n\n        if (!this.userClassesGenerated[secondarySelectionClassName]) {\n          this.userClassesGenerated[secondarySelectionClassName] = `${css({\n            backgroundColor: `rgba(${color[0]}, ${color[1]}, ${color[2]}, 0.2)`,\n            borderRadius: '3px',\n            minWidth: 7.6,\n          })}`;\n        }\n\n        decorations.push(\n          getCursorDecoration(selection.primary.cursorPosition, cursorClassName)\n        );\n\n        if (selection.primary.selection.length) {\n          decorations.push(\n            getSelectionDecoration(\n              // @ts-ignore\n              selection.primary.selection[0],\n              // @ts-ignore\n              selection.primary.selection[1],\n              selectionClassName\n            )\n          );\n        }\n\n        if (selection.secondary.length) {\n          selection.secondary.forEach(s => {\n            decorations.push(\n              getCursorDecoration(s.cursorPosition, secondaryCursorClassName)\n            );\n\n            if (s.selection.length) {\n              decorations.push(\n                getSelectionDecoration(\n                  s.selection[0],\n                  s.selection[1],\n                  secondarySelectionClassName\n                )\n              );\n            }\n          });\n        }\n      }\n\n      this.userSelectionDecorations[decorationId] = model.deltaDecorations(\n        this.userSelectionDecorations[decorationId] || [],\n        decorations\n      );\n\n      if (this.nameTagTimeouts[decorationId]) {\n        clearTimeout(this.nameTagTimeouts[decorationId]);\n      }\n      // We don't want to show the nametag when the cursor changed, because\n      // another user changed the code on top of it. Otherwise it would get\n      // messy very fast.\n      if (showNameTag && selection.source !== 'modelChange') {\n        const decoration = model.deltaDecorations(\n          [],\n          [\n            getCursorDecoration(\n              selection.primary.cursorPosition,\n              nameTagClassName\n            ),\n          ]\n        );\n        this.userSelectionDecorations[decorationId].push(decoration);\n        this.nameTagTimeouts[decorationId] = window.setTimeout(() => {\n          if (!model.isDisposed()) {\n            // And now hide the nametag after 1.5s\n            model.deltaDecorations([decoration], []);\n          }\n        }, 1500);\n      }\n    });\n  }\n\n  private applyOperationToModel(\n    operation: TextOperation,\n    pushStack = false,\n    model = this.editorApi.getActiveCodeEditor().getModel()\n  ) {\n    const results: Array<{\n      range: unknown;\n      text: string;\n      forceMoveMarkers?: boolean;\n    }> = [];\n    let index = 0;\n    const currentEOLLength = model.getEOL().length;\n    let eolChanged = false;\n    const modelCode = model.getValue();\n\n    if (operation.baseLength !== modelCode.length) {\n      throw new Error(\n        \"The base length of the operation doesn't match the length of the code\"\n      );\n    }\n\n    for (let i = 0; i < operation.ops.length; i++) {\n      const op = operation.ops[i];\n      if (TextOperation.isRetain(op)) {\n        index += op as number;\n      } else if (TextOperation.isInsert(op)) {\n        const textOp = op as string;\n        const { lineNumber, column } = indexToLineAndColumn(\n          model.getValue().split(/\\n/) || [],\n          index\n        );\n        const range = new this.monaco.Range(\n          lineNumber,\n          column,\n          lineNumber,\n          column\n        );\n\n        // if there's a new line\n        if (/\\n/.test(textOp)) {\n          const eol = /\\r\\n/.test(textOp) ? 2 : 1;\n          if (eol !== currentEOLLength) {\n            // With this insert the EOL of the document changed on the other side. We need\n            // to accomodate our EOL to it.\n            eolChanged = true;\n          }\n        }\n\n        results.push({\n          range,\n          text: textOp,\n          forceMoveMarkers: true,\n        });\n      } else if (TextOperation.isDelete(op)) {\n        const delOp = op as number;\n        const lines = model.getValue().split(/\\n/) || [];\n        const from = indexToLineAndColumn(lines, index);\n        const to = indexToLineAndColumn(lines, index - delOp);\n        results.push({\n          range: new this.monaco.Range(\n            from.lineNumber,\n            from.column,\n            to.lineNumber,\n            to.column\n          ),\n          text: '',\n        });\n        index -= delOp;\n      }\n    }\n\n    if (eolChanged) {\n      const newEolMode = currentEOLLength === 2 ? 0 : 1;\n      model.setEOL(newEolMode);\n    }\n\n    if (pushStack) {\n      model.pushEditOperations([], results);\n    } else {\n      model.applyEdits(results);\n    }\n  }\n\n  private listenForChanges() {\n    this.modelAddedListener = this.editorApi.textFileService.modelService.onModelAdded(\n      model => {\n        try {\n          const module = resolveModule(\n            model.uri.path.replace(/^\\/sandbox/, ''),\n            this.sandbox.modules,\n            this.sandbox.directories\n          );\n\n          const moduleModel = this.getOrCreateModuleModelByPath(module.path);\n\n          moduleModel.model = model;\n          moduleModel.changeListener = this.getModelContentChangeListener(\n            this.sandbox,\n            model\n          );\n        } catch (e) {\n          // File does not exist anymore for some reason\n        }\n      }\n    );\n\n    this.modelRemovedListener = this.editorApi.textFileService.modelService.onModelRemoved(\n      model => {\n        if (this.moduleModels[model.uri.path]) {\n          const changeListener = this.moduleModels[model.uri.path]\n            .changeListener;\n          if (changeListener) {\n            changeListener.dispose();\n          }\n\n          const csbPath = model.uri.path.replace('/sandbox', '');\n          dispatch(actions.correction.clear(csbPath, 'eslint'));\n\n          // We only delete the model, because the state contains things\n          // like comments, which we want to keep\n          delete this.moduleModels[model.uri.path].model;\n        }\n      }\n    );\n  }\n\n  private getModelContentChangeListener(sandbox: Sandbox, model) {\n    return model.onDidChangeContent(e => {\n      if (this.isApplyingOperation) {\n        return;\n      }\n\n      const { path } = model.uri;\n      try {\n        const module = resolveModule(\n          path.replace(/^\\/sandbox/, ''),\n          sandbox.modules,\n          sandbox.directories\n        );\n\n        this.onChangeCallback({\n          moduleShortid: module.shortid,\n          title: module.title,\n          code: model.getValue(),\n          event: e,\n          model,\n        });\n      } catch (err) {\n        // This can throw when a file is deleted and you add new code to it. When\n        // saving it a new file is created\n      }\n    });\n  }\n\n  private createCommentDecorations(\n    commentThreadDecorations: Array<{\n      commentId: string;\n      range: [number, number];\n    }>,\n    model: any,\n    currentCommentThreadId: string | null,\n    currentLineNumber: number\n  ) {\n    if (\n      !hasPermission(this.sandbox.authorization, 'comment') ||\n      !this.sandbox.featureFlags.comments\n    ) {\n      return [];\n    }\n    const commentDecorationsByLineNumber = commentThreadDecorations.reduce<{\n      [lineNumber: string]: Array<{\n        commentId: string;\n        range: [number, number];\n      }>;\n    }>((aggr, commentDecoration) => {\n      const { lineNumber } = indexToLineAndColumn(\n        model.getLinesContent() || [],\n        commentDecoration.range[0]\n      );\n\n      if (!aggr[lineNumber]) {\n        aggr[lineNumber] = [];\n      }\n\n      aggr[lineNumber].push(commentDecoration);\n\n      return aggr;\n    }, {});\n\n    const initialDecorations: any[] =\n      currentLineNumber === -1 ||\n      currentLineNumber in commentDecorationsByLineNumber\n        ? []\n        : [\n            {\n              range: new this.monaco.Range(\n                currentLineNumber,\n                1,\n                currentLineNumber,\n                1\n              ),\n              options: {\n                isWholeLine: true,\n                glyphMarginClassName: `editor-comments-glyph editor-comments-multi editor-comments-add`,\n              },\n            },\n          ];\n\n    return Object.keys(commentDecorationsByLineNumber).reduce(\n      (aggr, lineNumberKey) => {\n        const lineCommentDecorations =\n          commentDecorationsByLineNumber[lineNumberKey];\n        const lineNumber = Number(lineNumberKey);\n        const activeCommentDecoration = lineCommentDecorations.find(\n          commentDecoration =>\n            commentDecoration.commentId === currentCommentThreadId\n        );\n        const ids = lineCommentDecorations.map(\n          commentDecoration => commentDecoration.commentId\n        );\n        const commentRange = activeCommentDecoration\n          ? [\n              indexToLineAndColumn(\n                model.getLinesContent() || [],\n                activeCommentDecoration.range[0]\n              ),\n              indexToLineAndColumn(\n                model.getLinesContent() || [],\n                activeCommentDecoration.range[1]\n              ),\n            ]\n          : null;\n\n        return aggr.concat(\n          {\n            range: new this.monaco.Range(lineNumber, 1, lineNumber, 1),\n            options: {\n              // comment-id- class needs to be the LAST class!\n              glyphMarginClassName: `editor-comments-glyph ${\n                activeCommentDecoration ? 'editor-comments-active ' : ''\n              }${\n                ids.length > 1\n                  ? `editor-comments-multi editor-comments-multi-${ids.length} `\n                  : ''\n              }editor-comments-ids-${ids.join('_')}`,\n            },\n          },\n          commentRange\n            ? {\n                range: new this.monaco.Range(\n                  commentRange[0].lineNumber,\n                  commentRange[0].column,\n                  commentRange[1].lineNumber,\n                  commentRange[1].column\n                ),\n                options: {\n                  isWholeLine:\n                    commentRange[0].lineNumber === commentRange[1].lineNumber &&\n                    commentRange[0].column === commentRange[1].column,\n                  className: activeCommentDecoration\n                    ? 'editor-comments-highlight'\n                    : undefined,\n                },\n              }\n            : []\n        );\n      },\n      initialDecorations\n    );\n  }\n}\n","/**\n * We set savedCode to null if it's the same as code for memory/bandwidth reasons,\n * this function returns the savedCode based on the two values.\n */\nexport const getSavedCode = (\n  code: string | undefined,\n  savedCode: string | undefined | null\n) => {\n  if (savedCode === null) {\n    return code || '';\n  }\n\n  return savedCode || '';\n};\n","import browserFs from 'fs';\nimport { dirname, join } from 'path';\n\nimport {\n  getDirectoryPath,\n  getModulePath,\n} from '@codesandbox/common/lib/sandbox/modules';\nimport {\n  Directory,\n  Module,\n  Sandbox,\n  SandboxFs,\n} from '@codesandbox/common/lib/types';\nimport { getGlobal } from '@codesandbox/common/lib/utils/global';\nimport delay from '@codesandbox/common/lib/utils/delay';\nimport { protocolAndHost } from '@codesandbox/common/lib/utils/url-generator';\nimport { getSavedCode } from 'app/overmind/utils/sandbox';\nimport { json } from 'overmind';\n\nimport { WAIT_INITIAL_TYPINGS_MS } from '../constants';\nimport { appendFile, mkdir, rename, rmdir, unlink, writeFile } from './utils';\n\nconst global = getGlobal() as Window & { BrowserFS: any };\n\nconst SERVICE_URL = 'https://ata.codesandbox.io/api/v8';\nconst BUCKET_URL = 'https://prod-packager-packages.codesandbox.io/v1/typings';\n\nasync function callApi(url: string, method = 'GET') {\n  const response = await fetch(url, {\n    method,\n  });\n\n  if (!response.ok) {\n    const error = new Error(response.statusText || '' + response.status);\n    const message = await response.json();\n    // @ts-ignore\n    error.response = message;\n    // @ts-ignore\n    error.statusCode = response.status;\n    throw error;\n  }\n\n  return response.json();\n}\n\nasync function requestPackager(url: string, retryCount = 0, method = 'GET') {\n  let retries = 0;\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    try {\n      const manifest = await callApi(url, method); // eslint-disable-line no-await-in-loop\n\n      return manifest;\n    } catch (e) {\n      if (e.response && e.statusCode !== 504) {\n        throw new Error(e.response.error);\n      }\n      // 403 status code means the bundler is still bundling\n      if (retries < retryCount) {\n        retries += 1;\n        await delay(1000 * 2); // eslint-disable-line no-await-in-loop\n      } else {\n        throw e;\n      }\n    }\n  }\n}\n\ndeclare global {\n  interface Window {\n    BrowserFS: any;\n  }\n}\n\ntype SandboxFsSyncOptions = {\n  getSandboxFs: () => SandboxFs;\n};\n\nclass SandboxFsSync {\n  private options: SandboxFsSyncOptions;\n  private types: {\n    [packageName: string]: {\n      [typeName: string]: string;\n    };\n  } = {};\n\n  private deps: { [path: string]: string } = {};\n\n  private workerIds: string[] = [];\n\n  private isDisposed = false;\n  private typesInfo: Promise<any>;\n  constructor(options: SandboxFsSyncOptions) {\n    this.options = options;\n    self.addEventListener('message', this.onWorkerMessage);\n  }\n\n  public sync(cb: () => void) {\n    this.send('reset', {});\n    this.syncDependencyTypings();\n    setTimeout(() => {\n      if (!this.isDisposed) {\n        cb();\n      }\n    }, WAIT_INITIAL_TYPINGS_MS);\n  }\n\n  public getTypes() {\n    return Object.keys(this.types).reduce(\n      (aggr, key) => Object.assign(aggr, this.types[key]),\n      {}\n    );\n  }\n\n  public dispose() {\n    this.isDisposed = true;\n    self.removeEventListener('message', this.onWorkerMessage);\n    this.clearSandboxFiles();\n  }\n\n  public create(sandbox: Sandbox): SandboxFs {\n    const sandboxFs = {};\n\n    sandbox.directories.forEach(d => {\n      const path = getDirectoryPath(sandbox.modules, sandbox.directories, d.id);\n\n      d.path = path;\n      // If this is a single directory with no children\n      if (!Object.keys(sandboxFs).some(p => dirname(p) === path)) {\n        sandboxFs[path] = { ...d, type: 'directory' };\n      }\n\n      browserFs.mkdir(join('/sandbox', path), () => {});\n    });\n\n    sandbox.modules.forEach(m => {\n      const path = getModulePath(sandbox.modules, sandbox.directories, m.id);\n      if (path) {\n        m.path = path;\n        sandboxFs[path] = {\n          ...m,\n          type: 'file',\n        };\n\n        browserFs.writeFile(join('/sandbox', path), m.code, () => {});\n      }\n    });\n\n    return sandboxFs;\n  }\n\n  public appendFile(fs: SandboxFs, module: Module) {\n    const copy = json(module);\n\n    appendFile(fs, copy);\n    this.send('append-file', copy);\n\n    const savedCode = getSavedCode(module.code, module.savedCode);\n    browserFs.appendFile(join('/sandbox', module.path!), savedCode, () => {});\n  }\n\n  public writeFile(fs: SandboxFs, module: Module) {\n    const copy = json(module);\n\n    writeFile(fs, copy);\n    this.send('write-file', copy);\n\n    const savedCode = getSavedCode(module.code, module.savedCode);\n    browserFs.writeFile(join('/sandbox', module.path!), savedCode, () => {});\n\n    if (module.title === 'package.json') {\n      this.syncDependencyTypings();\n    }\n  }\n\n  public rename(fs: SandboxFs, fromPath: string, toPath: string) {\n    rename(fs, fromPath, toPath);\n    this.send('rename', {\n      fromPath,\n      toPath,\n    });\n    browserFs.rename(\n      join('/sandbox', fromPath),\n      join('/sandbox', toPath),\n      () => {}\n    );\n  }\n\n  public rmdir(fs: SandboxFs, directory: Directory) {\n    const copy = json(directory);\n\n    rmdir(fs, copy);\n    this.send('rmdir', copy);\n    browserFs.rmdir(join('/sandbox', directory.path!), () => {});\n  }\n\n  public unlink(fs: SandboxFs, module: Module) {\n    const copy = json(module);\n\n    unlink(fs, copy);\n    this.send('unlink', copy);\n    browserFs.unlink(join('/sandbox', module.path!), () => {});\n  }\n\n  public mkdir(fs: SandboxFs, directory: Directory) {\n    const copy = json(directory);\n\n    mkdir(fs, copy);\n    this.send('mkdir', copy);\n    browserFs.mkdir(join('/sandbox', directory.path!), () => {});\n  }\n\n  private onWorkerMessage = evt => {\n    if (evt.data.$fs_id && !this.workerIds.includes(evt.data.$fs_id)) {\n      this.workerIds.push(evt.data.$fs_id);\n    }\n\n    if (evt.data.$type === 'sync-sandbox') {\n      this.syncSandbox(this.options.getSandboxFs(), evt.data.$fs_id);\n    }\n\n    if (evt.data.$type === 'sync-types') {\n      this.send('types-sync', this.getTypes(), evt.data.$fs_id);\n    }\n  };\n\n  // We sync the FS whenever we create a new one, which happens in different\n  // scenarios. If a worker is requesting a sync we grab the existing FS from\n  // the state\n  private syncSandbox(sandboxFs, id?) {\n    this.send('sandbox-fs', json(sandboxFs), id);\n  }\n\n  private send(type: string, data: any, id?: string) {\n    global.postMessage(\n      {\n        $broadcast: true,\n        $fs_ids: typeof id === 'undefined' ? this.workerIds : [id],\n        $type: type,\n        $data: data,\n      },\n      protocolAndHost()\n    );\n  }\n\n  // We pass in either existing or new syncId. This allows us to evaluate\n  // if we are just going to pass existing types or start up a new round\n  // to fetch types\n  private async syncDependencyTypings(fsId?) {\n    try {\n      this.typesInfo = await this.getTypesInfo();\n      const syncDetails = await this.getDependencyTypingsSyncDetails();\n\n      if (syncDetails) {\n        const newDeps = syncDetails.dependencies;\n        const { added, removed } = this.getDepsChanges(newDeps);\n\n        this.deps = newDeps;\n\n        added.forEach(dep => {\n          this.fetchDependencyTyping(dep, syncDetails.autoInstall);\n        });\n\n        if (removed.length) {\n          const removedTypings = {};\n\n          // We go through removed deps to figure out what typings packages\n          // has been removed, then delete the from our types as well\n          removed.forEach(removedDep => {\n            const typings = this.types[removedDep.name] || {};\n\n            Object.assign(removedTypings, typings);\n\n            delete this.types[removedDep.name];\n          });\n\n          this.send('types-remove', removedTypings, fsId);\n        }\n      }\n    } catch (error) {\n      // eslint-disable-next-line\n      console.error(error);\n    }\n  }\n\n  private getDepsChanges(newDeps) {\n    const added: Array<{ name: string; version: string }> = [];\n    const removed: Array<{ name: string; version: string }> = [];\n    const newDepsKeys = Object.keys(newDeps);\n    const currentDepsKeys = Object.keys(this.deps);\n\n    if (currentDepsKeys.length === 0) {\n      added.push({\n        name: '@types/jest',\n        version: 'latest',\n      });\n    }\n\n    newDepsKeys.forEach(newDepKey => {\n      if (\n        !this.deps[newDepKey] ||\n        this.deps[newDepKey] !== newDeps[newDepKey]\n      ) {\n        added.push({\n          name: newDepKey,\n          version: newDeps[newDepKey],\n        });\n      }\n    });\n\n    currentDepsKeys.forEach(currentDepKey => {\n      if (currentDepKey !== '@types/jest' && !newDeps[currentDepKey]) {\n        removed.push({\n          name: currentDepKey,\n          version: this.deps[currentDepKey],\n        });\n      }\n    });\n\n    return { added, removed };\n  }\n\n  private async getDependencyTypingsSyncDetails(): Promise<{\n    dependencies: { [name: string]: string };\n    autoInstall: boolean;\n  } | null> {\n    return new Promise((resolve, reject) => {\n      try {\n        browserFs.stat('/sandbox/package.json', (packageJsonError, stat) => {\n          if (packageJsonError) {\n            resolve(null);\n            return;\n          }\n\n          browserFs.readFile(\n            '/sandbox/package.json',\n            async (packageJsonReadError, rv) => {\n              if (packageJsonReadError) {\n                resolve(null);\n                return;\n              }\n\n              browserFs.stat(\n                '/sandbox/tsconfig.json',\n                (tsConfigError, result) => {\n                  // If tsconfig exists we want to sync the typesp\n                  try {\n                    const packageJson = JSON.parse(rv.toString());\n                    resolve({\n                      dependencies: {\n                        ...packageJson.dependencies,\n                        ...packageJson.devDependencies,\n                      },\n                      autoInstall: Boolean(tsConfigError) || !result,\n                    });\n                  } catch (error) {\n                    reject(new Error('TYPINGS: Could not parse package.json'));\n                  }\n                }\n              );\n            }\n          );\n        });\n      } catch (e) {\n        resolve(null);\n        // Do nothing\n      }\n    });\n  }\n\n  /**\n   * Gets all entries of dependencies -> @types/ version\n   */\n  private getTypesInfo() {\n    if (this.typesInfo) {\n      return this.typesInfo;\n    }\n\n    this.typesInfo = fetch('https://unpkg.com/types-registry@latest/index.json')\n      .then(x => x.json())\n      .then(x => x.entries);\n\n    return this.typesInfo;\n  }\n\n  // We send new packages to all registered workers\n  private setAndSendPackageTypes(\n    name: string,\n    types: { [name: string]: string }\n  ) {\n    if (!this.isDisposed) {\n      if (!this.types[name]) {\n        this.types[name] = {};\n      }\n\n      Object.assign(this.types[name], types);\n      this.send('package-types-sync', types);\n    }\n  }\n\n  private async fetchDependencyTyping(\n    dep: { name: string; version: string },\n    autoInstallTypes: boolean\n  ) {\n    try {\n      if (\n        autoInstallTypes &&\n        this.typesInfo[dep.name] &&\n        !dep.name.startsWith('@types/')\n      ) {\n        const name = `@types/${dep.name}`;\n        this.fetchDependencyTypingFiles(name, this.typesInfo[dep.name].latest)\n          .then(files => {\n            this.setAndSendPackageTypes(dep.name, files);\n          })\n          .catch(e => {\n            if (process.env.NODE_ENV === 'development') {\n              console.warn('Trouble fetching types for ' + name);\n            }\n          });\n      }\n\n      try {\n        const files = await this.fetchDependencyTypingFiles(\n          dep.name,\n          dep.version\n        );\n\n        this.setAndSendPackageTypes(dep.name, files);\n      } catch (e) {\n        if (process.env.NODE_ENV === 'development') {\n          console.warn('Trouble fetching types for ' + dep.name);\n        }\n      }\n    } catch (e) {\n      /* ignore */\n    }\n  }\n\n  private async fetchDependencyTypingFiles(name: string, version: string) {\n    const dependencyQuery = encodeURIComponent(`${name}@${version}`);\n\n    try {\n      const url = `${BUCKET_URL}/${name}/${version}.json`;\n      return await requestPackager(url, 0).then(x => x.files);\n    } catch (e) {\n      // Hasn't been generated\n    }\n\n    const { files } = await requestPackager(\n      `${SERVICE_URL}/${dependencyQuery}.json`,\n      3\n    );\n\n    return files;\n  }\n\n  private clearSandboxFiles(dir = '/sandbox') {\n    if (dir === '/sandbox/node_modules') {\n      return;\n    }\n\n    const kids = browserFs.readdirSync(dir);\n\n    kids.forEach(kid => {\n      const path = join(dir, kid);\n\n      try {\n        const lstat = browserFs.lstatSync(path);\n\n        if (lstat.isDirectory()) {\n          this.clearSandboxFiles(path);\n        } else {\n          browserFs.unlinkSync(path);\n        }\n      } catch {\n        // Do nothing\n      }\n    });\n\n    if (dir !== '/sandbox') {\n      browserFs.rmdirSync(dir);\n    }\n  }\n}\n\nexport default SandboxFsSync;\n","// Copied from keyCodes.ts from vscode\n\n/**\n * Virtual Key Codes, the value does not hold any inherent meaning.\n * Inspired somewhat from https://msdn.microsoft.com/en-us/library/windows/desktop/dd375731(v=vs.85).aspx\n * But these are \"more general\", as they should work across browsers & OS`s.\n */\nexport enum KeyCode {\n  /**\n   * Placed first to cover the 0 value of the enum.\n   */\n  Unknown = 0,\n\n  Backspace = 1,\n  Tab = 2,\n  Enter = 3,\n  Shift = 4,\n  Ctrl = 5,\n  Alt = 6,\n  PauseBreak = 7,\n  CapsLock = 8,\n  Escape = 9,\n  Space = 10,\n  PageUp = 11,\n  PageDown = 12,\n  End = 13,\n  Home = 14,\n  LeftArrow = 15,\n  UpArrow = 16,\n  RightArrow = 17,\n  DownArrow = 18,\n  Insert = 19,\n  Delete = 20,\n\n  KEY_0 = 21,\n  KEY_1 = 22,\n  KEY_2 = 23,\n  KEY_3 = 24,\n  KEY_4 = 25,\n  KEY_5 = 26,\n  KEY_6 = 27,\n  KEY_7 = 28,\n  KEY_8 = 29,\n  KEY_9 = 30,\n\n  KEY_A = 31,\n  KEY_B = 32,\n  KEY_C = 33,\n  KEY_D = 34,\n  KEY_E = 35,\n  KEY_F = 36,\n  KEY_G = 37,\n  KEY_H = 38,\n  KEY_I = 39,\n  KEY_J = 40,\n  KEY_K = 41,\n  KEY_L = 42,\n  KEY_M = 43,\n  KEY_N = 44,\n  KEY_O = 45,\n  KEY_P = 46,\n  KEY_Q = 47,\n  KEY_R = 48,\n  KEY_S = 49,\n  KEY_T = 50,\n  KEY_U = 51,\n  KEY_V = 52,\n  KEY_W = 53,\n  KEY_X = 54,\n  KEY_Y = 55,\n  KEY_Z = 56,\n\n  Meta = 57,\n  ContextMenu = 58,\n\n  F1 = 59,\n  F2 = 60,\n  F3 = 61,\n  F4 = 62,\n  F5 = 63,\n  F6 = 64,\n  F7 = 65,\n  F8 = 66,\n  F9 = 67,\n  F10 = 68,\n  F11 = 69,\n  F12 = 70,\n  F13 = 71,\n  F14 = 72,\n  F15 = 73,\n  F16 = 74,\n  F17 = 75,\n  F18 = 76,\n  F19 = 77,\n\n  NumLock = 78,\n  ScrollLock = 79,\n\n  /**\n   * Used for miscellaneous characters; it can vary by keyboard.\n   * For the US standard keyboard, the ';:' key\n   */\n  US_SEMICOLON = 80,\n  /**\n   * For any country/region, the '+' key\n   * For the US standard keyboard, the '=+' key\n   */\n  US_EQUAL = 81,\n  /**\n   * For any country/region, the ',' key\n   * For the US standard keyboard, the ',<' key\n   */\n  US_COMMA = 82,\n  /**\n   * For any country/region, the '-' key\n   * For the US standard keyboard, the '-_' key\n   */\n  US_MINUS = 83,\n  /**\n   * For any country/region, the '.' key\n   * For the US standard keyboard, the '.>' key\n   */\n  US_DOT = 84,\n  /**\n   * Used for miscellaneous characters; it can vary by keyboard.\n   * For the US standard keyboard, the '/?' key\n   */\n  US_SLASH = 85,\n  /**\n   * Used for miscellaneous characters; it can vary by keyboard.\n   * For the US standard keyboard, the '`~' key\n   */\n  US_BACKTICK = 86,\n  /**\n   * Used for miscellaneous characters; it can vary by keyboard.\n   * For the US standard keyboard, the '[{' key\n   */\n  US_OPEN_SQUARE_BRACKET = 87,\n  /**\n   * Used for miscellaneous characters; it can vary by keyboard.\n   * For the US standard keyboard, the '\\|' key\n   */\n  US_BACKSLASH = 88,\n  /**\n   * Used for miscellaneous characters; it can vary by keyboard.\n   * For the US standard keyboard, the ']}' key\n   */\n  US_CLOSE_SQUARE_BRACKET = 89,\n  /**\n   * Used for miscellaneous characters; it can vary by keyboard.\n   * For the US standard keyboard, the ''\"' key\n   */\n  US_QUOTE = 90,\n  /**\n   * Used for miscellaneous characters; it can vary by keyboard.\n   */\n  OEM_8 = 91,\n  /**\n   * Either the angle bracket key or the backslash key on the RT 102-key keyboard.\n   */\n  OEM_102 = 92,\n\n  NUMPAD_0 = 93, // VK_NUMPAD0, 0x60, Numeric keypad 0 key\n  NUMPAD_1 = 94, // VK_NUMPAD1, 0x61, Numeric keypad 1 key\n  NUMPAD_2 = 95, // VK_NUMPAD2, 0x62, Numeric keypad 2 key\n  NUMPAD_3 = 96, // VK_NUMPAD3, 0x63, Numeric keypad 3 key\n  NUMPAD_4 = 97, // VK_NUMPAD4, 0x64, Numeric keypad 4 key\n  NUMPAD_5 = 98, // VK_NUMPAD5, 0x65, Numeric keypad 5 key\n  NUMPAD_6 = 99, // VK_NUMPAD6, 0x66, Numeric keypad 6 key\n  NUMPAD_7 = 100, // VK_NUMPAD7, 0x67, Numeric keypad 7 key\n  NUMPAD_8 = 101, // VK_NUMPAD8, 0x68, Numeric keypad 8 key\n  NUMPAD_9 = 102, // VK_NUMPAD9, 0x69, Numeric keypad 9 key\n\n  NUMPAD_MULTIPLY = 103, // VK_MULTIPLY, 0x6A, Multiply key\n  NUMPAD_ADD = 104, // VK_ADD, 0x6B, Add key\n  NUMPAD_SEPARATOR = 105, // VK_SEPARATOR, 0x6C, Separator key\n  NUMPAD_SUBTRACT = 106, // VK_SUBTRACT, 0x6D, Subtract key\n  NUMPAD_DECIMAL = 107, // VK_DECIMAL, 0x6E, Decimal key\n  NUMPAD_DIVIDE = 108, // VK_DIVIDE, 0x6F,\n\n  /**\n   * Cover all key codes when IME is processing input.\n   */\n  KEY_IN_COMPOSITION = 109,\n\n  ABNT_C1 = 110, // Brazilian (ABNT) Keyboard\n  ABNT_C2 = 111, // Brazilian (ABNT) Keyboard\n\n  /**\n   * Placed last to cover the length of the enum.\n   * Please do not depend on this value!\n   */\n  MAX_VALUE,\n}\n\nexport enum KeyMod {\n  CtrlCmd = (1 << 11) >>> 0,\n  Shift = (1 << 10) >>> 0,\n  Alt = (1 << 9) >>> 0,\n  WinCtrl = (1 << 8) >>> 0,\n}\n","import { notificationState } from '@codesandbox/common/lib/utils/notifications';\nimport {\n  NotificationMessage,\n  NotificationStatus,\n} from '@codesandbox/notifications/lib/state';\n\nimport { KeyCode, KeyMod } from './keyCodes';\n\n// Copied from 'common/actions' in vscode\nexport enum MenuId {\n  CommandPalette,\n  DebugBreakpointsContext,\n  DebugCallStackContext,\n  DebugConsoleContext,\n  DebugVariablesContext,\n  DebugWatchContext,\n  DebugToolbar,\n  EditorContext,\n  EditorTitle,\n  EditorTitleContext,\n  EmptyEditorGroupContext,\n  ExplorerContext,\n  MenubarAppearanceMenu,\n  MenubarDebugMenu,\n  MenubarEditMenu,\n  MenubarFileMenu,\n  MenubarGoMenu,\n  MenubarHelpMenu,\n  MenubarLayoutMenu,\n  MenubarNewBreakpointMenu,\n  MenubarPreferencesMenu,\n  MenubarRecentMenu,\n  MenubarSelectionMenu,\n  MenubarSwitchEditorMenu,\n  MenubarSwitchGroupMenu,\n  MenubarTerminalMenu,\n  MenubarViewMenu,\n  OpenEditorsContext,\n  ProblemsPanelContext,\n  SCMChangeContext,\n  SCMResourceContext,\n  SCMResourceGroupContext,\n  SCMSourceControl,\n  SCMTitle,\n  SearchContext,\n  TouchBarContext,\n  ViewItemContext,\n  ViewTitle,\n}\n\nexport class Workbench {\n  monaco: any;\n  controller: { getState: any; getSignal: any };\n  runCommand: (id: string) => Promise<void>;\n  constructor(\n    monaco: any,\n    controller: { getState: any; getSignal: any },\n    runCommand: (id: string) => Promise<void>\n  ) {\n    this.monaco = monaco;\n    this.controller = controller;\n    this.runCommand = runCommand;\n  }\n\n  public addWorkbenchActions() {\n    this.addWorkbenchAction({\n      id: 'workbench.action.toggleStatusbarVisibility',\n      label: 'Toggle Status Bar Visibility',\n      commandLabel: 'Toggle Status Bar Visibility',\n      category: 'View',\n      run: () => {\n        this.controller.getSignal('editor.toggleStatusBar')();\n      },\n    });\n    this.addWorkbenchAction({\n      id: 'view.preview.flip',\n      label: 'Flip Preview Layout',\n      commandLabel: 'Toggle Vertical/Horizontal Preview Layout',\n      category: 'View',\n      run: () => {\n        this.runCommand('workbench.action.toggleEditorGroupLayout');\n        this.controller.getSignal('editor.toggleEditorPreviewLayout')();\n      },\n      keybindings: {\n        primary: KeyMod.Shift | KeyMod.Alt | KeyCode.KEY_9,\n        mac: {\n          primary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.KEY_9,\n        },\n      },\n    });\n\n    this.addWorkbenchAction({\n      id: 'codesandbox.sandbox.new',\n      label: 'New Sandbox...',\n      category: 'Sandbox',\n      run: () => {\n        this.controller.getSignal('modalOpened')({ modal: 'newSandbox' });\n      },\n    });\n\n    this.addWorkbenchAction({\n      id: 'codesandbox.sandbox.fork',\n      label: 'Fork Sandbox',\n      category: 'Sandbox',\n      run: () => {\n        this.controller.getSignal('editor.forkSandboxClicked')();\n      },\n    });\n\n    this.addWorkbenchAction({\n      id: 'codesandbox.sandbox.exportzip',\n      label: 'Export To ZIP',\n      category: 'Sandbox',\n      run: () => {\n        this.controller.getSignal('editor.createZipClicked')();\n      },\n    });\n\n    this.addWorkbenchAction({\n      id: 'codesandbox.preferences',\n      label: 'Open CodeSandbox Settings',\n      category: 'Preferences',\n      run: () => {\n        this.controller.getSignal('modalOpened')({ modal: 'preferences' });\n      },\n    });\n\n    this.addWorkbenchAction({\n      id: 'view.fullscreen',\n      label: 'Toggle Fullscreen',\n      category: 'View',\n      run: () => {\n        if (document.fullscreenElement) {\n          document.exitFullscreen();\n        } else {\n          document.documentElement.requestFullscreen();\n\n          this.addNotification({\n            title: 'Fullscreen',\n            message:\n              'You are now in fullscreen mode. Press and hold ESC to exit',\n            status: NotificationStatus.NOTICE,\n            timeAlive: 5000,\n          });\n\n          if ('keyboard' in navigator) {\n            // @ts-ignore - keyboard locking is experimental api\n            navigator.keyboard.lock([\n              'Escape',\n              'KeyW',\n              'KeyN',\n              'KeyT',\n              'ArrowLeft',\n              'ArrowRight',\n            ]);\n          }\n        }\n      },\n      keybindings: {\n        primary: KeyMod.WinCtrl | KeyMod.Alt | KeyCode.KEY_F,\n      },\n    });\n\n    if (\n      this.controller.getState().editor.currentSandbox?.featureFlags.comments\n    ) {\n      this.addWorkbenchAction({\n        id: 'comments.add',\n        label: 'Comment on code',\n        category: 'Comments',\n        run: () => {\n          this.controller.getSignal('comments.createComment')({\n            isLineComment: false,\n          });\n        },\n      });\n    }\n\n    this.appendMenuItem(MenuId.MenubarFileMenu, {\n      group: '1_new',\n      order: 1,\n      command: {\n        id: 'codesandbox.sandbox.new',\n        title: 'New Sandbox...',\n      },\n    });\n\n    this.appendMenuItem(MenuId.MenubarFileMenu, {\n      // Z to be the last item after vscode group 4\n      group: '4_zsandbox',\n      order: 1,\n      command: {\n        id: 'codesandbox.sandbox.fork',\n        title: '&&Fork Sandbox',\n      },\n    });\n\n    this.appendMenuItem(MenuId.MenubarFileMenu, {\n      group: '4_zsandbox',\n      order: 2,\n      command: {\n        id: 'codesandbox.sandbox.exportzip',\n        title: 'Export to ZIP',\n      },\n    });\n\n    this.appendMenuItem(MenuId.MenubarPreferencesMenu, {\n      group: '1_settings',\n      order: 1,\n      command: {\n        id: 'codesandbox.preferences',\n        title: 'CodeSandbox Settings',\n      },\n    });\n\n    this.appendMenuItem(MenuId.MenubarLayoutMenu, {\n      group: 'z_flip',\n      command: {\n        id: 'view.preview.flip',\n        title: 'Flip Full Layout',\n      },\n      order: 2,\n    });\n\n    this.appendMenuItem(MenuId.MenubarViewMenu, {\n      group: '1_toggle_view',\n      order: 0,\n      command: {\n        id: 'view.fullscreen',\n        title: 'Toggle Fullscreen',\n      },\n    });\n\n    const addBrowserNavigationCommand = (\n      id: string,\n      label: string,\n      url: string\n    ) => {\n      this.addWorkbenchAction({\n        id,\n        label,\n        category: 'Help',\n        run: () => {\n          window.open(url, '_blank');\n        },\n      });\n    };\n\n    addBrowserNavigationCommand(\n      'codesandbox.help.documentation',\n      'Documentation',\n      'https://codesandbox.io/docs'\n    );\n    addBrowserNavigationCommand(\n      'codesandbox.explore',\n      'Explore Sandboxes',\n      'https://codesandbox.io/explore'\n    );\n    addBrowserNavigationCommand(\n      'codesandbox.search',\n      'Search',\n      'https://codesandbox.io/search'\n    );\n    addBrowserNavigationCommand(\n      'codesandbox.dashboard',\n      'Dashboard',\n      'https://codesandbox.io/dashboard'\n    );\n    addBrowserNavigationCommand(\n      'codesandbox.help.open-issue',\n      'Open Issue on GitHub',\n      'https://github.com/codesandbox/codesandbox-client/issues'\n    );\n    addBrowserNavigationCommand(\n      'codesandbox.help.github',\n      'Open Our GitHub Repository',\n      'https://github.com/codesandbox/codesandbox-client'\n    );\n    addBrowserNavigationCommand(\n      'codesandbox.help.twitter',\n      'Follow Us on Twitter',\n      'https://twitter.com/codesandbox'\n    );\n\n    this.addWorkbenchAction({\n      id: 'codesandbox.help.feedback',\n      label: 'Submit Feedback...',\n      category: 'Help',\n      run: () => {\n        this.controller.getSignal('modalOpened')({ modal: 'feedback' });\n      },\n    });\n\n    this.appendMenuItem(MenuId.MenubarHelpMenu, {\n      group: '1_resources',\n      order: 1,\n      command: {\n        id: 'codesandbox.help.documentation',\n        title: '&&Documentation',\n      },\n    });\n\n    this.appendMenuItem(MenuId.MenubarHelpMenu, {\n      group: '1_resources',\n      order: 2,\n      command: {\n        id: 'codesandbox.explore',\n        title: '&&Explore Sandboxes',\n      },\n    });\n    this.appendMenuItem(MenuId.MenubarHelpMenu, {\n      group: '1_resources',\n      order: 3,\n      command: {\n        id: 'codesandbox.search',\n        title: '&&Search',\n      },\n    });\n    this.appendMenuItem(MenuId.MenubarHelpMenu, {\n      group: '1_resources',\n      order: 4,\n      command: {\n        id: 'codesandbox.dashboard',\n        title: 'D&&ashboard',\n      },\n    });\n\n    this.appendMenuItem(MenuId.MenubarHelpMenu, {\n      group: '2_help',\n      order: 1,\n      command: {\n        id: 'codesandbox.help.open-issue',\n        title: '&&Open Issue on GitHub',\n      },\n    });\n\n    this.appendMenuItem(MenuId.MenubarHelpMenu, {\n      group: '2_help',\n      order: 2,\n      command: {\n        id: 'codesandbox.help.feedback',\n        title: 'Submit &&Feedback...',\n      },\n    });\n\n    this.appendMenuItem(MenuId.MenubarHelpMenu, {\n      group: '3_social',\n      order: 1,\n      command: {\n        id: 'codesandbox.help.github',\n        title: '&&GitHub Repository',\n      },\n    });\n\n    this.appendMenuItem(MenuId.MenubarHelpMenu, {\n      group: '3_social',\n      order: 2,\n      command: {\n        id: 'codesandbox.help.twitter',\n        title: 'Follow Us on &&Twitter',\n      },\n    });\n\n    if (\n      this.controller.getState().editor.currentSandbox?.featureFlags.comments\n    ) {\n      this.appendMenuItem(MenuId.EditorContext, {\n        group: '0_comments',\n        order: 0,\n        command: {\n          id: 'comments.add',\n          title: 'Comment on code',\n        },\n      });\n    }\n  }\n\n  private addWorkbenchAction({\n    id,\n    label,\n    commandLabel = label,\n    category = 'CodeSandbox',\n    run,\n    keybindings = { primary: 0 },\n  }: {\n    id: string;\n    label: string;\n    commandLabel?: string; // Name of the command\n    category?: string;\n    run: () => any | Promise<any>;\n    keybindings?: { primary: number; mac?: { primary: number } };\n  }) {\n    this.monaco.editor.addWorkbenchActions({\n      id,\n      label,\n      commandLabel,\n      run,\n      category,\n      keybindings,\n    });\n  }\n\n  private appendMenuItem(\n    menubarId: number,\n    item: {\n      group: string;\n      command: {\n        id: string;\n        title: string;\n        toggled?: boolean;\n      };\n      order: number;\n    }\n  ) {\n    this.monaco.editor.appendMenuItem(menubarId, item);\n  }\n\n  private addNotification(notification: NotificationMessage) {\n    notificationState.addNotification(notification);\n  }\n}\n","export const EXTENSIONS_LOCATION = process.env.VSCODE\n  ? '/vscode/extensions-bundle'\n  : '/public/vscode-extensions/v13';\n\nexport const VIM_EXTENSION_ID = 'vscodevim.vim';\n\nexport const WAIT_INITIAL_TYPINGS_MS = 1000;\n","import { Directory, Module, SandboxFs } from '@codesandbox/common/lib/types';\nimport { json } from 'overmind';\n\nexport const appendFile = (fs: SandboxFs, module: Module) => {\n  fs[module.path!] = module;\n};\n\nexport const writeFile = (fs: SandboxFs, module: Module) => {\n  fs[module.path!] = module;\n};\n\nexport const rename = (fs: SandboxFs, fromPath: string, toPath: string) => {\n  Object.keys(fs).forEach(path => {\n    if (path.startsWith(fromPath)) {\n      const newPath = path.replace(fromPath, toPath);\n      const module = fs[path];\n\n      delete fs[path];\n      fs[newPath] = json(module);\n    }\n  });\n};\n\nexport const rmdir = (fs: SandboxFs, directory: Directory) => {\n  Object.keys(fs).forEach(path => {\n    if (path.startsWith(directory.path!)) {\n      delete fs[path];\n    }\n  });\n};\n\nexport const unlink = (fs: SandboxFs, module: Module) => {\n  delete fs[module.path!];\n};\n\nexport const mkdir = (fs: SandboxFs, directory: Directory) => {\n  fs[directory.path!] = directory;\n};\n","import DEFAULT_PRETTIER_CONFIG from '@codesandbox/common/lib/prettify-default-config';\nimport { resolveModule } from '@codesandbox/common/lib/sandbox/modules';\nimport getTemplate from '@codesandbox/common/lib/templates';\nimport {\n  CurrentUser,\n  EditorSelection,\n  Module,\n  ModuleCorrection,\n  ModuleError,\n  Sandbox,\n  SandboxFs,\n  Settings,\n  UserViewRange,\n} from '@codesandbox/common/lib/types';\nimport { notificationState } from '@codesandbox/common/lib/utils/notifications';\nimport {\n  NotificationMessage,\n  NotificationStatus,\n} from '@codesandbox/notifications/lib/state';\nimport { CommentFragment } from 'app/graphql/types';\nimport { Reaction } from 'app/overmind';\nimport { indexToLineAndColumn } from 'app/overmind/utils/common';\nimport prettify from 'app/src/app/utils/prettify';\nimport { blocker } from 'app/utils/blocker';\nimport { listen } from 'codesandbox-api';\nimport FontFaceObserver from 'fontfaceobserver';\nimport { debounce } from 'lodash-es';\nimport * as childProcess from 'node-services/lib/child_process';\nimport { TextOperation } from 'ot';\nimport { json } from 'overmind';\nimport io from 'socket.io-client';\nimport { hasPermission } from '@codesandbox/common/lib/utils/permission';\n\nimport { EXTENSIONS_LOCATION, VIM_EXTENSION_ID } from './constants';\nimport {\n  initializeCodeSandboxTheme,\n  initializeCustomTheme,\n  initializeExtensionsFolder,\n  initializeSettings,\n  initializeSnippetDirectory,\n  initializeThemeCache,\n} from './initializers';\nimport { Linter } from './Linter';\nimport {\n  ModelsHandler,\n  OnFileChangeData,\n  OnOperationAppliedData,\n  onSelectionChangeData,\n} from './ModelsHandler';\nimport SandboxFsSync from './SandboxFsSync';\nimport { getSelection } from './utils';\nimport loadScript from './vscode-script-loader';\nimport { Workbench } from './Workbench';\n\nexport type VsCodeOptions = {\n  getCurrentSandbox: () => Sandbox | null;\n  getCurrentModule: () => Module | null;\n  getSandboxFs: () => SandboxFs;\n  getCurrentUser: () => CurrentUser | null;\n  onCodeChange: (data: OnFileChangeData) => void;\n  onOperationApplied: (data: OnOperationAppliedData) => void;\n  onSelectionChanged: (selection: onSelectionChangeData) => void;\n  onViewRangeChanged: (viewRange: UserViewRange) => void;\n  onCommentClick: (payload: {\n    commentIds: string[];\n    bounds: {\n      left: number;\n      top: number;\n      bottom: number;\n      right: number;\n    };\n  }) => void;\n  reaction: Reaction;\n  // These two should be removed\n  getSignal: any;\n  getState: any;\n};\n\ndeclare global {\n  interface Window {\n    CSEditor: any;\n    monaco: any;\n  }\n}\n\n/**\n * Responsible for rendering React components for files that are supported\n */\nexport interface ICustomEditorApi {\n  getCustomEditor(\n    modulePath: string\n  ): false | ((container: HTMLElement, extraProps: object) => void) | null;\n}\n\nconst context: any = window;\n\n/**\n * Handles the VSCode instance for the whole app. The goal is to deprecate/remove this service at one point\n * and let the VSCode codebase handle the initialization of all elements. We are going for a gradual approach though,\n * that's why in the first phase we let the CodeSandbox application handle all the initialization of the VSCode\n * parts.\n */\nexport class VSCodeEffect {\n  public initialized: Promise<unknown>;\n  public sandboxFsSync: SandboxFsSync;\n  private mountableFilesystem: any;\n\n  private monaco: any;\n  private editorApi: any;\n  private clientExtensionHost: any;\n  private containerExtensionHost: any;\n  private options: VsCodeOptions;\n  private controller: any;\n  private commandService = blocker<any>();\n  private extensionService = blocker<any>();\n  private extensionEnablementService = blocker<any>();\n  private workbench: Workbench;\n  private settings: Settings;\n  private linter: Linter | null;\n  private modelsHandler: ModelsHandler;\n  private modelSelectionListener: { dispose: Function };\n  private modelCursorPositionListener: { dispose: Function };\n  private modelViewRangeListener: { dispose: Function };\n  private readOnly: boolean;\n  private elements = {\n    editor: document.createElement('div'),\n    editorPart: document.createElement('div'),\n    menubar: document.createElement('div'),\n    statusbar: document.createElement('div'),\n  };\n\n  private customEditorApi: ICustomEditorApi = {\n    getCustomEditor: () => null,\n  };\n\n  onSelectionChangeDebounced: VsCodeOptions['onSelectionChanged'] & {\n    cancel(): void;\n  };\n\n  public initialize(options: VsCodeOptions) {\n    this.options = options;\n    this.controller = {\n      getState: options.getState,\n      getSignal: options.getSignal,\n    };\n    this.onSelectionChangeDebounced = debounce(options.onSelectionChanged, 200);\n\n    this.prepareElements();\n\n    this.options.reaction(\n      state => ({\n        fileComments: json(state.comments.fileComments),\n        currentCommentId: state.comments.currentCommentId,\n      }),\n      ({ fileComments, currentCommentId }) => {\n        if (this.modelsHandler) {\n          this.modelsHandler.applyComments(fileComments, currentCommentId);\n        }\n      }\n    );\n    this.listenToCommentClick();\n\n    // We instantly create a sandbox sync, as we want our\n    // extension host to get its messages handled to initialize\n    // correctly\n    this.sandboxFsSync = new SandboxFsSync({\n      getSandboxFs: () => ({}),\n    });\n\n    import(\n      // @ts-ignore\n      'worker-loader?publicPath=/&name=client-ext-host-worker.[hash:8].worker.js!./extensionHostWorker/bootstrappers/client-ext-host'\n    ).then(ExtHostWorkerLoader => {\n      this.clientExtensionHost = ExtHostWorkerLoader.default;\n    });\n\n    import(\n      // @ts-ignore\n      'worker-loader?publicPath=/&name=container-ext-host-worker.[hash:8].worker.js!./extensionHostWorker/bootstrappers/container-ext-host'\n    ).then(ExtHostWorkerLoader => {\n      this.containerExtensionHost = ExtHostWorkerLoader.default;\n    });\n\n    this.initialized = this.initializeFileSystem().then(mfs => {\n      this.mountableFilesystem = mfs;\n      // We want to initialize before VSCode, but after browserFS is configured\n      // For first-timers initialize a theme in the cache so it doesn't jump colors\n      initializeExtensionsFolder();\n      initializeCodeSandboxTheme();\n      initializeCustomTheme();\n      initializeThemeCache();\n      initializeSettings();\n      initializeSnippetDirectory();\n\n      this.setVimExtensionEnabled(\n        localStorage.getItem('settings.vimmode') === 'true'\n      );\n\n      return new FontFaceObserver('dm').load();\n    });\n\n    // Only set the read only state when the editor is initialized.\n    this.initialized.then(() => {\n      // ReadOnly mode is derivative, it's based on a couple conditions, of which the\n      // most important one is Live. If you're in a classroom live session as spectator,\n      // you should not be allowed to edit.\n      options.reaction(\n        state =>\n          !state.live.isLive ||\n          state.live.roomInfo?.mode === 'open' ||\n          (state.live.roomInfo?.mode === 'classroom' &&\n            state.live.isCurrentEditor),\n        canEdit => {\n          this.setReadOnly(!canEdit);\n        }\n      );\n    });\n\n    return this.initialized;\n  }\n\n  public isModuleOpened(module: Module) {\n    return this.modelsHandler.isModuleOpened(module);\n  }\n\n  public async getCodeReferenceBoundary(\n    commentId: string,\n    reference: CommentFragment['references'][0]['metadata']\n  ) {\n    this.revealPositionInCenterIfOutsideViewport(reference.anchor, 1);\n\n    return new Promise<DOMRect>((resolve, reject) => {\n      let checkCount = 0;\n      function findActiveComment() {\n        checkCount++;\n\n        if (checkCount === 20) {\n          reject(new Error('Could not find the comment glyph'));\n          return;\n        }\n\n        setTimeout(() => {\n          const commentGlyphs = document.querySelectorAll(\n            '.editor-comments-glyph'\n          );\n          const el = Array.from(commentGlyphs).find(glyphEl =>\n            glyphEl.className.includes(commentId)\n          );\n\n          if (el) {\n            resolve(el.getBoundingClientRect());\n          } else {\n            findActiveComment();\n          }\n        }, 10);\n      }\n      findActiveComment();\n    });\n  }\n\n  public getEditorElement(\n    getCustomEditor: ICustomEditorApi['getCustomEditor']\n  ) {\n    this.customEditorApi.getCustomEditor = getCustomEditor;\n    return this.elements.editor;\n  }\n\n  public getMenubarElement() {\n    return this.elements.menubar;\n  }\n\n  public getStatusbarElement() {\n    return this.elements.statusbar;\n  }\n\n  public runCommand = async (id: string, ...args: any[]) => {\n    const commandService = await this.commandService.promise;\n\n    return commandService.executeCommand(id, ...args);\n  };\n\n  public callCallbackError(id: string, message?: string) {\n    // @ts-ignore\n    if (window.cbs && window.cbs[id]) {\n      const errorMessage =\n        message || 'Something went wrong while saving the file.';\n      // @ts-ignore\n      window.cbs[id](new Error(errorMessage), undefined);\n      // @ts-ignore\n      delete window.cbs[id];\n    }\n  }\n\n  public callCallback(id: string) {\n    // @ts-ignore\n    if (window.cbs && window.cbs[id]) {\n      // @ts-ignore\n      window.cbs[id](undefined, undefined);\n      // @ts-ignore\n      delete window.cbs[id];\n    }\n  }\n\n  public setVimExtensionEnabled(enabled: boolean) {\n    if (enabled) {\n      this.enableExtension(VIM_EXTENSION_ID);\n    } else {\n      // Auto disable vim extension\n      if (\n        ([null, undefined] as Array<null | undefined | string>).includes(\n          localStorage.getItem('vs-global://extensionsIdentifiers/disabled')\n        )\n      ) {\n        localStorage.setItem(\n          'vs-global://extensionsIdentifiers/disabled',\n          '[{\"id\":\"vscodevim.vim\"}]'\n        );\n      }\n\n      this.disableExtension(VIM_EXTENSION_ID);\n    }\n  }\n\n  public syncModule(module: Module) {\n    this.modelsHandler.syncModule(module);\n  }\n\n  public async applyOperation(moduleShortid: string, operation: TextOperation) {\n    if (!this.modelsHandler) {\n      return;\n    }\n\n    await this.modelsHandler.applyOperation(moduleShortid, operation);\n  }\n\n  public updateOptions(options: { readOnly: boolean }) {\n    if (this.editorApi) {\n      const editor = this.editorApi.getActiveCodeEditor();\n\n      if (editor) {\n        editor.updateOptions(options);\n      }\n    }\n  }\n\n  public clearUserSelections(userId: string) {\n    if (!this.modelsHandler) {\n      return;\n    }\n\n    this.modelsHandler.clearUserSelections(userId);\n  }\n\n  public updateUserSelections(\n    module: Module,\n    userSelections: EditorSelection[]\n  ) {\n    if (!this.modelsHandler) {\n      return;\n    }\n\n    this.modelsHandler.updateUserSelections(module, userSelections);\n  }\n\n  public setReadOnly(enabled: boolean) {\n    this.readOnly = enabled;\n\n    this.updateOptions({ readOnly: enabled });\n  }\n\n  public updateLayout = (width: number, height: number) => {\n    if (this.editorApi) {\n      this.editorApi.editorPart.layout(width, height);\n    }\n  };\n\n  public resetLayout() {\n    if (this.editorApi) {\n      // We have to wait for the layout to actually update in the DOM\n      requestAnimationFrame(() => {\n        const rootEl = document.querySelector('#vscode-container');\n        if (rootEl) {\n          const boundingRect = rootEl.getBoundingClientRect();\n\n          this.editorApi.editorPart.layout(\n            boundingRect.width,\n            boundingRect.height\n          );\n        }\n      });\n    }\n  }\n\n  /*\n    We need to use a callback to set the sandbox-fs into the state of Overmind. The reason\n    is that we internally read from this state to get information about the files. It is really\n    messy, but we will move to a completely internal filesystem soon\n  */\n  public async changeSandbox(sandbox: Sandbox, setFs: (fs: SandboxFs) => void) {\n    await this.initialized;\n\n    const isFirstLoad = !this.modelsHandler;\n\n    const { isServer } = getTemplate(sandbox.template);\n\n    try {\n      this.mountableFilesystem.umount('/root/.cache');\n    } catch {\n      //\n    }\n    try {\n      this.mountableFilesystem.umount('/sandbox/node_modules');\n    } catch {\n      //\n    }\n\n    if (isServer && this.options.getCurrentUser()?.experiments.containerLsp) {\n      childProcess.addDefaultForkHandler(this.createContainerForkHandler());\n      const socket = this.createWebsocketFSRequest();\n      const cache = await this.createFileSystem('WebsocketFS', {\n        socket,\n      });\n      const nodeModules = await this.createFileSystem('WebsocketFS', {\n        socket,\n      });\n\n      this.mountableFilesystem.mount('/home/sandbox/.cache', cache);\n      this.mountableFilesystem.mount('/sandbox/node_modules', nodeModules);\n    } else {\n      childProcess.addDefaultForkHandler(this.clientExtensionHost);\n      const nodeModules = await this.createFileSystem('CodeSandboxFS', {\n        manager: {\n          getTranspiledModules: () => this.sandboxFsSync.getTypes(),\n          addModule() {},\n          removeModule() {},\n          moveModule() {},\n          updateModule() {},\n        },\n      });\n      this.mountableFilesystem.mount('/sandbox/node_modules', nodeModules);\n    }\n\n    if (isFirstLoad) {\n      const container = this.elements.editor;\n\n      await new Promise(resolve => {\n        loadScript(true, ['vs/editor/codesandbox.editor.main'])(resolve);\n      }).then(() => this.loadEditor(window.monaco, container));\n    }\n\n    if (!isFirstLoad) {\n      this.modelsHandler.dispose();\n      this.sandboxFsSync.dispose();\n    }\n\n    this.modelsHandler = new ModelsHandler(\n      this.editorApi,\n      this.monaco,\n      sandbox,\n      this.onFileChange,\n      this.onOperationApplied\n    );\n    this.sandboxFsSync = new SandboxFsSync(this.options);\n\n    setFs(this.sandboxFsSync.create(sandbox));\n\n    if (isFirstLoad) {\n      this.sandboxFsSync.sync(() => {});\n    } else {\n      this.editorApi.extensionService.stopExtensionHost();\n      this.sandboxFsSync.sync(() => {\n        this.editorApi.extensionService.startExtensionHost();\n      });\n    }\n  }\n\n  public setModuleCode(module: Module, triggerChangeEvent = false) {\n    if (!this.modelsHandler) {\n      return;\n    }\n\n    this.modelsHandler.setModuleCode(module, triggerChangeEvent);\n  }\n\n  public async closeAllTabs() {\n    if (this.editorApi) {\n      const groupsToClose = this.editorApi.editorService.editorGroupService.getGroups();\n\n      await Promise.all(\n        groupsToClose.map(group =>\n          Promise.all([\n            group.closeAllEditors(),\n            this.editorApi.editorService.editorGroupService.removeGroup(group),\n          ])\n        )\n      );\n    }\n  }\n\n  public async updateTabsPath(oldPath: string, newPath: string) {\n    return this.modelsHandler.updateTabsPath(oldPath, newPath);\n  }\n\n  public async openModule(module: Module) {\n    await this.initialized;\n\n    // We use an animation frame here, because we want the rest of the logic to finish running,\n    // allowing for a paint, like selections in explorer. For this to work we have to ensure\n    // that we are actually indeed still trying to open this file, as we might have changed\n    // the file\n    return new Promise(resolve => {\n      requestAnimationFrame(async () => {\n        const currentModule = this.options.getCurrentModule();\n        if (currentModule && module.id === currentModule.id) {\n          try {\n            const model = await this.modelsHandler.changeModule(module);\n            this.lint(module.title, model);\n            resolve();\n          } catch (error) {\n            // We might try to open a module that is not actually opened in the editor,\n            // but the configuration wizard.. currently this throws an error as there\n            // is really no good way to identify when it happen. This needs to be\n            // improved in next version\n          }\n        }\n      });\n    });\n  }\n\n  public setErrors = (errors: ModuleError[]) => {\n    const activeEditor = this.editorApi.getActiveCodeEditor();\n\n    if (activeEditor) {\n      if (errors.length > 0) {\n        const currentPath = this.getCurrentModelPath();\n        const thisModuleErrors = errors.filter(\n          error => error.path === currentPath\n        );\n        const errorMarkers = thisModuleErrors\n          .map(error => {\n            if (error) {\n              return {\n                severity: this.monaco.MarkerSeverity.Error,\n                startColumn: 1,\n                startLineNumber: error.line,\n                endColumn: error.column,\n                endLineNumber: error.line + 1,\n                message: error.message,\n              };\n            }\n\n            return null;\n          })\n          .filter(x => x);\n\n        this.monaco.editor.setModelMarkers(\n          activeEditor.getModel(),\n          'error',\n          errorMarkers\n        );\n      } else {\n        this.monaco.editor.setModelMarkers(\n          activeEditor.getModel(),\n          'error',\n          []\n        );\n      }\n    }\n  };\n\n  public async openDiff(sandboxId: string, module: Module, oldCode: string) {\n    if (!module.path) {\n      return;\n    }\n\n    const recoverPath = `/recover/${sandboxId}/recover-${module.path.replace(\n      /\\//g,\n      ' '\n    )}`;\n    const filePath = `/sandbox${module.path}`;\n    const fileSystem = window.BrowserFS.BFSRequire('fs');\n\n    // We have to write a recover file to the filesystem, we save it behind\n    // the sandboxId\n    if (!fileSystem.existsSync(`/recover/${sandboxId}`)) {\n      fileSystem.mkdirSync(`/recover/${sandboxId}`);\n    }\n    // We write the recover file with the old code, as the new code is already applied\n    fileSystem.writeFileSync(recoverPath, oldCode);\n\n    // We open a conflict resolution editor for the files\n    this.editorApi.editorService.openEditor({\n      leftResource: this.monaco.Uri.from({\n        scheme: 'conflictResolution',\n        path: recoverPath,\n      }),\n      rightResource: this.monaco.Uri.file(filePath),\n      label: `Recover - ${module.path}`,\n      options: {\n        pinned: true,\n      },\n    });\n  }\n\n  public clearComments() {\n    this.modelsHandler.clearComments();\n  }\n\n  public setCorrections = (corrections: ModuleCorrection[]) => {\n    const activeEditor = this.editorApi.getActiveCodeEditor();\n    if (activeEditor) {\n      if (corrections.length > 0) {\n        const currentPath = this.getCurrentModelPath();\n        const correctionMarkers = corrections\n          .filter(correction => correction.path === currentPath)\n          .map(correction => {\n            if (correction) {\n              return {\n                severity:\n                  correction.severity === 'warning'\n                    ? this.monaco.MarkerSeverity.Warning\n                    : this.monaco.MarkerSeverity.Notice,\n                startColumn: correction.column,\n                startLineNumber: correction.line,\n                endColumn: correction.columnEnd || 1,\n                endLineNumber: correction.lineEnd || correction.line + 1,\n                message: correction.message,\n                source: correction.source,\n              };\n            }\n\n            return null;\n          })\n          .filter(x => x);\n\n        this.monaco.editor.setModelMarkers(\n          activeEditor.getModel(),\n          'correction',\n          correctionMarkers\n        );\n      } else {\n        this.monaco.editor.setModelMarkers(\n          activeEditor.getModel(),\n          'correction',\n          []\n        );\n      }\n    }\n  };\n\n  /**\n   * Reveal position in editor\n   * @param scrollType 0 = smooth, 1 = immediate\n   */\n  revealPositionInCenterIfOutsideViewport(pos: number, scrollType: 0 | 1 = 0) {\n    const activeEditor = this.editorApi.getActiveCodeEditor();\n\n    if (activeEditor) {\n      const model = activeEditor.getModel();\n\n      if (model) {\n        const lineColumnPos = indexToLineAndColumn(\n          model.getLinesContent() || [],\n          pos\n        );\n\n        activeEditor.revealPositionInCenterIfOutsideViewport(\n          lineColumnPos,\n          scrollType\n        );\n      }\n    }\n  }\n\n  /**\n   * Reveal line in editor\n   * @param scrollType 0 = smooth, 1 = immediate\n   */\n  revealLine(lineNumber: number, scrollType: 0 | 1 = 0) {\n    const activeEditor = this.editorApi.getActiveCodeEditor();\n\n    if (activeEditor) {\n      activeEditor.revealLine(lineNumber, scrollType);\n    }\n  }\n\n  /**\n   * Reveal revealLine in editor\n   * @param scrollType 0 = smooth, 1 = immediate\n   */\n  revealRange(range: UserViewRange, scrollType: 0 | 1 = 0) {\n    const activeEditor = this.editorApi.getActiveCodeEditor();\n\n    if (activeEditor) {\n      activeEditor.revealRange(range, scrollType);\n    }\n  }\n\n  /**\n   * Set the selection inside the editor\n   * @param head Start of the selection\n   * @param anchor End of the selection\n   */\n  setSelection(head: number, anchor: number) {\n    const activeEditor = this.editorApi.getActiveCodeEditor();\n    if (!activeEditor) {\n      return;\n    }\n\n    const model = activeEditor.getModel();\n    if (!model) {\n      return;\n    }\n\n    const headPos = indexToLineAndColumn(model.getLinesContent() || [], head);\n    const anchorPos = indexToLineAndColumn(\n      model.getLinesContent() || [],\n      anchor\n    );\n    const range = new this.monaco.Range(\n      headPos.lineNumber,\n      headPos.column,\n      anchorPos.lineNumber,\n      anchorPos.column\n    );\n\n    this.revealRange(range);\n    activeEditor.setSelection(range);\n  }\n\n  // Communicates the endpoint for the WebsocketLSP\n  private createContainerForkHandler() {\n    return () => {\n      const host = this.containerExtensionHost();\n      host.addEventListener('message', event => {\n        if (event.data.$type === 'request_lsp_endpoint') {\n          event.target.postMessage({\n            $type: 'respond_lsp_endpoint',\n            $data: this.getLspEndpoint(),\n          });\n        }\n      });\n      return host;\n    };\n  }\n\n  private getLspEndpoint() {\n    // return 'ws://localhost:1023';\n    // TODO: merge host logic with executor-manager\n    const sseHost = process.env.STAGING_API\n      ? 'https://codesandbox.stream'\n      : 'https://codesandbox.io';\n    return sseHost.replace(\n      'https://',\n      `wss://${this.options.getCurrentSandbox()?.id}-lsp.sse.`\n    );\n  }\n\n  private createFileSystem(type: string, options: any) {\n    return new Promise((resolve, reject) => {\n      window.BrowserFS.FileSystem[type].Create(options, (error, fs) => {\n        if (error) {\n          reject(error);\n        } else {\n          resolve(fs);\n        }\n      });\n    });\n  }\n\n  private createWebsocketFSRequest() {\n    const socket = io(`${this.getLspEndpoint()}?type=go-to-definition`);\n    return {\n      emit: (data, cb) => {\n        socket.emit('go-to-definition', data, cb);\n      },\n      dispose: () => {\n        socket.close();\n      },\n    };\n  }\n\n  private async disableExtension(id: string) {\n    const extensionService = await this.extensionService.promise;\n    const extensionEnablementService = await this.extensionEnablementService\n      .promise;\n\n    const extensionDescription = await extensionService.getExtension(id);\n\n    if (extensionDescription) {\n      const { toExtension } = context.require(\n        'vs/workbench/services/extensions/common/extensions'\n      );\n      const extension = toExtension(extensionDescription);\n      extensionEnablementService.setEnablement([extension], 0);\n    }\n  }\n\n  private async initializeFileSystem() {\n    const fileSystems = await Promise.all([\n      this.createFileSystem('InMemory', {}),\n      this.createFileSystem('CodeSandboxEditorFS', {\n        api: {\n          getSandboxFs: this.options.getSandboxFs,\n          getJwt: () => this.options.getState().jwt,\n        },\n      }),\n      this.createFileSystem('LocalStorage', {}),\n      this.createFileSystem('LocalStorage', {}),\n      Promise.resolve().then(() =>\n        Promise.all([\n          this.createFileSystem('InMemory', {}),\n          this.createFileSystem('BundledHTTPRequest', {\n            index: EXTENSIONS_LOCATION + '/extensions/index.json',\n            baseUrl: EXTENSIONS_LOCATION + '/extensions',\n            bundle: EXTENSIONS_LOCATION + '/bundles/main.min.json',\n            logReads: process.env.NODE_ENV === 'development',\n          }),\n        ]).then(([writableExtensions, readableExtensions]) =>\n          this.createFileSystem('OverlayFS', {\n            writable: writableExtensions,\n            readable: readableExtensions,\n          })\n        )\n      ),\n      this.createFileSystem('InMemory', {}),\n      this.createFileSystem('InMemory', {}),\n    ]);\n\n    const [\n      root,\n      sandbox,\n      vscode,\n      home,\n      extensions,\n      customTheme,\n      recover,\n    ] = fileSystems;\n\n    const mfs = await this.createFileSystem('MountableFileSystem', {\n      '/': root,\n      '/sandbox': sandbox,\n      '/vscode': vscode,\n      '/home': home,\n      '/extensions': extensions,\n      '/extensions/custom-theme': customTheme,\n      '/recover': recover,\n    });\n\n    window.BrowserFS.initialize(mfs);\n\n    return mfs;\n  }\n\n  private initializeReactions() {\n    const { reaction } = this.options;\n\n    reaction(state => state.preferences.settings, this.changeSettings, {\n      nested: true,\n      immediate: true,\n    });\n  }\n\n  private async enableExtension(id: string) {\n    const extensionEnablementService = await this.extensionEnablementService\n      .promise;\n    const extensionIdentifier = (\n      await extensionEnablementService.getDisabledExtensions()\n    ).find(ext => ext.id === id);\n\n    if (extensionIdentifier) {\n      // Sadly we have to call a private api for this. Might change this once we have extension management\n      // built in.\n      extensionEnablementService._enableExtension(extensionIdentifier);\n    }\n  }\n\n  private async loadEditor(monaco: any, container: HTMLElement) {\n    this.monaco = monaco;\n    this.workbench = new Workbench(monaco, this.controller, this.runCommand);\n\n    if (localStorage.getItem('settings.vimmode') === 'true') {\n      this.enableExtension(VIM_EXTENSION_ID);\n    }\n\n    this.workbench.addWorkbenchActions();\n\n    const r = window.require;\n    const [\n      { IEditorService },\n      { ICodeEditorService },\n      { ITextFileService },\n      { ILifecycleService },\n      { IEditorGroupsService },\n      { IStatusbarService },\n      { IExtensionService },\n      { CodeSandboxService },\n      { CodeSandboxConfigurationUIService },\n      { ICodeSandboxEditorConnectorService },\n      { ICommandService },\n      { SyncDescriptor },\n      { IInstantiationService },\n      { IExtensionEnablementService },\n      { IContextViewService },\n    ] = [\n      r('vs/workbench/services/editor/common/editorService'),\n      r('vs/editor/browser/services/codeEditorService'),\n      r('vs/workbench/services/textfile/common/textfiles'),\n      r('vs/platform/lifecycle/common/lifecycle'),\n      r('vs/workbench/services/editor/common/editorGroupsService'),\n      r('vs/platform/statusbar/common/statusbar'),\n      r('vs/workbench/services/extensions/common/extensions'),\n      r('vs/codesandbox/services/codesandbox/browser/codesandboxService'),\n      r('vs/codesandbox/services/codesandbox/configurationUIService'),\n      r(\n        'vs/codesandbox/services/codesandbox/common/codesandboxEditorConnector'\n      ),\n      r('vs/platform/commands/common/commands'),\n      r('vs/platform/instantiation/common/descriptors'),\n      r('vs/platform/instantiation/common/instantiation'),\n      r('vs/platform/extensionManagement/common/extensionManagement'),\n      r('vs/platform/contextview/browser/contextView'),\n    ];\n\n    const { serviceCollection } = await new Promise<any>(resolve => {\n      monaco.editor.create(\n        container,\n        {\n          codesandboxService: i =>\n            new SyncDescriptor(CodeSandboxService, [this.controller, this]),\n          codesandboxConfigurationUIService: i =>\n            new SyncDescriptor(CodeSandboxConfigurationUIService, [\n              this.customEditorApi,\n            ]),\n        },\n        resolve\n      );\n    });\n\n    return new Promise(resolve => {\n      // It has to run the accessor within the callback\n      serviceCollection.get(IInstantiationService).invokeFunction(accessor => {\n        // Initialize these services\n        accessor.get(CodeSandboxConfigurationUIService);\n        accessor.get(ICodeSandboxEditorConnectorService);\n\n        const statusbarPart = accessor.get(IStatusbarService);\n        const menubarPart = accessor.get('menubar');\n        const commandService = accessor.get(ICommandService);\n        const extensionService = accessor.get(IExtensionService);\n        const extensionEnablementService = accessor.get(\n          IExtensionEnablementService\n        );\n\n        this.commandService.resolve(commandService);\n        this.extensionService.resolve(extensionService);\n\n        this.extensionEnablementService.resolve(extensionEnablementService);\n\n        const editorPart = accessor.get(IEditorGroupsService);\n\n        const codeEditorService = accessor.get(ICodeEditorService);\n        const textFileService = accessor.get(ITextFileService);\n        const editorService = accessor.get(IEditorService);\n        const contextViewService = accessor.get(IContextViewService);\n\n        contextViewService.setContainer(container);\n\n        this.editorApi = {\n          openFile(path) {\n            return codeEditorService.openCodeEditor({\n              resource: monaco.Uri.file('/sandbox' + path),\n            });\n          },\n          getActiveCodeEditor() {\n            return codeEditorService.getActiveCodeEditor();\n          },\n          textFileService,\n          editorPart,\n          editorService,\n          codeEditorService,\n          extensionService,\n        };\n\n        window.CSEditor = {\n          editor: this.editorApi,\n          monaco,\n        };\n\n        if (process.env.NODE_ENV === 'development') {\n          // eslint-disable-next-line\n          console.log(accessor);\n        }\n\n        statusbarPart.create(this.elements.statusbar);\n        menubarPart.create(this.elements.menubar);\n        editorPart.create(this.elements.editorPart);\n        editorPart.layout(container.offsetWidth, container.offsetHeight);\n\n        editorPart.parent = container;\n\n        container.appendChild(this.elements.editorPart);\n\n        this.initializeReactions();\n\n        this.configureMonacoLanguages(monaco);\n\n        editorService.onDidActiveEditorChange(this.onActiveEditorChange);\n        this.initializeCodeSandboxAPIListener();\n\n        if (!this.linter && this.settings.lintEnabled) {\n          this.createLinter();\n        }\n\n        const lifecycleService = accessor.get(ILifecycleService);\n\n        // Trigger all VSCode lifecycle listeners\n        lifecycleService.phase = 2; // Restoring\n        requestAnimationFrame(() => {\n          lifecycleService.phase = 3; // Running\n        });\n\n        resolve();\n      });\n    });\n  }\n\n  private prepareElements() {\n    this.elements.editor.className = 'monaco-workbench';\n    this.elements.editor.style.width = '100%';\n    this.elements.editor.style.height = '100%';\n\n    this.elements.menubar.style.alignItems = 'center';\n    this.elements.menubar.style.height = '38px';\n    this.elements.menubar.style.fontSize = '0.8125rem';\n    this.elements.menubar.className = 'menubar';\n\n    this.elements.statusbar.className = 'part statusbar';\n    this.elements.statusbar.id = 'workbench.parts.statusbar';\n\n    this.elements.editorPart.id = 'vscode-editor';\n    this.elements.editorPart.className = 'part editor has-watermark';\n    this.elements.editorPart.style.width = '100%';\n    this.elements.editorPart.style.height = '100%';\n  }\n\n  private configureMonacoLanguages(monaco) {\n    [\n      'typescript',\n      'typescriptreact',\n      'javascript',\n      'javascriptreact',\n      'css',\n      'less',\n      'sass',\n      'graphql',\n      'html',\n      'markdown',\n      'json',\n    ].forEach(language => {\n      monaco.languages.registerDocumentFormattingEditProvider(language, {\n        provideDocumentFormattingEdits: this.provideDocumentFormattingEdits,\n      });\n    });\n  }\n\n  private provideDocumentFormattingEdits = (model, _, token) =>\n    prettify(\n      model.uri.fsPath,\n      () => model.getValue(),\n      this.getPrettierConfig(),\n      () => false,\n      token\n    ).then(newCode => [\n      {\n        range: model.getFullModelRange(),\n        text: newCode,\n      },\n    ]);\n\n  private changeSettings = (settings: Settings) => {\n    this.settings = settings;\n\n    if (!this.linter && this.settings.lintEnabled) {\n      this.createLinter();\n    } else if (this.linter && !this.settings.lintEnabled) {\n      this.linter = this.linter.dispose();\n    }\n  };\n\n  private createLinter() {\n    this.linter = new Linter(this.editorApi, this.monaco);\n  }\n\n  private getPrettierConfig = () => {\n    try {\n      const sandbox = this.options.getCurrentSandbox();\n      if (!sandbox) {\n        return null;\n      }\n      const module = resolveModule(\n        '/.prettierrc',\n        sandbox.modules,\n        sandbox.directories\n      );\n\n      return JSON.parse(module.code || '');\n    } catch (e) {\n      return this.settings.prettierConfig || DEFAULT_PRETTIER_CONFIG;\n    }\n  };\n\n  private onOperationApplied = (data: OnOperationAppliedData) => {\n    const currentModule = this.options.getCurrentModule();\n    if (currentModule && data.moduleShortid === currentModule.shortid) {\n      this.lint(data.title, data.model);\n    }\n\n    this.options.onOperationApplied(data);\n  };\n\n  private onFileChange = (data: OnFileChangeData) => {\n    this.lint(data.title, data.model);\n    this.options.onCodeChange(data);\n  };\n\n  private onActiveEditorChange = () => {\n    if (this.modelSelectionListener) {\n      this.modelSelectionListener.dispose();\n    }\n\n    if (this.modelCursorPositionListener) {\n      this.modelCursorPositionListener.dispose();\n    }\n\n    if (this.modelViewRangeListener) {\n      this.modelViewRangeListener.dispose();\n    }\n\n    const activeEditor = this.editorApi.getActiveCodeEditor();\n\n    if (activeEditor && activeEditor.getModel()) {\n      const modulePath = activeEditor.getModel().uri.path;\n      const currentModule = this.options.getCurrentModule();\n\n      activeEditor.updateOptions({\n        readOnly: this.readOnly || currentModule?.isBinary,\n      });\n\n      if (!modulePath.startsWith('/sandbox')) {\n        return;\n      }\n\n      const sandbox = this.options.getCurrentSandbox();\n      if (this.linter && sandbox) {\n        this.linter.lint(\n          activeEditor.getModel().getValue(),\n          modulePath,\n          activeEditor.getModel().getVersionId(),\n          sandbox.template\n        );\n      }\n\n      if (\n        currentModule &&\n        modulePath === `/sandbox${currentModule.path}` &&\n        currentModule.code !== undefined &&\n        activeEditor.getValue() !== currentModule.code &&\n        !currentModule.isBinary\n      ) {\n        // This means that the file in Cerebral is dirty and has changed,\n        // VSCode only gets saved contents. In this case we manually set the value correctly.\n\n        this.modelsHandler.isApplyingOperation = true;\n        const model = activeEditor.getModel();\n        model.applyEdits([\n          {\n            text: currentModule.code,\n            range: model.getFullModelRange(),\n          },\n        ]);\n        this.modelsHandler.isApplyingOperation = false;\n      }\n\n      let lastViewRange = null;\n      const isDifferentViewRange = (r1: UserViewRange, r2: UserViewRange) =>\n        r1.startLineNumber !== r2.startLineNumber ||\n        r1.startColumn !== r2.startColumn ||\n        r1.endLineNumber !== r2.endLineNumber ||\n        r1.endColumn !== r2.endColumn;\n\n      this.modelViewRangeListener = activeEditor.onDidScrollChange(e => {\n        const [range] = activeEditor.getVisibleRanges();\n\n        if (\n          lastViewRange == null ||\n          (range && isDifferentViewRange(lastViewRange!, range))\n        ) {\n          lastViewRange = range;\n          this.options.onViewRangeChanged(range);\n        }\n      });\n\n      this.modelCursorPositionListener = activeEditor.onDidChangeCursorPosition(\n        cursor => {\n          if (\n            sandbox &&\n            sandbox.featureFlags.comments &&\n            hasPermission(sandbox.authorization, 'comment')\n          ) {\n            const model = activeEditor.getModel();\n\n            this.modelsHandler.updateLineCommentIndication(\n              model,\n              cursor.position.lineNumber\n            );\n          }\n        }\n      );\n\n      this.modelSelectionListener = activeEditor.onDidChangeCursorSelection(\n        selectionChange => {\n          const model = activeEditor.getModel();\n          const lines = model.getLinesContent() || [];\n          const data: onSelectionChangeData = {\n            primary: getSelection(lines, selectionChange.selection),\n            secondary: selectionChange.secondarySelections.map(s =>\n              getSelection(lines, s)\n            ),\n            source: selectionChange.source,\n          };\n\n          if (\n            selectionChange.reason === 3 ||\n            /* alt + shift + arrow keys */ selectionChange.source ===\n              'moveWordCommand' ||\n            /* click inside a selection */ selectionChange.source === 'api'\n          ) {\n            this.onSelectionChangeDebounced.cancel();\n            this.options.onSelectionChanged(data);\n          } else {\n            // This is just on typing, we send a debounced selection update as a\n            // safeguard to make sure we are in sync\n            this.onSelectionChangeDebounced(data);\n          }\n        }\n      );\n    }\n  };\n\n  private initializeCodeSandboxAPIListener() {\n    return listen(({ action, type, code, path, lineNumber, column }: any) => {\n      if (type === 'add-extra-lib') {\n        // TODO: bring this func back\n        // const dtsPath = `${path}.d.ts`;\n        // this.monaco.languages.typescript.typescriptDefaults._extraLibs[\n        //   `file:///${dtsPath}`\n        // ] = code;\n        // this.commitLibChanges();\n      } else if (action === 'editor.open-module') {\n        const options: {\n          selection?: { startLineNumber: number; startColumn: number };\n        } = {};\n\n        if (lineNumber || column) {\n          options.selection = {\n            startLineNumber: +lineNumber,\n            startColumn: +(column || 0),\n          };\n        }\n\n        this.editorApi.codeEditorService.openCodeEditor({\n          resource: this.monaco.Uri.file('/sandbox' + path),\n          options,\n        });\n      }\n    });\n  }\n\n  private lint(title: string, model: any) {\n    const sandbox = this.options.getCurrentSandbox();\n    if (!sandbox || !this.linter) {\n      return;\n    }\n    this.linter.lint(\n      model.getValue(),\n      title,\n      model.getVersionId(),\n      sandbox.template\n    );\n  }\n\n  private getCurrentModelPath = () => {\n    const activeEditor = this.editorApi.getActiveCodeEditor();\n\n    if (!activeEditor) {\n      return undefined;\n    }\n    const model = activeEditor.getModel();\n    if (!model) {\n      return undefined;\n    }\n\n    return model.uri.path.replace(/^\\/sandbox/, '');\n  };\n\n  // This is used by the CodesandboxService internally\n  private addNotification(\n    message: string,\n    type: 'error' | 'info' | 'warning' | 'success',\n    options: { actions: NotificationMessage['actions']; sticky?: boolean }\n  ) {\n    const getStatus = () => {\n      switch (type) {\n        case 'error':\n          return NotificationStatus.ERROR;\n        case 'warning':\n          return NotificationStatus.WARNING;\n        case 'success':\n          return NotificationStatus.SUCCESS;\n        default:\n          return NotificationStatus.NOTICE;\n      }\n    };\n\n    notificationState.addNotification({\n      message,\n      status: getStatus(),\n      sticky: options.sticky,\n      actions: options.actions,\n    });\n  }\n\n  private listenToCommentClick() {\n    window.addEventListener('click', event => {\n      const target = event.target as HTMLElement;\n      if (target.classList.contains('editor-comments-glyph')) {\n        /*\n          We grab the id of the commenthread by getting the last classname.\n          The last part of the classname is the id.\n        */\n        const lastClass = Array.from(target.classList).pop();\n\n        if (lastClass) {\n          const commentIds = lastClass.startsWith('editor-comments-ids-')\n            ? (lastClass.split('editor-comments-ids-').pop() || '').split('_')\n            : [];\n          const boundingRect = target.getBoundingClientRect();\n          this.options.onCommentClick({\n            commentIds,\n            bounds: {\n              left: boundingRect.left,\n              top: boundingRect.top,\n              right: boundingRect.right,\n              bottom: boundingRect.bottom,\n            },\n          });\n        }\n      }\n    });\n  }\n}\n\nexport default new VSCodeEffect();\n","import getTemplate from '@codesandbox/common/lib/templates';\nimport {\n  Sandbox,\n  VercelConfig,\n  VercelDeployment,\n  VercelUser,\n} from '@codesandbox/common/lib/types';\nimport axios from 'axios';\nimport { omit } from 'lodash-es';\n\ntype Options = {\n  getToken(): string | null;\n};\n\ninterface Object {\n  [key: string]: string;\n}\n\ninterface ApiData {\n  builds: Object[];\n  config?: Object;\n  deploymentType?: string;\n  env?: Object;\n  files: File[];\n  forceNew?: boolean;\n  name: string;\n  public?: boolean;\n  regions: string[];\n  routes: Object[];\n  scope?: string;\n  version: number;\n}\n\ninterface File {\n  data: string;\n  encoding?: string;\n  file: string;\n}\n\nexport default (() => {\n  let _options: Options;\n\n  function getDefaultHeaders() {\n    const token = _options.getToken();\n\n    if (!token) {\n      throw new Error('You have no Vercel token');\n    }\n\n    return {\n      Authorization: `bearer ${token}`,\n    };\n  }\n\n  async function deploysByID(id) {\n    try {\n      const response = await axios.get(\n        `https://api.vercel.com/v2/now/deployments/${id}/aliases`,\n        {\n          headers: getDefaultHeaders(),\n        }\n      );\n\n      return response.data;\n    } catch (e) {\n      console.error(e);\n      return null;\n    }\n  }\n\n  return {\n    initialize(options: Options) {\n      _options = options;\n    },\n    async checkEnvironmentVariables(\n      sandbox: Sandbox,\n      envVars: {\n        [key: string]: string;\n      }\n    ) {\n      const nowData = this.getConfig(sandbox);\n      if (!nowData || !nowData.env) return null;\n      const all = Object.keys(nowData.env).map(async envVar => {\n        const name = nowData.env[envVar].split('@')[1];\n\n        if (envVars[envVar]) {\n          try {\n            await axios.post(\n              `https://api.vercel.com/v3/now/secrets/`,\n              {\n                name,\n                value: envVars[envVar],\n              },\n              { headers: getDefaultHeaders() }\n            );\n            // We don't do anything with the error for two main reasons\n            // 1 - Vercel already shows an error if a ENV variable is missing and you try to deploy\n            // 2 - This will also fail if the user already has the secret in their account\n            // eslint-disable-next-line no-empty\n          } catch {}\n        }\n      });\n\n      await Promise.all(all);\n\n      return null;\n    },\n    getConfig(sandbox: Sandbox): VercelConfig {\n      const nowConfigs = sandbox.modules\n        .filter(\n          m =>\n            m.title === 'now.json' ||\n            (m.title === 'package.json' && JSON.parse(m.code).now)\n        )\n        .map(c => JSON.parse(c.code));\n      const nowData = nowConfigs[0] || {};\n\n      if (!nowData.name) {\n        nowData.name = `csb-${sandbox.id}`;\n      }\n\n      return nowData;\n    },\n    async getDeployments(name: string): Promise<VercelDeployment[]> {\n      const response = await axios.get<{ deployments: VercelDeployment[] }>(\n        'https://api.vercel.com/v4/now/deployments',\n        {\n          headers: getDefaultHeaders(),\n        }\n      );\n\n      const deploysNoAlias = response.data.deployments\n        .filter(d => d.name === name)\n        .sort((a, b) => (a.created < b.created ? 1 : -1));\n\n      const assignAlias = async d => {\n        const alias = await deploysByID(d.uid);\n        if (alias) {\n          // eslint-disable-next-line\n          d.alias = alias.aliases;\n        } else {\n          d.alias = [];\n        }\n        return d;\n      };\n\n      return Promise.all(deploysNoAlias.map(assignAlias));\n    },\n    async getUser(): Promise<VercelUser> {\n      const response = await axios.get('https://api.vercel.com/www/user', {\n        headers: getDefaultHeaders(),\n      });\n\n      return response.data.user;\n    },\n    async deleteDeployment(id: string): Promise<VercelDeployment[]> {\n      const response = await axios.delete(\n        `https://api.vercel.com/v9/now/deployments/${id}`,\n        {\n          headers: getDefaultHeaders(),\n        }\n      );\n      return response.data.deployments;\n    },\n    async deploy(contents: any, sandbox: Sandbox): Promise<string> {\n      const apiData = await getApiData(contents, sandbox);\n      const deploymentVersion = apiData.version === 2 ? 'v9' : 'v3';\n\n      const response = await axios.post(\n        `https://api.vercel.com/${deploymentVersion}/now/deployments?forceNew=1`,\n        apiData,\n        {\n          headers: getDefaultHeaders(),\n        }\n      );\n\n      return `https://${response.data.url}`;\n    },\n    async aliasDeployment(\n      id: string,\n      vercelConfig: VercelConfig\n    ): Promise<string> {\n      const response = await axios.post(\n        `https://api.vercel.com/v2/now/deployments/${id}/aliases`,\n        { alias: vercelConfig.alias },\n        {\n          headers: getDefaultHeaders(),\n        }\n      );\n\n      return `https://${response.data.alias}`;\n    },\n  };\n})();\n\nasync function getApiData(contents: any, sandbox: Sandbox) {\n  const template = getTemplate(sandbox.template);\n\n  let apiData: Partial<ApiData> = {\n    files: [],\n  };\n  let packageJSON: any = {};\n  let nowJSON: any = {};\n\n  const projectPackage = contents.files['package.json'];\n  const nowFile = contents.files['now.json'];\n\n  if (projectPackage) {\n    const data = await projectPackage.async('text'); // eslint-disable-line no-await-in-loop\n\n    const parsed = JSON.parse(data);\n    packageJSON = parsed;\n  }\n\n  if (nowFile) {\n    const data = await nowFile.async('text'); // eslint-disable-line no-await-in-loop\n\n    const parsed = JSON.parse(data);\n    nowJSON = parsed;\n  } else if (packageJSON.now) {\n    // Also support package.json if imported like that\n    nowJSON = packageJSON.now;\n  }\n\n  const nowDefaults: Pick<ApiData, 'name'> = {\n    name: `csb-${sandbox.id}`,\n  };\n\n  const filePaths = nowJSON.files || Object.keys(contents.files);\n\n  // We'll omit the homepage-value from package.json as it creates wrong assumptions over the now deployment environment.\n  packageJSON = omit(packageJSON, 'homepage');\n\n  // We force the sandbox id, so Vercel will always group the deployments to a\n  // single sandbox\n  packageJSON.name = nowJSON.name || nowDefaults.name;\n\n  apiData.name = nowJSON.name || nowDefaults.name;\n  apiData.deploymentType = nowJSON.type;\n  if (nowJSON.public) {\n    apiData.public = nowJSON.public;\n  }\n\n  // if now v2 we need to tell now the version, builds and routes\n  if (nowJSON.version === 1) {\n    apiData.config = omit(nowJSON, [\n      'public',\n      'type',\n      'name',\n      'files',\n      'version',\n    ]);\n    apiData.forceNew = true;\n  } else {\n    apiData.version = 2;\n    apiData.builds = nowJSON.builds;\n    apiData.routes = nowJSON.routes;\n    apiData.env = nowJSON.env;\n    apiData.scope = nowJSON.scope;\n    apiData['build.env'] = nowJSON['build.env'];\n    apiData.regions = nowJSON.regions;\n  }\n\n  if (!nowJSON.files && apiData?.files) {\n    apiData.files.push({\n      file: 'package.json',\n      data: JSON.stringify(packageJSON, null, 2),\n    });\n  }\n\n  for (let i = 0; i < filePaths.length; i += 1) {\n    const filePath = filePaths[i];\n    const file = contents.files[filePath];\n\n    if (!file.dir && filePath !== 'package.json' && apiData?.files) {\n      const data = await file.async('base64'); // eslint-disable-line no-await-in-loop\n\n      apiData.files.push({ file: filePath, data, encoding: 'base64' });\n    }\n\n    // if person added some files but no package.json\n    if (\n      filePath === 'package.json' &&\n      apiData?.files &&\n      !apiData.files.find(f => f.file === 'package.json')\n    ) {\n      apiData.files.push({\n        file: 'package.json',\n        data: JSON.stringify(packageJSON, null, 2),\n      });\n    }\n  }\n\n  // this adds unnecessary code for version 2\n  // packages/common/templates/template.js\n  if (template.alterDeploymentData && nowJSON.version !== 2) {\n    apiData = template.alterDeploymentData(apiData);\n  }\n\n  return apiData;\n}\n","import prettify from 'app/utils/prettify';\nimport { PrettierConfig, Module } from '@codesandbox/common/lib/types';\n\ntype Options = {\n  getPrettierConfig(): PrettierConfig;\n  getCurrentModule(): Module;\n};\n\nlet _options: Options;\n\nexport default {\n  initialize(options: Options) {\n    _options = options;\n  },\n  prettify(moduleId: string, title: string, code: string): Promise<string> {\n    return prettify(\n      title,\n      () => code,\n      _options.getPrettierConfig(),\n      () => _options.getCurrentModule().id === moduleId\n    );\n  },\n};\n","import { mapKeys } from 'lodash-es';\nimport toml from 'markty-toml';\n\nexport default sandbox => {\n  const netlifyConfig = sandbox.modules\n    .filter(\n      module =>\n        module.title === 'netlify.toml' && module.directoryShortid == null\n    )\n    .map(m => toml(m.code))[0] || { build: {} };\n\n  return mapKeys(netlifyConfig.build, (v, k) => k.toLowerCase());\n};\n","import getTemplate from '@codesandbox/common/lib/templates';\nimport { NetlifySite, Sandbox } from '@codesandbox/common/lib/types';\nimport getNetlifyConfig from 'app/utils/getNetlifyConfig';\nimport axios from 'axios';\n\nconst NetlifyBaseURL = 'https://netlify.deploy.codesandbox.io/site';\n\ntype Options = {\n  getUserId(): string | null;\n};\n\nexport default (() => {\n  let _options: Options;\n\n  return {\n    initialize(options: Options) {\n      _options = options;\n    },\n    async waitForDeploy(id: string, onLogUrlUpdate: (logUrl: string) => void) {\n      const url = `${NetlifyBaseURL}/${id}/status`;\n\n      const { data } = await axios.get(url);\n\n      if (data.status.status === 'IN_PROGRESS') {\n        await pollUntilDone(axios, url, 10000, 60 * 2000, onLogUrlUpdate);\n      }\n    },\n    async claimSite(sandboxId: string) {\n      const userId = _options.getUserId();\n      const sessionId = `${userId}-${sandboxId}`;\n\n      const { data } = await axios.get(\n        `${NetlifyBaseURL}-claim?sessionId=${sessionId}`\n      );\n\n      return data.claim;\n    },\n    async getDeployments(sandboxId: string): Promise<NetlifySite> {\n      const response = await axios.request({\n        url: `${NetlifyBaseURL}/${sandboxId}`,\n      });\n\n      return response.data;\n    },\n    async deploy(file: string, sandbox: Sandbox): Promise<string> {\n      const userId = _options.getUserId();\n      const template = getTemplate(sandbox.template);\n      const buildCommand = (name: string) => {\n        if (name === 'styleguidist') {\n          return 'styleguide:build';\n        }\n        if (name === 'nuxt') {\n          return 'generate';\n        }\n\n        return 'build';\n      };\n      const buildConfig = getNetlifyConfig(sandbox);\n      // command needs to be passed without the package manager name\n      const buildCommandFromConfig = (buildConfig.command || '')\n        .replace('npm run', '')\n        .replace('yarn ', '');\n      let id = '';\n      try {\n        const { data } = await axios.request({\n          url: `${NetlifyBaseURL}/${sandbox.id}`,\n        });\n\n        id = data.site_id;\n      } catch (e) {\n        const { data } = await axios.post(NetlifyBaseURL, {\n          name: `csb-${sandbox.id}`,\n          session_id: `${userId}-${sandbox.id}`,\n        });\n        id = data.site_id;\n      }\n\n      await axios.post(\n        `${NetlifyBaseURL}/${\n          sandbox.id\n        }/deploys?siteId=${id}&dist=${buildConfig.publish ||\n          template.distDir}&buildCommand=${buildCommandFromConfig ||\n          buildCommand(template.name)}`,\n        file,\n        {\n          headers: {\n            'Content-Type': 'application/zip',\n          },\n        }\n      );\n\n      return id;\n    },\n  };\n})();\n\nfunction delay(t) {\n  return new Promise(resolve => {\n    setTimeout(resolve, t);\n  });\n}\n\nfunction pollUntilDone(http, url, interval, timeout, onLogUrlUpdate) {\n  const start = Date.now();\n  function run() {\n    return http\n      .request({ url })\n      .then(({ data }) => {\n        if (data.status.status !== 'IN_PROGRESS') {\n          // DOOOONE\n          return data;\n        }\n        if (timeout !== 0 && Date.now() - start > timeout) {\n          return data;\n        }\n\n        if (data.status.logUrl) {\n          onLogUrlUpdate(data.status.logUrl);\n        }\n        // run again with a short delay\n        return delay(interval).then(run);\n      })\n      .catch(e => e);\n  }\n  return run();\n}\n","import { Sandbox } from '@codesandbox/common/lib/types';\n\nexport default {\n  create(sandbox: Sandbox) {\n    return import(\n      /* webpackChunkName: 'create-zip' */ './create-zip'\n    ).then(module =>\n      module\n        .getZip(sandbox, sandbox.modules, sandbox.directories)\n        .then(result => ({ file: result.file }))\n    );\n  },\n  download(sandbox: Sandbox) {\n    return import(\n      /* webpackChunkName: 'create-zip' */ './create-zip'\n    ).then(module =>\n      module\n        .default(sandbox, sandbox.modules, sandbox.directories)\n        .then(file => ({ file }))\n    );\n  },\n};\n","import { dispatch, listen } from 'codesandbox-api';\n\nconst listeners = new Map();\n\nexport default {\n  listen(action: ({ data: any }) => void): () => void {\n    if (listeners.get(action)) {\n      listeners.get(action)();\n    }\n\n    const disposer = listen(data => {\n      action({ data: data || {} });\n    });\n    listeners.set(action, disposer);\n\n    return disposer;\n  },\n  restartSandbox() {\n    dispatch({ type: 'socket:message', channel: 'sandbox:restart' });\n  },\n  disconnectSSE() {\n    dispatch({ type: 'codesandbox:sse:disconnect' });\n  },\n  logTerminalMessage(data: any) {\n    dispatch({\n      type: 'terminal:message',\n      data,\n    });\n  },\n  exitShell(data: any) {\n    const { id, code, signal } = data;\n\n    dispatch({\n      type: 'shell:exit',\n      code,\n      signal,\n      id,\n    });\n  },\n  outShell(dataArg: any) {\n    const { id, data } = dataArg;\n\n    dispatch({\n      type: 'shell:out',\n      data,\n      id,\n    });\n  },\n};\n","import themes from '@codesandbox/common/lib/themes';\n\nexport default themes;\n","import e from\"socket.io-client\";import{dispatch as t}from\"codesandbox-api\";import n from\"debug\";var o=function(){function e(){}var t=e.prototype;return t.initialize=function(){return Promise.resolve()},t.setup=function(){return Promise.resolve()},t.dispose=function(){return Promise.resolve()},t.updateFiles=function(){},t.emit=function(){},t.on=function(){},e}();\"undefined\"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol(\"Symbol.iterator\"))),\"undefined\"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol(\"Symbol.asyncIterator\")));var r=n(\"executors:server\");function i(e){t({type:\"terminal:message\",data:\"> Sandbox Container: \"+e+\"\\n\\r\"})}var s=function(){function t(){this.connectTimeout=null,this.token=this.retrieveSSEToken()}var n=t.prototype;return n.initializeSocket=function(){if(!this.sandboxId)throw new Error(\"initializeSocket: sandboxId is not defined\");var t=(this.host||\"https://codesandbox.io\").replace(\"https://\",\"https://sse.\");this.socket=e(t,{autoConnect:!1,transports:[\"websocket\",\"polling\"],query:{sandboxid:this.sandboxId}})},n.initialize=function(e){var t=e.sandboxId,n=e.files,o=e.host;try{var r,i=this;if(i.sandboxId===t&&(null==(r=i.socket)?void 0:r.connected))return;return i.host=o,i.sandboxId=t,i.lastSent=n,Promise.resolve(i.dispose()).then(function(){return Promise.resolve(new Promise(function(e){return setTimeout(function(){return e()},0)})).then(function(){i.initializeSocket()})})}catch(e){return Promise.reject(e)}},n.setup=function(){try{return r(\"Setting up server executor...\"),this.openSocket()}catch(e){return Promise.reject(e)}},n.dispose=function(){try{var e,t;null==(e=this.socket)||e.removeAllListeners(),null==(t=this.socket)||t.close()}catch(e){return Promise.reject(e)}},n.updateFiles=function(e){var t=this.lastSent?function(e,t){var n={};return Object.keys(t).filter(function(n){return!e[n]||(e[n].savedCode||e[n].code)!==(t[n].savedCode||t[n].code)}).forEach(function(e){n[e]={code:t[e].code,path:t[e].path,savedCode:t[e].savedCode,isBinary:t[e].isBinary}}),Object.keys(e).forEach(function(o){t[o]||(n[o]={path:e[o].path,isBinary:!1,code:null,savedCode:null})}),n}(this.lastSent,e):e;this.lastSent=e,Object.keys(t).length>0&&this.socket&&(r(Object.keys(t).length+\" files changed, sending to SSE.\"),r(t),this.socket.emit(\"sandbox:update\",t))},n.emit=function(e,t){var n;null==(n=this.socket)||n.emit(e,t)},n.on=function(e,t){var n;null==(n=this.socket)||n.on(e,t)},n.openSocket=function(){var e,t=this;return(null==(e=this.socket)?void 0:e.connected)?Promise.resolve():new Promise(function(e,n){var o,s,c,a=t;null==(o=t.socket)||o.on(\"connect\",function(){try{var t=function(t,n){try{var o=(a.connectTimeout&&(clearTimeout(a.connectTimeout),a.connectTimeout=null),Promise.resolve(a.startSandbox()).then(function(){e()}))}catch(e){return n(e)}return o&&o.then?o.then(void 0,n):o}(0,function(e){r(\"Error connecting to SSE manager: \",e),n(e)});return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}),null==(s=t.socket)||s.on(\"sandbox:start\",function(){i(\"Sandbox \"+t.sandboxId+\" started\")}),null==(c=t.socket)||c.open()})},n.startSandbox=function(){try{var e=this;return Promise.resolve(e.token).then(function(t){var n,o;null==(n=e.socket)||n.emit(\"sandbox\",{id:e.sandboxId,token:t}),r(\"Connected to sse manager, sending start signal...\"),i(\"Starting sandbox \"+e.sandboxId+\"...\"),null==(o=e.socket)||o.emit(\"sandbox:start\")})}catch(e){return Promise.reject(e)}},n.retrieveSSEToken=function(){try{r(\"Retrieving SSE token...\");var e=localStorage.getItem(\"jwt\");if(e){var t=JSON.parse(e),n=localStorage.getItem(\"sse\"),o=(new Date).getTime();if(n){var i=JSON.parse(n);if(i.key&&o-i.timestamp<864e5)return r(\"Retrieved SSE token from cache\"),i.key}return fetch(\"/api/v1/users/current_user/sse\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+t}}).then(function(e){return e.json()}).then(function(e){return e.jwt}).then(function(e){return r(\"Retrieved SSE token from API\"),localStorage.setItem(\"sse\",JSON.stringify({key:e,timestamp:o})),e})}return void r(\"Not signed in, returning undefined\")}catch(e){return Promise.reject(e)}},t}();export{o as SandboxExecutor,s as ServerExecutor};\n//# sourceMappingURL=codesandboxexecutors.es.production.js.map\n","import getDefinition from '@codesandbox/common/lib/templates';\nimport { generateFileFromSandbox } from '@codesandbox/common/lib/templates/configuration/package-json';\nimport { Sandbox } from '@codesandbox/common/lib/types';\nimport {\n  IExecutor,\n  SandboxExecutor,\n  ServerExecutor,\n} from '@codesandbox/executors';\nimport { IFiles } from '@codesandbox/executors/dist/executor';\n\nfunction getExecutorType(isServer: boolean) {\n  if (isServer) {\n    return ServerExecutor;\n  }\n\n  return SandboxExecutor;\n}\n\nfunction getModulesToSend(sandbox: Sandbox): IFiles {\n  const modulesObject: IFiles = {};\n\n  sandbox.modules.forEach(m => {\n    const { path } = m;\n    if (path) {\n      modulesObject[path] = {\n        code: m.code,\n        savedCode: m.savedCode,\n        path,\n        isBinary: m.isBinary,\n      };\n    }\n  });\n\n  if (!modulesObject['/package.json']) {\n    modulesObject['/package.json'] = {\n      code: generateFileFromSandbox(sandbox),\n      savedCode: null,\n      path: '/package.json',\n      isBinary: false,\n    };\n  }\n\n  return modulesObject;\n}\n\n/**\n * In CodeSandbox we use an interface to send files to the bundler. A service that talks to a \"bundler\"\n * is called an \"executor\". We currently have two executors:\n *\n * - SandboxExecutor, this is the browser based bundler\n * - ServerExectutor, this is our SSE system that we talk to. This system executes the code in a Docker container\n *\n * An executor is responsible for connecting and talking to a service, it exposes some methods to allow other services\n * to talk to it.\n *\n * This manager is responsible for instantiating the right executor (based on the sandbox) and making it globally available.\n * Until we run Overmind as our state management we'll have to put this as a singleton for now.\n */\nexport class ExecutorsManager {\n  executor: IExecutor | null = null;\n\n  async initializeExecutor(sandbox: Sandbox) {\n    const { isServer } = getDefinition(sandbox.template);\n    const ExecutorType = getExecutorType(isServer);\n\n    // Can we reuse the existing executor or do we need to create a new one?\n    if (this.executor && !(this.executor instanceof ExecutorType)) {\n      await this.executor.dispose();\n\n      this.executor = null;\n    }\n\n    if (!this.executor) {\n      this.executor = new ExecutorType();\n    }\n\n    const sseHost = process.env.STAGING_API\n      ? 'https://codesandbox.stream'\n      : 'https://codesandbox.io';\n\n    await this.executor!.initialize({\n      sandboxId: sandbox.id,\n      files: getModulesToSend(sandbox),\n      // this is in the type idk what is wrong\n      // @ts-ignore\n      host: sseHost,\n    });\n\n    return this.executor!;\n  }\n\n  async setupExecutor() {\n    if (this.executor) {\n      this.executor.setup();\n    }\n  }\n\n  isServer() {\n    return this.executor instanceof ServerExecutor;\n  }\n\n  updateFiles(sandbox: Sandbox) {\n    const modules = getModulesToSend(sandbox);\n\n    if (this.executor) {\n      this.executor.updateFiles(modules);\n    }\n  }\n\n  /**\n   * Get the current executor. There are two states here that could break this:\n   *\n   * - The executor is not defined yet. This should be impossible because the editor only renders when the sandbox\n   *   has been loaded and thus the executor has been loaded.\n   * - The executor changes while listeners have been registered. All the listeners registered here are very specific\n   *   to either the sandbox or the server executor. Changing the executor would probably also result in components unmounting/\n   *   remounting and registering new listeners.\n   */\n  getExecutor(): IExecutor | null {\n    return this.executor;\n  }\n\n  async closeExecutor() {\n    if (this.executor) {\n      await this.executor.dispose();\n      this.executor = null;\n    }\n  }\n}\n\nexport const executorsManager = new ExecutorsManager();\n","import { STRIPE_API_KEY } from '@codesandbox/common/lib/utils/config';\n\ndeclare let Stripe: any;\n\nfunction loadScript(path: string) {\n  return new Promise(resolve => {\n    if (typeof document !== 'undefined') {\n      const script = document.createElement('script');\n      script.onload = resolve;\n      script.async = true;\n      script.type = 'text/javascript';\n      script.src = path;\n      document.head.appendChild(script);\n    }\n  });\n}\n\nlet localStripeVar;\nconst getStripe = async (): Promise<any> => {\n  if (typeof Stripe === 'undefined') {\n    await loadScript('https://js.stripe.com/v3/');\n  }\n\n  if (!localStripeVar) {\n    localStripeVar = Stripe(STRIPE_API_KEY);\n  }\n\n  return localStripeVar;\n};\n\nexport default {\n  handleCardPayment: async (paymentIntent: string) => {\n    const stripe = await getStripe();\n\n    return stripe.handleCardPayment(paymentIntent);\n  },\n};\n","import { Sandbox } from '@codesandbox/common/lib/types';\nimport { executorsManager } from 'app/utils/executor-manager';\n\nexport default {\n  initializeExecutor(sandbox: Sandbox) {\n    return executorsManager.initializeExecutor(sandbox);\n  },\n  setupExecutor() {\n    return executorsManager.setupExecutor();\n  },\n  listen(event: string, action: (arg: { event: string; data: any }) => void) {\n    const executor = executorsManager.getExecutor();\n\n    if (!executor) {\n      throw new Error(\n        'Executor is not defined yet, this is an impossible state'\n      );\n    }\n\n    return executor.on(event, data => {\n      action({ event, data: data || {} });\n    });\n  },\n  emit(message: string, data?: any) {\n    const executor = executorsManager.getExecutor();\n\n    if (executor) {\n      executor.emit(message, data);\n    }\n  },\n  closeExecutor() {\n    return executorsManager.closeExecutor();\n  },\n  updateFiles(sandbox: Sandbox) {\n    return executorsManager.updateFiles(sandbox);\n  },\n  isServer() {\n    return executorsManager.isServer();\n  },\n};\n","import BasePreview from '@codesandbox/common/lib/components/Preview';\nimport { blocker } from 'app/utils/blocker';\n\nimport { Reaction } from '..';\n\nlet _preview = blocker<BasePreview>();\nlet _reaction: Reaction;\n\nexport default {\n  initialize(reaction: Reaction) {\n    _reaction = reaction;\n  },\n  initializePreview(preview: any) {\n    _preview.resolve(preview);\n\n    const dispose = _reaction(\n      state => [\n        state.editor.isAllModulesSynced,\n        state.editor.currentSandbox?.template,\n        state.preferences.settings.livePreviewEnabled,\n      ],\n      ([isAllModulesSynced, template, livePreviewEnabled]) => {\n        if (\n          isAllModulesSynced &&\n          (template === 'static' || !livePreviewEnabled)\n        ) {\n          preview.handleRefresh();\n        }\n      }\n    );\n\n    return () => {\n      dispose();\n      _preview = blocker<any>();\n    };\n  },\n  async executeCodeImmediately({\n    initialRender = false,\n    showFullScreen = false,\n  } = {}) {\n    const preview = await _preview.promise;\n    preview.executeCodeImmediately(initialRender, showFullScreen);\n  },\n  async executeCode() {\n    const preview = await _preview.promise;\n    preview.executeCode();\n  },\n  async refresh() {\n    const preview = await _preview.promise;\n    preview.handleRefresh();\n  },\n  async updateAddressbarUrl() {\n    const preview = await _preview.promise;\n    preview.updateAddressbarUrl();\n  },\n};\n","import { identify, resetUserId } from '@codesandbox/common/lib/utils/analytics';\nimport store from 'store/dist/store.modern';\n\nexport default {\n  get() {\n    return (\n      store.get('jwt') || (document.cookie.match(/[; ]?jwt=([^\\s;]*)/) || [])[1]\n    );\n  },\n  set(jwt) {\n    document.cookie = `signedIn=true; Path=/;`;\n\n    return store.set('jwt', jwt);\n  },\n  reset() {\n    document.cookie = `signedIn=; Path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;`;\n    document.cookie = `jwt=; Path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;`;\n\n    identify('signed_in', false);\n    resetUserId();\n\n    return store.set('jwt', null);\n  },\n};\n","import { Reaction, RootState } from '..';\n\nexport default (() => {\n  let _reaction: Reaction;\n\n  return {\n    initialize(reaction: Reaction) {\n      _reaction = reaction;\n    },\n    waitUntil(test: (state: RootState) => boolean): Promise<boolean> {\n      return new Promise(resolve => {\n        _reaction(test, bool => {\n          if (bool === true) {\n            resolve();\n          }\n        });\n      });\n    },\n  };\n})();\n","import { gql } from 'overmind-graphql';\n\nexport const collaboratorFragment = gql`\n  fragment Collaborator on Collaborator {\n    id\n    authorization\n    lastSeenAt\n    warning\n    user {\n      id\n      username\n      avatarUrl\n    }\n  }\n`;\n\nexport const sandboxInvitationFragment = gql`\n  fragment Invitation on Invitation {\n    id\n    authorization\n    email\n  }\n`;\n\nexport const sandboxChangedFragment = gql`\n  fragment SandboxChanged on Sandbox {\n    id\n    privacy\n    title\n    description\n    authorization\n  }\n`;\n","import {\n  AddCollaboratorMutation,\n  AddCollaboratorMutationVariables,\n  ChangeCollaboratorAuthorizationMutation,\n  ChangeCollaboratorAuthorizationMutationVariables,\n  ChangeSandboxInvitationAuthorizationMutation,\n  ChangeSandboxInvitationAuthorizationMutationVariables,\n  InviteCollaboratorMutation,\n  InviteCollaboratorMutationVariables,\n  RedeemSandboxInvitationMutation,\n  RedeemSandboxInvitationMutationVariables,\n  RemoveCollaboratorMutation,\n  RemoveCollaboratorMutationVariables,\n  RevokeSandboxInvitationMutation,\n  RevokeSandboxInvitationMutationVariables,\n} from 'app/graphql/types';\nimport { gql, Query } from 'overmind-graphql';\n\nimport { collaboratorFragment, sandboxInvitationFragment } from './fragments';\n\nexport const addCollaborator: Query<\n  AddCollaboratorMutation,\n  AddCollaboratorMutationVariables\n> = gql`\n  mutation AddCollaborator(\n    $sandboxId: ID!\n    $username: String!\n    $authorization: Authorization!\n  ) {\n    addCollaborator(\n      sandboxId: $sandboxId\n      username: $username\n      authorization: $authorization\n    ) {\n      ...Collaborator\n    }\n  }\n  ${collaboratorFragment}\n`;\n\nexport const removeCollaborator: Query<\n  RemoveCollaboratorMutation,\n  RemoveCollaboratorMutationVariables\n> = gql`\n  mutation RemoveCollaborator($sandboxId: ID!, $username: String!) {\n    removeCollaborator(sandboxId: $sandboxId, username: $username) {\n      ...Collaborator\n    }\n  }\n  ${collaboratorFragment}\n`;\n\nexport const changeCollaboratorAuthorization: Query<\n  ChangeCollaboratorAuthorizationMutation,\n  ChangeCollaboratorAuthorizationMutationVariables\n> = gql`\n  mutation ChangeCollaboratorAuthorization(\n    $sandboxId: ID!\n    $username: String!\n    $authorization: Authorization!\n  ) {\n    changeCollaboratorAuthorization(\n      sandboxId: $sandboxId\n      username: $username\n      authorization: $authorization\n    ) {\n      ...Collaborator\n    }\n  }\n  ${collaboratorFragment}\n`;\n\nexport const inviteCollaborator: Query<\n  InviteCollaboratorMutation,\n  InviteCollaboratorMutationVariables\n> = gql`\n  mutation InviteCollaborator(\n    $sandboxId: ID!\n    $authorization: Authorization!\n    $email: String!\n  ) {\n    createSandboxInvitation(\n      sandboxId: $sandboxId\n      authorization: $authorization\n      email: $email\n    ) {\n      ...Invitation\n    }\n  }\n  ${sandboxInvitationFragment}\n`;\n\nexport const revokeInvitation: Query<\n  RevokeSandboxInvitationMutation,\n  RevokeSandboxInvitationMutationVariables\n> = gql`\n  mutation RevokeSandboxInvitation($sandboxId: ID!, $invitationId: ID!) {\n    revokeSandboxInvitation(\n      sandboxId: $sandboxId\n      invitationId: $invitationId\n    ) {\n      ...Invitation\n    }\n  }\n  ${sandboxInvitationFragment}\n`;\n\nexport const changeSandboxInvitationAuthorization: Query<\n  ChangeSandboxInvitationAuthorizationMutation,\n  ChangeSandboxInvitationAuthorizationMutationVariables\n> = gql`\n  mutation ChangeSandboxInvitationAuthorization(\n    $sandboxId: ID!\n    $invitationId: ID!\n    $authorization: Authorization!\n  ) {\n    changeSandboxInvitationAuthorization(\n      sandboxId: $sandboxId\n      invitationId: $invitationId\n      authorization: $authorization\n    ) {\n      ...Invitation\n    }\n  }\n  ${sandboxInvitationFragment}\n`;\n\nexport const redeemSandboxInvitation: Query<\n  RedeemSandboxInvitationMutation,\n  RedeemSandboxInvitationMutationVariables\n> = gql`\n  mutation RedeemSandboxInvitation($sandboxId: ID!, $invitationToken: String!) {\n    redeemSandboxInvitation(\n      sandboxId: $sandboxId\n      invitationToken: $invitationToken\n    ) {\n      ...Invitation\n    }\n  }\n  ${sandboxInvitationFragment}\n`;\n","import {\n  SandboxCollaboratorsQuery,\n  SandboxCollaboratorsQueryVariables,\n  SandboxInvitationsQuery,\n  SandboxInvitationsQueryVariables,\n} from 'app/graphql/types';\nimport { gql, Query } from 'overmind-graphql';\n\nimport { collaboratorFragment, sandboxInvitationFragment } from './fragments';\n\nexport const collaborators: Query<\n  SandboxCollaboratorsQuery,\n  SandboxCollaboratorsQueryVariables\n> = gql`\n  query SandboxCollaborators($sandboxId: ID!) {\n    sandbox(sandboxId: $sandboxId) {\n      collaborators {\n        ...Collaborator\n      }\n    }\n  }\n  ${collaboratorFragment}\n`;\n\nexport const invitations: Query<\n  SandboxInvitationsQuery,\n  SandboxInvitationsQueryVariables\n> = gql`\n  query SandboxInvitations($sandboxId: ID!) {\n    sandbox(sandboxId: $sandboxId) {\n      invitations {\n        ...Invitation\n      }\n    }\n  }\n  ${sandboxInvitationFragment}\n`;\n","import * as t from 'app/graphql/types';\nimport { gql, Query } from 'overmind-graphql';\n\nimport {\n  collaboratorFragment,\n  sandboxChangedFragment,\n  sandboxInvitationFragment,\n} from './fragments';\n\nexport const onCollaboratorAdded: Query<\n  t.OnCollaboratorAddedSubscription,\n  t.OnCollaboratorAddedSubscriptionVariables\n> = gql`\n  subscription OnCollaboratorAdded($sandboxId: ID!) {\n    collaboratorAdded(sandboxId: $sandboxId) {\n      ...Collaborator\n    }\n  }\n  ${collaboratorFragment}\n`;\n\nexport const onCollaboratorChanged: Query<\n  t.OnCollaboratorChangedSubscription,\n  t.OnCollaboratorChangedSubscriptionVariables\n> = gql`\n  subscription OnCollaboratorChanged($sandboxId: ID!) {\n    collaboratorChanged(sandboxId: $sandboxId) {\n      ...Collaborator\n    }\n  }\n  ${collaboratorFragment}\n`;\n\nexport const onCollaboratorRemoved: Query<\n  t.OnCollaboratorRemovedSubscription,\n  t.OnCollaboratorRemovedSubscriptionVariables\n> = gql`\n  subscription OnCollaboratorRemoved($sandboxId: ID!) {\n    collaboratorRemoved(sandboxId: $sandboxId) {\n      ...Collaborator\n    }\n  }\n  ${collaboratorFragment}\n`;\n\nexport const onInvitationCreated: Query<\n  t.OnInvitationCreatedSubscription,\n  t.OnInvitationCreatedSubscriptionVariables\n> = gql`\n  subscription OnInvitationCreated($sandboxId: ID!) {\n    invitationCreated(sandboxId: $sandboxId) {\n      ...Invitation\n    }\n  }\n  ${sandboxInvitationFragment}\n`;\n\nexport const onInvitationRemoved: Query<\n  t.OnInvitationRemovedSubscription,\n  t.OnInvitationRemovedSubscriptionVariables\n> = gql`\n  subscription OnInvitationRemoved($sandboxId: ID!) {\n    invitationRemoved(sandboxId: $sandboxId) {\n      ...Invitation\n    }\n  }\n  ${sandboxInvitationFragment}\n`;\n\nexport const onInvitationChanged: Query<\n  t.OnInvitationChangedSubscription,\n  t.OnInvitationChangedSubscriptionVariables\n> = gql`\n  subscription OnInvitationChanged($sandboxId: ID!) {\n    invitationChanged(sandboxId: $sandboxId) {\n      ...Invitation\n    }\n  }\n  ${sandboxInvitationFragment}\n`;\n\nexport const onSandboxChangged: Query<\n  t.OnSandboxChangedSubscription,\n  t.OnSandboxChangedSubscriptionVariables\n> = gql`\n  subscription OnSandboxChanged($sandboxId: ID!) {\n    sandboxChanged(sandboxId: $sandboxId) {\n      ...SandboxChanged\n    }\n  }\n  ${sandboxChangedFragment}\n`;\n","import { gql } from 'overmind-graphql';\n\nexport const codeReferenceMetadataFragment = gql`\n  fragment CodeReferenceMetadata on CodeReferenceMetadata {\n    anchor\n    code\n    head\n    path\n  }\n`;\n\nexport const commentFragment = gql`\n  fragment Comment on Comment {\n    id\n    content\n    insertedAt\n    updatedAt\n    isResolved\n    references {\n      id\n      metadata {\n        ... on CodeReferenceMetadata {\n          ...CodeReferenceMetadata\n        }\n      }\n      resource\n      type\n    }\n    user {\n      id\n      name\n      username\n      avatarUrl\n    }\n    parentComment {\n      id\n    }\n    replyCount\n  }\n  ${codeReferenceMetadataFragment}\n`;\n\nexport const commentWithRepliesFragment = gql`\n  fragment CommentWithReplies on Comment {\n    id\n    content\n    insertedAt\n    updatedAt\n    isResolved\n    references {\n      id\n      metadata {\n        ... on CodeReferenceMetadata {\n          ...CodeReferenceMetadata\n        }\n      }\n      resource\n      type\n    }\n    user {\n      id\n      name\n      username\n      avatarUrl\n    }\n    parentComment {\n      id\n    }\n    replyCount\n    comments {\n      ...Comment\n    }\n  }\n  ${commentFragment}\n  ${codeReferenceMetadataFragment}\n`;\n","import {\n  CreateCommentMutation,\n  CreateCommentMutationVariables,\n  DeleteCommentMutation,\n  DeleteCommentMutationVariables,\n  ResolveCommentMutation,\n  ResolveCommentMutationVariables,\n  UnresolveCommentMutation,\n  UnresolveCommentMutationVariables,\n  UpdateCommentMutation,\n  UpdateCommentMutationVariables,\n} from 'app/graphql/types';\nimport { gql, Query } from 'overmind-graphql';\n\nimport { commentFragment } from './fragments';\n\nexport const createComment: Query<\n  CreateCommentMutation,\n  CreateCommentMutationVariables\n> = gql`\n  mutation CreateComment(\n    $id: ID\n    $content: String!\n    $sandboxId: ID!\n    $parentCommentId: ID\n    $codeReference: CodeReference\n  ) {\n    createComment(\n      id: $id\n      content: $content\n      sandboxId: $sandboxId\n      parentCommentId: $parentCommentId\n      codeReference: $codeReference\n    ) {\n      ...Comment\n    }\n  }\n  ${commentFragment}\n`;\n\nexport const deleteComment: Query<\n  DeleteCommentMutation,\n  DeleteCommentMutationVariables\n> = gql`\n  mutation DeleteComment($commentId: ID!, $sandboxId: ID!) {\n    deleteComment(commentId: $commentId, sandboxId: $sandboxId) {\n      id\n    }\n  }\n`;\n\nexport const updateComment: Query<\n  UpdateCommentMutation,\n  UpdateCommentMutationVariables\n> = gql`\n  mutation UpdateComment($commentId: ID!, $sandboxId: ID!, $content: String) {\n    updateComment(\n      commentId: $commentId\n      sandboxId: $sandboxId\n      content: $content\n    ) {\n      id\n    }\n  }\n`;\n\nexport const resolveComment: Query<\n  ResolveCommentMutation,\n  ResolveCommentMutationVariables\n> = gql`\n  mutation ResolveComment($commentId: ID!, $sandboxId: ID!) {\n    resolveComment(commentId: $commentId, sandboxId: $sandboxId) {\n      id\n    }\n  }\n`;\n\nexport const unresolveComment: Query<\n  UnresolveCommentMutation,\n  UnresolveCommentMutationVariables\n> = gql`\n  mutation UnresolveComment($commentId: ID!, $sandboxId: ID!) {\n    unresolveComment(commentId: $commentId, sandboxId: $sandboxId) {\n      id\n    }\n  }\n`;\n","import {\n  SandboxCommentQuery,\n  SandboxCommentQueryVariables,\n  SandboxCommentsQuery,\n  SandboxCommentsQueryVariables,\n} from 'app/graphql/types';\nimport { gql, Query } from 'overmind-graphql';\n\nimport { commentFragment, commentWithRepliesFragment } from './fragments';\n\nexport const comment: Query<\n  SandboxCommentQuery,\n  SandboxCommentQueryVariables\n> = gql`\n  query SandboxComment($sandboxId: ID!, $commentId: ID!) {\n    sandbox(sandboxId: $sandboxId) {\n      comment(commentId: $commentId) {\n        ...CommentWithReplies\n      }\n    }\n  }\n  ${commentWithRepliesFragment}\n`;\n\nexport const comments: Query<\n  SandboxCommentsQuery,\n  SandboxCommentsQueryVariables\n> = gql`\n  query SandboxComments($sandboxId: ID!) {\n    sandbox(sandboxId: $sandboxId) {\n      comments {\n        ...Comment\n      }\n    }\n  }\n  ${commentFragment}\n`;\n","import {\n  CommentAddedSubscription,\n  CommentAddedSubscriptionVariables,\n  CommentChangedSubscription,\n  CommentChangedSubscriptionVariables,\n  CommentRemovedSubscription,\n  CommentRemovedSubscriptionVariables,\n} from 'app/graphql/types';\nimport { gql, Query } from 'overmind-graphql';\n\nimport { commentFragment } from './fragments';\n\nexport const commentAdded: Query<\n  CommentAddedSubscription,\n  CommentAddedSubscriptionVariables\n> = gql`\n  subscription CommentAdded($sandboxId: ID!) {\n    commentAdded(sandboxId: $sandboxId) {\n      ...Comment\n      sandbox {\n        id\n      }\n    }\n  }\n  ${commentFragment}\n`;\n\nexport const commentChanged: Query<\n  CommentChangedSubscription,\n  CommentChangedSubscriptionVariables\n> = gql`\n  subscription CommentChanged($sandboxId: ID!) {\n    commentChanged(sandboxId: $sandboxId) {\n      ...Comment\n      sandbox {\n        id\n      }\n    }\n  }\n  ${commentFragment}\n`;\n\nexport const commentRemoved: Query<\n  CommentRemovedSubscription,\n  CommentRemovedSubscriptionVariables\n> = gql`\n  subscription CommentRemoved($sandboxId: ID!) {\n    commentRemoved(sandboxId: $sandboxId) {\n      ...Comment\n      sandbox {\n        id\n      }\n    }\n  }\n  ${commentFragment}\n`;\n","import { TeamsQuery, TeamsQueryVariables } from 'app/graphql/types';\nimport { gql, Query } from 'overmind-graphql';\n\nexport const teams: Query<TeamsQuery, TeamsQueryVariables> = gql`\n  query Teams {\n    me {\n      teams {\n        id\n        name\n      }\n    }\n  }\n`;\n","import { gql } from 'overmind-graphql';\n\nexport const sandboxFragmentDashboard = gql`\n  fragment sandboxFragmentDashboard on Sandbox {\n    id\n    alias\n    title\n    description\n    insertedAt\n    updatedAt\n    removedAt\n    privacy\n    screenshotUrl\n    screenshotOutdated\n    likeCount\n    forkCount\n    viewCount\n\n    source {\n      template\n    }\n\n    customTemplate {\n      id\n    }\n\n    forkedTemplate {\n      id\n      color\n      iconUrl\n    }\n\n    collection {\n      path\n      teamId\n    }\n  }\n`;\n\nexport const sidebarCollectionDashboard = gql`\n  fragment sidebarCollectionDashboard on Collection {\n    id\n    path\n  }\n`;\n\nexport const templateFragmentDashboard = gql`\n  fragment templateFragmentDashboard on Template {\n    id\n    color\n    iconUrl\n    published\n    sandbox {\n      id\n      alias\n      title\n      description\n      insertedAt\n      updatedAt\n      likeCount\n      forkCount\n      viewCount\n      screenshotUrl\n      screenshotOutdated\n\n      collection {\n        team {\n          name\n        }\n      }\n\n      author {\n        username\n      }\n\n      source {\n        template\n      }\n    }\n  }\n`;\n\nexport const teamFragmentDashboard = gql`\n  fragment teamFragmentDashboard on Team {\n    id\n    name\n    description\n    creatorId\n\n    users {\n      id\n      name\n      username\n      avatarUrl\n    }\n\n    invitees {\n      id\n      name\n      username\n      avatarUrl\n    }\n  }\n`;\n","import {\n  TeamTemplatesQuery,\n  TeamTemplatesQueryVariables,\n  RecentlyDeletedSandboxesQuery,\n  RecentlyDeletedSandboxesQueryVariables,\n  SandboxesByPathQuery,\n  SandboxesByPathQueryVariables,\n  OwnedTemplatesQuery,\n  OwnedTemplatesQueryVariables,\n  AllTeamsQuery,\n  AllTeamsQueryVariables,\n  ListUserTemplatesQuery,\n  ListUserTemplatesQueryVariables,\n  LatestSandboxesQuery,\n  LatestSandboxesQueryVariables,\n  AllCollectionsQuery,\n  AllCollectionsQueryVariables,\n  _SearchSandboxesQuery,\n  _SearchSandboxesQueryVariables,\n  GetTeamQuery,\n  GetTeamQueryVariables,\n} from 'app/graphql/types';\nimport { gql, Query } from 'overmind-graphql';\n\nimport {\n  sandboxFragmentDashboard,\n  sidebarCollectionDashboard,\n  templateFragmentDashboard,\n} from './fragments';\n\nexport const deletedSandboxes: Query<\n  RecentlyDeletedSandboxesQuery,\n  RecentlyDeletedSandboxesQueryVariables\n> = gql`\n  query recentlyDeletedSandboxes {\n    me {\n      sandboxes(\n        showDeleted: true\n        orderBy: { field: \"updated_at\", direction: DESC }\n      ) {\n        ...sandboxFragmentDashboard\n      }\n    }\n  }\n  ${sandboxFragmentDashboard}\n`;\n\nexport const sandboxesByPath: Query<\n  SandboxesByPathQuery,\n  SandboxesByPathQueryVariables\n> = gql`\n  query SandboxesByPath($path: String!, $teamId: ID) {\n    me {\n      collections(teamId: $teamId) {\n        ...sidebarCollectionDashboard\n      }\n      collection(path: $path, teamId: $teamId) {\n        id\n        path\n        sandboxes {\n          ...sandboxFragmentDashboard\n        }\n      }\n    }\n  }\n  ${sandboxFragmentDashboard}\n  ${sidebarCollectionDashboard}\n`;\n\nexport const getCollections: Query<\n  AllCollectionsQuery,\n  AllCollectionsQueryVariables\n> = gql`\n  query AllCollections($teamId: ID) {\n    me {\n      collections(teamId: $teamId) {\n        ...sidebarCollectionDashboard\n        sandboxes {\n          id\n        }\n      }\n    }\n  }\n  ${sidebarCollectionDashboard}\n`;\n\nexport const teamTemplates: Query<\n  TeamTemplatesQuery,\n  TeamTemplatesQueryVariables\n> = gql`\n  query TeamTemplates($id: ID!) {\n    me {\n      team(id: $id) {\n        id\n        name\n        templates {\n          ...templateFragmentDashboard\n        }\n      }\n    }\n  }\n\n  ${templateFragmentDashboard}\n`;\n\nexport const ownedTemplates: Query<\n  OwnedTemplatesQuery,\n  OwnedTemplatesQueryVariables\n> = gql`\n  query OwnedTemplates($showAll: Boolean) {\n    me {\n      templates(showAll: $showAll) {\n        ...templateFragmentDashboard\n      }\n    }\n  }\n\n  ${templateFragmentDashboard}\n`;\n\nexport const getTeams: Query<AllTeamsQuery, AllTeamsQueryVariables> = gql`\n  query AllTeams {\n    me {\n      teams {\n        id\n        name\n      }\n    }\n  }\n`;\n\nexport const searchSandboxes: Query<\n  _SearchSandboxesQuery,\n  _SearchSandboxesQueryVariables\n> = gql`\n  query _SearchSandboxes {\n    me {\n      sandboxes(orderBy: { field: \"updated_at\", direction: DESC }) {\n        ...sandboxFragmentDashboard\n      }\n    }\n  }\n  ${sandboxFragmentDashboard}\n`;\n\nexport const listPersonalTemplates: Query<\n  ListUserTemplatesQuery,\n  ListUserTemplatesQueryVariables\n> = gql`\n  query ListUserTemplates {\n    me {\n      templates {\n        ...templateFragmentDashboard\n      }\n\n      recentlyUsedTemplates {\n        ...templateFragmentDashboard\n\n        sandbox {\n          git {\n            id\n            username\n            commitSha\n            path\n            repo\n            branch\n          }\n        }\n      }\n\n      bookmarkedTemplates {\n        ...templateFragmentDashboard\n      }\n\n      teams {\n        id\n        name\n        bookmarkedTemplates {\n          ...templateFragmentDashboard\n        }\n        templates {\n          ...templateFragmentDashboard\n        }\n      }\n    }\n  }\n\n  ${templateFragmentDashboard}\n`;\n\nexport const recentSandboxes: Query<\n  LatestSandboxesQuery,\n  LatestSandboxesQueryVariables\n> = gql`\n  query LatestSandboxes(\n    $limit: Int!\n    $orderField: String!\n    $orderDirection: Direction!\n  ) {\n    me {\n      sandboxes(\n        limit: $limit\n        orderBy: { field: $orderField, direction: $orderDirection }\n      ) {\n        ...sandboxFragmentDashboard\n      }\n    }\n  }\n  ${sandboxFragmentDashboard}\n`;\n\nexport const getTeam: Query<GetTeamQuery, GetTeamQueryVariables> = gql`\n  query getTeam($teamId: ID!) {\n    me {\n      team(id: $teamId) {\n        id\n        creatorId\n        description\n        inviteToken\n        name\n        users {\n          avatarUrl\n          name\n          lastName\n          username\n          id\n        }\n      }\n    }\n  }\n`;\n","import {\n  UnmakeSandboxesTemplateMutation,\n  UnmakeSandboxesTemplateMutationVariables,\n  RenameFolderMutation,\n  DeleteFolderMutation,\n  DeleteFolderMutationVariables,\n  RenameFolderMutationVariables,\n  AddToFolderMutation,\n  AddToFolderMutationVariables,\n  MoveToTrashMutation,\n  MoveToTrashMutationVariables,\n  ChangePrivacyMutationVariables,\n  _PermanentlyDeleteSandboxesMutationVariables,\n  ChangePrivacyMutation,\n  _PermanentlyDeleteSandboxesMutation,\n  _LeaveTeamMutationVariables,\n  _LeaveTeamMutation,\n  _RemoveFromTeamMutation,\n  _RemoveFromTeamMutationVariables,\n  _InviteToTeamMutation,\n  _InviteToTeamMutationVariables,\n  _InviteToTeamViaEmailMutation,\n  _InviteToTeamViaEmailMutationVariables,\n  _RevokeTeamInvitationMutation,\n  _RevokeTeamInvitationMutationVariables,\n  _AcceptTeamInvitationMutation,\n  _AcceptTeamInvitationMutationVariables,\n  _RejectTeamInvitationMutation,\n  _RejectTeamInvitationMutationVariables,\n  _SetTeamDescriptionMutation,\n  _SetTeamDescriptionMutationVariables,\n  _CreateTeamMutation,\n  _CreateTeamMutationVariables,\n  _RenameSandboxMutation,\n  _RenameSandboxMutationVariables,\n  MakeSandboxesTemplateMutation,\n  MakeSandboxesTemplateMutationVariables,\n  CreateFolderMutation,\n  CreateFolderMutationVariables,\n  SetTeamNameMutation,\n  SetTeamNameMutationVariables,\n} from 'app/graphql/types';\nimport { gql, Query } from 'overmind-graphql';\n\nimport {\n  teamFragmentDashboard,\n  sidebarCollectionDashboard,\n  sandboxFragmentDashboard,\n} from './fragments';\n\nexport const createTeam: Query<\n  _CreateTeamMutation,\n  _CreateTeamMutationVariables\n> = gql`\n  mutation _CreateTeam($name: String!) {\n    createTeam(name: $name) {\n      ...teamFragmentDashboard\n    }\n  }\n  ${teamFragmentDashboard}\n`;\n\nexport const createFolder: Query<\n  CreateFolderMutation,\n  CreateFolderMutationVariables\n> = gql`\n  mutation createFolder($path: String!, $teamId: ID) {\n    createCollection(path: $path, teamId: $teamId) {\n      ...sidebarCollectionDashboard\n    }\n  }\n  ${sidebarCollectionDashboard}\n`;\n\nexport const deleteFolder: Query<\n  DeleteFolderMutation,\n  DeleteFolderMutationVariables\n> = gql`\n  mutation deleteFolder($path: String!, $teamId: ID) {\n    deleteCollection(path: $path, teamId: $teamId) {\n      ...sidebarCollectionDashboard\n    }\n  }\n  ${sidebarCollectionDashboard}\n`;\n\nexport const renameFolder: Query<\n  RenameFolderMutation,\n  RenameFolderMutationVariables\n> = gql`\n  mutation renameFolder($path: String!, $newPath: String!) {\n    renameCollection(path: $path, newPath: $newPath) {\n      ...sidebarCollectionDashboard\n    }\n  }\n  ${sidebarCollectionDashboard}\n`;\n\nexport const addSandboxToFolder: Query<\n  AddToFolderMutation,\n  AddToFolderMutationVariables\n> = gql`\n  mutation AddToFolder(\n    $collectionPath: String!\n    $sandboxIds: [ID!]!\n    $teamId: ID\n  ) {\n    addToCollection(\n      collectionPath: $collectionPath\n      sandboxIds: $sandboxIds\n      teamId: $teamId\n    ) {\n      sandboxes {\n        ...sandboxFragmentDashboard\n      }\n    }\n  }\n  ${sandboxFragmentDashboard}\n`;\n\nexport const deleteSandboxes: Query<\n  MoveToTrashMutation,\n  MoveToTrashMutationVariables\n> = gql`\n  mutation MoveToTrash($sandboxIds: [ID!]!) {\n    deleteSandboxes(sandboxIds: $sandboxIds) {\n      ...sandboxFragmentDashboard\n    }\n  }\n  ${sandboxFragmentDashboard}\n`;\n\nexport const changePrivacy: Query<\n  ChangePrivacyMutation,\n  ChangePrivacyMutationVariables\n> = gql`\n  mutation changePrivacy($sandboxIds: [ID!]!, $privacy: Int!) {\n    setSandboxesPrivacy(sandboxIds: $sandboxIds, privacy: $privacy) {\n      ...sandboxFragmentDashboard\n    }\n  }\n  ${sandboxFragmentDashboard}\n`;\n\nexport const renameSandbox: Query<\n  _RenameSandboxMutation,\n  _RenameSandboxMutationVariables\n> = gql`\n  mutation _RenameSandbox($id: ID!, $title: String!) {\n    renameSandbox(id: $id, title: $title) {\n      ...sandboxFragmentDashboard\n    }\n  }\n  ${sandboxFragmentDashboard}\n`;\n\nexport const permanentlyDeleteSandboxes: Query<\n  _PermanentlyDeleteSandboxesMutation,\n  _PermanentlyDeleteSandboxesMutationVariables\n> = gql`\n  mutation _PermanentlyDeleteSandboxes($sandboxIds: [ID!]!) {\n    permanentlyDeleteSandboxes(sandboxIds: $sandboxIds) {\n      id\n    }\n  }\n`;\n\nexport const leaveTeam: Query<\n  _LeaveTeamMutation,\n  _LeaveTeamMutationVariables\n> = gql`\n  mutation _LeaveTeam($teamId: ID!) {\n    leaveTeam(teamId: $teamId)\n  }\n`;\n\nexport const removeFromTeam: Query<\n  _RemoveFromTeamMutation,\n  _RemoveFromTeamMutationVariables\n> = gql`\n  mutation _RemoveFromTeam($teamId: ID!, $userId: ID!) {\n    removeFromTeam(teamId: $teamId, userId: $userId) {\n      ...teamFragmentDashboard\n    }\n  }\n  ${teamFragmentDashboard}\n`;\n\nexport const inviteToTeam: Query<\n  _InviteToTeamMutation,\n  _InviteToTeamMutationVariables\n> = gql`\n  mutation _InviteToTeam($teamId: ID!, $username: String!) {\n    inviteToTeam(teamId: $teamId, username: $username) {\n      ...teamFragmentDashboard\n    }\n  }\n  ${teamFragmentDashboard}\n`;\n\nexport const inviteToTeamVieEmail: Query<\n  _InviteToTeamViaEmailMutation,\n  _InviteToTeamViaEmailMutationVariables\n> = gql`\n  mutation _InviteToTeamViaEmail($teamId: ID!, $email: String!) {\n    inviteToTeamViaEmail(teamId: $teamId, email: $email)\n  }\n`;\n\nexport const revokeTeamInvitation: Query<\n  _RevokeTeamInvitationMutation,\n  _RevokeTeamInvitationMutationVariables\n> = gql`\n  mutation _RevokeTeamInvitation($teamId: ID!, $userId: ID!) {\n    revokeTeamInvitation(teamId: $teamId, userId: $userId) {\n      ...teamFragmentDashboard\n    }\n  }\n  ${teamFragmentDashboard}\n`;\n\nexport const acceptTeamInvitation: Query<\n  _AcceptTeamInvitationMutation,\n  _AcceptTeamInvitationMutationVariables\n> = gql`\n  mutation _AcceptTeamInvitation($teamId: ID!) {\n    acceptTeamInvitation(teamId: $teamId) {\n      ...teamFragmentDashboard\n    }\n  }\n  ${teamFragmentDashboard}\n`;\n\nexport const rejectTeamInvitation: Query<\n  _RejectTeamInvitationMutation,\n  _RejectTeamInvitationMutationVariables\n> = gql`\n  mutation _RejectTeamInvitation($teamId: ID!) {\n    rejectTeamInvitation(teamId: $teamId)\n  }\n`;\n\nexport const setTeamDescription: Query<\n  _SetTeamDescriptionMutation,\n  _SetTeamDescriptionMutationVariables\n> = gql`\n  mutation _SetTeamDescription($teamId: ID!, $description: String!) {\n    setTeamDescription(teamId: $teamId, description: $description) {\n      ...teamFragmentDashboard\n    }\n  }\n  ${teamFragmentDashboard}\n`;\n\nexport const unmakeSandboxesTemplate: Query<\n  UnmakeSandboxesTemplateMutation,\n  UnmakeSandboxesTemplateMutationVariables\n> = gql`\n  mutation _UnmakeSandboxesTemplate($sandboxIds: [ID!]!) {\n    unmakeSandboxesTemplates(sandboxIds: $sandboxIds) {\n      id\n    }\n  }\n`;\n\nexport const makeSandboxesTemplate: Query<\n  MakeSandboxesTemplateMutation,\n  MakeSandboxesTemplateMutationVariables\n> = gql`\n  mutation _MakeSandboxesTemplate($sandboxIds: [ID!]!) {\n    makeSandboxesTemplates(sandboxIds: $sandboxIds) {\n      id\n    }\n  }\n`;\n\nexport const setTeamName: Query<\n  SetTeamNameMutation,\n  SetTeamNameMutationVariables\n> = gql`\n  mutation SetTeamName($teamId: ID!, $name: String!) {\n    setTeamName(teamId: $teamId, name: $name) {\n      ...teamFragmentDashboard\n    }\n  }\n  ${teamFragmentDashboard}\n`;\n","import { graphql } from 'overmind-graphql';\n\nimport * as collaboratorsMutations from './collaborators/mutations';\nimport * as collaboratorsQueries from './collaborators/queries';\nimport * as collaboratorsSubscriptions from './collaborators/subscriptions';\nimport * as commentsMutations from './comments/mutations';\nimport * as commentsQueries from './comments/queries';\nimport * as commentSubscriptions from './comments/subscriptions';\nimport * as teamsQueries from './teams/queries';\n\nimport * as dashboardQueries from './dashboard/queries';\nimport * as dashboardMutations from './dashboard/mutations';\n\nexport default graphql({\n  subscriptions: {\n    ...collaboratorsSubscriptions,\n    ...commentSubscriptions,\n  },\n  queries: {\n    ...collaboratorsQueries,\n    ...commentsQueries,\n    ...teamsQueries,\n    ...dashboardQueries,\n  },\n  mutations: {\n    ...collaboratorsMutations,\n    ...commentsMutations,\n    ...dashboardMutations,\n  },\n});\n","export const forkFrozenModal = {\n  result: 'fork' as 'fork' | 'cancel' | 'unfreeze',\n};\n\nexport const authenticateUserModal = {};\n","import { Action, AsyncAction } from 'app/overmind';\nimport { withLoadApp, TEAM_ID_LOCAL_STORAGE } from 'app/overmind/factories';\nimport downloadZip from 'app/overmind/effects/zip/create-zip';\nimport { uniq } from 'lodash-es';\nimport {\n  Direction,\n  TemplateFragmentDashboardFragment,\n} from 'app/graphql/types';\nimport Fuse from 'fuse.js';\nimport { OrderBy, sandboxesTypes } from './state';\n\nexport const dashboardMounted: AsyncAction = async (context, value) => {\n  await withLoadApp()(context, value);\n};\n\nexport const sandboxesSelected: Action<{\n  sandboxIds: string[];\n}> = ({ state }, { sandboxIds }) => {\n  state.dashboard.selectedSandboxes = sandboxIds;\n};\n\nexport const setTrashSandboxes: Action<{\n  sandboxIds: string[];\n}> = ({ state }, { sandboxIds }) => {\n  state.dashboard.trashSandboxIds = sandboxIds;\n};\n\nexport const setActiveTeam: Action<{\n  id: string | null;\n}> = ({ state, effects }, { id }) => {\n  // ignore if its already selected\n  if (id === state.dashboard.activeTeam) return;\n\n  state.dashboard.activeTeam = id;\n  effects.browser.storage.set(TEAM_ID_LOCAL_STORAGE, id);\n  state.dashboard.sandboxes = {\n    ...state.dashboard.sandboxes,\n    DRAFTS: null,\n    TEMPLATES: null,\n    RECENT: null,\n    SEARCH: null,\n    ALL: null,\n  };\n};\n\nexport const dragChanged: Action<{ isDragging: boolean }> = (\n  { state },\n  { isDragging }\n) => {\n  state.dashboard.isDragging = isDragging;\n};\n\nexport const orderByChanged: Action<OrderBy> = ({ state }, orderBy) => {\n  state.dashboard.orderBy = orderBy;\n};\n\nexport const blacklistedTemplateAdded: Action<string> = (\n  { state },\n  template\n) => {\n  state.dashboard.filters.blacklistedTemplates = state.dashboard.filters.blacklistedTemplates.concat(\n    template\n  );\n};\n\nexport const blacklistedTemplateRemoved: Action<string> = (\n  { state },\n  template\n) => {\n  state.dashboard.filters.blacklistedTemplates = state.dashboard.filters.blacklistedTemplates.filter(\n    currentTemplate => currentTemplate !== template\n  );\n};\n\nexport const blacklistedTemplatesCleared: Action = ({ state }) => {\n  state.dashboard.filters.blacklistedTemplates = [];\n};\n\nexport const blacklistedTemplatesChanged: Action<string[]> = (\n  { state },\n  templates\n) => {\n  state.dashboard.filters.blacklistedTemplates = templates;\n};\n\nexport const searchChanged: Action<{ search: string }> = (\n  { state },\n  { search }\n) => {\n  state.dashboard.filters.search = search;\n};\n\nexport const viewModeChanged: Action<{ mode: 'grid' | 'list' }> = (\n  { state, effects },\n  { mode }\n) => {\n  state.dashboard.viewMode = mode;\n  effects.browser.storage.set('VIEW_MODE_DASHBOARD', mode);\n};\n\nexport const createSandboxClicked: AsyncAction<{\n  body: { collectionId: string };\n  sandboxId: string;\n}> = ({ actions }, { body, sandboxId }) =>\n  actions.editor.forkExternalSandbox({ body, sandboxId });\n\nexport const deleteTemplate: AsyncAction<{\n  sandboxId: string;\n  templateId: string;\n}> = async ({ actions, effects, state }, { sandboxId, templateId }) => {\n  const oldTemplates = {\n    TEMPLATE_HOME: state.dashboard.sandboxes.TEMPLATE_HOME,\n    TEMPLATES: state.dashboard.sandboxes.TEMPLATES,\n  };\n  actions.dashboard.deleteTemplateFromState([sandboxId]);\n\n  try {\n    effects.analytics.track('Template - Removed', { source: 'Context Menu' });\n    await effects.api.deleteTemplate(sandboxId, templateId);\n    actions.modalClosed();\n    effects.notificationToast.success('Template Deleted');\n  } catch (error) {\n    state.dashboard.sandboxes.TEMPLATES = oldTemplates.TEMPLATES\n      ? [...oldTemplates.TEMPLATES]\n      : null;\n    state.dashboard.sandboxes.TEMPLATE_HOME = oldTemplates.TEMPLATE_HOME\n      ? [...oldTemplates.TEMPLATE_HOME]\n      : null;\n    effects.notificationToast.error('Could not delete custom template');\n  }\n};\n\nexport const getTeams: AsyncAction = async ({ state, effects }) => {\n  if (!state.user) return;\n  const teams = await effects.gql.queries.getTeams({});\n\n  if (!teams || !teams.me) {\n    return;\n  }\n\n  state.dashboard.teams = teams.me.teams;\n};\n\nexport const getTeam: AsyncAction = withLoadApp(async ({ state, effects }) => {\n  if (!state.dashboard.activeTeam) return;\n  const team = await effects.gql.queries.getTeam({\n    teamId: state.dashboard.activeTeam,\n  });\n\n  if (!team || !team.me) {\n    return;\n  }\n\n  state.dashboard.activeTeamInfo = team.me.team;\n});\n\nexport const removeFromTeam: AsyncAction<string> = async (\n  { state, effects },\n  id\n) => {\n  if (!state.dashboard.activeTeam || !state.dashboard.activeTeamInfo) return;\n  try {\n    await effects.gql.mutations.removeFromTeam({\n      teamId: state.dashboard.activeTeam,\n      userId: id,\n    });\n\n    state.dashboard.activeTeamInfo = {\n      ...state.dashboard.activeTeamInfo,\n      users: (state.dashboard.activeTeamInfo.users || []).filter(\n        user => user.id !== id\n      ),\n    };\n  } catch {\n    effects.notificationToast.error(\n      'There has been a problem removing them from your team'\n    );\n  }\n};\n\nexport const leaveTeam: AsyncAction = async ({ state, effects, actions }) => {\n  if (!state.dashboard.activeTeam || !state.dashboard.activeTeamInfo) return;\n  try {\n    await effects.gql.mutations.leaveTeam({\n      teamId: state.dashboard.activeTeam,\n    });\n\n    actions.dashboard.setActiveTeam({ id: null });\n    actions.dashboard.getTeams();\n\n    effects.notificationToast.success(\n      `You successfully left the ${state.dashboard.activeTeamInfo.name} team`\n    );\n  } catch (e) {\n    effects.notificationToast.error(\n      'There has been a problem removing your from the team'\n    );\n  }\n};\n\nexport const inviteToTeam: AsyncAction<string> = async (\n  { state, effects },\n  value\n) => {\n  if (!state.dashboard.activeTeam) return;\n  const isEmail = value.includes('@');\n  try {\n    let data: any = null;\n    if (isEmail) {\n      const emailInvited = await effects.gql.mutations.inviteToTeamVieEmail({\n        teamId: state.dashboard.activeTeam,\n        email: value,\n      });\n\n      data = emailInvited.inviteToTeamViaEmail;\n    } else {\n      const usernameInvited = await effects.gql.mutations.inviteToTeam({\n        teamId: state.dashboard.activeTeam,\n        username: value,\n      });\n\n      data = usernameInvited.inviteToTeam;\n    }\n\n    if (!data) {\n      return;\n    }\n\n    effects.notificationToast.success(\n      `Successfully invited ${value} to your team`\n    );\n  } catch (e) {\n    const errorMessageExists =\n      e.response && e.response.errors && e.response.errors.length;\n    effects.notificationToast.error(\n      errorMessageExists\n        ? e.response.errors[0].message\n        : `There was a problem inviting ${value} to your team`\n    );\n  }\n};\n\nexport const getRecentSandboxes: AsyncAction = withLoadApp(\n  async ({ state, effects }) => {\n    const { dashboard } = state;\n    try {\n      const data = await effects.gql.queries.recentSandboxes({\n        limit: 200,\n        orderField: dashboard.orderBy.field,\n        orderDirection: dashboard.orderBy.order.toUpperCase() as Direction,\n      });\n      if (!data || !data.me) {\n        return;\n      }\n\n      dashboard.sandboxes[sandboxesTypes.RECENT] = data.me.sandboxes\n        .filter(\n          sandbox =>\n            (sandbox.collection || { collection: {} }).teamId ===\n            state.dashboard.activeTeam\n        )\n        .slice(0, 50);\n    } catch (error) {\n      effects.notificationToast.error(\n        'There was a problem getting your recent Sandboxes'\n      );\n    }\n  }\n);\n\nexport const getAllFolders: AsyncAction = withLoadApp(\n  async ({ state, effects }) => {\n    try {\n      const data = await effects.gql.queries.getCollections({\n        teamId: state.dashboard.activeTeam,\n      });\n      if (!data || !data.me || !data.me.collections) {\n        return;\n      }\n\n      // this is here because it will be done in the backend in the *FUTURE*\n      const collectionsByLevel = data.me.collections.map(collection => {\n        const split = collection.path.split('/');\n        return {\n          ...collection,\n          sandboxes: collection.sandboxes.length,\n          parent: split.slice(0, split.length - 1).find(a => a) || '',\n          level: split.length - 2,\n          name: split[split.length - 1],\n        };\n      });\n\n      state.dashboard.allCollections = [\n        {\n          id: 'drafts-fake-id',\n          sandboxes: (\n            data.me.collections.find(folder => folder.path === '/') || {\n              sandboxes: [],\n            }\n          ).sandboxes.length,\n          parent: '',\n          name: 'Drafts',\n          level: 0,\n          path: '/drafts',\n        },\n        ...collectionsByLevel.filter(c => c.id && c.name),\n      ];\n    } catch {\n      effects.notificationToast.error(\n        'There was a problem getting your Sandboxes'\n      );\n    }\n  }\n);\n\nexport const createFolder: AsyncAction<string> = async (\n  { effects, state },\n  path\n) => {\n  if (!state.dashboard.allCollections) return;\n  const split = path.split('/');\n  const oldFolders = state.dashboard.allCollections;\n  state.dashboard.allCollections = [\n    {\n      path,\n      id: 'FAKE_ID',\n      sandboxes: 0,\n      parent: split.slice(0, split.length - 1).find(a => a) || '',\n      level: split.length - 2,\n      name: split[split.length - 1],\n    },\n    ...state.dashboard.allCollections,\n  ];\n  try {\n    const { createCollection } = await effects.gql.mutations.createFolder({\n      // only way to pass, null is a value in the BE\n      // @ts-ignore\n      teamId: state.dashboard.activeTeam || undefined,\n      path,\n    });\n\n    state.dashboard.allCollections = state.dashboard.allCollections.map(\n      folder => {\n        if (folder.id === 'FAKE_ID') {\n          return {\n            ...folder,\n            id: createCollection.id,\n            path: createCollection.path,\n          };\n        }\n\n        return folder;\n      }\n    );\n  } catch {\n    state.dashboard.allCollections = [...oldFolders];\n    effects.notificationToast.error('There was a problem creating your folder');\n  }\n};\n\nexport const getDrafts: AsyncAction = withLoadApp(\n  async ({ state, effects }) => {\n    const { dashboard } = state;\n    try {\n      const data = await effects.gql.queries.sandboxesByPath({\n        path: '/',\n        teamId: state.dashboard.activeTeam,\n      });\n      if (!data || !data.me || !data.me.collection) {\n        return;\n      }\n\n      dashboard.sandboxes[\n        sandboxesTypes.DRAFTS\n      ] = data.me.collection.sandboxes.filter(s => !s.customTemplate);\n    } catch (error) {\n      effects.notificationToast.error(\n        'There was a problem getting your Sandboxes'\n      );\n    }\n  }\n);\n\nexport const getSandboxesByPath: AsyncAction<string> = withLoadApp(\n  async ({ state, effects }, path) => {\n    const { dashboard } = state;\n    const cleanPath = path.split(' ').join('');\n    try {\n      const data = await effects.gql.queries.sandboxesByPath({\n        path: '/' + path,\n        teamId: state.dashboard.activeTeam,\n      });\n      if (!data || !data.me || !data.me.collection) {\n        return;\n      }\n\n      if (!dashboard.sandboxes.ALL) {\n        dashboard.sandboxes.ALL = {};\n      }\n\n      dashboard.sandboxes.ALL[cleanPath] = data.me.collection.sandboxes.filter(\n        s => !s.customTemplate\n      );\n    } catch (error) {\n      effects.notificationToast.error(\n        'There was a problem getting your Sandboxes'\n      );\n    }\n  }\n);\n\nexport const getDeletedSandboxes: AsyncAction = withLoadApp(\n  async ({ state, effects }) => {\n    const { dashboard } = state;\n    try {\n      const data = await effects.gql.queries.deletedSandboxes({});\n      if (!data || !data.me) {\n        return;\n      }\n      dashboard.sandboxes[sandboxesTypes.DELETED] = data.me.sandboxes;\n    } catch (error) {\n      effects.notificationToast.error(\n        'There was a problem getting your deleted Sandboxes'\n      );\n    }\n  }\n);\n\nexport const getTemplateSandboxes: AsyncAction = withLoadApp(\n  async ({ state, effects }) => {\n    const { dashboard } = state;\n    try {\n      if (dashboard.activeTeam) {\n        dashboard.sandboxes[sandboxesTypes.TEMPLATES] = null;\n        const data = await effects.gql.queries.teamTemplates({\n          id: dashboard.activeTeam,\n        });\n\n        if (!data || !data.me || !data.me.team) {\n          return;\n        }\n\n        dashboard.sandboxes[sandboxesTypes.TEMPLATES] = data.me.team.templates;\n      } else {\n        dashboard.sandboxes[sandboxesTypes.TEMPLATES] = null;\n        const data = await effects.gql.queries.ownedTemplates({\n          showAll: false,\n        });\n        if (!data || !data.me) {\n          return;\n        }\n\n        dashboard.sandboxes[sandboxesTypes.TEMPLATES] = data.me.templates;\n      }\n    } catch (error) {\n      effects.notificationToast.error(\n        'There was a problem getting your Templates'\n      );\n    }\n  }\n);\n\nexport const getStartPageSandboxes: AsyncAction = withLoadApp(\n  async ({ state, effects }) => {\n    const { dashboard } = state;\n    try {\n      const usedTemplates = await effects.gql.queries.listPersonalTemplates({});\n\n      if (!usedTemplates || !usedTemplates.me) {\n        return;\n      }\n\n      dashboard.sandboxes.TEMPLATE_HOME = usedTemplates.me.recentlyUsedTemplates.slice(\n        0,\n        4\n      );\n\n      const recentSandboxes = await effects.gql.queries.recentSandboxes({\n        limit: 7,\n        orderField: dashboard.orderBy.field,\n        orderDirection: dashboard.orderBy.order.toUpperCase() as Direction,\n      });\n\n      if (!recentSandboxes || !recentSandboxes.me) {\n        return;\n      }\n      dashboard.sandboxes.RECENT_HOME = recentSandboxes.me.sandboxes;\n    } catch (error) {\n      effects.notificationToast.error(\n        'There was a problem getting your Sandboxes'\n      );\n    }\n  }\n);\n\nexport const deleteSandboxFromState: Action<string[]> = (\n  { state: { dashboard } },\n  ids\n) => {\n  ids.map(id => {\n    const values = Object.keys(dashboard.sandboxes).map(type => {\n      if (dashboard.sandboxes[type]) {\n        if (!Array.isArray(dashboard.sandboxes[type])) {\n          const folderNames = dashboard.sandboxes[type];\n          const sandboxes = Object.keys(folderNames).map(folderName => ({\n            [folderName]: folderNames[folderName].filter(\n              sandbox => sandbox.id !== id\n            ),\n          }));\n          return {\n            ...dashboard.sandboxes[type],\n            ...sandboxes.reduce(\n              (obj, item) =>\n                Object.assign(obj, {\n                  [Object.keys(item)[0]]: item[Object.keys(item)[0]],\n                }),\n              {}\n            ),\n          };\n        }\n        return dashboard.sandboxes[type].filter(sandbox => sandbox.id !== id);\n      }\n      return null;\n    });\n\n    dashboard.sandboxes = values.reduce(\n      (initial, current, i) =>\n        Object.assign(initial, {\n          [Object.keys(dashboard.sandboxes)[i]]: current,\n        }),\n      {}\n    );\n    return null;\n  });\n};\n\nexport const deleteTemplateFromState: Action<string[]> = (\n  { state: { dashboard } },\n  ids\n) => {\n  const { sandboxes } = dashboard;\n  ids.map(id => {\n    if (sandboxes.TEMPLATE_HOME) {\n      sandboxes.TEMPLATE_HOME = sandboxes.TEMPLATE_HOME\n        ? sandboxes.TEMPLATE_HOME.filter(\n            ({ sandbox }: TemplateFragmentDashboardFragment) =>\n              sandbox && sandbox.id !== id\n          )\n        : null;\n    }\n\n    if (sandboxes.TEMPLATES) {\n      sandboxes.TEMPLATES = sandboxes.TEMPLATES\n        ? sandboxes.TEMPLATES.filter(\n            ({ sandbox }: TemplateFragmentDashboardFragment) =>\n              sandbox && sandbox.id !== id\n          )\n        : null;\n    }\n\n    return null;\n  });\n};\n\nexport const deleteSandbox: AsyncAction<string[]> = async (\n  { state, effects, actions },\n  ids\n) => {\n  const { user } = state;\n  if (!user) return;\n  const oldSandboxes = state.dashboard.sandboxes;\n  actions.dashboard.deleteSandboxFromState(ids);\n\n  try {\n    await effects.gql.mutations.deleteSandboxes({\n      sandboxIds: ids,\n    });\n  } catch (error) {\n    state.dashboard.sandboxes = { ...oldSandboxes };\n    effects.notificationToast.error(\n      'There was a problem deleting your Sandbox'\n    );\n  }\n};\n\nexport const unmakeTemplate: AsyncAction<string[]> = async (\n  { effects, actions, state },\n  ids\n) => {\n  const oldTemplates = {\n    TEMPLATE_HOME: state.dashboard.sandboxes.TEMPLATE_HOME,\n    TEMPLATES: state.dashboard.sandboxes.TEMPLATES,\n  };\n  actions.dashboard.deleteTemplateFromState(ids);\n  try {\n    await effects.gql.mutations.unmakeSandboxesTemplate({ sandboxIds: ids });\n  } catch (error) {\n    state.dashboard.sandboxes.TEMPLATES = oldTemplates.TEMPLATES\n      ? [...oldTemplates.TEMPLATES]\n      : null;\n    state.dashboard.sandboxes.TEMPLATE_HOME = oldTemplates.TEMPLATE_HOME\n      ? [...oldTemplates.TEMPLATE_HOME]\n      : null;\n    effects.notificationToast.error(\n      'There was a problem reverting your template'\n    );\n  }\n};\n\nexport const renameSandboxInState: Action<{\n  id: string;\n  title: string;\n}> = ({ state: { dashboard } }, { id, title }) => {\n  const values = Object.keys(dashboard.sandboxes).map(type => {\n    if (dashboard.sandboxes[type]) {\n      if (Array.isArray(dashboard.sandboxes[type])) {\n        return dashboard.sandboxes[type].map(sandbox => {\n          if (sandbox.id === id) {\n            return {\n              ...sandbox,\n              title,\n            };\n          }\n\n          return sandbox;\n        });\n      }\n\n      const folderNames = dashboard.sandboxes[type];\n      const sandboxes = Object.keys(folderNames).map(folderName => ({\n        [folderName]: folderNames[folderName].map(sandbox => {\n          if (sandbox.id === id) {\n            return {\n              ...sandbox,\n              title,\n            };\n          }\n\n          return sandbox;\n        }),\n      }));\n\n      return {\n        ...dashboard.sandboxes[type],\n        ...sandboxes.reduce(\n          (obj, item) =>\n            Object.assign(obj, {\n              [Object.keys(item)[0]]: item[Object.keys(item)[0]],\n            }),\n          {}\n        ),\n      };\n    }\n\n    return null;\n  });\n\n  dashboard.sandboxes = values.reduce(\n    (initial, current, i) =>\n      Object.assign(initial, {\n        [Object.keys(dashboard.sandboxes)[i]]: current,\n      }),\n    {}\n  );\n};\n\nexport const renameFolderInState: Action<{ path: string; newPath: string }> = (\n  { state: { dashboard } },\n  { path, newPath }\n) => {\n  if (!dashboard.allCollections) return;\n  const newFolders = dashboard.allCollections.map(folder => {\n    if (folder.path === path) {\n      const split = newPath.split('/');\n      return {\n        ...folder,\n        path: newPath,\n        name: split[split.length - 1],\n      };\n    }\n\n    return folder;\n  });\n  dashboard.allCollections = newFolders;\n};\n\nexport const renameSandbox: AsyncAction<{\n  id: string;\n  title: string;\n  oldTitle: string;\n}> = async ({ effects, actions }, { id, title, oldTitle }) => {\n  actions.dashboard.renameSandboxInState({\n    id,\n    title,\n  });\n  try {\n    await effects.gql.mutations.renameSandbox({\n      id,\n      title,\n    });\n  } catch {\n    actions.dashboard.renameSandboxInState({\n      id,\n      title: oldTitle,\n    });\n    effects.notificationToast.error('There was a problem renaming you sandbox');\n  }\n};\n\nexport const moveFolder: AsyncAction<{\n  path: string;\n  newPath: string;\n}> = async ({ state: { dashboard }, actions }, { path, newPath }) => {\n  if (!dashboard.allCollections) return;\n  dashboard.allCollections = dashboard.allCollections.filter(\n    folder => folder.path !== path\n  );\n  actions.dashboard.renameFolder({ path, newPath });\n};\n\nexport const renameFolder: AsyncAction<{\n  path: string;\n  newPath: string;\n}> = async ({ state: { dashboard }, effects, actions }, { path, newPath }) => {\n  if (!dashboard.allCollections) return;\n  actions.dashboard.renameFolderInState({\n    path,\n    newPath,\n  });\n\n  try {\n    await effects.gql.mutations.renameFolder({\n      newPath,\n      path,\n    });\n  } catch {\n    actions.dashboard.renameFolderInState({\n      path: newPath,\n      newPath: path,\n    });\n    effects.notificationToast.error('There was a problem renaming you folder');\n  }\n};\n\nexport const deleteFolder: AsyncAction<{\n  path: string;\n}> = async ({ state: { dashboard }, effects }, { path }) => {\n  if (!dashboard.allCollections) return;\n  const oldCollections = dashboard.allCollections;\n  dashboard.allCollections = dashboard.allCollections.filter(\n    folder => folder.path !== path\n  );\n  try {\n    await effects.gql.mutations.deleteFolder({\n      path,\n      // only way to pass, null is a value in the BE\n      // @ts-ignore\n      teamId: dashboard.activeTeam || undefined,\n    });\n  } catch {\n    dashboard.allCollections = oldCollections;\n    effects.notificationToast.error('There was a problem deleting you folder');\n  }\n};\n\nexport const makeTemplate: AsyncAction<string[]> = async (\n  { effects, state, actions },\n  ids\n) => {\n  const oldSandboxes = state.dashboard.sandboxes;\n  actions.dashboard.deleteSandboxFromState(ids);\n  try {\n    await effects.gql.mutations.makeSandboxesTemplate({\n      sandboxIds: ids,\n    });\n  } catch (error) {\n    state.dashboard.sandboxes = { ...oldSandboxes };\n    effects.notificationToast.error('There was a problem making your template');\n  }\n};\n\nexport const permanentlyDeleteSandboxes: AsyncAction<string[]> = async (\n  { effects, state },\n  ids\n) => {\n  if (!state.dashboard.sandboxes.DELETED) return;\n  const oldDeleted = state.dashboard.sandboxes.DELETED;\n  state.dashboard.sandboxes.DELETED = oldDeleted.filter(\n    sandbox => !ids.includes(sandbox.id)\n  );\n  try {\n    await effects.gql.mutations.permanentlyDeleteSandboxes({ sandboxIds: ids });\n  } catch (error) {\n    state.dashboard.sandboxes.DELETED = [...oldDeleted];\n    effects.notificationToast.error(\n      'There was a problem deleting your sandbox'\n    );\n  }\n};\n\nexport const recoverSandboxes: AsyncAction<string[]> = async (\n  { effects, state },\n  ids\n) => {\n  if (!state.dashboard.sandboxes.DELETED) return;\n  const oldDeleted = state.dashboard.sandboxes.DELETED;\n  state.dashboard.sandboxes.DELETED = oldDeleted.filter(\n    sandbox => !ids.includes(sandbox.id)\n  );\n  try {\n    await effects.gql.mutations.addSandboxToFolder({\n      sandboxIds: ids,\n      collectionPath: '/',\n      // only way to pass, null is a value in the BE\n      // @ts-ignore\n      teamId: state.dashboard.activeTeam || undefined,\n    });\n  } catch (error) {\n    state.dashboard.sandboxes.DELETED = [...oldDeleted];\n    effects.notificationToast.error(\n      'There was a problem recovering your sandbox'\n    );\n  }\n};\n\nexport const downloadSandboxes: AsyncAction<string[]> = async (\n  { effects },\n  ids\n) => {\n  try {\n    const sandboxIds = uniq(ids);\n    const sandboxes = await Promise.all(\n      sandboxIds.map(s => effects.api.getSandbox(s))\n    );\n    Promise.all(sandboxes.map(s => downloadZip(s, s.modules, s.directories)));\n  } catch (error) {\n    effects.notificationToast.error(\n      'There was a problem reverting your template'\n    );\n  }\n};\n\nexport const getSearchSandboxes: AsyncAction<string | null> = withLoadApp(\n  async ({ state, effects }, search) => {\n    const { dashboard } = state;\n    try {\n      const data = await effects.gql.queries.searchSandboxes({});\n      if (!data || !data.me || !data.me.sandboxes) {\n        return;\n      }\n      let lastSandboxes: any = null;\n      let searchIndex: any = null;\n      const sandboxes = data.me.sandboxes;\n\n      if (lastSandboxes === null || lastSandboxes !== sandboxes) {\n        searchIndex = new Fuse(sandboxes, {\n          threshold: 0.1,\n          distance: 1000,\n          keys: [\n            { name: 'title', weight: 0.4 },\n            { name: 'description', weight: 0.2 },\n            { name: 'alias', weight: 0.2 },\n            { name: 'source.template', weight: 0.1 },\n            { name: 'id', weight: 0.1 },\n          ],\n        });\n\n        lastSandboxes = sandboxes;\n      }\n\n      const sandboxesToShow = state.dashboard\n        .getFilteredSandboxes(searchIndex.search(search))\n        .filter(x => !x.customTemplate)\n        .filter(\n          sandbox =>\n            (sandbox.collection || { collection: {} }).teamId ===\n            state.dashboard.activeTeam\n        );\n\n      dashboard.sandboxes[sandboxesTypes.SEARCH] = sandboxesToShow;\n    } catch (error) {\n      effects.notificationToast.error(\n        'There was a problem getting your Sandboxes'\n      );\n    }\n  }\n);\n\nexport const getPage: AsyncAction<sandboxesTypes> = async (\n  { actions: { dashboard } },\n  page\n) => {\n  switch (page) {\n    case sandboxesTypes.RECENT:\n      dashboard.getRecentSandboxes();\n      break;\n    case sandboxesTypes.HOME:\n      dashboard.getStartPageSandboxes();\n      break;\n    case sandboxesTypes.DELETED:\n      dashboard.getDeletedSandboxes();\n      break;\n    case sandboxesTypes.DRAFTS:\n      dashboard.getDrafts();\n      break;\n    case sandboxesTypes.TEMPLATES:\n      dashboard.getTemplateSandboxes();\n      break;\n    case sandboxesTypes.SEARCH:\n      dashboard.getSearchSandboxes(\n        new URLSearchParams(window.location.search).get('query')\n      );\n      break;\n\n    default:\n      break;\n  }\n};\n\nexport const addSandboxesToFolder: AsyncAction<{\n  sandboxIds: string[];\n  collectionPath: string;\n}> = async ({ state, effects, actions }, { sandboxIds, collectionPath }) => {\n  const oldSandboxes = state.dashboard.sandboxes;\n  actions.dashboard.deleteSandboxFromState(sandboxIds);\n\n  try {\n    await effects.gql.mutations.addSandboxToFolder({\n      sandboxIds,\n      collectionPath,\n      // only way to pass, null is a value in the BE\n      // @ts-ignore\n      teamId: state.dashboard.activeTeam || undefined,\n    });\n  } catch {\n    state.dashboard.sandboxes = { ...oldSandboxes };\n    effects.notificationToast.error('There was a problem moving your sandbox');\n  }\n};\n\nexport const createTeam: AsyncAction<{\n  teamName: string;\n}> = async ({ effects, actions, state }, { teamName }) => {\n  try {\n    const { createTeam: newTeam } = await effects.gql.mutations.createTeam({\n      name: teamName,\n    });\n    state.dashboard.teams = [...state.dashboard.teams, newTeam];\n    actions.dashboard.setActiveTeam({ id: newTeam.id });\n  } catch {\n    effects.notificationToast.error('There was a problem creating your team');\n  }\n};\n\nexport const setTeamInfo: AsyncAction<{\n  name: string;\n  description: string | null;\n}> = async ({ effects, state }, { name, description }) => {\n  const oldTeamInfo = state.dashboard.teams.find(team => team.name === name);\n  const oldActiveTeamInfo = state.dashboard.activeTeamInfo;\n  try {\n    await effects.gql.mutations.setTeamName({\n      name,\n      // only way to pass, null is a value in the BE\n      // @ts-ignore\n      teamId: state.dashboard.activeTeam || undefined,\n    });\n\n    if (description) {\n      await effects.gql.mutations.setTeamDescription({\n        description,\n        // only way to pass, null is a value in the BE\n        // @ts-ignore\n        teamId: state.dashboard.activeTeam || undefined,\n      });\n    }\n    state.dashboard.teams = state.dashboard.teams.map(team => {\n      if (team.name === name) {\n        return {\n          ...team,\n          name,\n          description,\n        };\n      }\n\n      return team;\n    });\n\n    state.dashboard.activeTeamInfo = {\n      ...oldActiveTeamInfo,\n      name,\n      description,\n    };\n  } catch (e) {\n    state.dashboard.activeTeamInfo = { ...oldActiveTeamInfo };\n    if (state.dashboard.teams && oldTeamInfo) {\n      state.dashboard.teams = [...state.dashboard.teams, oldTeamInfo];\n    }\n    effects.notificationToast.error('There was a problem renaming your team');\n  }\n};\n","import { NetlifySite, VercelDeployment } from '@codesandbox/common/lib/types';\n\ntype State = {\n  hasAlias: boolean;\n  building: boolean;\n  netlifyClaimUrl: string | null;\n  netlifyLogs: string | null;\n  netlifySite: NetlifySite | null;\n  deploysBeingDeleted: string[];\n  deployToDelete: string | null;\n  deploying: boolean;\n  url: string | null;\n  gettingDeploys: boolean;\n  sandboxDeploys: VercelDeployment[];\n};\n\nexport const state: State = {\n  hasAlias: false,\n  deploysBeingDeleted: [],\n  deployToDelete: null,\n  deploying: false,\n  building: false,\n  url: null,\n  gettingDeploys: true,\n  sandboxDeploys: [],\n  netlifyLogs: null,\n  netlifyClaimUrl: null,\n  netlifySite: null,\n};\n","import { AsyncAction } from 'app/overmind';\n\nexport const getVercelUserDetails: AsyncAction = async ({\n  state,\n  actions,\n  effects,\n}) => {\n  if (\n    state.user &&\n    state.user.integrations.zeit &&\n    state.user.integrations.zeit.token &&\n    !state.user.integrations.zeit.email\n  ) {\n    state.isLoadingVercel = true;\n    try {\n      const vercelDetails = await effects.vercel.getUser();\n      state.user.integrations.zeit.email = vercelDetails.email;\n    } catch (error) {\n      actions.internal.handleError({\n        message: 'Could not authorize with Vercel',\n        error,\n      });\n    }\n    state.isLoadingVercel = false;\n  }\n};\n","import { Action, AsyncAction } from 'app/overmind';\nimport { AxiosError } from 'axios';\nimport { get } from 'lodash-es';\n\nimport * as internalActions from './internalActions';\n\nexport const internal = internalActions;\n\nconst getVercelErrorMessage = (error: AxiosError) =>\n  get(\n    error,\n    'response.data.error.message',\n    'An unknown error occurred when connecting to Vercel'\n  );\n\nexport const deployWithNetlify: AsyncAction = async ({\n  effects,\n  actions,\n  state,\n}) => {\n  const sandbox = state.editor.currentSandbox;\n\n  if (!sandbox) {\n    return;\n  }\n\n  state.deployment.deploying = true;\n  state.deployment.netlifyLogs = null;\n\n  const zip = await effects.zip.create(sandbox);\n\n  try {\n    const id = await effects.netlify.deploy(zip.file, sandbox);\n    state.deployment.deploying = false;\n\n    await actions.deployment.getNetlifyDeploys();\n    // Does not seem that we use this thing? Not in other code either\n    // const deploys = await actions.deployment.internal.getNetlifyDeploys();\n    state.deployment.building = true;\n    await effects.netlify.waitForDeploy(id, logUrl => {\n      if (!state.deployment.netlifyLogs) {\n        state.deployment.netlifyLogs = logUrl;\n      }\n    });\n    effects.notificationToast.success('Sandbox Deployed');\n  } catch (error) {\n    actions.internal.handleError({\n      message: 'An unknown error occurred when deploying your Netlify site',\n      error,\n    });\n  }\n  state.deployment.deploying = false;\n  state.deployment.building = false;\n};\n\nexport const getNetlifyDeploys: AsyncAction = async ({ state, effects }) => {\n  const sandbox = state.editor.currentSandbox;\n  if (!sandbox) {\n    return;\n  }\n\n  try {\n    state.deployment.netlifyClaimUrl = await effects.netlify.claimSite(\n      sandbox.id\n    );\n    state.deployment.netlifySite = await effects.netlify.getDeployments(\n      sandbox.id\n    );\n  } catch (error) {\n    state.deployment.netlifySite = null;\n  }\n};\n\nexport const getDeploys: AsyncAction = async ({ state, actions, effects }) => {\n  if (\n    !state.user ||\n    !state.user.integrations.zeit ||\n    !state.editor.currentSandbox\n  ) {\n    return;\n  }\n\n  state.deployment.gettingDeploys = true;\n\n  try {\n    const vercelConfig = effects.vercel.getConfig(state.editor.currentSandbox);\n\n    state.deployment.hasAlias = !!vercelConfig.alias;\n    if (vercelConfig.name) {\n      state.deployment.sandboxDeploys = await effects.vercel.getDeployments(\n        vercelConfig.name\n      );\n    }\n  } catch (error) {\n    actions.internal.handleError({\n      message: getVercelErrorMessage(error),\n      error,\n    });\n  }\n\n  state.deployment.gettingDeploys = false;\n};\n\nexport const deployClicked: AsyncAction = async ({\n  state,\n  effects,\n  actions,\n}) => {\n  const sandbox = state.editor.currentSandbox;\n\n  if (!sandbox) {\n    return;\n  }\n\n  try {\n    state.deployment.deploying = true;\n    const zip = await effects.zip.create(sandbox);\n    const contents = await effects.jsZip.loadAsync(zip.file);\n\n    if (sandbox.isSse && state.editor.currentSandbox) {\n      const envs = await effects.api.getEnvironmentVariables(\n        state.editor.currentSandbox.id\n      );\n      if (envs) {\n        await effects.vercel.checkEnvironmentVariables(sandbox, envs);\n      }\n    }\n\n    state.deployment.url = await effects.vercel.deploy(contents, sandbox);\n  } catch (error) {\n    actions.internal.handleError({\n      message: getVercelErrorMessage(error),\n      error,\n    });\n  }\n\n  state.deployment.deploying = false;\n\n  actions.deployment.getDeploys();\n};\n\nexport const deploySandboxClicked: AsyncAction = async ({\n  actions,\n  effects,\n  state,\n}) => {\n  state.currentModal = 'deployment';\n\n  const vercelIntegration = state.user && state.user.integrations.zeit;\n\n  if (!vercelIntegration || !vercelIntegration.token) {\n    effects.notificationToast.error(\n      'You are not authorized with Vercel, please refresh and log in again'\n    );\n    return;\n  }\n\n  if (!vercelIntegration.email) {\n    try {\n      const user = await effects.vercel.getUser();\n\n      if (state.user && state.user.integrations.zeit) {\n        state.user.integrations.zeit.email = user.email;\n      }\n    } catch (error) {\n      actions.internal.handleError({\n        message: 'Could not authorize with Vercel',\n        error,\n      });\n    }\n  }\n\n  state.deployment.url = null;\n};\n\nexport const setDeploymentToDelete: Action<string> = ({ state }, id) => {\n  state.deployment.deployToDelete = id;\n};\n\nexport const deleteDeployment: AsyncAction = async ({\n  state,\n  effects,\n  actions,\n}) => {\n  const id = state.deployment.deployToDelete;\n\n  if (!id) {\n    return;\n  }\n\n  state.currentModal = null;\n  state.deployment.deploysBeingDeleted.push(id);\n\n  try {\n    await effects.vercel.deleteDeployment(id);\n\n    effects.notificationToast.success('Deployment deleted');\n    actions.deployment.getDeploys();\n  } catch (error) {\n    actions.internal.handleError({\n      message: 'An unknown error occurred when deleting your deployment',\n      error,\n    });\n  }\n\n  state.deployment.deploysBeingDeleted.splice(\n    state.deployment.deploysBeingDeleted.indexOf(id),\n    1\n  );\n};\n\nexport const aliasDeployment: AsyncAction<string> = async (\n  { state, effects, actions },\n  id\n) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  const vercelConfig = effects.vercel.getConfig(state.editor.currentSandbox);\n\n  try {\n    const url = await effects.vercel.aliasDeployment(id, vercelConfig);\n\n    effects.notificationToast.success(`Deployed to ${url}`);\n    actions.deployment.getDeploys();\n  } catch (error) {\n    actions.internal.handleError({\n      message: 'An unknown error occurred when aliasing your deployment',\n      error,\n    });\n  }\n};\n","import getTemplateDefinition, {\n  TemplateType,\n} from '@codesandbox/common/lib/templates';\nimport {\n  Module,\n  ModuleTab,\n  Sandbox,\n  ServerContainerStatus,\n  TabType,\n} from '@codesandbox/common/lib/types';\nimport { hasPermission } from '@codesandbox/common/lib/utils/permission';\nimport slugify from '@codesandbox/common/lib/utils/slugify';\nimport {\n  editorUrl,\n  sandboxUrl,\n} from '@codesandbox/common/lib/utils/url-generator';\nimport { Action, AsyncAction } from 'app/overmind';\nimport { sortObjectByKeys } from 'app/overmind/utils/common';\nimport { getTemplate as computeTemplate } from 'codesandbox-import-utils/lib/create-sandbox/templates';\nimport { mapValues } from 'lodash-es';\n\nexport const ensureSandboxId: Action<string, string> = ({ state }, id) => {\n  if (state.editor.sandboxes[id]) {\n    return id;\n  }\n\n  const { sandboxes } = state.editor;\n  const matchingSandboxId = Object.keys(sandboxes).find(\n    // @ts-ignore\n    idItem => sandboxUrl(sandboxes[idItem]) === `${editorUrl()}${id}`\n  );\n\n  return matchingSandboxId || id;\n};\n\nexport const initializeSandbox: AsyncAction<Sandbox> = async (\n  { actions, effects },\n  sandbox\n) => {\n  await Promise.all([\n    actions.editor.internal.initializeLiveSandbox(sandbox),\n    actions.editor.loadCollaborators({ sandboxId: sandbox.id }),\n    actions.editor.listenToSandboxChanges({ sandboxId: sandbox.id }),\n  ]);\n};\n\nexport const initializeLiveSandbox: AsyncAction<Sandbox> = async (\n  { state, actions },\n  sandbox\n) => {\n  state.live.isTeam = Boolean(sandbox.team);\n\n  if (state.live.isLive && state.live.roomInfo) {\n    const roomChanged = state.live.roomInfo.roomId !== sandbox.roomId;\n\n    if (!roomChanged) {\n      // In this case we don't need to initialize new live session, we reuse the existing one\n      return;\n    }\n\n    if (\n      // If the joinSource is /live/ and the user is only a viewer,\n      // we won't get the roomId and the user will disconnect automatically,\n      // we want to prevent this by only re-initializing the live session on joinSource === 'sandbox'. Because\n      // for joinSource === 'sandbox' we know for sure that the user will get a roomId if they have permissions\n      // to join\n      state.live.joinSource === 'sandbox'\n    ) {\n      actions.live.internal.disconnect();\n    }\n  }\n\n  if (sandbox.roomId) {\n    await actions.live.internal.initialize(sandbox.roomId);\n  }\n};\n\nexport const updateSelectionsOfModule: AsyncAction<{ module: Module }> = async (\n  { actions, effects },\n  { module }\n) => {\n  effects.vscode.updateUserSelections(\n    module,\n    actions.live.internal.getSelectionsForModule(module)\n  );\n};\n\nexport const setModuleSavedCode: Action<{\n  moduleShortid: string;\n  savedCode: string | null;\n}> = ({ state }, { moduleShortid, savedCode }) => {\n  const sandbox = state.editor.currentSandbox;\n\n  if (!sandbox) {\n    return;\n  }\n\n  const moduleIndex = sandbox.modules.findIndex(\n    m => m.shortid === moduleShortid\n  );\n\n  if (moduleIndex > -1) {\n    const module = state.editor.sandboxes[sandbox.id].modules[moduleIndex];\n\n    module.savedCode = module.code === savedCode ? null : savedCode;\n  }\n};\n\nexport const saveCode: AsyncAction<{\n  code: string;\n  moduleShortid: string;\n  cbID?: string | null;\n}> = async ({ state, effects, actions }, { code, moduleShortid, cbID }) => {\n  effects.analytics.track('Save Code');\n\n  const sandbox = state.editor.currentSandbox;\n\n  if (!sandbox) {\n    return;\n  }\n\n  const module = sandbox.modules.find(m => m.shortid === moduleShortid);\n\n  if (!module) {\n    return;\n  }\n\n  try {\n    let updatedModule: {\n      updatedAt: string;\n      insertedAt: string;\n      code: string;\n      isBinary: boolean;\n    };\n    if (sandbox.featureFlags.comments) {\n      await effects.live.waitForLiveReady();\n      const {\n        saved_code,\n        updated_at,\n        inserted_at,\n      } = await effects.live.saveModule(module);\n\n      updatedModule = {\n        code: saved_code,\n        updatedAt: updated_at,\n        insertedAt: inserted_at,\n        isBinary: false,\n      };\n    } else {\n      updatedModule = await effects.api.saveModuleCode(\n        sandbox.id,\n        module.shortid,\n        code\n      );\n    }\n\n    module.insertedAt = updatedModule.insertedAt;\n    module.updatedAt = updatedModule.updatedAt;\n    module.isBinary = updatedModule.isBinary;\n\n    if (!effects.vscode.isModuleOpened(module)) {\n      module.code = updatedModule.code;\n    }\n    const savedCode =\n      updatedModule.code === module.code ? null : updatedModule.code;\n\n    module.savedCode = savedCode;\n\n    if (savedCode === null) {\n      // If the savedCode is also module.code\n      effects.moduleRecover.remove(sandbox.id, module);\n      effects.vscode.syncModule(module);\n    }\n\n    if (\n      state.live.isLive &&\n      state.live.isCurrentEditor &&\n      !sandbox.featureFlags.comments\n    ) {\n      setTimeout(() => {\n        // Send the save event 50ms later so the operation can be sent first (the operation that says the\n        // file difference created by VSCode due to the file watch event). If the other client gets the save before the operation,\n        // the other client will also send an operation with the same difference resulting in a duplicate event.\n        effects.live.sendModuleSaved(module);\n      }, 50);\n    }\n\n    effects.vscode.sandboxFsSync.writeFile(state.editor.modulesByPath, module);\n\n    if (cbID) {\n      effects.vscode.callCallback(cbID);\n    }\n\n    if (\n      sandbox.originalGit &&\n      state.workspace.openedWorkspaceItem === 'github'\n    ) {\n      state.git.isFetching = true;\n      state.git.originalGitChanges = await effects.api.getGitChanges(\n        sandbox.id\n      );\n      state.git.isFetching = false;\n    }\n\n    // If the executor is a server we only should send updates if the sandbox has been\n    // started already\n    if (\n      !effects.executor.isServer() ||\n      state.server.containerStatus === ServerContainerStatus.SANDBOX_STARTED\n    ) {\n      effects.executor.updateFiles(sandbox);\n    }\n\n    await actions.editor.internal.updateCurrentTemplate();\n\n    effects.vscode.runCommand('workbench.action.keepEditor');\n  } catch (error) {\n    actions.internal.handleError({\n      message: 'There was a problem with saving the code, please try again',\n      error,\n    });\n\n    if (cbID) {\n      effects.vscode.callCallbackError(cbID, error.message);\n    }\n  }\n};\n\nexport const updateCurrentTemplate: AsyncAction = async ({\n  effects,\n  state,\n}) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  try {\n    const currentTemplate = state.editor.currentSandbox.template;\n    const templateDefinition = getTemplateDefinition(currentTemplate);\n\n    // We always want to be able to update server template based on its detection.\n    // We only want to update the client template when it's explicitly specified\n    // in the sandbox configuration.\n    if (\n      templateDefinition.isServer ||\n      state.editor.parsedConfigurations?.sandbox?.parsed?.template\n    ) {\n      const { parsed = {} } = state.editor.parsedConfigurations?.package || {};\n\n      const modulesByPath = mapValues(state.editor.modulesByPath, module => ({\n        // No idea why this typing fails!\n        // @ts-ignore\n        content: module.code || '',\n        // @ts-ignore\n        isBinary: module.isBinary,\n      }));\n\n      // TODO: What is a template really? Two different kinds of templates here, need to fix the types\n      // Talk to Ives and Bogdan\n      const newTemplate = (computeTemplate(parsed, modulesByPath) ||\n        'node') as TemplateType;\n\n      if (\n        newTemplate !== currentTemplate &&\n        templateDefinition.isServer ===\n          getTemplateDefinition(newTemplate).isServer\n      ) {\n        state.editor.currentSandbox.template = newTemplate;\n        await effects.api.saveTemplate(\n          state.editor.currentSandbox.id,\n          newTemplate\n        );\n      }\n    }\n  } catch (e) {\n    // We don't want this to be blocking at all, it's low prio\n    if (process.env.NODE_ENV === 'development') {\n      console.error(e);\n    }\n  }\n};\n\nexport const removeNpmDependencyFromPackageJson: AsyncAction<string> = async (\n  { state, actions, effects },\n  name\n) => {\n  if (\n    !state.editor.currentSandbox ||\n    !state.editor.currentPackageJSONCode ||\n    !state.editor.currentPackageJSON\n  ) {\n    return;\n  }\n\n  const packageJson = JSON.parse(state.editor.currentPackageJSONCode);\n\n  delete packageJson.dependencies[name];\n\n  const code = JSON.stringify(packageJson, null, 2);\n  const moduleShortid = state.editor.currentPackageJSON.shortid;\n  const module = state.editor.currentSandbox.modules.find(\n    m => m.shortid === moduleShortid\n  );\n\n  if (!module) {\n    return;\n  }\n\n  actions.editor.setCode({ moduleShortid, code });\n\n  await actions.editor.codeSaved({\n    code,\n    moduleShortid,\n    cbID: null,\n  });\n};\n\nexport const addNpmDependencyToPackageJson: AsyncAction<{\n  name: string;\n  version?: string;\n  isDev: boolean;\n}> = async ({ state, actions, effects }, { name, isDev, version }) => {\n  if (\n    !state.editor.currentSandbox ||\n    !state.editor.currentPackageJSONCode ||\n    !state.editor.currentPackageJSON\n  ) {\n    return;\n  }\n\n  const packageJson = JSON.parse(state.editor.currentPackageJSONCode);\n\n  const type = isDev ? 'devDependencies' : 'dependencies';\n\n  packageJson[type] = packageJson[type] || {};\n  packageJson[type][name] = version || 'latest';\n  packageJson[type] = sortObjectByKeys(packageJson[type]);\n\n  const code = JSON.stringify(packageJson, null, 2);\n  const moduleShortid = state.editor.currentPackageJSON.shortid;\n\n  const module = state.editor.currentSandbox.modules.find(\n    m => m.shortid === moduleShortid\n  );\n\n  if (!module) {\n    return;\n  }\n\n  actions.editor.setCode({ moduleShortid, code });\n\n  await actions.editor.codeSaved({\n    code,\n    moduleShortid,\n    cbID: null,\n  });\n};\n\nexport const updateModuleCode: Action<{\n  module: Module;\n  code: string;\n}> = ({ state, effects }, { module, code }) => {\n  const { currentSandbox } = state.editor;\n\n  if (!currentSandbox) {\n    return;\n  }\n\n  if (module.savedCode === null) {\n    module.savedCode = module.code;\n  }\n\n  effects.vscode.runCommand('workbench.action.keepEditor');\n\n  const tabs = state.editor.tabs as ModuleTab[];\n  const tab = tabs.find(tabItem => tabItem.moduleShortid === module.shortid);\n\n  if (tab) {\n    tab.dirty = false;\n  }\n\n  module.code = code;\n\n  // Save the code to localStorage so we can recover in case of a crash\n  effects.moduleRecover.save(currentSandbox.id, currentSandbox.version, module);\n};\n\nexport const forkSandbox: AsyncAction<{\n  sandboxId: string;\n  body?: { collectionId: string | undefined };\n  openInNewWindow?: boolean;\n}> = async (\n  { state, effects, actions },\n  { sandboxId: id, body, openInNewWindow = false }\n) => {\n  const sandbox = state.editor.currentSandbox;\n  const currentSandboxId = state.editor.currentId;\n\n  if (!sandbox || !currentSandboxId) {\n    return;\n  }\n\n  const templateDefinition = getTemplateDefinition(\n    sandbox ? sandbox.template : null\n  );\n\n  if (!state.isLoggedIn && templateDefinition.isServer) {\n    effects.analytics.track('Show Server Fork Sign In Modal');\n    actions.modalOpened({ modal: 'forkServerModal' });\n\n    return;\n  }\n\n  effects.analytics.track('Fork Sandbox');\n\n  try {\n    state.editor.isForkingSandbox = true;\n\n    const forkedSandbox = await effects.api.forkSandbox(id, body);\n\n    // Copy over any unsaved code\n    Object.assign(forkedSandbox, {\n      modules: forkedSandbox.modules.map(module => {\n        const foundEquivalentModule = sandbox.modules.find(\n          currentSandboxModule =>\n            currentSandboxModule.shortid === module.shortid\n        );\n\n        if (!foundEquivalentModule) {\n          return module;\n        }\n\n        return {\n          ...module,\n          savedCode: foundEquivalentModule.savedCode,\n          code: foundEquivalentModule.code,\n        };\n      }),\n    });\n\n    state.workspace.project.title = forkedSandbox.title || '';\n    state.workspace.project.description = forkedSandbox.description || '';\n    state.workspace.project.alias = forkedSandbox.alias || '';\n\n    effects.vscode.clearComments();\n    Object.assign(state.editor.sandboxes[currentSandboxId]!, forkedSandbox);\n    state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(\n      forkedSandbox\n    );\n    effects.preview.updateAddressbarUrl();\n\n    if (templateDefinition.isServer) {\n      effects.preview.refresh();\n      actions.server.startContainer(forkedSandbox);\n    }\n\n    if (state.workspace.openedWorkspaceItem === 'project-summary') {\n      actions.workspace.openDefaultItem();\n    }\n\n    effects.notificationToast.success('Forked sandbox!');\n\n    if (templateDefinition.isServer) {\n      actions.editor.showEnvironmentVariablesNotification();\n    }\n\n    effects.router.updateSandboxUrl(forkedSandbox, { openInNewWindow });\n  } catch (error) {\n    console.error(error);\n    actions.internal.handleError({\n      message: 'We were unable to fork the sandbox',\n      error,\n    });\n\n    state.editor.isForkingSandbox = false;\n    throw error;\n  }\n};\n\nexport const setCurrentModule: AsyncAction<Module> = async (\n  { state, effects },\n  module\n) => {\n  state.editor.currentTabId = null;\n\n  const tabs = state.editor.tabs as ModuleTab[];\n  const tab = tabs.find(tabItem => tabItem.moduleShortid === module.shortid);\n\n  if (!tab) {\n    const dirtyTabIndex = tabs.findIndex(tabItem => tabItem.dirty);\n    const newTab: ModuleTab = {\n      type: TabType.MODULE,\n      moduleShortid: module.shortid,\n      dirty: true,\n    };\n\n    if (dirtyTabIndex >= 0) {\n      state.editor.tabs.splice(dirtyTabIndex, 1, newTab);\n    } else {\n      state.editor.tabs.splice(0, 0, newTab);\n    }\n  }\n\n  state.editor.currentModuleShortid = module.shortid;\n  await effects.vscode.openModule(module);\n  effects.vscode.setErrors(state.editor.errors);\n  effects.vscode.setCorrections(state.editor.corrections);\n};\n\nexport const updateSandboxPackageJson: AsyncAction = async ({\n  state,\n  effects,\n  actions,\n}) => {\n  const sandbox = state.editor.currentSandbox;\n\n  if (\n    !sandbox ||\n    !state.editor.parsedConfigurations?.package?.parsed ||\n    !state.editor.currentPackageJSON\n  ) {\n    return;\n  }\n\n  if (!hasPermission(sandbox.authorization, 'write_code')) {\n    return;\n  }\n\n  const { parsed } = state.editor.parsedConfigurations.package;\n\n  parsed.keywords = sandbox.tags;\n  parsed.name = slugify(sandbox.title || sandbox.id);\n  parsed.description = sandbox.description;\n\n  const code = JSON.stringify(parsed, null, 2);\n  const moduleShortid = state.editor.currentPackageJSON.shortid;\n\n  const module = sandbox.modules.find(m => m.shortid === moduleShortid);\n\n  if (!module) {\n    return;\n  }\n\n  actions.editor.setCode({ moduleShortid, code });\n\n  await actions.editor.codeSaved({\n    code,\n    moduleShortid,\n    cbID: null,\n  });\n};\n\nexport const updateDevtools: AsyncAction<{\n  code: string;\n}> = async ({ state, actions }, { code }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  if (state.editor.currentSandbox.owned) {\n    const devtoolsModule =\n      state.editor.modulesByPath['/.codesandbox/workspace.json'];\n\n    if (devtoolsModule) {\n      actions.editor.codeChanged({\n        moduleShortid: devtoolsModule.shortid,\n        code,\n      });\n      await actions.editor.codeSaved({\n        code,\n        moduleShortid: devtoolsModule.shortid,\n        cbID: null,\n      });\n    } else {\n      await actions.files.createModulesByPath({\n        files: {\n          '/.codesandbox/workspace.json': {\n            content: code,\n            isBinary: false,\n          },\n        },\n      });\n    }\n  } else {\n    state.editor.workspaceConfigCode = code;\n  }\n};\n\nexport const updatePreviewCode: Action = ({ state, effects }) => {\n  if (state.preferences.settings.instantPreviewEnabled) {\n    effects.preview.executeCodeImmediately();\n  } else {\n    effects.preview.executeCode();\n  }\n};\n","import { resolveModule } from '@codesandbox/common/lib/sandbox/modules';\nimport getTemplate from '@codesandbox/common/lib/templates';\nimport {\n  EnvironmentVariable,\n  Module,\n  ModuleCorrection,\n  ModuleError,\n  ModuleTab,\n  UserSelection,\n  WindowOrientation,\n} from '@codesandbox/common/lib/types';\nimport { logBreadcrumb } from '@codesandbox/common/lib/utils/analytics/sentry';\nimport { getTextOperation } from '@codesandbox/common/lib/utils/diff';\nimport { convertTypeToStatus } from '@codesandbox/common/lib/utils/notifications';\nimport { hasPermission } from '@codesandbox/common/lib/utils/permission';\nimport { signInPageUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { NotificationStatus } from '@codesandbox/notifications';\nimport {\n  Authorization,\n  CollaboratorFragment,\n  InvitationFragment,\n} from 'app/graphql/types';\nimport { Action, AsyncAction } from 'app/overmind';\nimport { withLoadApp, withOwnedSandbox } from 'app/overmind/factories';\nimport { getSavedCode } from 'app/overmind/utils/sandbox';\nimport {\n  addDevToolsTab as addDevToolsTabUtil,\n  closeDevToolsTab as closeDevToolsTabUtil,\n  moveDevToolsTab as moveDevToolsTabUtil,\n} from 'app/pages/Sandbox/Editor/Content/utils';\nimport { convertAuthorizationToPermissionType } from 'app/utils/authorization';\nimport { clearCorrectionsFromAction } from 'app/utils/corrections';\nimport history from 'app/utils/history';\nimport { debounce } from 'lodash-es';\nimport { TextOperation } from 'ot';\nimport { json } from 'overmind';\n\nimport eventToTransform from '../../utils/event-to-transform';\nimport { SERVER } from '../../utils/items';\nimport * as internalActions from './internalActions';\n\nexport const internal = internalActions;\n\nexport const onNavigateAway: Action = () => {};\n\nexport const persistCursorToUrl: Action<{\n  module: Module;\n  selection?: UserSelection;\n}> = debounce(({ effects }, { module, selection }) => {\n  let parameter = module.path;\n\n  if (!parameter) {\n    return;\n  }\n\n  if (selection?.primary?.selection?.length) {\n    const [head, anchor] = selection.primary.selection;\n    const serializedSelection = head + '-' + anchor;\n    parameter += `:${serializedSelection}`;\n  }\n\n  const newUrl = new URL(document.location.href);\n  newUrl.searchParams.set('file', parameter);\n\n  // Restore the URI encoded parts to their original values. Our server handles this well\n  // and all the browsers do too.\n  effects.router.replace(\n    newUrl\n      .toString()\n      .replace(/%2F/g, '/')\n      .replace('%3A', ':')\n  );\n}, 500);\n\nexport const loadCursorFromUrl: AsyncAction = async ({\n  effects,\n  actions,\n  state,\n}) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  const parameter = effects.router.getParameter('file');\n  if (!parameter) {\n    return;\n  }\n  const [path, selection] = parameter.split(':');\n\n  const module = state.editor.currentSandbox.modules.find(m => m.path === path);\n  if (!module) {\n    return;\n  }\n\n  await actions.editor.moduleSelected({ id: module.id });\n\n  if (!selection) {\n    return;\n  }\n\n  const [parsedHead, parsedAnchor] = selection.split('-').map(Number);\n  if (!isNaN(parsedHead) && !isNaN(parsedAnchor)) {\n    effects.vscode.setSelection(parsedHead, parsedAnchor);\n  }\n};\n\nexport const addNpmDependency: AsyncAction<{\n  name: string;\n  version?: string;\n  isDev?: boolean;\n}> = withOwnedSandbox(\n  async ({ actions, effects, state }, { name, version, isDev }) => {\n    effects.analytics.track('Add NPM Dependency');\n    state.currentModal = null;\n    let newVersion = version;\n\n    if (!newVersion) {\n      const dependency = await effects.api.getDependency(name);\n      newVersion = dependency.version;\n    }\n\n    await actions.editor.internal.addNpmDependencyToPackageJson({\n      name,\n      version: newVersion,\n      isDev: Boolean(isDev),\n    });\n\n    effects.preview.executeCodeImmediately();\n  }\n);\n\nexport const npmDependencyRemoved: AsyncAction<string> = withOwnedSandbox(\n  async ({ actions, effects }, name) => {\n    effects.analytics.track('Remove NPM Dependency');\n\n    await actions.editor.internal.removeNpmDependencyFromPackageJson(name);\n\n    effects.preview.executeCodeImmediately();\n  }\n);\n\nexport const sandboxChanged: AsyncAction<{ id: string }> = withLoadApp<{\n  id: string;\n}>(async ({ state, actions, effects }, { id }) => {\n  // This happens when we fork. This can be avoided with state first routing\n  if (state.editor.isForkingSandbox && state.editor.currentSandbox) {\n    effects.vscode.openModule(state.editor.currentModule);\n\n    await actions.editor.internal.initializeSandbox(\n      state.editor.currentSandbox\n    );\n\n    state.editor.isForkingSandbox = false;\n    return;\n  }\n\n  await effects.vscode.closeAllTabs();\n\n  state.editor.error = null;\n\n  let newId = id;\n\n  newId = actions.editor.internal.ensureSandboxId(newId);\n\n  effects.browser.storage.set('currentSandboxId', newId);\n\n  const hasExistingSandbox = Boolean(state.editor.currentId);\n\n  if (state.live.isLive) {\n    actions.live.internal.disconnect();\n  }\n\n  state.editor.isLoading = !hasExistingSandbox;\n\n  const url = new URL(document.location.href);\n  const invitationToken = url.searchParams.get('ts');\n\n  if (invitationToken) {\n    // This user came here with an invitation token, which can be sent to the email to make\n    // the user a collaborator\n    if (!state.hasLogIn) {\n      // Redirect to sign in URL, which then redirects back to this after\n      history.push(signInPageUrl(document.location.href));\n      return;\n    }\n\n    try {\n      await effects.gql.mutations.redeemSandboxInvitation({\n        sandboxId: newId,\n        invitationToken,\n      });\n\n      // Timeout to prevent that we load the whole sandbox twice at the same time\n      setTimeout(() => {\n        // Remove the invite from the url\n        url.searchParams.delete('ts');\n        history.replace(url.pathname);\n      }, 3000);\n    } catch (error) {\n      if (\n        !error.message.includes('Cannot redeem token, invitation not found')\n      ) {\n        actions.internal.handleError({\n          error,\n          message: 'Something went wrong with redeeming invitation token',\n        });\n      }\n    }\n  }\n\n  try {\n    const sandbox = await effects.api.getSandbox(newId);\n\n    actions.internal.setCurrentSandbox(sandbox);\n    actions.workspace.openDefaultItem();\n  } catch (error) {\n    const data = error.response?.data;\n    const errors = data?.errors;\n    let detail = errors?.detail;\n\n    if (Array.isArray(detail)) {\n      detail = detail[0];\n    } else if (typeof errors === 'object') {\n      detail = errors[Object.keys(errors)[0]];\n    } else if (data?.error) {\n      detail = data?.error;\n    }\n\n    state.editor.error = {\n      message: detail || error.message,\n      status: error.response.status,\n    };\n\n    state.editor.isLoading = false;\n\n    return;\n  }\n\n  const sandbox = state.editor.currentSandbox!;\n\n  await effects.vscode.changeSandbox(sandbox, fs => {\n    state.editor.modulesByPath = fs;\n  });\n\n  if (sandbox.featureFlags?.containerLsp && !sandbox.owned) {\n    effects.vscode.setReadOnly(true);\n    effects.notificationToast.add({\n      message:\n        'This Sandbox is running an experiment. You have to fork it before you can make any changes',\n      title: 'Experimental Sandbox',\n      status: convertTypeToStatus('notice'),\n      sticky: true,\n      actions: {\n        primary: {\n          label: 'Fork',\n          run: () => {\n            actions.editor.forkSandboxClicked();\n          },\n        },\n      },\n    });\n  }\n\n  await actions.editor.internal.initializeSandbox(sandbox);\n\n  // We only recover files at this point if we are not live. When live we recover them\n  // when the module_state is received\n  if (\n    !state.live.isLive &&\n    hasPermission(sandbox.authorization, 'write_code')\n  ) {\n    actions.files.internal.recoverFiles();\n  }\n\n  effects.vscode.openModule(state.editor.currentModule);\n  try {\n    await actions.editor.loadCursorFromUrl();\n  } catch (e) {\n    /**\n     * This is not extremely important logic, if it breaks (which is possible because of user input)\n     * we don't want to crash the whole editor. That's why we try...catch this.\n     */\n  }\n\n  if (\n    sandbox.featureFlags.comments &&\n    hasPermission(sandbox.authorization, 'comment')\n  ) {\n    actions.comments.getSandboxComments(sandbox.id);\n  }\n\n  state.editor.isLoading = false;\n});\n\nexport const contentMounted: Action = ({ state, effects }) => {\n  effects.browser.onUnload(event => {\n    if (!state.editor.isAllModulesSynced && !state.editor.isForkingSandbox) {\n      const returnMessage =\n        'You have not saved all your modules, are you sure you want to close this tab?';\n\n      event.returnValue = returnMessage; // eslint-disable-line\n\n      return returnMessage;\n    }\n\n    return null;\n  });\n};\n\nexport const resizingStarted: Action = ({ state }) => {\n  state.editor.isResizing = true;\n};\n\nexport const resizingStopped: Action = ({ state }) => {\n  state.editor.isResizing = false;\n};\n\nexport const codeSaved: AsyncAction<{\n  code: string;\n  moduleShortid: string;\n  cbID: string | null;\n}> = withOwnedSandbox(\n  async ({ state, actions }, { code, moduleShortid, cbID }) => {\n    actions.editor.internal.saveCode({\n      code,\n      moduleShortid,\n      cbID,\n    });\n  },\n  async ({ effects }, { cbID }) => {\n    if (cbID) {\n      effects.vscode.callCallbackError(cbID);\n    }\n  },\n  'write_code'\n);\n\nexport const onOperationApplied: Action<{\n  moduleShortid: string;\n  operation: TextOperation;\n  code: string;\n}> = ({ state, effects, actions }, { code, moduleShortid, operation }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  const module = state.editor.currentSandbox.modules.find(\n    m => m.shortid === moduleShortid\n  );\n\n  if (!module) {\n    return;\n  }\n\n  actions.comments.transposeComments({ module, operation });\n\n  actions.editor.internal.updateModuleCode({\n    module,\n    code,\n  });\n\n  actions.editor.internal.updatePreviewCode();\n\n  // If we are in a state of sync, we set \"revertModule\" to set it as saved\n  if (module.savedCode !== null && module.code === module.savedCode) {\n    effects.vscode.syncModule(module);\n  }\n};\n\n/**\n * Set the code of the module and send it if live is turned on. Keep in mind that this overwrites the editor state,\n * which means that if the user was typing something else in the file, it will get overwritten(!).\n *\n * There is some extra logic to handle files that are opened and not opened. If the file is opened we will set the code\n * within VSCode and let the event that VSCode generates handle the rest, however, if the file is not opened in VSCode,\n * we'll just update it in the state and send a live message based on the diff.\n *\n * The difference between `setCode` and `codeChanged` is small but important to keep in mind. Calling this method will *always*\n * cause `codeChanged` to be called. But from different sources based on whether the file is currently open. I'd recommend to always\n * call this function if you're aiming to manually set code (like updating package.json), while editors shouild call codeChanged.\n *\n * The two cases:\n *\n * ### Already opened in VSCode\n *  1. set code in VSCode\n *  2. which generates an event\n *  3. which triggers codeChanged\n *\n * ### Not opened in VSCode\n *  1. codeChanged called directly\n */\nexport const setCode: Action<{\n  moduleShortid: string;\n  code: string;\n}> = ({ effects, state, actions }, { code, moduleShortid }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  const module = state.editor.currentSandbox.modules.find(\n    m => m.shortid === moduleShortid\n  );\n\n  if (!module) {\n    return;\n  }\n\n  // If the code is opened in VSCode, change the code in VSCode and let\n  // other clients know via the event triggered by VSCode. Otherwise\n  // send a manual event and just change the state.\n  if (effects.vscode.isModuleOpened(module)) {\n    effects.vscode.setModuleCode({ ...module, code }, true);\n  } else {\n    actions.editor.codeChanged({ moduleShortid, code });\n  }\n};\n\nexport const codeChanged: Action<{\n  moduleShortid: string;\n  code: string;\n  event?: any;\n}> = ({ effects, state, actions }, { code, event, moduleShortid }) => {\n  effects.analytics.trackOnce('Change Code');\n\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  const module = state.editor.currentSandbox.modules.find(\n    m => m.shortid === moduleShortid\n  );\n\n  if (!module) {\n    return;\n  }\n\n  const savedCode = getSavedCode(module.code, module.savedCode);\n  const isSavedCode = savedCode === code;\n  const isFirstChange =\n    !effects.live.hasClient(module.shortid) ||\n    (effects.live.getClient(moduleShortid).revision === 0 &&\n      effects.live.getClient(moduleShortid).state.name === 'Synchronized');\n\n  // Don't send saved code of a moduke that has not been registered with yet, since the server\n  // will take the saved code as base. Which means that the change that would generate the saved code\n  // would be applied on the saved code by the server.\n  if (state.live.isLive && !(isSavedCode && isFirstChange)) {\n    let operation: TextOperation;\n    if (event) {\n      logBreadcrumb({\n        category: 'ot',\n        message: `Change Event ${JSON.stringify({\n          moduleShortid: module.shortid,\n          event,\n        })}`,\n      });\n      operation = eventToTransform(event, module.code).operation;\n    } else {\n      operation = getTextOperation(module.code, code);\n    }\n\n    effects.live.sendCodeUpdate(moduleShortid, operation);\n\n    actions.comments.transposeComments({ module, operation });\n  }\n\n  actions.editor.internal.updateModuleCode({\n    module,\n    code,\n  });\n\n  if (module.savedCode !== null && module.code === module.savedCode) {\n    effects.vscode.syncModule(module);\n  }\n\n  const { isServer } = getTemplate(state.editor.currentSandbox.template);\n\n  if (!isServer && state.preferences.settings.livePreviewEnabled) {\n    actions.editor.internal.updatePreviewCode();\n  }\n};\n\nexport const saveClicked: AsyncAction = withOwnedSandbox(\n  async ({ state, effects, actions }) => {\n    const sandbox = state.editor.currentSandbox;\n\n    if (!sandbox) {\n      return;\n    }\n\n    try {\n      const changedModules = sandbox.modules.filter(module =>\n        state.editor.changedModuleShortids.includes(module.shortid)\n      );\n\n      if (sandbox.featureFlags.comments) {\n        const versions = await Promise.all(\n          changedModules.map(module =>\n            effects.live\n              .saveModule(module)\n              .then(({ saved_code, updated_at, inserted_at, version }) => {\n                module.savedCode = saved_code;\n                module.updatedAt = updated_at;\n                module.insertedAt = inserted_at;\n\n                return version;\n              })\n          )\n        );\n        sandbox.version = Math.max(...versions);\n      } else {\n        const updatedModules = await effects.api.saveModules(\n          sandbox.id,\n          changedModules\n        );\n\n        updatedModules.forEach(updatedModule => {\n          const module = sandbox.modules.find(\n            moduleItem => moduleItem.shortid === updatedModule.shortid\n          );\n\n          if (module) {\n            module.insertedAt = updatedModule.insertedAt;\n            module.updatedAt = updatedModule.updatedAt;\n\n            module.savedCode =\n              updatedModule.code === module.code ? null : updatedModule.code;\n\n            effects.vscode.sandboxFsSync.writeFile(\n              state.editor.modulesByPath,\n              module\n            );\n\n            effects.moduleRecover.remove(sandbox.id, module);\n          } else {\n            // We might not have the module, as it was created by the server. In\n            // this case we put it in. There is an edge case here where the user\n            // might delete the module while it is being updated, but it will very\n            // likely not happen\n            sandbox.modules.push(updatedModule);\n          }\n        });\n      }\n\n      if (\n        sandbox.originalGit &&\n        state.workspace.openedWorkspaceItem === 'github'\n      ) {\n        actions.git.internal.fetchGitChanges();\n      }\n\n      effects.preview.executeCodeImmediately();\n    } catch (error) {\n      actions.internal.handleError({\n        message: 'There was a problem with saving the files, please try again',\n        error,\n      });\n    }\n  }\n);\n\nexport const createZipClicked: Action = ({ state, effects }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n  effects.zip.download(state.editor.currentSandbox);\n};\n\nexport const forkExternalSandbox: AsyncAction<{\n  sandboxId: string;\n  openInNewWindow?: boolean;\n  body?: { collectionId: string };\n}> = async (\n  { effects, state, actions },\n  { sandboxId, openInNewWindow, body }\n) => {\n  effects.analytics.track('Fork Sandbox', { type: 'external' });\n\n  try {\n    const forkedSandbox = await effects.api.forkSandbox(sandboxId, body);\n\n    state.editor.sandboxes[forkedSandbox.id] = forkedSandbox;\n    effects.router.updateSandboxUrl(forkedSandbox, { openInNewWindow });\n  } catch (error) {\n    console.error(error);\n    actions.internal.handleError({\n      message: 'We were unable to fork the sandbox',\n      error,\n    });\n\n    throw error;\n  }\n};\n\nexport const forkSandboxClicked: AsyncAction = async ({\n  state,\n  effects,\n  actions,\n}) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  await actions.editor.internal.forkSandbox({\n    sandboxId: state.editor.currentSandbox.id,\n  });\n};\n\nexport const likeSandboxToggled: AsyncAction<string> = async (\n  { state, effects },\n  id\n) => {\n  if (state.editor.sandboxes[id].userLiked) {\n    state.editor.sandboxes[id].likeCount--;\n    await effects.api.unlikeSandbox(id);\n  } else {\n    state.editor.sandboxes[id].likeCount++;\n    await effects.api.likeSandbox(id);\n  }\n\n  state.editor.sandboxes[id].userLiked = !state.editor.sandboxes[id].userLiked;\n};\n\nexport const moduleSelected: AsyncAction<\n  | {\n      // Id means it is coming from Explorer\n      id: string;\n      path?: undefined;\n    }\n  | {\n      // Path means it is coming from VSCode\n      id?: undefined;\n      path: string;\n    }\n> = async ({ actions, effects, state }, { id, path }) => {\n  effects.analytics.track('Open File');\n\n  state.editor.hasLoadedInitialModule = true;\n\n  const sandbox = state.editor.currentSandbox;\n\n  if (!sandbox) {\n    return;\n  }\n\n  try {\n    const module = path\n      ? effects.utils.resolveModule(\n          path.replace(/^\\/sandbox\\//, ''),\n          sandbox.modules,\n          sandbox.directories\n        )\n      : sandbox.modules.filter(moduleItem => moduleItem.id === id)[0];\n\n    if (module.shortid === state.editor.currentModuleShortid && path) {\n      // If this comes from VSCode we can return, but if this call comes from CodeSandbox\n      // we shouldn't return, since the promise would resolve sooner than VSCode loaded\n      // the file\n      return;\n    }\n\n    await actions.editor.internal.setCurrentModule(module);\n\n    actions.editor.persistCursorToUrl({ module });\n\n    if (state.live.isLive && state.live.liveUser && state.live.roomInfo) {\n      actions.editor.internal.updateSelectionsOfModule({ module });\n      state.live.liveUser.currentModuleShortid = module.shortid;\n\n      if (state.live.followingUserId) {\n        const followingUser = state.live.roomInfo.users.find(\n          u => u.id === state.live.followingUserId\n        );\n\n        if (\n          followingUser &&\n          followingUser.currentModuleShortid !== module.shortid\n        ) {\n          // Reset following as this is a user change module action\n          actions.live.onStopFollow();\n        }\n      }\n\n      effects.live.sendUserCurrentModule(module.shortid);\n\n      if (!state.editor.isInProjectView) {\n        actions.editor.internal.updatePreviewCode();\n      }\n    }\n  } catch (error) {\n    // You jumped to a file not in the Sandbox, for example typings\n    state.editor.currentModuleShortid = null;\n  }\n};\n\nexport const clearModuleSelected: Action = ({ state }) => {\n  state.editor.currentModuleShortid = null;\n};\n\nexport const moduleDoubleClicked: Action = ({ state, effects }) => {\n  effects.vscode.runCommand('workbench.action.keepEditor');\n\n  const { currentModule } = state.editor;\n  const tabs = state.editor.tabs as ModuleTab[];\n  const tab = tabs.find(\n    tabItem => tabItem.moduleShortid === currentModule.shortid\n  );\n\n  if (tab) {\n    tab.dirty = false;\n  }\n};\n\nexport const tabClosed: Action<number> = ({ state, actions }, tabIndex) => {\n  if (state.editor.tabs.length > 1) {\n    actions.internal.closeTabByIndex(tabIndex);\n  }\n};\n\nexport const tabMoved: Action<{\n  prevIndex: number;\n  nextIndex: number;\n}> = ({ state }, { prevIndex, nextIndex }) => {\n  const { tabs } = state.editor;\n  const tab = json(tabs[prevIndex]);\n\n  state.editor.tabs.splice(prevIndex, 1);\n  state.editor.tabs.splice(nextIndex, 0, tab);\n};\n\n// TODO(@CompuIves): Look into whether we even want to call this function.\n// We can probably call the dispatch from the bundler itself instead.\nexport const errorsCleared: Action = ({ state, effects }) => {\n  const sandbox = state.editor.currentSandbox;\n  if (!sandbox) {\n    return;\n  }\n\n  if (state.editor.errors.length) {\n    state.editor.errors.forEach(error => {\n      try {\n        const module = resolveModule(\n          error.path,\n          sandbox.modules,\n          sandbox.directories\n        );\n        module.errors = [];\n      } catch (e) {\n        // Module is probably somewhere in eg. /node_modules which is not\n        // in the store\n      }\n    });\n    state.editor.errors = [];\n    effects.vscode.setErrors(state.editor.errors);\n  }\n};\n\nexport const toggleStatusBar: Action = ({ state }) => {\n  state.editor.statusBar = !state.editor.statusBar;\n};\n\nexport const projectViewToggled: Action = ({ state, actions }) => {\n  state.editor.isInProjectView = !state.editor.isInProjectView;\n  actions.editor.internal.updatePreviewCode();\n};\n\nexport const frozenUpdated: AsyncAction<{ frozen: boolean }> = async (\n  { state, effects },\n  { frozen }\n) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  state.editor.currentSandbox.isFrozen = frozen;\n\n  await effects.api.saveFrozen(state.editor.currentSandbox.id, frozen);\n};\n\nexport const quickActionsOpened: Action = ({ state }) => {\n  state.editor.quickActionsOpen = true;\n};\n\nexport const quickActionsClosed: Action = ({ state }) => {\n  state.editor.quickActionsOpen = false;\n};\n\nexport const setPreviewContent: Action = () => {};\n\nexport const togglePreviewContent: Action = ({ state, effects }) => {\n  state.editor.previewWindowVisible = !state.editor.previewWindowVisible;\n  effects.vscode.resetLayout();\n};\n\nexport const currentTabChanged: Action<{\n  tabId: string;\n}> = ({ state }, { tabId }) => {\n  state.editor.currentTabId = tabId;\n};\n\nexport const discardModuleChanges: Action<{\n  moduleShortid: string;\n}> = ({ state, effects, actions }, { moduleShortid }) => {\n  effects.analytics.track('Code Discarded');\n\n  const sandbox = state.editor.currentSandbox;\n  if (!sandbox) {\n    return;\n  }\n\n  const module = sandbox.modules.find(\n    moduleItem => moduleItem.shortid === moduleShortid\n  );\n\n  if (!module) {\n    return;\n  }\n\n  module.updatedAt = new Date().toString();\n  effects.vscode.syncModule(module);\n};\n\nexport const fetchEnvironmentVariables: AsyncAction = async ({\n  state,\n  effects,\n}) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  state.editor.currentSandbox.environmentVariables = await effects.api.getEnvironmentVariables(\n    state.editor.currentSandbox.id\n  );\n};\n\nexport const updateEnvironmentVariables: AsyncAction<EnvironmentVariable> = async (\n  { effects, state },\n  environmentVariable\n) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  state.editor.currentSandbox.environmentVariables = await effects.api.saveEnvironmentVariable(\n    state.editor.currentSandbox.id,\n    environmentVariable\n  );\n\n  effects.codesandboxApi.restartSandbox();\n};\n\nexport const deleteEnvironmentVariable: AsyncAction<{\n  name: string;\n}> = async ({ state, effects }, { name }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  const { id } = state.editor.currentSandbox;\n\n  state.editor.currentSandbox.environmentVariables = await effects.api.deleteEnvironmentVariable(\n    id,\n    name\n  );\n  effects.codesandboxApi.restartSandbox();\n};\n\n/**\n * This will let the user know on fork that some secrets need to be set if there are any empty ones\n */\nexport const showEnvironmentVariablesNotification: AsyncAction = async ({\n  state,\n  actions,\n  effects,\n}) => {\n  const sandbox = state.editor.currentSandbox;\n\n  if (!sandbox) {\n    return;\n  }\n\n  await actions.editor.fetchEnvironmentVariables();\n\n  const environmentVariables = sandbox.environmentVariables!;\n  const emptyVarCount = Object.keys(environmentVariables).filter(\n    key => !environmentVariables[key]\n  ).length;\n  if (emptyVarCount > 0) {\n    effects.notificationToast.add({\n      status: NotificationStatus.NOTICE,\n      title: 'Unset Secrets',\n      message: `This sandbox has ${emptyVarCount} secrets that need to be set. You can set them in the server tab.`,\n      actions: {\n        primary: {\n          label: 'Open Server Tab',\n          run: () => {\n            actions.workspace.setWorkspaceItem({ item: SERVER.id });\n          },\n        },\n      },\n    });\n  }\n};\n\nexport const onSelectionChanged: Action<UserSelection> = (\n  { actions, state },\n  selection\n) => {\n  if (!state.editor.currentModule) {\n    return;\n  }\n\n  actions.editor.persistCursorToUrl({\n    module: state.editor.currentModule,\n    selection,\n  });\n};\n\nexport const toggleEditorPreviewLayout: Action = ({ state, effects }) => {\n  const currentOrientation = state.editor.previewWindowOrientation;\n\n  state.editor.previewWindowOrientation =\n    currentOrientation === WindowOrientation.VERTICAL\n      ? WindowOrientation.HORIZONTAL\n      : WindowOrientation.VERTICAL;\n\n  effects.vscode.resetLayout();\n};\n\nexport const previewActionReceived: Action<any> = (\n  { actions, effects, state },\n  action\n) => {\n  switch (action.action) {\n    case 'notification':\n      effects.notificationToast.add({\n        message: action.title,\n        status: action.notificationType,\n        timeAlive: action.timeAlive,\n      });\n      break;\n    case 'show-error': {\n      if (!state.editor.currentSandbox) {\n        return;\n      }\n      const error: ModuleError = {\n        column: action.column,\n        line: action.line,\n        columnEnd: action.columnEnd,\n        lineEnd: action.lineEnd,\n        message: action.message,\n        title: action.title,\n        path: action.path,\n        source: action.source,\n        severity: action.severity,\n        type: action.type,\n      };\n      try {\n        const module = resolveModule(\n          error.path,\n          state.editor.currentSandbox.modules,\n          state.editor.currentSandbox.directories\n        );\n\n        module.errors.push(json(error));\n        state.editor.errors.push(error);\n        effects.vscode.setErrors(state.editor.errors);\n      } catch (e) {\n        /* ignore, this module can be in a node_modules for example */\n      }\n      break;\n    }\n    case 'show-correction': {\n      if (!state.editor.currentSandbox) {\n        return;\n      }\n      const correction: ModuleCorrection = {\n        path: action.path,\n        column: action.column,\n        line: action.line,\n        columnEnd: action.columnEnd,\n        lineEnd: action.lineEnd,\n        message: action.message,\n        source: action.source,\n        severity: action.severity,\n      };\n      try {\n        const module = resolveModule(\n          correction.path as string,\n          state.editor.currentSandbox.modules,\n          state.editor.currentSandbox.directories\n        );\n\n        state.editor.corrections.push(correction);\n        module.corrections.push(json(correction));\n        effects.vscode.setCorrections(state.editor.corrections);\n      } catch (e) {\n        /* ignore, this module can be in a node_modules for example */\n      }\n      break;\n    }\n    case 'clear-errors': {\n      const sandbox = state.editor.currentSandbox;\n      if (!sandbox) {\n        return;\n      }\n      const currentErrors = state.editor.errors;\n\n      const newErrors = clearCorrectionsFromAction(currentErrors, action);\n\n      if (newErrors.length !== currentErrors.length) {\n        state.editor.errors.forEach(error => {\n          try {\n            const module = resolveModule(\n              error.path,\n              sandbox.modules,\n              sandbox.directories\n            );\n\n            module.errors = [];\n          } catch (e) {\n            // Module doesn't exist anymore\n          }\n        });\n        newErrors.forEach(error => {\n          const module = resolveModule(\n            error.path,\n            sandbox.modules,\n            sandbox.directories\n          );\n\n          module.errors.push(error);\n        });\n        state.editor.errors = newErrors;\n        effects.vscode.setErrors(state.editor.errors);\n      }\n      break;\n    }\n    case 'clear-corrections': {\n      const sandbox = state.editor.currentSandbox;\n\n      if (!sandbox) {\n        return;\n      }\n\n      const currentCorrections = state.editor.corrections;\n\n      const newCorrections = clearCorrectionsFromAction(\n        currentCorrections,\n        action\n      );\n\n      if (newCorrections.length !== currentCorrections.length) {\n        state.editor.corrections.forEach(correction => {\n          try {\n            const module = resolveModule(\n              correction.path!,\n              sandbox.modules,\n              sandbox.directories\n            );\n\n            module.corrections = [];\n          } catch (e) {\n            // Module is probably in node_modules or something, which is not in\n            // our store\n          }\n        });\n        newCorrections.forEach(correction => {\n          const module = resolveModule(\n            correction.path!,\n            sandbox.modules,\n            sandbox.directories\n          );\n\n          module.corrections.push(correction);\n        });\n        state.editor.corrections = newCorrections;\n        effects.vscode.setCorrections(state.editor.corrections);\n      }\n      break;\n    }\n    case 'source.module.rename': {\n      const sandbox = state.editor.currentSandbox;\n      if (!sandbox) {\n        return;\n      }\n      const module = effects.utils.resolveModule(\n        action.path.replace(/^\\//, ''),\n        sandbox.modules,\n        sandbox.directories\n      );\n\n      if (module) {\n        const sandboxModule = sandbox.modules.find(\n          moduleEntry => moduleEntry.shortid === module.shortid\n        );\n\n        if (sandboxModule) {\n          sandboxModule.title = action.title;\n        }\n      }\n      break;\n    }\n    case 'source.dependencies.add': {\n      const name = action.dependency;\n      actions.editor.addNpmDependency({\n        name,\n      });\n      break;\n    }\n  }\n};\n\nexport const renameModule: AsyncAction<{\n  title: string;\n  moduleShortid: string;\n}> = withOwnedSandbox(\n  async ({ state, actions, effects }, { title, moduleShortid }) => {\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) {\n      return;\n    }\n    const module = sandbox.modules.find(\n      moduleItem => moduleItem.shortid === moduleShortid\n    );\n\n    if (!module) {\n      return;\n    }\n\n    const oldTitle = module.title;\n\n    module.title = title;\n\n    try {\n      await effects.api.saveModuleTitle(sandbox.id, moduleShortid, title);\n\n      if (state.live.isCurrentEditor) {\n        effects.live.sendModuleUpdate(module);\n      }\n    } catch (error) {\n      module.title = oldTitle;\n\n      actions.internal.handleError({ message: 'Could not rename file', error });\n    }\n  }\n);\n\nexport const onDevToolsTabAdded: Action<{\n  tab: any;\n}> = ({ state, actions }, { tab }) => {\n  const { devToolTabs } = state.editor;\n  const { devTools: newDevToolTabs, position } = addDevToolsTabUtil(\n    json(devToolTabs),\n    tab\n  );\n\n  const code = JSON.stringify({ preview: newDevToolTabs }, null, 2);\n  const nextPos = position;\n\n  actions.editor.internal.updateDevtools({\n    code,\n  });\n\n  state.editor.currentDevToolsPosition = nextPos;\n};\n\nexport const onDevToolsTabMoved: Action<{\n  prevPos: any;\n  nextPos: any;\n}> = ({ state, actions }, { prevPos, nextPos }) => {\n  const { devToolTabs } = state.editor;\n  const newDevToolTabs = moveDevToolsTabUtil(\n    json(devToolTabs),\n    prevPos,\n    nextPos\n  );\n  const code = JSON.stringify({ preview: newDevToolTabs }, null, 2);\n\n  actions.editor.internal.updateDevtools({\n    code,\n  });\n\n  state.editor.currentDevToolsPosition = nextPos;\n};\n\nexport const onDevToolsTabClosed: Action<{\n  pos: any;\n}> = ({ state, actions }, { pos }) => {\n  const { devToolTabs } = state.editor;\n  const closePos = pos;\n  const newDevToolTabs = closeDevToolsTabUtil(json(devToolTabs), closePos);\n  const code = JSON.stringify({ preview: newDevToolTabs }, null, 2);\n\n  actions.editor.internal.updateDevtools({\n    code,\n  });\n};\n\nexport const onDevToolsPositionChanged: Action<{\n  position: any;\n}> = ({ state }, { position }) => {\n  state.editor.currentDevToolsPosition = position;\n};\n\nexport const openDevtoolsTab: Action<{\n  tab: any;\n}> = ({ state, actions }, { tab: tabToFind }) => {\n  const serializedTab = JSON.stringify(tabToFind);\n  const { devToolTabs } = state.editor;\n  let nextPos;\n\n  for (let i = 0; i < devToolTabs.length; i++) {\n    const view = devToolTabs[i];\n\n    for (let j = 0; j < view.views.length; j++) {\n      const tab = view.views[j];\n      if (JSON.stringify(tab) === serializedTab) {\n        nextPos = {\n          devToolIndex: i,\n          tabPosition: j,\n        };\n      }\n    }\n  }\n\n  if (nextPos) {\n    state.editor.currentDevToolsPosition = nextPos;\n  } else {\n    actions.editor.onDevToolsTabAdded({\n      tab: tabToFind,\n    });\n  }\n};\n\nexport const sessionFreezeOverride: Action<{ frozen: boolean }> = (\n  { state },\n  { frozen }\n) => {\n  state.editor.sessionFrozen = frozen;\n};\n\nexport const listenToSandboxChanges: AsyncAction<{\n  sandboxId: string;\n}> = async ({ state, actions, effects }, { sandboxId }) => {\n  effects.gql.subscriptions.onSandboxChangged.dispose();\n\n  if (!state.isLoggedIn) {\n    return;\n  }\n\n  effects.gql.subscriptions.onSandboxChangged({ sandboxId }, result => {\n    const sandbox = state.editor.sandboxes[sandboxId];\n\n    if (sandbox) {\n      const newInfo = result.sandboxChanged;\n      sandbox.privacy = newInfo.privacy as 0 | 1 | 2;\n\n      const authorization = convertAuthorizationToPermissionType(\n        newInfo.authorization\n      );\n\n      if (authorization !== sandbox.authorization) {\n        sandbox.authorization = authorization;\n\n        actions.refetchSandboxInfo();\n      }\n    }\n  });\n};\n\nexport const loadCollaborators: AsyncAction<{ sandboxId: string }> = async (\n  { state, effects },\n  { sandboxId }\n) => {\n  if (!state.editor.currentSandbox || !state.isLoggedIn) {\n    return;\n  }\n\n  effects.gql.subscriptions.onCollaboratorAdded.dispose();\n  effects.gql.subscriptions.onCollaboratorRemoved.dispose();\n  effects.gql.subscriptions.onCollaboratorChanged.dispose();\n  effects.gql.subscriptions.onInvitationCreated.dispose();\n  effects.gql.subscriptions.onInvitationRemoved.dispose();\n  effects.gql.subscriptions.onInvitationChanged.dispose();\n\n  try {\n    const collaboratorResponse = await effects.gql.queries.collaborators({\n      sandboxId,\n    });\n    if (!collaboratorResponse.sandbox) {\n      return;\n    }\n\n    state.editor.collaborators = collaboratorResponse.sandbox.collaborators;\n\n    effects.gql.subscriptions.onCollaboratorAdded({ sandboxId }, event => {\n      const newCollaborator = event.collaboratorAdded;\n      state.editor.collaborators = [\n        ...state.editor.collaborators.filter(\n          c => c.user.username !== event.collaboratorAdded.user.username\n        ),\n        newCollaborator,\n      ];\n    });\n\n    effects.gql.subscriptions.onCollaboratorChanged({ sandboxId }, event => {\n      const existingCollaborator = state.editor.collaborators.find(\n        c => c.user.username === event.collaboratorChanged.user.username\n      );\n      if (existingCollaborator) {\n        existingCollaborator.authorization =\n          event.collaboratorChanged.authorization;\n\n        existingCollaborator.warning = event.collaboratorChanged.warning;\n        existingCollaborator.lastSeenAt = event.collaboratorChanged.lastSeenAt;\n      }\n    });\n\n    effects.gql.subscriptions.onCollaboratorRemoved({ sandboxId }, event => {\n      state.editor.collaborators = state.editor.collaborators.filter(\n        c => c.user.username !== event.collaboratorRemoved.user.username\n      );\n    });\n\n    if (hasPermission(state.editor.currentSandbox.authorization, 'owner')) {\n      const invitationResponse = await effects.gql.queries.invitations({\n        sandboxId,\n      });\n      const sandbox = invitationResponse.sandbox;\n      if (!sandbox) {\n        return;\n      }\n\n      state.editor.invitations = sandbox.invitations;\n\n      effects.gql.subscriptions.onInvitationCreated({ sandboxId }, event => {\n        if (event.invitationCreated.id === null) {\n          // Ignore this\n          return;\n        }\n\n        const newInvitation = event.invitationCreated;\n        state.editor.invitations = [\n          ...state.editor.invitations.filter(\n            i => i.id !== event.invitationCreated.id\n          ),\n          newInvitation,\n        ];\n      });\n\n      effects.gql.subscriptions.onInvitationChanged({ sandboxId }, event => {\n        const existingInvitation = state.editor.invitations.find(\n          i => i.id === event.invitationChanged.id\n        );\n        if (existingInvitation) {\n          existingInvitation.authorization =\n            event.invitationChanged.authorization;\n        }\n      });\n\n      effects.gql.subscriptions.onInvitationRemoved({ sandboxId }, event => {\n        state.editor.invitations = state.editor.invitations.filter(\n          i => i.id !== event.invitationRemoved.id\n        );\n      });\n    }\n  } catch {\n    // Unable to connect, not sure what to do here\n  }\n};\n\nexport const changeCollaboratorAuthorization: AsyncAction<{\n  username: string;\n  authorization: Authorization;\n  sandboxId: string;\n}> = async ({ state, effects }, { username, authorization, sandboxId }) => {\n  effects.analytics.track('Update Collaborator Authorization', {\n    authorization,\n  });\n\n  const existingCollaborator = state.editor.collaborators.find(\n    c => c.user.username === username\n  );\n\n  let oldAuthorization: Authorization | null = null;\n  if (existingCollaborator) {\n    oldAuthorization = existingCollaborator.authorization;\n\n    existingCollaborator.authorization = authorization;\n  }\n\n  try {\n    await effects.gql.mutations.changeCollaboratorAuthorization({\n      sandboxId,\n      authorization,\n      username,\n    });\n  } catch (e) {\n    if (existingCollaborator && oldAuthorization) {\n      existingCollaborator.authorization = oldAuthorization;\n    }\n  }\n};\n\nexport const addCollaborator: AsyncAction<{\n  username: string;\n  sandboxId: string;\n  authorization: Authorization;\n}> = async ({ state, effects }, { username, sandboxId, authorization }) => {\n  effects.analytics.track('Add Collaborator', { authorization });\n  const newCollaborator: CollaboratorFragment = {\n    lastSeenAt: null,\n    id: 'OPTIMISTIC_ID',\n    authorization,\n    user: {\n      id: 'OPTIMISTIC_USER_ID',\n      username,\n      avatarUrl: '',\n    },\n    warning: null,\n  };\n\n  state.editor.collaborators = [...state.editor.collaborators, newCollaborator];\n\n  try {\n    const result = await effects.gql.mutations.addCollaborator({\n      sandboxId,\n      username,\n      authorization,\n    });\n    state.editor.collaborators = [\n      ...state.editor.collaborators.filter(c => c.user.username !== username),\n      result.addCollaborator,\n    ];\n  } catch (e) {\n    state.editor.collaborators = state.editor.collaborators.filter(\n      c => c.id !== 'OPTIMISTIC_ID'\n    );\n  }\n};\n\nexport const removeCollaborator: AsyncAction<{\n  username: string;\n  sandboxId: string;\n}> = async ({ state, effects }, { username, sandboxId }) => {\n  effects.analytics.track('Remove Collaborator');\n  const existingCollaborator = state.editor.collaborators.find(\n    c => c.user.username === username\n  );\n\n  state.editor.collaborators = state.editor.collaborators.filter(\n    c => c.user.username !== username\n  );\n\n  try {\n    await effects.gql.mutations.removeCollaborator({\n      sandboxId,\n      username,\n    });\n  } catch (e) {\n    if (existingCollaborator) {\n      state.editor.collaborators = [\n        ...state.editor.collaborators,\n        existingCollaborator,\n      ];\n    }\n  }\n};\n\nexport const inviteCollaborator: AsyncAction<{\n  email: string;\n  sandboxId: string;\n  authorization: Authorization;\n}> = async ({ state, effects }, { email, sandboxId, authorization }) => {\n  effects.analytics.track('Invite Collaborator (Email)', { authorization });\n\n  const newInvitation: InvitationFragment = {\n    id: 'OPTIMISTIC_ID',\n    authorization,\n    email,\n  };\n\n  state.editor.invitations = [...state.editor.invitations, newInvitation];\n\n  try {\n    const result = await effects.gql.mutations.inviteCollaborator({\n      sandboxId,\n      email,\n      authorization,\n    });\n\n    if (result.createSandboxInvitation.id === null) {\n      // When it's null it has already tied the email to a collaborator, and the collaborator\n      // has been added via websockets\n      state.editor.invitations = state.editor.invitations.filter(\n        c => c.id !== 'OPTIMISTIC_ID'\n      );\n    } else {\n      state.editor.invitations = [\n        ...state.editor.invitations.filter(\n          c =>\n            c.id !== 'OPTIMISTIC_ID' &&\n            c.id !== result.createSandboxInvitation.id\n        ),\n\n        result.createSandboxInvitation,\n      ];\n    }\n  } catch (e) {\n    state.editor.invitations = state.editor.invitations.filter(\n      c => c.id !== 'OPTIMISTIC_ID'\n    );\n  }\n};\n\nexport const revokeSandboxInvitation: AsyncAction<{\n  invitationId: string;\n  sandboxId: string;\n}> = async ({ state, effects }, { invitationId, sandboxId }) => {\n  effects.analytics.track('Cancel Invite Collaborator (Email)');\n\n  const existingInvitation = state.editor.invitations.find(\n    c => c.id === invitationId\n  );\n\n  state.editor.invitations = state.editor.invitations.filter(\n    c => c.id !== invitationId\n  );\n\n  try {\n    await effects.gql.mutations.revokeInvitation({\n      sandboxId,\n      invitationId,\n    });\n  } catch (e) {\n    if (existingInvitation) {\n      state.editor.invitations = [\n        ...state.editor.invitations,\n        existingInvitation,\n      ];\n    }\n  }\n};\n\nexport const changeInvitationAuthorization: AsyncAction<{\n  invitationId: string;\n  authorization: Authorization;\n  sandboxId: string;\n}> = async ({ state, effects }, { invitationId, sandboxId, authorization }) => {\n  const existingInvitation = state.editor.invitations.find(\n    c => c.id === invitationId\n  );\n\n  let oldAuthorization: Authorization | null = null;\n  if (existingInvitation) {\n    oldAuthorization = existingInvitation.authorization;\n\n    existingInvitation.authorization = authorization;\n  }\n\n  try {\n    await effects.gql.mutations.changeSandboxInvitationAuthorization({\n      sandboxId,\n      authorization,\n      invitationId,\n    });\n  } catch (e) {\n    if (existingInvitation && oldAuthorization) {\n      existingInvitation.authorization = oldAuthorization;\n    }\n  }\n};\n","import { TextOperation } from 'ot';\n\nimport { lineAndColumnToIndex } from './common';\n\nexport default function convertChangeEventToOperation(\n  changeEvent: any,\n  liveOperationCode: string\n) {\n  let otOperation: TextOperation;\n\n  let composedCode = liveOperationCode;\n\n  // eslint-disable-next-line no-restricted-syntax\n  for (const change of [...changeEvent.changes]) {\n    const newOt = new TextOperation();\n    const cursorStartOffset = lineAndColumnToIndex(\n      composedCode.split(/\\n/),\n      change.range.startLineNumber,\n      change.range.startColumn\n    );\n\n    const retain = cursorStartOffset - newOt.targetLength;\n\n    if (retain !== 0) {\n      newOt.retain(retain);\n    }\n\n    if (change.rangeLength > 0) {\n      newOt.delete(change.rangeLength);\n    }\n\n    if (change.text) {\n      newOt.insert(change.text);\n    }\n\n    const remaining = composedCode.length - newOt.baseLength;\n    if (remaining > 0) {\n      newOt.retain(remaining);\n    }\n\n    otOperation = otOperation! ? otOperation!.compose(newOt) : newOt;\n\n    composedCode = otOperation!.apply(liveOperationCode);\n  }\n\n  return {\n    operation: otOperation!,\n    newCode: composedCode,\n  };\n}\n","import immer from 'immer';\nimport {\n  ViewConfig,\n  ViewTab,\n} from '@codesandbox/common/lib/templates/template';\nimport { DevToolsTabPosition } from '@codesandbox/common/lib/types';\n\nconst isEqual = (prevPos: DevToolsTabPosition, nextPos: DevToolsTabPosition) =>\n  prevPos.devToolIndex === nextPos.devToolIndex &&\n  prevPos.tabPosition === nextPos.tabPosition;\n\nexport function addDevToolsTab(\n  tabs: ViewConfig[],\n  newTab: ViewTab,\n  position?: DevToolsTabPosition\n) {\n  const positionToAdd: DevToolsTabPosition = position || {\n    devToolIndex: 0,\n    tabPosition: tabs[0].views.length,\n  };\n\n  return {\n    devTools: immer(tabs, draft => {\n      const devTools = draft[positionToAdd.devToolIndex];\n\n      devTools.views.splice(positionToAdd.tabPosition, 0, newTab);\n    }),\n    position: { ...positionToAdd, tabPosition: positionToAdd.tabPosition },\n  };\n}\n\nexport function moveDevToolsTab(\n  tabs: ViewConfig[],\n  prevPos: DevToolsTabPosition,\n  nextPos: DevToolsTabPosition\n) {\n  if (isEqual(prevPos, nextPos)) {\n    return tabs;\n  }\n\n  // We want to do this immutable, to prevent conflicts while the file is changing\n  return immer(tabs, draft => {\n    const prevDevTools = draft[prevPos.devToolIndex];\n    const nextDevTools = draft[nextPos.devToolIndex];\n    const prevTab = draft[prevPos.devToolIndex].views[prevPos.tabPosition];\n\n    prevDevTools.views = prevDevTools.views.filter(\n      (_, i) => i !== prevPos.tabPosition\n    );\n\n    nextDevTools.views.splice(nextPos.tabPosition, 0, prevTab);\n\n    draft.map((t, i) => {\n      if (i === prevPos.devToolIndex) {\n        return prevDevTools;\n      }\n\n      if (i === nextPos.devToolIndex) {\n        return nextDevTools;\n      }\n\n      return t;\n    });\n  });\n}\n\nexport function closeDevToolsTab(\n  tabs: ViewConfig[],\n  closePos: DevToolsTabPosition\n) {\n  // We want to do this immutable, to prevent conflicts while the file is changing\n  return immer(tabs, draft => {\n    const devTools = draft[closePos.devToolIndex];\n\n    devTools.views.splice(closePos.tabPosition, 1);\n  });\n}\n","import { Authorization } from 'app/graphql/types';\nimport { PermissionType } from '@codesandbox/common/lib/types';\n\nexport function convertAuthorizationToPermissionType(\n  auth: Authorization\n): PermissionType {\n  return auth.toLowerCase() as PermissionType;\n}\n","import getTemplate from '@codesandbox/common/lib/templates';\nimport { generateFileFromSandbox } from '@codesandbox/common/lib/templates/configuration/package-json';\nimport { getPreviewTabs } from '@codesandbox/common/lib/templates/devtools';\nimport {\n  ParsedConfigurationFiles,\n  ViewConfig,\n} from '@codesandbox/common/lib/templates/template';\nimport {\n  DevToolsTabPosition,\n  DiffTab,\n  Directory,\n  Module,\n  ModuleCorrection,\n  ModuleError,\n  ModuleTab,\n  Sandbox,\n  SandboxFs,\n  Tabs,\n  WindowOrientation,\n} from '@codesandbox/common/lib/types';\nimport { RecoverData } from 'app/overmind/effects/moduleRecover.ts';\nimport { getSandboxOptions } from '@codesandbox/common/lib/url';\nimport { CollaboratorFragment, InvitationFragment } from 'app/graphql/types';\nimport immer from 'immer';\nimport { derived } from 'overmind';\n\nimport { mainModule as getMainModule } from '../../utils/main-module';\nimport { parseConfigurations } from '../../utils/parse-configurations';\n\ntype State = {\n  /**\n   * Never use this! It doesn't reflect the id of the current sandbox. Use editor.currentSandbox.id instead.\n   */\n  currentId: string | null;\n  currentModuleShortid: string | null;\n  isForkingSandbox: boolean;\n  mainModuleShortid: string | null;\n  sandboxes: {\n    [id: string]: Sandbox;\n  };\n  collaborators: CollaboratorFragment[];\n  invitations: InvitationFragment[];\n  // TODO: What is this really? Could not find it in Cerebral, but\n  // EditorPreview is using it... weird stuff\n  devToolTabs: ViewConfig[];\n  isLoading: boolean;\n  error: {\n    status: number;\n    message: string;\n  } | null;\n  isResizing: boolean;\n  changedModuleShortids: string[];\n  currentTabId: string | null;\n  tabs: Tabs;\n  errors: ModuleError[];\n  corrections: ModuleCorrection[];\n  isInProjectView: boolean;\n  initialPath: string;\n  highlightedLines: number[];\n  isUpdatingPrivacy: boolean;\n  quickActionsOpen: boolean;\n  previewWindowVisible: boolean;\n  workspaceConfigCode: string;\n  statusBar: boolean;\n  previewWindowOrientation: WindowOrientation;\n  canWriteCode: boolean;\n  isAllModulesSynced: boolean;\n  currentSandbox: Sandbox | null;\n  currentModule: Module;\n  mainModule: Module | null;\n  currentPackageJSON: Module | null;\n  currentPackageJSONCode: string | null;\n  parsedConfigurations: ParsedConfigurationFiles | null;\n  currentTab: ModuleTab | DiffTab | undefined;\n  modulesByPath: SandboxFs;\n  isAdvancedEditor: boolean;\n  shouldDirectoryBeOpen: (params: {\n    directoryId: string;\n    module?: Module;\n  }) => boolean;\n  currentDevToolsPosition: DevToolsTabPosition;\n  sessionFrozen: boolean;\n  hasLoadedInitialModule: boolean;\n  recoveredFiles: Array<{ recoverData: RecoverData; module: Module }>;\n};\n\nexport const state: State = {\n  hasLoadedInitialModule: false,\n  sandboxes: {},\n  currentId: null,\n  isForkingSandbox: false,\n  currentModuleShortid: null,\n  mainModuleShortid: null,\n  isLoading: true,\n  error: null,\n  isResizing: false,\n  modulesByPath: {},\n  collaborators: [],\n  invitations: [],\n  changedModuleShortids: derived(({ currentSandbox }: State) => {\n    if (!currentSandbox) {\n      return [];\n    }\n\n    return currentSandbox.modules.reduce((aggr, module) => {\n      if (module.savedCode !== null && module.savedCode !== module.code) {\n        return aggr.concat(module.shortid);\n      }\n\n      return aggr;\n    }, [] as string[]);\n  }),\n  currentTabId: null,\n  tabs: [],\n  errors: [],\n  sessionFrozen: true,\n  corrections: [],\n  isInProjectView: false,\n  initialPath: '/',\n  highlightedLines: [],\n  isUpdatingPrivacy: false,\n  quickActionsOpen: false,\n  previewWindowVisible: true,\n  statusBar: true,\n  recoveredFiles: [],\n  previewWindowOrientation:\n    window.innerHeight / window.innerWidth > 0.9\n      ? WindowOrientation.HORIZONTAL\n      : WindowOrientation.VERTICAL,\n\n  /**\n   * Normally we save this code in a file (.codesandbox/workspace.json), however, when someone\n   * doesn't own a sandbox and changes the UI we don't want to fork the sandbox (yet). That's\n   * why we introduce this field until we have datasources. When we have datasources we can store\n   * the actual content in the localStorage.\n   */\n  workspaceConfigCode: '',\n  currentDevToolsPosition: {\n    devToolIndex: 0,\n    tabPosition: 0,\n  },\n  canWriteCode: derived(\n    ({ currentSandbox }: State) =>\n      currentSandbox?.authorization === 'write_code'\n  ),\n  currentSandbox: derived(({ sandboxes, currentId }: State) => {\n    if (currentId && sandboxes[currentId]) {\n      return sandboxes[currentId];\n    }\n\n    return null;\n  }),\n\n  isAllModulesSynced: derived(\n    ({ changedModuleShortids }: State) => !changedModuleShortids.length\n  ),\n  currentModule: derived(\n    ({ currentSandbox, currentModuleShortid }: State) =>\n      (currentSandbox &&\n        currentSandbox.modules.find(\n          module => module.shortid === currentModuleShortid\n        )) ||\n      ({} as Module)\n  ),\n  currentTab: derived(({ currentTabId, currentModuleShortid, tabs }: State) => {\n    if (currentTabId) {\n      const foundTab = tabs.find(tab => 'id' in tab && tab.id === currentTabId);\n\n      if (foundTab) {\n        return foundTab;\n      }\n    }\n\n    return tabs.find(\n      tab =>\n        'moduleShortid' in tab && tab.moduleShortid === currentModuleShortid\n    );\n  }),\n  /**\n   * We have two types of editors in CodeSandbox: an editor focused on smaller projects and\n   * an editor that works with bigger projects that run on a container. The advanced editor\n   * only has added features, so it's a subset on top of the existing editor.\n   */\n  isAdvancedEditor: derived(({ currentSandbox }: State) => {\n    if (!currentSandbox) {\n      return false;\n    }\n\n    const { isServer } = getTemplate(currentSandbox.template);\n\n    return isServer && currentSandbox.owned;\n  }),\n  parsedConfigurations: derived(({ currentSandbox }: State) =>\n    currentSandbox ? parseConfigurations(currentSandbox) : null\n  ),\n  mainModule: derived(({ currentSandbox, parsedConfigurations }: State) =>\n    currentSandbox ? getMainModule(currentSandbox, parsedConfigurations) : null\n  ),\n  currentPackageJSON: derived(({ currentSandbox }: State) => {\n    if (!currentSandbox) {\n      return null;\n    }\n\n    const module = currentSandbox.modules.find(\n      m => m.directoryShortid == null && m.title === 'package.json'\n    );\n\n    return module || null;\n  }),\n  currentPackageJSONCode: derived(\n    ({ currentSandbox, currentPackageJSON }: State) => {\n      if (!currentPackageJSON || !currentSandbox) {\n        return null;\n      }\n\n      return currentPackageJSON.code\n        ? currentPackageJSON.code\n        : generateFileFromSandbox(currentSandbox);\n    }\n  ),\n  shouldDirectoryBeOpen: derived(\n    ({ currentSandbox, currentModule }: State) => ({\n      directoryId,\n      module = currentModule,\n    }) => {\n      if (!currentSandbox) {\n        return false;\n      }\n\n      const { modules, directories } = currentSandbox;\n      const currentModuleId = module.id;\n      const currentModuleParents = getModuleParents(\n        modules,\n        directories,\n        currentModuleId\n      );\n\n      const isParentOfModule = currentModuleParents.includes(directoryId);\n\n      return isParentOfModule;\n    }\n  ),\n  devToolTabs: derived(\n    ({\n      currentSandbox: sandbox,\n      parsedConfigurations,\n      workspaceConfigCode: intermediatePreviewCode,\n    }: State) => {\n      if (!sandbox || !parsedConfigurations) {\n        return [];\n      }\n\n      const views = getPreviewTabs(\n        sandbox,\n        parsedConfigurations,\n        intermediatePreviewCode\n      );\n\n      // Do it in an immutable manner, prevents changing the original object\n      return immer(views, draft => {\n        const sandboxConfig = sandbox.modules.find(\n          x => x.directoryShortid == null && x.title === 'sandbox.config.json'\n        );\n        let view = 'browser';\n        if (sandboxConfig) {\n          try {\n            view = JSON.parse(sandboxConfig.code || '').view || 'browser';\n          } catch (e) {\n            /* swallow */\n          }\n        }\n\n        const sandboxOptions = getSandboxOptions(location.href);\n        if (\n          sandboxOptions.previewWindow &&\n          (sandboxOptions.previewWindow === 'tests' ||\n            sandboxOptions.previewWindow === 'console')\n        ) {\n          // Backwards compatibility for ?previewwindow=\n\n          view = sandboxOptions.previewWindow;\n        }\n\n        if (view !== 'browser') {\n          // Backwards compatibility for sandbox.config.json\n          if (view === 'console') {\n            draft[0].views = draft[0].views.filter(\n              t => t.id !== 'codesandbox.console'\n            );\n            draft[0].views.unshift({ id: 'codesandbox.console' });\n          } else if (view === 'tests') {\n            draft[0].views = draft[0].views.filter(\n              t => t.id !== 'codesandbox.tests'\n            );\n            draft[0].views.unshift({ id: 'codesandbox.tests' });\n          }\n        }\n      });\n    }\n  ),\n};\n\n// This should be moved somewhere else\nfunction getModuleParents(\n  modules: Module[],\n  directories: Directory[],\n  id: string\n): string[] {\n  const module = modules.find(moduleEntry => moduleEntry.id === id);\n\n  if (!module) return [];\n\n  let directory = directories.find(\n    directoryEntry => directoryEntry.shortid === module.directoryShortid\n  );\n  let directoryIds: string[] = [];\n  while (directory != null) {\n    directoryIds = [...directoryIds, directory!.id];\n    directory = directories.find(\n      directoryEntry => directoryEntry.shortid === directory!.directoryShortid // eslint-disable-line\n    );\n  }\n\n  return directoryIds;\n}\n","import {\n  PickedSandboxDetails,\n  PickedSandboxes,\n  PopularSandboxes,\n  Sandbox,\n} from '@codesandbox/common/lib/types';\n\ntype State = {\n  pickedSandboxesIndexes: string[] | null;\n  popularSandboxes: PopularSandboxes | null;\n  pickedSandboxesLoading: boolean;\n  pickedSandboxes: PickedSandboxes | null;\n  selectedSandbox: Sandbox | null;\n  pickedSandboxDetails: PickedSandboxDetails | null;\n};\n\nexport const state: State = {\n  popularSandboxes: null,\n  pickedSandboxes: null,\n  pickedSandboxesIndexes: null,\n  pickedSandboxesLoading: false,\n  selectedSandbox: null,\n  pickedSandboxDetails: null,\n};\n","import { PickedSandboxDetails } from '@codesandbox/common/lib/types';\nimport { Action, AsyncAction } from 'app/overmind';\nimport { withLoadApp } from 'app/overmind/factories';\n\nexport const popularSandboxesMounted: AsyncAction<string> = withLoadApp(\n  async ({ state, actions, effects }, date) => {\n    try {\n      state.explore.popularSandboxes = await effects.api.getPopularSandboxes(\n        date\n      );\n    } catch (error) {\n      actions.internal.handleError({\n        message: 'There has been a problem getting the sandboxes',\n        error,\n      });\n    }\n  }\n);\n\nexport const pickSandbox: AsyncAction<PickedSandboxDetails> = async (\n  { effects, state, actions },\n  { description, id, title }\n) => {\n  try {\n    const data = await effects.api.saveSandboxPick(id, title, description);\n    const popularSandbox = (\n      state.explore.popularSandboxes?.sandboxes || []\n    ).find(module => module.id === id);\n\n    if (popularSandbox) {\n      popularSandbox.picks.push({\n        ...data,\n        // Why are we doing this?\n        id: Math.random().toString(),\n      });\n    }\n\n    effects.notificationToast.success('Sandbox picked');\n    state.currentModal = null;\n  } catch (error) {\n    actions.internal.handleError({\n      message: 'There has been a problem picking the sandbox',\n      error,\n    });\n  }\n};\n\nexport const pickSandboxModal: Action<PickedSandboxDetails> = (\n  { state },\n  details\n) => {\n  state.explore.pickedSandboxDetails = details;\n  state.currentModal = 'pickSandbox';\n};\n\nexport const getSandbox: AsyncAction<string> = async (\n  { state, actions, effects },\n  id\n) => {\n  try {\n    state.explore.selectedSandbox = await effects.api.getSandbox(id);\n  } catch (error) {\n    actions.internal.handleError({\n      message: 'A problem occurred while fetching the sandbox',\n      error,\n    });\n  }\n};\n\nexport const pickedSandboxesMounted: AsyncAction = async ({\n  state,\n  actions,\n  effects,\n}) => {\n  state.explore.pickedSandboxesLoading = true;\n\n  try {\n    const pickedSandboxes = await effects.api.getPickedSandboxes();\n\n    state.explore.pickedSandboxesIndexes = pickedSandboxes.sandboxes.map(\n      a => a.id\n    );\n    state.explore.pickedSandboxes = pickedSandboxes;\n  } catch (error) {\n    actions.internal.handleError({\n      message: 'A problem occurred while fetching the sandboxes',\n      error,\n    });\n  }\n  state.explore.pickedSandboxesLoading = false;\n};\n","import { Action, AsyncAction } from 'app/overmind';\nimport { MAX_FILE_SIZE } from 'codesandbox-import-utils/lib/is-text';\nimport denormalize from 'codesandbox-import-utils/lib/utils/files/denormalize';\nimport { chunk } from 'lodash-es';\n\nexport const recoverFiles: Action = ({ effects, actions, state }) => {\n  const sandbox = state.editor.currentSandbox;\n\n  if (!sandbox) {\n    return;\n  }\n\n  const recoverList = effects.moduleRecover.getRecoverList(\n    sandbox.id,\n    sandbox.modules\n  );\n\n  const recoveredList = recoverList.reduce((aggr, item) => {\n    if (!item) {\n      return aggr;\n    }\n    const { recoverData, module } = item;\n\n    if (module.code !== recoverData.code) {\n      return aggr.concat(item);\n    }\n\n    return aggr;\n  }, [] as typeof recoverList);\n\n  if (recoveredList.length > 0) {\n    state.editor.recoveredFiles = recoveredList;\n    state.currentModal = 'recoveredFiles';\n  }\n};\n\nexport const uploadFiles: AsyncAction<\n  {\n    files: { [k: string]: { dataURI: string; type: string } };\n    directoryShortid: string;\n  },\n  {\n    modules: any;\n    directories: any;\n  }\n> = async ({ effects }, { files, directoryShortid }) => {\n  const parsedFiles: {\n    [key: string]: { isBinary: boolean; content: string };\n  } = {};\n  // We first create chunks so we don't overload the server with 100 multiple\n  // upload requests\n  const filePaths = Object.keys(files);\n  const chunkedFilePaths = chunk(filePaths, 5);\n\n  const textExtensions = (await import('textextensions/source/index.json'))\n    .default;\n\n  // We traverse all files and upload them when necessary, then add them to the\n  // parsedFiles object\n  /* eslint-disable no-restricted-syntax, no-await-in-loop */\n  for (const filePathsChunk of chunkedFilePaths) {\n    await Promise.all(\n      filePathsChunk.map(async filePath => {\n        const file = files[filePath];\n        const { dataURI } = file;\n\n        const extension = filePath.split('.').pop();\n\n        if (\n          ((extension && textExtensions.includes(extension)) ||\n            file.type.startsWith('text/') ||\n            file.type === 'application/json') &&\n          dataURI.length < MAX_FILE_SIZE\n        ) {\n          const text =\n            dataURI !== 'data:' ? atob(dataURI.replace(/^.*base64,/, '')) : '';\n          parsedFiles[filePath] = {\n            content: text,\n            isBinary: false,\n          };\n        } else {\n          try {\n            const data = await effects.api.createUpload(filePath, dataURI);\n            parsedFiles[filePath] = {\n              content: data.url,\n              isBinary: true,\n            };\n          } catch (error) {\n            error.message = `Error uploading ${filePath}: ${error.message}`;\n\n            throw error;\n          }\n        }\n      })\n    );\n  }\n  /* eslint-enable */\n\n  // We create a module format that CodeSandbox understands\n  const { modules, directories } = denormalize(parsedFiles);\n\n  // If the directory was dropped in a subdirectory we need to shift all\n  // the root directories to that directory\n  const relativeDirectories = directories.map(dir => {\n    if (dir.directoryShortid == null) {\n      return {\n        ...dir,\n        directoryShortid,\n      };\n    }\n\n    return dir;\n  });\n\n  const relativeModules = modules.map(m => {\n    if (m.directoryShortid == null) {\n      return {\n        ...m,\n        directoryShortid,\n      };\n    }\n\n    return m;\n  });\n\n  // Proceed to give the data for `massCreateModules`\n  return {\n    modules: relativeModules,\n    directories: relativeDirectories,\n  };\n};\n","import {\n  getDirectoryPath,\n  getModulePath,\n  getModulesAndDirectoriesInDirectory,\n} from '@codesandbox/common/lib/sandbox/modules';\nimport getDefinition from '@codesandbox/common/lib/templates';\nimport { Directory, Module, UploadFile } from '@codesandbox/common/lib/types';\nimport { getTextOperation } from '@codesandbox/common/lib/utils/diff';\nimport { Action, AsyncAction } from 'app/overmind';\nimport { RecoverData } from 'app/overmind/effects/moduleRecover';\nimport { withOwnedSandbox } from 'app/overmind/factories';\nimport { createOptimisticModule } from 'app/overmind/utils/common';\nimport { INormalizedModules } from 'codesandbox-import-util-types';\nimport denormalize from 'codesandbox-import-utils/lib/utils/files/denormalize';\n\nimport {\n  resolveDirectoryWrapped,\n  resolveModuleWrapped,\n} from '../../utils/resolve-module-wrapped';\nimport * as internalActions from './internalActions';\n\nexport const internal = internalActions;\n\nexport const applyRecover: Action<Array<{\n  module: Module;\n  recoverData: RecoverData;\n}>> = ({ state, effects, actions }, recoveredList) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  effects.moduleRecover.clearSandbox(state.editor.currentSandbox.id);\n  recoveredList.forEach(({ recoverData, module }) => {\n    actions.editor.codeChanged({\n      moduleShortid: module.shortid,\n      code: recoverData.code,\n    });\n    effects.vscode.setModuleCode(module);\n  });\n\n  effects.analytics.track('Files Recovered', {\n    fileCount: recoveredList.length,\n  });\n};\n\nexport const createRecoverDiffs: Action<Array<{\n  module: Module;\n  recoverData: RecoverData;\n}>> = ({ state, effects, actions }, recoveredList) => {\n  const sandbox = state.editor.currentSandbox;\n  if (!sandbox) {\n    return;\n  }\n  effects.moduleRecover.clearSandbox(sandbox.id);\n  recoveredList.forEach(({ recoverData, module }) => {\n    const oldCode = module.code;\n    actions.editor.codeChanged({\n      moduleShortid: module.shortid,\n      code: recoverData.code,\n    });\n    effects.vscode.openDiff(sandbox.id, module, oldCode);\n  });\n\n  effects.analytics.track('Files Recovered', {\n    fileCount: recoveredList.length,\n  });\n};\n\nexport const discardRecover: Action = ({ effects, state }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n  effects.moduleRecover.clearSandbox(state.editor.currentSandbox.id);\n};\n\nexport const moduleRenamed: AsyncAction<{\n  title: string;\n  moduleShortid: string;\n}> = withOwnedSandbox(\n  async ({ state, actions, effects }, { title, moduleShortid }) => {\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) {\n      return;\n    }\n    const module = sandbox.modules.find(\n      moduleItem => moduleItem.shortid === moduleShortid\n    );\n\n    if (!module || !module.id) {\n      return;\n    }\n\n    const oldTitle = module.title;\n    const oldPath = module.path;\n\n    module.title = title;\n    module.path = getModulePath(\n      sandbox.modules,\n      sandbox.directories,\n      module.id\n    );\n\n    effects.vscode.sandboxFsSync.rename(\n      state.editor.modulesByPath,\n      oldPath!,\n      module.path\n    );\n\n    await effects.vscode.updateTabsPath(oldPath!, module.path);\n\n    if (state.editor.currentModuleShortid === module.shortid) {\n      effects.vscode.openModule(module);\n    }\n\n    actions.editor.internal.updatePreviewCode();\n    try {\n      await effects.api.saveModuleTitle(sandbox.id, moduleShortid, title);\n\n      if (state.live.isCurrentEditor) {\n        effects.live.sendModuleUpdate(module);\n      }\n      effects.executor.updateFiles(sandbox);\n    } catch (error) {\n      module.title = oldTitle;\n      state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(sandbox);\n\n      if (state.editor.currentModuleShortid === module.shortid) {\n        effects.vscode.openModule(module);\n      }\n\n      actions.editor.internal.updatePreviewCode();\n\n      actions.internal.handleError({ message: 'Could not rename file', error });\n    }\n  },\n  async () => {},\n  'write_code'\n);\n\nexport const directoryCreated: AsyncAction<{\n  title: string;\n  directoryShortid: string;\n}> = withOwnedSandbox(\n  async ({ state, effects, actions }, { title, directoryShortid }) => {\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) {\n      return;\n    }\n    const optimisticId = effects.utils.createOptimisticId();\n    const optimisticDirectory = {\n      id: optimisticId,\n      title,\n      directoryShortid,\n      shortid: effects.utils.createOptimisticId(),\n      sourceId: sandbox.sourceId,\n      insertedAt: new Date().toString(),\n      updatedAt: new Date().toString(),\n      type: 'directory' as 'directory',\n      path: (null as unknown) as string,\n    };\n\n    sandbox.directories.push(optimisticDirectory as Directory);\n    optimisticDirectory.path = getDirectoryPath(\n      sandbox.modules,\n      sandbox.directories,\n      optimisticId\n    );\n    effects.vscode.sandboxFsSync.mkdir(\n      state.editor.modulesByPath,\n      optimisticDirectory\n    );\n\n    try {\n      const newDirectory = await effects.api.createDirectory(\n        sandbox.id,\n        directoryShortid,\n        title\n      );\n      const directory = sandbox.directories.find(\n        directoryItem => directoryItem.shortid === optimisticDirectory.shortid\n      );\n\n      if (!directory) {\n        effects.notificationToast.error(\n          'Could not find saved directory, please refresh and try again'\n        );\n        return;\n      }\n\n      Object.assign(directory, {\n        id: newDirectory.id,\n        shortid: newDirectory.shortid,\n      });\n\n      effects.live.sendDirectoryCreated(directory);\n      effects.executor.updateFiles(sandbox);\n    } catch (error) {\n      const directoryIndex = sandbox.directories.findIndex(\n        directoryItem => directoryItem.shortid === optimisticDirectory.shortid\n      );\n\n      sandbox.directories.splice(directoryIndex, 1);\n      state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(sandbox);\n      actions.internal.handleError({\n        message: 'Unable to save new directory',\n        error,\n      });\n    }\n  },\n  async () => {},\n  'write_code'\n);\n\nexport const moduleMovedToDirectory: AsyncAction<{\n  moduleShortid: string;\n  directoryShortid: string;\n}> = withOwnedSandbox(\n  async ({ state, actions, effects }, { moduleShortid, directoryShortid }) => {\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) {\n      return;\n    }\n    const module = sandbox.modules.find(\n      moduleItem => moduleItem.shortid === moduleShortid\n    );\n\n    if (!module || !module.id) {\n      return;\n    }\n\n    const currentDirectoryShortid = module.directoryShortid;\n    const oldPath = module.path;\n\n    module.directoryShortid = directoryShortid;\n    module.path = getModulePath(\n      sandbox.modules,\n      sandbox.directories,\n      module.id\n    );\n\n    effects.vscode.sandboxFsSync.rename(\n      state.editor.modulesByPath,\n      oldPath!,\n      module.path\n    );\n    effects.vscode.openModule(module);\n    actions.editor.internal.updatePreviewCode();\n    try {\n      await effects.api.saveModuleDirectory(\n        sandbox.id,\n        moduleShortid,\n        directoryShortid\n      );\n      effects.live.sendModuleUpdate(module);\n      effects.executor.updateFiles(sandbox);\n    } catch (error) {\n      module.directoryShortid = currentDirectoryShortid;\n      module.path = oldPath;\n      state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(sandbox);\n      actions.internal.handleError({\n        message: 'Could not save new module location',\n        error,\n      });\n    }\n  },\n  async () => {},\n  'write_code'\n);\n\nexport const directoryMovedToDirectory: AsyncAction<{\n  shortid: string;\n  directoryShortid: string;\n}> = withOwnedSandbox(\n  async ({ state, actions, effects }, { shortid, directoryShortid }) => {\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) {\n      return;\n    }\n    const directoryToMove = sandbox.directories.find(\n      directoryItem => directoryItem.shortid === shortid\n    );\n\n    if (!directoryToMove) {\n      return;\n    }\n\n    const oldPath = directoryToMove.path;\n\n    directoryToMove.directoryShortid = directoryShortid;\n    directoryToMove.path = getDirectoryPath(\n      sandbox.modules,\n      sandbox.directories,\n      directoryToMove.id\n    );\n\n    // We have to recreate the whole thing as many files and folders\n    // might have changed their path\n    state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(sandbox);\n    actions.editor.internal.updatePreviewCode();\n    try {\n      await effects.api.saveDirectoryDirectory(\n        sandbox.id,\n        shortid,\n        directoryShortid\n      );\n      effects.live.sendDirectoryUpdate(directoryToMove);\n      effects.executor.updateFiles(sandbox);\n    } catch (error) {\n      directoryToMove.directoryShortid = shortid;\n      directoryToMove.path = oldPath;\n      state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(sandbox);\n      actions.internal.handleError({\n        message: 'Could not save new directory location',\n        error,\n      });\n    }\n  },\n  async () => {},\n  'write_code'\n);\n\nexport const directoryDeleted: AsyncAction<{\n  directoryShortid: string;\n}> = withOwnedSandbox(\n  async ({ state, actions, effects }, { directoryShortid }) => {\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) {\n      return;\n    }\n    const directory = sandbox.directories.find(\n      directoryItem => directoryItem.shortid === directoryShortid\n    );\n\n    if (!directory) {\n      return;\n    }\n\n    const removedDirectory = sandbox.directories.splice(\n      sandbox.directories.indexOf(directory),\n      1\n    )[0];\n    const {\n      removedModules,\n      removedDirectories,\n    } = getModulesAndDirectoriesInDirectory(\n      removedDirectory,\n      sandbox.modules,\n      sandbox.directories\n    );\n\n    removedModules.forEach(removedModule => {\n      effects.vscode.sandboxFsSync.unlink(\n        state.editor.modulesByPath,\n        removedModule\n      );\n      sandbox.modules.splice(sandbox.modules.indexOf(removedModule), 1);\n    });\n\n    removedDirectories.forEach(removedDirectoryItem => {\n      sandbox.directories.splice(\n        sandbox.directories.indexOf(removedDirectoryItem),\n        1\n      );\n    });\n\n    // We open the main module as we do not really know if you had opened\n    // any nested file of this directory. It would require complex logic\n    // to figure that out. This concept is soon removed anyways\n    if (state.editor.mainModule)\n      effects.vscode.openModule(state.editor.mainModule);\n    actions.editor.internal.updatePreviewCode();\n    try {\n      await effects.api.deleteDirectory(sandbox.id, directoryShortid);\n      effects.live.sendDirectoryDeleted(directoryShortid);\n      effects.executor.updateFiles(sandbox);\n    } catch (error) {\n      sandbox.directories.push(removedDirectory);\n\n      removedModules.forEach(removedModule => {\n        sandbox.modules.push(removedModule);\n      });\n      removedDirectories.forEach(removedDirectoryItem => {\n        sandbox.directories.push(removedDirectoryItem);\n      });\n      state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(sandbox);\n      actions.internal.handleError({\n        message: 'Could not delete directory',\n        error,\n      });\n    }\n  },\n  async () => {},\n  'write_code'\n);\n\nexport const directoryRenamed: AsyncAction<{\n  title: string;\n  directoryShortid: string;\n}> = withOwnedSandbox(\n  async ({ effects, actions, state }, { title, directoryShortid }) => {\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) {\n      return;\n    }\n    const directory = sandbox.directories.find(\n      directoryEntry => directoryEntry.shortid === directoryShortid\n    );\n\n    if (!directory) {\n      return;\n    }\n\n    const oldTitle = directory.title;\n    const oldPath = directory.path;\n\n    directory.title = title;\n    directory.path = getDirectoryPath(\n      sandbox.modules,\n      sandbox.directories,\n      directory.id\n    );\n\n    effects.vscode.sandboxFsSync.rename(\n      state.editor.modulesByPath,\n      oldPath!,\n      directory.path\n    );\n    actions.editor.internal.updatePreviewCode();\n    try {\n      await effects.api.saveDirectoryTitle(sandbox.id, directoryShortid, title);\n\n      if (state.live.isCurrentEditor) {\n        effects.live.sendDirectoryUpdate(directory);\n      }\n\n      effects.executor.updateFiles(sandbox);\n    } catch (error) {\n      directory.title = oldTitle;\n      state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(sandbox);\n      actions.internal.handleError({\n        message: 'Could not rename directory',\n        error,\n      });\n    }\n  },\n  async () => {},\n  'write_code'\n);\n\nexport const gotUploadedFiles: AsyncAction<string> = async (\n  { state, actions, effects },\n  message\n) => {\n  const modal = 'storageManagement';\n  effects.analytics.track('Open Modal', { modal });\n  state.currentModalMessage = message;\n  state.currentModal = modal;\n\n  try {\n    const uploadedFilesInfo = await effects.api.getUploads();\n\n    state.uploadedFiles = uploadedFilesInfo.uploads;\n    state.maxStorage = uploadedFilesInfo.maxSize;\n    state.usedStorage = uploadedFilesInfo.currentSize;\n  } catch (error) {\n    actions.internal.handleError({\n      message: 'Unable to get uploaded files information',\n      error,\n    });\n  }\n};\n\nexport const addedFileToSandbox: AsyncAction<Pick<\n  UploadFile,\n  'name' | 'url'\n>> = withOwnedSandbox(\n  async ({ actions, effects, state }, { name, url }) => {\n    if (!state.editor.currentSandbox) {\n      return;\n    }\n    actions.internal.closeModals(false);\n    await actions.files.moduleCreated({\n      title: name,\n      directoryShortid: null,\n      code: url,\n      isBinary: true,\n    });\n\n    effects.executor.updateFiles(state.editor.currentSandbox);\n  },\n  async () => {},\n  'write_code'\n);\n\nexport const deletedUploadedFile: AsyncAction<string> = async (\n  { actions, effects, state },\n  id\n) => {\n  if (!state.uploadedFiles) {\n    return;\n  }\n  const index = state.uploadedFiles.findIndex(file => file.id === id);\n  const removedFiles = state.uploadedFiles.splice(index, 1);\n\n  try {\n    await effects.api.deleteUploadedFile(id);\n  } catch (error) {\n    state.uploadedFiles.splice(index, 0, ...removedFiles);\n    actions.internal.handleError({\n      message: 'Unable to delete uploaded file',\n      error,\n    });\n  }\n};\n\nexport const filesUploaded: AsyncAction<{\n  files: { [k: string]: { dataURI: string; type: string } };\n  directoryShortid: string;\n}> = withOwnedSandbox(\n  async ({ state, effects, actions }, { files, directoryShortid }) => {\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) {\n      return;\n    }\n    const modal = 'uploading';\n    effects.analytics.track('Open Modal', { modal });\n    // What message?\n    // state.currentModalMessage = message;\n    state.currentModal = modal;\n\n    try {\n      const { modules, directories } = await actions.files.internal.uploadFiles(\n        {\n          files,\n          directoryShortid,\n        }\n      );\n\n      actions.files.massCreateModules({\n        modules,\n        directories,\n        directoryShortid,\n      });\n\n      effects.executor.updateFiles(sandbox);\n    } catch (error) {\n      if (error.message.indexOf('413') !== -1) {\n        actions.internal.handleError({\n          message: `The uploaded file is bigger than 7MB, contact hello@codesandbox.io if you want to raise this limit`,\n          error,\n          hideErrorMessage: true,\n        });\n      } else {\n        actions.internal.handleError({\n          message: 'Unable to upload files',\n          error,\n        });\n      }\n    }\n\n    actions.internal.closeModals(false);\n  },\n  async () => {},\n  'write_code'\n);\n\nexport const massCreateModules: AsyncAction<{\n  modules: any;\n  directories: any;\n  directoryShortid: string | null;\n  cbID?: string;\n}> = withOwnedSandbox(\n  async (\n    { state, actions, effects },\n    { modules, directories, directoryShortid, cbID }\n  ) => {\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) {\n      return;\n    }\n    const sandboxId = sandbox.id;\n\n    try {\n      const data = await effects.api.massCreateModules(\n        sandboxId,\n        directoryShortid,\n        modules,\n        directories\n      );\n\n      sandbox.modules = sandbox.modules.concat(data.modules);\n      sandbox.directories = sandbox.directories.concat(data.directories);\n\n      state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(sandbox);\n\n      actions.editor.internal.updatePreviewCode();\n\n      // This can happen if you have selected a deleted file in VSCode and try to save it,\n      // we want to select it again\n      if (!state.editor.currentModuleShortid) {\n        const lastAddedModule = sandbox.modules[sandbox.modules.length - 1];\n\n        actions.editor.internal.setCurrentModule(lastAddedModule);\n      }\n\n      if (state.live.isCurrentEditor) {\n        effects.live.sendMassCreatedModules(data.modules, data.directories);\n      }\n\n      if (cbID) {\n        effects.vscode.callCallback(cbID);\n      }\n\n      effects.executor.updateFiles(sandbox);\n    } catch (error) {\n      if (cbID) {\n        effects.vscode.callCallbackError(cbID, error.message);\n      }\n\n      actions.internal.handleError({\n        message: 'Unable to create new files',\n        error,\n      });\n    }\n  },\n  async () => {},\n  'write_code'\n);\n\nexport const moduleCreated: AsyncAction<{\n  title: string;\n  directoryShortid: string | null;\n  code?: string;\n  isBinary?: boolean;\n}> = withOwnedSandbox(\n  async (\n    { state, actions, effects },\n    { title, directoryShortid, code, isBinary }\n  ) => {\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) {\n      return;\n    }\n    const optimisticId = effects.utils.createOptimisticId();\n    const optimisticModule = createOptimisticModule({\n      id: optimisticId,\n      title,\n      directoryShortid: directoryShortid || null,\n      shortid: effects.utils.createOptimisticId(),\n      sourceId: sandbox.sourceId,\n      isNotSynced: true,\n      ...(code ? { code } : {}),\n      ...(typeof isBinary === 'boolean' ? { isBinary } : {}),\n    });\n\n    // We have to push the module to the array before we can figure out its path,\n    // this is all changing soon\n    sandbox.modules.push(optimisticModule as Module);\n    optimisticModule.path = getModulePath(\n      sandbox.modules,\n      sandbox.directories,\n      optimisticId\n    );\n\n    // We grab the module from the state to continue working with it (proxy)\n    const module = sandbox.modules[sandbox.modules.length - 1];\n\n    const template = getDefinition(sandbox.template);\n    const config = template.configurationFiles[module.path!];\n\n    if (\n      config &&\n      (config.generateFileFromSandbox ||\n        config.getDefaultCode ||\n        config.generateFileFromState)\n    ) {\n      if (config.generateFileFromState) {\n        module.code = config.generateFileFromState(\n          state.preferences.settings.prettierConfig\n        );\n      } else if (config.generateFileFromSandbox) {\n        module.code = config.generateFileFromSandbox(sandbox);\n      } else if (config.getDefaultCode) {\n        const resolveModule = resolveModuleWrapped(sandbox);\n\n        module.code = config.getDefaultCode(sandbox.template, resolveModule);\n      }\n    }\n\n    effects.vscode.sandboxFsSync.appendFile(state.editor.modulesByPath, module);\n    actions.editor.internal.setCurrentModule(module);\n\n    try {\n      const updatedModule = await effects.api.createModule(sandbox.id, module);\n\n      module.id = updatedModule.id;\n      module.shortid = updatedModule.shortid;\n\n      effects.vscode.sandboxFsSync.writeFile(\n        state.editor.modulesByPath,\n        module\n      );\n      state.editor.currentModuleShortid = module.shortid;\n\n      effects.executor.updateFiles(sandbox);\n\n      if (state.live.isCurrentEditor) {\n        effects.live.sendModuleCreated(module);\n        // Update server with latest data\n        effects.live.sendCodeUpdate(\n          module.shortid,\n          getTextOperation(updatedModule.code || '', module.code)\n        );\n      }\n    } catch (error) {\n      sandbox.modules.splice(sandbox.modules.indexOf(module), 1);\n      if (state.editor.mainModule)\n        actions.editor.internal.setCurrentModule(state.editor.mainModule);\n\n      state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(sandbox);\n\n      actions.internal.handleError({\n        message: 'Unable to save new file',\n        error,\n      });\n    }\n  },\n  async () => {},\n  'write_code'\n);\n\nexport const moduleDeleted: AsyncAction<{\n  moduleShortid: string;\n}> = withOwnedSandbox(\n  async ({ state, effects, actions }, { moduleShortid }) => {\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) {\n      return;\n    }\n    const moduleToDeleteIndex = sandbox.modules.findIndex(\n      module => module.shortid === moduleShortid\n    );\n    const removedModule = sandbox.modules.splice(moduleToDeleteIndex, 1)[0];\n    const wasCurrentModule =\n      state.editor.currentModuleShortid === moduleShortid;\n\n    effects.vscode.sandboxFsSync.unlink(\n      state.editor.modulesByPath,\n      removedModule\n    );\n\n    if (wasCurrentModule && state.editor.mainModule) {\n      actions.editor.internal.setCurrentModule(state.editor.mainModule);\n    }\n\n    actions.editor.internal.updatePreviewCode();\n\n    try {\n      await effects.api.deleteModule(sandbox.id, moduleShortid);\n\n      if (state.live.isCurrentEditor) {\n        effects.live.sendModuleDeleted(moduleShortid);\n      }\n      effects.executor.updateFiles(sandbox);\n    } catch (error) {\n      sandbox.modules.push(removedModule);\n      state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(sandbox);\n      actions.internal.handleError({ message: 'Could not delete file', error });\n    }\n  },\n  async () => {},\n  'write_code'\n);\n\nexport const createModulesByPath: AsyncAction<{\n  cbID?: string;\n  files: INormalizedModules;\n}> = async ({ state, effects, actions }, { files, cbID }) => {\n  const sandbox = state.editor.currentSandbox;\n  if (!sandbox) {\n    return;\n  }\n  const { modules, directories } = denormalize(files, sandbox.directories);\n\n  await actions.files.massCreateModules({\n    modules,\n    directories,\n    directoryShortid: null,\n    cbID,\n  });\n\n  effects.executor.updateFiles(sandbox);\n};\n\nexport const syncSandbox: AsyncAction<any[]> = async (\n  { state, actions, effects },\n  updates\n) => {\n  const oldSandbox = state.editor.currentSandbox;\n  if (!oldSandbox) {\n    return;\n  }\n  const { id } = oldSandbox;\n\n  try {\n    const newSandbox = await effects.api.getSandbox(id);\n\n    updates.forEach(update => {\n      const { op, path, type } = update;\n\n      if (type === 'file') {\n        const resolveModuleOld = resolveModuleWrapped(oldSandbox);\n        const resolveModuleNew = resolveModuleWrapped(newSandbox);\n        const oldModule = resolveModuleOld(path);\n        if (op === 'update') {\n          const newModule = resolveModuleNew(path);\n\n          if (newModule) {\n            if (oldModule) {\n              const modulePos = oldSandbox.modules.indexOf(oldModule);\n              Object.assign(oldSandbox.modules[modulePos], newModule);\n            } else {\n              oldSandbox.modules.push(newModule);\n            }\n          }\n        } else if (op === 'delete' && oldModule) {\n          oldSandbox.modules.splice(oldSandbox.modules.indexOf(oldModule), 1);\n        }\n      } else {\n        const resolveDirectoryOld = resolveDirectoryWrapped(oldSandbox);\n        const resolveDirectoryNew = resolveDirectoryWrapped(newSandbox);\n\n        if (op === 'update') {\n          // Create\n          const newDirectory = resolveDirectoryNew(path);\n          if (newDirectory) {\n            oldSandbox.directories.push(newDirectory);\n          }\n        } else {\n          const oldDirectory = resolveDirectoryOld(path);\n          if (oldDirectory) {\n            const directory = oldSandbox.directories.find(\n              directoryItem => directoryItem.shortid === oldDirectory.shortid\n            );\n            if (directory) {\n              oldSandbox.directories.splice(\n                oldSandbox.directories.indexOf(directory),\n                1\n              );\n            }\n          }\n        }\n      }\n    });\n  } catch (error) {\n    if (error.response?.status === 404) {\n      return;\n    }\n\n    actions.internal.handleError({\n      message:\n        \"We weren't able to retrieve the latest files of the sandbox, please refresh\",\n      error,\n    });\n  }\n\n  // No matter if error or not we resync the whole shabang!\n  if (state.editor.currentSandbox)\n    state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(\n      state.editor.currentSandbox\n    );\n};\n","import { GitChanges, GitCommit, GitPr } from '@codesandbox/common/lib/types';\n\ntype State = {\n  repoTitle: string;\n  error: string | null;\n  isExported: boolean;\n  showExportedModal: boolean;\n  isFetching: boolean;\n  subject: string;\n  description: string;\n  originalGitChanges: GitChanges | null;\n  commit: GitCommit | null;\n  pr: GitPr | null;\n  isCommitting: boolean;\n  isCreatingPr: boolean;\n};\n\nexport const state: State = {\n  repoTitle: '',\n  error: null,\n  isExported: false,\n  showExportedModal: false,\n  isFetching: false,\n  subject: '',\n  description: '',\n  originalGitChanges: null,\n  commit: null,\n  pr: null,\n  isCommitting: false,\n  isCreatingPr: false,\n};\n","import { AsyncAction } from 'app/overmind';\n\nexport const fetchGitChanges: AsyncAction = async ({ state, effects }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  const { id } = state.editor.currentSandbox;\n\n  state.git.isFetching = true;\n  state.git.originalGitChanges = await effects.api.getGitChanges(id);\n  state.git.isFetching = false;\n};\n","import { Action, AsyncAction } from 'app/overmind';\n\nimport * as internalActions from './internalActions';\n\nexport const internal = internalActions;\n\nexport const repoTitleChanged: Action<{\n  title: string;\n}> = ({ state }, { title }) => {\n  state.git.repoTitle = title;\n  state.git.error = null;\n};\n\nexport const createRepoClicked: AsyncAction = async ({ state, effects }) => {\n  const { repoTitle } = state.git;\n  const modulesNotSaved = !state.editor.isAllModulesSynced;\n\n  if (!repoTitle) {\n    state.git.error = 'Repo name cannot be empty';\n    return;\n  }\n\n  if (/\\s/.test(repoTitle.trim())) {\n    state.git.error = 'Repo name cannot contain spaces';\n    return;\n  }\n\n  if (modulesNotSaved) {\n    state.git.error = 'All files need to be saved';\n    return;\n  }\n\n  state.git.isExported = false;\n  state.currentModal = 'exportGithub';\n\n  const sandbox = state.editor.currentSandbox;\n  if (!sandbox) {\n    return;\n  }\n\n  const githubData = await effects.git.export(sandbox);\n  if (!githubData) {\n    return;\n  }\n  const git = await effects.api.createGit(sandbox.id, repoTitle, githubData);\n\n  if (!git) {\n    effects.notificationToast.error(\n      'Unable to create git repo, please try again'\n    );\n    return;\n  }\n  // Not being used?\n  // const id = `github/${git.username}/${git.repo}/tree/${git.branch}/`;\n\n  git.commitSha = null;\n  state.git.isExported = true;\n  state.currentModal = null;\n  effects.router.updateSandboxUrl({ git });\n};\n\nexport const gitMounted: AsyncAction = async ({ actions, state }) => {\n  const currentSandbox = state.editor.currentSandbox;\n  if (currentSandbox && currentSandbox.originalGit) {\n    await actions.git.internal.fetchGitChanges();\n  }\n};\n\nexport const createCommitClicked: AsyncAction = async ({ state, effects }) => {\n  const { git } = state;\n  const sandbox = state.editor.currentSandbox;\n  if (!sandbox) {\n    return;\n  }\n  const { id } = sandbox;\n\n  git.commit = null;\n  git.isCommitting = true;\n  state.currentModal = 'commit';\n\n  const commit = await effects.api.createGitCommit(\n    id,\n    `${git.subject}${git.description.length ? `\\n\\n${git.description}` : ``}`\n  );\n  state.git.commit = commit;\n  state.git.isCommitting = false;\n\n  const isDirectCommit = !commit.newBranch && !commit.merge;\n\n  if (isDirectCommit) {\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    state.currentModal = null;\n  }\n  state.git.subject = '';\n  state.git.description = '';\n  state.git.originalGitChanges = null;\n};\n\nexport const subjectChanged: Action<{\n  subject: string;\n}> = ({ state }, { subject }) => {\n  state.git.subject = subject;\n};\n\nexport const descriptionChanged: Action<{\n  description: string;\n}> = ({ state }, { description }) => {\n  state.git.description = description;\n};\n\nexport const createPrClicked: AsyncAction = async ({ state, effects }) => {\n  state.git.isCreatingPr = true;\n  state.git.pr = null;\n  state.currentModal = 'pr';\n  const sandbox = state.editor.currentSandbox;\n  if (!sandbox) {\n    return;\n  }\n  const { id } = sandbox;\n  const pr = await effects.api.createGitPr(\n    id,\n    `${state.git.subject}${\n      state.git.description.length ? `\\n\\n${state.git.description}` : ``\n    }`\n  );\n\n  state.git.pr = pr;\n  state.git.isCreatingPr = false;\n\n  const { user } = state;\n  const git = sandbox.originalGit;\n\n  if (!user || !git) {\n    effects.notificationToast.error(\n      'Something wrong happened creating the PR, please refresh and try again'\n    );\n    return;\n  }\n  const url = `https://github.com/${git.username}/${git.repo}/compare/${git.branch}...${user.username}:${pr.newBranch}?expand=1`;\n\n  state.git.pr.prURL = url;\n\n  await new Promise(resolve => setTimeout(resolve, 3000));\n\n  effects.browser.openWindow(url);\n\n  state.git.subject = '';\n  state.git.description = '';\n  state.git.originalGitChanges = null;\n\n  effects.router.updateSandboxUrl({ git: pr.git });\n};\n","import {\n  LiveUser,\n  RoomInfo,\n  UserSelection,\n  UserViewRange,\n} from '@codesandbox/common/lib/types';\nimport { derived } from 'overmind';\n\ntype State = {\n  isLive: boolean;\n  isTeam: boolean;\n  isLoading: boolean;\n  error: string | null;\n  reconnecting: boolean;\n  notificationsHidden: boolean;\n  followingUserId: string | null;\n  liveUserId: string | null;\n  roomInfo: RoomInfo | null;\n  /**\n   * Whether we joined from /s/ or from /live/\n   */\n  joinSource: 'sandbox' | 'live';\n  currentSelection: UserSelection | null;\n  currentViewRange: UserViewRange | null;\n  liveUser: LiveUser | null;\n  isEditor: (liveUserId: string) => boolean;\n  isCurrentEditor: boolean;\n  isOwner: boolean;\n  liveUsersByModule: {\n    [id: string]: number[][];\n  };\n};\n\nexport const state: State = {\n  isLive: false,\n  isTeam: false,\n  isLoading: false,\n  reconnecting: false,\n  notificationsHidden: false,\n  followingUserId: null,\n  error: null,\n  liveUserId: null,\n  roomInfo: null,\n  currentSelection: {\n    primary: {\n      cursorPosition: 0,\n      selection: [],\n    },\n    secondary: [],\n    source: 'overmind',\n  },\n  currentViewRange: null,\n  joinSource: 'sandbox',\n  liveUser: derived(\n    (currentState: State) =>\n      currentState.roomInfo?.users.find(\n        u => u.id === currentState.liveUserId\n      ) || null\n  ),\n  isEditor: derived((currentState: State) => liveUserId =>\n    Boolean(\n      currentState.isLive &&\n        currentState.roomInfo &&\n        (currentState.roomInfo.mode === 'open' ||\n          currentState.roomInfo.ownerIds.includes(liveUserId) ||\n          currentState.roomInfo.editorIds.includes(liveUserId))\n    )\n  ),\n  isCurrentEditor: derived((currentState: State) =>\n    Boolean(\n      currentState.liveUserId && currentState.isEditor(currentState.liveUserId)\n    )\n  ),\n  isOwner: derived((currentState: State) =>\n    Boolean(\n      currentState.isLive &&\n        currentState.liveUserId &&\n        currentState.roomInfo?.ownerIds.includes(currentState.liveUserId)\n    )\n  ),\n  liveUsersByModule: derived((currentState: State) => {\n    const usersByModule: { [id: string]: number[][] } = {};\n\n    if (!currentState.isLive || !currentState.roomInfo) {\n      return {};\n    }\n\n    const { liveUserId } = currentState;\n\n    currentState.roomInfo.users.forEach(user => {\n      const userId = user.id;\n      if (user && userId !== liveUserId && user.currentModuleShortid) {\n        usersByModule[user.currentModuleShortid] =\n          usersByModule[user.currentModuleShortid] || [];\n        usersByModule[user.currentModuleShortid].push(user.color);\n      }\n    });\n\n    return usersByModule;\n  }),\n};\n","import {\n  EditorSelection,\n  IModuleState,\n  IModuleStateModule,\n  Module,\n  Sandbox,\n} from '@codesandbox/common/lib/types';\nimport { logBreadcrumb } from '@codesandbox/common/lib/utils/analytics/sentry';\nimport { getTextOperation } from '@codesandbox/common/lib/utils/diff';\nimport { Action, AsyncAction } from 'app/overmind';\nimport { json } from 'overmind';\n\nimport { getSavedCode } from '../../utils/sandbox';\n\nexport const clearUserSelections: Action<string | null> = (\n  { state, effects },\n  live_user_id\n) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  const clearSelections = (userId: string) => {\n    const roomInfo = state.live.roomInfo!;\n    const userIndex = roomInfo.users.findIndex(u => u.id === userId);\n\n    effects.vscode.clearUserSelections(userId);\n    if (userIndex > -1) {\n      const user = roomInfo.users[userIndex];\n      if (user) {\n        user.selection = null;\n      }\n    }\n  };\n\n  if (!live_user_id) {\n    // All users\n    state.live.roomInfo.users.forEach(u => clearSelections(u.id));\n  } else {\n    clearSelections(live_user_id);\n  }\n};\n\nexport const reset: Action = ({ state, actions, effects }) => {\n  actions.live.internal.clearUserSelections(null);\n  state.live.isLive = false;\n  state.live.error = null;\n  state.live.isLoading = false;\n  state.live.roomInfo = null;\n  state.live.joinSource = 'sandbox';\n  effects.live.reset();\n};\n\nexport const disconnect: Action = ({ effects, actions }) => {\n  effects.live.disconnect();\n  actions.live.internal.reset();\n};\n\nexport const initialize: AsyncAction<string, Sandbox | null> = async (\n  { state, effects, actions },\n  id\n) => {\n  state.live.isLoading = true;\n\n  try {\n    const {\n      roomInfo,\n      liveUserId,\n      moduleState,\n    } = await effects.live.joinChannel(id, reason => {\n      if (reason === 'room not found') {\n        actions.refetchSandboxInfo();\n      }\n    });\n\n    state.live.roomInfo = roomInfo;\n    state.live.liveUserId = liveUserId;\n\n    const sandboxId = roomInfo.sandboxId;\n    let sandbox = state.editor.currentSandbox;\n    if (!sandbox || sandbox.id !== sandboxId) {\n      sandbox = await effects.api.getSandbox(sandboxId);\n      state.editor.sandboxes[sandboxId] = sandbox;\n      state.editor.currentId = sandboxId;\n    }\n\n    actions.live.internal.initializeModuleState(moduleState);\n    effects.live.listen(actions.live.liveMessageReceived);\n    actions.live.internal.sendUnsavedChanges({ sandbox, moduleState });\n\n    state.live.isLive = true;\n    state.live.error = null;\n    effects.live.markLiveReady();\n\n    return sandbox;\n  } catch (error) {\n    state.live.error = error.reason;\n  } finally {\n    state.live.isLoading = false;\n  }\n\n  return null;\n};\n\nexport const initializeModuleFromState: Action<{\n  moduleShortid: string;\n  moduleInfo: IModuleStateModule;\n}> = ({ state, effects, actions }, { moduleShortid, moduleInfo }) => {\n  const sandbox = state.editor.currentSandbox;\n  if (!sandbox) {\n    return;\n  }\n\n  // Module has not been saved, so is different\n  const module = sandbox.modules.find(m => m.shortid === moduleShortid);\n\n  if (module) {\n    effects.live.createClient(moduleShortid, moduleInfo.revision || 0);\n    if (!('code' in moduleInfo)) {\n      return;\n    }\n\n    const savedCodeChanged =\n      getSavedCode(moduleInfo.code, moduleInfo.saved_code) !==\n      getSavedCode(module.code, module.savedCode);\n    const moduleChanged =\n      moduleInfo.code !== module.code ||\n      moduleInfo.saved_code !== module.savedCode;\n\n    if (moduleChanged) {\n      if (moduleInfo.saved_code !== undefined) {\n        module.savedCode = moduleInfo.saved_code;\n      }\n      if (moduleInfo.code !== undefined) {\n        module.code = moduleInfo.code;\n      }\n\n      if (savedCodeChanged) {\n        effects.vscode.sandboxFsSync.writeFile(\n          state.editor.modulesByPath,\n          module\n        );\n      }\n      if (moduleInfo.synced) {\n        effects.vscode.syncModule(module);\n      } else {\n        effects.vscode.setModuleCode(module);\n      }\n    }\n  }\n};\n\nexport const initializeModuleState: Action<IModuleState> = (\n  { state, actions, effects },\n  moduleState\n) => {\n  const sandbox = state.editor.currentSandbox;\n  if (!sandbox) {\n    return;\n  }\n  logBreadcrumb({\n    category: 'ot',\n    message: 'Applying new module state',\n  });\n  Object.keys(moduleState).forEach(moduleShortid => {\n    const moduleInfo = moduleState[moduleShortid];\n\n    actions.live.internal.initializeModuleFromState({\n      moduleShortid,\n      moduleInfo,\n    });\n  });\n  // TODO: enable once we know exactly when we want to recover\n  // actions.files.internal.recoverFiles();\n  actions.editor.internal.updatePreviewCode();\n};\n\nexport const getSelectionsForModule: Action<Module, EditorSelection[]> = (\n  { state },\n  module\n) => {\n  const selections: EditorSelection[] = [];\n  const moduleShortid = module.shortid;\n\n  if (!state.live.roomInfo) {\n    return selections;\n  }\n\n  state.live.roomInfo.users.forEach(user => {\n    const userId = user.id;\n    if (\n      userId === state.live.liveUserId ||\n      user.currentModuleShortid !== moduleShortid ||\n      (!state.live.isEditor(userId) && state.live.followingUserId !== userId)\n    ) {\n      return;\n    }\n\n    if (user.selection) {\n      selections.push({\n        userId,\n        color: user.color,\n        name: user.username,\n        selection: json(user.selection),\n      });\n    }\n  });\n\n  return selections;\n};\n\n/**\n * This sends over all modules that are not synced with OT, and of which we have local changes.\n * If there's a module that has OT changes from the module_state, we ignore them.\n */\nexport const sendUnsavedChanges: Action<{\n  sandbox: Sandbox;\n  moduleState: IModuleState;\n}> = ({ effects, actions }, { sandbox, moduleState }) => {\n  // We now need to send all dirty files that came over from the last sandbox.\n  // There is the scenario where you edit a file and press fork. Then the server\n  // doesn't know about how you got to that dirty state.\n  const changedModules = sandbox.modules.filter(\n    m => getSavedCode(m.code, m.savedCode) !== m.code\n  );\n  changedModules.forEach(m => {\n    if (!moduleState[m.shortid]) {\n      const savedCode = getSavedCode(m.code, m.savedCode);\n      // Update server with latest data\n      effects.live.sendCodeUpdate(\n        m.shortid,\n        getTextOperation(savedCode, m.code || '')\n      );\n    }\n  });\n};\n","import { getModulesAndDirectoriesInDirectory } from '@codesandbox/common/lib/sandbox/modules';\nimport {\n  Directory,\n  LiveDisconnectReason,\n  LiveMessage,\n  LiveUser,\n  Module,\n  UserSelection,\n  UserViewRange,\n} from '@codesandbox/common/lib/types';\nimport { logBreadcrumb } from '@codesandbox/common/lib/utils/analytics/sentry';\nimport { NotificationStatus } from '@codesandbox/notifications/lib/state';\nimport { Operator } from 'app/overmind';\nimport { getSavedCode } from 'app/overmind/utils/sandbox';\nimport { camelizeKeys } from 'humps';\nimport { json, mutate } from 'overmind';\n\nexport const onSave: Operator<LiveMessage<{\n  saved_code: string;\n  updated_at: string;\n  inserted_at: string;\n  version: number;\n  path: string;\n}>> = mutate(({ state, effects }, { data }) => {\n  const sandbox = state.editor.currentSandbox;\n\n  if (!sandbox) {\n    return;\n  }\n  const module = sandbox.modules.find(\n    moduleItem => moduleItem.path === data.path\n  );\n\n  if (!module) {\n    return;\n  }\n\n  module.savedCode = module.code === data.saved_code ? null : data.saved_code;\n  module.updatedAt = data.updated_at;\n  module.insertedAt = data.inserted_at;\n  sandbox.version = data.version;\n  effects.vscode.sandboxFsSync.writeFile(state.editor.modulesByPath, module);\n\n  if (module.savedCode === null) {\n    effects.vscode.syncModule(module);\n  }\n});\n\nexport const onJoin: Operator<LiveMessage<{\n  status: 'connected';\n  live_user_id: string;\n}>> = mutate(({ effects, actions, state }, { data }) => {\n  state.live.liveUserId = data.live_user_id;\n\n  if (state.live.reconnecting) {\n    // We reconnected!\n    effects.live.getAllClients().forEach(client => {\n      client.serverReconnect();\n    });\n\n    if (state.live.roomInfo) {\n      // Clear all user selections\n      actions.live.internal.clearUserSelections(null);\n    }\n  }\n\n  state.live.reconnecting = false;\n});\n\nexport const onModuleState: Operator<LiveMessage<{\n  module_state: any;\n}>> = mutate(({ state, actions }, { data }) => {\n  actions.live.internal.initializeModuleState(data.module_state);\n});\n\nexport const onExternalResources: Operator<LiveMessage<{\n  externalResources: string[];\n}>> = mutate(({ state, actions }, { data }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n  state.editor.currentSandbox.externalResources = data.externalResources;\n  actions.editor.internal.updatePreviewCode();\n});\n\nexport const onUsersChanged: Operator<LiveMessage<{\n  users: LiveUser[];\n  editor_ids: string[];\n  owner_ids: string[];\n}>> = mutate(({ state, actions }, { data }) => {\n  if (state.live.isLoading || !state.live.roomInfo || !state.live.isLive) {\n    return;\n  }\n\n  const users = camelizeKeys(data.users);\n\n  state.live.roomInfo.users = users as LiveUser[];\n  state.live.roomInfo.editorIds = data.editor_ids;\n  state.live.roomInfo.ownerIds = data.owner_ids;\n\n  if (state.editor.currentModule) {\n    actions.editor.internal.updateSelectionsOfModule({\n      module: state.editor.currentModule,\n    });\n  }\n});\n\nexport const onUserEntered: Operator<LiveMessage<{\n  users: LiveUser[];\n  editor_ids: string[];\n  owner_ids: string[];\n  joined_user_id: string;\n}>> = mutate(({ state, effects, actions }, { data }) => {\n  if (state.live.isLoading || !state.live.roomInfo || !state.live.isLive) {\n    return;\n  }\n\n  const users = camelizeKeys(data.users);\n\n  state.live.roomInfo.users = users as LiveUser[];\n  state.live.roomInfo.editorIds = data.editor_ids;\n  state.live.roomInfo.ownerIds = data.owner_ids;\n\n  if (state.editor.currentModule) {\n    actions.editor.internal.updateSelectionsOfModule({\n      module: state.editor.currentModule,\n    });\n  }\n\n  // Send our own selections and viewranges to everyone, just to let the others know where\n  // we are\n  actions.live.sendCurrentSelection();\n  actions.live.sendCurrentViewRange();\n\n  if (data.joined_user_id === state.live.liveUserId) {\n    return;\n  }\n\n  const user = data.users.find(u => u.id === data.joined_user_id);\n\n  if (\n    !state.live.notificationsHidden &&\n    user &&\n    !state.user?.experiments.collaborator\n  ) {\n    effects.notificationToast.add({\n      message: `${user.username} joined the live session.`,\n      status: NotificationStatus.NOTICE,\n    });\n  }\n});\n\nexport const onUserLeft: Operator<LiveMessage<{\n  users: LiveUser[];\n  left_user_id: string;\n  editor_ids: string[];\n  owner_ids: string[];\n}>> = mutate(({ state, actions, effects }, { data }) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  if (!state.live.notificationsHidden) {\n    const { users } = state.live.roomInfo;\n    const user = users ? users.find(u => u.id === data.left_user_id) : null;\n\n    if (\n      user &&\n      user.id !== state.live.liveUserId &&\n      !state.user?.experiments.collaborator\n    ) {\n      effects.notificationToast.add({\n        message: `${user.username} left the live session.`,\n        status: NotificationStatus.NOTICE,\n      });\n    }\n  }\n\n  actions.live.onUserLeft({ liveUserId: data.left_user_id });\n\n  const users = camelizeKeys(data.users) as LiveUser[];\n\n  state.live.roomInfo.users = users;\n  state.live.roomInfo.ownerIds = data.owner_ids;\n  state.live.roomInfo.editorIds = data.editor_ids;\n});\n\nexport const onModuleSaved: Operator<LiveMessage<{\n  moduleShortid: string;\n  module: Module;\n}>> = mutate(({ state, effects, actions }, { _isOwnMessage, data }) => {\n  if (_isOwnMessage || !state.editor.currentSandbox) {\n    return;\n  }\n  const module = state.editor.currentSandbox.modules.find(\n    moduleItem => moduleItem.shortid === data.moduleShortid\n  );\n\n  if (module) {\n    actions.editor.internal.setModuleSavedCode({\n      moduleShortid: data.moduleShortid,\n      savedCode: data.module.savedCode,\n    });\n\n    effects.vscode.sandboxFsSync.writeFile(state.editor.modulesByPath, module);\n    const savedCode = getSavedCode(module.code, module.savedCode);\n    if (!effects.vscode.isModuleOpened(module)) {\n      module.code = savedCode;\n    }\n    if (module.code === savedCode) {\n      // We revert the module so that VSCode will flag saved indication correctly\n      effects.vscode.syncModule(module);\n    }\n    actions.editor.internal.updatePreviewCode();\n  }\n});\n\nexport const onModuleCreated: Operator<LiveMessage<{\n  module: Module;\n}>> = mutate(({ state, effects }, { _isOwnMessage, data }) => {\n  if (_isOwnMessage || !state.editor.currentSandbox) {\n    return;\n  }\n  state.editor.currentSandbox.modules.push(data.module);\n  effects.vscode.sandboxFsSync.writeFile(\n    state.editor.modulesByPath,\n    data.module\n  );\n});\n\nexport const onModuleMassCreated: Operator<LiveMessage<{\n  modules: Module[];\n  directories: Directory[];\n}>> = mutate(({ state, actions, effects }, { _isOwnMessage, data }) => {\n  if (_isOwnMessage || !state.editor.currentSandbox) {\n    return;\n  }\n  state.editor.currentSandbox.modules = state.editor.currentSandbox.modules.concat(\n    data.modules\n  );\n  state.editor.currentSandbox.directories = state.editor.currentSandbox.directories.concat(\n    data.directories\n  );\n\n  state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(\n    state.editor.currentSandbox\n  );\n\n  actions.editor.internal.updatePreviewCode();\n});\n\nexport const onModuleUpdated: Operator<LiveMessage<{\n  moduleShortid: string;\n  module: Module;\n}>> = mutate(({ state, actions, effects }, { _isOwnMessage, data }) => {\n  const sandbox = state.editor.currentSandbox;\n\n  if (_isOwnMessage || !sandbox) {\n    return;\n  }\n\n  const moduleIndex = sandbox.modules.findIndex(\n    moduleEntry => moduleEntry.shortid === data.moduleShortid\n  );\n  const existingModule =\n    state.editor.sandboxes[sandbox.id].modules[moduleIndex];\n\n  if (existingModule.path !== data.module.path) {\n    effects.vscode.sandboxFsSync.rename(\n      state.editor.modulesByPath,\n      existingModule.path!,\n      data.module.path!\n    );\n  }\n\n  Object.assign(existingModule, data.module);\n\n  effects.vscode.sandboxFsSync.writeFile(\n    state.editor.modulesByPath,\n    existingModule\n  );\n\n  if (state.editor.currentModuleShortid === data.moduleShortid) {\n    effects.vscode.openModule(existingModule);\n  }\n\n  actions.editor.internal.updatePreviewCode();\n});\n\nexport const onModuleDeleted: Operator<LiveMessage<{\n  moduleShortid: string;\n}>> = mutate(({ state, effects, actions }, { _isOwnMessage, data }) => {\n  if (_isOwnMessage || !state.editor.currentSandbox) {\n    return;\n  }\n  const removedModule = state.editor.currentSandbox.modules.find(\n    directory => directory.shortid === data.moduleShortid\n  );\n  if (!removedModule) {\n    return;\n  }\n  const moduleIndex = state.editor.currentSandbox.modules.indexOf(\n    removedModule\n  );\n  const wasCurrentModule =\n    state.editor.currentModuleShortid === data.moduleShortid;\n\n  state.editor.currentSandbox.modules.splice(moduleIndex, 1);\n  effects.vscode.sandboxFsSync.unlink(\n    state.editor.modulesByPath,\n    removedModule\n  );\n\n  if (wasCurrentModule && state.editor.mainModule) {\n    actions.editor.internal.setCurrentModule(state.editor.mainModule);\n  }\n\n  actions.editor.internal.updatePreviewCode();\n});\n\nexport const onDirectoryCreated: Operator<LiveMessage<{\n  module: Directory; // This is very weird?\n}>> = mutate(({ state, effects }, { _isOwnMessage, data }) => {\n  if (_isOwnMessage || !state.editor.currentSandbox) {\n    return;\n  }\n  // Should this not be a directory?\n  state.editor.currentSandbox.directories.push(data.module);\n  effects.vscode.sandboxFsSync.mkdir(state.editor.modulesByPath, data.module);\n});\n\nexport const onDirectoryUpdated: Operator<LiveMessage<{\n  directoryShortid: string;\n  module: Directory; // Still very weird\n}>> = mutate(({ state, actions, effects }, { _isOwnMessage, data }) => {\n  const sandbox = state.editor.currentSandbox;\n  if (_isOwnMessage || !sandbox) {\n    return;\n  }\n\n  const directoryIndex = sandbox.directories.findIndex(\n    directoryEntry => directoryEntry.shortid === data.directoryShortid\n  );\n  const existingDirectory =\n    state.editor.sandboxes[sandbox.id].directories[directoryIndex];\n  const hasChangedPath = existingDirectory.path !== data.module.path;\n\n  Object.assign(existingDirectory, data.module);\n\n  if (hasChangedPath) {\n    const prevCurrentModulePath = state.editor.currentModule.path;\n\n    state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(sandbox);\n    actions.editor.internal.updatePreviewCode();\n\n    if (prevCurrentModulePath !== state.editor.currentModule.path) {\n      actions.editor.internal.setCurrentModule(state.editor.currentModule);\n    }\n  }\n});\n\nexport const onDirectoryDeleted: Operator<LiveMessage<{\n  directoryShortid: string;\n}>> = mutate(({ state, effects, actions }, { _isOwnMessage, data }) => {\n  const sandbox = state.editor.currentSandbox;\n  if (_isOwnMessage || !sandbox) {\n    return;\n  }\n\n  const directory = sandbox.directories.find(\n    directoryItem => directoryItem.shortid === data.directoryShortid\n  );\n\n  if (!directory) {\n    return;\n  }\n\n  const removedDirectory = sandbox.directories.splice(\n    sandbox.directories.indexOf(directory),\n    1\n  )[0];\n  const {\n    removedModules,\n    removedDirectories,\n  } = getModulesAndDirectoriesInDirectory(\n    removedDirectory,\n    sandbox.modules,\n    sandbox.directories\n  );\n\n  removedModules.forEach(removedModule => {\n    effects.vscode.sandboxFsSync.unlink(\n      state.editor.modulesByPath,\n      removedModule\n    );\n    sandbox.modules.splice(sandbox.modules.indexOf(removedModule), 1);\n  });\n\n  removedDirectories.forEach(removedDirectoryItem => {\n    sandbox.directories.splice(\n      sandbox.directories.indexOf(removedDirectoryItem),\n      1\n    );\n  });\n\n  // We open the main module as we do not really know if you had opened\n  // any nested file of this directory. It would require complex logic\n  // to figure that out. This concept is soon removed anyways\n  if (state.editor.mainModule)\n    effects.vscode.openModule(state.editor.mainModule);\n  actions.editor.internal.updatePreviewCode();\n});\n\nexport const onUserSelection: Operator<LiveMessage<{\n  liveUserId: string;\n  moduleShortid: string;\n  selection: UserSelection;\n}>> = mutate(({ state, effects, actions }, { _isOwnMessage, data }) => {\n  if (_isOwnMessage || !state.live.roomInfo || !state.editor.currentSandbox) {\n    return;\n  }\n\n  const userSelectionLiveUserId = data.liveUserId;\n  const { moduleShortid } = data;\n  const { selection } = data;\n  const userIndex = state.live.roomInfo.users.findIndex(\n    u => u.id === userSelectionLiveUserId\n  );\n\n  if (userIndex > -1) {\n    state.live.roomInfo.users[userIndex].currentModuleShortid = moduleShortid;\n    state.live.roomInfo.users[userIndex].selection = selection;\n  }\n\n  const module = state.editor.currentSandbox.modules.find(\n    m => m.shortid === moduleShortid\n  );\n\n  const isFollowingUser =\n    state.live.followingUserId === userSelectionLiveUserId;\n  if (\n    module &&\n    (state.live.isEditor(userSelectionLiveUserId) || isFollowingUser)\n  ) {\n    const user = state.live.roomInfo.users.find(\n      u => u.id === userSelectionLiveUserId\n    );\n\n    if (user) {\n      effects.vscode.updateUserSelections(module, [\n        {\n          userId: userSelectionLiveUserId,\n          name: user.username,\n          selection,\n          color: json(user.color),\n        },\n      ]);\n\n      if (isFollowingUser) {\n        actions.live.revealCursorPosition({\n          liveUserId: userSelectionLiveUserId,\n        });\n      }\n    }\n  }\n});\n\nexport const onUserCurrentModule: Operator<LiveMessage<{\n  live_user_id: string;\n  moduleShortid: string;\n}>> = mutate(({ state, actions }, { _isOwnMessage, data }) => {\n  if (_isOwnMessage || !state.live.roomInfo || !state.editor.currentSandbox) {\n    return;\n  }\n  const userIndex = state.live.roomInfo.users.findIndex(\n    u => u.id === data.live_user_id\n  );\n\n  if (userIndex > -1) {\n    state.live.roomInfo.users[userIndex].currentModuleShortid =\n      data.moduleShortid;\n  }\n\n  actions.live.internal.clearUserSelections(data.live_user_id);\n\n  if (\n    state.live.followingUserId === data.live_user_id &&\n    data.moduleShortid !== state.editor.currentModuleShortid\n  ) {\n    const { moduleShortid } = data;\n    const { modules } = state.editor.currentSandbox;\n    const module = modules.find(m => m.shortid === moduleShortid);\n\n    if (!module) {\n      return;\n    }\n\n    actions.editor.moduleSelected({\n      id: module.id,\n    });\n  }\n});\n\nexport const onUserViewRange: Operator<LiveMessage<{\n  liveUserId: string;\n  moduleShortid: string;\n  viewRange: UserViewRange;\n}>> = mutate(({ state, effects, actions }, { _isOwnMessage, data }) => {\n  if (_isOwnMessage || !state.live.roomInfo || !state.editor.currentSandbox) {\n    return;\n  }\n\n  const userSelectionLiveUserId = data.liveUserId;\n  const { moduleShortid } = data;\n  const { viewRange } = data;\n  const userIndex = state.live.roomInfo.users.findIndex(\n    u => u.id === userSelectionLiveUserId\n  );\n\n  if (userIndex !== -1) {\n    state.live.roomInfo.users[userIndex].currentModuleShortid = moduleShortid;\n    state.live.roomInfo.users[userIndex].viewRange = viewRange;\n  }\n\n  const module = state.editor.currentSandbox.modules.find(\n    m => m.shortid === moduleShortid\n  );\n  if (module) {\n    const user = state.live.roomInfo.users.find(\n      u => u.id === userSelectionLiveUserId\n    );\n\n    if (user && state.live.followingUserId === userSelectionLiveUserId) {\n      effects.vscode.revealRange(viewRange);\n    }\n  }\n});\n\nexport const onLiveMode: Operator<LiveMessage<{\n  mode: string;\n}>> = mutate(({ state, actions }, { _isOwnMessage, data }) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  if (!_isOwnMessage) {\n    state.live.roomInfo.mode = data.mode;\n  }\n  actions.live.internal.clearUserSelections(null);\n});\n\nexport const onLiveChatEnabled: Operator<LiveMessage<{\n  enabled: boolean;\n}>> = mutate(({ state }, { _isOwnMessage, data }) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  if (_isOwnMessage) {\n    return;\n  }\n  state.live.roomInfo.chatEnabled = data.enabled;\n});\n\nexport const onLiveAddEditor: Operator<LiveMessage<{\n  editor_user_id: string;\n}>> = mutate(({ state }, { _isOwnMessage, data }) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  if (!_isOwnMessage) {\n    state.live.roomInfo.editorIds.push(data.editor_user_id);\n  }\n});\n\nexport const onLiveRemoveEditor: Operator<LiveMessage<{\n  editor_user_id: string;\n}>> = mutate(({ state, actions }, { _isOwnMessage, data }) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  const userId = data.editor_user_id;\n  actions.live.internal.clearUserSelections(userId);\n\n  if (!_isOwnMessage) {\n    const editors = state.live.roomInfo.editorIds;\n    const newEditors = editors.filter(id => id !== userId);\n\n    state.live.roomInfo.editorIds = newEditors;\n  }\n});\n\nexport const onOperation: Operator<LiveMessage<{\n  module_shortid: string;\n  operation: any;\n}>> = mutate(({ state, effects }, { _isOwnMessage, data }) => {\n  if (state.live.isLoading) {\n    return;\n  }\n  if (_isOwnMessage) {\n    // Do nothing since we already sent this operation\n  } else {\n    try {\n      effects.live.applyServer(data.module_shortid, data.operation);\n    } catch (e) {\n      // Something went wrong, probably a sync mismatch. Request new version\n      console.error('Something went wrong with applying OT operation');\n\n      logBreadcrumb({\n        category: 'ot',\n        message: `Apply operation from server to OT client failed ${JSON.stringify(\n          data\n        )}`,\n      });\n\n      effects.live.sendModuleStateSyncRequest();\n    }\n  }\n});\n\nexport const onConnectionLoss: Operator<LiveMessage> = mutate(\n  async ({ state, effects }) => {\n    if (!state.live.reconnecting) {\n      let notificationId: string | null = null;\n      const timeout = setTimeout(() => {\n        notificationId = effects.notificationToast.add({\n          message: 'We lost connection with the live server, reconnecting...',\n          status: NotificationStatus.ERROR,\n        });\n      }, 30000);\n\n      state.live.reconnecting = true;\n\n      await effects.flows.waitUntil(s => s.live.reconnecting === false);\n      if (notificationId) {\n        effects.notificationToast.remove(notificationId);\n      }\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n    }\n  }\n);\n\nexport const onDisconnect: Operator<LiveMessage<{\n  reason: LiveDisconnectReason;\n}>> = mutate(({ state, actions }, { data }) => {\n  actions.live.internal.disconnect();\n\n  if (state.editor.currentSandbox)\n    state.editor.currentSandbox.owned = state.live.isOwner;\n\n  actions.modalOpened({\n    modal: 'liveSessionEnded',\n    message:\n      data.reason === 'close'\n        ? 'The owner ended the session'\n        : 'The session has ended due to inactivity',\n  });\n\n  actions.live.internal.reset();\n});\n\nexport const onOwnerLeft: Operator<LiveMessage> = mutate(({ actions }) => {\n  actions.modalOpened({\n    modal: 'liveSessionEnded',\n    message: 'The owner left the session',\n  });\n});\n\nexport const onChat: Operator<LiveMessage<{\n  live_user_id: string;\n  message: string;\n  date: number;\n}>> = mutate(({ state }, { data }) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  let name = state.live.roomInfo.chat.users[data.live_user_id];\n\n  if (!name) {\n    const user = state.live.roomInfo.users.find(\n      u => u.id === data.live_user_id\n    );\n\n    if (user) {\n      state.live.roomInfo.chat.users[data.live_user_id] = user.username;\n      name = user.username;\n    } else {\n      name = 'Unknown User';\n    }\n  }\n\n  state.live.roomInfo.chat.messages.push({\n    userId: data.live_user_id,\n    message: data.message,\n    date: data.date,\n  });\n});\n\nexport const onNotification: Operator<LiveMessage<{\n  message: string;\n  type: NotificationStatus;\n}>> = mutate(({ effects }, { data }) => {\n  effects.notificationToast.add({\n    message: data.message,\n    status: data.type,\n  });\n});\n","import {\n  IModuleStateModule,\n  LiveMessage,\n  LiveMessageEvent,\n  UserSelection,\n  UserViewRange,\n} from '@codesandbox/common/lib/types';\nimport { logBreadcrumb } from '@codesandbox/common/lib/utils/analytics/sentry';\nimport { hasPermission } from '@codesandbox/common/lib/utils/permission';\nimport { Action, AsyncAction, Operator } from 'app/overmind';\nimport { withLoadApp } from 'app/overmind/factories';\nimport getItems from 'app/overmind/utils/items';\nimport { filter, fork, pipe } from 'overmind';\n\nimport * as internalActions from './internalActions';\nimport * as liveMessage from './liveMessageOperators';\n\nexport const internal = internalActions;\n\nexport const signInToRoom: AsyncAction<{\n  roomId: string;\n}> = withLoadApp(async ({ state, effects, actions }, { roomId }) => {\n  await actions.internal.signIn({});\n\n  if (state.isLoggedIn) {\n    await actions.live.roomJoined({\n      roomId,\n    });\n  }\n});\n\nexport const onOperationError: Action<{\n  moduleShortid: string;\n  moduleInfo: IModuleStateModule;\n}> = ({ actions }, { moduleShortid, moduleInfo }) => {\n  actions.live.internal.initializeModuleFromState({\n    moduleShortid,\n    moduleInfo,\n  });\n};\n\nexport const roomJoined: AsyncAction<{\n  roomId: string;\n}> = withLoadApp(async ({ state, effects, actions }, { roomId }) => {\n  if (!state.isLoggedIn) {\n    return;\n  }\n\n  await effects.vscode.initialized;\n  await effects.vscode.closeAllTabs();\n\n  state.live.joinSource = 'live';\n\n  if (state.live.isLive) {\n    actions.live.internal.disconnect();\n  }\n\n  const sandbox = await actions.live.internal.initialize(roomId);\n\n  if (!sandbox) {\n    return;\n  }\n\n  if (state.updateStatus === 'available') {\n    const modal = 'liveVersionMismatch';\n    effects.analytics.track('Open Modal', { modal });\n    state.currentModal = modal;\n  }\n\n  await actions.internal.setCurrentSandbox(sandbox);\n\n  actions.editor.listenToSandboxChanges({ sandboxId: sandbox.id });\n  const items = getItems(state);\n  const defaultItem = items.find(i => i.defaultOpen) || items[0];\n\n  state.workspace.openedWorkspaceItem = defaultItem.id;\n\n  await effects.vscode.changeSandbox(sandbox, fs => {\n    state.editor.modulesByPath = fs;\n  });\n\n  effects.vscode.openModule(state.editor.currentModule);\n\n  if (\n    sandbox.featureFlags.comments &&\n    hasPermission(sandbox.authorization, 'comment')\n  ) {\n    actions.comments.getSandboxComments(sandbox.id);\n  }\n\n  state.editor.isLoading = false;\n});\n\nexport const createLiveClicked: AsyncAction<string> = async (\n  { actions, effects, state },\n  sandboxId\n) => {\n  effects.analytics.track('Create Live Session');\n\n  const roomId = await effects.api.createLiveRoom(sandboxId);\n  const sandbox = await actions.live.internal.initialize(roomId);\n  const currentSandbox = state.editor.currentSandbox;\n\n  if (!sandbox || !currentSandbox) {\n    effects.notificationToast.error('Unable to create live room');\n    return;\n  }\n\n  Object.assign(sandbox, {\n    modules: sandbox.modules.map(module => {\n      const currentModule = currentSandbox.modules.find(\n        currentSandboxModule => currentSandboxModule.shortid === module.shortid\n      );\n      return {\n        ...module,\n        code: currentModule ? currentModule.code : '',\n      };\n    }),\n  });\n  state.editor.modulesByPath = effects.vscode.sandboxFsSync.create(sandbox);\n};\n\nexport const liveMessageReceived: Operator<LiveMessage, any> = pipe(\n  filter((_, payload) =>\n    Object.values(LiveMessageEvent).includes(payload.event)\n  ),\n  filter(({ state }) => Boolean(state.live.isLive && state.live.roomInfo)),\n  fork((_, payload) => payload.event, {\n    [LiveMessageEvent.JOIN]: liveMessage.onJoin,\n    [LiveMessageEvent.SAVE]: liveMessage.onSave,\n    [LiveMessageEvent.MODULE_STATE]: liveMessage.onModuleState,\n    [LiveMessageEvent.USER_ENTERED]: liveMessage.onUserEntered,\n    [LiveMessageEvent.USERS_CHANGED]: liveMessage.onUsersChanged,\n    [LiveMessageEvent.USER_LEFT]: liveMessage.onUserLeft,\n    [LiveMessageEvent.EXTERNAL_RESOURCES]: liveMessage.onExternalResources,\n    [LiveMessageEvent.MODULE_SAVED]: liveMessage.onModuleSaved,\n    [LiveMessageEvent.MODULE_CREATED]: liveMessage.onModuleCreated,\n    [LiveMessageEvent.MODULE_MASS_CREATED]: liveMessage.onModuleMassCreated,\n    [LiveMessageEvent.MODULE_UPDATED]: liveMessage.onModuleUpdated,\n    [LiveMessageEvent.MODULE_DELETED]: liveMessage.onModuleDeleted,\n    [LiveMessageEvent.DIRECTORY_CREATED]: liveMessage.onDirectoryCreated,\n    [LiveMessageEvent.DIRECTORY_UPDATED]: liveMessage.onDirectoryUpdated,\n    [LiveMessageEvent.DIRECTORY_DELETED]: liveMessage.onDirectoryDeleted,\n    [LiveMessageEvent.USER_SELECTION]: liveMessage.onUserSelection,\n    [LiveMessageEvent.USER_CURRENT_MODULE]: liveMessage.onUserCurrentModule,\n    [LiveMessageEvent.USER_VIEW_RANGE]: liveMessage.onUserViewRange,\n    [LiveMessageEvent.LIVE_MODE]: liveMessage.onLiveMode,\n    [LiveMessageEvent.LIVE_CHAT_ENABLED]: liveMessage.onLiveChatEnabled,\n    [LiveMessageEvent.LIVE_ADD_EDITOR]: liveMessage.onLiveAddEditor,\n    [LiveMessageEvent.LIVE_REMOVE_EDITOR]: liveMessage.onLiveRemoveEditor,\n    [LiveMessageEvent.OPERATION]: liveMessage.onOperation,\n    [LiveMessageEvent.CONNECTION_LOSS]: liveMessage.onConnectionLoss,\n    [LiveMessageEvent.DISCONNECT]: liveMessage.onDisconnect,\n    [LiveMessageEvent.OWNER_LEFT]: liveMessage.onOwnerLeft,\n    [LiveMessageEvent.CHAT]: liveMessage.onChat,\n    [LiveMessageEvent.NOTIFICATION]: liveMessage.onNotification,\n  })\n);\n\nexport const applyTransformation: AsyncAction<{\n  operation: any;\n  moduleShortid: string;\n}> = async ({ effects }, { operation, moduleShortid }) => {\n  try {\n    await effects.vscode.applyOperation(moduleShortid, operation);\n  } catch (error) {\n    // Do not care about the error, but something went wrong and we\n    // need a full sync\n    logBreadcrumb({\n      category: 'ot',\n      message: `Apply transformation to VSCode failed ${JSON.stringify({\n        moduleShortid,\n        operation,\n      })}`,\n    });\n    effects.live.sendModuleStateSyncRequest();\n  }\n};\n\nexport const sendCurrentSelection: Action = ({ state, effects }) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  const { liveUserId } = state.live;\n  if (liveUserId && state.live.currentSelection) {\n    effects.live.sendUserSelection(\n      state.editor.currentModuleShortid,\n      liveUserId,\n      state.live.currentSelection\n    );\n  }\n};\n\nexport const sendCurrentViewRange: Action = ({ state, effects }) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  if (!state.live.isCurrentEditor) {\n    return;\n  }\n\n  const { liveUserId, currentViewRange } = state.live;\n  if (liveUserId && currentViewRange) {\n    effects.live.sendUserViewRange(\n      state.editor.currentModuleShortid,\n      liveUserId,\n      currentViewRange\n    );\n  }\n};\n\nexport const onViewRangeChanged: Action<UserViewRange> = (\n  { state, effects },\n  viewRange\n) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  if (state.live.isCurrentEditor) {\n    const { liveUserId } = state.live;\n    const moduleShortid = state.editor.currentModuleShortid;\n    if (!liveUserId) {\n      return;\n    }\n\n    state.live.currentViewRange = viewRange;\n    const userIndex = state.live.roomInfo.users.findIndex(\n      u => u.id === liveUserId\n    );\n\n    if (userIndex !== -1) {\n      if (state.live.roomInfo.users[userIndex]) {\n        state.live.roomInfo.users[\n          userIndex\n        ].currentModuleShortid = moduleShortid;\n\n        state.live.roomInfo.users[userIndex].viewRange = viewRange;\n\n        effects.live.sendUserViewRange(moduleShortid, liveUserId, viewRange);\n      }\n    }\n  }\n};\n\nexport const onSelectionChanged: Action<UserSelection> = (\n  { state, effects },\n  selection\n) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  const { liveUserId } = state.live;\n  const moduleShortid = state.editor.currentModuleShortid;\n  if (!moduleShortid || !liveUserId) {\n    return;\n  }\n\n  state.live.currentSelection = selection;\n  const userIndex = state.live.roomInfo.users.findIndex(\n    u => u.id === liveUserId\n  );\n\n  if (userIndex > -1) {\n    const user = state.live.roomInfo.users[userIndex];\n    if (user) {\n      user.currentModuleShortid = moduleShortid;\n      user.selection = selection;\n\n      effects.live.sendUserSelection(moduleShortid, liveUserId, selection);\n    }\n  }\n};\n\nexport const onModeChanged: Action<{ mode: string }> = (\n  { state, effects },\n  { mode }\n) => {\n  if (state.live.isOwner && state.live.roomInfo) {\n    state.live.roomInfo.mode = mode;\n    effects.live.sendLiveMode(mode);\n  }\n};\n\nexport const onAddEditorClicked: Action<{\n  liveUserId: string;\n}> = ({ state, effects }, { liveUserId }) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n  state.live.roomInfo.editorIds.push(liveUserId);\n\n  effects.live.sendEditorAdded(liveUserId);\n};\n\nexport const onRemoveEditorClicked: Action<any> = (\n  { state, effects },\n  { liveUserId, data }\n) => {\n  const userId = liveUserId || data.editor_user_id;\n\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  const editors = state.live.roomInfo.editorIds;\n  const newEditors = editors.filter(id => id !== userId);\n\n  state.live.roomInfo.editorIds = newEditors;\n\n  effects.live.sendEditorRemoved(liveUserId);\n};\n\nexport const onSessionCloseClicked: Action = ({ actions, effects }) => {\n  effects.live.sendClosed();\n  actions.live.internal.disconnect();\n};\n\nexport const onNavigateAway: Action = ({ actions, state }) => {\n  if (state.live.isLive) {\n    actions.live.internal.disconnect();\n  }\n};\n\nexport const onToggleNotificationsHidden: Action = ({ state }) => {\n  state.live.notificationsHidden = !state.live.notificationsHidden;\n};\n\nexport const onSendChat: Action<{ message: string }> = (\n  { effects },\n  { message }\n) => {\n  effects.live.sendChat(message);\n};\n\nexport const onChatEnabledToggle: Action = ({ effects, state }) => {\n  effects.analytics.track('Enable Live Chat');\n\n  if (state.live.isOwner && state.live.roomInfo) {\n    const chatEnabled = state.live.roomInfo.chatEnabled;\n    state.live.roomInfo.chatEnabled = !chatEnabled;\n    effects.live.sendChatEnabled(!chatEnabled);\n  }\n};\n\nexport const onFollow: Action<{\n  liveUserId: string;\n}> = ({ state, effects, actions }, { liveUserId }) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  effects.analytics.track('Follow Along in Live');\n  state.live.followingUserId = liveUserId;\n  actions.live.revealViewRange({ liveUserId });\n\n  if (state.editor.currentModule) {\n    // In case the selections were hidden first\n    actions.editor.internal.updateSelectionsOfModule({\n      module: state.editor.currentModule,\n    });\n  }\n};\n\nexport const onUserLeft: Action<{\n  liveUserId: string;\n}> = ({ state, actions }, { liveUserId }) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  if (state.live.followingUserId && state.live.followingUserId === liveUserId) {\n    // Unfollow user if they are the one who left\n    actions.live.onStopFollow();\n  }\n\n  actions.live.internal.clearUserSelections(liveUserId);\n};\n\nexport const onStopFollow: Action = ({ state, effects, actions }) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  state.live.followingUserId = null;\n\n  if (state.editor.currentModule) {\n    // In case the selections were hidden first\n    actions.editor.internal.updateSelectionsOfModule({\n      module: state.editor.currentModule,\n    });\n  }\n};\n\nexport const revealViewRange: Action<{ liveUserId: string }> = (\n  { state, effects, actions },\n  { liveUserId }\n) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  const user = state.live.roomInfo.users.find(u => u.id === liveUserId);\n\n  if (user && user.currentModuleShortid && state.editor.currentSandbox) {\n    const { modules } = state.editor.currentSandbox;\n    const module = modules.filter(\n      ({ shortid }) => shortid === user.currentModuleShortid\n    )[0];\n\n    actions.editor.moduleSelected({ id: module.id });\n\n    if (user.viewRange) {\n      effects.vscode.revealRange(user.viewRange);\n    }\n  }\n};\n\nexport const revealCursorPosition: AsyncAction<{ liveUserId: string }> = async (\n  { state, effects, actions },\n  { liveUserId }\n) => {\n  if (!state.live.roomInfo) {\n    return;\n  }\n\n  const user = state.live.roomInfo.users.find(u => u.id === liveUserId);\n\n  if (user && user.currentModuleShortid && state.editor.currentSandbox) {\n    const { modules } = state.editor.currentSandbox;\n    const module = modules.filter(\n      ({ shortid }) => shortid === user.currentModuleShortid\n    )[0];\n\n    await actions.editor.moduleSelected({ id: module.id });\n\n    if (user.selection?.primary?.cursorPosition) {\n      effects.vscode.revealPositionInCenterIfOutsideViewport(\n        user.selection.primary.cursorPosition,\n        0\n      );\n    }\n  }\n};\n","import { PatronBadge, PatronTier } from '@codesandbox/common/lib/types';\nimport { derived } from 'overmind';\n\ntype State = {\n  price: number;\n  isUpdatingSubscription: boolean;\n  tier: PatronTier;\n  error: string | null;\n  badge: PatronBadge;\n};\n\nexport const state: State = {\n  price: 10,\n  error: null,\n  isUpdatingSubscription: false,\n  tier: derived(({ price }: State) => {\n    if (price >= 20) return 4;\n    if (price >= 15) return 3;\n    if (price >= 10) return 2;\n\n    return 1;\n  }),\n  badge: derived(({ tier }: State) => {\n    switch (tier) {\n      case 1:\n        return PatronBadge.ONE;\n      case 2:\n        return PatronBadge.TWO;\n      case 3:\n        return PatronBadge.THREE;\n      case 4:\n        return PatronBadge.FOURTH;\n      default: {\n        const neverTier: never = tier;\n\n        return neverTier;\n      }\n    }\n  }),\n};\n","import { AsyncAction, Action } from 'app/overmind';\nimport { withLoadApp } from 'app/overmind/factories';\nimport { StripeErrorCode } from '@codesandbox/common/lib/types';\n\nexport const patronMounted: AsyncAction = withLoadApp();\n\nexport const priceChanged: Action<{ price: number }> = (\n  { state },\n  { price }\n) => {\n  state.patron.price = price;\n};\n\nexport const createSubscriptionClicked: AsyncAction<{\n  token: string;\n  coupon: string;\n  duration: 'yearly' | 'monthly';\n}> = async ({ state, effects, actions }, { token, coupon, duration }) => {\n  effects.analytics.track('Create Patron Subscription', { duration });\n  state.patron.error = null;\n  state.patron.isUpdatingSubscription = true;\n  try {\n    state.user = await effects.api.createPatronSubscription(\n      token,\n      state.patron.price,\n      duration,\n      coupon\n    );\n    effects.notificationToast.success('Thank you very much for your support!');\n  } catch (error) {\n    if (\n      error.error_code &&\n      error.error_code === StripeErrorCode.REQUIRES_ACTION\n    ) {\n      try {\n        await effects.stripe.handleCardPayment(error.data.client_secret);\n        state.user = await effects.api.getCurrentUser();\n        state.patron.error = null;\n      } catch (e) {\n        actions.internal.handleError({\n          message: 'Could not create subscription',\n          error: e,\n        });\n\n        state.patron.error = e.message;\n\n        effects.analytics.track('Create Subscription Error', {\n          error: e.message,\n        });\n      }\n    } else {\n      actions.internal.handleError({\n        message: 'Could not create subscription',\n        error,\n      });\n\n      state.patron.error = error.message;\n\n      effects.analytics.track('Create Subscription Error', {\n        error: error.message,\n      });\n    }\n  }\n  state.patron.isUpdatingSubscription = false;\n};\n\nexport const updateSubscriptionClicked: AsyncAction<{\n  coupon: string;\n}> = async ({ state, effects }, { coupon }) => {\n  effects.analytics.track('Update Patron Subscription');\n  state.patron.error = null;\n  state.patron.isUpdatingSubscription = true;\n  try {\n    state.user = await effects.api.updatePatronSubscription(\n      state.patron.price,\n      coupon\n    );\n    effects.notificationToast.success('Subscription updated!');\n  } catch (error) {\n    state.patron.error = error.message;\n  }\n  state.patron.isUpdatingSubscription = false;\n};\n\nexport const cancelSubscriptionClicked: AsyncAction = async ({\n  state,\n  effects,\n}) => {\n  effects.analytics.track('Cancel Subscription');\n  if (\n    effects.browser.confirm(\n      'Are you sure you want to cancel your subscription?'\n    )\n  ) {\n    state.patron.error = null;\n    state.patron.isUpdatingSubscription = true;\n\n    try {\n      state.user = await effects.api.cancelPatronSubscription();\n      effects.notificationToast.success(\n        'Sorry to see you go, but thanks for using CodeSandbox!'\n      );\n    } catch (error) {\n      /* ignore */\n    }\n\n    state.patron.isUpdatingSubscription = false;\n  }\n};\n\nexport const tryAgainClicked: Action = ({ state }) => {\n  state.patron.error = null;\n};\n","import { PaymentDetails, Settings } from '@codesandbox/common/lib/types';\nimport { KEYBINDINGS } from '@codesandbox/common/lib/utils/keybindings';\nimport { isIOS } from '@codesandbox/common/lib/utils/platform';\nimport { derived } from 'overmind';\n\ntype State = {\n  settings: Settings;\n  isLoadingPaymentDetails: boolean;\n  hideNavigation: boolean;\n  itemId: string;\n  showEditor: boolean;\n  showModal: boolean;\n  showPreview: boolean;\n  showDevtools: boolean;\n  paymentDetailError: string | null;\n  paymentDetails: PaymentDetails | null;\n  runOnClick: boolean;\n  keybindings: any;\n};\n\nexport const state: State = {\n  settings: {\n    autoResize: true,\n    enableEslint: true,\n    forceRefresh: false,\n    prettifyOnSaveEnabled: true,\n    zenMode: false,\n    autoCompleteEnabled: true,\n    livePreviewEnabled: true,\n    lintEnabled: true,\n    instantPreviewEnabled: false,\n    fontSize: 14,\n    fontFamily: 'Dank Mono',\n    lineHeight: 1.5,\n    clearConsoleEnabled: true,\n    autoDownloadTypes: true,\n    codeMirror: isIOS,\n    keybindings: [],\n    newPackagerExperiment: false,\n    prettierConfig: {\n      fluid: false,\n      printWidth: 80,\n      tabWidth: 2,\n      useTabs: false,\n      semi: true,\n      singleQuote: false,\n      trailingComma: 'none',\n      bracketSpacing: true,\n      jsxBracketSameLine: false,\n    },\n    jsxBracketSameLine: false,\n    // TODO: Should these be her?\n    printWidth: 80,\n    semi: true,\n    singleQuote: false,\n    tabWidth: 2,\n    trailingComma: 'none',\n    useTabs: false,\n    vimMode: false,\n    // Windows has problems with calculating characters widths when ligatures\n    // are disabled, however there is a weird character when you have 'fi' in\n    // Menlo. So a temporary fix is to only enable this for Windows.\n    enableLigatures: navigator.platform.indexOf('Win') > -1,\n\n    customVSCodeTheme: null,\n    manualCustomVSCodeTheme: null,\n  },\n  hideNavigation: false,\n  showModal: false,\n  isLoadingPaymentDetails: true,\n  paymentDetailError: null,\n  paymentDetails: null,\n  itemId: 'appearance',\n  showEditor: true,\n  showPreview: true,\n  showDevtools: false,\n  runOnClick: false,\n  keybindings: derived((currentState: State) => {\n    const userBindings = currentState.settings.keybindings;\n    const userBindingsMap = userBindings.reduce(\n      (bindings, binding) => ({\n        ...bindings,\n        [binding.key]: binding.bindings,\n      }),\n      {}\n    );\n\n    return Object.keys(KEYBINDINGS).reduce(\n      (currentBindings, key) => ({\n        ...currentBindings,\n        [key]: {\n          ...KEYBINDINGS[key],\n          ...(key in userBindingsMap ? { bindings: userBindingsMap[key] } : {}),\n        },\n      }),\n      {}\n    );\n  }),\n};\n","import { Badge } from '@codesandbox/common/lib/types';\n\nimport { Action, AsyncAction } from 'app/overmind';\n\nexport const viewModeChanged: Action<{\n  showEditor: boolean;\n  showPreview: boolean;\n}> = ({ state }, { showEditor, showPreview }) => {\n  state.preferences.showEditor = showEditor;\n  state.preferences.showPreview = showPreview;\n};\n\nexport const devtoolsToggled: Action = ({ state }) => {\n  state.preferences.showDevtools = !state.preferences.showDevtools;\n};\n\nexport const setDevtoolsOpen: Action<boolean> = ({ state }, isOpen) => {\n  state.preferences.showDevtools = isOpen;\n};\n\nexport const itemIdChanged: AsyncAction<{\n  itemId: string;\n}> = async ({ state, actions, effects }, { itemId }) => {\n  state.preferences.itemId = itemId;\n\n  if (itemId === 'integrations') {\n    await actions.deployment.internal.getVercelUserDetails();\n  }\n};\n\nexport const settingChanged: Action<{\n  value: any;\n  name: string;\n}> = ({ state, effects }, { name, value }) => {\n  const path = name.split('.');\n  const firstKey = path[0];\n  const lastKey = path.pop();\n  const settingsTarget = path.reduce(\n    (aggr, pathKey) => aggr[pathKey],\n    state.preferences.settings\n  );\n  settingsTarget[lastKey] = value;\n\n  if (name === 'vimMode') {\n    effects.vscode.setVimExtensionEnabled(Boolean(value));\n  }\n\n  effects.settingsStore.set(firstKey, state.preferences.settings[firstKey]);\n\n  effects.analytics.track('Change Settings', {\n    name,\n    value,\n  });\n};\n\nexport const setBadgeVisibility: AsyncAction<Pick<\n  Badge,\n  'id' | 'visible'\n>> = async ({ effects, state }, { id, visible }) => {\n  const user = state.user;\n  if (!user) {\n    return;\n  }\n  user.badges.forEach((badge, index) => {\n    if (badge.id === id) {\n      user.badges[index].visible = visible;\n    }\n  });\n\n  await effects.api.updateBadge(id, visible);\n};\n\nexport const paymentDetailsRequested: AsyncAction = async ({\n  state,\n  effects,\n}) => {\n  state.preferences.isLoadingPaymentDetails = true;\n  try {\n    state.preferences.paymentDetails = await effects.api.getPaymentDetails();\n  } catch (error) {\n    state.preferences.paymentDetailError = error.message;\n  }\n  state.preferences.isLoadingPaymentDetails = false;\n};\n\nexport const paymentDetailsUpdated: AsyncAction<string> = async (\n  { effects, state },\n  token\n) => {\n  state.preferences.isLoadingPaymentDetails = true;\n  state.preferences.paymentDetails = await effects.api.updatePaymentDetails(\n    token\n  );\n  state.preferences.isLoadingPaymentDetails = false;\n\n  effects.notificationToast.success('Successfully updated payment details');\n};\n\nexport const keybindingChanged: Action<{\n  name: string;\n  value: any;\n}> = ({ state, effects }, { name, value }) => {\n  const { keybindings } = state.preferences.settings;\n  const currentIndex = keybindings.findIndex(binding => binding.key === name);\n  const newBinding = {\n    key: name,\n    bindings: JSON.parse(JSON.stringify(value)),\n  };\n\n  if (currentIndex === -1) {\n    state.preferences.settings.keybindings.push(newBinding);\n  } else {\n    state.preferences.settings.keybindings.splice(currentIndex, 1, newBinding);\n  }\n\n  const keybindingsValue = keybindings.reduce(\n    (currentValue, binding) => ({\n      ...currentValue,\n      [binding.key]: binding.bindings,\n    }),\n    {}\n  );\n\n  effects.settingsStore.set('keybindings', keybindingsValue);\n};\n\nexport const zenModeToggled: Action = ({ state }) => {\n  state.preferences.settings.zenMode = !state.preferences.settings.zenMode;\n};\n\nexport const codeMirrorForced: Action = ({ state }) => {\n  state.preferences.settings.codeMirror = true;\n};\n\nexport const toggleContainerLspExperiment: AsyncAction = async ({\n  effects,\n  state,\n}) => {\n  if (!state.user) {\n    return;\n  }\n  try {\n    await effects.api.updateExperiments({\n      container_lsp: !state.user.experiments.containerLsp,\n    });\n    state.user.experiments.containerLsp = !state.user.experiments.containerLsp;\n    // Allow the flush to go through and flip button\n    requestAnimationFrame(() => {\n      if (\n        effects.browser.confirm(\n          'We need to refresh for this to take effect, or you can refresh later'\n        )\n      ) {\n        effects.browser.reload();\n      }\n    });\n  } catch (error) {\n    effects.notificationToast.error('Unable to toggl LSP experiment');\n  }\n};\n","import { Profile, Sandbox, UserSandbox } from '@codesandbox/common/lib/types';\nimport { RootState } from 'app/overmind';\nimport { derived } from 'overmind';\n\ntype State = {\n  profiles: {\n    [profileId: string]: Profile;\n  };\n  currentProfileId: string | null;\n  notFound: boolean;\n  isLoadingProfile: boolean;\n  sandboxes: {\n    [username: string]: {\n      [page: number]: Sandbox[];\n    };\n  };\n  likedSandboxes: {\n    [username: string]: {\n      [page: number]: Sandbox[];\n    };\n  };\n  userSandboxes: UserSandbox[];\n  currentSandboxesPage: number;\n  showSelectSandboxModal: boolean;\n  currentLikedSandboxesPage: number;\n  isLoadingSandboxes: boolean;\n  sandboxToDeleteId: string | null;\n  current: Profile | null;\n  isProfileCurrentUser: boolean;\n  showcasedSandbox: Sandbox | null;\n  currentSandboxes: { [page: string]: Sandbox[] };\n  currentLikedSandboxes: { [page: string]: Sandbox[] };\n};\n\nexport const state: State = {\n  profiles: {},\n  currentProfileId: null,\n  showSelectSandboxModal: false,\n  notFound: false,\n  isLoadingProfile: true,\n  sandboxes: {},\n  likedSandboxes: {},\n  userSandboxes: [],\n  currentSandboxesPage: 1,\n  currentLikedSandboxesPage: 1,\n  isLoadingSandboxes: false,\n  sandboxToDeleteId: null,\n  isProfileCurrentUser: derived((currentState: State, rootState: RootState) =>\n    Boolean(\n      rootState.user && rootState.user.id === currentState.currentProfileId\n    )\n  ),\n  current: derived((currentState: State) =>\n    currentState.currentProfileId\n      ? currentState.profiles[currentState.currentProfileId]\n      : null\n  ),\n  showcasedSandbox: derived((currentState: State, rootState: RootState) =>\n    currentState.current && currentState.current.showcasedSandboxShortid\n      ? rootState.editor.sandboxes[currentState.current.showcasedSandboxShortid]\n      : null\n  ),\n  currentLikedSandboxes: derived((currentState: State) =>\n    currentState.current\n      ? currentState.likedSandboxes[currentState.current.username]\n      : []\n  ),\n  currentSandboxes: derived((currentState: State) =>\n    currentState.current\n      ? currentState.sandboxes[currentState.current.username]\n      : []\n  ),\n};\n","import { Sandbox } from '@codesandbox/common/lib/types';\nimport { Action, AsyncAction } from 'app/overmind';\nimport { withLoadApp } from 'app/overmind/factories';\n\nexport const profileMounted: AsyncAction<string> = withLoadApp(\n  async ({ effects, state }, username) => {\n    state.profile.isLoadingProfile = true;\n    state.profile.notFound = false;\n\n    const profile = await effects.api.getProfile(username);\n\n    state.profile.profiles[profile.id] = profile;\n    state.profile.currentProfileId = profile.id;\n\n    if (\n      profile.showcasedSandboxShortid &&\n      !state.editor.sandboxes[profile.showcasedSandboxShortid]\n    ) {\n      state.editor.sandboxes[\n        profile.showcasedSandboxShortid\n      ] = await effects.api.getSandbox(profile.showcasedSandboxShortid);\n    }\n\n    state.profile.isLoadingProfile = false;\n  }\n);\n\nexport const sandboxesPageChanged: AsyncAction<number> = async (\n  { effects, state },\n  page\n) => {\n  state.profile.isLoadingSandboxes = true;\n  state.profile.currentSandboxesPage = page;\n\n  if (!state.profile.current) {\n    return;\n  }\n\n  const { username } = state.profile.current;\n  if (\n    !state.profile.sandboxes[username] ||\n    !state.profile.sandboxes[username][page]\n  ) {\n    const data = await effects.api.getUserSandboxes(username, page);\n    if (!state.profile.sandboxes[username]) {\n      state.profile.sandboxes[username] = {};\n    }\n    state.profile.sandboxes[username][page] = data[page];\n  }\n\n  state.profile.isLoadingSandboxes = false;\n};\n\nexport const likedSandboxesPageChanged: AsyncAction<number> = async (\n  { effects, state },\n  page\n) => {\n  state.profile.isLoadingSandboxes = true;\n  state.profile.currentLikedSandboxesPage = page;\n\n  if (!state.profile.current) {\n    return;\n  }\n\n  const { username } = state.profile.current;\n\n  if (\n    !state.profile.likedSandboxes[username] ||\n    !state.profile.likedSandboxes[username][page]\n  ) {\n    const data = await effects.api.getUserLikedSandboxes(username, page);\n    const sandboxes = data[page];\n\n    if (!state.profile.likedSandboxes[username]) {\n      state.profile.likedSandboxes[username] = {};\n    }\n\n    state.profile.likedSandboxes[username][page] = sandboxes;\n  }\n\n  state.profile.isLoadingSandboxes = false;\n};\n\nexport const selectSandboxClicked: AsyncAction = async ({ state, effects }) => {\n  state.currentModal = 'selectSandbox';\n\n  if (!state.profile.userSandboxes.length) {\n    state.profile.isLoadingSandboxes = true;\n    state.profile.userSandboxes = await effects.api.getSandboxes();\n    state.profile.isLoadingSandboxes = false;\n  }\n};\n\nexport const newSandboxShowcaseSelected: AsyncAction<string> = async (\n  { state, effects },\n  id\n) => {\n  state.currentModal = null;\n\n  if (!state.profile.currentProfileId) {\n    return;\n  }\n\n  state.profile.profiles[\n    state.profile.currentProfileId\n  ].showcasedSandboxShortid = id;\n  state.profile.isLoadingProfile = true;\n\n  if (!state.user) {\n    return;\n  }\n\n  const [sandbox] = await Promise.all([\n    state.editor.sandboxes[id] ? null : effects.api.getSandbox(id),\n    effects.api.updateShowcasedSandbox(state.user.username, id),\n  ]);\n\n  if (sandbox) {\n    state.editor.sandboxes[id] = sandbox as Sandbox;\n  }\n\n  state.profile.isLoadingProfile = false;\n};\n\nexport const deleteSandboxClicked: Action<string> = ({ state }, id) => {\n  state.profile.sandboxToDeleteId = id;\n  state.currentModal = 'deleteProfileSandbox';\n};\n\nexport const sandboxDeleted: AsyncAction = async ({ state, effects }) => {\n  state.profile.isLoadingSandboxes = true;\n  state.currentModal = null;\n\n  const sandboxId = state.profile.sandboxToDeleteId;\n\n  if (!sandboxId || !state.profile.current || !state.user) {\n    return;\n  }\n\n  await effects.api.deleteSandbox(sandboxId);\n\n  state.profile.current.sandboxCount--;\n\n  const page = state.profile.currentSandboxesPage;\n  const { username } = state.user;\n  const data = await effects.api.getUserSandboxes(username, page);\n\n  state.profile.sandboxes[username][page] = data[page];\n\n  state.profile.isLoadingSandboxes = false;\n};\n","import {\n  ServerContainerStatus,\n  ServerPort,\n  ServerStatus,\n} from '@codesandbox/common/lib/types';\n\ntype State = {\n  status: ServerStatus;\n  containerStatus: ServerContainerStatus;\n  error: string | null;\n  hasUnrecoverableError: false;\n  ports: ServerPort[];\n};\n\nexport const state: State = {\n  status: ServerStatus.INITIALIZING,\n  containerStatus: ServerContainerStatus.INITIALIZING,\n  error: null,\n  hasUnrecoverableError: false,\n  ports: [],\n};\n","import { ViewTab } from '@codesandbox/common/lib/templates/template';\nimport {\n  Sandbox,\n  ServerContainerStatus,\n  ServerPort,\n  ServerStatus,\n} from '@codesandbox/common/lib/types';\nimport { NotificationStatus } from '@codesandbox/notifications/lib/state';\nimport { Action, AsyncAction } from 'app/overmind';\nimport { getDevToolsTabPosition } from 'app/overmind/utils/server';\n\nexport const restartSandbox: Action = ({ effects }) => {\n  effects.executor.emit('sandbox:restart');\n};\n\nexport const restartContainer: Action = ({ state, effects }) => {\n  state.server.containerStatus = ServerContainerStatus.INITIALIZING;\n  effects.executor.emit('sandbox:restart-container');\n};\n\nexport const statusChanged: Action<ServerStatus> = ({ state }, status) => {\n  state.server.status = status;\n};\n\nexport const containerStatusChanged: Action<ServerContainerStatus> = (\n  { state },\n  status\n) => {\n  state.server.containerStatus = status;\n};\n\nexport const onSSEMessage: Action<{\n  event: string;\n  data: any;\n}> = ({ state: { server, editor }, effects, actions }, { event, data }) => {\n  switch (event) {\n    case 'connect':\n      server.error = null;\n      server.status = ServerStatus.CONNECTED;\n      break;\n    case 'disconnect':\n      if (\n        server.containerStatus !== ServerContainerStatus.HIBERNATED &&\n        server.status === ServerStatus.CONNECTED\n      ) {\n        server.status = ServerStatus.DISCONNECTED;\n        effects.codesandboxApi.disconnectSSE();\n      }\n      break;\n    case 'sandbox:start':\n      server.containerStatus = ServerContainerStatus.SANDBOX_STARTED;\n      break;\n    case 'sandbox:stop':\n      if (server.containerStatus !== ServerContainerStatus.HIBERNATED) {\n        server.containerStatus = ServerContainerStatus.STOPPED;\n      }\n      break;\n    case 'sandbox:update':\n      actions.files.syncSandbox(data.updates);\n      break;\n    case 'sandbox:hibernate':\n      server.containerStatus = ServerContainerStatus.HIBERNATED;\n      effects.executor.closeExecutor();\n      break;\n    case 'sandbox:status':\n      if (data.status === 'starting-container') {\n        server.containerStatus = ServerContainerStatus.INITIALIZING;\n      } else if (data.status === 'installing-packages') {\n        server.containerStatus = ServerContainerStatus.CONTAINER_STARTED;\n      }\n      break;\n    case 'sandbox:log':\n      effects.codesandboxApi.logTerminalMessage(data.data);\n      break;\n    case 'sandbox:port': {\n      const newPorts = data as ServerPort[];\n      const currentPorts = server.ports;\n      const removedPorts = currentPorts.filter(\n        port => !newPorts.find(p => p.port === port.port)\n      );\n      const addedPorts = newPorts.filter(\n        port => !currentPorts.find(p => p.port === port.port)\n      );\n      const openedPorts: number[] = [];\n\n      if (removedPorts.length > 0) {\n        effects.notificationToast.add({\n          title: `Server Ports Closed`,\n          message:\n            removedPorts.length === 1\n              ? `Port ${removedPorts[0].port} closed`\n              : `The following ports closed: ${removedPorts\n                  .map(p => p.port)\n                  .join(', ')}`,\n          status: NotificationStatus.NOTICE,\n        });\n      }\n\n      editor.devToolTabs.forEach(view => {\n        view.views.forEach(tab => {\n          if (\n            tab.id === 'codesandbox.browser' &&\n            tab.options &&\n            tab.options.port\n          ) {\n            openedPorts.push(tab.options.port);\n          }\n        });\n      });\n\n      addedPorts.forEach(port => {\n        if (!port.main && openedPorts.indexOf(port.port) === -1) {\n          effects.notificationToast.add({\n            title: `Port ${port.port} Opened`,\n            message: `The server is listening on port ${port.port}, do you want to open it?`,\n            status: NotificationStatus.NOTICE,\n            actions: {\n              primary: {\n                label: 'Open Browser Pane',\n                run: () => {\n                  actions.server.onBrowserFromPortOpened({ port });\n                },\n              },\n            },\n          });\n        }\n      });\n\n      server.ports = newPorts;\n\n      break;\n    }\n    case 'sandbox:error': {\n      const { message: error, unrecoverable } = data;\n\n      server.hasUnrecoverableError = unrecoverable;\n      server.error = error;\n\n      if (unrecoverable) {\n        effects.notificationToast.add({\n          title: `Container Error`,\n          message: error,\n          status: NotificationStatus.ERROR,\n        });\n        effects.executor.closeExecutor();\n      } else {\n        effects.notificationToast.add({\n          title: `Container Warning`,\n          message: error,\n          status: NotificationStatus.WARNING,\n        });\n      }\n\n      break;\n    }\n    case 'shell:exit':\n      effects.codesandboxApi.exitShell(data);\n      break;\n    case 'shell:out':\n      effects.codesandboxApi.outShell(data);\n      break;\n  }\n};\n\nexport const onCodeSandboxAPIMessage: Action<{\n  data: any;\n}> = ({ effects }, { data }) => {\n  if (data.type === 'socket:message') {\n    const { channel, type: _t, codesandbox: _c, ...message } = data;\n    effects.executor.emit(channel, message);\n  }\n};\n\ntype BrowserOptions = { title?: string; url?: string } & (\n  | {\n      port: number;\n    }\n  | { url: string }\n);\n\nexport const onBrowserTabOpened: Action<{\n  closeable?: boolean;\n  options?: BrowserOptions;\n}> = ({ actions, state }, { options, closeable }) => {\n  const tab: ViewTab = {\n    id: 'codesandbox.browser',\n  };\n\n  if (typeof options !== 'undefined') {\n    tab.options = options;\n  }\n\n  if (typeof closeable !== 'undefined') {\n    tab.closeable = closeable;\n  }\n\n  const position = getDevToolsTabPosition({\n    tabs: state.editor.devToolTabs,\n    tab,\n  });\n\n  if (position) {\n    actions.editor.onDevToolsPositionChanged({ position });\n  } else {\n    actions.editor.onDevToolsTabAdded({ tab });\n  }\n};\n\nexport const onBrowserFromPortOpened: Action<{\n  port: ServerPort;\n}> = ({ actions }, { port }) => {\n  if (port.main) {\n    actions.server.onBrowserTabOpened({});\n  } else {\n    actions.server.onBrowserTabOpened({\n      closeable: true,\n      options: {\n        port: port.port,\n        url: `https://${port.hostname}`,\n      },\n    });\n  }\n};\n\nexport const startContainer: AsyncAction<Sandbox> = async (\n  { effects, actions },\n  sandbox\n) => {\n  await effects.executor.initializeExecutor(sandbox);\n\n  [\n    'connect',\n    'disconnect',\n    'sandbox:status',\n    'sandbox:start',\n    'sandbox:stop',\n    'sandbox:error',\n    'sandbox:log',\n    'sandbox:hibernate',\n    'sandbox:update',\n    'sandbox:port',\n    'shell:out',\n    'shell:exit',\n  ].forEach(message => {\n    effects.executor.listen(message, actions.server.onSSEMessage);\n  });\n\n  await effects.executor.setupExecutor();\n};\n","import {\n  ViewConfig,\n  ViewTab,\n} from '@codesandbox/common/lib/templates/template';\nimport { DevToolsTabPosition } from '@codesandbox/common/lib/types';\n\n// eslint-disable-next-line consistent-return\nexport function getDevToolsTabPosition({\n  tabs,\n  tab,\n}: {\n  tabs: ViewConfig[];\n  tab: ViewTab;\n}): DevToolsTabPosition | undefined {\n  const serializedTab = JSON.stringify(tab);\n\n  for (let i = 0; i < tabs.length; i++) {\n    const view = tabs[i];\n\n    for (let j = 0; j < view.views.length; j++) {\n      const tabFounded = view.views[j];\n      if (JSON.stringify(tabFounded) === serializedTab) {\n        return {\n          devToolIndex: i,\n          tabPosition: j,\n        };\n      }\n    }\n  }\n}\n","type State = {\n  connected: boolean;\n  unreadCount: number;\n  notificationsOpened: boolean;\n};\n\nexport const state: State = {\n  connected: false,\n  unreadCount: 0,\n  notificationsOpened: false,\n};\n","import { Action, AsyncAction } from 'app/overmind';\n\nexport const initialize: AsyncAction = async ({ state, effects, actions }) => {\n  if (!state.user || !state.user.id) {\n    return;\n  }\n\n  const { unread } = await effects.notifications.joinChannel(state.user.id);\n\n  state.userNotifications.connected = true;\n  state.userNotifications.unreadCount = unread;\n\n  effects.notifications.listen(\n    actions.userNotifications.internal.messageReceived\n  );\n};\n\nexport const messageReceived: Action<{ event: string; data: any }> = (\n  { state },\n  message\n) => {\n  switch (message.event) {\n    case 'new-notification': {\n      if (!state.userNotifications.notificationsOpened) {\n        state.userNotifications.unreadCount++;\n      }\n    }\n  }\n};\n","import { AsyncAction, Action } from 'app/overmind';\nimport { client } from 'app/graphql/client';\nimport gql from 'graphql-tag';\nimport * as internalActions from './internalActions';\n\nexport const internal = internalActions;\n\nexport const notificationsOpened: AsyncAction = async ({ state }) => {\n  state.userNotifications.notificationsOpened = true;\n  state.userNotifications.unreadCount = 0;\n\n  await client.mutate({\n    mutation: gql`\n      mutation ClearNotificationCount {\n        clearNotificationCount {\n          id\n        }\n      }\n    `,\n  });\n\n  setTimeout(async () => {\n    await client.mutate({\n      mutation: gql`\n        mutation MarkNotificationsAsRead {\n          markAllNotificationsAsRead {\n            id\n          }\n        }\n      `,\n    });\n  }, 500);\n};\n\nexport const notificationsClosed: Action = ({ state }) => {\n  state.userNotifications.notificationsOpened = false;\n};\n\nexport const messageReceived: Action<{ event: string }> = (\n  { state },\n  { event }\n) => {\n  if (event === 'new-notification') {\n    state.userNotifications.unreadCount++;\n  }\n};\n","type State = {\n  project: {\n    title: string;\n    description: string;\n    alias: string;\n  };\n  tags: {\n    tagName: string;\n  };\n  openedWorkspaceItem: string | null;\n  workspaceHidden: boolean;\n  showDeleteSandboxModal: boolean;\n};\n\nexport const state: State = {\n  project: {\n    title: '',\n    description: '',\n    alias: '',\n  },\n  tags: {\n    tagName: '',\n  },\n  openedWorkspaceItem: null,\n  workspaceHidden: false,\n  showDeleteSandboxModal: false,\n};\n","import getTemplate from '@codesandbox/common/lib/templates';\nimport { CustomTemplate } from '@codesandbox/common/lib/types';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport slugify from '@codesandbox/common/lib/utils/slugify';\nimport { Action, AsyncAction } from 'app/overmind';\nimport { withOwnedSandbox } from 'app/overmind/factories';\nimport getItems from 'app/overmind/utils/items';\n\nexport const valueChanged: Action<{\n  field: string;\n  value: string;\n}> = ({ state }, { field, value }) => {\n  state.workspace.project[field] = value;\n};\n\nexport const tagChanged: Action<string> = ({ state }, tagName) => {\n  state.workspace.tags.tagName = tagName;\n};\n\nexport const tagAdded: AsyncAction = withOwnedSandbox(\n  async ({ state, effects, actions }) => {\n    const { tagName } = state.workspace.tags;\n    const sandbox = state.editor.currentSandbox;\n\n    if (!sandbox) {\n      return;\n    }\n\n    const cleanTag = tagName.replace(/#/g, '');\n\n    sandbox.tags.push(cleanTag);\n\n    try {\n      sandbox.tags = await effects.api.createTag(sandbox.id, cleanTag);\n\n      await actions.editor.internal.updateSandboxPackageJson();\n    } catch (error) {\n      const index = sandbox.tags.indexOf(cleanTag);\n      sandbox.tags.splice(index, 1);\n      actions.internal.handleError({ message: 'Unable to add tag', error });\n    }\n  }\n);\n\nexport const tagRemoved: AsyncAction<string> = withOwnedSandbox(\n  async ({ state, effects, actions }, tag) => {\n    const sandbox = state.editor.currentSandbox;\n\n    if (!sandbox) {\n      return;\n    }\n\n    const tagIndex = sandbox.tags.indexOf(tag);\n\n    sandbox.tags.splice(tagIndex, 1);\n\n    try {\n      sandbox.tags = await effects.api.deleteTag(sandbox.id, tag);\n\n      if (\n        !state.editor.parsedConfigurations ||\n        !state.editor.currentPackageJSON\n      ) {\n        return;\n      }\n      // Create a \"joint action\" on this\n      if (!state.editor.parsedConfigurations.package) {\n        return;\n      }\n      const { parsed } = state.editor.parsedConfigurations.package;\n\n      if (!parsed) {\n        return;\n      }\n\n      parsed.keywords = sandbox.tags;\n      parsed.name = slugify(sandbox.title || sandbox.id);\n      parsed.description = sandbox.description;\n\n      const code = JSON.stringify(parsed, null, 2);\n      const moduleShortid = state.editor.currentPackageJSON.shortid;\n\n      await actions.editor.codeSaved({\n        code,\n        moduleShortid,\n        cbID: null,\n      });\n    } catch (error) {\n      sandbox.tags.splice(tagIndex, 0, tag);\n      actions.internal.handleError({ message: 'Unable to remove tag', error });\n    }\n  }\n);\n\nexport const tagsChanged: AsyncAction<{\n  newTags: string[];\n  removedTags: string[];\n}> = async ({ actions, effects, state }, { newTags, removedTags }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  const { tags } = state.editor.currentSandbox;\n  if (tags.length > 5) {\n    effects.notificationToast.error('You can have a maximum of 5 tags');\n    return;\n  }\n\n  const tagWasRemoved =\n    newTags.length < tags.length && removedTags.length === 1;\n  if (tagWasRemoved) {\n    removedTags.forEach(actions.workspace.tagRemoved);\n    return;\n  }\n\n  await actions.workspace.tagAdded();\n};\n\n/** tagsChanged2 takes new tags and does the diffing on its own\n * This is v2 of tagsChanged. It's used in the redesign\n */\nexport const tagsChanged2: AsyncAction<string[]> = withOwnedSandbox(\n  async ({ state, effects, actions }, newTags) => {\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) return;\n\n    const { tags: oldTags } = sandbox;\n\n    const removedTags = oldTags.filter(tag => !newTags.includes(tag));\n    const addedTags = newTags.filter(tag => !oldTags.includes(tag));\n\n    removedTags.forEach(actions.workspace.tagRemoved);\n\n    addedTags.forEach(async tag => {\n      const cleanTag = tag.replace(/#/g, '');\n\n      // use old methods to update tags\n      actions.workspace.tagChanged(cleanTag);\n      await actions.workspace.tagAdded();\n    });\n  }\n);\n\nexport const sandboxInfoUpdated: AsyncAction = withOwnedSandbox(\n  async ({ state, effects, actions }) => {\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) {\n      return;\n    }\n    const { project } = state.workspace;\n    const hasChangedTitle =\n      project.title.trim() && sandbox.title !== project.title;\n    const hasChangedDescription =\n      project.description.trim() && sandbox.description !== project.description;\n    const hasChangedAlias = project.alias && sandbox.alias !== project.alias;\n    const hasChanged =\n      hasChangedTitle || hasChangedDescription || hasChangedAlias;\n\n    if (hasChanged) {\n      try {\n        let event = 'Alias';\n\n        if (hasChangedTitle) {\n          event = 'Title';\n        } else if (hasChangedDescription) {\n          event = 'Description';\n        }\n\n        effects.analytics.track(`Sandbox - Update ${event}`);\n\n        sandbox.title = project.title;\n        sandbox.description = project.description;\n        sandbox.alias = project.alias;\n\n        const updatedSandbox = await effects.api.updateSandbox(sandbox.id, {\n          title: project.title,\n          description: project.description,\n          alias: project.alias,\n        });\n\n        if (!updatedSandbox) {\n          effects.notificationToast.error('Could not update Sandbox');\n          return;\n        }\n\n        effects.router.replaceSandboxUrl(updatedSandbox);\n\n        await actions.editor.internal.updateSandboxPackageJson();\n      } catch (error) {\n        actions.internal.handleError({\n          message:\n            'We were not able to save your sandbox updates, please try again',\n          error,\n        });\n      }\n    }\n  }\n);\n\nexport const externalResourceAdded: AsyncAction<string> = withOwnedSandbox(\n  async ({ effects, state, actions }, resource) => {\n    if (!state.editor.currentSandbox) {\n      return;\n    }\n    const { externalResources } = state.editor.currentSandbox;\n\n    externalResources.push(resource);\n    actions.editor.internal.updatePreviewCode();\n\n    try {\n      await effects.api.createResource(\n        state.editor.currentSandbox.id,\n        resource\n      );\n      if (state.live.isLive) {\n        effects.live.sendExternalResourcesChanged(\n          state.editor.currentSandbox.externalResources\n        );\n      }\n    } catch (error) {\n      externalResources.splice(externalResources.indexOf(resource), 1);\n      actions.internal.handleError({\n        message: 'Could not save external resource',\n        error,\n      });\n      actions.editor.internal.updatePreviewCode();\n    }\n  }\n);\n\nexport const externalResourceRemoved: AsyncAction<string> = withOwnedSandbox(\n  async ({ effects, state, actions }, resource) => {\n    if (!state.editor.currentSandbox) {\n      return;\n    }\n\n    const { externalResources } = state.editor.currentSandbox;\n    const resourceIndex = externalResources.indexOf(resource);\n\n    externalResources.splice(resourceIndex, 1);\n    actions.editor.internal.updatePreviewCode();\n\n    try {\n      await effects.api.deleteResource(\n        state.editor.currentSandbox.id,\n        resource\n      );\n      if (state.live.isLive) {\n        effects.live.sendExternalResourcesChanged(\n          state.editor.currentSandbox.externalResources\n        );\n      }\n    } catch (error) {\n      externalResources.splice(resourceIndex, 0, resource);\n\n      actions.internal.handleError({\n        message: 'Could not save removal of external resource',\n        error,\n      });\n      actions.editor.internal.updatePreviewCode();\n    }\n  }\n);\n\nexport const integrationsOpened: Action = ({ state }) => {\n  state.preferences.itemId = 'integrations';\n  // I do not think this showModal is used?\n  state.preferences.showModal = true;\n};\n\nexport const sandboxDeleted: AsyncAction = async ({\n  state,\n  effects,\n  actions,\n}) => {\n  actions.modalClosed();\n\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  await effects.api.deleteSandbox(state.editor.currentSandbox.id);\n\n  // Not sure if this is in use?\n  state.workspace.showDeleteSandboxModal = false;\n  effects.notificationToast.success('Sandbox deleted!');\n\n  effects.router.redirectToSandboxWizard();\n};\n\nexport const sandboxPrivacyChanged: AsyncAction<{\n  privacy: 0 | 1 | 2;\n  source?: string;\n}> = async ({ actions, effects, state }, { privacy, source = 'generic' }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  track('Sandbox - Update Privacy', {\n    privacy,\n    source,\n  });\n\n  const oldPrivacy = state.editor.currentSandbox.privacy;\n  state.editor.currentSandbox.privacy = privacy;\n\n  try {\n    const sandbox = await effects.api.updatePrivacy(\n      state.editor.currentSandbox.id,\n      privacy\n    );\n    state.editor.currentSandbox.previewSecret = sandbox.previewSecret;\n    state.editor.currentSandbox.privacy = privacy;\n\n    if (\n      getTemplate(state.editor.currentSandbox.template).isServer &&\n      ((oldPrivacy !== 2 && privacy === 2) ||\n        (oldPrivacy === 2 && privacy !== 2))\n    ) {\n      // Privacy changed from private to unlisted/public or other way around, restart\n      // the sandbox to notify containers\n      actions.server.restartContainer();\n    }\n  } catch (error) {\n    state.editor.currentSandbox.privacy = oldPrivacy;\n    actions.internal.handleError({\n      message: \"We weren't able to update the sandbox privacy\",\n      error,\n    });\n  }\n};\n\nexport const setWorkspaceItem: Action<{\n  item: string;\n}> = ({ state }, { item }) => {\n  state.workspace.openedWorkspaceItem = item;\n};\n\nexport const toggleCurrentWorkspaceItem: Action = ({ state }) => {\n  state.workspace.workspaceHidden = !state.workspace.workspaceHidden;\n};\n\nexport const setWorkspaceHidden: Action<{ hidden: boolean }> = (\n  { state, effects },\n  { hidden }\n) => {\n  state.workspace.workspaceHidden = hidden;\n  effects.vscode.resetLayout();\n};\n\nexport const deleteTemplate: AsyncAction = async ({\n  state,\n  actions,\n  effects,\n}) => {\n  effects.analytics.track('Template - Removed', { source: 'editor' });\n  if (\n    !state.editor.currentSandbox ||\n    !state.editor.currentSandbox.customTemplate\n  ) {\n    return;\n  }\n  const sandbox = state.editor.currentSandbox;\n  const templateId = state.editor.currentSandbox.customTemplate.id;\n\n  try {\n    await effects.api.deleteTemplate(sandbox.id, templateId);\n\n    sandbox.isFrozen = false;\n    sandbox.customTemplate = null;\n    actions.modalClosed();\n    effects.notificationToast.success('Template Deleted');\n  } catch (error) {\n    actions.internal.handleError({\n      message: 'Could not delete custom template',\n      error,\n    });\n  }\n};\n\nexport const editTemplate: AsyncAction<CustomTemplate> = async (\n  { state, actions, effects },\n  template\n) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  effects.analytics.track('Template - Edited', { source: 'editor' });\n\n  const sandboxId = state.editor.currentSandbox.id;\n\n  try {\n    const updatedTemplate = await effects.api.updateTemplate(\n      sandboxId,\n      template\n    );\n\n    actions.modalClosed();\n    state.editor.currentSandbox.customTemplate = updatedTemplate;\n    effects.notificationToast.success('Template Edited');\n  } catch (error) {\n    actions.internal.handleError({\n      message: 'Could not edit custom template',\n      error,\n    });\n  }\n};\n\nexport const addedTemplate: AsyncAction<{\n  color: string;\n  description: string;\n  title: string;\n}> = async ({ state, actions, effects }, template) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  effects.analytics.track('Template - Created', { source: 'editor' });\n\n  const sandboxId = state.editor.currentSandbox.id;\n\n  try {\n    const newTemplate = await effects.api.createTemplate(sandboxId, template);\n    const sandbox = state.editor.currentSandbox;\n    sandbox.isFrozen = true;\n    sandbox.customTemplate = newTemplate;\n    actions.modalClosed();\n    effects.notificationToast.success('Successfully created the template');\n  } catch (error) {\n    actions.internal.handleError({\n      message: 'Could not create template, please try again later',\n      error,\n    });\n    if (process.env.NODE_ENV === 'development') {\n      console.error(error);\n    }\n  }\n};\n\nexport const openDefaultItem: Action = ({ state }) => {\n  const items = getItems(state);\n  const defaultItem = items.find(i => i.defaultOpen) || items[0];\n\n  state.workspace.openedWorkspaceItem = defaultItem.id;\n};\n","import { OnInitialize } from '.';\n\nexport const onInitialize: OnInitialize = async (\n  { state, effects, actions },\n  overmindInstance\n) => {\n  const provideJwtToken = () => state.jwt || effects.jwt.get();\n\n  state.isFirstVisit = Boolean(\n    !effects.jwt.get() && !effects.browser.storage.get('hasVisited')\n  );\n\n  effects.browser.storage.set('hasVisited', true);\n\n  effects.live.initialize({\n    provideJwtToken,\n    onApplyOperation: actions.live.applyTransformation,\n    onOperationError: actions.live.onOperationError,\n  });\n\n  effects.flows.initialize(overmindInstance.reaction);\n\n  // We consider recover mode something to be done when browser actually crashes, meaning there is no unmount\n  effects.browser.onUnload(() => {\n    if (state.editor.currentSandbox && state.connected) {\n      effects.moduleRecover.clearSandbox(state.editor.currentSandbox.id);\n    }\n  });\n\n  effects.api.initialize({\n    provideJwtToken,\n    getParsedConfigurations() {\n      return state.editor.parsedConfigurations;\n    },\n  });\n\n  effects.gql.initialize(\n    {\n      endpoint: `${location.origin}/api/graphql`,\n      headers: () => ({\n        Authorization: `Bearer ${state.jwt}`,\n      }),\n    },\n    () => (effects.jwt.get() ? effects.live.getSocket() : null)\n  );\n\n  effects.notifications.initialize({\n    provideSocket() {\n      return effects.live.getSocket();\n    },\n  });\n\n  effects.vercel.initialize({\n    getToken() {\n      return state.user?.integrations.zeit?.token ?? null;\n    },\n  });\n\n  effects.netlify.initialize({\n    getUserId() {\n      return state.user?.id ?? null;\n    },\n  });\n\n  effects.prettyfier.initialize({\n    getCurrentModule() {\n      return state.editor.currentModule;\n    },\n    getPrettierConfig() {\n      let config = state.preferences.settings.prettierConfig;\n      const configFromSandbox = state.editor.currentSandbox?.modules.find(\n        module =>\n          module.directoryShortid == null && module.title === '.prettierrc'\n      );\n\n      if (configFromSandbox) {\n        config = JSON.parse(configFromSandbox.code);\n      }\n\n      return config;\n    },\n  });\n\n  effects.vscode.initialize({\n    getCurrentSandbox: () => state.editor.currentSandbox,\n    getCurrentModule: () => state.editor.currentModule,\n    getSandboxFs: () => state.editor.modulesByPath,\n    getCurrentUser: () => state.user,\n    onOperationApplied: actions.editor.onOperationApplied,\n    onCodeChange: actions.editor.codeChanged,\n    onSelectionChanged: selection => {\n      actions.editor.onSelectionChanged(selection);\n      actions.live.onSelectionChanged(selection);\n    },\n    onViewRangeChanged: actions.live.onViewRangeChanged,\n    onCommentClick: actions.comments.onCommentClick,\n    reaction: overmindInstance.reaction,\n    getState: (path: string) =>\n      path ? path.split('.').reduce((aggr, key) => aggr[key], state) : state,\n    getSignal: (path: string) =>\n      path.split('.').reduce((aggr, key) => aggr[key], actions),\n  });\n\n  effects.preview.initialize(overmindInstance.reaction);\n\n  actions.internal.showPrivacyPolicyNotification();\n  actions.internal.setViewModeForDashboard();\n};\n","import {\n  CurrentUser,\n  Notification,\n  Sandbox,\n  UploadFile,\n} from '@codesandbox/common/lib/types';\nimport { derived } from 'overmind';\nimport store from 'store/dist/store.modern';\n\ntype State = {\n  isPatron: boolean;\n  isFirstVisit: boolean;\n  isLoggedIn: boolean;\n  hasLogIn: boolean;\n  popularSandboxes: Sandbox[] | null;\n  hasLoadedApp: boolean;\n  jwt: string | null;\n  isAuthenticating: boolean;\n  authToken: string | null;\n  error: string | null;\n  contributors: string[];\n  user: CurrentUser | null;\n  connected: boolean;\n  notifications: Notification[];\n  isLoadingCLI: boolean;\n  isLoadingGithub: boolean;\n  isLoadingVercel: boolean;\n  contextMenu: {\n    show: boolean;\n    items: string[];\n    x: number;\n    y: number;\n  };\n  currentModal: string | null;\n  currentModalMessage: string | null;\n  uploadedFiles: UploadFile[] | null;\n  maxStorage: number;\n  usedStorage: number;\n  updateStatus: string | null;\n  isContributor: (username: String) => boolean;\n  signInModalOpen: boolean;\n  redirectOnLogin: string | null;\n};\n\nexport const state: State = {\n  isFirstVisit: false,\n  isPatron: derived(({ user }: State) =>\n    Boolean(user && user.subscription && user.subscription.since)\n  ),\n  isLoggedIn: derived(({ jwt, user }: State) => Boolean(jwt) && Boolean(user)),\n  // TODO: Should not reference store directly here, rather initialize\n  // the state with \"onInitialize\" setting the jwt\n  hasLogIn: derived(({ jwt }: State) => !!jwt || !!store.get('jwt')),\n  isContributor: derived(({ contributors }: State) => username =>\n    contributors.findIndex(\n      contributor =>\n        contributor.toLocaleLowerCase() === username.toLocaleLowerCase()\n    ) > -1\n  ),\n  popularSandboxes: null,\n  hasLoadedApp: false,\n  jwt: null,\n  isAuthenticating: true,\n  authToken: null,\n  error: null,\n  user: null,\n  connected: true,\n  notifications: [],\n  contributors: [],\n  isLoadingVercel: false,\n  isLoadingCLI: false,\n  isLoadingGithub: false,\n  contextMenu: {\n    show: false,\n    items: [],\n    x: 0,\n    y: 0,\n  },\n  currentModal: null,\n  currentModalMessage: null,\n  uploadedFiles: null,\n  maxStorage: 0,\n  usedStorage: 0,\n  updateStatus: null,\n  signInModalOpen: false,\n  redirectOnLogin: null,\n};\n","import {\n  IAction,\n  IConfig,\n  IOnInitialize,\n  IOperator,\n  IReaction,\n  Overmind,\n} from 'overmind';\nimport { createHook } from 'overmind-react';\nimport { merge, namespaced } from 'overmind/config';\n\nimport * as actions from './actions';\nimport { createConnect } from './createConnect';\nimport * as effects from './effects';\nimport { createModals } from './factories';\nimport * as modals from './modals';\nimport * as comments from './namespaces/comments';\nimport * as dashboard from './namespaces/dashboard';\nimport * as deployment from './namespaces/deployment';\nimport * as editor from './namespaces/editor';\nimport * as explore from './namespaces/explore';\nimport * as files from './namespaces/files';\nimport * as git from './namespaces/git';\nimport * as live from './namespaces/live';\nimport * as patron from './namespaces/patron';\nimport * as preferences from './namespaces/preferences';\nimport * as profile from './namespaces/profile';\nimport * as server from './namespaces/server';\nimport * as userNotifications from './namespaces/userNotifications';\nimport * as workspace from './namespaces/workspace';\nimport { onInitialize } from './onInitialize';\nimport { state } from './state';\n\nexport const config = merge(\n  {\n    onInitialize,\n    effects,\n    state,\n    actions,\n  },\n  namespaced({\n    preferences,\n    userNotifications,\n    patron,\n    editor,\n    live,\n    workspace,\n    dashboard,\n    deployment,\n    files,\n    git,\n    explore,\n    profile,\n    server,\n    comments,\n    modals: createModals(modals),\n  })\n);\n\nexport interface Config\n  extends IConfig<{\n    state: typeof config.state;\n    actions: typeof config.actions;\n    effects: typeof config.effects;\n  }> {}\n\nexport type RootState = typeof config.state;\n\nexport interface OnInitialize extends IOnInitialize<Config> {}\n\nexport interface Action<Input = void, Output = void>\n  extends IAction<Config, Input, Output> {}\n\nexport interface AsyncAction<Input = void, Output = void>\n  extends IAction<Config, Input, Promise<Output>> {}\n\nexport interface Operator<Input = void, Output = Input>\n  extends IOperator<Config, Input, Output> {}\n\nexport interface Reaction extends IReaction<Config> {}\n\nexport const connect = createConnect<Config>();\n\nexport const useOvermind = createHook<Config>();\n\nexport const Observer: React.FC<{\n  children: <T>(overmind: {\n    state: Overmind<Config>['state'];\n    actions: Overmind<Config>['actions'];\n  }) => T;\n}> = ({ children }) => {\n  const overmind = useOvermind();\n\n  return children(overmind);\n};\n","import { CommentsFilterOption, Module } from '@codesandbox/common/lib/types';\nimport { captureException } from '@codesandbox/common/lib/utils/analytics/sentry';\nimport { getTextOperation } from '@codesandbox/common/lib/utils/diff';\nimport {\n  DIALOG_TRANSITION_DURATION,\n  REPLY_TRANSITION_DELAY,\n} from 'app/constants';\nimport {\n  CodeReference,\n  CommentAddedSubscription,\n  CommentChangedSubscription,\n  CommentFragment,\n  CommentRemovedSubscription,\n} from 'app/graphql/types';\nimport { Action, AsyncAction } from 'app/overmind';\nimport {\n  indexToLineAndColumn,\n  lineAndColumnToIndex,\n} from 'app/overmind/utils/common';\nimport { utcToZonedTime } from 'date-fns-tz';\nimport { Selection, TextOperation } from 'ot';\nimport * as uuid from 'uuid';\n\nimport { OPTIMISTIC_COMMENT_ID } from './state';\n\nexport const selectCommentsFilter: Action<CommentsFilterOption> = (\n  { state },\n  option\n) => {\n  state.comments.selectedCommentsFilter = option;\n};\n\nexport const updateComment: AsyncAction<{\n  commentId: string;\n  content: string;\n}> = async ({ actions, effects, state }, { commentId, content }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  if (commentId === OPTIMISTIC_COMMENT_ID) {\n    await actions.comments.addComment({\n      content,\n      isOptimistic: true,\n    });\n    return;\n  }\n  const id = commentId;\n  const sandboxId = state.editor.currentSandbox.id;\n  const comment = state.comments.comments[sandboxId][id];\n\n  effects.analytics.track('Comments - Update Comment');\n\n  comment.content = content;\n\n  try {\n    await effects.gql.mutations.updateComment({\n      commentId,\n      content,\n      sandboxId,\n    });\n  } catch (error) {\n    effects.notificationToast.error(\n      'Unable to update your comment, please try again'\n    );\n  }\n};\n\nexport const getCommentReplies: AsyncAction<string> = async (\n  { state, effects },\n  commentId\n) => {\n  const sandbox = state.editor.currentSandbox;\n  if (!sandbox) {\n    return;\n  }\n\n  try {\n    const {\n      // No idea why TS complains about this\n      // @ts-ignore\n      sandbox: { comment },\n    } = await effects.browser.waitAtLeast(\n      (DIALOG_TRANSITION_DURATION + REPLY_TRANSITION_DELAY) * 1000,\n      () =>\n        effects.gql.queries.comment({\n          sandboxId: sandbox.id,\n          commentId,\n        })\n    );\n\n    comment.comments.forEach(childComment => {\n      state.comments.comments[sandbox.id][childComment.id] = childComment;\n    });\n  } catch (e) {\n    effects.notificationToast.error(\n      'Unable to get your comment, please try again'\n    );\n  }\n};\n\nexport const onCommentClick: Action<{\n  commentIds: string[];\n  bounds: {\n    left: number;\n    top: number;\n    right: number;\n    bottom: number;\n  };\n}> = ({ state, effects, actions }, { commentIds, bounds }) => {\n  if (\n    state.comments.currentCommentId &&\n    commentIds.includes(state.comments.currentCommentId)\n  ) {\n    actions.comments.closeComment();\n    return;\n  }\n\n  if (!commentIds.length) {\n    actions.comments.createComment({\n      isLineComment: true,\n    });\n  } else if (commentIds.length === 1) {\n    effects.analytics.track('Comments - Open Comment');\n    actions.comments.selectComment({\n      commentId: commentIds[0],\n      bounds,\n    });\n  } else {\n    state.comments.multiCommentsSelector = {\n      ids: commentIds,\n      x: bounds.left,\n      y: bounds.top,\n    };\n  }\n};\n\nexport const closeComment: Action = ({ state, effects }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  if (state.comments.currentCommentId === OPTIMISTIC_COMMENT_ID) {\n    delete state.comments.comments[state.editor.currentSandbox.id][\n      OPTIMISTIC_COMMENT_ID\n    ];\n  }\n\n  effects.analytics.track('Comments - Close Comments');\n\n  state.comments.currentCommentId = null;\n  state.comments.currentCommentPositions = null;\n};\n\nexport const closeMultiCommentsSelector: Action = ({ state }) => {\n  state.comments.multiCommentsSelector = null;\n};\n\nexport const selectComment: AsyncAction<{\n  commentId: string;\n  bounds?: {\n    left: number;\n    top: number;\n    right: number;\n    bottom: number;\n  };\n}> = async ({ state, effects, actions }, { commentId, bounds }) => {\n  actions.comments.closeMultiCommentsSelector();\n\n  const sandbox = state.editor.currentSandbox;\n\n  if (!sandbox) {\n    return;\n  }\n\n  const comment = state.comments.comments[sandbox.id][commentId];\n\n  actions.comments.getCommentReplies(commentId);\n\n  if (!bounds) {\n    state.comments.currentCommentId = commentId;\n    return;\n  }\n\n  if (\n    comment &&\n    comment.references.length &&\n    comment.references[0].type === 'code'\n  ) {\n    if (module) {\n      await actions.editor.moduleSelected({\n        path: comment.references[0].metadata.path,\n      });\n\n      // update comment position with precise info\n      const referenceBounds = await effects.vscode.getCodeReferenceBoundary(\n        commentId,\n        comment.references[0].metadata\n      );\n\n      if (state.comments.currentCommentId === OPTIMISTIC_COMMENT_ID) {\n        delete state.comments.comments[sandbox.id][OPTIMISTIC_COMMENT_ID];\n      }\n\n      state.comments.currentCommentId = commentId;\n      state.comments.currentCommentPositions = {\n        trigger: bounds,\n        dialog: {\n          left: referenceBounds.left,\n          top: referenceBounds.top,\n          bottom: referenceBounds.bottom,\n          right: referenceBounds.right,\n        },\n      };\n    }\n  } else {\n    state.comments.currentCommentId = commentId;\n    state.comments.currentCommentPositions = {\n      trigger: bounds,\n      dialog: null,\n    };\n  }\n};\n\nexport const createComment: AsyncAction<{\n  isLineComment: boolean;\n}> = async ({ state, effects }, { isLineComment }) => {\n  if (!state.user || !state.editor.currentSandbox) {\n    return;\n  }\n\n  const id = OPTIMISTIC_COMMENT_ID;\n  const sandbox = state.editor.currentSandbox;\n  const now = utcToZonedTime(new Date().toISOString(), 'Etc/UTC');\n  let codeReference: CodeReference | null = null;\n  const selection = state.live.currentSelection;\n  if (selection) {\n    let anchor =\n      selection.primary.selection[0] || selection.primary.cursorPosition;\n    let head =\n      selection.primary.selection[1] || selection.primary.cursorPosition;\n\n    if (isLineComment) {\n      const codeLines = state.editor.currentModule.code.split('\\n');\n      const { lineNumber } = indexToLineAndColumn(codeLines, anchor);\n      const newAnchor = lineAndColumnToIndex(codeLines, lineNumber, 1);\n\n      anchor = newAnchor;\n      head = newAnchor;\n    }\n\n    codeReference = {\n      anchor,\n      head,\n      code: selection.primary.selection.length\n        ? state.editor.currentModule.code.substr(\n            selection.primary.selection[0],\n            selection.primary.selection[1] - selection.primary.selection[0]\n          )\n        : '',\n      path: state.editor.currentModule.path,\n      lastUpdatedAt: state.editor.currentModule.updatedAt,\n    };\n  }\n\n  effects.analytics.track('Comments - Compose Comment', {\n    type: codeReference ? 'code' : 'global',\n  });\n\n  const optimisticComment: CommentFragment = {\n    parentComment: null,\n    id,\n    insertedAt: now,\n    updatedAt: now,\n    content: '',\n    isResolved: false,\n    user: {\n      id: state.user.id,\n      name: state.user.name,\n      username: state.user.username,\n      avatarUrl: state.user.avatarUrl,\n    },\n    references: codeReference\n      ? [\n          {\n            id: uuid.v4(),\n            type: 'code',\n            metadata: codeReference,\n            resource: state.editor.currentModule.path,\n          },\n        ]\n      : [],\n    replyCount: 0,\n  };\n  const comments = state.comments.comments;\n\n  if (!comments[sandbox.id]) {\n    comments[sandbox.id] = {};\n  }\n\n  comments[sandbox.id][id] = optimisticComment;\n  // placeholder value until we know the correct values\n  const {\n    left,\n    right,\n    top,\n    bottom,\n  } = await effects.vscode.getCodeReferenceBoundary(\n    id,\n    optimisticComment.references[0].metadata\n  );\n  state.comments.currentCommentId = id;\n  state.comments.currentCommentPositions = {\n    trigger: {\n      left,\n      top,\n      bottom,\n      right,\n    },\n    dialog: {\n      left,\n      top,\n      bottom,\n      right,\n    },\n  };\n};\n\nexport const addComment: AsyncAction<{\n  content: string;\n  parentCommentId?: string;\n  isOptimistic?: boolean;\n}> = async ({ state, effects }, { content, parentCommentId, isOptimistic }) => {\n  if (!state.user || !state.editor.currentSandbox) {\n    return;\n  }\n\n  const sandbox = state.editor.currentSandbox;\n  const sandboxId = sandbox.id;\n  const now = utcToZonedTime(new Date().toISOString(), 'Etc/UTC');\n  const comments = state.comments.comments;\n\n  if (!comments[sandbox.id]) {\n    comments[sandbox.id] = {};\n  }\n\n  const id = uuid.v4();\n  let optimisticComment: CommentFragment;\n  if (isOptimistic) {\n    optimisticComment = {\n      ...state.comments.comments[sandboxId][OPTIMISTIC_COMMENT_ID],\n      content,\n      id,\n    };\n    state.comments.comments[sandbox.id][id] = optimisticComment;\n    state.comments.currentCommentId = state.comments.currentCommentId\n      ? id\n      : null;\n    delete state.comments.comments[sandbox.id][OPTIMISTIC_COMMENT_ID];\n  } else {\n    optimisticComment = {\n      parentComment: parentCommentId ? { id: parentCommentId } : null,\n      id,\n      insertedAt: now,\n      updatedAt: now,\n      content,\n      isResolved: false,\n      user: {\n        id: state.user.id,\n        name: state.user.name,\n        username: state.user.username,\n        avatarUrl: state.user.avatarUrl,\n      },\n      references: [],\n      replyCount: 0,\n    };\n    comments[sandbox.id][id] = optimisticComment;\n  }\n\n  state.comments.selectedCommentsFilter = CommentsFilterOption.OPEN;\n\n  if (parentCommentId) {\n    comments[sandbox.id][parentCommentId].replyCount++;\n  }\n\n  effects.analytics.track('Comments - Create Comment', {\n    type: optimisticComment.references.length ? 'code' : 'global',\n  });\n\n  // The server might be ahead on sandbox version, so we need to try to save\n  // several times\n  let tryCount = 0;\n\n  async function saveComment() {\n    tryCount++;\n\n    await effects.gql.mutations.createComment({\n      id,\n      parentCommentId: parentCommentId || null,\n      sandboxId: sandbox.id,\n      content,\n      codeReference: optimisticComment.references.length\n        ? {\n            ...optimisticComment.references[0].metadata,\n            lastUpdatedAt: sandbox.modules.find(\n              module =>\n                module.path === optimisticComment.references[0].metadata.path\n            )!.updatedAt,\n          }\n        : null,\n    });\n  }\n\n  try {\n    await saveComment();\n  } catch (error) {\n    if (error.response?.data?.error === 'old_version' && tryCount < 3) {\n      await saveComment();\n    } else {\n      captureException(error);\n      effects.notificationToast.error(\n        'Unable to create your comment, please try again'\n      );\n      delete comments[sandboxId][id];\n    }\n  }\n};\n\nexport const deleteComment: AsyncAction<{\n  commentId: string;\n}> = async ({ state, effects }, { commentId }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n  const sandboxId = state.editor.currentSandbox.id;\n  const comments = state.comments.comments;\n  const deletedComment = comments[sandboxId][commentId];\n  delete comments[sandboxId][commentId];\n\n  effects.analytics.track('Comments - Delete Comment');\n\n  try {\n    await effects.gql.mutations.deleteComment({\n      commentId,\n      sandboxId,\n    });\n  } catch (error) {\n    effects.notificationToast.error(\n      'Unable to delete your comment, please try again'\n    );\n    comments[sandboxId][commentId] = deletedComment;\n  }\n};\n\nexport const resolveComment: AsyncAction<{\n  commentId: string;\n  isResolved: boolean;\n}> = async ({ effects, state }, { commentId, isResolved }) => {\n  if (!state.editor.currentSandbox) {\n    return;\n  }\n\n  const comments = state.comments.comments;\n  const sandboxId = state.editor.currentSandbox.id;\n  const oldIsResolved = comments[sandboxId][commentId].isResolved;\n\n  comments[sandboxId][commentId].isResolved = isResolved;\n\n  effects.analytics.track('Comments - Resolve Comment');\n\n  try {\n    await (isResolved\n      ? effects.gql.mutations.resolveComment({\n          commentId,\n          sandboxId,\n        })\n      : effects.gql.mutations.unresolveComment({\n          commentId,\n          sandboxId,\n        }));\n  } catch (error) {\n    effects.notificationToast.error(\n      'Unable to update your comment, please try again'\n    );\n    comments[sandboxId][commentId].isResolved = oldIsResolved;\n  }\n};\n\nexport const copyPermalinkToClipboard: Action<string> = (\n  { effects },\n  commentId\n) => {\n  effects.analytics.track('Comments - Copy Permalink');\n  effects.browser.copyToClipboard(effects.router.createCommentUrl(commentId));\n  effects.notificationToast.success('Comment permalink copied to clipboard');\n};\n\nexport const getSandboxComments: AsyncAction<string> = async (\n  { state, effects, actions },\n  sandboxId\n) => {\n  try {\n    const { sandbox: sandboxComments } = await effects.gql.queries.comments({\n      sandboxId,\n    });\n\n    if (!sandboxComments || !sandboxComments.comments) {\n      return;\n    }\n\n    state.comments.comments[sandboxId] = sandboxComments.comments.reduce<{\n      [id: string]: CommentFragment;\n    }>((aggr, commentThread) => {\n      aggr[commentThread.id] = commentThread;\n\n      return aggr;\n    }, {});\n\n    const urlCommentId = effects.router.getCommentId();\n    if (urlCommentId) {\n      actions.workspace.setWorkspaceItem({ item: 'comments' });\n      actions.comments.selectComment({\n        commentId: urlCommentId,\n        bounds: {\n          left: effects.browser.getWidth() / 2,\n          top: 80,\n          right: effects.browser.getWidth() / 3,\n          bottom: 0,\n        },\n      });\n    }\n\n    effects.gql.subscriptions.commentAdded.dispose();\n    effects.gql.subscriptions.commentChanged.dispose();\n    effects.gql.subscriptions.commentRemoved.dispose();\n\n    effects.gql.subscriptions.commentAdded(\n      {\n        sandboxId,\n      },\n      actions.comments.onCommentAdded\n    );\n    effects.gql.subscriptions.commentChanged(\n      {\n        sandboxId,\n      },\n      actions.comments.onCommentChanged\n    );\n    effects.gql.subscriptions.commentRemoved(\n      {\n        sandboxId,\n      },\n      actions.comments.onCommentRemoved\n    );\n  } catch (e) {\n    state.comments.comments[sandboxId] = {};\n    effects.notificationToast.notice(\n      `There was a problem getting the sandbox comments`\n    );\n  }\n\n  // When we load the comments there might be changes already, lets make sure we transpose\n  // any comments on these changes. This does not fix it if you already managed to save, but\n  // that is considered an extreme edge case\n  state.editor.changedModuleShortids.forEach(moduleShortid => {\n    const module = state.editor.currentSandbox!.modules.find(\n      moduleItem => moduleItem.shortid === moduleShortid\n    );\n\n    if (!module) {\n      return;\n    }\n\n    const operation = getTextOperation(module.savedCode || '', module.code);\n    actions.comments.transposeComments({ module, operation });\n  });\n};\n\nexport const onCommentAdded: Action<CommentAddedSubscription> = (\n  { state },\n  { commentAdded: comment }\n) => {\n  if (comment.references[0] && comment.references[0].type === 'code') {\n    const codeReference = comment.references[0].metadata;\n    const sandbox = state.editor.currentSandbox;\n    if (!sandbox) {\n      return;\n    }\n\n    const module = sandbox.modules.find(\n      moduleItem => moduleItem.path === codeReference.path\n    );\n\n    if (!module) {\n      return;\n    }\n\n    // We create a diff operation which is applied to the comment to ensure\n    // any operations received in the meantime is applied\n    const diffOperation = getTextOperation(\n      module.savedCode || module.code,\n      module.code\n    );\n    const range = new Selection.Range(codeReference.anchor, codeReference.head);\n    const newRange = range.transform(diffOperation);\n\n    codeReference.anchor = newRange.anchor;\n    codeReference.head = newRange.head;\n  }\n\n  state.comments.comments[comment.sandbox.id][comment.id] = comment;\n};\n\nexport const onCommentChanged: Action<CommentChangedSubscription> = (\n  { state },\n  { commentChanged: comment }\n) => {\n  Object.assign(\n    state.comments.comments[comment.sandbox.id][comment.id],\n    comment\n  );\n};\n\nexport const onCommentRemoved: Action<CommentRemovedSubscription> = (\n  { state },\n  { commentRemoved: comment }\n) => {\n  delete state.comments.comments[comment.sandbox.id][comment.id];\n};\n\nexport const transposeComments: Action<{\n  module: Module;\n  operation: TextOperation;\n}> = ({ state }, { module, operation }) => {\n  const sandbox = state.editor.currentSandbox;\n  if (!sandbox) {\n    return;\n  }\n  const comments = state.comments.fileComments[module.path] || [];\n  comments.forEach(fileComment => {\n    const range = new Selection.Range(...fileComment.range);\n    const newRange = range.transform(operation);\n    const comment = state.comments.comments[sandbox.id][fileComment.commentId];\n    if (comment.references && comment.references[0].type === 'code') {\n      comment.references[0].metadata.anchor = newRange.anchor;\n      comment.references[0].metadata.head = newRange.head;\n    }\n  });\n};\n","import { CommentsFilterOption } from '@codesandbox/common/lib/types';\nimport { CommentFragment, CommentWithRepliesFragment } from 'app/graphql/types';\nimport { RootState } from 'app/overmind';\nimport isToday from 'date-fns/isToday';\nimport { derived } from 'overmind';\n\nexport const OPTIMISTIC_COMMENT_ID = 'OPTIMISTIC_COMMENT_ID';\n\ntype FileComments = {\n  [path: string]: Array<{\n    commentId: string;\n    range: [number, number];\n  }>;\n};\n\ntype State = {\n  comments: {\n    [sandboxId: string]: {\n      [commentId: string]: CommentFragment;\n    };\n  };\n  currentComments: CommentFragment[];\n  selectedCommentsFilter: CommentsFilterOption;\n  currentCommentId: string | null;\n  currentCommentPositions: {\n    trigger: { left: number; top: number; right: number; bottom: number };\n    dialog: { left: number; top: number; right: number; bottom: number } | null;\n  } | null;\n  currentComment: CommentWithRepliesFragment | null;\n  fileComments: FileComments;\n  currentCommentsByDate: {\n    today: CommentFragment[];\n    prev: CommentFragment[];\n  };\n  multiCommentsSelector: {\n    ids: string[];\n    x: number;\n    y: number;\n  } | null;\n};\n\nexport const state: State = {\n  multiCommentsSelector: null,\n  currentCommentPositions: null,\n  comments: {},\n  currentCommentId: null,\n  fileComments: derived(\n    ({ comments }: State, { editor: { currentSandbox } }: RootState) => {\n      if (!currentSandbox || !comments[currentSandbox.id]) {\n        return {};\n      }\n      const rootComments = Object.values(comments[currentSandbox.id]).filter(\n        comment => comment.parentComment == null && !comment.isResolved\n      );\n\n      return rootComments.reduce<{\n        [path: string]: Array<{\n          commentId: string;\n          range: [number, number];\n        }>;\n      }>((aggr, comment) => {\n        comment.references.forEach(reference => {\n          if (reference.type === 'code') {\n            if (!aggr[reference.metadata.path]) {\n              aggr[reference.metadata.path] = [];\n            }\n            aggr[reference.metadata.path].push({\n              commentId: comment.id,\n              range: [reference.metadata.anchor, reference.metadata.head],\n            });\n          }\n        });\n\n        return aggr;\n      }, {});\n    }\n  ),\n  currentComment: derived(\n    (\n      { comments, currentCommentId }: State,\n      { editor: { currentSandbox } }: RootState\n    ) => {\n      if (\n        !currentSandbox ||\n        !comments[currentSandbox.id] ||\n        !currentCommentId\n      ) {\n        return null;\n      }\n\n      function sortByInsertedAt(\n        commentA: CommentFragment | null,\n        commentB: CommentFragment | null\n      ) {\n        if (!commentA || !commentB) {\n          return 0;\n        }\n\n        const aDate = new Date(commentA.insertedAt);\n        const bDate = new Date(commentB.insertedAt);\n\n        if (aDate > bDate) {\n          return 1;\n        }\n\n        if (bDate < aDate) {\n          return -1;\n        }\n\n        return 0;\n      }\n\n      return {\n        ...comments[currentSandbox.id][currentCommentId],\n        comments: Object.keys(comments[currentSandbox.id])\n          .reduce<CommentFragment[]>((aggr, commentId) => {\n            if (\n              comments[currentSandbox.id][commentId].parentComment?.id ===\n              currentCommentId\n            ) {\n              return aggr.concat(comments[currentSandbox.id][commentId]);\n            }\n\n            return aggr;\n          }, [])\n          .sort(sortByInsertedAt),\n      };\n    }\n  ),\n  selectedCommentsFilter: CommentsFilterOption.OPEN,\n  currentComments: derived(\n    (\n      { comments, selectedCommentsFilter }: State,\n      { editor: { currentSandbox } }: RootState\n    ) => {\n      if (!currentSandbox || !comments[currentSandbox.id]) {\n        return [];\n      }\n\n      function sortByInsertedAt(\n        commentA: CommentFragment,\n        commentB: CommentFragment\n      ) {\n        const aDate = new Date(commentA.insertedAt);\n        const bDate = new Date(commentB.insertedAt);\n\n        if (aDate > bDate) {\n          return -1;\n        }\n\n        if (bDate < aDate) {\n          return 1;\n        }\n\n        return 0;\n      }\n\n      const rootComments = Object.values(comments[currentSandbox.id]).filter(\n        comment =>\n          comment.parentComment == null && comment.id !== OPTIMISTIC_COMMENT_ID\n      );\n      switch (selectedCommentsFilter) {\n        case CommentsFilterOption.ALL:\n          return rootComments.sort(sortByInsertedAt);\n        case CommentsFilterOption.RESOLVED:\n          return rootComments\n            .filter(comment => comment.isResolved)\n            .sort(sortByInsertedAt);\n        case CommentsFilterOption.OPEN:\n          return rootComments\n            .filter(comment => !comment.isResolved)\n            .sort(sortByInsertedAt);\n        default:\n          return [];\n      }\n    }\n  ),\n  currentCommentsByDate: derived(({ currentComments }: State) =>\n    currentComments.reduce<{\n      today: CommentFragment[];\n      prev: CommentFragment[];\n    }>(\n      (acc, comment) => {\n        if (\n          isToday(new Date(comment.insertedAt)) ||\n          isToday(new Date(comment.updatedAt))\n        ) {\n          acc.today.push(comment);\n        } else {\n          acc.prev.push(comment);\n        }\n\n        return acc;\n      },\n      {\n        today: [],\n        prev: [],\n      }\n    )\n  ),\n};\n","import {\n  SidebarCollectionDashboardFragment as Collection,\n  SandboxFragmentDashboardFragment as Sandbox,\n  Team,\n  TemplateFragmentDashboardFragment as Template,\n} from 'app/graphql/types';\nimport isSameDay from 'date-fns/isSameDay';\nimport isSameMonth from 'date-fns/isSameMonth';\nimport isSameWeek from 'date-fns/isSameWeek';\nimport { sortBy } from 'lodash-es';\nimport { derived } from 'overmind';\n\nexport type OrderBy = {\n  field: string;\n  order: 'desc' | 'asc';\n};\n\nexport type DELETE_ME_COLLECTION = Collection & {\n  name: string;\n  level: number;\n  parent: string;\n  sandboxes: number;\n};\n\nexport enum sandboxesTypes {\n  DRAFTS = 'DRAFTS',\n  TEMPLATES = 'TEMPLATES',\n  DELETED = 'DELETED',\n  RECENT = 'RECENT',\n  HOME = 'HOME',\n  TEMPLATE_HOME = 'TEMPLATE_HOME',\n  RECENT_HOME = 'RECENT_HOME',\n  ALL = 'ALL',\n  SEARCH = 'SEARCH',\n}\n\ntype State = {\n  sandboxes: {\n    DRAFTS: Sandbox[] | null;\n    TEMPLATES: Template[] | null;\n    DELETED: Sandbox[] | null;\n    RECENT: Sandbox[] | null;\n    SEARCH: Sandbox[] | null;\n    TEMPLATE_HOME: Template[] | null;\n    RECENT_HOME: Sandbox[] | null;\n    ALL: {\n      [path: string]: Sandbox[];\n    } | null;\n  };\n  teams: Array<{ __typename?: 'Team' } & Pick<Team, 'id' | 'name'>>;\n  allCollections: DELETE_ME_COLLECTION[] | null;\n  activeTeam: string | null;\n  activeTeamInfo: any | null;\n  selectedSandboxes: string[];\n  trashSandboxIds: string[];\n  isDragging: boolean;\n  viewMode: 'grid' | 'list';\n  orderBy: OrderBy;\n  filters: {\n    blacklistedTemplates: string[];\n    search: string;\n  };\n  isTemplateSelected: (templateName: string) => boolean;\n  getFilteredSandboxes: (sandboxes: Sandbox[]) => Sandbox[];\n  recentSandboxesByTime: {\n    day: Sandbox[];\n    week: Sandbox[];\n    month: Sandbox[];\n    older: Sandbox[];\n  };\n  deletedSandboxesByTime: {\n    week: Sandbox[];\n    older: Sandbox[];\n  };\n};\n\nexport const state: State = {\n  sandboxes: {\n    DRAFTS: null,\n    TEMPLATES: null,\n    DELETED: null,\n    RECENT: null,\n    TEMPLATE_HOME: null,\n    RECENT_HOME: null,\n    ALL: null,\n    SEARCH: null,\n  },\n  viewMode: 'grid',\n  allCollections: null,\n  activeTeam: null,\n  activeTeamInfo: null,\n  teams: [],\n  recentSandboxesByTime: derived(({ sandboxes }: State) => {\n    const recentSandboxes = sandboxes.RECENT;\n    if (!recentSandboxes) {\n      return {\n        day: [],\n        week: [],\n        month: [],\n        older: [],\n      };\n    }\n\n    const noTemplateSandboxes = recentSandboxes.filter(s => !s.customTemplate);\n    const timeSandboxes = noTemplateSandboxes.reduce(\n      (accumulator, currentValue: any) => {\n        if (!currentValue.updatedAt) return accumulator;\n        if (isSameDay(new Date(currentValue.updatedAt), new Date())) {\n          // these errors make no sense\n          // @ts-ignore\n          accumulator.day.push(currentValue);\n\n          return accumulator;\n        }\n        if (isSameWeek(new Date(currentValue.updatedAt), new Date())) {\n          // @ts-ignore\n          accumulator.week.push(currentValue);\n\n          return accumulator;\n        }\n        if (isSameMonth(new Date(currentValue.updatedAt), new Date())) {\n          // @ts-ignore\n          accumulator.month.push(currentValue);\n\n          return accumulator;\n        }\n\n        // @ts-ignore\n        accumulator.older.push(currentValue);\n\n        return accumulator;\n      },\n      {\n        day: [],\n        week: [],\n        month: [],\n        older: [],\n      }\n    );\n\n    return timeSandboxes;\n  }),\n  deletedSandboxesByTime: derived(({ sandboxes }: State) => {\n    const deletedSandboxes = sandboxes.DELETED;\n    if (!deletedSandboxes)\n      return {\n        week: [],\n        older: [],\n      };\n    const noTemplateSandboxes = deletedSandboxes.filter(s => !s.customTemplate);\n    const timeSandboxes = noTemplateSandboxes.reduce(\n      (accumulator, currentValue) => {\n        if (!currentValue.removedAt) return accumulator;\n        if (isSameWeek(new Date(currentValue.removedAt), new Date())) {\n          // these errors make no sense\n          // @ts-ignore\n          accumulator.week.push(currentValue);\n\n          return accumulator;\n        }\n        // @ts-ignore\n        accumulator.older.push(currentValue);\n\n        return accumulator;\n      },\n      {\n        week: [],\n        older: [],\n      }\n    );\n\n    return timeSandboxes;\n  }),\n  selectedSandboxes: [],\n  trashSandboxIds: [],\n  isDragging: false,\n  orderBy: {\n    order: 'desc',\n    field: 'updatedAt',\n  },\n  filters: {\n    blacklistedTemplates: [],\n    search: '',\n  },\n  isTemplateSelected: derived(({ filters }: State) => templateName =>\n    !filters.blacklistedTemplates.includes(templateName)\n  ),\n  getFilteredSandboxes: derived(({ orderBy, filters }: State) => sandboxes => {\n    const orderField = orderBy.field;\n    const orderOrder = orderBy.order;\n    const { blacklistedTemplates } = filters;\n\n    const isDateField =\n      orderField === 'insertedAt' || orderField === 'updatedAt';\n\n    let orderedSandboxes = (sortBy(sandboxes, s => {\n      if (isDateField) {\n        return +new Date(s[orderField]);\n      }\n\n      if (orderField === 'title') {\n        const field = s.title || s.alias || s.id;\n        return field.toLowerCase();\n      }\n\n      return s[orderField];\n    }) as Sandbox[]).filter(\n      x =>\n        x.source &&\n        x.source.template &&\n        blacklistedTemplates.indexOf(x.source.template) === -1\n    );\n\n    if (orderOrder === 'desc') {\n      orderedSandboxes = orderedSandboxes.reverse();\n    }\n\n    return orderedSandboxes;\n  }),\n};\n","import { Module } from '@codesandbox/common/lib/types';\nimport { fromPairs, sortBy, toPairs } from 'lodash-es';\n\nexport function sortObjectByKeys(object: object) {\n  return fromPairs(sortBy(toPairs(object)));\n}\n\nexport function createOptimisticModule(overrides: Partial<Module>) {\n  return {\n    id: null,\n    title: '',\n    directoryShortid: null,\n    code: '',\n    savedCode: null,\n    shortid: null,\n    isBinary: false,\n    sourceId: null,\n    insertedAt: new Date().toString(),\n    updatedAt: new Date().toString(),\n    isNotSynced: true,\n    errors: [],\n    corrections: [],\n    type: 'file' as 'file',\n    ...overrides,\n  };\n}\n\nexport function lineAndColumnToIndex(\n  lines: string[],\n  lineNumber: number,\n  column: number\n) {\n  let currentLine = 0;\n  let index = 0;\n\n  while (currentLine + 1 < lineNumber) {\n    index += lines[currentLine].length;\n    index += 1; // Linebreak character\n    currentLine += 1;\n  }\n\n  index += column - 1;\n\n  return index;\n}\n\nexport function indexToLineAndColumn(lines: string[], index: number) {\n  let offset = 0;\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    if (offset + line.length + 1 > index) {\n      return {\n        lineNumber: i + 1,\n        column: index - offset + 1,\n      };\n    }\n\n    // + 1 is for the linebreak character which is not included\n    offset += line.length + 1;\n  }\n\n  // +2 for column (length is already a +1), because +1 for Monaco and +1 for linebreak\n  return {\n    lineNumber: lines.length,\n    column: (lines[lines.length - 1] || '').length + 1,\n  };\n}\n","import getTemplate from '@codesandbox/common/lib/templates';\nimport { hasPermission } from '@codesandbox/common/lib/utils/permission';\n\nexport interface INavigationItem {\n  id: string;\n  name: string;\n  hasCustomHeader?: boolean;\n  defaultOpen?: boolean;\n  /**\n   * If the item is not applicable in the current situation we sometimes still\n   * want to show it because of visibility. This boolean decides that.\n   */\n  showAsDisabledIfHidden?: boolean;\n}\n\nexport const PROJECT: INavigationItem = {\n  id: 'project',\n  name: 'Sandbox Info',\n};\n\nexport const PROJECT_TEMPLATE: INavigationItem = {\n  ...PROJECT,\n  name: 'Template Info',\n};\n\nexport const PROJECT_SUMMARY: INavigationItem = {\n  id: 'project-summary',\n  name: 'Sandbox Info',\n  hasCustomHeader: true,\n};\n\nexport const FILES: INavigationItem = {\n  id: 'files',\n  name: 'Explorer',\n  hasCustomHeader: true,\n  defaultOpen: true,\n};\n\nexport const GITHUB: INavigationItem = {\n  id: 'github',\n  name: 'GitHub',\n  showAsDisabledIfHidden: true,\n};\n\nexport const DEPLOYMENT: INavigationItem = {\n  id: 'deploy',\n  name: 'Deployment',\n  showAsDisabledIfHidden: true,\n};\n\nexport const CONFIGURATION: INavigationItem = {\n  id: 'config',\n  name: 'Configuration Files',\n};\n\nexport const LIVE: INavigationItem = {\n  id: 'live',\n  name: 'Live',\n  showAsDisabledIfHidden: true,\n};\n\nexport const SERVER: INavigationItem = {\n  id: 'server',\n  name: 'Server Control Panel',\n};\n\nexport const COMMENTS: INavigationItem = {\n  id: 'comments',\n  name: 'Comments',\n};\n\nexport function getDisabledItems(store: any): INavigationItem[] {\n  const { currentSandbox } = store.editor;\n\n  if (!currentSandbox) {\n    return [PROJECT_SUMMARY, CONFIGURATION, GITHUB, DEPLOYMENT, SERVER, LIVE];\n  }\n\n  if (!currentSandbox.owned || !store.isLoggedIn) {\n    const returnedItems = [GITHUB, DEPLOYMENT];\n    if (!store.live.isLive) {\n      returnedItems.push(LIVE);\n    }\n    return returnedItems;\n  }\n\n  return [];\n}\n\nexport default function getItems(store: any): INavigationItem[] {\n  if (!store.editor.currentSandbox) {\n    return [];\n  }\n  if (\n    store.live.isLive &&\n    !(\n      store.live.isOwner ||\n      (store.user &&\n        store.live &&\n        store.live.roomInfo &&\n        store.live.roomInfo.ownerIds.indexOf(store.user.id) > -1)\n    ) &&\n    !hasPermission(store.editor.currentSandbox.authorization, 'write_project')\n  ) {\n    return [FILES, LIVE];\n  }\n\n  const { currentSandbox } = store.editor;\n\n  if (!currentSandbox || !currentSandbox.owned) {\n    return [PROJECT_SUMMARY, CONFIGURATION];\n  }\n\n  const isCustomTemplate = !!currentSandbox.customTemplate;\n  const items = [\n    isCustomTemplate ? PROJECT_TEMPLATE : PROJECT,\n    FILES,\n    CONFIGURATION,\n  ];\n\n  if (store.isLoggedIn && currentSandbox) {\n    const templateDef = getTemplate(currentSandbox.template);\n    if (templateDef.isServer) {\n      items.push(SERVER);\n    }\n  }\n\n  if (store.isLoggedIn && currentSandbox && !currentSandbox.git) {\n    if (\n      currentSandbox.featureFlags.comments &&\n      hasPermission(currentSandbox.authorization, 'comment')\n    ) {\n      items.push(GITHUB, COMMENTS);\n    } else {\n      items.push(GITHUB);\n    }\n  }\n\n  if (store.isLoggedIn) {\n    items.push(DEPLOYMENT);\n  }\n\n  if (\n    store.isLoggedIn &&\n    currentSandbox &&\n    hasPermission(currentSandbox.authorization, 'write_code')\n  ) {\n    items.push(LIVE);\n  }\n\n  return items;\n}\n","import { Sandbox } from '@codesandbox/common/lib/types';\nimport getDefinition from '@codesandbox/common/lib/templates';\nimport { resolveModuleWrapped } from './resolve-module-wrapped';\n\nexport function mainModule(sandbox: Sandbox, parsedConfigurations: any) {\n  const templateDefinition = getDefinition(sandbox.template);\n\n  const resolve = resolveModuleWrapped(sandbox);\n\n  const module = templateDefinition\n    .getEntries(parsedConfigurations)\n    .map(p => resolve(p))\n    .find(m => Boolean(m));\n\n  return module || sandbox.modules[0];\n}\n\nexport function defaultOpenedModule(\n  sandbox: Sandbox,\n  parsedConfigurations: any\n) {\n  const templateDefinition = getDefinition(sandbox.template);\n\n  const resolve = resolveModuleWrapped(sandbox);\n\n  const module = templateDefinition\n    .getDefaultOpenedFiles(parsedConfigurations)\n    .map(p => resolve(p))\n    .find(m => Boolean(m));\n\n  return module || sandbox.modules[0];\n}\n","import {\n  resolveModule,\n  resolveDirectory,\n} from '@codesandbox/common/lib/sandbox/modules';\nimport { Module, Sandbox, Directory } from '@codesandbox/common/lib/types';\n\nexport const resolveModuleWrapped = (sandbox: Sandbox) => (\n  path: string\n): Module | undefined => {\n  try {\n    return resolveModule(path, sandbox.modules, sandbox.directories);\n  } catch (e) {\n    return undefined;\n  }\n};\n\nexport const resolveDirectoryWrapped = (sandbox: Sandbox) => (\n  path: string\n): Directory | undefined => {\n  try {\n    return resolveDirectory(path, sandbox.modules, sandbox.directories);\n  } catch (e) {\n    return undefined;\n  }\n};\n","import React, { useState, useEffect } from 'react';\nimport { Spring, animated, interpolate } from 'react-spring/renderprops';\n\nimport {\n  Container,\n  SandboxImageContainer,\n  SandboxImage,\n  SandboxInfo,\n} from './elements';\n\ntype Props = {\n  id: string;\n  i: number;\n  x: number;\n  y: number;\n  scale: number;\n  isLast: boolean;\n  selectedSandboxes: Array<string>;\n};\n\nexport const AnimatedSandboxItem: React.FC<Props> = ({\n  id,\n  i,\n  x,\n  y,\n  scale,\n  isLast,\n  selectedSandboxes,\n}) => {\n  const [render, setRender] = useState(true);\n  const [position, setPosition] = useState<DOMRect>(null);\n\n  useEffect(() => {\n    let timeout: NodeJS.Timeout;\n\n    const sandboxBrotherItem = document.getElementById(id);\n\n    if (sandboxBrotherItem) {\n      setPosition(sandboxBrotherItem.getBoundingClientRect() as DOMRect);\n    }\n\n    if (i !== 0 && !isLast) {\n      timeout = global.setTimeout(() => {\n        setRender(false);\n      }, 200);\n    }\n\n    return () => {\n      if (timeout) {\n        global.clearTimeout(timeout);\n      }\n    };\n  }, [id, i, isLast]);\n\n  if (!render || !position) {\n    return null;\n  }\n\n  return (\n    <Spring\n      native\n      immediate={i === 0 ? el => el !== 'scale' : false}\n      from={{ x: position.x, y: position.y, shadow: 2, scale: 1 }}\n      to={{ scale, x, y, shadow: isLast ? 16 : 2 }}\n      key={id}\n    >\n      {({ x: newX, y: newY, scale: newScale, shadow: newShadow }) => (\n        <animated.div\n          style={{\n            position: 'absolute',\n            willChange: 'transform',\n            boxShadow:\n              i === 0 || isLast\n                ? interpolate(\n                    [newShadow],\n                    s => `0 ${s}px ${s * 2}px rgba(0, 0, 0, 0.3)`\n                  )\n                : 'inherit',\n            transform: interpolate(\n              [newX, newY, newScale],\n              (xx, yy, zz) =>\n                `translate3d(${xx}px, ${yy}px, 0px) scale3d(${zz}, ${zz}, ${zz})`\n            ),\n            zIndex: i === 0 ? 20 : 10,\n          }}\n        >\n          <Container>\n            <SandboxImageContainer>\n              <SandboxImage\n                style={{\n                  backgroundImage: `url(${`https://codesandbox.io/api/v1/sandboxes/${id}/screenshot.png`})`,\n                }}\n              />\n            </SandboxImageContainer>\n            <SandboxInfo>\n              {selectedSandboxes.length}{' '}\n              {selectedSandboxes.length === 1 ? 'Sandbox' : 'Sandboxes'}\n            </SandboxInfo>\n          </Container>\n        </animated.div>\n      )}\n    </Spring>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  height: 210px;\n  width: 346px;\n\n  background-color: ${props => props.theme.background};\n  border-radius: 2px;\n`;\n\nexport const SandboxImageContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: stretch;\n  height: 160px;\n\n  background-color: rgba(255, 255, 255, 0.1);\n`;\n\nexport const SandboxImage = styled.div`\n  background-size: contain;\n  background-position: 50%;\n  background-repeat: no-repeat;\n  width: 100%;\n`;\n\nexport const SandboxInfo = styled.div`\n  padding: 0.6rem 0.75rem;\n  font-size: 1em;\n`;\n","import styled, { css } from 'styled-components';\nimport { NavLink } from 'react-router-dom';\nimport ChevronRight from 'react-icons/lib/md/chevron-right';\n\nexport const AnimatedChevron = styled(ChevronRight)`\n  transition: 0.25s ease transform;\n  transform: rotate(${props => (props.open ? 90 : 0)}deg);\n  margin-right: 0.25rem;\n  width: 1rem;\n`;\n\nexport const Container = styled(NavLink)`\n  transition: 0.3s ease all;\n  display: flex;\n  width: 100%;\n  height: 2.5rem;\n  user-select: none;\n\n  align-items: center;\n\n  padding: 0 0.5rem;\n  box-sizing: border-box;\n\n  color: ${props => props.theme.placeholder};\n  text-decoration: none;\n  background-color: transparent;\n\n  cursor: pointer;\n  position: relative;\n\n  &:hover {\n    color: white;\n  }\n\n  ${props =>\n    props.active &&\n    css`\n      background-color: ${props.theme.secondary};\n      color: white;\n    `};\n`;\n\nexport const IconContainer = styled.div`\n  display: flex;\n  align-items: center;\n  width: 2rem;\n  font-size: 1.25rem;\n`;\n\nexport const ItemName = styled.div`\n  font-size: 0.875rem;\n`;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport { Animate } from 'react-show';\nimport { ContextMenu } from 'app/components/ContextMenu';\nimport {\n  AnimatedChevron,\n  Container,\n  IconContainer,\n  ItemName,\n} from './elements';\n\nconst getContainer = contextItems => {\n  if (contextItems) {\n    return props => (\n      <ContextMenu items={contextItems}>\n        {React.createElement(Container, props)}\n      </ContextMenu>\n    );\n  }\n\n  return Container;\n};\n\nexport class Item extends React.Component {\n  state = {\n    open: this.props.openByDefault,\n  };\n\n  toggleOpen = e => {\n    e.preventDefault();\n    this.setState(state => ({ open: !state.open }));\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.openByDefault === true && !this.props.openByDefault) {\n      this.setState({ open: true });\n    }\n  }\n\n  render() {\n    const {\n      name,\n      contextItems,\n      Icon,\n      path,\n      children,\n      style,\n      active,\n      noActive,\n      ...props\n    } = this.props;\n\n    const UsedContainer = getContainer(contextItems);\n\n    return (\n      <Route path={path}>\n        {res => {\n          const isActive =\n            (!noActive && res.match && res.match.isExact) || active;\n          const isOpen =\n            this.state.open === undefined ? isActive : this.state.open;\n\n          if (\n            (res.match || isActive) &&\n            this.state.open === undefined &&\n            children\n          ) {\n            this.setState({ open: true });\n          }\n          return (\n            <>\n              <UsedContainer\n                style={style}\n                to={path}\n                exact\n                active={isActive}\n                {...props}\n              >\n                {children ? (\n                  <AnimatedChevron onClick={this.toggleOpen} open={isOpen} />\n                ) : (\n                  <div\n                    style={{ width: 16, height: 16, marginRight: '0.25rem' }}\n                  />\n                )}\n                <IconContainer>\n                  <Icon />\n                </IconContainer>\n                <ItemName>{name}</ItemName>\n              </UsedContainer>\n\n              {children && (\n                <Animate\n                  transitionOnMount\n                  style={{\n                    height: 'auto',\n                    overflow: 'hidden',\n                  }}\n                  start={{\n                    height: 0, // The starting style for the component.\n                    // If the 'leave' prop isn't defined, 'start' is reused!\n                  }}\n                  show={isOpen}\n                  duration={250}\n                  stayMounted={false}\n                >\n                  {children}\n                </Animate>\n              )}\n            </>\n          );\n        }}\n      </Route>\n    );\n  }\n}\n","import { basename, join } from 'path';\n\nimport { client } from 'app/graphql/client';\n\nimport {\n  ADD_SANDBOXES_TO_FOLDER_MUTATION,\n  PATHED_SANDBOXES_CONTENT_QUERY,\n  RENAME_FOLDER_MUTATION,\n} from '../../queries';\n\nfunction addSandboxesToCollection(props, item) {\n  const { path, teamId, selectedSandboxes } = props;\n\n  client.mutate({\n    mutation: ADD_SANDBOXES_TO_FOLDER_MUTATION,\n    variables: {\n      collectionPath: path || '/',\n      teamId,\n      sandboxIds: selectedSandboxes,\n    },\n    optimisticResponse: {\n      __typename: 'Mutation',\n      addToCollection: {\n        __typename: 'Collection',\n        // We keep this empty, because it will be loaded later regardless. We\n        // just want the main directory to update immediately\n        sandboxes: [],\n      },\n    },\n\n    refetchQueries: ['DeletedSandboxes'],\n\n    update: (cache, { data: { addToCollection } }) => {\n      // Update new folder\n      try {\n        const usedPath = path || '/';\n        const variables = { path: usedPath };\n\n        if (teamId) {\n          variables.teamId = teamId;\n        }\n\n        const cacheData = cache.readQuery({\n          query: PATHED_SANDBOXES_CONTENT_QUERY,\n          variables,\n        });\n\n        cacheData.me.collection.sandboxes = addToCollection.sandboxes;\n\n        cache.writeQuery({\n          query: PATHED_SANDBOXES_CONTENT_QUERY,\n          variables,\n          data: cacheData,\n        });\n      } catch (e) {\n        // Means that the cache didn't exist yet, no biggie\n      }\n\n      if (!item.removedAt) {\n        // Update old folders\n        const { collectionPath } = item;\n\n        const variables = { path: collectionPath };\n\n        if (item.collectionTeamId) {\n          variables.teamId = item.collectionTeamId;\n        }\n\n        const oldFolderCacheData = cache.readQuery({\n          query: PATHED_SANDBOXES_CONTENT_QUERY,\n          variables,\n        });\n\n        oldFolderCacheData.me.collection.sandboxes = oldFolderCacheData.me.collection.sandboxes.filter(\n          x => !selectedSandboxes.includes(x.id)\n        );\n\n        cache.writeQuery({\n          query: PATHED_SANDBOXES_CONTENT_QUERY,\n          variables,\n          data: oldFolderCacheData,\n        });\n      }\n    },\n  });\n}\n\nfunction addFolderToFolder(props, item) {\n  const newPath = join(props.path || '/', basename(item.path));\n  client.mutate({\n    mutation: RENAME_FOLDER_MUTATION,\n    refetchQueries: ['PathedSandboxesFolders'],\n    variables: {\n      path: item.path,\n      newPath,\n      teamId: item.teamId,\n      newTeamId: props.teamId,\n    },\n  });\n}\n\nexport const entryTarget = {\n  drop: (props, monitor) => {\n    if (monitor == null) return;\n\n    // Check if only child is selected:\n    if (!monitor.isOver({ shallow: true })) return;\n\n    const type = monitor.getItemType();\n    const item = monitor.getItem();\n\n    if (item && type) {\n      switch (type) {\n        case 'SANDBOX': {\n          addSandboxesToCollection(props, item);\n          break;\n        }\n        case 'FOLDER': {\n          addFolderToFolder(props, item);\n          break;\n        }\n\n        default:\n          break;\n      }\n    }\n  },\n\n  canDrop: (props, monitor) => {\n    if (monitor == null) return false;\n    const source = monitor.getItem();\n    if (source == null) return false;\n\n    const type = monitor.getItemType();\n\n    if (type === 'SANDBOX') {\n      if (\n        !source.removedAt &&\n        source.collectionPath === (props.path || '/') &&\n        // Double check because we may compare null to undefined\n        // eslint-disable-next-line eqeqeq\n        source.collectionTeamId == props.teamId\n      ) {\n        return false;\n      }\n      return true;\n    }\n    return source.path !== props.path;\n  },\n};\n\nexport function collectTarget(connectMonitor, monitor) {\n  return {\n    // Call this function inside render()\n    // to let React DnD handle the drag events:\n    connectDropTarget: connectMonitor.dropTarget(),\n    // You can ask the monitor about the current drag state:\n    isOver: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n    itemType: monitor.getItemType(),\n  };\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  margin: 0.25rem 0;\n  color: rgba(255, 255, 255, 0.6);\n  font-weight: 600;\n  font-size: 0.875rem;\n`;\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\nimport ChevronRight from 'react-icons/lib/md/chevron-right';\n\nexport const Container = styled(NavLink)<{\n  depth?: number;\n}>`\n  transition: 0.25s ease all;\n  display: flex;\n  align-items: center;\n  height: 2rem;\n\n  color: rgba(255, 255, 255, 0.6);\n  text-decoration: none;\n\n  border-left: 2px solid transparent;\n  padding-left: ${props => 1 + (props.depth || 0) * 0.75}rem;\n\n  user-select: none;\n\n  cursor: pointer;\n\n  &:hover {\n    color: rgba(255, 255, 255, 0.8);\n  }\n\n  &:focus {\n    outline: none;\n    border-color: ${props => props.theme.secondary.clearer(0.5)};\n    color: rgba(255, 255, 255, 0.8);\n  }\n`;\n\nexport const CreateDirectoryContainer = Container.withComponent('div');\n\nexport const IconContainer = styled.div`\n  display: flex;\n  align-items: center;\n  width: 3rem;\n  font-size: 1.125rem;\n`;\n\nexport const AnimatedChevron = styled(ChevronRight)<{ open?: boolean }>`\n  transition: 0.25s ease transform;\n  transform: rotate(${props => (props.open ? 90 : 0)}deg);\n  margin-right: 0.25rem;\n`;\n","function addSlash(path: string) {\n  if (path.endsWith('/')) {\n    return path;\n  }\n\n  return path + '/';\n}\n\nexport default function getDirectChildren(\n  currentPath: string,\n  children: Array<{ path: string }>\n): Set<string> {\n  const usedChildren = new Set();\n\n  children.forEach(c => {\n    const { path } = c;\n\n    const normalizedPath = addSlash(path);\n    const normalizedCurrentPath = addSlash(currentPath);\n    const basePath = normalizedPath.replace(normalizedCurrentPath, '');\n\n    if (basePath === normalizedPath) {\n      return undefined;\n    }\n    const normalizedBasePath = addSlash(basePath);\n\n    const directChildPart = normalizedBasePath.match(/(.*?)\\//);\n\n    if (directChildPart && directChildPart[1]) {\n      usedChildren.add(directChildPart[1]);\n    }\n\n    return undefined;\n  });\n\n  return usedChildren;\n}\n","import React from 'react';\nimport { Mutation } from 'react-apollo';\n\nimport AddFolderIcon from 'react-icons/lib/md/create-new-folder';\nimport Input from '@codesandbox/common/lib/components/Input';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { ESC } from '@codesandbox/common/lib/utils/keycodes';\n\nimport {\n  CreateDirectoryContainer,\n  IconContainer,\n  AnimatedChevron,\n} from './elements';\n\nimport {\n  PATHED_SANDBOXES_FOLDER_QUERY,\n  CREATE_FOLDER_MUTATION,\n} from '../../../queries';\n\ninterface Props {\n  basePath: string;\n  teamId: string | undefined;\n  close: () => void;\n  depth: number;\n  noFocus?: boolean;\n}\n\nexport const CreateFolderEntry = ({\n  basePath,\n  teamId,\n  noFocus,\n  close,\n  depth,\n}: Props) => {\n  let input;\n  return (\n    <Mutation mutation={CREATE_FOLDER_MUTATION}>\n      {mutate => (\n        <form\n          onSubmit={e => {\n            e.preventDefault();\n            const path = basePath + '/' + input.value;\n\n            track('Dashboard - Create Directory', {\n              path,\n            });\n\n            mutate({\n              variables: { path, teamId },\n              optimisticResponse: {\n                __typename: 'Mutation',\n                createCollection: {\n                  id: 'optimistic-id',\n                  path,\n                  __typename: 'Collection',\n                },\n              },\n              update: (proxy, { data: { createCollection } }) => {\n                const variables: { teamId?: string } = {};\n                if (teamId) {\n                  variables.teamId = teamId;\n                }\n                // Read the data from our cache for this query.\n                const d: { me: any } = proxy.readQuery({\n                  query: PATHED_SANDBOXES_FOLDER_QUERY,\n                  variables,\n                });\n\n                // Add our collection from the mutation to the end.\n                d.me.collections.push(createCollection);\n                // Write our data back to the cache.\n                proxy.writeQuery({\n                  query: PATHED_SANDBOXES_FOLDER_QUERY,\n                  variables,\n                  data: d,\n                });\n              },\n            });\n\n            input.value = '';\n\n            close();\n          }}\n        >\n          <CreateDirectoryContainer depth={depth + 1}>\n            <IconContainer style={{ marginRight: '0.25rem' }}>\n              <AnimatedChevron open={false} />\n              <AddFolderIcon />\n            </IconContainer>{' '}\n            <Input\n              placeholder=\"Folder Name\"\n              style={{ marginRight: '1rem' }}\n              onBlur={close}\n              onKeyDown={e => {\n                if (e.keyCode === ESC) {\n                  e.preventDefault();\n                  close();\n                }\n              }}\n              ref={el => {\n                if (el) {\n                  if (!noFocus) {\n                    el.focus();\n                    el.select();\n                  }\n                  input = el;\n                }\n              }}\n              block\n            />\n          </CreateDirectoryContainer>\n        </form>\n      )}\n    </Mutation>\n  );\n};\n","import React from 'react';\n\nimport FolderIcon from 'react-icons/lib/md/folder';\nimport AddFolderIcon from 'react-icons/lib/md/create-new-folder';\nimport RenameIcon from 'react-icons/lib/md/mode-edit';\nimport TrashIcon from 'react-icons/lib/md/delete';\nimport { Mutation } from 'react-apollo';\nimport { DropTarget, DragSource } from 'react-dnd';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { withRouter } from 'react-router-dom';\nimport { History } from 'history';\nimport { client } from 'app/graphql/client';\n\nimport { Animate as ReactShow } from 'react-show';\nimport { join, dirname } from 'path';\n\nimport theme from '@codesandbox/common/lib/theme';\n\nimport { ContextMenu } from 'app/components/ContextMenu';\n\nimport Input from '@codesandbox/common/lib/components/Input';\nimport {\n  ARROW_LEFT,\n  ARROW_RIGHT,\n  ESC,\n} from '@codesandbox/common/lib/utils/keycodes';\n\nimport {\n  PathedSandboxesFoldersQuery,\n  PathedSandboxesFoldersQueryVariables,\n} from 'app/graphql/types';\nimport { Container, AnimatedChevron, IconContainer } from './elements';\n\nimport getDirectChildren from '../../../utils/get-direct-children';\nimport { entryTarget, collectTarget } from '../folder-drop-target';\n\nimport { CreateFolderEntry } from './CreateFolderEntry';\n\nimport {\n  PATHED_SANDBOXES_FOLDER_QUERY,\n  PATHED_SANDBOXES_CONTENT_QUERY,\n  DELETE_FOLDER_MUTATION,\n  RENAME_FOLDER_MUTATION,\n} from '../../../queries';\n\ntype Props = {\n  name: string;\n  path: string;\n  url: string;\n  folders: { path: string }[];\n  foldersByPath: { [path: string]: string };\n  selectedSandboxes: string[];\n  depth: number;\n  toToggle?: boolean;\n  allowCreate?: boolean;\n  open?: boolean;\n  basePath: string;\n  teamId: string;\n  onSelect: (params: { teamId: string; path: string }) => void;\n  currentPath: string;\n  currentTeamId: string;\n\n  // dnd handlers\n  canDrop?: boolean;\n  isOver?: boolean;\n  isDragging?: boolean;\n  connectDropTarget?: any;\n  connectDragSource?: any;\n\n  history?: History;\n};\n\ntype State = {\n  open: boolean;\n  creatingDirectory: boolean;\n  renamingDirectory: boolean;\n};\n\n// eslint-disable-next-line import/no-mutable-exports\nlet DropFolderEntry: React.ComponentClass<Props, State> = null;\nclass FolderEntry extends React.Component<Props, State> {\n  state = {\n    open: this.props.open,\n    creatingDirectory: false,\n    renamingDirectory: false,\n  };\n\n  static defaultProps = {\n    depth: 0,\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (\n      (this.state.open == null || this.state.open === false) &&\n      nextProps.open === true\n    ) {\n      this.setState({ open: true });\n    }\n  }\n\n  toggleOpen = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState(state => ({ open: !state.open }));\n  };\n\n  handleBlur = () => {\n    this.setState({ renamingDirectory: false, open: true });\n  };\n\n  handleSelect = () => {\n    this.props.onSelect({\n      teamId: this.props.teamId,\n      path: this.props.path,\n    });\n  };\n\n  handleKeyDown = e => {\n    if (!this.state.renamingDirectory) {\n      if (e.keyCode === ARROW_RIGHT) {\n        this.setState({ open: true });\n      } else if (e.keyCode === ARROW_LEFT) {\n        this.setState({ open: false });\n      }\n    }\n  };\n\n  render() {\n    const {\n      name,\n      path,\n      url,\n      folders,\n      selectedSandboxes,\n      foldersByPath,\n      depth,\n      isOver,\n      toToggle = true,\n      allowCreate = true,\n      canDrop,\n      connectDropTarget,\n      connectDragSource,\n      isDragging,\n      basePath,\n      teamId,\n      onSelect,\n      currentPath,\n      currentTeamId,\n      history,\n    } = this.props;\n\n    const children = getDirectChildren(path, folders);\n\n    const menuItems = [\n      {\n        title: 'Rename Folder',\n        icon: RenameIcon,\n        action: () => {\n          this.setState({ renamingDirectory: true });\n          return true;\n        },\n      },\n      {\n        title: 'Delete Folder',\n        icon: TrashIcon,\n        color: theme.red.darken(0.2)(),\n        action: () => {\n          track('Dashboard - Folder Deleted');\n          client.mutate({\n            mutation: DELETE_FOLDER_MUTATION,\n            variables: { path, teamId },\n\n            refetchQueries: [\n              {\n                query: PATHED_SANDBOXES_CONTENT_QUERY,\n                variables: { path: '/', teamId },\n              },\n            ],\n            update: (cache, { data: { deleteCollection } }) => {\n              const variables: PathedSandboxesFoldersQueryVariables = {\n                teamId,\n              };\n\n              const cacheData = cache.readQuery<\n                PathedSandboxesFoldersQuery,\n                PathedSandboxesFoldersQueryVariables\n              >({\n                query: PATHED_SANDBOXES_FOLDER_QUERY,\n                variables,\n              });\n\n              cache.writeQuery({\n                query: PATHED_SANDBOXES_FOLDER_QUERY,\n                variables,\n                data: {\n                  ...cacheData,\n                  me: {\n                    // @ts-ignore\n                    ...cacheData.me,\n                    collections: deleteCollection,\n                  },\n                },\n              });\n            },\n          });\n\n          const subPath = path\n            .split('/')\n            .slice(0, -1)\n            .join('/');\n\n          history.replace(`${basePath}${subPath}`);\n\n          return true;\n        },\n      },\n    ];\n\n    if (allowCreate) {\n      menuItems.unshift({\n        title: 'Create Folder',\n        icon: AddFolderIcon,\n        action: () => {\n          this.setState({ creatingDirectory: true, open: true });\n          return true;\n        },\n      });\n    }\n\n    // TODO: fix the typings of this container and make sure it works with `as`\n    const UnTypedContainer = Container as any;\n\n    return connectDropTarget(\n      connectDragSource(\n        <div>\n          <ContextMenu items={menuItems}>\n            <UnTypedContainer\n              as={onSelect ? 'div' : undefined}\n              onClick={onSelect ? this.handleSelect : undefined}\n              style={{\n                color: isOver && canDrop ? theme.secondary() : undefined,\n                backgroundColor:\n                  isOver && canDrop ? 'rgba(0, 0, 0, 0.3)' : undefined,\n\n                ...(decodeURIComponent(currentPath) === path &&\n                currentTeamId === teamId\n                  ? {\n                      borderColor: theme.secondary(),\n                      color: 'white',\n                    }\n                  : {}),\n              }}\n              exact\n              depth={depth}\n              to={url}\n              onKeyDown={this.handleKeyDown}\n              tabIndex={0}\n            >\n              <IconContainer>\n                {toToggle ? (\n                  <AnimatedChevron\n                    onClick={this.toggleOpen}\n                    open={this.state.open}\n                    style={{ opacity: children.size > 0 ? 1 : 0 }}\n                  />\n                ) : null}\n                <FolderIcon />\n              </IconContainer>{' '}\n              {this.state.renamingDirectory ? (\n                <Mutation mutation={RENAME_FOLDER_MUTATION}>\n                  {(mutate, { loading }) => {\n                    let input;\n\n                    const submit = e => {\n                      track('Dashboard - Folder Renamed');\n                      if (e) {\n                        e.preventDefault();\n                      }\n                      mutate({\n                        variables: {\n                          path,\n                          newPath: join(dirname(path), input.value),\n                          teamId,\n                          newTeamId: teamId,\n                        },\n                        update: (cache, { data: { renameCollection } }) => {\n                          const variables: { teamId?: string } = {};\n                          if (teamId) {\n                            variables.teamId = teamId;\n                          }\n\n                          const cacheData: { me: any } = cache.readQuery({\n                            query: PATHED_SANDBOXES_FOLDER_QUERY,\n                            variables,\n                          });\n\n                          cache.writeQuery({\n                            query: PATHED_SANDBOXES_FOLDER_QUERY,\n                            data: {\n                              ...cacheData,\n                              me: {\n                                ...cacheData.me,\n                                collections: renameCollection,\n                              },\n                            },\n                            variables,\n                          });\n                          const modifiedPath = path\n                            .split('/')\n                            .slice(0, -1)\n                            .join('/');\n\n                          history.replace(\n                            `${basePath}${modifiedPath}/${input.value}`\n                          );\n                        },\n                      });\n\n                      this.handleBlur();\n                    };\n\n                    return loading ? (\n                      input.value\n                    ) : (\n                      <form onSubmit={submit}>\n                        <Input\n                          block\n                          ref={node => {\n                            if (node) {\n                              input = node;\n                              node.focus();\n                              node.select();\n                            }\n                          }}\n                          defaultValue={name}\n                          onBlur={this.handleBlur}\n                          onKeyDown={e => {\n                            if (e.keyCode === ESC) {\n                              this.handleBlur();\n                            }\n                          }}\n                        />\n                      </form>\n                    );\n                  }}\n                </Mutation>\n              ) : (\n                name\n              )}\n            </UnTypedContainer>\n          </ContextMenu>\n\n          <ReactShow\n            show={\n              children.size > 0 && !isDragging && this.state.open && toToggle\n            }\n            duration={250}\n            stayMounted={false}\n            style={{\n              height: 'auto',\n              overflow: 'hidden',\n            }}\n            transitionOnMount\n            start={{\n              height: 0, // The starting style for the component.\n              // If the 'leave' prop isn't defined, 'start' is reused!\n            }}\n          >\n            {Array.from(children)\n              .sort()\n              .map((childName: string) => {\n                const childPath = join(path, childName);\n                const childUrl = join(url, encodeURIComponent(childName));\n\n                return (\n                  <DropFolderEntry\n                    path={childPath}\n                    selectedSandboxes={selectedSandboxes}\n                    url={childUrl}\n                    basePath={basePath}\n                    teamId={teamId}\n                    folders={folders}\n                    foldersByPath={foldersByPath}\n                    key={childName}\n                    name={childName}\n                    depth={this.props.depth + 1}\n                    open={currentPath.indexOf(childPath) === 0}\n                    onSelect={onSelect}\n                    currentPath={currentPath}\n                    currentTeamId={currentTeamId}\n                  />\n                );\n              })}\n          </ReactShow>\n          {this.state.creatingDirectory && (\n            <CreateFolderEntry\n              teamId={teamId}\n              depth={this.props.depth}\n              close={() => this.setState({ creatingDirectory: false })}\n              basePath={path}\n            />\n          )}\n        </div>\n      )\n    );\n  }\n}\n\nconst entrySource = {\n  canDrag: () => true,\n\n  beginDrag: props => {\n    if (props.closeTree) props.closeTree();\n    return {\n      path: props.path,\n      teamId: props.teamId,\n    };\n  },\n};\nconst collectSource = (connect, monitor) => ({\n  connectDragSource: connect.dragSource(),\n  isDragging: monitor.isDragging(),\n});\n\nDropFolderEntry = (withRouter(\n  // @ts-ignore Don't know how to mix dnd and react-router with right typings\n  DropTarget(\n    ['SANDBOX', 'FOLDER'],\n    entryTarget,\n    collectTarget\n  )(DragSource('FOLDER', entrySource, collectSource)(FolderEntry))\n) as unknown) as React.ComponentClass<Props, State>;\n\nexport { DropFolderEntry };\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { DropTarget } from 'react-dnd';\nimport AddFolderIcon from 'react-icons/lib/md/create-new-folder';\nimport { Query } from 'react-apollo';\nimport { DelayedAnimation } from 'app/components/DelayedAnimation';\nimport InfoIcon from '-!svg-react-loader!@codesandbox/common/lib/icons/sandbox.svg';\nimport { Item } from '../Item';\nimport { Container } from './elements';\nimport { DropFolderEntry } from './FolderEntry';\nimport { CreateFolderEntry } from './FolderEntry/CreateFolderEntry';\n\nimport { entryTarget, collectTarget } from './folder-drop-target';\n\nimport getChildCollections from '../../utils/get-child-collections';\n\nimport { PATHED_SANDBOXES_FOLDER_QUERY } from '../../queries';\n\nclass SandboxesItemComponent extends React.Component {\n  state = {\n    creatingDirectory: false,\n  };\n\n  handleSelect = () => {\n    this.props.onSelect({\n      path: '/',\n      teamId: this.props.teamId,\n    });\n  };\n\n  render() {\n    const {\n      isOver,\n      canDrop,\n      teamId,\n      teamName,\n      connectDropTarget,\n      openByDefault,\n      onSelect,\n      currentPath,\n      currentTeamId,\n      selectedSandboxes,\n    } = this.props;\n\n    const basePath = teamId\n      ? `/dashboard/teams/${teamId}/sandboxes`\n      : '/dashboard/sandboxes';\n\n    return connectDropTarget(\n      <div>\n        <Item\n          as={onSelect ? 'div' : undefined}\n          onClick={onSelect ? this.handleSelect : undefined}\n          active={currentPath === '/' && currentTeamId === teamId}\n          openByDefault={openByDefault}\n          path={basePath}\n          Icon={InfoIcon}\n          name={teamId ? `${teamName || 'Team'} Sandboxes` : 'My Sandboxes'}\n          style={\n            isOver && canDrop ? { backgroundColor: 'rgba(0, 0, 0, 0.3)' } : {}\n          }\n          contextItems={[\n            {\n              title: 'Create Folder',\n              icon: AddFolderIcon,\n              action: () => {\n                this.setState({ creatingDirectory: true });\n                return true;\n              },\n            },\n          ]}\n        >\n          <Query variables={{ teamId }} query={PATHED_SANDBOXES_FOLDER_QUERY}>\n            {({ data, loading, error }) => {\n              if (loading) {\n                return (\n                  <DelayedAnimation\n                    style={{\n                      margin: '1rem',\n                      fontWeight: 600,\n                      color: 'rgba(255, 255, 255, 0.6)',\n                    }}\n                    delay={0.6}\n                  >\n                    Loading...\n                  </DelayedAnimation>\n                );\n              }\n\n              if (error || !data.me) {\n                return <div>Error!</div>;\n              }\n              const { children, folders, foldersByPath } = getChildCollections(\n                data.me.collections\n              );\n\n              return (\n                <Container>\n                  {Array.from(children)\n                    .sort()\n                    .map(name => {\n                      const path = '/' + name;\n                      const url = basePath + '/' + encodeURIComponent(name);\n                      return (\n                        <DropFolderEntry\n                          key={path}\n                          selectedSandboxes={selectedSandboxes}\n                          basePath={basePath}\n                          teamId={teamId}\n                          path={path}\n                          url={url}\n                          folders={folders}\n                          foldersByPath={foldersByPath}\n                          name={name}\n                          open={\n                            currentPath.indexOf(path) === 0 &&\n                            currentTeamId === teamId\n                          }\n                          onSelect={onSelect}\n                          currentPath={currentPath}\n                          currentTeamId={currentTeamId}\n                        />\n                      );\n                    })}\n                  {(this.state.creatingDirectory || children.size === 0) && (\n                    <CreateFolderEntry\n                      teamId={teamId}\n                      noFocus={!this.state.creatingDirectory}\n                      basePath=\"\"\n                      close={() => {\n                        this.setState({ creatingDirectory: false });\n                      }}\n                    />\n                  )}\n                </Container>\n              );\n            }}\n          </Query>\n        </Item>\n      </div>\n    );\n  }\n}\n\nexport const SandboxesItem = DropTarget(\n  ['SANDBOX', 'FOLDER'],\n  entryTarget,\n  collectTarget\n)(withRouter(SandboxesItemComponent));\n","import getDirectChildren from './get-direct-children';\n\nexport default function getChildCollections(folders, path = '/') {\n  const foldersByPath = {};\n\n  folders.forEach(collection => {\n    foldersByPath[collection.path] = collection;\n  });\n\n  return {\n    children: getDirectChildren(path, folders),\n    folders,\n    foldersByPath,\n  };\n}\n","import { client } from 'app/graphql/client';\nimport {\n  AddToCollectionMutation,\n  AddToCollectionMutationVariables,\n  DeleteSandboxesMutation,\n  DeleteSandboxesMutationVariables,\n  DeletedSandboxesQuery,\n  DeletedSandboxesQueryVariables,\n  PathedSandboxesQuery,\n  PathedSandboxesQueryVariables,\n  PermanentlyDeleteSandboxesMutation,\n  PermanentlyDeleteSandboxesMutationVariables,\n} from 'app/graphql/types';\nimport gql from 'graphql-tag';\nimport immer from 'immer';\n\nconst SIDEBAR_COLLECTION_FRAGMENT = gql`\n  fragment SidebarCollection on Collection {\n    id\n    path\n  }\n`;\n\nexport const SANDBOX_FRAGMENT = gql`\n  fragment Sandbox on Sandbox {\n    id\n    alias\n    title\n    description\n    insertedAt\n    updatedAt\n    removedAt\n    privacy\n    screenshotUrl\n    screenshotOutdated\n\n    source {\n      template\n    }\n\n    customTemplate {\n      id\n    }\n\n    forkedTemplate {\n      id\n      color\n    }\n\n    collection {\n      path\n      teamId\n    }\n  }\n`;\n\nconst TEAM_FRAGMENT = gql`\n  fragment Team on Team {\n    id\n    name\n    inviteToken\n    description\n    creatorId\n\n    users {\n      id\n      name\n      username\n      avatarUrl\n    }\n\n    invitees {\n      id\n      name\n      username\n      avatarUrl\n    }\n  }\n`;\n\nexport const TEAMS_QUERY = gql`\n  query TeamsSidebar {\n    me {\n      teams {\n        id\n        name\n      }\n    }\n  }\n`;\n\nexport const CREATE_TEAM_MUTATION = gql`\n  mutation CreateTeam($name: String!) {\n    createTeam(name: $name) {\n      ...Team\n    }\n  }\n  ${TEAM_FRAGMENT}\n`;\n\nexport const PATHED_SANDBOXES_FOLDER_QUERY = gql`\n  query PathedSandboxesFolders($teamId: ID) {\n    me {\n      collections(teamId: $teamId) {\n        ...SidebarCollection\n      }\n    }\n  }\n  ${SIDEBAR_COLLECTION_FRAGMENT}\n`;\n\nexport const CREATE_FOLDER_MUTATION = gql`\n  mutation createCollection($path: String!, $teamId: ID) {\n    createCollection(path: $path, teamId: $teamId) {\n      ...SidebarCollection\n    }\n  }\n  ${SIDEBAR_COLLECTION_FRAGMENT}\n`;\n\nexport const DELETE_FOLDER_MUTATION = gql`\n  mutation deleteCollection($path: String!, $teamId: ID) {\n    deleteCollection(path: $path, teamId: $teamId) {\n      ...SidebarCollection\n    }\n  }\n  ${SIDEBAR_COLLECTION_FRAGMENT}\n`;\n\nexport const RENAME_FOLDER_MUTATION = gql`\n  mutation renameCollection(\n    $path: String!\n    $newPath: String!\n    $teamId: ID\n    $newTeamId: ID\n  ) {\n    renameCollection(\n      path: $path\n      newPath: $newPath\n      teamId: $teamId\n      newTeamId: $newTeamId\n    ) {\n      ...SidebarCollection\n    }\n  }\n  ${SIDEBAR_COLLECTION_FRAGMENT}\n`;\n\nexport const ADD_SANDBOXES_TO_FOLDER_MUTATION = gql`\n  mutation AddToCollection(\n    $collectionPath: String!\n    $sandboxIds: [ID!]!\n    $teamId: ID\n  ) {\n    addToCollection(\n      collectionPath: $collectionPath\n      sandboxIds: $sandboxIds\n      teamId: $teamId\n    ) {\n      sandboxes {\n        ...Sandbox\n      }\n    }\n  }\n  ${SANDBOX_FRAGMENT}\n`;\n\nexport const DELETE_SANDBOXES_MUTATION = gql`\n  mutation DeleteSandboxes($sandboxIds: [ID!]!) {\n    deleteSandboxes(sandboxIds: $sandboxIds) {\n      ...Sandbox\n    }\n  }\n  ${SANDBOX_FRAGMENT}\n`;\n\nexport const SET_SANDBOXES_PRIVACY_MUTATION = gql`\n  mutation SetSandboxesPrivacy($sandboxIds: [ID!]!, $privacy: Int!) {\n    setSandboxesPrivacy(sandboxIds: $sandboxIds, privacy: $privacy) {\n      ...Sandbox\n    }\n  }\n  ${SANDBOX_FRAGMENT}\n`;\n\nexport const RENAME_SANDBOX_MUTATION = gql`\n  mutation RenameSandbox($id: ID!, $title: String!) {\n    renameSandbox(id: $id, title: $title) {\n      ...Sandbox\n    }\n  }\n  ${SANDBOX_FRAGMENT}\n`;\n\nexport const PERMANENTLY_DELETE_SANDBOXES_MUTATION = gql`\n  mutation PermanentlyDeleteSandboxes($sandboxIds: [ID!]!) {\n    permanentlyDeleteSandboxes(sandboxIds: $sandboxIds) {\n      id\n    }\n  }\n`;\n\nexport const PATHED_SANDBOXES_CONTENT_QUERY = gql`\n  query PathedSandboxes($path: String!, $teamId: ID) {\n    me {\n      collections(teamId: $teamId) {\n        ...SidebarCollection\n      }\n      collection(path: $path, teamId: $teamId) {\n        id\n        path\n        sandboxes {\n          ...Sandbox\n        }\n      }\n    }\n  }\n  ${SANDBOX_FRAGMENT}\n  ${SIDEBAR_COLLECTION_FRAGMENT}\n`;\n\nexport const RECENT_SANDBOXES_CONTENT_QUERY = gql`\n  query RecentSandboxes($orderField: String!, $orderDirection: Direction!) {\n    me {\n      sandboxes(\n        limit: 20\n        orderBy: { field: $orderField, direction: $orderDirection }\n      ) {\n        ...Sandbox\n      }\n    }\n  }\n  ${SANDBOX_FRAGMENT}\n`;\n\nexport const SEARCH_SANDBOXES_QUERY = gql`\n  query SearchSandboxes {\n    me {\n      sandboxes(orderBy: { field: \"updated_at\", direction: DESC }) {\n        ...Sandbox\n      }\n    }\n  }\n  ${SANDBOX_FRAGMENT}\n`;\n\nexport const DELETED_SANDBOXES_CONTENT_QUERY = gql`\n  query DeletedSandboxes {\n    me {\n      sandboxes(\n        showDeleted: true\n        orderBy: { field: \"updated_at\", direction: DESC }\n      ) {\n        ...Sandbox\n      }\n    }\n  }\n  ${SANDBOX_FRAGMENT}\n`;\n\nexport function addSandboxesToFolder(\n  selectedSandboxes,\n  path: string,\n  teamId: string | null\n) {\n  return client.mutate<\n    AddToCollectionMutation,\n    AddToCollectionMutationVariables\n  >({\n    mutation: ADD_SANDBOXES_TO_FOLDER_MUTATION,\n    variables: {\n      sandboxIds: selectedSandboxes,\n      teamId,\n      collectionPath: path,\n    },\n    optimisticResponse: {\n      __typename: 'RootMutationType',\n      addToCollection: {\n        __typename: 'Collection',\n        // We keep this empty, because it will be loaded later regardless. We\n        // just want the main directory to update immediately\n        sandboxes: [],\n      },\n    },\n\n    refetchQueries: ['PathedSandboxes'],\n  });\n}\n\nexport function undeleteSandboxes(selectedSandboxes) {\n  client.mutate<AddToCollectionMutation, AddToCollectionMutationVariables>({\n    mutation: ADD_SANDBOXES_TO_FOLDER_MUTATION,\n    // @ts-ignore\n    variables: {\n      sandboxIds: selectedSandboxes.toJS\n        ? selectedSandboxes.toJS()\n        : selectedSandboxes,\n      collectionPath: '/',\n    },\n    optimisticResponse: {\n      __typename: 'RootMutationType',\n      addToCollection: {\n        __typename: 'Collection',\n        // We keep this empty, because it will be loaded later regardless. We\n        // just want the main directory to update immediately\n        sandboxes: [],\n      },\n    },\n\n    refetchQueries: ['DeletedSandboxes'],\n  });\n}\n\nexport function permanentlyDeleteSandboxes(selectedSandboxes: string[]) {\n  return client.mutate<\n    PermanentlyDeleteSandboxesMutation,\n    PermanentlyDeleteSandboxesMutationVariables\n  >({\n    mutation: PERMANENTLY_DELETE_SANDBOXES_MUTATION,\n    variables: {\n      sandboxIds: selectedSandboxes,\n    },\n    update: cache => {\n      try {\n        const oldDeleteCache = cache.readQuery<\n          DeletedSandboxesQuery,\n          DeletedSandboxesQueryVariables\n        >({\n          query: DELETED_SANDBOXES_CONTENT_QUERY,\n        });\n\n        const newDeleteCache = {\n          ...oldDeleteCache,\n          me: {\n            ...(oldDeleteCache && oldDeleteCache.me ? oldDeleteCache.me : null),\n            sandboxes: (oldDeleteCache?.me?.sandboxes || []).filter(\n              x => !selectedSandboxes.includes(x.id)\n            ),\n          },\n        };\n\n        cache.writeQuery({\n          query: DELETED_SANDBOXES_CONTENT_QUERY,\n          data: newDeleteCache,\n        });\n      } catch (e) {\n        // cache doesn't exist, no biggie!\n      }\n    },\n  });\n}\n\nexport function deleteSandboxes(selectedSandboxes, collections = []) {\n  client.mutate<DeleteSandboxesMutation, DeleteSandboxesMutationVariables>({\n    mutation: DELETE_SANDBOXES_MUTATION,\n    variables: {\n      sandboxIds: selectedSandboxes.toJS\n        ? selectedSandboxes.toJS()\n        : selectedSandboxes,\n    },\n    refetchQueries: [\n      'DeletedSandboxes',\n      'PathedSandboxes',\n      'RecentSandboxes',\n      'SearchSandboxes',\n    ],\n    update: cache => {\n      if (collections) {\n        collections.forEach(({ path, teamId }) => {\n          try {\n            const variables = {\n              path,\n              teamId,\n            };\n\n            const oldFolderCacheData = cache.readQuery<\n              PathedSandboxesQuery,\n              PathedSandboxesQueryVariables\n            >({\n              query: PATHED_SANDBOXES_CONTENT_QUERY,\n              variables,\n            });\n\n            const data = immer(oldFolderCacheData, draft => {\n              if (\n                !draft?.me?.collection ||\n                !oldFolderCacheData?.me?.collection?.sandboxes\n              ) {\n                return;\n              }\n              draft.me.collection.sandboxes = oldFolderCacheData.me.collection.sandboxes.filter(\n                x => !selectedSandboxes.includes(x?.id)\n              );\n            });\n\n            if (data) {\n              cache.writeQuery<\n                PathedSandboxesQuery,\n                PathedSandboxesQueryVariables\n              >({\n                query: PATHED_SANDBOXES_CONTENT_QUERY,\n                variables,\n                data,\n              });\n            }\n          } catch (e) {\n            // cache doesn't exist, no biggie!\n          }\n        });\n      }\n    },\n  });\n}\n\nexport function setSandboxesPrivacy(\n  selectedSandboxes: string[],\n  privacy: 0 | 1 | 2\n) {\n  client.mutate({\n    mutation: SET_SANDBOXES_PRIVACY_MUTATION,\n    variables: {\n      sandboxIds: selectedSandboxes,\n      privacy,\n    },\n  });\n}\n\nexport const TEAM_QUERY = gql`\n  query Team($id: ID!) {\n    me {\n      team(id: $id) {\n        ...Team\n      }\n    }\n  }\n  ${TEAM_FRAGMENT}\n`;\n\nexport const LEAVE_TEAM = gql`\n  mutation LeaveTeam($teamId: ID!) {\n    leaveTeam(teamId: $teamId)\n  }\n`;\n\nexport const REMOVE_FROM_TEAM = gql`\n  mutation RemoveFromTeam($teamId: ID!, $userId: ID!) {\n    removeFromTeam(teamId: $teamId, userId: $userId) {\n      ...Team\n    }\n  }\n  ${TEAM_FRAGMENT}\n`;\n\nexport const INVITE_TO_TEAM = gql`\n  mutation InviteToTeam($teamId: ID!, $username: String!) {\n    inviteToTeam(teamId: $teamId, username: $username) {\n      ...Team\n    }\n  }\n  ${TEAM_FRAGMENT}\n`;\n\nexport const INVITE_TO_TEAM_VIA_EMAIL = gql`\n  mutation InviteToTeamViaEmail($teamId: ID!, $email: String!) {\n    inviteToTeamViaEmail(teamId: $teamId, email: $email)\n  }\n`;\n\nexport const REVOKE_TEAM_INVITATION = gql`\n  mutation RevokeTeamInvitation($teamId: ID!, $userId: ID!) {\n    revokeTeamInvitation(teamId: $teamId, userId: $userId) {\n      ...Team\n    }\n  }\n  ${TEAM_FRAGMENT}\n`;\n\nexport const ACCEPT_TEAM_INVITATION = gql`\n  mutation AcceptTeamInvitation($teamId: ID!) {\n    acceptTeamInvitation(teamId: $teamId) {\n      ...Team\n    }\n  }\n  ${TEAM_FRAGMENT}\n`;\n\nexport const REJECT_TEAM_INVITATION = gql`\n  mutation RejectTeamInvitation($teamId: ID!) {\n    rejectTeamInvitation(teamId: $teamId)\n  }\n`;\n\nexport const SET_TEAM_DESCRIPTION = gql`\n  mutation SetTeamDescription($teamId: ID!, $description: String!) {\n    setTeamDescription(teamId: $teamId, description: $description) {\n      ...Team\n    }\n  }\n  ${TEAM_FRAGMENT}\n`;\n\nexport const SET_TEAM_NAME = gql`\n  mutation SetTeamName($teamId: ID!, $name: String!) {\n    setTeamName(teamId: $teamId, name: $name) {\n      ...Team\n    }\n  }\n  ${TEAM_FRAGMENT}\n`;\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  ${({ theme }) => css`\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    background-color: ${theme['sideBar.background'] || theme.background};\n    color: ${theme['sideBar.foreground'] || 'inherit'};\n    height: 100%;\n    width: 100%;\n    overflow-y: overlay;\n    overflow-x: auto;\n\n    * {\n      box-sizing: border-box;\n    }\n  `};\n`;\n\n// used in embed\nexport const EntryContainer = styled.div<{\n  active?: boolean;\n  alternative?: boolean;\n  color?: string;\n  depth?: number;\n  editing?: boolean;\n  nameValidationError?: string | null | false;\n  noTransition?: boolean;\n  rightColors?: string[];\n}>`\n  ${({\n    active = false,\n    alternative = false,\n    color: colorProp,\n    depth,\n    editing = false,\n    nameValidationError,\n    noTransition = false,\n    rightColors,\n    theme,\n  }) => {\n    const getSelectedColor = (activeColor: string) => {\n      // some have active as full white and should never be\n      if (activeColor === '#FFFFFF') {\n        return theme.light ? '#6C6C6C' : activeColor;\n      }\n      return activeColor || theme.white();\n    };\n    const color =\n      colorProp ||\n      (alternative\n        ? theme.primary\n        : theme.templateBackgroundColor ||\n          theme.templateColor ||\n          theme.secondary);\n    return css`\n      ${noTransition ? '' : 'transition: 0.3s ease all;'}\n      position: relative;\n      display: flex;\n      font-size: 14px;\n      padding: 0.4rem;\n      padding-left: ${depth != null\n        ? `calc(${depth + 1}rem - 2px)`\n        : 'calc(1rem - 2px)'};\n      padding-right: 3rem;\n      color: ${theme['sideBar.foreground'] ||\n        (theme.light ? '#6c6c6c' : 'rgba(255, 255, 255, 0.5)')};\n      text-decoration: none;\n      font-weight: 400;\n      min-width: 100px;\n      border-left: 2px solid transparent;\n      cursor: pointer;\n      user-select: none;\n      &:hover {\n        ${!(active || editing) &&\n          css`\n            background-color: ${theme['list.hoverBackground'] ||\n              color.clearer(0.9)()};\n            color: ${theme['list.hoverForeground'] ||\n              (theme.light ? '#6c6c6c' : theme.background.lighten(5)())};\n            border-color: ${color.darken(0.4)()};\n          `}\n        > div {\n          opacity: 1 !important;\n        }\n      }\n      ${active &&\n        css`\n          color: ${getSelectedColor(\n            theme['list.activeSelectionForeground']\n          )} !important;\n          border-color: ${color()} !important;\n          background-color: ${color.lighten(0.1).clearer(0.8)()} !important;\n        `};\n      ${editing &&\n        css`\n          color: ${theme.white()};\n          background-color: ${color.clearer(0.9)()};\n          ${nameValidationError &&\n            css`\n              border-color: ${theme.red()} !important;\n              background-color: ${theme['list.invalidItemForeground'] ||\n                theme.redBackground.clearer(0.4)()} !important;\n            `};\n        `};\n      ${rightColors &&\n        css`\n          border-right: 2px solid ${rightColors[0]};\n        `};\n    `;\n  }};\n`;\n","module.exports = __webpack_public_path__ + \"static/media/folder.31ca7ee0.svg\";","module.exports = __webpack_public_path__ + \"static/media/folderOpen.6913563c.svg\";","import { Sandbox, Template } from '@codesandbox/common/lib/types';\nimport TemplateClass from '@codesandbox/common/lib/templates/template';\n\n// TODO: change all calls to this to not use sandbox anymore\nexport const templateColor = (\n  sandbox: Sandbox,\n  templateDef: Template | TemplateClass\n) => {\n  if (templateDef) {\n    return templateDef.color;\n  }\n  return undefined;\n};\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  padding: 1rem;\n  color: ${props => props.theme['sideBar.foreground'] || 'inherit'};\n  box-sizing: border-box;\n  max-height: 100%;\n  overflow: auto;\n`;\n\nexport const Title = styled.h1`\n  display: inline-block;\n  font-weight: 600;\n  font-size: 1.25rem;\n  color: ${props => props.theme['sideBar.foreground'] || 'inherit'};\n  text-transform: uppercase;\n  margin-top: 0;\n  margin-bottom: 0;\n  margin-left: 1rem;\n  flex: 1;\n`;\n\nexport const Description = styled.p`\n  font-size: 1;\n  line-height: 1.4;\n  color: ${props => props.theme['sideBar.foreground'] || 'inherit'};\n`;\n","import { ConfigurationFile } from '@codesandbox/common/lib/templates/configuration/types';\nimport { withTheme } from 'styled-components';\nimport { ThemeProvider } from '@codesandbox/components';\nimport getUI from '@codesandbox/common/lib/templates/configuration/ui';\nimport theme from '@codesandbox/common/lib/theme';\nimport { Module } from '@codesandbox/common/lib/types';\nimport EntryIcons from 'app/pages/Sandbox/Editor/Workspace/Files/DirectoryEntry/Entry/EntryIcons';\nimport getType from 'app/utils/get-type';\nimport { TextOperation } from 'ot';\nimport React from 'react';\n\nimport { Editor, Props as EditorProps } from '../../types'; // eslint-disable-line\nimport { Container, Description, Title } from './elements';\n\ntype Disposable = {\n  dispose: () => void;\n};\n\ntype Props = EditorProps & {\n  config: ConfigurationFile;\n  onChange: (code: string, moduleShortid: string) => void;\n  toggleConfigUI: () => void;\n  onDidChangeDirty: (cb: () => void) => Disposable;\n  getCode: () => string;\n  onChangeVSCode: (val: string) => void;\n  onDispose: (cb: () => void) => void;\n  openText: () => void;\n  theme: any;\n};\n\nexport class ConfigurationComponent extends React.PureComponent<Props>\n  implements Editor {\n  disposeInitializer: Function;\n  currentModule: Module;\n  dirtyChangeListener: Disposable;\n  receivingCode: boolean = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.registerListeners();\n  }\n\n  registerListeners() {\n    if (this.props.onDidChangeDirty) {\n      this.dirtyChangeListener = this.props.onDidChangeDirty(() => {\n        this.forceUpdate();\n        this.props.onChange(\n          this.props.getCode(),\n          this.props.currentModule.shortid\n        );\n      });\n    }\n\n    this.props.onDispose(() => {\n      this.dirtyChangeListener.dispose();\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.onInitialized) {\n      this.disposeInitializer = this.props.onInitialized(this);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.currentModule.id !== this.props.currentModule.id) {\n      this.dirtyChangeListener.dispose();\n\n      this.registerListeners();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.disposeInitializer) {\n      this.disposeInitializer();\n    }\n  }\n\n  sendLiveChanges = (code: string) => {\n    const { sendTransforms, isLive, onCodeReceived } = this.props;\n    if (sendTransforms) {\n      const oldCode = this.currentModule.code || '';\n\n      // We don't know exactly what changed, just that the code changed. So\n      // we send the whole code.\n\n      const op = new TextOperation();\n\n      op.delete(oldCode.length);\n      op.insert(code);\n\n      sendTransforms(op);\n    } else if (!isLive && onCodeReceived) {\n      onCodeReceived();\n    }\n  };\n\n  updateFile = (code: string) => {\n    const { isLive, sendTransforms } = this.props;\n\n    if (isLive && sendTransforms && !this.receivingCode) {\n      this.sendLiveChanges(code);\n    }\n\n    this.props.onChangeVSCode(code);\n  };\n\n  render() {\n    const { config, width, height, sandbox } = this.props;\n    const { currentModule } = this.props;\n\n    const { ConfigWizard } = getUI(config.type);\n\n    return (\n      <Container style={{ width, height }}>\n        <div style={{ display: 'flex', alignItems: 'center' }}>\n          <EntryIcons\n            width={32}\n            height={32}\n            type={getType(currentModule.title)}\n          />\n          <Title>{config.title}</Title>\n        </div>\n        <button\n          type=\"button\"\n          style={{\n            outline: 0,\n            border: 0,\n            backgroundColor: 'transparent',\n            color: theme.secondary(),\n            textDecoration: 'underline',\n            margin: 0,\n            padding: 0,\n            marginTop: '1rem',\n            cursor: 'pointer',\n          }}\n          tabIndex={-1}\n          onClick={() => this.props.openText()}\n        >\n          Open file in editor\n        </button>\n        <Description>\n          {config.description}{' '}\n          <a\n            href={config.moreInfoUrl}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n          >\n            More info...\n          </a>\n        </Description>\n        <ThemeProvider theme={this.props.theme.vscodeTheme}>\n          <ConfigWizard\n            sandbox={sandbox}\n            updateFile={this.updateFile}\n            file={this.props.getCode()}\n          />\n        </ThemeProvider>\n      </Container>\n    );\n  }\n}\n\nexport const Configuration = withTheme(ConfigurationComponent);\n","import styled, { createGlobalStyle } from 'styled-components';\nimport theme from '@codesandbox/common/lib/theme';\n\nexport const Container = styled.div`\n  width: 100%;\n  height: 100%;\n  z-index: 30;\n`;\n\n// TODO: move common to TS\nconst usedTheme = theme as any;\n\nexport const CodeContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  z-index: 30;\n\n  .greensquiggly {\n    background: url(\"data:image/svg+xml;utf8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20height%3D'3'%20width%3D'6'%3E%3Cg%20fill%3D'%23ffd399'%3E%3Cpolygon%20points%3D'5.5%2C0%202.5%2C3%201.1%2C3%204.1%2C0'%2F%3E%3Cpolygon%20points%3D'4%2C0%206%2C2%206%2C0.6%205.4%2C0'%2F%3E%3Cpolygon%20points%3D'0%2C2%201%2C3%202.4%2C3%200%2C0.6'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\")\n      repeat-x bottom left !important;\n  }\n\n  .jest-success {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &:after {\n      content: '';\n      width: 50%;\n      height: 50%;\n\n      background-color: ${usedTheme.green()};\n      border-radius: 50%;\n    }\n  }\n\n  .jest-error {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &:after {\n      content: '';\n      width: 50%;\n      height: 50%;\n      background-color: ${usedTheme.red()};\n      border-radius: 50%;\n    }\n  }\n\n  /* For retina screens we will not do subpixel anti-aliasing. That looks uglier. */\n  @media (-webkit-min-device-pixel-ratio: 1.5) {\n    -webkit-font-smoothing: auto;\n  }\n`;\n\nexport const GlobalStyles = createGlobalStyle`\n  .monaco-quick-open-widget {\n    z-index: 50 !important;\n  }\n`;\n","import './icon-theme.css';\nimport './workbench-theme.css';\n\nimport getTemplate from '@codesandbox/common/lib/templates';\nimport getUI from '@codesandbox/common/lib/templates/configuration/ui';\nimport theme from '@codesandbox/common/lib/theme';\nimport { useOvermind } from 'app/overmind';\nimport { json } from 'overmind';\nimport React, { useEffect, useRef } from 'react';\nimport { render } from 'react-dom';\nimport { ThemeProvider } from 'styled-components';\n\nimport { Configuration } from './Configuration';\nimport { Container, GlobalStyles } from './elements';\n\nexport const VSCode: React.FunctionComponent = () => {\n  const { state, actions, effects } = useOvermind();\n  const containerEl = useRef(null);\n\n  const getCurrentModule = React.useCallback(\n    () => state.editor.currentModule,\n    [] // eslint-disable-line\n  );\n\n  useEffect(() => {\n    const rootEl = containerEl.current;\n    const mainContainer = effects.vscode.getEditorElement(\n      (modulePath: string) => {\n        if (!state.editor.currentSandbox) {\n          return false;\n        }\n\n        const template = getTemplate(state.editor.currentSandbox.template);\n        const config = template.configurationFiles[modulePath];\n\n        const ui = config && getUI(config.type);\n        return (\n          ui &&\n          ui.ConfigWizard &&\n          ((container, extraProps) =>\n            render(\n              <ThemeProvider theme={theme}>\n                <Configuration\n                  onChange={(code, moduleShortid) =>\n                    actions.editor.codeChanged({ code, moduleShortid })\n                  }\n                  // Copy the object, we don't want mutations in the component\n                  currentModule={json(getCurrentModule())}\n                  config={config}\n                  sandbox={state.editor.currentSandbox}\n                  {...(extraProps as any)}\n                />\n              </ThemeProvider>,\n              container\n            ))\n        );\n      }\n    );\n\n    rootEl.appendChild(mainContainer);\n    const { width, height } = rootEl.getBoundingClientRect();\n    effects.vscode.updateLayout(width, height);\n\n    document.getElementById('root').classList.add('monaco-shell');\n\n    return () => {\n      document.getElementById('root').classList.remove('monaco-shell');\n    };\n  }, [\n    actions.editor,\n    effects.vscode,\n    state.editor.currentSandbox,\n    state.editor.currentSandbox?.template,\n    getCurrentModule,\n  ]);\n\n  return (\n    <Container id=\"vscode-container\" ref={containerEl}>\n      <GlobalStyles />\n    </Container>\n  );\n};\n","function preventScroll(event) {\n  // We don't want to scroll below zero or above the width and height\n  const maxX = this.scrollWidth - this.offsetWidth;\n  const maxY = this.scrollHeight - this.offsetHeight;\n\n  // If this event looks like it will scroll beyond the bounds of the element, prevent it and set the scroll to the boundary manually\n  if (\n    this.scrollLeft + event.deltaX < 0 ||\n    this.scrollLeft + event.deltaX > maxX ||\n    this.scrollTop + event.deltaY < 0 ||\n    this.scrollTop + event.deltaY > maxY\n  ) {\n    event.preventDefault();\n\n    // Manually set the scroll to the boundary\n    this.scrollLeft = Math.max(\n      0,\n      Math.min(maxX, this.scrollLeft + event.deltaX)\n    );\n    this.scrollTop = Math.max(0, Math.min(maxY, this.scrollTop + event.deltaY));\n  }\n}\n\nexport function removeListener(element) {\n  element.removeEventListener('mousewheel', preventScroll);\n}\n\nexport default function(element) {\n  // Add the event listener which gets triggered when using the trackpad\n  element.addEventListener('mousewheel', preventScroll, false);\n}\n","import { ServerContainerStatus } from '@codesandbox/common/lib/types';\nimport BasePreview from '@codesandbox/common/lib/components/Preview';\nimport RunOnClick from '@codesandbox/common/lib/components/RunOnClick';\nimport React, { FunctionComponent, useState } from 'react';\n\nimport { useOvermind } from 'app/overmind';\n\ntype Props = {\n  hidden?: boolean;\n  options: {\n    url?: string;\n  };\n  runOnClick?: boolean;\n};\nexport const Preview: FunctionComponent<Props> = ({\n  hidden,\n  options,\n  runOnClick,\n}) => {\n  const {\n    actions: {\n      editor: { errorsCleared, previewActionReceived, projectViewToggled },\n    },\n    effects: {\n      preview: { initializePreview },\n    },\n    state: {\n      editor: {\n        currentModule,\n        currentSandbox,\n        initialPath,\n        isInProjectView,\n        isResizing,\n        previewWindowVisible,\n      },\n      preferences: { settings },\n      server: { containerStatus, error, hasUnrecoverableError },\n    },\n  } = useOvermind();\n  const [running, setRunning] = useState(!runOnClick);\n\n  /**\n   * Responsible for showing a message when something is happening with SSE. Only used\n   * for server sandboxes right now, but we can extend it in the future. It would require\n   * a better design if we want to use it for more though.\n   */\n  const getOverlayMessage = () => {\n    if (containerStatus === ServerContainerStatus.HIBERNATED) {\n      return 'The container has been hibernated because of inactivity, you can start it by refreshing the browser.';\n    }\n\n    if (containerStatus === ServerContainerStatus.STOPPED) {\n      return 'Restarting the sandbox...';\n    }\n\n    if (error && hasUnrecoverableError) {\n      return 'A sandbox error occurred, you can refresh the page to restart the container.';\n    }\n\n    return undefined;\n  };\n\n  return running ? (\n    <BasePreview\n      currentModule={currentModule}\n      hide={hidden}\n      initialPath={initialPath}\n      isInProjectView={isInProjectView}\n      isResizing={isResizing}\n      onAction={action => previewActionReceived(action)}\n      onClearErrors={() => errorsCleared()}\n      onMount={initializePreview}\n      noPreview={!previewWindowVisible}\n      onToggleProjectView={() => projectViewToggled()}\n      overlayMessage={getOverlayMessage()}\n      previewSecret={currentSandbox.previewSecret}\n      privacy={currentSandbox.privacy}\n      sandbox={currentSandbox}\n      settings={settings}\n      url={options.url}\n    />\n  ) : (\n    <RunOnClick onClick={() => setRunning(true)} />\n  );\n};\n","import * as React from 'react';\nimport css from '@styled-system/css';\n\nimport Tooltip from '@codesandbox/common/lib/components/Tooltip';\nimport getTemplateDefinition from '@codesandbox/common/lib/templates';\nimport { Icons } from 'app/components/CodeEditor/elements';\nimport { useOvermind } from 'app/overmind';\nimport QuestionIcon from 'react-icons/lib/go/question';\n\nimport { LiveUser } from '@codesandbox/common/lib/types';\nimport { Stack } from '@codesandbox/components';\n\nexport const EditorToast = () => {\n  const { state } = useOvermind();\n\n  const sandbox = state.editor.currentSandbox;\n  const { currentModule } = state.editor;\n  const modulePath = currentModule.path;\n  const template = sandbox && getTemplateDefinition(sandbox.template);\n  const config = template && template.configurationFiles[modulePath];\n\n  const followingUserId = state.live.followingUserId;\n  let followingUser: LiveUser | undefined;\n\n  if (followingUserId && state.live.roomInfo && state.live.isLive) {\n    followingUser = state.live.roomInfo.users.find(\n      u => u.id === followingUserId\n    );\n  }\n\n  return (\n    <Stack\n      css={css({\n        position: 'absolute',\n        top: 34,\n        zIndex: 45,\n        right: 0,\n      })}\n      gap={1}\n      direction=\"vertical\"\n      align=\"flex-end\"\n    >\n      {followingUser && (\n        <div\n          css={{\n            transition: '0.3s ease opacity',\n            background: `rgb(${followingUser.color.join(',')})`,\n            padding: '2px 8px',\n            fontSize: '12px',\n            float: 'right',\n            width: 'max-content',\n            borderBottomLeftRadius: 2,\n            color:\n              (followingUser.color[0] * 299 +\n                followingUser.color[1] * 587 +\n                followingUser.color[2] * 114) /\n                1000 >\n              128\n                ? 'rgba(0, 0, 0, 0.8)'\n                : 'white',\n\n            ':hover': {\n              opacity: 0.5,\n            },\n          }}\n        >\n          Following {followingUser.username}\n        </div>\n      )}\n\n      {config ? (\n        <Icons>\n          {config.partialSupportDisclaimer ? (\n            <Tooltip\n              placement=\"bottom\"\n              content={config.partialSupportDisclaimer}\n              style={{\n                display: 'flex',\n                'align-items': 'center',\n              }}\n            >\n              Partially Supported Config{' '}\n              <QuestionIcon style={{ marginLeft: '.5rem' }} />\n            </Tooltip>\n          ) : (\n            <div>Supported Configuration</div>\n          )}\n        </Icons>\n      ) : null}\n    </Stack>\n  );\n};\n","import getTemplateDefinition from '@codesandbox/common/lib/templates';\nimport { BACKTICK } from '@codesandbox/common/lib/utils/keycodes';\nimport { VSCode as CodeEditor } from 'app/components/CodeEditor/VSCode';\nimport { DevTools } from 'app/components/Preview/DevTools';\nimport { useOvermind } from 'app/overmind';\nimport useKey from 'react-use/lib/useKey';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport SplitPane from 'react-split-pane';\nimport { ThemeProvider } from 'styled-components';\n\nimport preventGestureScroll, { removeListener } from './prevent-gesture-scroll';\nimport { Preview } from './Preview';\nimport { EditorToast } from './EditorToast';\n\nexport const MainWorkspace: React.FC<{ theme: any }> = ({ theme }) => {\n  const { state, actions, effects, reaction } = useOvermind();\n  const editorEl = useRef(null);\n  const contentEl = useRef(null);\n  const [showConsoleDevtool, setShowConsoleDevtool] = useState(false);\n  const [consoleDevtoolIndex, setConsoleDevtoolIndex] = useState(-1);\n\n  const updateEditorSize = useCallback(\n    function updateEditorSize() {\n      if (editorEl.current) {\n        const { width, height } = editorEl.current.getBoundingClientRect();\n        effects.vscode.updateLayout(width, height);\n      }\n    },\n    [effects.vscode]\n  );\n\n  useEffect(() => {\n    const contentNode = contentEl.current;\n\n    const disposeResizeDetector = reaction(\n      ({ preferences, workspace, editor }) => [\n        preferences.settings.zenMode,\n        workspace.workspaceHidden,\n        editor.previewWindowOrientation,\n      ],\n      () => {\n        updateEditorSize();\n      },\n      {\n        immediate: true,\n      }\n    );\n\n    window.addEventListener('resize', updateEditorSize);\n\n    preventGestureScroll(contentEl.current);\n\n    actions.editor.contentMounted();\n\n    return () => {\n      window.removeEventListener('resize', updateEditorSize);\n      // clearInterval(this.interval);\n      disposeResizeDetector();\n      removeListener(contentNode);\n    };\n  }, [actions.editor, effects.vscode, reaction, updateEditorSize]);\n\n  const views = state.editor.devToolTabs;\n\n  useEffect(() => {\n    setConsoleDevtoolIndex(() =>\n      views.findIndex(\n        ({ views: panes }) =>\n          panes.findIndex(pane => pane.id === 'codesandbox.console') !== -1\n      )\n    );\n  }, [views]);\n\n  useKey(\n    e => e.ctrlKey && e.keyCode === BACKTICK,\n    e => {\n      e.preventDefault();\n      setShowConsoleDevtool(value => !value);\n    },\n    {},\n    []\n  );\n\n  const sandbox = state.editor.currentSandbox;\n  const { preferences } = state;\n  const windowVisible = state.editor.previewWindowVisible;\n  const template = sandbox && getTemplateDefinition(sandbox.template);\n  const currentPosition = state.editor.currentDevToolsPosition;\n\n  const browserConfig = {\n    id: 'codesandbox.browser',\n    title: options =>\n      options.port || options.title\n        ? `Browser (${options.title || `:${options.port}`})`\n        : `Browser`,\n    Content: ({ hidden, options }) => (\n      <Preview\n        options={options}\n        hidden={hidden}\n        runOnClick={state.preferences.runOnClick}\n      />\n    ),\n    actions: [],\n  };\n\n  return (\n    <ThemeProvider\n      theme={\n        template\n          ? {\n              templateColor: template.color,\n              templateBackgroundColor: template.backgroundColor,\n            }\n          : theme\n      }\n    >\n      <div\n        id=\"workbench.main.container\"\n        className=\"monaco-workbench mac nopanel\"\n        style={{\n          height: '100%',\n          width: '100%',\n          overflow: 'visible', // For VSCode Context Menu\n          display: 'flex',\n          flexDirection: 'column',\n          backgroundColor: 'transparent',\n        }}\n        ref={contentEl}\n      >\n        <SplitPane\n          maxSize={-100}\n          onDragFinished={() => {\n            actions.editor.resizingStopped();\n          }}\n          onDragStarted={() => {\n            actions.editor.resizingStarted();\n          }}\n          resizerStyle={state.editor.isLoading ? { display: 'none' } : null}\n          onChange={() => {\n            updateEditorSize();\n          }}\n          style={{\n            overflow: 'visible', // For VSCode Context Menu\n          }}\n          split={state.editor.previewWindowOrientation}\n          defaultSize=\"50%\"\n          pane1Style={\n            windowVisible\n              ? {\n                  minWidth: 100,\n                }\n              : {\n                  width: '100%',\n                  minWidth: '100%',\n                  height: '100%',\n                  minHeight: '100%',\n                }\n          }\n          pane2Style={{\n            visibility: windowVisible ? 'visible' : 'hidden',\n            maxWidth: windowVisible ? '100%' : 0,\n            width: windowVisible ? '100%' : 0,\n            overflow: 'hidden',\n            zIndex: 0, // For VSCode hovers, beware this is also dynamically changed in PreviewTabs\n          }}\n        >\n          <div\n            ref={editorEl}\n            style={{\n              position: 'relative',\n              display: 'flex',\n              flex: 1,\n              height: '100%',\n              width: '100%',\n              marginTop: 0,\n            }}\n          >\n            <div\n              style={{\n                height: '100%',\n                width: '100%',\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n              }}\n            >\n              <EditorToast />\n              {state.editor.isLoading ? null : <CodeEditor />}\n            </div>\n          </div>\n\n          <div\n            style={{\n              display: 'flex',\n              flexDirection: 'column',\n              height: '100%',\n            }}\n            id=\"csb-devtools\" // used for tabs for highlighting\n          >\n            {sandbox &&\n              views.map((v, i) => {\n                // show console devtool if showConsoleDevtool is enabled and if it's in the current view(v)\n                const devToolsOpen =\n                  showConsoleDevtool && consoleDevtoolIndex === i;\n\n                return (\n                  <DevTools\n                    // eslint-disable-next-line react/no-array-index-key\n                    key={i}\n                    devToolIndex={i}\n                    devToolsOpen={devToolsOpen}\n                    addedViews={{\n                      'codesandbox.browser': browserConfig,\n                    }}\n                    setDragging={dragging => {\n                      if (dragging) {\n                        actions.editor.resizingStarted();\n                      } else {\n                        actions.editor.resizingStopped();\n                      }\n                    }}\n                    sandboxId={sandbox.id}\n                    template={sandbox.template}\n                    shouldExpandDevTools={state.preferences.showDevtools}\n                    zenMode={preferences.settings.zenMode}\n                    setDevToolsOpen={open => {\n                      actions.preferences.setDevtoolsOpen(open);\n\n                      if (\n                        consoleDevtoolIndex === i &&\n                        showConsoleDevtool !== open\n                      ) {\n                        setShowConsoleDevtool(open);\n                      }\n                    }}\n                    owned={sandbox.owned}\n                    primary={i === 0}\n                    viewConfig={v}\n                    moveTab={(prevPos, nextPos) => {\n                      actions.editor.onDevToolsTabMoved({ prevPos, nextPos });\n                    }}\n                    closeTab={pos => {\n                      actions.editor.onDevToolsTabClosed({ pos });\n                    }}\n                    currentDevToolIndex={currentPosition.devToolIndex}\n                    currentTabPosition={currentPosition.tabPosition}\n                    setPane={position =>\n                      actions.editor.onDevToolsPositionChanged({\n                        position,\n                      })\n                    }\n                  />\n                );\n              })}\n          </div>\n        </SplitPane>\n      </div>\n    </ThemeProvider>\n  );\n};\n\nexport default MainWorkspace;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n\n  .Resizer {\n    background: ${props => props.theme['sideBar.border'] || 'black'};\n    background-clip: padding-box;\n  }\n`;\n","import Modal from 'app/components/Modal';\nimport { withTheme } from 'styled-components';\nimport { ThemeProvider, Stack, Text } from '@codesandbox/components';\nimport { Alert } from 'app/pages/common/Modals/Common/Alert';\nimport { useOvermind } from 'app/overmind';\nimport React, { FunctionComponent } from 'react';\nimport useKeyPressEvent from 'react-use/lib/useKeyPressEvent';\nimport ReturnIcon from 'react-icons/lib/md/keyboard-return';\n\nconst ModalContent: React.FC = () => {\n  const {\n    state: {\n      editor: {\n        currentSandbox: { customTemplate },\n      },\n    },\n    actions: { modals: modalsActions },\n  } = useOvermind();\n  const type = customTemplate ? 'template' : 'sandbox';\n\n  const unlock = () => {\n    modalsActions.forkFrozenModal.close('unfreeze');\n  };\n\n  const fork = (event?: { defaultPrevented: boolean }) => {\n    if (event && !event.defaultPrevented) {\n      modalsActions.forkFrozenModal.close('fork');\n    }\n  };\n\n  useKeyPressEvent('Enter', fork);\n  return (\n    <Alert\n      title={`Frozen ${customTemplate ? 'Template' : 'Sandbox'}`}\n      description={\n        <>\n          <p>\n            This {type} is frozen, which means you cant make edits without\n            unfreezing it.\n          </p>\n          <p>\n            Do you want to unfreeze the {type} for this session or make a fork?\n          </p>\n        </>\n      }\n      onCancel={unlock}\n      cancelMessage=\"Unfreeze\"\n      onPrimaryAction={fork}\n      confirmMessage={\n        <Stack gap={2} align=\"center\">\n          <Text size={3}>Fork</Text>\n          <ReturnIcon />\n        </Stack>\n      }\n    />\n  );\n};\n\nconst ForkFrozenSandboxModalComponent: FunctionComponent<{ theme: any }> = ({\n  theme,\n}) => {\n  const {\n    state: { modals },\n    actions: { modals: modalsActions },\n  } = useOvermind();\n\n  return (\n    <ThemeProvider theme={theme.vscodeTheme}>\n      <Modal\n        isOpen={modals.forkFrozenModal.isCurrent}\n        width={450}\n        onClose={() => modalsActions.forkFrozenModal.close('cancel')}\n      >\n        <ModalContent />\n      </Modal>\n    </ThemeProvider>\n  );\n};\n\nexport const ForkFrozenSandboxModal = withTheme(\n  ForkFrozenSandboxModalComponent\n);\n","import { ForkFrozenSandboxModal } from './ForkFrozenSandboxModal';\n\nexport default ForkFrozenSandboxModal;\n","import React from 'react';\n\nexport const DashboardIcon = props => (\n  <svg\n    width=\"40\"\n    height=\"32\"\n    viewBox=\"0 0 40 32\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M12 8.96533C12 8.41305 12.4477 7.96533 13 7.96533H18.5C18.7761 7.96533 19 8.18919 19 8.46533V23.3962C19 23.6724 18.7761 23.8962 18.5 23.8962H13C12.4477 23.8962 12 23.4485 12 22.8962V8.96533ZM20.9999 8.46533C20.9999 8.18919 21.2237 7.96533 21.4999 7.96533H26.9999C27.5521 7.96533 27.9999 8.41305 27.9999 8.96533V13.4394C27.9999 13.7156 27.776 13.9394 27.4999 13.9394H21.4999C21.2237 13.9394 20.9999 13.7156 20.9999 13.4394V8.46533ZM21.5 15.9827C21.2239 15.9827 21 16.2065 21 16.4827V23.4654C21 23.7415 21.2239 23.9654 21.5 23.9654H27C27.5523 23.9654 28 23.5177 28 22.9654V16.4827C28 16.2065 27.7761 15.9827 27.5 15.9827H21.5Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const ReloadIcon = props => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M14.1064 9.14286C13.5833 12.3547 10.8928 14.75 7.72414 14.75C4.18955 14.75 1.25 11.7696 1.25 8C1.25 4.23037 4.18955 1.25 7.72414 1.25C10.3759 1.25 12.6927 2.92745 13.6846 5.35714L11.0345 5.35714V6.85714H14.1064H14.3448L14.3448 6.85714L15.3701 6.85714H15.8448V1.14286L14.3448 1.14286V3.87703C12.9932 1.5538 10.5339 0 7.72414 0C3.45821 0 0 3.58172 0 8C0 12.4183 3.45821 16 7.72414 16C11.6154 16 14.8346 13.0198 15.3701 9.14286H14.1064Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const LikeIcon = props => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      d=\"M7.88809 15C21.8973 7.50193 14.9691 -2.70201 7.8881 2.35226C1.1128 -2.70201 -5.8154 7.50192 7.88809 15Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const EmbedIcon = props => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M9.6 10.4125V13.6937L16 8.0875L9.6 2.5V5.6875C3.38 6.49375 0.9 10.4875 0 14.5C2.22 11.6875 5.16 10.4125 9.6 10.4125V10.4125Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const ForkIcon = props => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      d=\"M14 2C14 0.88 13.12 0 12 0C10.88 0 10 0.88 10 2C10 2.72 10.4 3.4 11 3.72V5.4L8 8.72L5 5.4V3.72C5.6 3.4 6 2.76 6 2C6 0.88 5.12 0 4 0C2.88 0 2 0.88 2 2C2 2.72 2.4 3.4 3 3.72V6.16L7 10.56V12.28C6.4 12.64 6 13.28 6 14C6 15.12 6.88 16 8 16C9.12 16 10 15.12 10 14C10 13.28 9.6 12.64 9 12.28V10.56L13 6.16V3.72C13.6 3.4 14 2.76 14 2ZM4 1C4.52 1 4.96 1.44 4.96 2C4.96 2.56 4.52 2.96 4 2.96C3.48 2.96 3.04 2.52 3.04 2C3.04 1.48 3.48 1 4 1ZM8 14.92C7.48 14.92 7.04 14.52 7.04 13.96C7.04 13.4 7.48 13 8 13C8.52 13 8.96 13.44 8.96 13.96C8.96 14.48 8.52 14.92 8 14.92ZM12 1C12.52 1 12.96 1.44 12.96 2C12.96 2.56 12.52 2.96 12 2.96C11.48 2.96 11.04 2.52 11.04 2C11.04 1.48 11.48 1 12 1Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const PreferenceIcon = props => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M9.00283 7.09842e-08L6.5413 0L6.17112 1.48071C5.56427 1.6506 4.99188 1.90294 4.46677 2.2249L3.21339 1.47287L1.47283 3.21344L2.22487 4.46684C1.86015 5.06173 1.58477 5.7173 1.41739 6.41489L0 6.76924L8.51808e-07 9.23078L1.41741 9.58513C1.58478 10.2827 1.86017 10.9383 2.22489 11.5332L1.47285 12.7866L3.21341 14.5272L4.46681 13.7751C5.0617 14.1398 5.71728 14.4152 6.41487 14.5826L6.76922 16H9.23075L9.58509 14.5826C10.2827 14.4152 10.9383 14.1398 11.5332 13.7751L12.7866 14.5271L14.5271 12.7866L13.7751 11.5332C14.1398 10.9383 14.4152 10.2827 14.5826 9.58511L16 9.23077L16 6.76923L14.5826 6.41488C14.4152 5.71728 14.1399 5.06169 13.7751 4.4668L14.5272 3.21342L12.7866 1.47285L11.5332 2.22487C10.8702 1.81838 10.1318 1.52285 9.34387 1.36415L9.00283 7.09842e-08ZM8.00001 11.4286C9.89355 11.4286 11.4286 9.89354 11.4286 7.99999C11.4286 6.10644 9.89355 4.57142 8.00001 4.57142C6.10646 4.57142 4.57144 6.10644 4.57144 7.99999C4.57144 9.89354 6.10646 11.4286 8.00001 11.4286Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const MoreMenuIcon = props => (\n  <svg\n    width=\"4\"\n    height=\"13\"\n    viewBox=\"0 0 4 13\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M3.16681 1.83337C3.16681 2.56975 2.56985 3.1667 1.83348 3.1667C1.0971 3.1667 0.500153 2.56975 0.500153 1.83337C0.500153 1.097 1.0971 0.500046 1.83348 0.500046C2.56985 0.500046 3.16681 1.097 3.16681 1.83337ZM3.16681 6.16653C3.16681 6.9029 2.56985 7.49986 1.83348 7.49986C1.0971 7.49986 0.500153 6.9029 0.500153 6.16653C0.500153 5.43015 1.0971 4.8332 1.83348 4.8332C2.56985 4.8332 3.16681 5.43015 3.16681 6.16653ZM1.83348 12.1666C2.56985 12.1666 3.16681 11.5697 3.16681 10.8333C3.16681 10.0969 2.56985 9.49995 1.83348 9.49995C1.0971 9.49995 0.500153 10.0969 0.500153 10.8333C0.500153 11.5697 1.0971 12.1666 1.83348 12.1666Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n","import styled, { css } from 'styled-components';\nimport { Stack } from '@codesandbox/components';\n\nexport const Container = styled(Stack)`\n  background-color: ${({ theme }) => theme.colors.dialog.background};\n  color: ${({ theme }) => theme.colors.dialog.foreground};\n  width: 100%;\n\n  border: 1px solid ${({ theme }) => theme.colors.dialog.border};\n`;\n\nexport const HorizontalSeparator = styled.hr<{ margin?: number }>`\n  width: 100%;\n  height: 1px;\n  border: none;\n  background-color: ${({ theme }) => theme.colors.dialog.border};\n  margin-block-start: 0;\n  margin-block-end: 0;\n\n  ${props =>\n    props.margin &&\n    css`\n      margin: ${props.theme.space[props.margin]}px 0;\n    `}\n`;\n","import React from 'react';\nimport { Menu, Icon } from '@codesandbox/components';\nimport { Authorization } from 'app/graphql/types';\n\nconst authToName = {\n  [Authorization.WriteCode]: 'Can Edit',\n  [Authorization.Comment]: 'Can Comment',\n  [Authorization.None]: 'No Access',\n  [Authorization.Read]: 'Can View',\n  [Authorization.WriteProject]: 'Edit Sandbox Info',\n};\n\n// Based on the longest option in the mnu\n// which is \"Can Comment\"\nexport const MENU_WIDTH = 110;\n\ninterface IPermissionSelectProps {\n  additionalOptions?: { value: string; label: string }[];\n  permissions?: Authorization[];\n  pretext?: string;\n  value: Authorization;\n  onChange: (value: string) => void;\n  disabled?: boolean;\n}\n\nexport const PermissionSelect = ({\n  additionalOptions = [],\n  permissions = [Authorization.WriteCode, Authorization.Read],\n  value: selectedValue,\n  onChange,\n  disabled,\n  ...props\n}: IPermissionSelectProps) => (\n  <Menu>\n    <Menu.Button css={{ paddingRight: 0 }} disabled={disabled} {...props}>\n      {authToName[selectedValue]} <Icon name=\"caret\" size={8} marginLeft={1} />\n    </Menu.Button>\n    <Menu.List>\n      {permissions.map(auth => (\n        <Menu.Item key={auth} onSelect={() => onChange(auth)}>\n          {authToName[auth]}\n        </Menu.Item>\n      ))}\n\n      {additionalOptions.map(({ label, value }) => (\n        <Menu.Item key={label} onSelect={() => onChange(value)}>\n          {label}\n        </Menu.Item>\n      ))}\n    </Menu.List>\n  </Menu>\n);\n","import React from 'react';\nimport { motion, useAnimation } from 'framer-motion';\nimport { Stack, Button } from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nimport { Authorization } from 'app/graphql/types';\nimport { useOvermind } from 'app/overmind';\nimport { UserSearchInput } from 'app/components/UserSearchInput';\n\nimport { PermissionSelect, MENU_WIDTH } from './PermissionSelect';\n\nexport const AddCollaboratorForm = () => {\n  const { actions, state } = useOvermind();\n\n  const controls = useAnimation();\n  const [inputValue, setInputValue] = React.useState<string>('');\n  const [authorization, setAuthorization] = React.useState<Authorization>(\n    Authorization.WriteCode\n  );\n\n  const onAuthorizationChanged = (value: string) => {\n    setAuthorization(value as Authorization);\n  };\n\n  const onSubmit = async (evt: React.FormEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n\n    if (!inputValue || inputValue.trim().length === 0) {\n      controls.start({\n        translateX: [-4, 4, 0],\n        transition: {\n          duration: 0.15,\n          loop: 3,\n        },\n      });\n\n      return;\n    }\n\n    try {\n      setInputValue('');\n\n      if (inputValue.includes('@')) {\n        await actions.editor.inviteCollaborator({\n          email: inputValue,\n          authorization,\n          sandboxId: state.editor.currentSandbox!.id,\n        });\n      } else {\n        await actions.editor.addCollaborator({\n          username: inputValue,\n          authorization,\n          sandboxId: state.editor.currentSandbox!.id,\n        });\n      }\n    } catch (e) {\n      setInputValue(inputValue);\n    }\n  };\n\n  return (\n    <Stack align=\"center\" onSubmit={onSubmit} as=\"form\" gap={2}>\n      <motion.div\n        animate={controls}\n        css={css({\n          position: 'relative',\n          width: '100%',\n        })}\n      >\n        <UserSearchInput\n          inputValue={inputValue}\n          onInputValueChange={val => {\n            setInputValue(val);\n          }}\n          css={css({ paddingRight: MENU_WIDTH })}\n        />\n\n        <PermissionSelect\n          value={authorization}\n          onChange={onAuthorizationChanged}\n          css={{\n            position: 'absolute',\n            top: 0,\n            right: 8,\n          }}\n        />\n      </motion.div>\n\n      <Button type=\"submit\" css={css({ width: 'initial' })} paddingLeft={1}>\n        Send\n      </Button>\n    </Stack>\n  );\n};\n","import React from 'react';\nimport IconBase from 'react-icons/IconBase';\n\nexport const Mail = props => (\n  <IconBase\n    fill=\"none\"\n    viewBox=\"0 0 32 32\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <g fill=\"currentColor\">\n      <path d=\"m25.7987 8c.9804 0 1.3753 1.26415.5692 1.82219l-9.7987 6.78371c-.3424.2371-.796.2371-1.1384 0l-9.79874-6.78371c-.80606-.55803-.41116-1.82219.56921-1.82219z\" />\n      <path d=\"m20.0833 16.0833 6.9167-4.9404v10.8571c0 .2935-.0632.5722-.1768.8232z\" />\n      <path d=\"m18.8459 16.9672-2.2647 1.6176c-.3477.2484-.8147.2484-1.1624 0l-2.2647-1.6176-6.89218 6.8922c.22836.0907.4774.1406.73808.1406h18c.2607 0 .5097-.0499.7381-.1406z\" />\n      <path d=\"m11.9167 16.0833-6.73995 6.7399c-.11354-.251-.17675-.5297-.17675-.8232v-10.8571z\" />\n    </g>\n  </IconBase>\n);\n\nexport const WarningIcon = props => (\n  <IconBase\n    viewBox=\"0 0 12 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <circle cx=\"6\" cy=\"6\" r=\"5.625\" stroke=\"#F69935\" strokeWidth=\"0.75\" />\n    <path\n      d=\"M6.60354 3H5.29982L5.41701 7.20117H6.48928L6.60354 3ZM5.95315 9.07617C6.32815 9.07617 6.65334 8.7627 6.65627 8.37305C6.65334 7.98926 6.32815 7.67578 5.95315 7.67578C5.56643 7.67578 5.24709 7.98926 5.25002 8.37305C5.24709 8.7627 5.56643 9.07617 5.95315 9.07617Z\"\n      fill=\"#F69935\"\n    />\n  </IconBase>\n);\n","import { GlobeIcon } from '@codesandbox/common/lib/components/icons/Globe';\nimport { LinkIcon } from '@codesandbox/common/lib/components/icons/Link';\nimport { LockIcon } from '@codesandbox/common/lib/components/icons/Lock';\nimport Tooltip from '@codesandbox/common/lib/components/Tooltip';\nimport { Stack, Text, Menu, Icon } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { Authorization } from 'app/graphql/types';\nimport { useOvermind } from 'app/overmind';\nimport { formatDistanceToNow } from 'date-fns';\nimport React from 'react';\n\nimport { Mail, WarningIcon } from './icons';\nimport { PermissionSelect } from './PermissionSelect';\n\ninterface ICollaboratorItemProps {\n  authorization: Authorization;\n  name: string | JSX.Element;\n\n  warning?: string;\n  permissions?: Authorization[];\n  subtext?: string;\n  avatarUrl?: string;\n  avatarComponent?: JSX.Element | null;\n  onChange?: (value: string) => void;\n  fillAvatar?: boolean;\n  permissionText?: string;\n  readOnly?: boolean;\n  style?: React.CSSProperties;\n}\n\nexport const CollaboratorItem = ({\n  name,\n  subtext,\n  avatarUrl,\n  avatarComponent = null,\n  fillAvatar = true,\n  authorization,\n  onChange,\n  readOnly,\n  permissionText,\n  permissions = [Authorization.WriteCode, Authorization.Read],\n  warning,\n  ...props\n}: ICollaboratorItemProps) => (\n  <Stack {...props} align=\"center\">\n    <Stack gap={2} css={css({ width: '100%', flex: 3 })}>\n      {avatarUrl ? (\n        <img\n          css={css({\n            borderRadius: 2,\n            border: '1px solid',\n            borderColor: 'dialog.border',\n          })}\n          alt={typeof name === 'string' ? name : ''}\n          src={avatarUrl}\n          width={32}\n          height={32}\n        />\n      ) : (\n        <div\n          css={css({\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            borderRadius: 2,\n            border: '1px solid',\n            borderColor: fillAvatar ? 'dialog.border' : 'transparent',\n            backgroundColor: fillAvatar ? 'dialog.border' : 'transparent',\n            width: 32,\n            height: 32,\n          })}\n        >\n          {avatarComponent}\n        </div>\n      )}\n      <Stack gap={1} justify=\"center\" direction=\"vertical\">\n        {typeof name === 'string' ? (\n          <Text size={3} color=\"white\">\n            {name}\n          </Text>\n        ) : (\n          name\n        )}\n        {subtext && (\n          <Text size={2} variant=\"muted\">\n            {subtext}\n          </Text>\n        )}\n      </Stack>\n    </Stack>\n\n    {warning && (\n      <Tooltip content={warning}>\n        <WarningIcon />\n      </Tooltip>\n    )}\n    {permissions.length > 0 ? (\n      <PermissionSelect\n        onChange={onChange}\n        value={authorization}\n        disabled={readOnly}\n        permissions={permissions}\n        additionalOptions={[{ label: 'Remove', value: 'remove' }]}\n      />\n    ) : (\n      <Text css={css({ flex: 3, textAlign: 'right' })} size={3} variant=\"muted\">\n        {permissionText}\n      </Text>\n    )}\n  </Stack>\n);\n\ninterface ICollaboratorProps {\n  authorization: Authorization;\n  userId: string;\n  username: string;\n  lastSeenAt: string | null;\n  avatarUrl: string;\n  isViewingNow: boolean;\n\n  readOnly?: boolean;\n  warning?: string;\n}\n\nexport const Collaborator = ({\n  username,\n  avatarUrl,\n  authorization,\n  lastSeenAt,\n  readOnly,\n  isViewingNow,\n  warning,\n}: ICollaboratorProps) => {\n  const { actions, state } = useOvermind();\n\n  const updateAuthorization = (value: string) => {\n    if (value === 'remove') {\n      actions.editor.removeCollaborator({\n        username,\n        sandboxId: state.editor.currentSandbox.id,\n      });\n    } else {\n      actions.editor.changeCollaboratorAuthorization({\n        username,\n        sandboxId: state.editor.currentSandbox.id,\n        authorization: value as Authorization,\n      });\n    }\n  };\n\n  let subtext: string;\n  if (isViewingNow) {\n    subtext = 'Viewing now';\n  } else if (lastSeenAt === null) {\n    subtext = 'Not viewed yet';\n  } else {\n    subtext = formatDistanceToNow(new Date(lastSeenAt), { addSuffix: true });\n  }\n\n  return (\n    <CollaboratorItem\n      name={username}\n      subtext={subtext}\n      avatarUrl={avatarUrl}\n      onChange={updateAuthorization}\n      authorization={authorization}\n      readOnly={readOnly}\n      warning={warning}\n    />\n  );\n};\n\ninterface IInvitationProps {\n  id: string;\n  email: string;\n  authorization: Authorization;\n}\n\nexport const Invitation = ({ id, email, authorization }: IInvitationProps) => {\n  const { actions, state } = useOvermind();\n\n  const updateAuthorization = (value: string) => {\n    // We have to do something here\n    if (value === 'remove') {\n      actions.editor.revokeSandboxInvitation({\n        invitationId: id,\n        sandboxId: state.editor.currentSandbox.id,\n      });\n    } else {\n      actions.editor.changeInvitationAuthorization({\n        invitationId: id,\n        sandboxId: state.editor.currentSandbox.id,\n        authorization: value as Authorization,\n      });\n    }\n  };\n\n  return (\n    <CollaboratorItem\n      name={email}\n      subtext=\"Not viewed yet\"\n      avatarComponent={<Mail width={24} height={24} />}\n      onChange={updateAuthorization}\n      authorization={authorization}\n    />\n  );\n};\n\nconst privacyToName = {\n  0: 'Public',\n  1: 'Unlisted',\n  2: 'Private',\n};\n\nconst privacyToIcon = {\n  0: GlobeIcon,\n  1: LinkIcon,\n  2: LockIcon,\n};\n\nconst privacyToDescription = {\n  0: 'Everyone can view',\n  1: 'Everyone with link can view',\n  2: 'Only collaborators can access',\n};\n\ninterface ILinkPermissionProps {\n  readOnly: boolean;\n}\n\nexport const LinkPermissions = ({ readOnly }: ILinkPermissionProps) => {\n  const { state, actions } = useOvermind();\n  const { privacy } = state.editor.currentSandbox;\n  const isPatron = state.isPatron;\n\n  const PrivacyIcon = privacyToIcon[privacy];\n\n  const isReadOnly = readOnly || !isPatron;\n\n  const onChange = value => {\n    actions.workspace.sandboxPrivacyChanged({\n      privacy: Number(value) as 0 | 1 | 2,\n      source: 'collaboratorss',\n    });\n  };\n\n  return (\n    <Stack gap={4} align=\"center\" direction=\"vertical\">\n      <CollaboratorItem\n        avatarComponent={<PrivacyIcon />}\n        name={\n          <Menu>\n            <Menu.Button disabled={isReadOnly}>\n              {privacyToName[privacy]}{' '}\n              <Icon name=\"caret\" size={8} marginLeft={1} />\n            </Menu.Button>\n            <Menu.List>\n              {Object.keys(privacyToName).map(p => (\n                <Menu.Item key={p} onSelect={() => onChange(p)}>\n                  {privacyToName[p]}\n                </Menu.Item>\n              ))}\n            </Menu.List>\n          </Menu>\n        }\n        authorization={Authorization.Read}\n        permissions={[]}\n        permissionText={privacyToDescription[privacy]}\n        readOnly={isReadOnly}\n        style={{ width: '100%' }}\n      />\n\n      {!isPatron && (\n        <Text size={3} variant=\"muted\" align=\"center\">\n          Changing sandbox access is available with{' '}\n          <a href=\"/pricing\" target=\"_blank\" rel=\"noreferrer noopener\">\n            CodeSandbox Pro\n          </a>\n        </Text>\n      )}\n    </Stack>\n  );\n};\n","import React, { useEffect } from 'react';\nimport css from '@styled-system/css';\nimport { motion } from 'framer-motion';\nimport { Stack, Button } from '@codesandbox/components';\nimport CheckIcon from 'react-icons/lib/md/check';\nimport { useOvermind } from 'app/overmind';\n\nexport const ButtonActions = () => {\n  const [linkCopied, setLinkCopied] = React.useState(false);\n  const [mounted, setMounted] = React.useState(false);\n  const { actions, effects } = useOvermind();\n  const timeout = React.useRef(null);\n  const copyLink = () => {\n    setLinkCopied(true);\n\n    effects.browser.copyToClipboard(document.location.href);\n\n    if (timeout.current) {\n      clearTimeout(timeout.current);\n    }\n    timeout.current = setTimeout(() => {\n      setLinkCopied(false);\n    }, 2000);\n  };\n\n  useEffect(\n    () => () => {\n      if (timeout.current) {\n        clearTimeout(timeout.current);\n      }\n    },\n    []\n  );\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  return (\n    <Stack justify=\"flex-end\" direction=\"horizontal\" gap={2}>\n      <Button\n        css={css({ width: 'initial' })}\n        variant=\"secondary\"\n        onClick={() => {\n          actions.modalOpened({ modal: 'share' });\n        }}\n      >\n        Embed\n      </Button>\n      <Button css={css({ width: 128 })} variant=\"secondary\" onClick={copyLink}>\n        {linkCopied ? (\n          <motion.div\n            key=\"copied\"\n            initial={{ scale: 0.8 }}\n            animate={{ scale: 1 }}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}\n          >\n            <motion.div\n              initial={{ scale: 0.8, rotate: -60, opacity: 0.7 }}\n              animate={{ scale: 1, rotate: 0, opacity: 1 }}\n              css={css({ marginRight: 1 })}\n            >\n              <CheckIcon />\n            </motion.div>{' '}\n            Copied!\n          </motion.div>\n        ) : (\n          <motion.div\n            key=\"copy\"\n            initial={mounted ? { scale: 0.8, opacity: 0.7 } : false}\n            animate={{ scale: 1, opacity: 1 }}\n          >\n            Copy Sandbox Link\n          </motion.div>\n        )}\n      </Button>\n    </Stack>\n  );\n};\n","import React from 'react';\nimport css from '@styled-system/css';\nimport { Element } from '@codesandbox/components';\nimport { AnimatePresence, motion } from 'framer-motion';\n\nimport { useOvermind } from 'app/overmind';\nimport { TeamIcon } from '@codesandbox/common/lib/components/icons/Team';\nimport { hasPermission } from '@codesandbox/common/lib/utils/permission';\nimport { Authorization } from 'app/graphql/types';\nimport { sortBy } from 'lodash-es';\nimport { RoomInfo } from '@codesandbox/common/lib/types';\nimport { CollaboratorItem, Collaborator, Invitation } from './Collaborator';\n\nconst Animated = ({ showMountAnimations, ...props }) => (\n  <motion.div\n    animate={{ opacity: 1, height: 'auto' }}\n    initial={showMountAnimations ? { opacity: 0, height: 0 } : null}\n    exit={{ opacity: 0, height: 0 }}\n    style={{ width: '100%', overflow: 'hidden' }}\n    positionTransition\n  >\n    <Element\n      css={css({\n        marginTop: 4,\n      })}\n      {...props}\n    />\n  </motion.div>\n);\n\nfunction getLiveUser(currentUserId: string, roomInfo: RoomInfo) {\n  return roomInfo?.users?.find(u => u.userId === currentUserId);\n}\n\nexport const CollaboratorList = () => {\n  const { state } = useOvermind();\n\n  const [showMountAnimations, setShowMountAnimations] = React.useState(false);\n\n  React.useEffect(() => {\n    setShowMountAnimations(true);\n  }, [setShowMountAnimations]);\n\n  const isOwner = hasPermission(\n    state.editor.currentSandbox.authorization,\n    'owner'\n  );\n  const { author, team } = state.editor.currentSandbox;\n\n  const collaboratorsConnectedWithLive = state.editor.collaborators.map(\n    collaborator => {\n      const currentLiveUser = getLiveUser(\n        collaborator.user.id,\n        state.live?.roomInfo\n      );\n      if (currentLiveUser) {\n        return { ...collaborator, lastSeenAt: Infinity };\n      }\n\n      return collaborator;\n    }\n  );\n\n  const sortedCollaborators = sortBy(collaboratorsConnectedWithLive, c => [\n    -(c.lastSeenAt === Infinity\n      ? new Date().getTime()\n      : new Date(c.lastSeenAt || 0).getTime()),\n    c.user.username,\n  ]);\n\n  return (\n    <Element\n      paddingX={4}\n      css={css({\n        maxHeight: 250,\n        minHeight: 100,\n        overflowY: 'auto',\n        paddingBottom: 4,\n      })}\n    >\n      {team && (\n        <Animated showMountAnimations={showMountAnimations}>\n          <CollaboratorItem\n            name={team.name}\n            avatarComponent={<TeamIcon width={24} height={24} />}\n            authorization={Authorization.Owner}\n            permissions={[]}\n            permissionText=\"Owner\"\n          />\n        </Animated>\n      )}\n\n      <Animated showMountAnimations={showMountAnimations}>\n        <CollaboratorItem\n          name={author.username}\n          avatarUrl={author.avatarUrl}\n          authorization={Authorization.Owner}\n          permissions={[]}\n          permissionText=\"Owner\"\n        />\n      </Animated>\n\n      <AnimatePresence>\n        {sortedCollaborators.map(collaborator => (\n          <Animated\n            showMountAnimations={showMountAnimations}\n            key={collaborator.user.username}\n          >\n            <Collaborator\n              userId={collaborator.user.id}\n              username={collaborator.user.username}\n              avatarUrl={collaborator.user.avatarUrl}\n              authorization={collaborator.authorization}\n              lastSeenAt={collaborator.lastSeenAt}\n              isViewingNow={collaborator.lastSeenAt === Infinity}\n              warning={collaborator.warning}\n              readOnly={!isOwner}\n            />\n          </Animated>\n        ))}\n\n        {state.editor.invitations.map(invitation => (\n          <Animated\n            showMountAnimations={showMountAnimations}\n            key={invitation.email}\n          >\n            <Invitation\n              email={invitation.email}\n              id={invitation.id}\n              authorization={invitation.authorization}\n            />\n          </Animated>\n        ))}\n      </AnimatePresence>\n    </Element>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { Element } from '@codesandbox/components';\nimport { hasPermission } from '@codesandbox/common/lib/utils/permission';\nimport { Overlay } from 'app/components/Overlay';\nimport { useOvermind } from 'app/overmind';\n\nimport { Container, HorizontalSeparator } from './elements';\nimport { AddCollaboratorForm } from './AddCollaboratorForm';\nimport { LinkPermissions } from './Collaborator';\nimport { ButtonActions } from './ButtonActions';\nimport { CollaboratorList } from './CollaboratorList';\n\nconst CollaboratorContent = () => {\n  const { state } = useOvermind();\n\n  const isOwner = hasPermission(\n    state.editor.currentSandbox.authorization,\n    'owner'\n  );\n\n  return (\n    <Container direction=\"vertical\" style={{ borderRadius: 4 }}>\n      <Element padding={4}>\n        <LinkPermissions readOnly={!isOwner} />\n        {isOwner && (\n          <Element paddingTop={4}>\n            <AddCollaboratorForm />\n          </Element>\n        )}\n      </Element>\n\n      <HorizontalSeparator />\n\n      <CollaboratorList />\n\n      <HorizontalSeparator />\n\n      <Element padding={4}>\n        <ButtonActions />\n      </Element>\n    </Container>\n  );\n};\n\nexport const Collaborators: FunctionComponent<{\n  renderButton: (any) => JSX.Element;\n}> = ({ renderButton }) => (\n  <>\n    <Overlay\n      noHeightAnimation={false}\n      event=\"Collaborators\"\n      content={CollaboratorContent}\n    >\n      {open => renderButton({ onClick: () => open() })}\n    </Overlay>\n  </>\n);\n","import React, { FunctionComponent } from 'react';\nimport css from '@styled-system/css';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { sortBy } from 'lodash-es';\nimport Tooltip, {\n  SingletonTooltip,\n} from '@codesandbox/common/lib/components/Tooltip';\nimport { TippyProps } from '@tippy.js/react';\nimport { useOvermind } from 'app/overmind';\nimport { Stack, Avatar, Text, Menu, Link } from '@codesandbox/components';\nimport { LiveUser } from '@codesandbox/common/lib/types';\n\ninterface ICollaboratorHeadProps {\n  avatarUrl: string;\n  username: string;\n  id: string;\n  color: number[];\n  isCurrentUser: boolean;\n  isDimmed: boolean;\n  showBorder?: boolean;\n  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => void;\n  singleton: TippyProps['singleton'];\n}\n\nconst HEAD_SIZE = 26;\nconst USER_OVERFLOW_LIMIT = 4;\n\nconst CollaboratorHead = (props: ICollaboratorHeadProps) => (\n  <Tooltip\n    singleton={props.singleton}\n    style={{ display: 'flex' }}\n    content={\n      <Stack\n        css={css({ paddingX: 2, paddingY: 1 })}\n        justify=\"center\"\n        align=\"center\"\n        gap={1}\n        direction=\"vertical\"\n      >\n        <Text size={3}>\n          {props.username}\n          {props.isCurrentUser && ' (you)'}\n        </Text>\n        <Link\n          href={`/u/${props.username}`}\n          target=\"_blank\"\n          rel=\"noreferrer noopener\"\n          size={2}\n          variant=\"muted\"\n        >\n          View Profile\n        </Link>\n      </Stack>\n    }\n  >\n    <button\n      type=\"button\"\n      css={{\n        transition: '0.3s ease opacity',\n        position: 'relative',\n        width: HEAD_SIZE,\n        height: HEAD_SIZE,\n        overflow: 'hidden',\n        cursor: 'pointer',\n        padding: 0,\n        backgroundColor: 'transparent',\n        outline: 'none',\n        border: 'none',\n        opacity: props.isDimmed ? 0.5 : 1,\n\n        ':hover': {\n          opacity: 1,\n        },\n\n        ':after': props.showBorder && {\n          content: \" ' '\",\n          position: 'absolute',\n          display: 'block',\n          borderRadius: 2,\n          top: 0,\n          width: '100%',\n          height: '100%',\n          boxShadow: `inset 0px 0px 0px 1.5px rgb(${props.color.join(',')})`,\n        },\n      }}\n      onClick={props.onClick}\n    >\n      <Avatar\n        user={{\n          id: props.id,\n          username: props.username,\n          avatarUrl: props.avatarUrl,\n        }}\n        css={css({\n          width: HEAD_SIZE,\n          height: HEAD_SIZE,\n          img: {\n            border: 'none',\n          },\n        })}\n      />\n    </button>\n  </Tooltip>\n);\n\nexport const CollaboratorHeads: FunctionComponent = () => {\n  const { state, actions } = useOvermind();\n  const liveUsers = state.live.roomInfo.users;\n\n  const liveUserId = state.live.liveUserId;\n  const followingUserId = state.live.followingUserId;\n  const orderedLiveUsers = React.useMemo(() => {\n    const currentUser = liveUsers.find(u => u.id === liveUserId);\n    const followingUser = liveUsers.find(u => u.id === followingUserId);\n    const filteredLiveUsers = sortBy(\n      liveUsers.filter(u => u.id !== liveUserId),\n      'id'\n    );\n\n    if (followingUser) {\n      const followingUserIndex = filteredLiveUsers.findIndex(\n        u => u.id === followingUserId\n      );\n\n      const followingUserIsInFirst4 =\n        followingUserIndex < USER_OVERFLOW_LIMIT - 1;\n      if (!followingUserIsInFirst4) {\n        // Let's move the following user to the start of the list if it's not in the first 4\n        filteredLiveUsers.splice(followingUserIndex, 1);\n        filteredLiveUsers.unshift(followingUser);\n      }\n    }\n\n    return [currentUser, ...filteredLiveUsers].filter(Boolean);\n  }, [liveUserId, followingUserId, liveUsers]);\n\n  const followLiveUser = (user: LiveUser) => {\n    if (liveUserId === user.id || followingUserId === user.id) {\n      actions.live.onStopFollow();\n    } else {\n      actions.live.onFollow({ liveUserId: user.id });\n    }\n  };\n\n  const firstLiveUsers = orderedLiveUsers.slice(0, USER_OVERFLOW_LIMIT);\n  const restLiveUsers = orderedLiveUsers.slice(USER_OVERFLOW_LIMIT);\n\n  // It doesn't make sense to show a \"More\" button for live users if there's\n  // only one in it.\n  if (restLiveUsers.length === 1) {\n    firstLiveUsers.push(restLiveUsers.pop());\n  }\n\n  return (\n    <Stack justify=\"center\">\n      <SingletonTooltip interactive>\n        {singleton => (\n          <AnimatePresence>\n            {firstLiveUsers.map((user, i) => (\n              <motion.div\n                positionTransition\n                style={{\n                  zIndex: 10 + liveUsers.length - i,\n                  display: 'flex',\n                  alignItems: 'center',\n                }}\n                animate={{ width: 'auto', marginRight: 8, opacity: 1 }}\n                exit={{ width: 0, marginRight: 0, opacity: 0 }}\n                initial={{ width: 0, marginRight: 0, opacity: 0 }}\n                key={user.id}\n              >\n                <CollaboratorHead\n                  avatarUrl={user.avatarUrl}\n                  username={user.username}\n                  color={user.color}\n                  id={user.id}\n                  singleton={singleton}\n                  isCurrentUser={user.id === liveUserId}\n                  onClick={() => followLiveUser(user)}\n                  isDimmed={\n                    followingUserId !== null && user.id !== followingUserId\n                  }\n                  showBorder={orderedLiveUsers.length > 1}\n                />\n              </motion.div>\n            ))}\n          </AnimatePresence>\n        )}\n      </SingletonTooltip>\n\n      {restLiveUsers.length > 0 && (\n        <Menu>\n          <Menu.Button\n            variant=\"secondary\"\n            css={css({\n              position: 'relative',\n              width: HEAD_SIZE,\n              height: HEAD_SIZE,\n              marginRight: 8,\n              ':after': {\n                content: \" ' '\",\n                position: 'absolute',\n                display: 'block',\n                borderRadius: 2,\n                top: 0,\n                width: '100%',\n                height: '100%',\n                boxShadow: `inset 0px 0px 0px 1.5px rgba(255, 255, 255, 0.5)`,\n              },\n            })}\n          >\n            {restLiveUsers.length}\n          </Menu.Button>\n          <Menu.List>\n            {restLiveUsers.map(restUser => (\n              <Menu.Item\n                key={restUser.id}\n                onSelect={() => followLiveUser(restUser)}\n              >\n                {restUser.username}\n              </Menu.Item>\n            ))}\n          </Menu.List>\n        </Menu>\n      )}\n    </Stack>\n  );\n};\n","import Tooltip from '@codesandbox/common/lib/components/Tooltip';\nimport { Avatar, Button, Stack } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\nimport { UserMenu } from 'app/pages/common/UserMenu';\nimport React, { useEffect, useState } from 'react';\n\nimport {\n  EmbedIcon,\n  ForkIcon,\n  LikeIcon,\n  PreferenceIcon,\n  ReloadIcon,\n  MoreMenuIcon,\n} from './icons';\nimport { Collaborators } from './Collaborators';\nimport { CollaboratorHeads } from './CollaboratorHeads';\n\nconst TooltipButton = ({ tooltip, ...props }) => (\n  <Tooltip content={tooltip}>\n    <Button {...props} />\n  </Tooltip>\n);\n\nexport const Actions = () => {\n  const {\n    actions: {\n      modalOpened,\n      editor: { likeSandboxToggled, forkSandboxClicked },\n      explore: { pickSandboxModal },\n    },\n    state: {\n      hasLogIn,\n      updateStatus,\n      user,\n      live: { isLive },\n      editor: {\n        currentSandbox: {\n          id,\n          author,\n          owned,\n          title,\n          description,\n          likeCount,\n          userLiked,\n        },\n      },\n    },\n\n    actions: { signInClicked },\n  } = useOvermind();\n  const [fadeIn, setFadeIn] = useState(false);\n\n  useEffect(() => {\n    if (!fadeIn) {\n      const timeoutId = setTimeout(() => {\n        setFadeIn(true);\n      }, 500);\n      return () => clearTimeout(timeoutId);\n    }\n\n    return () => {};\n  }, [fadeIn]);\n\n  const handleSignIn = () => signInClicked();\n\n  let primaryAction;\n  if (!hasLogIn) primaryAction = 'Sign in';\n  else primaryAction = owned ? 'Share' : 'Fork';\n\n  return (\n    <Stack\n      align=\"center\"\n      gap={2}\n      css={{ '> button': { width: 'auto' } }}\n      style={{\n        opacity: fadeIn ? 1 : 0,\n        transition: 'opacity 0.25s ease-in-out',\n      }}\n    >\n      {updateStatus === 'available' && (\n        <TooltipButton\n          tooltip=\"Update Available! Click to Refresh.\"\n          variant=\"link\"\n          onClick={() => document.location.reload()}\n        >\n          <ReloadIcon css={css({ height: 3 })} />\n        </TooltipButton>\n      )}\n\n      {!hasLogIn && (\n        <TooltipButton\n          tooltip=\"Open preferences\"\n          variant=\"link\"\n          onClick={() => modalOpened({ modal: 'preferences' })}\n        >\n          <PreferenceIcon css={css({ height: 3 })} />\n        </TooltipButton>\n      )}\n\n      {user?.experiments.collaborator && isLive ? (\n        <CollaboratorHeads />\n      ) : (\n        <>\n          {hasLogIn ? (\n            <TooltipButton\n              tooltip={userLiked ? 'Undo like sandbox' : 'Like sandbox'}\n              variant=\"link\"\n              onClick={() => likeSandboxToggled(id)}\n            >\n              <LikeIcon\n                css={css({\n                  height: 3,\n                  marginRight: 1,\n                  color: userLiked ? 'reds.500' : 'inherit',\n                })}\n              />{' '}\n              <span>{likeCount}</span>\n            </TooltipButton>\n          ) : (\n            <Stack gap={1} paddingX={2} align=\"center\">\n              <LikeIcon css={css({ height: 3 })} />\n              <span>{likeCount}</span>\n            </Stack>\n          )}\n        </>\n      )}\n\n      {user?.curatorAt && (\n        <Button\n          variant=\"secondary\"\n          css={css({ paddingX: 3 })}\n          onClick={() => pickSandboxModal({ description, id, title })}\n        >\n          Pick\n        </Button>\n      )}\n\n      {user?.experiments.collaborator && (\n        <>\n          {author ? (\n            <Collaborators\n              renderButton={props => (\n                <Button\n                  variant={primaryAction === 'Share' ? 'primary' : 'secondary'}\n                  {...props}\n                >\n                  <EmbedIcon css={css({ height: 3, marginRight: 1 })} /> Share\n                </Button>\n              )}\n            />\n          ) : (\n            <Button\n              variant={primaryAction === 'Share' ? 'primary' : 'secondary'}\n              onClick={() => modalOpened({ modal: 'share' })}\n            >\n              <EmbedIcon css={css({ height: 3, marginRight: 1 })} /> Embed\n            </Button>\n          )}\n        </>\n      )}\n\n      {!user?.experiments.collaborator && (\n        <Button\n          variant={primaryAction === 'Share' ? 'primary' : 'secondary'}\n          onClick={() => modalOpened({ modal: 'share' })}\n        >\n          <EmbedIcon css={css({ height: 3, marginRight: 1 })} /> Embed\n        </Button>\n      )}\n\n      <Button\n        variant={primaryAction === 'Fork' ? 'primary' : 'secondary'}\n        onClick={forkSandboxClicked}\n      >\n        <ForkIcon css={css({ height: 3, marginRight: 1 })} /> Fork\n      </Button>\n      <Button\n        variant=\"secondary\"\n        css={css({ paddingX: 3 })}\n        onClick={() => modalOpened({ modal: 'newSandbox' })}\n      >\n        Create Sandbox\n      </Button>\n      {hasLogIn ? (\n        <UserMenu>\n          {user?.experiments.collaborator ? (\n            <Button\n              variant=\"secondary\"\n              css={css({\n                width: 26,\n                height: 26, // match button size next to it\n              })}\n            >\n              <MoreMenuIcon />\n            </Button>\n          ) : (\n            <Avatar\n              user={{ ...user, subscriptionSince: null }}\n              css={css({\n                size: '26px', // match button size next to it\n              })}\n            />\n          )}\n        </UserMenu>\n      ) : (\n        <Button variant=\"primary\" onClick={handleSignIn}>\n          Sign in\n        </Button>\n      )}\n    </Stack>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Child = styled.div`\n  align-items: center;\n  height: 38px;\n  font-size: 0.8125rem;\n`;\n\nexport const Container = styled.div`\n  display: flex;\n  align-items: center;\n  margin-left: 0.5rem;\n`;\n\nexport const SkeletonMenuItem = styled.div`\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 4px 12px;\n  zoom: 1;\n  white-space: nowrap;\n  border-radius: 2px;\n  height: 38px;\n  color: #999;\n  font-size: 0.8125rem;\n`;\n\nexport const SkeletonContainer = styled.div`\n  display: flex;\n  align-items: center;\n  height: 38px;\n  font-size: 0.8125rem;\n  flex-shrink: 1;\n  box-sizing: border-box;\n  overflow: hidden;\n  flex-wrap: wrap;\n`;\n","import './titlebar.css';\n\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { useOvermind } from 'app/overmind';\nimport React, { FunctionComponent, useEffect, useRef } from 'react';\n\nimport {\n  Child,\n  Container,\n  SkeletonContainer,\n  SkeletonMenuItem,\n} from './elements';\n\nconst MenuBarSkeleton: FunctionComponent = () => (\n  <SkeletonContainer>\n    <SkeletonMenuItem>File</SkeletonMenuItem>\n    <SkeletonMenuItem>Edit</SkeletonMenuItem>\n    <SkeletonMenuItem>Selection</SkeletonMenuItem>\n    <SkeletonMenuItem>View</SkeletonMenuItem>\n    <SkeletonMenuItem>Go</SkeletonMenuItem>\n    <SkeletonMenuItem>Help</SkeletonMenuItem>\n    <SkeletonMenuItem style={{ visibility: 'hidden' }}>\n      <div style={{ width: 20 }} />\n    </SkeletonMenuItem>\n  </SkeletonContainer>\n);\n\nexport const MenuBar: FunctionComponent = () => {\n  const { state, effects } = useOvermind();\n  const menuBarEl = useRef(null);\n\n  useEffect(() => {\n    // Get the menu bar part from vscode and mount it\n    menuBarEl.current.appendChild(effects.vscode.getMenubarElement());\n  }, [effects.vscode]);\n\n  return (\n    // Explicitly use inline styles here to override the vscode styles\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    <Container\n      className=\"part titlebar\"\n      onClick={() => track('Editor - Click Menubar')}\n    >\n      <Child\n        ref={menuBarEl}\n        style={state.editor.isLoading ? { display: 'none' } : null}\n      />\n      {state.editor.isLoading ? <MenuBarSkeleton /> : null}\n    </Container>\n  );\n};\n","import css from '@styled-system/css';\nimport styled, {\n  StyledComponent,\n  StyledComponentInnerOtherProps,\n} from 'styled-components';\n\nexport const Element = styled.div<{\n  margin?: number;\n  marginX?: number;\n  marginBottom?: number;\n}>(props =>\n  css({\n    margin: props.margin || null,\n    marginX: props.marginX || null,\n    marginBottom: props.marginBottom || null,\n  })\n);\n\nexport const Container = styled(Element)(\n  css({\n    '.tippy-content': {\n      width: '200px',\n      backgroundColor: 'grays.600',\n      border: '1px solid',\n      borderColor: 'grays.500',\n      padding: 4,\n      borderRadius: 'medium',\n      whiteSpace: 'normal',\n    },\n  })\n);\n\nexport const Text = styled(Element)<{\n  color?: string;\n  size?: string;\n  align?: string;\n}>(props =>\n  css({\n    color: props.color || 'white',\n    fontSize: props.size || 'inherit',\n    textAlign: props.align || 'left',\n  })\n);\n\nexport const Link = styled.a(\n  css({\n    color: 'blues.300',\n    textDecoration: 'none',\n  })\n);\n\nconst caret =\n  'data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMTAgMjQiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjNzU3NTc1Ij48cGF0aCBkPSJtNS4wMDAwNiAxNy0zLjAwMDA2LTRoNnoiLz48cGF0aCBkPSJtNC45OTk5NCA3IDMuMDAwMDYgNGgtNnoiLz48L2c+PC9zdmc+';\n\nexport const Select = (styled(Element).attrs({ as: 'select' })(({ theme }) =>\n  css({\n    appearance: 'none',\n    backgroundImage: `url(${caret})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: '96% 50%',\n    width: '100%',\n    backgroundColor: 'grays.900',\n    color: 'white',\n    border: '1px solid',\n    borderColor: 'grays.500',\n    borderRadius: 'medium',\n    paddingX: 2,\n    height: 24,\n    boxSizing: 'border-box',\n    fontFamily: 'body',\n    transition: 'backgroundColor',\n    transitionDuration: theme.speeds[2],\n    ':hover': {\n      backgroundColor: 'grays.700',\n    },\n    ':disabled': {\n      opacity: 0.5,\n      cursor: 'not-allowed',\n      ':hover': {\n        backgroundColor: 'grays.900',\n      },\n    },\n  })\n) as unknown) as StyledComponent<\n  'select',\n  any,\n  StyledComponentInnerOtherProps<typeof Element>\n>;\n","import React, { FunctionComponent } from 'react';\n\nexport const Public: FunctionComponent = () => (\n  <svg\n    width=\"10\"\n    height=\"10\"\n    viewBox=\"0 0 10 10\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M9.3296 2.49018C8.88248 1.72418 8.27598 1.11768 7.50994 0.670575C6.74377 0.223495 5.90739 0 5.00016 0C4.09302 0 3.25648 0.223495 2.49035 0.670575C1.72428 1.11761 1.11777 1.72411 0.670647 2.49018C0.223496 3.2563 0 4.09293 0 5C0 5.90707 0.223564 6.74361 0.670578 7.50977C1.11768 8.27562 1.72418 8.88228 2.49026 9.32942C3.25639 9.77648 4.09295 10 5.00007 10C5.90719 10 6.74384 9.77648 7.50992 9.32942C8.27595 8.88244 8.88243 8.27578 9.32951 7.50977C9.77653 6.74361 10 5.907 10 5C10 4.09293 9.77653 3.25619 9.3296 2.49018ZM5.62552 7.63072C5.5819 7.57875 5.56682 7.53526 5.57994 7.5004C5.57558 7.52215 5.56037 7.54167 5.53437 7.55898C5.51269 7.53298 5.47349 7.5004 5.41714 7.46138C5.36064 7.42218 5.32164 7.38971 5.29993 7.36351C5.29118 7.35056 5.27934 7.33213 5.26411 7.30826C5.2489 7.28438 5.2294 7.25294 5.20553 7.21383C5.18179 7.17481 5.16446 7.14111 5.15356 7.11283C5.14277 7.0846 5.14177 7.06837 5.15027 7.06415C5.06786 7.09895 4.94846 7.07507 4.79224 6.9925C4.76189 6.97517 4.71624 6.92959 4.65551 6.85577C4.59478 6.78196 4.53182 6.74949 4.4667 6.75808C4.44503 6.76244 4.41571 6.77001 4.37879 6.78087C4.34196 6.79179 4.31047 6.7971 4.28441 6.7971C4.25834 6.7971 4.22361 6.78853 4.1802 6.77101C4.14554 6.75808 4.09888 6.73302 4.04028 6.6962C3.98172 6.65937 3.94151 6.63643 3.91987 6.62792C3.86346 6.59748 3.83525 6.58234 3.83525 6.58234L3.73108 6.53037C3.70502 6.51744 3.67786 6.49681 3.64965 6.46858C3.62145 6.44032 3.60307 6.411 3.59438 6.38062C3.58571 6.35465 3.57486 6.30252 3.56184 6.22433C3.54882 6.14611 3.53142 6.08979 3.50976 6.05513C3.48376 6.01176 3.44686 5.96834 3.39907 5.92497C3.35139 5.8816 3.30799 5.85973 3.26891 5.85973C3.30366 5.85973 3.30366 5.83063 3.26891 5.77187C3.23415 5.71317 3.20378 5.67087 3.17772 5.64499C3.16903 5.63623 3.14296 5.60807 3.09957 5.56023C3.05617 5.51246 3.01928 5.47134 2.9889 5.43645C2.95855 5.40175 2.9324 5.36164 2.91076 5.31598C2.88909 5.2704 2.88469 5.23248 2.89774 5.20204C2.90205 5.19775 2.89774 5.19118 2.88469 5.18254C2.87167 5.17397 2.85546 5.16514 2.83587 5.15648C2.81637 5.14788 2.7979 5.14024 2.7806 5.1337C2.76315 5.12729 2.75013 5.124 2.74149 5.124C2.75022 5.14149 2.75996 5.17287 2.77084 5.21843C2.78169 5.26408 2.79362 5.29774 2.80661 5.31943C2.81535 5.33676 2.8522 5.39979 2.9173 5.5081C3.03022 5.69039 3.08222 5.82509 3.0736 5.91186C3.04753 5.92045 3.03013 5.91621 3.02147 5.8989C3.01278 5.8816 3.00621 5.8577 3.00192 5.82728C2.99759 5.797 2.99331 5.77531 2.98888 5.7622C2.97586 5.73613 2.94223 5.70788 2.88793 5.67744C2.8337 5.64718 2.80002 5.61674 2.78703 5.58629C2.7914 5.58629 2.79674 5.58426 2.80331 5.57975C2.80985 5.57539 2.81532 5.57336 2.81961 5.57336C2.82401 5.53433 2.80123 5.48441 2.75129 5.42352C2.70135 5.36282 2.68083 5.31945 2.68945 5.29336C2.6547 5.2673 2.62432 5.21627 2.59826 5.14042C2.57222 5.06442 2.55049 5.01555 2.53313 4.99382C2.5158 4.96787 2.49416 4.94509 2.46808 4.9255C2.44201 4.90603 2.40952 4.88434 2.37041 4.86044C2.33135 4.83657 2.30528 4.82033 2.29226 4.81162C2.28355 4.80736 2.26624 4.78791 2.24018 4.75315C2.09697 4.57949 2.05358 4.48615 2.11002 4.47315C2.0536 4.48615 2.00692 4.44387 1.97003 4.34614C1.93311 4.24852 1.92121 4.17356 1.9342 4.1215L1.92121 4.11503C1.92558 4.09763 1.92773 4.04671 1.92773 3.962C1.92773 3.87733 1.9332 3.80028 1.94403 3.73086C1.95493 3.66143 1.97552 3.62665 2.00587 3.62665C1.97552 3.63098 1.95277 3.6038 1.93756 3.54531C1.92237 3.48666 1.9213 3.44648 1.93427 3.42482C1.9386 3.41178 1.95819 3.42056 1.99288 3.45088C2.02754 3.48117 2.0471 3.50082 2.05144 3.50944C2.10787 3.47898 2.12961 3.43998 2.11656 3.39219C2.10787 3.37486 2.06229 3.3293 1.97983 3.25546C1.79316 3.13399 1.69764 3.07536 1.69338 3.07965C1.71933 3.03197 1.71285 2.99074 1.67379 2.95596C1.63042 2.98203 1.60547 2.9885 1.59893 2.97555C1.59245 2.96251 1.58702 2.93872 1.58262 2.90395C1.57833 2.86926 1.56743 2.84974 1.55013 2.84539C1.52839 2.84106 1.50233 2.82373 1.47198 2.79333C1.85825 2.177 2.36822 1.69524 3.00192 1.34795C3.02794 1.34366 3.07567 1.34147 3.14511 1.34147C3.17979 1.3458 3.21238 1.35668 3.24273 1.37401C3.27312 1.39134 3.30462 1.41526 3.33711 1.44561C3.36972 1.47589 3.39467 1.49763 3.412 1.51067C3.42069 1.48461 3.40985 1.44554 3.37948 1.39346C3.3881 1.3674 3.43587 1.34133 3.52268 1.31531C3.62245 1.30229 3.68762 1.30441 3.71797 1.32186C3.69198 1.28277 3.64861 1.2285 3.58781 1.15909L3.55527 1.19158C3.52052 1.16123 3.42944 1.1764 3.28184 1.23717C3.27322 1.24145 3.25148 1.25347 3.21673 1.27295C3.18205 1.29244 3.15375 1.30658 3.13211 1.31525C3.10604 1.32393 3.08003 1.3261 3.05396 1.32177C3.26227 1.20896 3.46632 1.11984 3.666 1.05481C3.67891 1.06343 3.70066 1.0819 3.73106 1.11009C3.76141 1.13829 3.78529 1.15895 3.80266 1.17193C3.78964 1.16331 3.78093 1.16755 3.7766 1.18495C3.75927 1.23701 3.75927 1.2804 3.7766 1.31511C3.79826 1.34557 3.82759 1.36284 3.86451 1.36724C3.90143 1.37152 3.94587 1.36938 3.99795 1.36067C4.05003 1.35205 4.08481 1.34765 4.10216 1.34765L4.16729 1.35422C4.30614 1.36724 4.36043 1.35422 4.33006 1.31511C4.34306 1.33255 4.35825 1.36833 4.3756 1.4226C4.39293 1.47688 4.41252 1.51487 4.43416 1.53657C4.45589 1.51913 4.46022 1.48878 4.44718 1.44538C4.43416 1.40199 4.43416 1.37152 4.44718 1.35419C4.45147 1.34557 4.46451 1.33679 4.48624 1.32813C4.50797 1.31951 4.5329 1.30975 4.56113 1.2989C4.58933 1.288 4.60778 1.28043 4.61654 1.27612C4.64256 1.25872 4.62516 1.22832 4.56441 1.18493C4.55572 1.18057 4.53732 1.17407 4.50914 1.16538C4.48093 1.15683 4.45591 1.14803 4.43425 1.13939C4.41259 1.13077 4.38981 1.1188 4.36593 1.10361C4.34205 1.0884 4.33118 1.07107 4.3333 1.05148C4.33549 1.03189 4.34748 1.00699 4.36912 0.976595C4.39519 0.954954 4.43753 0.946244 4.49609 0.950576C4.55465 0.954863 4.59919 0.965695 4.62954 0.983071C4.74679 1.0482 4.7641 1.10689 4.68167 1.15888C4.72513 1.16317 4.77721 1.18055 4.83796 1.2109C4.89866 1.24132 4.92254 1.27388 4.90956 1.30863C4.94429 1.24353 4.97898 1.2109 5.01375 1.2109C5.03541 1.2153 5.05612 1.24462 5.07559 1.29887C5.09509 1.3531 5.10699 1.38238 5.1113 1.38678C5.1461 1.43446 5.1806 1.44534 5.21556 1.41927C5.25022 1.39326 5.28611 1.35529 5.32294 1.30535C5.35977 1.25548 5.38038 1.2327 5.38476 1.23703C5.34137 1.21975 5.33683 1.20235 5.37181 1.18497C5.43673 1.14591 5.49543 1.13503 5.54755 1.15248C5.56048 1.1611 5.57797 1.18068 5.5995 1.21097C5.63845 1.2892 5.63197 1.32603 5.58 1.3217C5.61902 1.35645 5.63519 1.39989 5.62887 1.45191C5.62233 1.50399 5.58851 1.52789 5.52781 1.52351C5.50619 1.52351 5.47458 1.51261 5.43329 1.49097C5.39208 1.4693 5.36064 1.4574 5.33886 1.45519C5.31717 1.45293 5.28673 1.4649 5.24771 1.49097C5.23038 1.5127 5.2076 1.54962 5.17935 1.60165C5.15112 1.65383 5.12613 1.69066 5.10444 1.71232C5.03938 1.77742 4.93077 1.80134 4.77888 1.78392C4.79192 1.78392 4.79078 1.79694 4.77559 1.82301C4.76034 1.84902 4.73981 1.87837 4.71375 1.91089C4.68769 1.94343 4.6725 1.96188 4.66821 1.96621C4.62913 2.0096 4.60311 2.05954 4.59006 2.11596C4.59006 2.12465 4.58788 2.15397 4.5835 2.20382C4.5791 2.25376 4.57048 2.29179 4.55743 2.31779C4.60952 2.30477 4.65077 2.3309 4.68112 2.39594C4.70718 2.45673 4.70718 2.48927 4.68112 2.49365C4.82439 2.47203 4.95027 2.48065 5.05886 2.51971C5.21508 2.57613 5.3042 2.63254 5.32588 2.68898C5.35181 2.64987 5.4147 2.64766 5.51458 2.68241C5.55367 2.70408 5.58824 2.76927 5.61881 2.8777C5.63615 2.94276 5.66549 2.99924 5.7067 3.04695C5.748 3.09467 5.79239 3.10767 5.84021 3.08601L5.85966 3.07299C5.87706 3.06437 5.89111 3.05673 5.90194 3.05023C5.91286 3.04375 5.92472 3.03504 5.93767 3.02417C5.95079 3.01331 5.95843 3.00355 5.96045 2.99493C5.96248 2.98627 5.95936 2.97749 5.95079 2.96887C5.92034 2.94281 5.89756 2.90703 5.88242 2.86151C5.86737 2.81593 5.87063 2.77575 5.89227 2.74097C5.9052 2.72364 5.93995 2.69758 5.99635 2.66283C6.05285 2.62805 6.08758 2.59337 6.10051 2.55864C6.11809 2.50222 6.09623 2.45555 6.0355 2.4186C5.97473 2.38178 5.94429 2.34814 5.94429 2.3177C5.94429 2.29597 5.9584 2.26997 5.98656 2.23955C6.01489 2.2092 6.02684 2.1809 6.02239 2.15493C6.02239 2.14182 6.01473 2.11475 5.99959 2.0735C5.98454 2.03218 5.97571 2.00183 5.97359 1.98231C5.9714 1.96277 5.98125 1.93999 6.00285 1.91399C6.03313 1.89659 6.10478 1.89769 6.21761 1.91718C6.33046 1.93677 6.4043 1.95739 6.4391 1.97903C6.45219 1.98765 6.48037 2.00069 6.52377 2.01811C6.56714 2.03535 6.60515 2.0538 6.63778 2.07341C6.67016 2.09291 6.68863 2.11128 6.69294 2.12868H6.66047C6.69082 2.15482 6.70934 2.1851 6.71572 2.21987C6.72229 2.25472 6.70606 2.28069 6.66704 2.29811C6.69294 2.29371 6.72781 2.30026 6.7712 2.31761C6.84066 2.34363 6.84285 2.36755 6.77775 2.38921C6.7907 2.38481 6.80913 2.38055 6.83293 2.37617C6.85681 2.37183 6.87516 2.36529 6.88825 2.35667C6.89685 2.35229 6.90775 2.34477 6.92073 2.33387C6.93384 2.32301 6.94351 2.31647 6.95007 2.31439C6.95662 2.31225 6.96629 2.30999 6.9794 2.30783C6.99235 2.30568 7.00533 2.30897 7.01826 2.31759C7.02279 2.31759 7.03246 2.30671 7.0476 2.28505C7.06265 2.2634 7.07914 2.24167 7.09638 2.22001C7.1138 2.19835 7.12885 2.18752 7.14196 2.18752C7.15483 2.18752 7.16687 2.19285 7.17761 2.20371C7.1886 2.21461 7.1971 2.22649 7.20369 2.23953C7.21024 2.25257 7.21662 2.26669 7.22319 2.28178C7.22973 2.29697 7.23505 2.30899 7.23943 2.31761C7.248 2.33927 7.26875 2.36214 7.30122 2.38593C7.3337 2.40973 7.35429 2.43258 7.36302 2.45425C7.3674 2.46729 7.3759 2.49985 7.38902 2.552C7.40197 2.60409 7.41946 2.63986 7.44108 2.65936C7.46276 2.67895 7.4953 2.69518 7.53867 2.70818C7.54736 2.71258 7.56702 2.71037 7.59728 2.70175C7.62756 2.69302 7.65262 2.69085 7.67212 2.69518C7.69178 2.69947 7.70145 2.7168 7.70145 2.74727C7.72744 2.7212 7.74039 2.7038 7.74039 2.69518C7.74484 2.75162 7.75882 2.79723 7.78285 2.83191C7.80673 2.86657 7.84465 2.88185 7.89678 2.87745L7.88367 3.02072C7.87071 3.04239 7.83817 3.05862 7.78598 3.06945C7.73385 3.08035 7.70138 3.09018 7.68826 3.0988C7.67531 3.10313 7.6438 3.12918 7.59384 3.17697C7.5439 3.22477 7.52344 3.25297 7.53204 3.26159C7.45838 3.17911 7.34754 3.15524 7.20004 3.18999C7.03518 3.21603 6.92223 3.24207 6.86153 3.26814C6.79214 3.30291 6.7443 3.33541 6.71826 3.36576C6.7139 3.37009 6.70647 3.38535 6.69554 3.41134C6.68469 3.43736 6.67386 3.46128 6.66307 3.48295C6.65208 3.50461 6.64248 3.51546 6.63381 3.51546C6.65995 3.51124 6.68916 3.49052 6.7217 3.45369C6.75433 3.41677 6.77492 3.39625 6.78352 3.39185C6.89626 3.3181 6.98959 3.29204 7.06382 3.31425C7.15927 3.34031 7.17448 3.37506 7.10931 3.41846C7.1008 3.42708 7.07786 3.43034 7.04104 3.42822C7.00421 3.42607 6.97922 3.42708 6.96613 3.4315C7.0053 3.44012 7.03775 3.45209 7.06398 3.46719C7.08988 3.48238 7.09645 3.50301 7.08341 3.52903C7.1528 3.56812 7.16589 3.61151 7.12251 3.65931C7.06601 3.71581 6.9989 3.7396 6.9207 3.73091C6.93382 3.73091 6.93382 3.73962 6.9207 3.75695L6.8099 3.82855C6.8013 3.83282 6.77307 3.84365 6.7253 3.86109C6.67755 3.87833 6.64494 3.89801 6.62761 3.91965C6.61466 3.93703 6.60812 3.96305 6.60812 3.99789C6.60812 4.03266 6.60593 4.05873 6.60157 4.07606C6.59728 4.0935 6.57986 4.0977 6.5496 4.08908C6.53649 4.1151 6.49638 4.13573 6.42911 4.15083C6.36184 4.16602 6.31737 4.1888 6.29566 4.21915C6.32157 4.25392 6.31954 4.28861 6.2891 4.32336C6.23697 4.36682 6.19141 4.36242 6.15239 4.31034C6.1307 4.31903 6.11438 4.34069 6.10352 4.37546C6.09276 4.41022 6.07639 4.43409 6.05481 4.44707C6.08526 4.49482 6.08074 4.52964 6.04188 4.55123C6.0461 4.55123 6.05593 4.55563 6.07105 4.56428C6.08619 4.57294 6.10243 4.58377 6.11992 4.59682C6.13725 4.60986 6.14799 4.6164 6.15239 4.6164C6.13506 4.65537 6.11109 4.67489 6.08074 4.67489C6.10681 4.74438 6.07433 4.82038 5.98321 4.90279C5.9657 4.92012 5.93856 4.93745 5.90174 4.95487C5.86466 4.9722 5.83111 4.98627 5.80067 4.99715C5.77023 5.00803 5.75299 5.0156 5.74863 5.01993C5.70524 5.05906 5.67261 5.09917 5.65101 5.14038C5.6294 5.18167 5.62611 5.22176 5.64116 5.26087C5.65639 5.30005 5.69651 5.32595 5.76172 5.33906L5.76804 5.3911V5.50824L5.77458 5.56037C5.77903 5.59072 5.78231 5.61788 5.78444 5.64182C5.78656 5.66572 5.78656 5.69598 5.78444 5.73296C5.78231 5.76979 5.77251 5.79047 5.75518 5.79469C5.73794 5.79914 5.71404 5.79469 5.6836 5.78167C5.64873 5.76434 5.6076 5.66884 5.55975 5.49526C5.55109 5.45189 5.52496 5.3999 5.48156 5.33904C5.45988 5.36072 5.44145 5.37477 5.42631 5.38127C5.41124 5.38781 5.40022 5.389 5.39391 5.38455C5.38736 5.38027 5.37541 5.37044 5.35804 5.3553C5.3407 5.34016 5.32563 5.32814 5.31254 5.31956C5.29083 5.30661 5.25291 5.29567 5.19853 5.28709C5.14437 5.27843 5.11055 5.2675 5.09769 5.25455C4.99341 5.33281 4.93043 5.31313 4.90876 5.19611C4.90014 5.21773 4.90119 5.24698 4.91205 5.28399C4.92295 5.32089 4.92835 5.34143 4.92835 5.34579C4.898 5.40229 4.85027 5.40649 4.78515 5.35874C4.75908 5.33281 4.69938 5.32955 4.60605 5.34905C4.51272 5.3685 4.45087 5.37176 4.42052 5.35874C4.42492 5.35874 4.43354 5.36522 4.44659 5.37831C4.45958 5.38681 4.46832 5.39338 4.47263 5.39776C4.46825 5.41518 4.46177 5.42811 4.45304 5.43677C4.44433 5.44537 4.43564 5.44865 4.427 5.44662C4.41831 5.44444 4.40855 5.44444 4.39765 5.44662C4.3868 5.44865 4.37706 5.45191 4.36835 5.45629C4.35099 5.46924 4.32933 5.49203 4.30327 5.52457C4.27725 5.55713 4.25773 5.57772 4.24471 5.58629C4.2707 5.65575 4.28267 5.70898 4.28053 5.7458C4.27827 5.78279 4.27184 5.83704 4.26094 5.9086C4.25004 5.98015 4.24464 6.03775 4.24464 6.08122C4.24464 6.15049 4.26528 6.23103 4.30648 6.32204C4.34773 6.41319 4.39653 6.47608 4.45297 6.51087C4.48344 6.5282 4.53554 6.53897 4.60926 6.54328C4.68303 6.5477 4.73514 6.54328 4.76549 6.53033C4.79155 6.51747 4.81103 6.50216 4.82405 6.48483C4.83707 6.4675 4.84797 6.44237 4.85659 6.40992C4.86528 6.37745 4.87185 6.35467 4.87618 6.34172C4.90653 6.25915 4.96294 6.21578 5.04531 6.2114C5.0976 6.20704 5.13536 6.21265 5.1594 6.22764C5.18327 6.24285 5.19296 6.26344 5.18858 6.28952C5.18421 6.3155 5.17556 6.34266 5.16266 6.37089C5.14957 6.39914 5.13333 6.43052 5.11377 6.46534C5.09436 6.5002 5.08234 6.5262 5.07815 6.54362C5.06946 6.57833 5.06175 6.6271 5.05537 6.69018C5.04882 6.75307 5.04333 6.79108 5.03897 6.80417C5.04773 6.80841 5.08022 6.81058 5.13659 6.81058C5.13659 6.80198 5.13988 6.78778 5.14642 6.76828C5.15283 6.74878 5.15611 6.73683 5.15611 6.73254C5.17789 6.76734 5.21262 6.7867 5.26037 6.79108C5.30812 6.79544 5.34292 6.77813 5.3646 6.73902C5.37336 6.75206 5.3994 6.78467 5.44282 6.8368C5.48619 6.88877 5.51007 6.93216 5.51447 6.96696C5.51882 6.98445 5.5274 7.01255 5.54037 7.05172C5.55348 7.09074 5.55786 7.1179 5.55348 7.13318C5.54913 7.14816 5.5274 7.15589 5.4884 7.15589C5.47107 7.15589 5.46017 7.16243 5.45593 7.17538C5.45142 7.1885 5.45142 7.20464 5.45593 7.22416C5.46031 7.24366 5.46578 7.26217 5.47217 7.2795C5.47864 7.29674 5.48731 7.31533 5.49809 7.33485C5.50915 7.35421 5.51449 7.3662 5.51449 7.37056C5.59252 7.51367 5.69897 7.55278 5.83349 7.48779C5.83349 7.61359 5.80307 7.68303 5.74218 7.69598C5.70786 7.7046 5.66891 7.68269 5.62552 7.63072ZM5.72275 9.10155C5.71418 9.05816 5.7098 9.0235 5.71028 8.99759C5.70574 8.96279 5.72104 8.91612 5.75568 8.85758C5.79039 8.79907 5.80772 8.75449 5.80772 8.72414C5.73828 8.70681 5.71226 8.65032 5.72946 8.55487C5.73819 8.48972 5.80108 8.40293 5.91829 8.29445C6.00084 8.22064 6.02677 8.11636 5.99648 7.98194C5.98337 7.9255 5.97245 7.84295 5.96385 7.73445C5.95528 7.62591 5.94652 7.54997 5.93779 7.5066C5.93779 7.51955 5.95838 7.5315 5.99974 7.54233C6.04097 7.5531 6.06592 7.5673 6.07459 7.58448C6.08325 7.57161 6.09404 7.54765 6.10713 7.51299C6.12008 7.47819 6.13321 7.45222 6.14598 7.43479C6.15474 7.42177 6.17314 7.40554 6.20142 7.38593C6.22965 7.36643 6.24807 7.35457 6.25674 7.35019C6.26524 7.34591 6.2849 7.33186 6.31518 7.30792C6.3456 7.28404 6.3706 7.26568 6.39016 7.25266C6.40982 7.23964 6.43565 7.22988 6.46829 7.22348C6.50092 7.21693 6.52363 7.22662 6.53656 7.25266C6.55834 7.27875 6.55405 7.31884 6.52363 7.37316C6.49319 7.42747 6.49319 7.46546 6.52363 7.48724C6.52805 7.47413 6.53229 7.44581 6.53656 7.40241C6.541 7.35902 6.55405 7.32648 6.57567 7.30463C6.60173 7.27873 6.62661 7.26343 6.65057 7.25921C6.67445 7.25469 6.69607 7.25796 6.71552 7.26897C6.73518 7.27982 6.75796 7.29481 6.78388 7.31446C6.80995 7.33396 6.8338 7.34593 6.85551 7.35019C6.92059 7.3719 6.99878 7.41965 7.08993 7.49347C7.08557 7.48904 7.08557 7.48364 7.08993 7.47707C7.09431 7.47069 7.10288 7.46414 7.11601 7.45757C7.12897 7.45119 7.14082 7.44464 7.15175 7.43808C7.16251 7.4316 7.17437 7.42638 7.18748 7.42193L7.20698 7.41539C7.23726 7.41539 7.25901 7.41327 7.27199 7.40882C7.28492 7.40453 7.30359 7.40882 7.32731 7.42193C7.35105 7.43489 7.36744 7.44465 7.37602 7.45119C7.38475 7.45757 7.39989 7.46952 7.4216 7.48692C7.44329 7.50425 7.45859 7.51736 7.467 7.52594C7.48012 7.53451 7.50399 7.54981 7.53865 7.57152C7.57345 7.59321 7.60061 7.61054 7.62013 7.62347C7.63978 7.63642 7.65709 7.6561 7.67207 7.68191C7.68722 7.70814 7.69285 7.73632 7.68847 7.76674C7.71456 7.77112 7.76653 7.78836 7.84472 7.81871C7.85783 7.82731 7.88483 7.83504 7.92617 7.84142C7.9674 7.84797 7.99454 7.85782 8.00756 7.87068C7.37869 8.53514 6.61683 8.9453 5.72275 9.10155Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n\nexport const Unlisted: FunctionComponent = () => (\n  <svg\n    width=\"12\"\n    height=\"12\"\n    viewBox=\"0 0 12 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M5.59849 8.36744L6.52962 7.43657C5.93459 7.37598 5.47177 7.16668 5.15221 6.84721C4.24312 5.93838 4.24312 4.66602 5.1467 3.7627L7.00345 1.90648C7.91255 1.00316 9.17976 1.00316 10.0889 1.90648C11.0034 2.82082 10.9979 4.09318 10.0944 4.9965L9.27343 5.81721C9.46627 6.26335 9.5434 6.82518 9.41667 7.31539L10.9594 5.77313C12.3478 4.40163 12.3478 2.43525 10.9539 1.04171C9.55993 -0.351824 7.60401 -0.340814 6.22659 1.03621L4.27618 2.98055C2.89877 4.36307 2.89325 6.32395 4.2872 7.71197C4.58472 8.01492 5.01998 8.25727 5.59849 8.36744ZM6.40291 3.6305L5.47177 4.56687C6.06681 4.62746 6.52962 4.83125 6.84918 5.15073C7.75828 6.05956 7.75828 7.33742 6.8547 8.23524L4.99794 10.0915C4.08884 10.9948 2.81611 11.0003 1.91253 10.0915C0.99794 9.17712 1.00345 7.91027 1.90703 7.00694L2.72797 6.18625C2.53513 5.74009 2.45799 5.17276 2.58472 4.68254L1.03651 6.22479C-0.346419 7.60182 -0.346419 9.56268 1.04201 10.9562C2.44146 12.3498 4.39739 12.3443 5.7748 10.9617L7.71971 9.01739C9.10263 7.63486 9.10814 5.6795 7.71419 4.28597C7.41667 3.98302 6.98141 3.74067 6.40291 3.6305Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n\nexport const Private: FunctionComponent = () => (\n  <svg\n    width=\"9\"\n    height=\"14\"\n    viewBox=\"0 0 9 14\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M1.12502 3.375C1.12502 1.51104 2.63606 0 4.50002 0C6.36398 0 7.87502 1.51104 7.87502 3.375V6H8C8.55229 6 9 6.44772 9 7V13C9 13.5523 8.55229 14 8 14H1C0.447715 14 0 13.5523 0 13V7C0 6.44772 0.447715 6 1 6H1.12502V3.375ZM7.00002 6H2.00002V3.5C2.00002 2.11929 3.11931 1 4.50002 1C5.88073 1 7.00002 2.11929 7.00002 3.5V6Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n","import Tooltip from '@codesandbox/common/lib/components/Tooltip';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport theme from '@codesandbox/components/lib/design-language/theme';\nimport { useOvermind } from 'app/overmind';\nimport React, { FunctionComponent } from 'react';\nimport { ThemeProvider } from 'styled-components';\n\nimport { Container, Link, Select, Text } from './elements';\nimport { Private, Public, Unlisted } from './icons';\n\nexport const PrivacyTooltip: FunctionComponent = () => {\n  const {\n    actions: {\n      workspace: { sandboxPrivacyChanged },\n    },\n    state: {\n      editor: {\n        currentSandbox: { owned, privacy },\n      },\n      user,\n    },\n  } = useOvermind();\n\n  const config = {\n    0: {\n      description: 'Everyone can see this Sandbox',\n      Icon: Public,\n    },\n    1: {\n      description:\n        'Only people with a private link are able to see this Sandbox',\n      Icon: Unlisted,\n    },\n    2: {\n      description: 'Only you can see this Sandbox.',\n      Icon: Private,\n    },\n  };\n\n  const onChange = event => {\n    const value = event.target.value;\n    sandboxPrivacyChanged({\n      privacy: Number(value) as 0 | 1 | 2,\n      source: 'tooltip',\n    });\n  };\n  const { description, Icon } = config[privacy];\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container>\n        <Tooltip\n          content={\n            <>\n              <Text size=\"3\" marginBottom={4}>\n                {owned ? (\n                  <>\n                    {user?.subscription ? (\n                      'Adjust privacy settings.'\n                    ) : (\n                      <>\n                        You can change privacy of a sandbox as a Pro.\n                        <br />\n                        <Link href=\"/pricing\">Upgrade to Pro</Link>\n                      </>\n                    )}\n                  </>\n                ) : (\n                  'The author has set privacy to'\n                )}\n              </Text>\n\n              <Select\n                disabled={!user?.subscription || !owned}\n                marginBottom={2}\n                onChange={onChange}\n                value={privacy}\n              >\n                <option value={0}>Public</option>\n\n                <option value={1}>Unlisted</option>\n\n                <option value={2}>Private</option>\n              </Select>\n\n              <Text size=\"2\" color=\"grays.300\">\n                {description}\n              </Text>\n            </>\n          }\n          delay={0}\n          interactive\n          onShown={() => track('Sandbox - Open Privacy Tooltip', { owned })}\n        >\n          <Icon />\n        </Tooltip>\n      </Container>\n    </ThemeProvider>\n  );\n};\n","import AutosizeInput from 'react-input-autosize';\nimport styled, { css } from 'styled-components';\n\nexport const Folder = styled.div`\n  display: none;\n\n  @media screen and (min-width: 950px) {\n    display: block;\n  }\n`;\n\nexport const Form = styled.form`\n  position: absolute;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const NameInput = styled(AutosizeInput)`\n  input {\n    display: inline-block;\n    background-color: transparent;\n    outline: 0;\n    border: 0;\n    color: white;\n    margin: 0;\n    padding: 0;\n    text-align: center;\n  }\n`;\n\nexport const Main = styled.div`\n  display: none;\n  transition: opacity 0.25s ease-in-out;\n  opacity: 0;\n  z-index: 10;\n\n  @media screen and (min-width: 826px) {\n    display: block;\n  }\n`;\n\nexport const TemplateBadge = styled.label`\n  ${({ theme }) => css`\n    background: ${theme['activityBarBadge.background']};\n    color: ${theme['activityBarBadge.foreground']};\n    font-family: 'Inter', sans-serif;\n    font-weight: 500;\n    font-size: 11px;\n    padding: 0 8px;\n    border-radius: 2px;\n    margin-left: 1rem;\n    height: 1.5rem;\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    cursor: default;\n  `};\n`;\n","import { basename } from 'path';\n\nimport Tooltip from '@codesandbox/common/lib/components/Tooltip';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { getSandboxName } from '@codesandbox/common/lib/utils/get-sandbox-name';\nimport { ESC } from '@codesandbox/common/lib/utils/keycodes';\nimport { Button, Element, Stack, Text } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\nimport React, {\n  ChangeEvent,\n  FunctionComponent,\n  KeyboardEvent,\n  useEffect,\n  useState,\n} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { PrivacyTooltip } from '../PrivacyTooltip';\nimport { Folder, Form, Main, NameInput, TemplateBadge } from './elements';\n\nexport const SandboxName: FunctionComponent = () => {\n  const {\n    actions: {\n      modalOpened,\n      workspace: { sandboxInfoUpdated, valueChanged },\n    },\n    state: {\n      editor: { currentSandbox },\n      isLoggedIn,\n    },\n  } = useOvermind();\n  const [updatingName, setUpdatingName] = useState(false);\n  const [name, setName] = useState('');\n  const [fadeIn, setFadeIn] = useState(false);\n\n  useEffect(() => {\n    if (!fadeIn) {\n      const id = setTimeout(() => {\n        setFadeIn(true);\n      }, 500);\n      return () => clearTimeout(id);\n    }\n\n    return () => {};\n  }, [fadeIn]);\n\n  const sandboxName =\n    (currentSandbox && getSandboxName(currentSandbox)) || 'Untitled';\n\n  const updateSandboxInfo = () => {\n    sandboxInfoUpdated();\n\n    setUpdatingName(false);\n  };\n\n  const submitNameChange = (event: ChangeEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    updateSandboxInfo();\n\n    track('Change Sandbox Name From Header');\n  };\n\n  const handleNameClick = () => {\n    setUpdatingName(true);\n\n    setName(sandboxName);\n  };\n\n  const handleKeyUp = (e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.keyCode === ESC) {\n      updateSandboxInfo();\n    }\n  };\n\n  const handleBlur = () => {\n    updateSandboxInfo();\n  };\n\n  const handleInputUpdate = (e: ChangeEvent<HTMLInputElement>) => {\n    valueChanged({\n      field: 'title',\n      value: e.target.value,\n    });\n\n    setName(e.target.value);\n  };\n\n  const value = name !== 'Untitled' && updatingName ? name : '';\n\n  const folderName =\n    currentSandbox && currentSandbox.collection\n      ? basename(currentSandbox.collection.path) ||\n        (currentSandbox.team ? currentSandbox.team.name : 'My Sandboxes')\n      : 'My Sandboxes';\n\n  const { customTemplate, owned } = currentSandbox || {\n    customTemplate: null,\n    owned: false,\n  };\n\n  return (\n    <Main style={fadeIn ? { opacity: 1 } : null}>\n      <Stack align=\"center\">\n        {!customTemplate && owned && !updatingName && (\n          <Folder>\n            {isLoggedIn ? (\n              <Button\n                variant=\"link\"\n                css={css({ fontSize: 3, width: 'auto' })}\n                onClick={() => modalOpened({ modal: 'moveSandbox' })}\n                arial-label=\"Change sandbox folder\"\n              >\n                {folderName}\n              </Button>\n            ) : (\n              'Anonymous '\n            )}\n            <Text role=\"presentation\" variant=\"muted\">\n              /\n            </Text>\n          </Folder>\n        )}\n\n        {updatingName ? (\n          <>\n            <Form onSubmit={submitNameChange}>\n              <NameInput\n                autoFocus\n                ref={(el: HTMLInputElement) => {\n                  if (el) {\n                    el.focus();\n                  }\n                }}\n                onBlur={handleBlur}\n                onChange={handleInputUpdate}\n                onKeyUp={handleKeyUp}\n                placeholder={name}\n                value={value}\n                arial-label=\"sandbox name\"\n              />\n            </Form>\n          </>\n        ) : (\n          <>\n            {owned ? (\n              <Button\n                variant=\"link\"\n                css={css({ fontSize: 3, width: 'auto', color: 'foreground' })}\n                arial-label=\"Change sandbox name\"\n                onClick={handleNameClick}\n              >\n                {sandboxName}\n              </Button>\n            ) : (\n              <Text>{sandboxName}</Text>\n            )}\n          </>\n        )}\n\n        {!updatingName ? (\n          <Element as=\"span\" marginLeft={owned ? 0 : 2}>\n            <PrivacyTooltip />\n          </Element>\n        ) : null}\n\n        {!updatingName && currentSandbox.customTemplate ? (\n          <Tooltip\n            content={\n              <>\n                This sandbox is a template, you can learn about templates in the{' '}\n                <Link target=\"_blank\" to=\"/docs/templates\">\n                  docs\n                </Link>\n                .\n              </>\n            }\n            delay={0}\n            interactive\n            placement=\"bottom\"\n          >\n            <TemplateBadge color={customTemplate.color}>Template</TemplateBadge>\n          </Tooltip>\n        ) : null}\n      </Stack>\n    </Main>\n  );\n};\n","import LogoIcon from '@codesandbox/common/lib/components/Logo';\nimport { dashboardUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { Link, Stack } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\nimport React from 'react';\n\nimport { Actions } from './Actions';\nimport { DashboardIcon } from './icons';\nimport { MenuBar } from './MenuBar';\nimport { SandboxName } from './SandboxName';\n\nexport const Header = () => {\n  const {\n    state: { hasLogIn, editor, isAuthenticating },\n  } = useOvermind();\n\n  return (\n    <Stack\n      as=\"header\"\n      justify=\"space-between\"\n      align=\"center\"\n      paddingX={2}\n      css={css({\n        boxSizing: 'border-box',\n        fontFamily: 'Inter, sans-serif',\n        height: 12,\n        backgroundColor: 'titleBar.activeBackground',\n        color: 'titleBar.activeForeground',\n        borderBottom: '1px solid',\n        borderColor: 'titleBar.border',\n      })}\n    >\n      <Stack align=\"center\">\n        {hasLogIn ? (\n          <Link\n            variant=\"muted\"\n            href={dashboardUrl()}\n            css={{ lineHeight: 0 /* micro adjustment */ }}\n          >\n            <DashboardIcon />\n          </Link>\n        ) : (\n          <Link href=\"/\" css={{ padding: '2px' /* micro adjustment */ }}>\n            <LogoIcon height={24} />\n          </Link>\n        )}\n        <MenuBar />\n      </Stack>\n\n      {editor.currentSandbox && !isAuthenticating ? <SandboxName /> : null}\n      {editor.currentSandbox && !isAuthenticating ? <Actions /> : null}\n    </Stack>\n  );\n};\n","import styled, { css } from 'styled-components';\nimport { Stack } from '@codesandbox/components';\n\nexport const Container = styled(Stack)`\n  ${({\n    topOffset,\n    bottomOffset,\n    theme,\n  }: {\n    topOffset: number;\n    bottomOffset: number;\n    theme: any;\n  }) => css`\n    position: fixed;\n    top: ${topOffset}px;\n    bottom: ${bottomOffset}px;\n    left: 0;\n    padding: ${theme.space[2]}px;\n    border-right: 1px solid ${theme.colors.activityBar.border};\n    height: 100%;\n    color: ${theme.colors.mutedForeground};\n    font-size: 1.4rem;\n    background-color: ${theme.colors.activityBar.background};\n  `}\n`;\n\nexport const IconContainer = styled(Stack)<{\n  selected: boolean;\n  isDisabled: boolean;\n}>(\n  props => css`\n    transition: ${props.theme.speeds[1]}ms ease all;\n    height: ${props.theme.space[9]}px;\n    width: ${props.theme.space[10]}px;\n    color: ${props.theme.colors.activityBar.inactiveForeground};\n    cursor: pointer;\n    background: transparent;\n    border: 0;\n    border-radius: ${props.theme.radii.small}px;\n    box-sizing: border-box;\n    padding: 0;\n\n    &:hover {\n      background: ${props.theme.colors.activityBar.hoverBackground};\n    }\n\n    &:focus {\n      outline: none;\n      background: ${props.theme.colors.activityBar.hoverBackground};\n    }\n\n    ${props.selected &&\n      css`\n        color: ${props.theme.colors.activityBar.selectedForeground};\n      `};\n\n    ${props.isDisabled &&\n      !props.selected &&\n      css`\n        opacity: 0.4;\n      `}\n  `\n);\n\nexport const Separator = styled.hr`\n  width: calc(100% - 20px);\n  height: 1px;\n  background-color: ${props => props.theme.colors.sideBar.border};\n  margin: 0.25rem 0;\n  outline: none;\n  border: none;\n`;\n","import React from 'react';\n\nexport const CommentsIcon = props => (\n  <svg width={40} height={32} fill=\"none\" viewBox=\"0 0 40 32\" {...props}>\n    <g fillRule=\"evenodd\" clipRule=\"evenodd\">\n      <path fill=\"currentColor\" d=\"M10 14a6 6 0 116 6h-6z\" />\n      <path\n        fill=\"currentColor\"\n        d=\"M19.697 19.945a5.265 5.265 0 005.04 3.74H30V18.42a5.263 5.263 0 00-7.021-4.962 6.996 6.996 0 01-3.281 6.486z\"\n      />\n    </g>\n  </svg>\n);\n\nexport const DeployIcon = props => (\n  <svg width={40} height={32} fill=\"none\" viewBox=\"0 0 40 32\" {...props}>\n    <g fill=\"currentColor\">\n      <path\n        fillRule=\"evenodd\"\n        d=\"M19.86 12.19l4.057-4.057c1.586-1.586 5.289-2.896 6.568-1.617s-.058 4.955-1.644 6.54l-4.056 4.057c-.34.34-.318.895-.152 1.347.997 2.718-3.89 7.541-3.89 7.541l-1.95-1.948 1.83-2.779-1.83.83-3.896-3.897.803-1.857-2.751 1.857L11 16.26s4.8-4.91 7.514-3.917c.451.165 1.007.187 1.347-.153z\"\n        clipRule=\"evenodd\"\n      />\n      <path d=\"M13.608 25.29a2.178 2.178 0 10-2.643-2.635L10 26.259z\" />\n    </g>\n  </svg>\n);\n\nexport const ExplorerIcon = props => (\n  <svg width={40} height={32} fill=\"none\" viewBox=\"0 0 40 32\" {...props}>\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M13 7a1 1 0 011-1h7v6h6v13a1 1 0 01-1 1H14a1 1 0 01-1-1zm9-1l5 5h-5z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nexport const ServerIcon = props => (\n  <svg width={40} height={32} fill=\"none\" viewBox=\"0 0 40 32\" {...props}>\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M10.922 7a.922.922 0 00-.922.922v3.156c0 .51.413.922.922.922h18.156c.51 0 .922-.413.922-.922V7.922A.922.922 0 0029.078 7zm.578 1a.5.5 0 000 1h7a.5.5 0 000-1zm-.578 5a.922.922 0 00-.922.922v3.156c0 .51.413.922.922.922h18.156c.51 0 .922-.413.922-.922v-3.156a.922.922 0 00-.922-.922zm.846.857a.5.5 0 100 1h7a.5.5 0 100-1zM10 19.922c0-.51.413-.922.922-.922h18.156c.51 0 .922.413.922.922v3.156c0 .51-.413.922-.922.922H10.922a.922.922 0 01-.922-.922zm1 .578a.5.5 0 01.5-.5h7a.5.5 0 010 1h-7a.5.5 0 01-.5-.5z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nexport const GithubIcon = props => (\n  <svg width={40} height={32} fill=\"none\" viewBox=\"0 0 40 32\" {...props}>\n    <path\n      fill=\"currentColor\"\n      d=\"M17.242 26.224c-.08 0-.169-.008-.267-.026l.04-.446h.396a.39.39 0 00.159-.086.426.426 0 00.125-.241.561.561 0 00.008-.1c0-.242-.003-.468-.006-.771l-.013-1.25c-3.617.668-4.466-1.893-4.5-2.003-.579-1.467-1.371-1.84-1.373-1.841l-.03-.017c-1.826-1.254.21-1.231.217-1.231h.014c1.426.099 2.188 1.424 2.23 1.498.434.749.968 1.117 1.499 1.269.77.22 1.544-.005 2.002-.197.063-.379.167-.706.297-.984.088-.187.188-.352.295-.495-1.382-.196-2.768-.597-3.85-1.514-1.203-1.017-2.019-2.652-2.023-5.314a5.683 5.683 0 01.359-2.036c.23-.607.564-1.152.98-1.634a4.422 4.422 0 01-.227-1.154c-.044-.645.025-1.487.402-2.453l.009-.018s.164-.141.396-.154c.153-.008.385 0 .697.063.608.123 1.54.462 2.826 1.325a12.308 12.308 0 011.563-.317 13.052 13.052 0 013.492-.005c.532.071 1.057.175 1.566.312 2.581-1.744 3.772-1.362 3.776-1.361l.104.031.04.102c.382.966.454 1.806.412 2.45a4.438 4.438 0 01-.223 1.155c.418.48.753 1.023.984 1.63.235.614.363 1.293.364 2.037.004 2.669-.808 4.306-2.009 5.323-1.081.916-2.467 1.317-3.852 1.513.163.213.309.476.423.789.153.42.25.934.251 1.54.002 1.082-.004 2.208-.009 2.953l-.002.748c0 .034.003.07.01.108.018.09.057.176.125.237.037.034.084.061.143.08l.42-.002.042.446c-.1.02-.194.029-.282.03-.086 0-.165-.01-.237-.025l-7.532.013c-.071.015-.148.023-.23.023z\"\n    />\n  </svg>\n);\n\nexport const InfoIcon = props => (\n  <svg width={40} height={32} fill=\"none\" viewBox=\"0 0 40 32\" {...props}>\n    <path\n      fill=\"currentColor\"\n      d=\"M20.54 25a.681.681 0 00.158-.074l6.174-3.69c.734-.438 1.128-.885 1.128-2.084v-6.444c0-.248-.016-.447-.063-.629l-7.397 4.434zm-8.477-12.921l7.397 4.434V25a.514.514 0 01-.15-.074l-6.182-3.69c-.726-.438-1.128-.885-1.128-2.084v-6.444c0-.248.016-.447.063-.629zM20.004 7c.443 0 .9.143 1.359.406l.068.04 5.567 3.326c.155.088.284.177.394.282l.04.04-7.428 4.426-7.436-4.425c.11-.109.233-.198.378-.286l.063-.037 4.07-2.442h.002l1.488-.883c.434-.262.868-.415 1.296-.443l.071-.003z\"\n    />\n  </svg>\n);\n\nexport const LiveIcon = props => (\n  <svg width={40} height={32} fill=\"none\" viewBox=\"0 0 40 32\" {...props}>\n    <g fill=\"currentColor\" fillRule=\"evenodd\" clipRule=\"evenodd\">\n      <path d=\"M15.222 19.113c2.193 0 3.976-2.108 4.023-4.533a.981.981 0 00.178-.48.92.92 0 00-.202-.698c-.114-2.225-.684-4.592-3.033-4.876l-.027-.003c-.681-.083-2.23-.27-2.548.665-2.144-.26-2.41 2.012-2.425 3.889-.248.153-.378.513-.297.886a.944.944 0 00.308.528c.005 2.463 1.804 4.622 4.023 4.622zm1.775 7.354c-.016-2.005-.032-4.022 2.003-5.304C17.645 18.895 5.439 19.5 8.487 27H17l-.003-.533z\" />\n      <path d=\"M30.348 13.247c0 1.05-.374 2.087-.816 2.878-.1.179.08.482.262.786.199.333.398.667.226.839-.47.47-1.582.414-2.482.347-.59.517-1.303.819-2.07.819-.861 0-1.654-.382-2.284-1.022l-.514.24c-1.337-.177-2.162-2.377-1.844-4.914.319-2.537 1.66-4.45 2.997-4.272.307.065.584.15.835.251.575-.474 1.257-.75 1.988-.75 2.045 0 3.702 2.148 3.702 4.798zM18.602 26.85h13.36s.965-6.448-6.76-6.617c-7.726-.168-6.6 6.617-6.6 6.617z\" />\n    </g>\n  </svg>\n);\nexport const SettingsIcon = props => (\n  <svg width={40} height={32} fill=\"none\" viewBox=\"0 0 40 32\" {...props}>\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M21.253 6h-3.076l-.463 1.85a8.413 8.413 0 00-2.13.931l-1.567-.94-2.176 2.176.94 1.567a8.414 8.414 0 00-1.01 2.435L10 14.462v3.077l1.772.442c.209.872.553 1.692 1.01 2.435l-.94 1.567 2.175 2.176 1.566-.94c.744.456 1.564.8 2.436 1.01L18.46 26h3.077l.443-1.772a8.411 8.411 0 002.435-1.01l1.567.94 2.176-2.175-.94-1.567c.456-.743.8-1.563 1.01-2.435L30 17.538v-3.077l-1.772-.442a8.411 8.411 0 00-1.01-2.436l.94-1.566-2.175-2.176-1.567.94a8.408 8.408 0 00-2.736-1.076zM20 20.286a4.286 4.286 0 100-8.572 4.286 4.286 0 000 8.572z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n","import Tooltip, {\n  SingletonTooltip,\n} from '@codesandbox/common/lib/components/Tooltip';\nimport { TippyProps } from '@tippy.js/react';\nimport { useOvermind } from 'app/overmind';\nimport getWorkspaceItems, {\n  INavigationItem,\n  getDisabledItems,\n} from 'app/overmind/utils/items';\nimport React, { FunctionComponent } from 'react';\nimport PlusIcon from 'react-icons/lib/go/plus';\n\nimport { Container, IconContainer } from './elements';\nimport {\n  CommentsIcon,\n  DeployIcon,\n  ExplorerIcon,\n  GithubIcon,\n  InfoIcon,\n  LiveIcon,\n  ServerIcon,\n  SettingsIcon,\n} from './icons';\n\nconst IDS_TO_ICONS = {\n  project: InfoIcon,\n  'project-summary': InfoIcon,\n  files: ExplorerIcon,\n  github: GithubIcon,\n  deploy: DeployIcon,\n  config: SettingsIcon,\n  live: LiveIcon,\n  more: PlusIcon,\n  server: ServerIcon,\n  comments: CommentsIcon,\n};\n\ntype IconProps = {\n  item: INavigationItem;\n  isDisabled?: boolean;\n  singleton: TippyProps['singleton'];\n};\nconst IconComponent: FunctionComponent<IconProps> = ({\n  item: { id, name },\n  isDisabled,\n  singleton,\n}) => {\n  const {\n    actions: {\n      workspace: { setWorkspaceHidden, setWorkspaceItem },\n    },\n    state: {\n      workspace: { openedWorkspaceItem, workspaceHidden },\n    },\n  } = useOvermind();\n\n  const Icon = IDS_TO_ICONS[id];\n  const selected = !workspaceHidden && id === openedWorkspaceItem;\n\n  return (\n    <Tooltip content={name} singleton={singleton}>\n      <IconContainer\n        justify=\"center\"\n        align=\"center\"\n        isDisabled={isDisabled}\n        selected={selected}\n        as=\"button\"\n        aria-label={name}\n        onClick={() => {\n          if (selected) {\n            setWorkspaceHidden({ hidden: true });\n          } else {\n            setWorkspaceHidden({ hidden: false });\n            setWorkspaceItem({ item: id });\n          }\n        }}\n      >\n        <Icon aria-hidden />\n      </IconContainer>\n    </Tooltip>\n  );\n};\n\ntype Props = {\n  topOffset: number;\n  bottomOffset: number;\n};\nexport const Navigation: FunctionComponent<Props> = ({\n  topOffset,\n  bottomOffset,\n}) => {\n  const { state } = useOvermind();\n  const shownItems = getWorkspaceItems(state);\n  const disabledItems = getDisabledItems(state);\n\n  return (\n    // @ts-ignore\n    <Container\n      align=\"center\"\n      direction=\"vertical\"\n      gap={4}\n      topOffset={topOffset}\n      bottomOffset={bottomOffset}\n      // @ts-ignore\n      as=\"nav\"\n      aria-label=\"Sandbox Navigation\"\n    >\n      <SingletonTooltip placement=\"right\">\n        {singleton => (\n          <>\n            {shownItems.map(item => (\n              <IconComponent key={item.id} item={item} singleton={singleton} />\n            ))}\n\n            {disabledItems.map(item => (\n              <IconComponent\n                key={item.id}\n                item={item}\n                singleton={singleton}\n                isDisabled\n              />\n            ))}\n          </>\n        )}\n      </SingletonTooltip>\n    </Container>\n  );\n};\n","import styled, { css, keyframes } from 'styled-components';\nimport Color from 'color';\n\nconst pulse = keyframes`\n  0% { background-position: 100% 50%; }\n  100% { background-position: -100% 50%; }\n`;\n\nexport const SkeletonTextBlock = styled.div(props => {\n  let color = props.theme.colors?.sideBar.border || '#242424';\n  const themeType = props.theme.vscodeTheme.type;\n\n  /**\n   * This is fun,\n   * We animate the background gradient to create a pulse animation\n   *\n   * To support all themes nicely, we can't really pick a value from the theme\n   * So, we take the sidebar.border and then change it's luminosity\n   * 14% for background and 16% for the pulse highlight on top\n   * We need to set the value to 100 - value for light themes\n   */\n\n  const backgroundLuminosity = themeType === 'light' ? 86 : 14;\n  const highlightLuminosity = themeType === 'light' ? 88 : 16;\n\n  // Color('#ff000033') throws error.\n  const colorWithOpacity = color.length === 9;\n\n  if (colorWithOpacity) {\n    // remove the opacity\n    color = color.slice(0, -2);\n  }\n\n  const hsl = Color(color).hsl();\n\n  const background = Color({ ...hsl, l: backgroundLuminosity }).hslString();\n  const highlight = Color({ ...hsl, l: highlightLuminosity }).hslString();\n\n  return css`\n    height: 16px;\n    width: 200px;\n    opacity: 0.7;\n    animation: ${pulse} 4s linear infinite;\n    background: linear-gradient(\n      90deg,\n      ${background} 0%,\n      ${background} 20%,\n      ${highlight} 50%,\n      ${background} 80%,\n      ${background} 100%\n    );\n    background-size: 200% 200%;\n  `;\n});\n\nexport const SkeletonWrapper = styled.div`\n  position: absolute;\n  font-family: Inter, sans-serif;\n  opacity: 1;\n  transition: opacity 0.5s ease-out;\n  background-color: ${props =>\n    props.theme.colors?.editor?.background || 'black'};\n  width: 100%;\n  height: 100%;\n  display: flex;\n  top: 0;\n  left: 0;\n  z-index: 10;\n`;\n\nexport const SkeletonExplorer = styled.div`\n  flex: 0 0 272px;\n  border-right: 1px solid\n    ${props => props.theme.colors?.sideBar.border || 'rgba(0, 0, 0, 0.5)'};\n  background-color: ${props =>\n    props.theme.colors?.sideBar.background || 'rgba(0, 0, 0, 0.5)'};\n  color: ${props => props.theme.colors?.sideBar.foreground || '#ffffff'} + '80';\n`;\n\nexport const SkeletonEditor = styled.div`\n  flex: 1;\n  border-right: 1px solid\n    ${props => props.theme.colors?.sideBar.border || 'rgba(0, 0, 0, 0.5)'};\n`;\nexport const SkeletonEditorTop = styled.div`\n  height: 34px;\n  border-bottom: 1px solid\n    ${props => props.theme.colors?.sideBar.border || 'rgba(0, 0, 0, 0.5)'};\n`;\nexport const SkeletonDevtools = styled.div`\n  flex: 1;\n`;\nexport const SkeletonDevtoolsTop = styled.div`\n  height: 34px;\n`;\nexport const SkeletonDevtoolsNavigator = styled.div`\n  height: 34px;\n  border-bottom: 1px solid\n    ${props => props.theme.colors?.sideBar.border || 'rgba(0, 0, 0, 0.5)'};\n`;\nexport const SkeletonDevtoolsIframe = styled.div`\n  height: calc(100% - 22px);\n  background-color: #fff;\n`;\nexport const SkeletonStatusBar = styled.div`\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  height: 22px;\n  background-color: ${props =>\n    props.theme.colors?.statusBar.background || 'rgba(0, 0, 0, 0.5)'};\n`;\n","import Navigator from '@codesandbox/common/lib/components/Preview/Navigator';\nimport { Collapsible, List, ListItem, Stack } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport React from 'react';\n\nimport {\n  SkeletonDevtools,\n  SkeletonDevtoolsIframe,\n  SkeletonDevtoolsNavigator,\n  SkeletonDevtoolsTop,\n  SkeletonEditor,\n  SkeletonEditorTop,\n  SkeletonExplorer,\n  SkeletonTextBlock,\n  SkeletonWrapper,\n  SkeletonStatusBar,\n} from './elements';\n\nexport const ContentSkeleton = ({ style }) => (\n  <SkeletonWrapper style={style}>\n    <SkeletonExplorer>\n      <SkeletonExplorerContents />\n    </SkeletonExplorer>\n    <SkeletonEditor>\n      <SkeletonEditorTop />\n    </SkeletonEditor>\n    <SkeletonDevtools>\n      <SkeletonDevtoolsTop />\n      <SkeletonDevtoolsNavigator>\n        <Navigator\n          url=\"\"\n          onChange={() => {}}\n          onConfirm={() => {}}\n          onRefresh={() => {}}\n          isProjectView\n        />\n      </SkeletonDevtoolsNavigator>\n      <SkeletonDevtoolsIframe />\n    </SkeletonDevtools>\n    <SkeletonStatusBar />\n  </SkeletonWrapper>\n);\n\nconst SkeletonExplorerContents = () => (\n  <>\n    <Collapsible title=\"Files\" defaultOpen>\n      <List>\n        <File />\n        <File />\n        <File />\n        <File />\n        <File />\n        <File />\n      </List>\n    </Collapsible>\n    <Collapsible title=\"Dependencies\" defaultOpen>\n      <List css={{ marginBottom: '32px' }}>\n        <Dependency />\n        <Dependency />\n        <Dependency />\n      </List>\n    </Collapsible>\n    <Collapsible title=\"External resources\" />\n  </>\n);\n\nexport const File = props => (\n  <ListItem\n    justify=\"space-between\"\n    align=\"center\"\n    css={css({ paddingLeft: 3, minHeight: 7 })}\n    {...props}\n  >\n    <Stack gap={2} align=\"center\" css={css({ color: 'sideBar.border' })}>\n      <SkeletonTextBlock css={css({ width: 5 })} />\n      <SkeletonTextBlock css={{ width: 'calc(200px - 28px)' }} />\n    </Stack>\n  </ListItem>\n);\n\nconst Dependency = () => (\n  <ListItem justify=\"space-between\">\n    <SkeletonTextBlock />\n  </ListItem>\n);\n","const scopeMap = {\n  comment: 'comment',\n  punctuation: 'punctuation',\n  string: 'string',\n  variable: 'variable',\n  constant: 'constant',\n  header: 'prolog',\n  'support.function.magic': 'constant',\n  'support.variable': 'constant',\n  'entity.name.type.namespace': 'namespace',\n  'keyword.operator': 'operator',\n  'constant.numeric': 'number',\n  'constant.character.numeric': 'number',\n  'support.type.vendor.property-name': 'property',\n  'support.type.property-name': 'property',\n  'meta.property-list': 'property',\n  'entity.name.tag': 'tag',\n  'entity.name.function': 'function',\n  'entity.name.class': 'class-name',\n  'entity.name.tag.doctype': 'doctype',\n  'meta.selector': 'selector',\n  'entity.other.attribute-name': 'attr-name',\n  'meta.attribute-selector': 'attr-name',\n  'constant.other': 'constant',\n  'constant.other.symbol': 'symbol',\n  'constant.language.boolean': 'boolean',\n  'constant.character': 'char',\n  'meta.tag.html': 'tag',\n  'meta.tag.js': 'tag',\n  'support.function': 'builtin',\n  'variable.other.constant': 'builtin',\n  'constant.language': 'builtin',\n  'keyword.control': 'keyword',\n  'keyword.other': 'keyword',\n  'variable.parameter.url': 'url',\n  'meta.at-rule': 'at-rule',\n  'source.css.scss': 'at-rule',\n  'markup.inserted': 'inserted',\n  'markup.deleted': 'deleted',\n  'markup.changed': 'changed',\n};\n\nexport const mapScope = scope => {\n  // If the scope includes a whitespace, it's a specific\n  // type that we don't support\n  if (scope.includes(' ')) {\n    return undefined;\n  }\n\n  const scopeAccess = scope.split('.');\n\n  for (let i = scopeAccess.length; i >= 0; i--) {\n    const searchScope = scopeAccess.slice(0, i).join('.');\n    const outputScope = scopeMap[searchScope];\n    if (outputScope !== undefined) {\n      return outputScope;\n    }\n  }\n\n  return undefined;\n};\n","const scorePerScope = {\n  builtin: ['variable.other.constant', 'constant.language'],\n  punctuation: ['punctuation.accessor'],\n  tag: ['meta.tag.html', 'entity.name.tag'],\n};\n\n// The higher the better\nconst score = [\n  // These are sure matches\n  'markup', // diffs\n  'comment',\n  'punctuation',\n  'string',\n  'variable',\n\n  // These are more \"meta\" scopes\n  'meta', // good guesses\n  'entity',\n  'constant',\n  'support',\n  'variable',\n];\n\nconst baseScoreSize = score.length;\n\nexport const getScoreForScope = (scope, mappedScope) => {\n  // Get scores for specific mapped scopes first\n  const scoreForMapped = scorePerScope[mappedScope];\n  if (scoreForMapped) {\n    // If the scope is in the specific mapped scope we add the baseScoreSize to this\n    // score\n    const mappedIndex = scoreForMapped.findIndex(x => scope.startsWith(x));\n    if (mappedIndex !== -1) {\n      return baseScoreSize + (scoreForMapped.length - mappedIndex);\n    }\n  }\n\n  const parentScope = scope.split('.')[0];\n  const index = score.indexOf(parentScope);\n\n  if (index === -1) {\n    // Otherwise it's a negative score based on length\n    return -1 * scope.length;\n  }\n\n  // If it's found we return the score from the main `score` arr\n  return baseScoreSize - index;\n};\n","type Output = {\n  color?: string;\n  backgroundColor?: string;\n  fontStyle?: string;\n};\n\nexport const transformSettings = settings => {\n  const output: Output = {};\n\n  if (settings.foreground) {\n    output.color = settings.foreground.toString();\n  }\n\n  if (settings.background) {\n    output.backgroundColor = settings.background.toString();\n  }\n\n  if (settings.fontStyle === 'italic') {\n    output.fontStyle = 'italic';\n  }\n\n  return output;\n};\n","import { mapScope } from './scopeMapper';\nimport { getScoreForScope } from './scopeScore';\nimport { transformSettings } from './transformSettings';\nimport { minify } from './minify';\n\nexport const collectAllSettings = tokenColors => {\n  const output = {};\n\n  tokenColors.forEach(({ scope, settings }) => {\n    // We only care about colouring here\n    if (!settings.foreground && !settings.fontStyle) {\n      return;\n    }\n\n    const normScope = typeof scope === 'string' ? [scope] : scope;\n    // Return when no input scopes are present\n    if (!normScope || !normScope.length) {\n      return;\n    }\n\n    normScope.forEach(scopeName => {\n      const mappedScope = mapScope(scopeName);\n      // Return when no mapping scope has been returned\n      if (!mappedScope) {\n        return;\n      }\n\n      if (output[mappedScope] === undefined) {\n        output[mappedScope] = [];\n      }\n\n      output[mappedScope].push({\n        scope: scopeName,\n        settings,\n      });\n    });\n  });\n\n  const styles = Object.keys(output).map(mappedScope => {\n    const matchesArr = output[mappedScope];\n\n    // Get score for each match\n    const scored = matchesArr.map(match => {\n      const score = getScoreForScope(match.scope, mappedScope);\n\n      return {\n        score,\n        scope: mappedScope,\n        settings: transformSettings(match.settings),\n      };\n    });\n\n    // Sort by score asc\n    const sorted = scored.sort((a, b) => b.score - a.score);\n\n    // Return highest-scored one\n    return sorted[0];\n  });\n\n  const themeStyles = minify(styles);\n\n  return {\n    styles: themeStyles,\n  };\n};\n","import isEqual from 'lodash-es/isEqual';\n\nexport const minify = styles => {\n  const output = [];\n\n  styles.forEach(style => {\n    const item = output.find(x => isEqual(style.settings, x.style));\n\n    if (!item) {\n      output.push({\n        types: [style.scope],\n        style: style.settings,\n      });\n    } else {\n      item.types.push(style.scope);\n    }\n  });\n\n  return output;\n};\n","import { collectAllSettings } from './collectStyles';\n\nexport const makeTheme = theme => {\n  const prismTheme = collectAllSettings(theme.tokenColors);\n\n  const json = {\n    plain: {\n      color: theme.colors['editor.foreground'],\n      backgroundColor: theme.colors['editor.background'],\n    },\n    ...prismTheme,\n  };\n\n  return json;\n};\n","import React from 'react';\nimport Highlight, { defaultProps } from 'prism-react-renderer';\nimport { Element } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\nimport { withTheme } from 'styled-components';\nimport { makeTheme } from './makeTheme/index';\n\nexport const Code = withTheme(({ value, language, theme }) => {\n  const { state } = useOvermind();\n\n  const defaultLanguage = () => {\n    const template = state.editor.currentSandbox.template;\n    if (template === 'create-react-app') {\n      return 'jsx';\n    }\n    return 'js';\n  };\n  return (\n    <>\n      {value ? (\n        <Highlight\n          {...defaultProps}\n          code={value}\n          language={language || defaultLanguage()}\n          // @ts-ignore\n          theme={makeTheme(theme.vscodeTheme)}\n        >\n          {({ className, style, tokens, getLineProps, getTokenProps }) => (\n            <Element\n              as=\"pre\"\n              paddingX={4}\n              paddingY={2}\n              marginY={2}\n              className={className}\n              style={style}\n              css={css({\n                fontSize: 3,\n                whiteSpace: 'pre-wrap',\n                maxHeight: 400,\n                overflow: 'scroll',\n                fontFamily: \"'dm', menlo, monospace\",\n\n                '*': {\n                  wordBreak: 'break-all',\n                },\n              })}\n            >\n              {tokens.map((line, i) => (\n                <Element {...getLineProps({ line, key: i })}>\n                  {line.map((token, key) => (\n                    <Element as=\"span\" {...getTokenProps({ token, key })} />\n                  ))}\n                </Element>\n              ))}\n            </Element>\n          )}\n        </Highlight>\n      ) : null}\n    </>\n  );\n});\n","import React, { useState } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport Modal from 'react-modal';\nimport { Text, Element, Button, IconButton } from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nexport const Image = props => {\n  const { state } = useOvermind();\n  const [modalOpen, setModalOpen] = useState(false);\n  const privateSandbox =\n    state.editor.currentSandbox.privacy === 1 ||\n    state.editor.currentSandbox.privacy === 2;\n  return privateSandbox ? (\n    <>\n      <Button\n        padding={0}\n        margin={0}\n        marginTop={2}\n        variant=\"link\"\n        onClick={() => setModalOpen(true)}\n        css={css({\n          maxWidth: '100%',\n          border: 'none',\n        })}\n      >\n        <img\n          {...props}\n          alt={props.alt}\n          css={css({\n            maxWidth: '100%',\n            borderRadius: 'small',\n          })}\n        />\n      </Button>\n      <Modal\n        isOpen={modalOpen}\n        style={{\n          content: {\n            border: 'none',\n            padding: 0,\n            background: 'transparent',\n            top: '50%',\n            left: '50%',\n            right: 'auto',\n            bottom: 'auto',\n            marginRight: '-50%',\n            transform: 'translate(-50%, -50%)',\n          },\n          overlay: {\n            zIndex: 10,\n            backgroundColor: 'rgba(0, 0, 0, 0.4)',\n          },\n        }}\n        contentLabel={props.alt}\n        onRequestClose={() => setModalOpen(false)}\n      >\n        <IconButton\n          name=\"cross\"\n          size={10}\n          title=\"Close Modal\"\n          onClick={() => setModalOpen(false)}\n          css={{\n            position: 'absolute',\n            right: 4,\n            top: 4,\n            color: 'white',\n          }}\n        />\n        <img\n          {...props}\n          alt={props.alt}\n          css={css({\n            maxWidth: '100%',\n            borderRadius: 'small',\n            maxHeight: '80vh',\n          })}\n        />\n      </Modal>\n    </>\n  ) : (\n    <Element\n      paddingY={4}\n      marginY={2}\n      css={css({\n        backgroundColor: 'sideBar.border',\n        borderRadius: 'small',\n      })}\n    >\n      <Text size={3} variant=\"muted\" block align=\"center\">\n        Images are not shown in public sandboxes\n      </Text>\n    </Element>\n  );\n};\n","import React from 'react';\nimport { Text, Element } from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nexport const InlineCode = props => (\n  <Element\n    as=\"span\"\n    css={css({\n      backgroundColor: 'grays.200',\n      paddingX: '2px',\n      borderRadius: 'small',\n    })}\n  >\n    <Text\n      css={css({\n        color: 'reds.500',\n      })}\n      size={3}\n      as=\"code\"\n    >\n      {props.children}\n    </Text>\n  </Element>\n);\n","import { Button, Link } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\nimport React from 'react';\n\nexport const LinkElement = ({ href, children, ...props }) => {\n  const { state, actions } = useOvermind();\n  const { id, alias } = state.editor.currentSandbox;\n  const commentId = new URLSearchParams(new URL(href).search).get('comment');\n  if (\n    href.includes(window.location.href) &&\n    (href.includes(id) || href.includes(alias)) &&\n    commentId\n  ) {\n    return (\n      <Button\n        variant=\"link\"\n        css={css({\n          display: 'inline',\n          width: 'auto',\n          padding: 0,\n          textAlign: 'left',\n        })}\n        onClick={() => actions.comments.selectComment({ commentId })}\n      >\n        {children[0].props.children}\n      </Button>\n    );\n  }\n\n  if (!href.includes('codesandbox')) {\n    return (\n      <Link\n        href={href}\n        target=\"_blank\"\n        rel=\"noopener noreferrer ugc\"\n        {...props}\n      >\n        {children[0].props.children}\n      </Link>\n    );\n  }\n\n  return (\n    <Link href={href} {...props}>\n      {children[0].props.children}\n    </Link>\n  );\n};\n","import { Element, Link, Text } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport React from 'react';\nimport ReactMarkdown from 'react-markdown';\n\nimport { Code } from './Code';\nimport { Image } from './Image';\nimport { InlineCode } from './InlineCode';\nimport { LinkElement } from './Link';\n\nexport const Markdown = ({ source }) => (\n  <Element\n    css={css({\n      'ul, ol': {\n        paddingLeft: 0,\n        fontSize: 13,\n      },\n      'ol li': {\n        counterIncrement: 'counter',\n      },\n      'ol li::before': {\n        color: 'mutedForeground',\n        content: \"counter(counter) '. '\",\n      },\n      p: {\n        margin: 0,\n      },\n      li: {\n        listStyle: 'none',\n      },\n      'li:before': {\n        content: \"''\",\n        color: 'mutedForeground',\n        paddingRight: '0.5em',\n      },\n    })}\n  >\n    <ReactMarkdown\n      source={source.replace(/\\n/gi, '&nbsp;\\n\\n')}\n      renderers={{\n        text: ({ children }) => (\n          <Text\n            variant=\"muted\"\n            size={3}\n            css={css({\n              wordBreak: 'break-all',\n            })}\n          >\n            {children}\n          </Text>\n        ),\n        heading: ({ children }) => (\n          <Text block variant=\"muted\" size={3}>\n            {children}\n          </Text>\n        ),\n        code: Code,\n        link: LinkElement,\n        linkReference: props => <Link {...props}>{props.children}</Link>,\n        image: Image,\n        imageReference: Image,\n        thematicBreak: () => null,\n        inlineCode: InlineCode,\n      }}\n    />\n  </Element>\n);\n","import React from 'react';\n\nexport const GitHubIcon = props => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      d=\"M14.9269 4.08427C14.2115 2.82782 13.2411 1.83308 12.0155 1.09983C10.7897 0.366548 9.45149 0 7.99993 0C6.54855 0 5.20991 0.36666 3.98437 1.09983C2.75864 1.83304 1.78831 2.82782 1.07293 4.08427C0.357655 5.34069 0 6.71272 0 8.2003C0 9.98723 0.50859 11.5941 1.52602 13.0213C2.54335 14.4486 3.85758 15.4362 5.46862 15.9843C5.65615 16.02 5.79497 15.9949 5.88523 15.9096C5.97553 15.8243 6.02062 15.7174 6.02062 15.5894C6.02062 15.5681 6.01884 15.3759 6.01537 15.0128C6.01179 14.6497 6.01012 14.333 6.01012 14.0627L5.77052 14.1052C5.61776 14.1338 5.42505 14.146 5.19239 14.1426C4.95984 14.1392 4.71843 14.1142 4.46848 14.0678C4.21841 14.0218 3.98583 13.915 3.77053 13.7477C3.55535 13.5804 3.40259 13.3614 3.31229 13.0911L3.20813 12.8454C3.1387 12.6818 3.02939 12.5001 2.88006 12.3009C2.73073 12.1015 2.57973 11.9664 2.42697 11.8952L2.35403 11.8417C2.30544 11.8061 2.26034 11.7632 2.21864 11.7135C2.17698 11.6637 2.14578 11.6139 2.12495 11.564C2.10408 11.514 2.12137 11.4731 2.17701 11.441C2.23265 11.4088 2.3332 11.3932 2.4791 11.3932L2.68735 11.4251C2.82625 11.4537 2.99805 11.5389 3.20298 11.6814C3.40781 11.8237 3.57618 12.0088 3.70814 12.2364C3.86795 12.5284 4.06047 12.7508 4.28627 12.9039C4.51189 13.057 4.73937 13.1334 4.96849 13.1334C5.19761 13.1334 5.3955 13.1156 5.56223 13.0802C5.72879 13.0446 5.88505 12.991 6.03095 12.9199C6.09344 12.4428 6.26361 12.0762 6.54129 11.82C6.14551 11.7774 5.78968 11.7132 5.47361 11.6278C5.15773 11.5423 4.83131 11.4035 4.49456 11.2111C4.15763 11.019 3.87812 10.7805 3.65597 10.4959C3.43378 10.2111 3.25144 9.83726 3.10918 9.37467C2.96686 8.91189 2.89568 8.37806 2.89568 7.77302C2.89568 6.91153 3.17004 6.17843 3.71865 5.57332C3.46166 4.92564 3.48592 4.19958 3.79151 3.3952C3.9929 3.33106 4.29156 3.37919 4.68734 3.5393C5.0832 3.69948 5.37303 3.83669 5.55713 3.95046C5.74123 4.06419 5.88873 4.16057 5.99986 4.23873C6.64582 4.05372 7.31242 3.96119 7.99985 3.96119C8.68729 3.96119 9.35404 4.05372 10 4.23873L10.3958 3.98259C10.6665 3.81167 10.9862 3.65505 11.354 3.51267C11.722 3.37036 12.0035 3.33117 12.198 3.39531C12.5104 4.19973 12.5382 4.92575 12.2812 5.57343C12.8297 6.17855 13.1042 6.91183 13.1042 7.77313C13.1042 8.37817 13.0328 8.91369 12.8907 9.38002C12.7484 9.84642 12.5645 10.2199 12.3388 10.5012C12.113 10.7825 11.8317 11.0192 11.4949 11.2113C11.1581 11.4035 10.8316 11.5422 10.5157 11.6277C10.1997 11.7132 9.84384 11.7775 9.44806 11.8202C9.80903 12.1404 9.98956 12.6458 9.98956 13.3363V15.5891C9.98956 15.7171 10.033 15.8239 10.1199 15.9093C10.2067 15.9946 10.3437 16.0197 10.5313 15.9839C12.1425 15.4359 13.4568 14.4483 14.474 13.021C15.4912 11.5938 16 9.98693 16 8.2C15.9996 6.7126 15.6418 5.34069 14.9269 4.08427Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport const AddedIcon = () => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M2 1H14C14.5523 1 15 1.44772 15 2V14C15 14.5523 14.5523 15 14 15H2C1.44772 15 1 14.5523 1 14V2C1 1.44772 1.44772 1 2 1ZM0 2C0 0.895431 0.895431 0 2 0H14C15.1046 0 16 0.895431 16 2V14C16 15.1046 15.1046 16 14 16H2C0.895431 16 0 15.1046 0 14V2ZM9 12H7V9H4V7H7V4H9V7H12V9H9V12Z\"\n      fill=\"#30D158\"\n    />\n  </svg>\n);\n\nexport const DeletedIcon = () => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M2 1H14C14.5523 1 15 1.44772 15 2V14C15 14.5523 14.5523 15 14 15H2C1.44772 15 1 14.5523 1 14V2C1 1.44772 1.44772 1 2 1ZM0 2C0 0.895431 0.895431 0 2 0H14C15.1046 0 16 0.895431 16 2V14C16 15.1046 15.1046 16 14 16H2C0.895431 16 0 15.1046 0 14V2ZM12 7H4V9H12V7Z\"\n      fill=\"#FF453A\"\n    />\n  </svg>\n);\n\nexport const ChangedIcon = () => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M2 1H14C14.5523 1 15 1.44772 15 2V14C15 14.5523 14.5523 15 14 15H2C1.44772 15 1 14.5523 1 14V2C1 1.44772 1.44772 1 2 1ZM0 2C0 0.895431 0.895431 0 2 0H14C15.1046 0 16 0.895431 16 2V14C16 15.1046 15.1046 16 14 16H2C0.895431 16 0 15.1046 0 14V2ZM8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z\"\n      fill=\"#F69935\"\n    />\n  </svg>\n);\n","import React from 'react';\nimport { useOvermind } from 'app/overmind';\nimport css from '@styled-system/css';\nimport {\n  Stack,\n  FormField,\n  Input,\n  Textarea,\n  Button,\n  TagInput,\n} from '@codesandbox/components';\nimport { ENTER } from '@codesandbox/common/lib/utils/keycodes';\n\nexport const EditSummary = ({ setEditing }) => {\n  const {\n    actions: {\n      workspace: { sandboxInfoUpdated, valueChanged, tagsChanged2 },\n    },\n    state: {\n      editor: {\n        currentSandbox: { tags },\n      },\n      workspace: {\n        project: { title, description },\n      },\n    },\n  } = useOvermind();\n\n  const onTitleChange = event => {\n    valueChanged({ field: 'title', value: event.target.value });\n  };\n\n  const onDescriptionChange = event => {\n    valueChanged({ field: 'description', value: event.target.value });\n  };\n\n  // Text input elements treat Enter as submit\n  // but textarea doesn't, so we need to hijack it.\n  const submitOnEnter = event => {\n    if (event.keyCode === ENTER && !event.shiftKey) onSubmit(event);\n  };\n\n  const [newTags, setNewTags] = React.useState(tags || []);\n\n  const onSubmit = event => {\n    event.preventDefault();\n    sandboxInfoUpdated();\n    tagsChanged2(newTags);\n    setEditing(false);\n  };\n\n  return (\n    <form onSubmit={onSubmit}>\n      <Stack\n        as=\"section\"\n        direction=\"vertical\"\n        gap={2}\n        paddingX={2}\n        marginBottom={6}\n      >\n        <FormField\n          label=\"Sandbox Name\"\n          hideLabel\n          css={css({ paddingX: 0, width: '100%' })}\n        >\n          <Input\n            value={title}\n            onChange={onTitleChange}\n            placeholder=\"Title\"\n            autoFocus\n            type=\"text\"\n          />\n        </FormField>\n        <FormField\n          direction=\"vertical\"\n          label=\"Sandbox Description\"\n          hideLabel\n          css={css({ paddingX: 0 })}\n        >\n          <Textarea\n            rows={2}\n            placeholder=\"Description\"\n            maxLength={280}\n            onChange={onDescriptionChange}\n            onKeyDown={submitOnEnter}\n            value={description}\n          />\n        </FormField>\n\n        <TagInput value={newTags} onChange={setNewTags} />\n      </Stack>\n\n      <Stack justify=\"space-between\" paddingX={2}>\n        <Button\n          variant=\"link\"\n          css={{ flex: 1 }}\n          onClick={() => setEditing(false)}\n        >\n          Cancel\n        </Button>\n        <Button type=\"submit\" css={{ flex: 1 }} variant=\"secondary\">\n          Save\n        </Button>\n      </Stack>\n    </form>\n  );\n};\n","import React from 'react';\n\nexport const TwitterIcon = props => (\n  <svg width={20} height={16} fill=\"none\" viewBox=\"0 0 20 16\" {...props}>\n    <path\n      fill=\"currentColor\"\n      d=\"M19.692 1.902c-.56.82-1.25 1.51-2.07 2.07.038.112.056.298.056.56 0 1.081-.168 2.163-.503 3.244a12.215 12.215 0 01-1.455 3.077 12.77 12.77 0 01-2.293 2.63c-.896.783-1.958 1.398-3.19 1.846-1.23.447-2.573.671-4.027.671-2.275 0-4.345-.615-6.21-1.846.298.037.615.056.951.056 1.865 0 3.543-.56 5.035-1.679-.895-.037-1.678-.317-2.35-.839a4.443 4.443 0 01-1.454-1.958c.298.038.56.056.783.056a3.34 3.34 0 001.063-.168 3.81 3.81 0 01-2.294-1.398 4.278 4.278 0 01-.95-2.574 4.39 4.39 0 001.845.504 4.19 4.19 0 01-1.342-1.455 3.42 3.42 0 01-.448-1.902c0-.746.168-1.436.504-2.07a11.163 11.163 0 003.692 3.021A11.171 11.171 0 009.678 4.98a4.392 4.392 0 01-.112-.951c0-1.119.392-2.07 1.175-2.853C11.525.392 12.476 0 13.594 0c1.194 0 2.182.429 2.965 1.287a9.318 9.318 0 002.574-.951c-.299.932-.895 1.66-1.79 2.181a7.83 7.83 0 002.35-.615z\"\n    />\n  </svg>\n);\n\nexport const GithubIcon = props => (\n  <svg width={16} height={16} fill=\"none\" viewBox=\"0 0 16 16\" {...props}>\n    <path\n      fill=\"currentColor\"\n      d=\"M7.976 0c1.461 0 2.798.367 4.01 1.101a8.547 8.547 0 012.94 2.968c.746 1.244 1.103 2.617 1.072 4.116 0 1.788-.513 3.4-1.539 4.835-1.026 1.436-2.332 2.425-3.918 2.968-.187.032-.326 0-.42-.096a.465.465 0 01-.14-.335v-.814-1.436c0-.67-.186-1.164-.56-1.484a24.04 24.04 0 001.073-.191c.311-.064.638-.207.98-.43a3.88 3.88 0 00.84-.719c.217-.255.404-.622.56-1.1a5.258 5.258 0 00.232-1.628c0-.862-.28-1.596-.84-2.202.25-.639.219-1.357-.092-2.154-.187-.064-.467-.032-.84.095a3.237 3.237 0 00-.933.48l-.42.238a6.782 6.782 0 00-2.005-.287c-.715 0-1.368.096-1.96.287a4.541 4.541 0 01-.466-.287c-.186-.127-.482-.255-.886-.383-.404-.127-.7-.175-.886-.143-.311.797-.327 1.515-.047 2.154-.56.606-.84 1.34-.84 2.202 0 .606.079 1.149.234 1.627.155.479.326.846.513 1.101s.466.495.84.718c.373.224.7.367.98.431.279.064.637.128 1.072.191-.28.256-.451.623-.513 1.101-.125.064-.28.112-.467.144a3.603 3.603 0 01-.606.048c-.218 0-.435-.08-.653-.24a2.517 2.517 0 01-.606-.67 1.517 1.517 0 00-.467-.526 2.832 2.832 0 00-.513-.287h-.233c-.155 0-.249.016-.28.047-.03.033-.046.064-.046.096s.03.08.093.144c.062.064.093.112.093.143l.093.048c.156.064.311.208.467.431.155.224.264.4.326.527l.094.24c.093.286.248.51.466.67.218.159.45.27.7.334.248.064.482.08.7.048a4.2 4.2 0 01.606-.048h.233v1.484c0 .16-.047.271-.14.335-.093.064-.233.096-.42.096-1.617-.543-2.923-1.532-3.918-2.968C.544 11.584.031 9.973 0 8.185c0-1.5.358-2.872 1.073-4.116A8.165 8.165 0 013.965 1.1C5.177.367 6.515 0 7.975 0zM3.032 11.776c.03-.064 0-.112-.094-.144-.062-.032-.093-.016-.093.048-.031.032-.015.064.047.096.062.063.109.063.14 0zm.326.335c.031-.032.016-.08-.046-.144-.063-.064-.11-.08-.14-.048-.063.032-.063.096 0 .192.093.063.155.063.186 0zm.327.478c.062-.032.062-.095 0-.191s-.125-.112-.187-.048c-.062.032-.062.096 0 .191.062.096.125.112.187.048zm.42.48c.062-.065.046-.129-.047-.192-.093-.096-.156-.112-.187-.048-.062.063-.062.127 0 .191.094.096.171.112.233.048zm.606.238c0-.063-.047-.111-.14-.143-.124-.032-.187-.016-.187.048 0 .063.031.127.094.191.124.032.202 0 .233-.096zm.653.048c0-.064-.062-.096-.187-.096-.124 0-.186.032-.186.096 0 .096.062.144.186.144.125 0 .187-.048.187-.144zm.606-.096c-.03-.063-.093-.095-.186-.095-.125.032-.171.095-.14.191.03.096.093.112.186.048.094-.064.14-.112.14-.144z\"\n    />\n  </svg>\n);\n\nexport const SpectrumLogo = props => (\n  <svg width={16} height={16} fill=\"none\" viewBox=\"0 0 16 16\" {...props}>\n    <path\n      fillRule=\"evenodd\"\n      fill=\"currentColor\"\n      d=\"M0 6.8A1.2 1.2 0 001.2 8h1.2A5.6 5.6 0 018 13.6v1.2A1.2 1.2 0 009.2 16h5.6a1.2 1.2 0 001.2-1.2v-1.2C16 6.089 9.911 0 2.4 0H1.2A1.2 1.2 0 000 1.2v5.6z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nexport const GlobeIcon = props => (\n  <svg width={10} height={10} fill=\"none\" viewBox=\"0 0 10 10\" {...props}>\n    <path\n      fill=\"#757575\"\n      d=\"M9.33 2.643A4.781 4.781 0 007.51.986 5.264 5.264 0 005 .375c-.907 0-1.744.204-2.51.61A4.78 4.78 0 00.67 2.644 4.153 4.153 0 000 4.929c0 .826.224 1.587.67 2.285a4.783 4.783 0 001.82 1.657c.766.408 1.603.611 2.51.611.907 0 1.744-.203 2.51-.61a4.78 4.78 0 001.82-1.658c.447-.698.67-1.46.67-2.285 0-.827-.223-1.589-.67-2.286zM5.626 7.324c-.044-.047-.06-.087-.046-.118-.004.02-.02.037-.046.053a.61.61 0 00-.117-.089.604.604 0 01-.117-.089 2.53 2.53 0 01-.146-.228c-.011-.026-.012-.04-.004-.045-.082.032-.202.01-.358-.065a.617.617 0 01-.136-.124c-.061-.068-.124-.097-.19-.09l-.087.021a.37.37 0 01-.095.015.321.321 0 01-.104-.024.87.87 0 01-.14-.068 47.905 47.905 0 00-.205-.104l-.104-.047a.319.319 0 01-.081-.056.186.186 0 01-.056-.08 1.053 1.053 0 01-.032-.142.416.416 0 00-.052-.155.551.551 0 00-.11-.118c-.049-.04-.092-.06-.131-.06.035 0 .035-.026 0-.08a.607.607 0 00-.091-.115 7.751 7.751 0 01-.189-.19.472.472 0 01-.078-.11c-.022-.041-.026-.076-.013-.103.004-.004 0-.01-.013-.018a1.187 1.187 0 00-.104-.044.139.139 0 00-.04-.01.425.425 0 01.03.087c.01.041.023.072.036.091.008.016.045.074.11.172.113.166.165.289.157.368-.026.008-.044.004-.053-.012a.201.201 0 01-.02-.065.343.343 0 00-.012-.06c-.013-.023-.047-.049-.101-.076-.054-.028-.088-.056-.101-.083.004 0 .01-.002.016-.006a.033.033 0 01.017-.006c.004-.036-.019-.081-.069-.137-.05-.055-.07-.095-.062-.118-.034-.024-.065-.07-.09-.14a.502.502 0 00-.066-.133.266.266 0 00-.065-.062 1.302 1.302 0 00-.098-.06 2.892 2.892 0 01-.078-.044.238.238 0 01-.052-.053c-.143-.158-.186-.243-.13-.255-.056.012-.103-.027-.14-.116-.037-.089-.049-.157-.036-.204l-.013-.006a.803.803 0 00.007-.14c0-.077.005-.147.016-.21.01-.063.032-.095.062-.095-.03.004-.053-.021-.068-.074-.016-.054-.017-.09-.004-.11.005-.012.024-.004.059.024a.32.32 0 01.058.053c.057-.028.079-.063.066-.107a.856.856 0 00-.137-.124 2.484 2.484 0 00-.287-.16c.026-.044.02-.081-.02-.113-.043.024-.068.03-.074.018a.213.213 0 01-.016-.065c-.005-.032-.016-.05-.033-.054a.175.175 0 01-.078-.047c.386-.561.896-1 1.53-1.316.026-.004.074-.006.143-.006a.278.278 0 01.098.03c.03.015.062.037.094.065.033.027.058.047.075.059.009-.024-.002-.06-.033-.107.01-.024.057-.047.144-.071.1-.012.165-.01.195.006a1.59 1.59 0 00-.13-.148l-.033.03c-.034-.028-.126-.015-.273.04l-.065.033a.792.792 0 01-.085.039.175.175 0 01-.078.006c.208-.103.412-.184.612-.243a.632.632 0 01.065.05.94.94 0 00.072.056c-.013-.008-.022-.004-.026.012-.018.048-.018.087 0 .119a.124.124 0 00.088.047.531.531 0 00.133-.006.887.887 0 01.104-.012l.065.006c.14.012.193 0 .163-.035a.364.364 0 01.046.098c.017.049.037.084.058.103.022-.016.026-.043.013-.083-.013-.04-.013-.067 0-.083.004-.008.018-.016.04-.023a8.204 8.204 0 01.13-.048c.026-.016.008-.043-.053-.083a.473.473 0 00-.055-.018 1 1 0 01-.075-.023.43.43 0 01-.068-.033c-.024-.014-.035-.03-.033-.047a.154.154 0 01.036-.069c.026-.02.069-.027.127-.023a.348.348 0 01.134.03c.117.059.134.112.052.16a.5.5 0 01.156.047c.06.027.085.057.072.089.034-.06.069-.09.104-.09.021.005.042.031.062.08.02.05.031.077.035.081.035.043.07.053.105.03a.524.524 0 00.107-.104c.037-.046.057-.066.062-.062-.044-.016-.048-.032-.013-.048.065-.035.123-.045.176-.03.012.008.03.026.051.054.04.071.033.105-.019.1a.123.123 0 01.049.12c-.007.047-.04.068-.101.064a.247.247 0 01-.095-.03.311.311 0 00-.094-.032c-.022-.002-.052.01-.091.033a.743.743 0 00-.069.1.455.455 0 01-.075.101c-.065.06-.173.082-.325.066.013 0 .012.011-.003.035a1.234 1.234 0 01-.107.13.294.294 0 00-.079.137l-.006.08a.276.276 0 01-.027.104c.053-.012.094.012.124.071.026.055.026.085 0 .089a.84.84 0 01.378.024c.156.051.245.103.267.154.026-.036.089-.038.189-.006.039.02.073.079.104.178.017.059.046.11.088.154.041.043.085.055.133.035l.02-.011a.63.63 0 00.042-.021.276.276 0 00.036-.024c.013-.01.02-.019.022-.026.002-.008 0-.016-.01-.024a.213.213 0 01-.068-.098c-.015-.041-.011-.078.01-.11a.433.433 0 01.104-.07c.057-.033.092-.064.105-.096.017-.051-.005-.094-.066-.127-.06-.034-.09-.065-.09-.092 0-.02.013-.044.042-.071.028-.028.04-.054.035-.077A.268.268 0 006 2.263a.38.38 0 01-.026-.083c-.003-.017.007-.038.029-.062.03-.016.102-.015.215.003a.781.781 0 01.221.056c.013.008.041.02.085.036a.819.819 0 01.114.05c.032.018.05.035.055.05H6.66a.14.14 0 01.056.084c.006.031-.01.055-.049.07a.223.223 0 01.104.019c.07.023.072.045.007.065a.452.452 0 01.055-.012.184.184 0 00.088-.039.109.109 0 01.03-.017.226.226 0 01.028-.006.057.057 0 01.04.009c.004 0 .013-.01.029-.03l.048-.06c.018-.019.033-.029.046-.029.013 0 .025.005.036.015.01.01.02.02.026.033a.753.753 0 01.035.07c.009.02.03.041.062.063a.165.165 0 01.062.062l.026.09c.013.047.03.08.052.097a.264.264 0 00.098.044c.008.004.028.002.058-.005a.17.17 0 01.075-.006c.02.003.03.02.03.047.025-.024.038-.04.038-.047a.235.235 0 00.043.124c.024.032.062.046.114.042l-.013.13c-.013.02-.046.035-.098.044a.381.381 0 00-.098.027.445.445 0 00-.094.071c-.05.044-.07.07-.062.077-.074-.075-.184-.096-.332-.065a1.773 1.773 0 00-.338.071.477.477 0 00-.144.09.18.18 0 00-.022.04l-.033.066c-.01.02-.02.03-.03.03.027-.004.056-.023.089-.057a.363.363 0 01.062-.056c.112-.067.206-.09.28-.07.095.023.11.055.045.094-.008.008-.031.011-.068.01a.257.257 0 00-.075.002c.04.008.072.019.098.033.026.013.032.032.02.056.069.036.082.075.039.119a.25.25 0 01-.202.065c.013 0 .013.008 0 .024l-.111.065a1.466 1.466 0 01-.085.03.225.225 0 00-.097.053c-.013.016-.02.04-.02.07a.287.287 0 01-.006.072c-.005.016-.022.02-.052.012-.014.024-.054.042-.12.056-.068.014-.113.035-.134.062.026.032.024.064-.007.095-.052.04-.098.036-.137-.012-.021.008-.038.028-.048.06a.11.11 0 01-.05.065c.031.043.027.075-.012.095a.496.496 0 01.078.042c.017.011.028.017.032.017-.017.036-.04.053-.071.053.026.064-.007.133-.098.208a.304.304 0 01-.081.047c-.037.016-.07.03-.101.039a.223.223 0 00-.052.02.412.412 0 00-.098.11.118.118 0 00-.01.11c.015.036.056.06.12.071l.007.048v.106l.007.048.01.074a.536.536 0 010 .083c-.003.034-.012.052-.03.056-.017.004-.041 0-.071-.012-.035-.015-.076-.102-.124-.26a.383.383 0 00-.078-.143.196.196 0 01-.056.039c-.015.006-.026.007-.032.003a.42.42 0 01-.036-.027.433.433 0 00-.045-.032.371.371 0 00-.114-.03c-.055-.008-.088-.018-.101-.03-.105.072-.168.054-.19-.053-.008.02-.007.046.004.08s.016.053.016.056c-.03.052-.078.056-.143.012-.026-.023-.086-.026-.179-.009-.093.018-.155.021-.185.01.004 0 .013.005.026.017a.179.179 0 01.026.018.073.073 0 01-.02.035c-.009.008-.017.011-.026.01a.072.072 0 00-.03 0 .118.118 0 00-.029.008.384.384 0 00-.065.062.31.31 0 01-.058.057.362.362 0 01.036.145 1.635 1.635 0 01-.02.148 1 1 0 00-.016.157c0 .063.02.137.061.22.042.083.09.14.147.172.03.015.083.025.156.03.074.003.126 0 .156-.013a.159.159 0 00.06-.041.192.192 0 00.032-.068c.008-.03.015-.05.02-.063a.178.178 0 01.168-.118c.053-.004.09 0 .114.015.024.013.034.032.03.056a.28.28 0 01-.026.074c-.013.026-.03.054-.05.086a.314.314 0 00-.035.071.906.906 0 00-.023.134.672.672 0 01-.016.104.414.414 0 00.098.005.13.13 0 01.01-.038.156.156 0 00.01-.033c.02.032.056.05.103.054.048.004.083-.012.105-.048.008.012.034.042.078.09.043.047.067.086.071.118l.026.077c.013.036.018.06.013.074-.004.014-.026.021-.065.021-.017 0-.028.006-.032.018a.074.074 0 000 .044.372.372 0 00.042.101.105.105 0 01.016.032c.079.13.185.166.32.107 0 .115-.03.178-.092.19-.034.008-.073-.012-.116-.06zm.097 1.34a.434.434 0 01-.013-.095c-.004-.031.011-.074.046-.127.034-.054.052-.094.052-.122-.07-.016-.096-.067-.079-.154.01-.06.072-.138.19-.237.082-.067.108-.162.077-.285a1.502 1.502 0 01-.032-.225 1.845 1.845 0 00-.026-.208c0 .012.02.023.062.033.041.01.066.023.075.038a.345.345 0 00.032-.065.292.292 0 01.039-.071.216.216 0 01.055-.045.646.646 0 01.056-.032.502.502 0 00.058-.039l.075-.05a.23.23 0 01.078-.026c.033-.006.056.002.069.026.021.024.017.06-.013.11s-.03.084 0 .104a.407.407 0 00.013-.078.137.137 0 01.039-.089.152.152 0 01.075-.04.1.1 0 01.065.008c.02.01.042.023.068.041.026.018.05.029.072.033.065.02.143.063.234.13-.004-.004-.004-.009 0-.015a.068.068 0 01.026-.017.507.507 0 00.036-.018.192.192 0 01.035-.015l.02-.006c.03 0 .052-.002.065-.006.013-.004.032 0 .055.012a.456.456 0 01.095.06.558.558 0 01.045.035 4.836 4.836 0 00.153.089c.02.012.037.03.052.053.015.024.02.05.016.077.027.004.079.02.157.048.013.007.04.014.081.02s.069.015.082.027a4.155 4.155 0 01-2.285 1.12z\"\n    />\n  </svg>\n);\n\nexport const PenIcon = props => (\n  <svg width={13} height={13} fill=\"none\" viewBox=\"0 0 13 13\" {...props}>\n    <path\n      fill=\"#fff\"\n      d=\"M.97 13l3.034-.787 7.64-7.64-2.247-2.247-7.64 7.64L.97 13zM10.52 1.203l-.561.562 2.247 2.247.561-.562a.794.794 0 000-1.124l-1.123-1.123a.794.794 0 00-1.124 0z\"\n    />\n  </svg>\n);\n","import React, { FunctionComponent, useState, useCallback } from 'react';\n\nimport { useOvermind } from 'app/overmind';\nimport { ListAction, Text, Element } from '@codesandbox/components';\nimport styled, { css } from 'styled-components';\nimport getIcon from '@codesandbox/common/lib/templates/icons';\nimport { ColorIcons as Icons } from '@codesandbox/common/lib/utils/getTemplateIcon';\nimport { Popover, usePopoverState, PopoverDisclosure } from 'reakit/Popover';\n\nconst buttonStyles = css`\n  padding: 0;\n  border: 0;\n  background: transparent;\n  cursor: pointer;\n`;\n\nexport const IconButton = styled.button`\n  ${buttonStyles}\n`;\n\nexport const IconWrapper = styled(Popover)`\n  ${({ theme }) => css`\n    z-index: 12;\n    padding: ${theme.space[3]}px;\n    background: ${theme.colors.sideBar.background};\n  `};\n`;\n\nexport const IconList = styled.ul`\n  list-style: none;\n  display: grid;\n  padding: ${props => props.theme.space[2]}px;\n  margin: 0;\n  grid-template-columns: repeat(7, 24px);\n  grid-gap: 10px;\n  border: 1px solid ${props => props.theme.colors.sideBar.border};\n\n  li {\n    cursor: pointer;\n  }\n`;\n\nconst OpenPopover = styled(PopoverDisclosure)`\n  ${buttonStyles}\n  color: inherit;\n  width: 100%;\n`;\n\nexport const TemplateConfig: FunctionComponent = () => {\n  const {\n    actions: {\n      workspace: { editTemplate },\n    },\n    state: {\n      editor: {\n        currentSandbox: { customTemplate, template },\n      },\n    },\n  } = useOvermind();\n  const [popupVisible, setPopupVisible] = useState(false);\n  const iconPopover = usePopoverState({\n    placement: 'top',\n    visible: popupVisible,\n  });\n  const [selectedIcon, setSelectedIcon] = useState(\n    customTemplate.iconUrl || ''\n  );\n\n  const DefaultIcon = getIcon(template);\n\n  const setIcon = useCallback(\n    (key: string) => {\n      setSelectedIcon(key);\n      setPopupVisible(false);\n      editTemplate({ ...customTemplate, iconUrl: key });\n    },\n    [customTemplate, editTemplate, setSelectedIcon, setPopupVisible]\n  );\n\n  const TemplateIcon = Icons[selectedIcon];\n\n  return (\n    <OpenPopover {...iconPopover}>\n      <ListAction justify=\"space-between\" gap={2}>\n        <Text>Template Icon</Text>\n        <Element>\n          <Element>\n            {selectedIcon && TemplateIcon ? (\n              <TemplateIcon width={24} />\n            ) : (\n              <DefaultIcon width={24} />\n            )}\n          </Element>\n          <IconWrapper\n            aria-label=\"Choose an Icon\"\n            hideOnClickOutside\n            hideOnEsc\n            {...iconPopover}\n          >\n            <IconList>\n              {Object.keys(Icons).map((i: string) => {\n                const TemplateIconMap = Icons[i];\n                return (\n                  <li key={i}>\n                    <IconButton onClick={() => setIcon(i)}>\n                      <TemplateIconMap width={24} />\n                    </IconButton>\n                  </li>\n                );\n              })}\n            </IconList>\n          </IconWrapper>\n        </Element>\n      </ListAction>\n    </OpenPopover>\n  );\n};\n","import getTemplateDefinition from '@codesandbox/common/lib/templates';\nimport { getSandboxName } from '@codesandbox/common/lib/utils/get-sandbox-name';\nimport { getTemplateIcon } from '@codesandbox/common/lib/utils/getTemplateIcon';\nimport {\n  githubRepoUrl,\n  profileUrl,\n  sandboxUrl,\n} from '@codesandbox/common/lib/utils/url-generator';\nimport {\n  Avatar,\n  Button,\n  Collapsible,\n  Element,\n  Label,\n  Link,\n  List,\n  ListAction,\n  ListItem,\n  Stack,\n  Stats,\n  Switch,\n  Tags,\n  Text,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { Markdown } from 'app/components/Markdown';\nimport { useOvermind } from 'app/overmind';\nimport React, { useEffect } from 'react';\n\nimport { GitHubIcon } from '../GitHub/Icons';\nimport { EditSummary } from './EditSummary';\nimport { PenIcon } from './icons';\nimport { TemplateConfig } from './TemplateConfig';\n\nexport const Summary = () => {\n  const {\n    actions: {\n      editor: { frozenUpdated, sessionFreezeOverride },\n    },\n    state: {\n      editor: { currentSandbox, sessionFrozen },\n    },\n  } = useOvermind();\n  const {\n    author,\n    description,\n    isFrozen,\n    customTemplate,\n    template,\n    forkedFromSandbox,\n    forkedTemplateSandbox,\n    tags,\n    team,\n  } = currentSandbox;\n\n  useEffect(() => {\n    // always freeze it on start\n    if (customTemplate) {\n      frozenUpdated({ frozen: true });\n    }\n  }, [customTemplate, frozenUpdated]);\n\n  const updateFrozenState = e => {\n    e.preventDefault();\n    if (customTemplate) {\n      return sessionFreezeOverride({ frozen: !sessionFrozen });\n    }\n\n    return frozenUpdated({ frozen: !isFrozen });\n  };\n\n  const isForked = forkedFromSandbox || forkedTemplateSandbox;\n  const { url: templateUrl } = getTemplateDefinition(template);\n\n  const [editing, setEditing] = React.useState(false);\n\n  return (\n    <>\n      <Collapsible\n        title={customTemplate ? 'Template Info' : 'Sandbox Info'}\n        defaultOpen\n      >\n        <Element marginBottom={editing ? 10 : 6}>\n          {editing ? (\n            <EditSummary setEditing={setEditing} />\n          ) : (\n            <Stack as=\"section\" direction=\"vertical\" gap={2} paddingX={2}>\n              <Stack justify=\"space-between\" align=\"center\">\n                {customTemplate ? (\n                  <Stack gap={2} align=\"center\">\n                    <TemplateIcon\n                      iconUrl={customTemplate.iconUrl}\n                      environment={template}\n                    />\n                    <Text maxWidth=\"100%\">\n                      {getSandboxName(currentSandbox)}\n                    </Text>\n                  </Stack>\n                ) : (\n                  <Text maxWidth=\"100%\">{getSandboxName(currentSandbox)}</Text>\n                )}\n                <Button\n                  variant=\"link\"\n                  css={css({ width: 10 })}\n                  onClick={() => setEditing(true)}\n                >\n                  <PenIcon />\n                </Button>\n              </Stack>\n\n              <Element itemProp=\"text\">\n                <Markdown\n                  source={\n                    description || 'Add a short description for this sandbox'\n                  }\n                />\n              </Element>\n\n              {tags.length ? (\n                <Element marginTop={4}>\n                  <Tags tags={tags} />\n                </Element>\n              ) : null}\n            </Stack>\n          )}\n        </Element>\n\n        <Stack as=\"section\" direction=\"vertical\" gap={4} paddingX={2}>\n          {author ? (\n            <Link href={profileUrl(author.username)}>\n              <Stack gap={2} align=\"center\" css={{ display: 'inline-flex' }}>\n                <Avatar user={author} />\n                <Element>\n                  <Text variant={team ? 'body' : 'muted'} block>\n                    {author.username}\n                  </Text>\n                  {team && (\n                    <Text\n                      size={2}\n                      marginTop={1}\n                      variant=\"muted\"\n                      maxWidth=\"100%\"\n                    >\n                      {team.name}\n                    </Text>\n                  )}\n                </Element>\n              </Stack>\n            </Link>\n          ) : null}\n\n          {!author && currentSandbox.git ? (\n            <Link href={githubRepoUrl(currentSandbox.git)} target=\"_blank\">\n              <Stack gap={2} align=\"center\">\n                <Stack\n                  justify=\"center\"\n                  align=\"center\"\n                  css={css({\n                    size: 8,\n                    minWidth: 8,\n                    borderRadius: 'small',\n                    border: '1px solid',\n                    borderColor: 'avatar.border',\n                  })}\n                >\n                  <GitHubIcon\n                    title=\"GitHub repository\"\n                    width={20}\n                    height={20}\n                  />\n                </Stack>\n                <Link variant=\"muted\" maxWidth=\"100%\">\n                  {currentSandbox.git.username}/{currentSandbox.git.repo}\n                </Link>\n              </Stack>\n            </Link>\n          ) : null}\n\n          <Stats sandbox={currentSandbox} />\n        </Stack>\n\n        <Divider marginTop={8} marginBottom={4} />\n\n        <List>\n          {customTemplate && <TemplateConfig />}\n          <ListAction justify=\"space-between\" onClick={updateFrozenState}>\n            <Label htmlFor=\"frozen\">Frozen</Label>\n            <Switch\n              id=\"frozen\"\n              onChange={updateFrozenState}\n              on={customTemplate ? sessionFrozen : isFrozen}\n            />\n          </ListAction>\n          {isForked ? (\n            <ListItem justify=\"space-between\">\n              <Text>{forkedTemplateSandbox ? 'Template' : 'Forked From'}</Text>\n              <Link\n                variant=\"muted\"\n                href={sandboxUrl(forkedFromSandbox || forkedTemplateSandbox)}\n                target=\"_blank\"\n              >\n                {getSandboxName(forkedFromSandbox || forkedTemplateSandbox)}\n              </Link>\n            </ListItem>\n          ) : null}\n          <ListItem justify=\"space-between\" gap={2}>\n            <Text>Environment</Text>\n            <Link\n              variant=\"muted\"\n              href={templateUrl}\n              target=\"_blank\"\n              maxWidth=\"100%\"\n            >\n              {template}\n            </Link>\n          </ListItem>\n        </List>\n      </Collapsible>\n    </>\n  );\n};\n\nconst TemplateIcon = ({ iconUrl, environment }) => {\n  const { UserIcon } = getTemplateIcon(iconUrl, environment);\n\n  return <UserIcon />;\n};\n\nconst Divider = props => (\n  <Element\n    as=\"hr\"\n    css={css({\n      width: '100%',\n      border: 'none',\n      borderBottom: '1px solid',\n      borderColor: 'sideBar.border',\n    })}\n    {...props}\n  />\n);\n","import React from 'react';\nimport {\n  Collapsible,\n  Text,\n  Link,\n  Stack,\n  Select,\n} from '@codesandbox/components';\nimport { useOvermind } from 'app/overmind';\nimport css from '@styled-system/css';\nimport { GlobeIcon } from './icons';\n\nexport const Privacy = () => {\n  const {\n    actions: {\n      workspace: { sandboxPrivacyChanged },\n    },\n    state: {\n      editor: { currentSandbox },\n      user,\n    },\n  } = useOvermind();\n\n  const isPaidUser = user?.subscription;\n\n  return (\n    <Collapsible title=\"Privacy\" defaultOpen>\n      <Stack direction=\"vertical\" gap={4} css={css({ paddingX: 3 })}>\n        <Select\n          disabled={!isPaidUser}\n          icon={GlobeIcon}\n          onChange={({ target: { value } }) =>\n            sandboxPrivacyChanged({\n              privacy: Number(value) as 0 | 1 | 2,\n              source: 'sidebar',\n            })\n          }\n          value={currentSandbox.privacy}\n        >\n          <option value={0}>Public</option>\n          <option value={1}>Unlisted (only available by url)</option>\n          <option value={2}>Private</option>\n        </Select>\n        {!isPaidUser ? (\n          <Text variant=\"muted\" size={2}>\n            You an change privacy of a sandbox as a Pro.{' '}\n            <Link href=\"/pro\" css={{ textDecoration: 'underline !important' }}>\n              Become a Pro\n            </Link>\n          </Text>\n        ) : null}\n      </Stack>\n    </Collapsible>\n  );\n};\n","import React, { MouseEvent } from 'react';\nimport getTemplateDefinition from '@codesandbox/common/lib/templates';\nimport { useOvermind } from 'app/overmind';\nimport { Button, Element } from '@codesandbox/components';\n\nexport const Config = () => {\n  const {\n    actions: {\n      modalOpened,\n      workspace: { addedTemplate },\n    },\n    state: {\n      user,\n      editor: {\n        currentSandbox: { customTemplate, template },\n      },\n      workspace: {\n        project: { description, title },\n      },\n    },\n  } = useOvermind();\n\n  const onCreateTemplate = (event: MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n\n    if (!user) {\n      modalOpened({ modal: 'signInForTemplates' });\n    }\n\n    addedTemplate({\n      color:\n        (customTemplate && customTemplate.color) ||\n        getTemplateDefinition(template).color(),\n      description,\n      title,\n    });\n  };\n\n  return (\n    <>\n      {!customTemplate && (\n        <Element marginX={2} marginY={4}>\n          <Button\n            // @ts-ignore\n            onClick={onCreateTemplate}\n            variant=\"secondary\"\n          >\n            Save as template\n          </Button>\n        </Element>\n      )}\n    </>\n  );\n};\n","import React, { MouseEvent } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport css from '@styled-system/css';\nimport { Button, Stack, Element, Link } from '@codesandbox/components';\nimport { GithubIcon, TwitterIcon } from './icons';\n\nconst links = [\n  { href: 'https://twitter.com/codesandbox', icon: <TwitterIcon /> },\n  {\n    href: 'https://github.com/codesandbox/codesandbox-client',\n    icon: <GithubIcon />,\n  },\n];\n\nexport const Delete = () => {\n  const {\n    actions: {\n      modalOpened,\n      workspace: { deleteTemplate },\n    },\n    state: {\n      editor: {\n        currentSandbox: { customTemplate },\n      },\n    },\n  } = useOvermind();\n\n  const onDelete = (event: MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n\n    if (customTemplate) {\n      deleteTemplate();\n    } else {\n      modalOpened({ modal: 'deleteSandbox' });\n    }\n  };\n\n  return (\n    <Element>\n      <Stack justify=\"center\" marginBottom={6}>\n        <Button\n          // @ts-ignore\n          onClick={onDelete}\n          variant=\"link\"\n          css={css({\n            ':hover,:focus': { color: 'errorForeground' },\n          })}\n        >\n          {`Delete ${customTemplate ? `Template` : `Sandbox`}`}\n        </Button>\n      </Stack>\n      <Element marginBottom={3} paddingX={2}>\n        <Stack gap={2}>\n          {links.map(({ href, icon }) => (\n            <Link\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              css={css({ color: 'sideBar.border' })}\n              href={href}\n            >\n              {icon}\n            </Link>\n          ))}\n        </Stack>\n      </Element>\n    </Element>\n  );\n};\n","import React from 'react';\nimport { Stack } from '@codesandbox/components';\nimport { Summary } from './Summary';\nimport { Privacy } from './Privacy';\nimport { Config } from './Config';\nimport { Delete } from './Delete';\n\nexport const ProjectInfo = () => (\n  <Stack direction=\"vertical\" justify=\"space-between\" css={{ height: '100%' }}>\n    <div>\n      <Summary />\n      <Privacy />\n      <Config />\n    </div>\n    <Delete />\n  </Stack>\n);\n","import React from 'react';\nimport DeleteIcon from 'react-icons/lib/go/trashcan';\nimport UndoIcon from 'react-icons/lib/md/undo';\nimport NotSyncedIcon from 'react-icons/lib/go/primitive-dot';\n\nconst CrossIcon = props => (\n  <svg width={16} height={16} fill=\"none\" viewBox=\"0 0 16 16\" {...props}>\n    <path\n      fill=\"currentColor\"\n      d=\"M13 3.903l-.91-.97L8 7.297 3.91 2.933l-.91.97 4.09 4.363L3 12.63l.91.97L8 9.236l4.09 4.364.91-.97-4.09-4.364L13 3.903z\"\n    />\n  </svg>\n);\n\nconst EditIcon = props => (\n  <svg width={16} height={16} fill=\"none\" viewBox=\"0 0 16 16\" {...props}>\n    <path\n      fill=\"currentColor\"\n      d=\"M1.97 14l3.034-.787 7.64-7.64-2.247-2.247-7.64 7.64L1.97 14zM11.52 2.203l-.561.562 2.247 2.247.561-.562a.794.794 0 000-1.124l-1.123-1.123a.794.794 0 00-1.124 0z\"\n    />\n  </svg>\n);\n\nconst AddDirectoryIcon = props => (\n  <svg width={16} height={16} fill=\"none\" viewBox=\"0 0 16 16\" {...props}>\n    <path\n      fill=\"currentColor\"\n      d=\"M6.5 3.5H3a.5.5 0 00-.5.5v8.5a.5.5 0 00.5.5h10a.5.5 0 00.5-.5V5.167a.5.5 0 00-.5-.5H8l-1.167-1.04A.5.5 0 006.5 3.5z\"\n    />\n  </svg>\n);\n\nconst AddFileIcon = props => (\n  <svg width={16} height={16} fill=\"none\" viewBox=\"0 0 16 16\" {...props}>\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M8.284 2.5H4.5A.5.5 0 004 3v10a.5.5 0 00.5.5h7a.5.5 0 00.5-.5V6.08L8.284 2.5zM8 3l3.5 3.5H8V3z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nconst DownloadIcon = props => (\n  <svg width={16} height={16} fill=\"none\" viewBox=\"0 0 16 16\" {...props}>\n    <g clipPath=\"url(#clip0)\">\n      <path\n        fill=\"currentColor\"\n        fillRule=\"evenodd\"\n        d=\"M7.604 12.293V3h1v9.293L11.5 9.396l.707.708-4.103 4.103L4 10.104l.707-.708 2.897 2.897z\"\n        clipRule=\"evenodd\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0\">\n        <path fill=\"#fff\" d=\"M0 0h16v16H0V0z\" />\n      </clipPath>\n    </defs>\n  </svg>\n);\n\nconst UploadFileIcon = props => (\n  <svg width={16} height={16} fill=\"none\" viewBox=\"0 0 16 16\" {...props}>\n    <g clipPath=\"url(#clip0)\">\n      <path\n        fill=\"currentColor\"\n        fillRule=\"evenodd\"\n        d=\"M8.104 3l4.103 4.104-.707.707-2.896-2.897v9.293h-1V4.914L4.707 7.811 4 7.104 8.104 3z\"\n        clipRule=\"evenodd\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0\">\n        <path fill=\"currentColor\" d=\"M0 0h16v16H0V0z\" />\n      </clipPath>\n    </defs>\n  </svg>\n);\n\nexport {\n  EditIcon,\n  DeleteIcon,\n  AddDirectoryIcon,\n  AddFileIcon,\n  UndoIcon,\n  NotSyncedIcon,\n  CrossIcon,\n  DownloadIcon,\n  UploadFileIcon,\n};\n","import styled, { css } from 'styled-components';\nimport fadeIn from '@codesandbox/common/lib/utils/animation/fade-in';\n\nexport const Container = styled.div`\n  display: flex;\n  ${fadeIn(0)};\n  vertical-align: middle;\n  line-height: 1;\n  align-items: center;\n`;\n\nexport const Icon = styled.div`\n  ${({ theme }) => css`\n    position: relative;\n    display: inline-block;\n    transition: 0.3s ease color;\n    cursor: pointer;\n    color: ${theme.light ? '#6C6C6C' : 'rgba(255, 255, 255, 0.5)'};\n    padding-left: 0.5rem;\n\n    &:hover {\n      color: ${theme.light ? 'black' : 'rgba(255, 255, 255, 1)'};\n    }\n  `};\n`;\n","import React from 'react';\n\nimport Tooltip, {\n  SingletonTooltip,\n} from '@codesandbox/common/lib/components/Tooltip';\nimport {\n  CrossIcon,\n  EditIcon,\n  AddFileIcon,\n  AddDirectoryIcon,\n  UploadFileIcon,\n  DownloadIcon,\n  UndoIcon,\n  // eslint-disable-next-line import/extensions\n} from '../../../icons.tsx';\n\nimport { Container, Icon } from './elements';\n\nconst handleClick = func => e => {\n  e.preventDefault();\n  e.stopPropagation();\n  func();\n};\n\nfunction EditIcons({\n  className = undefined,\n  hovering,\n  onDelete,\n  onDiscardChanges,\n  onEdit,\n  onCreateFile,\n  onCreateDirectory,\n  active,\n  onUploadFile,\n  onDownload = undefined,\n  forceShow,\n}) {\n  // Phones need double click if we show elements on click, that's why we only want\n  // to show these edit icons when the user clicks and hasn't activated the module\n  if (window.__isTouch && !active && !forceShow) {\n    return null;\n  }\n\n  return (\n    <div className={className}>\n      {(hovering || (window.__isTouch && active) || forceShow) && (\n        <Container>\n          <SingletonTooltip>\n            {singleton => (\n              <>\n                {onDownload && (\n                  <Tooltip content=\"Export to ZIP\" singleton={singleton}>\n                    <Icon onClick={handleClick(onDownload)}>\n                      <DownloadIcon />\n                    </Icon>\n                  </Tooltip>\n                )}\n                {onUploadFile && (\n                  <Tooltip content=\"Upload Files\" singleton={singleton}>\n                    <Icon onClick={handleClick(onUploadFile)}>\n                      <UploadFileIcon />\n                    </Icon>\n                  </Tooltip>\n                )}\n                {onDiscardChanges && (\n                  <Tooltip content=\"Discard Changes\">\n                    <Icon onClick={handleClick(onDiscardChanges)}>\n                      <UndoIcon />\n                    </Icon>\n                  </Tooltip>\n                )}\n                {onEdit && (\n                  <Tooltip content=\"Rename\" singleton={singleton}>\n                    <Icon onClick={handleClick(onEdit)}>\n                      <EditIcon />\n                    </Icon>\n                  </Tooltip>\n                )}\n                {onCreateFile && (\n                  <Tooltip content=\"New File\" singleton={singleton}>\n                    <Icon onClick={handleClick(onCreateFile)}>\n                      <AddFileIcon />\n                    </Icon>\n                  </Tooltip>\n                )}\n                {onCreateDirectory && (\n                  <Tooltip content=\"New Directory\" singleton={singleton}>\n                    <Icon onClick={handleClick(onCreateDirectory)}>\n                      <AddDirectoryIcon />\n                    </Icon>\n                  </Tooltip>\n                )}\n                {onDelete && (\n                  <Tooltip content=\"Delete\" singleton={singleton}>\n                    <Icon onClick={handleClick(onDelete)}>\n                      <CrossIcon />\n                    </Icon>\n                  </Tooltip>\n                )}\n              </>\n            )}\n          </SingletonTooltip>\n        </Container>\n      )}\n    </div>\n  );\n}\n\nexport default EditIcons;\n","import styled from 'styled-components';\n\nexport const RedIcon = styled.span<{\n  width: number;\n  height: number;\n}>`\n  color: ${props => props.theme.red};\n  width: ${props => props.width}px;\n  height: ${props => props.height}px;\n`;\n\nexport const SVGIcon = styled.span<{\n  url: string;\n  width: number;\n  height: number;\n}>`\n  background-image: url(${props => props.url});\n  background-size: ${props => props.width}px;\n  background-position: 0;\n  background-repeat: no-repeat;\n  width: ${props => props.width}px;\n  height: ${props => props.height}px;\n  display: inline-block;\n  -webkit-font-smoothing: antialiased;\n  vertical-align: top;\n  flex-shrink: 0;\n`;\n","import fileSvg from '@codesandbox/common/lib/icons/file.svg';\nimport imageSvg from '@codesandbox/common/lib/icons/image.svg';\nimport codesandboxSvg from '@codesandbox/common/lib/icons/codesandbox.svg';\nimport nowSvg from '@codesandbox/common/lib/icons/now.svg';\nimport folderSvg from './folder.svg';\nimport folderOpenSvg from './folderOpen.svg';\n\nfunction imageExists(url) {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = resolve;\n    img.onerror = reject;\n    img.src = url;\n  });\n}\n\nasync function getIconURL(type) {\n  const base =\n    'https://cdn.jsdelivr.net/gh/PKief/vscode-material-icon-theme@master/icons';\n\n  let url;\n\n  switch (type) {\n    case 'codesandbox':\n      url = codesandboxSvg;\n      break;\n\n    case 'image':\n      url = imageSvg;\n      break;\n\n    case 'now':\n      url = nowSvg;\n      break;\n\n    case 'directory':\n      url = folderSvg;\n      break;\n\n    case 'directory-open':\n      url = folderOpenSvg;\n      break;\n\n    default:\n      url = `${base}/${type}.svg`;\n  }\n\n  try {\n    await imageExists(url);\n\n    return url;\n  } catch (_) {\n    return fileSvg;\n  }\n}\n\nexport default getIconURL;\n","import React, { Component } from 'react';\nimport ErrorIcon from 'react-icons/lib/md/error';\n\nimport { RedIcon, SVGIcon } from './elements';\nimport getIconURL from './GetIconURL';\n\ntype Props = {\n  type: string;\n  width?: number;\n  height?: number;\n  error?: boolean;\n};\n\nclass GetIcon extends Component<Props> {\n  state = { icon: null };\n\n  getIcon = async type => {\n    const icon = await getIconURL(type);\n\n    this.setState({\n      icon,\n    });\n  };\n\n  async componentDidMount() {\n    this.getIcon(this.props.type);\n  }\n\n  async componentDidUpdate(prevProps) {\n    if (this.props.type !== prevProps.type) {\n      this.getIcon(this.props.type);\n    }\n  }\n\n  render() {\n    const { error, width, height } = this.props;\n    const { icon } = this.state;\n\n    if (error) {\n      return (\n        <RedIcon width={width} height={height}>\n          <ErrorIcon width={width} height={height} />\n        </RedIcon>\n      );\n    }\n    return <SVGIcon url={icon} width={width} height={height} />;\n  }\n}\n\nconst EntryIcon: React.FC<Props> = ({\n  type,\n  width = 16,\n  height = 16,\n  error,\n}) => (\n  <div style={{ display: 'inline-block', verticalAlign: 'middle' }}>\n    <GetIcon type={type} error={error} width={width} height={height} />\n  </div>\n);\n\nexport default EntryIcon;\n","import React, {\n  useState,\n  ChangeEvent,\n  KeyboardEvent,\n  FunctionComponent,\n} from 'react';\n\nimport { ESC, ENTER } from '@codesandbox/common/lib/utils/keycodes';\nimport { FormField, Input } from '@codesandbox/components';\n\nfunction select(el) {\n  if (el) {\n    el.select();\n  }\n}\n\ninterface Props {\n  title: string;\n  onCommit: (value: string, force?: boolean) => void;\n  onChange: (value: string) => void;\n  onCancel: () => void;\n  error: string | false | null;\n  id: string;\n}\n\nexport const FileInput: FunctionComponent<Props> = ({\n  title,\n  onCommit,\n  onCancel,\n  onChange,\n  error,\n  id,\n  ...props\n}) => {\n  const [currentValue, setCurrentValue] = useState(title);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    if (e.target) {\n      const { value } = e.target;\n      onChange(value);\n      setCurrentValue(value);\n    }\n  };\n\n  const handleKeyUp = (e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.keyCode === ENTER) {\n      onCommit(currentValue.trim());\n    } else if (e.keyCode === ESC) {\n      onCancel();\n    }\n  };\n\n  return (\n    <FormField\n      label={title ? `rename ${title}` : 'set name new file'}\n      hideLabel\n      css={{ height: '100%', padding: 0 }}\n      id={`input-${id}`}\n    >\n      <Input\n        onChange={handleChange}\n        onBlur={() => onCommit(currentValue, true)}\n        onKeyUp={handleKeyUp}\n        ref={select}\n        value={currentValue}\n        autoComplete=\"off\"\n        spellCheck=\"false\"\n        aria-invalid={Boolean(error)}\n        aria-errormessage={`error-${id}`}\n        {...props}\n      />\n    </FormField>\n  );\n};\n","import theme from '@codesandbox/common/lib/theme';\nimport { Directory, Module } from '@codesandbox/common/lib/types';\nimport { ContextMenu, Item } from 'app/components/ContextMenu';\nimport React, { useState } from 'react';\nimport { DragSource } from 'react-dnd';\n\nimport { Stack, Text, ListAction } from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nimport {\n  EditIcon,\n  DeleteIcon,\n  AddDirectoryIcon,\n  UploadFileIcon,\n  AddFileIcon,\n  UndoIcon,\n  NotSyncedIcon,\n} from '../../icons';\n\nimport EditIcons from './EditIcons';\nimport EntryIcons from './EntryIcons';\nimport { FileInput } from './FileInput';\n\ninterface IEntryProps {\n  renameValidator?: (id: string, title: string) => string | false | null;\n  shortid?: string;\n  id: string;\n  title?: string;\n  root?: boolean;\n  isOpen?: boolean;\n  hasChildren?: boolean;\n  closeTree?: any;\n  rename?: (shortid: string, title: string) => void;\n  deleteEntry?: (shortid: string, title: string) => void;\n  depth?: number;\n  type?: string;\n  active?: boolean;\n  discardModuleChanges?: (shortid: string, title: string) => void;\n  setCurrentModule?: (id: string) => void;\n  connectDragSource?: (node: JSX.Element) => JSX.Element;\n  onCreateDirectoryClick?: () => boolean | void;\n  onCreateModuleClick?: () => boolean | void;\n  onUploadFileClick?: () => boolean | void;\n  onClick?: () => void;\n  markTabsNotDirty?: () => void;\n  onRenameCancel?: () => void;\n  getModulePath?: (\n    modules: Module[],\n    directories: Directory[],\n    id: string\n  ) => string;\n  isNotSynced?: boolean;\n  isMainModule?: boolean;\n  moduleHasError?: boolean;\n  rightColors?: string[];\n  state?: string;\n}\n\nconst Entry: React.FC<IEntryProps> = ({\n  title,\n  id,\n  depth,\n  type,\n  active,\n  setCurrentModule,\n  connectDragSource,\n  discardModuleChanges,\n  onCreateModuleClick,\n  onCreateDirectoryClick,\n  onUploadFileClick,\n  deleteEntry,\n  onClick,\n  onRenameCancel,\n  markTabsNotDirty,\n  rename,\n  isNotSynced,\n  isMainModule,\n  moduleHasError,\n  shortid,\n  rightColors = [],\n  renameValidator,\n  state: incomingState = '',\n}) => {\n  const [state, setState] = useState(incomingState);\n  const [error, setError] = useState<string | false | null>(null);\n  const [hovering, setHovering] = useState(false);\n\n  const resetState = () => {\n    if (onRenameCancel) {\n      onRenameCancel();\n    }\n\n    setState('');\n    setError(null);\n  };\n\n  const handleValidateTitle = (titleToValidate: string) => {\n    const isInvalidTitle = renameValidator(id, titleToValidate);\n    setError(isInvalidTitle);\n\n    return isInvalidTitle;\n  };\n\n  const renameAction = () => {\n    setState('editing');\n    return true;\n  };\n\n  const deleteAction = () =>\n    deleteEntry ? deleteEntry(shortid, title) : false;\n\n  const discardModuleChangesAction = () =>\n    discardModuleChanges ? discardModuleChanges(shortid, title) : false;\n\n  const handleRename = (newTitle: string, force: boolean = false) => {\n    if (newTitle === title) {\n      resetState();\n      return;\n    }\n\n    const canRename = !handleValidateTitle(newTitle);\n\n    if (newTitle !== title && canRename && rename) {\n      rename(shortid, newTitle);\n      resetState();\n    } else if (force) {\n      resetState();\n    }\n  };\n\n  const setCurrentModuleAction = () => setCurrentModule(id);\n\n  const onMouseEnter = () => setHovering(true);\n  const onMouseLeave = () => setHovering(false);\n\n  const items = [\n    [\n      isNotSynced && {\n        title: 'Discard Changes',\n        action: discardModuleChangesAction,\n        icon: UndoIcon,\n      },\n    ].filter(Boolean),\n    [\n      onCreateModuleClick && {\n        title: 'Create File',\n        action: onCreateModuleClick,\n        icon: AddFileIcon,\n      },\n      onCreateDirectoryClick && {\n        title: 'Create Directory',\n        action: onCreateDirectoryClick,\n        icon: AddDirectoryIcon,\n      },\n      onUploadFileClick && {\n        title: 'Upload Files',\n        action: onUploadFileClick,\n        icon: UploadFileIcon,\n      },\n      rename && {\n        title: 'Rename',\n        action: renameAction,\n        icon: EditIcon,\n      },\n      deleteEntry && {\n        title: 'Delete',\n        action: deleteAction,\n        color: theme.red.darken(0.2)(),\n        icon: DeleteIcon,\n      },\n    ].filter(Boolean),\n  ].filter(Boolean) as Item[];\n\n  return connectDragSource(\n    <div>\n      <ContextMenu items={items}>\n        <ListAction\n          justify=\"space-between\"\n          onClick={setCurrentModule ? setCurrentModuleAction : onClick}\n          onDoubleClick={markTabsNotDirty}\n          aria-selected={active}\n          onMouseEnter={onMouseEnter}\n          onMouseLeave={onMouseLeave}\n          css={{\n            paddingLeft: depth\n              ? `calc(${depth + 1}rem - 2px)`\n              : 'calc(1rem - 2px)',\n            // live user\n            borderRight: '2px solid',\n            minHeight: 28,\n            borderColor: rightColors[0] || 'transparent',\n            ':hover:not([aria-selected=\"true\"])': {\n              // override ListAction to keep background same as before\n              // we do this to diffrentiate between hover and selected\n              backgroundColor: 'inherit',\n            },\n          }}\n        >\n          <Stack gap={2} align=\"center\" css={{ width: '100%' }}>\n            <EntryIcons type={type} error={moduleHasError} />\n            {state === 'editing' ? (\n              <FileInput\n                id={id}\n                title={title}\n                onChange={handleValidateTitle}\n                onCancel={resetState}\n                onCommit={handleRename}\n                error={error}\n                css={css({\n                  // i know how this looks, but to make the input feel like\n                  // it's editing in place, we move it back half the space\n                  // 0.5 * gap of 2 = 1 and then another 1px for the border\n                  // :upside-down:smile:\n                  marginLeft: '-5px',\n                  paddingLeft: 1,\n                })}\n              />\n            ) : (\n              <Text maxWidth=\"100%\">{title}</Text>\n            )}\n            {isNotSynced && !state && (\n              <NotSyncedIcon css={css({ color: 'blues.300' })} />\n            )}\n          </Stack>\n          {state === '' && (\n            <Stack align=\"center\">\n              {isMainModule && hovering && (\n                <Text variant=\"muted\" size={2}>\n                  entry\n                </Text>\n              )}\n              <EditIcons\n                hovering={hovering}\n                onCreateFile={onCreateModuleClick}\n                onCreateDirectory={onCreateDirectoryClick}\n                onUploadFile={onUploadFileClick}\n                onDiscardChanges={isNotSynced && discardModuleChangesAction}\n                onDelete={deleteEntry && deleteAction}\n                onEdit={rename && renameAction}\n                active={active}\n                forceShow={window.__isTouch && type === 'directory-open'}\n              />\n            </Stack>\n          )}\n        </ListAction>\n        {error && typeof error === 'string' && (\n          <Text\n            size={3}\n            variant=\"danger\"\n            block\n            role=\"alert\"\n            id={`error-${id}`}\n            css={{\n              // align with file name\n              marginLeft: depth\n                ? `calc(${depth + 1}rem + 24px)`\n                : 'calc(1rem + 24px)',\n            }}\n          >\n            {error}\n          </Text>\n        )}\n      </ContextMenu>\n    </div>\n  );\n};\n\nconst entrySource = {\n  canDrag: props => !!props.id,\n  beginDrag: props => {\n    if (props.closeTree) props.closeTree();\n\n    const directory =\n      props.type === 'directory' || props.type === 'directory-open';\n    return {\n      id: props.id,\n      shortid: props.shortid,\n      directory,\n      path: !directory && props.getModulePath(props.id),\n    };\n  },\n};\n\nconst collectSource = (connect, monitor) => ({\n  connectDragSource: connect.dragSource(),\n  isDragging: monitor.isDragging(),\n});\n\nexport default DragSource('ENTRY', entrySource, collectSource)(Entry);\n","import { Directory, Module } from '@codesandbox/common/lib/types';\nimport { useOvermind } from 'app/overmind';\n// eslint-disable-next-line import/extensions\nimport getType from 'app/utils/get-type.ts';\nimport React from 'react';\n\nimport Entry from '../Entry';\n\ninterface IModuleEntryProps {\n  module: Module;\n  setCurrentModule?: (id: string) => void;\n  store?: any;\n  signals?: any;\n  markTabsNotDirty?: () => void;\n  depth?: number;\n  renameModule?: (title: string, moduleShortid: string) => void;\n  deleteEntry?: (shortid: string, title: string) => void;\n  discardModuleChanges?: (shortid: string, title: string) => void;\n  getModulePath?: (\n    modules: Module[],\n    directories: Directory[],\n    id: string\n  ) => string;\n  renameValidator?: (id: string, title: string) => string | false | null;\n  isActive: boolean;\n}\n\nconst ModuleEntry: React.FC<IModuleEntryProps> = React.memo(\n  ({\n    module,\n    setCurrentModule,\n    markTabsNotDirty,\n    depth,\n    renameModule,\n    deleteEntry,\n    discardModuleChanges,\n    getModulePath,\n    renameValidator,\n    isActive,\n  }) => {\n    const {\n      state: {\n        editor: { mainModule },\n        live,\n      },\n    } = useOvermind();\n    const isMainModule = module.id === mainModule.id;\n    const type = getType(module.title);\n    const hasError = module.errors.length > 0;\n    const liveUsers = live.liveUsersByModule[module.shortid] || [];\n\n    const isNotSynced = module.savedCode && module.code !== module.savedCode;\n\n    return (\n      // @ts-ignore\n      <Entry\n        id={module.id}\n        shortid={module.shortid}\n        title={module.title}\n        rightColors={liveUsers.map(([a, b, c]) => `rgb(${a}, ${b}, ${c})`)}\n        depth={depth + 1}\n        active={isActive}\n        type={type || 'function'}\n        rename={renameModule}\n        deleteEntry={deleteEntry}\n        isNotSynced={isNotSynced}\n        renameValidator={renameValidator}\n        setCurrentModule={setCurrentModule}\n        isMainModule={isMainModule}\n        moduleHasError={hasError}\n        markTabsNotDirty={markTabsNotDirty}\n        discardModuleChanges={discardModuleChanges}\n        getModulePath={getModulePath}\n      />\n    );\n  }\n);\n\nexport default ModuleEntry;\n","import { HIDDEN_DIRECTORIES } from '@codesandbox/common/lib/templates/constants/files';\nimport { Directory, Module } from '@codesandbox/common/lib/types';\nimport { useOvermind } from 'app/overmind';\nimport { sortBy } from 'lodash-es';\nimport * as React from 'react';\n\nimport ModuleEntry from './ModuleEntry';\nimport DirectoryEntry from '..';\n\ninterface IDirectoryChildrenProps {\n  depth?: number;\n  renameModule?: (title: string, moduleShortid: string) => void;\n  setCurrentModule?: (id: string) => void;\n  parentShortid?: string;\n  deleteEntry?: (shortid: string, title: string) => void;\n  isInProjectView?: boolean;\n  markTabsNotDirty?: () => void;\n  discardModuleChanges?: (shortid: string, title: string) => void;\n  getModulePath?: (\n    modules: Module[],\n    directories: Directory[],\n    id: string\n  ) => string;\n  renameValidator?: (id: string, title: string) => string | false | null;\n}\n\nconst DirectoryChildren: React.FC<IDirectoryChildrenProps> = ({\n  depth = 0,\n  renameModule,\n  setCurrentModule,\n  parentShortid,\n  deleteEntry,\n  isInProjectView,\n  markTabsNotDirty,\n  discardModuleChanges,\n  getModulePath,\n  renameValidator,\n}) => {\n  const {\n    state: { isLoggedIn, editor: editorState },\n    actions: { files, editor },\n  } = useOvermind();\n  const { currentSandbox, mainModule, currentModuleShortid } = editorState;\n\n  const {\n    id: sandboxId,\n    modules,\n    directories,\n    template: sandboxTemplate,\n  } = currentSandbox;\n\n  return (\n    <div>\n      {sortBy(directories, 'title')\n        .filter(x => x.directoryShortid === parentShortid)\n        .filter(\n          x =>\n            !(\n              x.directoryShortid == null && HIDDEN_DIRECTORIES.includes(x.title)\n            )\n        )\n        .map(dir => (\n          <DirectoryEntry\n            key={dir.id}\n            depth={depth + 1}\n            signals={{ files, editor }}\n            store={{ editor: editorState, isLoggedIn }}\n            id={dir.id}\n            shortid={dir.shortid}\n            title={dir.title}\n            sandboxId={sandboxId}\n            sandboxTemplate={sandboxTemplate}\n            mainModuleId={mainModule.id}\n            modules={modules}\n            directories={directories}\n            isInProjectView={isInProjectView}\n            markTabsNotDirty={markTabsNotDirty}\n            getModulePath={getModulePath}\n          />\n        ))}\n      {sortBy(\n        modules.filter(x => x.directoryShortid === parentShortid),\n        'title'\n      ).map(m => (\n        <ModuleEntry\n          key={m.id}\n          module={m}\n          depth={depth}\n          setCurrentModule={setCurrentModule}\n          markTabsNotDirty={markTabsNotDirty}\n          renameModule={renameModule}\n          deleteEntry={deleteEntry}\n          discardModuleChanges={discardModuleChanges}\n          getModulePath={getModulePath}\n          renameValidator={renameValidator}\n          isActive={m.shortid === currentModuleShortid}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default DirectoryChildren;\n","import React from 'react';\nimport { Alert } from 'app/pages/common/Modals/Common/Alert';\nimport Modal from 'app/components/Modal';\n\ninterface DirectoryEntryModalProps {\n  body: React.ReactNode;\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  title: string;\n  primaryMessage?: string;\n}\n\nconst DirectoryEntryModal = ({\n  body,\n  isOpen,\n  onClose,\n  onConfirm,\n  primaryMessage,\n  title,\n}: DirectoryEntryModalProps) => (\n  <Modal isOpen={isOpen} onClose={onClose} width={400}>\n    <Alert\n      title={title}\n      description={body}\n      onCancel={onClose}\n      onPrimaryAction={onConfirm}\n      type=\"danger\"\n      confirmMessage={primaryMessage || 'Delete'}\n    />\n  </Modal>\n);\n\nexport default DirectoryEntryModal;\n","import styled from 'styled-components';\n\nexport const EntryContainer = styled.div`\n  position: relative;\n`;\n\nexport const Overlay = styled.div<{ isOver: boolean }>`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: ${props => (props.isOver ? 'block' : 'none')};\n`;\n\nexport const Opener = styled.div<{ open: boolean }>`\n  height: ${props => (props.open ? '100%' : '0px')};\n  overflow: hidden;\n`;\n","export default (id, title, siblings = []) => {\n  if (title.length === 0) return 'Title cannot be empty';\n  if (title.includes(' ')) {\n    // It has whitespaces\n    return 'Title cannot have whitespaces';\n  }\n  if (/[!@#$%^&*(),?\":{}|<>]/g.test(title)) {\n    return 'Title cannot have special characters';\n  }\n\n  if (title.length > 32) {\n    return \"The title can't be more than 32 characters long\";\n  }\n\n  if (title.includes('/') || title.includes('\\\\')) {\n    return \"The title can't include slash or backslash\";\n  }\n\n  if (siblings.find(sibling => sibling.title === title && sibling.id !== id)) {\n    return `A file or folder ${title} already exists at this location`;\n  }\n\n  return null;\n};\n","import {\n  getChildren as calculateChildren,\n  inDirectory,\n} from '@codesandbox/common/lib/sandbox/modules';\nimport { Directory, Module } from '@codesandbox/common/lib/types';\nimport { useOvermind } from 'app/overmind';\nimport React from 'react';\nimport { DropTarget, DropTargetMonitor } from 'react-dnd';\nimport { NativeTypes } from 'react-dnd-html5-backend';\nimport * as CSSProps from 'styled-components/cssprop'; // eslint-disable-line\n\nimport DirectoryChildren from './DirectoryChildren';\nimport DirectoryEntryModal from './DirectoryEntryModal';\nimport { EntryContainer, Opener, Overlay } from './elements';\nimport Entry from './Entry';\nimport validateTitle from './validateTitle';\n\nconst readDataURL = (file: File): Promise<string | ArrayBuffer> =>\n  new Promise(resolve => {\n    const reader = new FileReader();\n    reader.onload = e => {\n      resolve(e.target.result);\n    };\n    reader.readAsDataURL(file);\n  });\n\ntype parsedFiles = { [k: string]: { dataURI: string; type: string } };\nconst getFiles = async (files: File[] | FileList): Promise<parsedFiles> => {\n  const returnedFiles = {};\n  await Promise.all(\n    Array.from(files)\n      .filter(Boolean)\n      .map(async file => {\n        const dataURI = await readDataURL(file);\n        // @ts-ignore\n        returnedFiles[file.path || file.name] = {\n          dataURI,\n          type: file.type,\n        };\n      })\n  );\n\n  return returnedFiles;\n};\n\ntype ItemTypes = 'module' | 'directory';\n\ntype Modal = {\n  title: string;\n  body: React.ReactNode;\n  onConfirm: () => void;\n  primaryMessage?: string;\n};\n\ninterface Props {\n  id: string;\n  root?: boolean;\n  initializeProperties?: Function;\n  shortid?: string;\n  store?: any;\n  connectDropTarget?: Function;\n  isOver?: boolean;\n  canDrop?: boolean;\n  signals?: any;\n  title?: string;\n  sandboxId?: string;\n  sandboxTemplate?: any;\n  mainModuleId?: string;\n  modules?: any[];\n  directories?: any[];\n  currentModuleShortid?: string;\n  isInProjectView?: boolean;\n  markTabsNotDirty?: () => void;\n  depth?: number;\n  getModulePath?: (\n    modules: Module[],\n    directories: Directory[],\n    id: string\n  ) => string;\n}\n\nconst DirectoryEntry: React.FunctionComponent<Props> = ({\n  id,\n  root,\n  initializeProperties,\n  shortid,\n  connectDropTarget,\n  isOver,\n  depth = 0,\n  getModulePath,\n  canDrop,\n}) => {\n  const {\n    state: {\n      isLoggedIn,\n      editor: {\n        currentSandbox: { modules, directories, privacy },\n        shouldDirectoryBeOpen,\n      },\n    },\n    actions: {\n      files: {\n        moduleCreated,\n        moduleRenamed,\n        directoryCreated,\n        directoryRenamed,\n        directoryDeleted,\n        moduleDeleted,\n        filesUploaded,\n      },\n      editor: { moduleSelected, moduleDoubleClicked, discardModuleChanges },\n    },\n    reaction,\n  } = useOvermind();\n\n  const [creating, setCreating] = React.useState<ItemTypes>(null);\n  const [open, setOpen] = React.useState(\n    root || shouldDirectoryBeOpen({ directoryId: id })\n  );\n  const [modalConfirm, setModalConfirm] = React.useState<Modal | null>(null);\n\n  React.useEffect(() => {\n    if (initializeProperties) {\n      initializeProperties({\n        onCreateModuleClick,\n        onCreateDirectoryClick,\n        onUploadFileClick,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(\n    () =>\n      reaction(\n        ({ editor }) => editor.currentModule,\n        currentModule => {\n          setOpen(\n            isOpen =>\n              isOpen ||\n              shouldDirectoryBeOpen({ directoryId: id, module: currentModule })\n          );\n        }\n      ),\n\n    // shouldDirectoryOpen causes this to unmount for some reason, which bugs out how directories open and close\n    // eslint-disable-next-line\n    [id, reaction]\n  );\n\n  React.useEffect(() => {\n    if (isOver) {\n      setOpen(true);\n    }\n  }, [isOver]);\n\n  const resetState = React.useCallback(() => setCreating(null), []);\n\n  const onCreateModuleClick = React.useCallback(() => {\n    setCreating('module');\n    setOpen(true);\n\n    return true;\n  }, []);\n\n  const createModule = React.useCallback(\n    (_, title: string) => {\n      moduleCreated({\n        title,\n        directoryShortid: shortid,\n      });\n\n      resetState();\n    },\n    [moduleCreated, resetState, shortid]\n  );\n\n  const renameModule = React.useCallback(\n    (moduleShortid: string, title: string) => {\n      moduleRenamed({ moduleShortid, title });\n    },\n    [moduleRenamed]\n  );\n\n  const closeModals = React.useCallback(() => {\n    setModalConfirm(null);\n  }, []);\n\n  const confirmDeleteModule = React.useCallback(\n    (moduleShortid: string, moduleName: string) => {\n      setModalConfirm({\n        title: 'Delete File',\n        body: (\n          <span>\n            Are you sure you want to delete{' '}\n            <b\n              css={`\n                word-break: break-all;\n              `}\n            >\n              {moduleName}\n            </b>\n            ?\n            <br />\n            The file will be permanently removed.\n          </span>\n        ),\n        onConfirm: () => {\n          closeModals();\n          moduleDeleted({\n            moduleShortid,\n          });\n        },\n      });\n    },\n    [closeModals, moduleDeleted]\n  );\n\n  const onCreateDirectoryClick = React.useCallback(() => {\n    setCreating('directory');\n    setOpen(true);\n\n    return true;\n  }, []);\n\n  const createDirectory = React.useCallback(\n    (_, title: string) => {\n      directoryCreated({\n        title,\n        directoryShortid: shortid,\n      });\n      resetState();\n    },\n    [directoryCreated, resetState, shortid]\n  );\n\n  const onUploadFileClick = React.useCallback(() => {\n    const fileSelector = document.createElement('input');\n    fileSelector.setAttribute('type', 'file');\n    fileSelector.setAttribute('multiple', 'true');\n    fileSelector.onchange = async event => {\n      const target = event.target as HTMLInputElement;\n      const files = await getFiles(target.files);\n\n      filesUploaded({\n        files,\n        directoryShortid: shortid,\n      });\n    };\n\n    fileSelector.click();\n  }, [filesUploaded, shortid]);\n\n  const renameDirectory = React.useCallback(\n    (directoryShortid: string, title: string) => {\n      directoryRenamed({ title, directoryShortid });\n    },\n    [directoryRenamed]\n  );\n\n  const confirmDeleteDirectory = React.useCallback(\n    (directoryShortid: string, directoryName: string) => {\n      setModalConfirm({\n        title: 'Delete Directory',\n        body: (\n          <span>\n            Are you sure you want to delete <b>{directoryName}</b>?\n            <br />\n            The directory will be permanently removed.\n          </span>\n        ),\n        onConfirm: () => {\n          closeModals();\n          directoryDeleted({\n            directoryShortid,\n          });\n        },\n      });\n    },\n    [closeModals, directoryDeleted]\n  );\n\n  const confirmDiscardChanges = React.useCallback(\n    (moduleShortid: string, moduleName: string) => {\n      setModalConfirm({\n        title: 'Discard Changes',\n        primaryMessage: 'Discard',\n        body: (\n          <span>\n            Are you sure you want to discard changes on <b>{moduleName}</b>?\n          </span>\n        ),\n        onConfirm: () => {\n          closeModals();\n          discardModuleChanges({\n            moduleShortid,\n          });\n        },\n      });\n    },\n    [closeModals, discardModuleChanges]\n  );\n\n  const toggleOpen = React.useCallback(() => setOpen(!open), [open]);\n\n  const closeTree = React.useCallback(() => setOpen(false), []);\n\n  const getChildren = React.useCallback(\n    () => calculateChildren(modules, directories, shortid),\n    [directories, modules, shortid]\n  );\n\n  const validateModuleTitle = React.useCallback(\n    (moduleId: string, title: string) =>\n      validateTitle(moduleId, title, getChildren()),\n    [getChildren]\n  );\n\n  const validateDirectoryTitle = React.useCallback(\n    (directoryId: string, title: string) => {\n      if (root) return null;\n\n      return validateTitle(directoryId, title, getChildren());\n    },\n    [getChildren, root]\n  );\n\n  const setCurrentModule = React.useCallback(\n    (moduleId: string) => {\n      moduleSelected({ id: moduleId });\n    },\n    [moduleSelected]\n  );\n\n  const markTabsNotDirty = React.useCallback(() => {\n    moduleDoubleClicked();\n  }, [moduleDoubleClicked]);\n\n  const title = root ? 'Project' : directories.find(m => m.id === id).title;\n\n  return connectDropTarget(\n    <div style={{ position: 'relative' }}>\n      <Overlay isOver={isOver && canDrop} />\n      {!root && (\n        <EntryContainer>\n          <Entry\n            id={id}\n            shortid={shortid}\n            title={title}\n            depth={depth}\n            type={open ? 'directory-open' : 'directory'}\n            root={root}\n            isOpen={open}\n            onClick={toggleOpen}\n            renameValidator={validateDirectoryTitle}\n            discardModuleChanges={confirmDiscardChanges}\n            rename={!root && renameDirectory}\n            onCreateModuleClick={onCreateModuleClick}\n            onCreateDirectoryClick={onCreateDirectoryClick}\n            onUploadFileClick={isLoggedIn && privacy === 0 && onUploadFileClick}\n            deleteEntry={!root && confirmDeleteDirectory}\n            hasChildren={getChildren().length > 0}\n            closeTree={closeTree}\n            getModulePath={getModulePath}\n          />\n        </EntryContainer>\n      )}\n      <DirectoryEntryModal\n        isOpen={Boolean(modalConfirm)}\n        onClose={closeModals}\n        {...modalConfirm}\n      />\n      {open && (\n        <Opener open={open}>\n          {creating === 'directory' && (\n            <Entry\n              id=\"\"\n              title=\"\"\n              state=\"editing\"\n              type=\"directory\"\n              depth={depth + 1}\n              renameValidator={validateModuleTitle}\n              rename={createDirectory}\n              onRenameCancel={resetState}\n            />\n          )}\n          <DirectoryChildren\n            depth={depth}\n            renameModule={renameModule}\n            parentShortid={shortid}\n            renameValidator={validateModuleTitle}\n            deleteEntry={confirmDeleteModule}\n            setCurrentModule={setCurrentModule}\n            markTabsNotDirty={markTabsNotDirty}\n            discardModuleChanges={confirmDiscardChanges}\n            getModulePath={getModulePath}\n          />\n          {creating === 'module' && (\n            <Entry\n              id=\"\"\n              title=\"\"\n              state=\"editing\"\n              depth={depth + 1}\n              renameValidator={validateModuleTitle}\n              rename={createModule}\n              onRenameCancel={resetState}\n            />\n          )}\n        </Opener>\n      )}\n    </div>\n  );\n};\n\nconst FILES_TO_IGNORE = [\n  '.DS_Store', // macOs\n  'Thumbs.db', // Windows\n];\n\nconst entryTarget = {\n  drop: (props, monitor) => {\n    if (monitor == null) return;\n\n    // Check if only child is selected:\n    if (!monitor.isOver({ shallow: true })) return;\n\n    const sourceItem = monitor.getItem();\n\n    if (sourceItem.dirContent) {\n      sourceItem.dirContent.then(async (droppedFiles: File[]) => {\n        const files = await getFiles(\n          droppedFiles.filter(file => !FILES_TO_IGNORE.includes(file.name))\n        );\n\n        props.signals.files.filesUploaded({\n          files,\n          directoryShortid: props.shortid,\n        });\n      });\n    } else if (sourceItem.directory) {\n      props.signals.files.directoryMovedToDirectory({\n        shortid: sourceItem.shortid,\n        directoryShortid: props.shortid,\n      });\n    } else {\n      props.signals.files.moduleMovedToDirectory({\n        moduleShortid: sourceItem.shortid,\n        directoryShortid: props.shortid,\n      });\n    }\n  },\n\n  canDrop: (props, monitor) => {\n    if (monitor == null) return false;\n    const source = monitor.getItem();\n    if (source == null) return false;\n\n    if (source.id === props.id) return false;\n    if (props.root) return true;\n\n    return !inDirectory(props.directories, source.shortid, props.shortid);\n  },\n};\n\nfunction collectTarget(connectMonitor, monitor: DropTargetMonitor) {\n  return {\n    // Call this function inside render()\n    // to let React DnD handle the drag events:\n    connectDropTarget: connectMonitor.dropTarget(),\n    // You can ask the monitor about the current drag state:\n    isOver: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n    itemType: monitor.getItemType(),\n  };\n}\n\n// eslint-disable-next-line import/no-default-export\nexport default DropTarget(\n  ['ENTRY', NativeTypes.FILE],\n  entryTarget,\n  collectTarget\n)(React.memo(DirectoryEntry));\n","import { getModulePath } from '@codesandbox/common/lib/sandbox/modules';\nimport { Collapsible, SidebarRow } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\nimport React from 'react';\n\nimport EditIcons from './DirectoryEntry/Entry/EditIcons';\nimport DirectoryEntry from './DirectoryEntry/index';\n\nexport const Files = () => {\n  const {\n    state: { editor: editorState, isLoggedIn },\n    actions: { editor, files },\n  } = useOvermind();\n\n  const [editActions, setEditActions] = React.useState(null);\n\n  const { currentSandbox: sandbox } = editorState;\n\n  const _getModulePath = React.useCallback(\n    moduleId => {\n      try {\n        return getModulePath(sandbox.modules, sandbox.directories, moduleId);\n      } catch (e) {\n        return '';\n      }\n    },\n    [sandbox.directories, sandbox.modules]\n  );\n\n  return (\n    <>\n      <Collapsible title=\"Files\" defaultOpen css={{ position: 'relative' }}>\n        <SidebarRow\n          justify=\"flex-end\"\n          css={css({\n            // these could have been inside the collapsible as \"actions\"\n            // but this is the only exception where we have actions in the\n            // collapsible header. Keeping them in the body, also lets us\n            // get the animation effect of open/close state on it's own\n            // If this UI pattern catches on, it would be a good refactor\n            // to add actions API to collapsible\n            position: 'absolute',\n            top: 0,\n            right: 2,\n          })}\n        >\n          {editActions}\n        </SidebarRow>\n        <DirectoryEntry\n          root\n          getModulePath={_getModulePath}\n          title={sandbox.title || 'Project'}\n          signals={{ files, editor }}\n          store={{ editor: editorState, isLoggedIn }}\n          initializeProperties={({\n            onCreateModuleClick,\n            onCreateDirectoryClick,\n            onUploadFileClick,\n          }) => {\n            if (setEditActions) {\n              setEditActions(\n                // @ts-ignore\n                <EditIcons\n                  hovering\n                  forceShow={window.__isTouch}\n                  onCreateFile={onCreateModuleClick}\n                  onCreateDirectory={onCreateDirectoryClick}\n                  onDownload={editor.createZipClicked}\n                  onUploadFile={\n                    isLoggedIn && sandbox.privacy === 0\n                      ? onUploadFileClick\n                      : undefined\n                  }\n                />\n              );\n            }\n          }}\n          depth={-1}\n          id={null}\n          shortid={null}\n        />\n      </Collapsible>\n    </>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { Stack, Text } from '@codesandbox/components';\n\nconst formatSize = (value: number) => {\n  let unit: string;\n  let size: number;\n  if (Math.log10(value) < 3) {\n    unit = 'B';\n    size = value;\n  } else if (Math.log10(value) < 6) {\n    unit = 'kB';\n    size = value / 1024;\n  } else {\n    unit = 'mB';\n    size = value / 1024 / 1024;\n  }\n\n  return `${size.toFixed(1)}${unit}`;\n};\n\ntype Props = {\n  dependency: string;\n  version: string;\n};\n\nexport const BundleSizes = ({ dependency, version = '' }: Props) => {\n  const [size, setSize] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const cleanVersion = version.split('^');\n    getSizeForPKG(`${dependency}@${cleanVersion[cleanVersion.length - 1]}`);\n  }, [dependency, version]);\n\n  const getSizeForPKG = (pkg: string) => {\n    fetch(`https://bundlephobia.com/api/size?package=${pkg}`)\n      .then(rsp => rsp.json())\n      .then(setSize)\n      .catch(setError);\n  };\n\n  if (error) {\n    return (\n      <Text variant=\"muted\" marginBottom={2}>\n        There was a problem getting the size for {dependency}\n      </Text>\n    );\n  }\n\n  return size ? (\n    <Stack justify=\"space-between\" css={{ width: '100%' }}>\n      <Text>\n        <Text variant=\"muted\">Gzip:</Text> {formatSize(size.gzip)}\n      </Text>\n      <Text>\n        <Text variant=\"muted\">Size:</Text> {formatSize(size.size)}\n      </Text>\n    </Stack>\n  ) : null;\n};\n","import React, { useState, useEffect } from 'react';\nimport CrossIcon from 'react-icons/lib/md/clear';\nimport RefreshIcon from 'react-icons/lib/md/refresh';\nimport ArrowDropDown from 'react-icons/lib/md/keyboard-arrow-down';\nimport ArrowDropUp from 'react-icons/lib/md/keyboard-arrow-up';\nimport algoliasearch from 'algoliasearch/lite';\nimport compareVersions from 'compare-versions';\nimport Tooltip, {\n  SingletonTooltip,\n} from '@codesandbox/common/lib/components/Tooltip';\nimport { formatVersion } from '@codesandbox/common/lib/utils/ci';\n\nimport css from '@styled-system/css';\nimport {\n  ListAction,\n  Stack,\n  SidebarRow,\n  Select,\n  Text,\n  Link,\n  Button,\n} from '@codesandbox/components';\n\nimport { BundleSizes } from './BundleSizes';\n\ninterface Props {\n  dependencies: { [dep: string]: string };\n  dependency: string;\n  onRemove: (dep: string) => void;\n  onRefresh: (dep: string, version?: string) => void;\n}\n\nconst client = algoliasearch('OFCNCOG2CU', '00383ecd8441ead30b1b0ff981c426f5');\nconst index = client.initIndex('npm-search');\n\nexport const Dependency = ({\n  dependencies,\n  dependency,\n  onRemove,\n  onRefresh,\n}: Props) => {\n  const [version, setVersion] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [versions, setVersions] = useState([]);\n\n  const setVersionsForLatestPkg = (pkg: string) => {\n    fetch(`/api/v1/dependencies/${pkg}`)\n      .then(response => response.json())\n      .then(data => setVersion(data.data.version))\n      .catch(err => {\n        if (process.env.NODE_ENV === 'development') {\n          console.error(err); // eslint-disable-line no-console\n        }\n      });\n  };\n\n  useEffect(() => {\n    // @ts-ignore\n    index.getObject(dependency, ['versions']).then(({ versions: results }) => {\n      const orderedVersions = Object.keys(results).sort((a, b) => {\n        try {\n          return compareVersions(b, a);\n        } catch (e) {\n          return 0;\n        }\n      });\n      setVersions(orderedVersions);\n    });\n\n    try {\n      const versionRegex = /^\\d{1,3}\\.\\d{1,3}.\\d{1,3}$/;\n      const propVersion = dependencies[dependency];\n      if (!versionRegex.test(propVersion)) {\n        setVersionsForLatestPkg(`${dependency}@${propVersion}`);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleRemove = e => {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    onRemove(dependency);\n  };\n\n  const handleRefresh = e => {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    onRefresh(dependency);\n  };\n\n  if (typeof dependencies[dependency] !== 'string') {\n    return null;\n  }\n\n  return (\n    <>\n      <ListAction\n        justify=\"space-between\"\n        align=\"center\"\n        css={css({\n          position: 'relative',\n          '.actions': {\n            backgroundColor: 'sideBar.background',\n            display: 'none',\n          },\n          ':hover .actions': {\n            backgroundColor: 'list.hoverBackground',\n            display: 'flex',\n          },\n        })}\n      >\n        <Link\n          href={`/examples/package/${dependency}`}\n          target=\"_blank\"\n          title={dependency}\n          maxWidth=\"60%\"\n          css={{\n            position: 'absolute',\n            zIndex: 2,\n            maxWidth: '60%',\n          }}\n        >\n          {dependency}\n        </Link>\n\n        <Stack\n          align=\"center\"\n          justify=\"flex-end\"\n          css={css({\n            position: 'absolute',\n            right: 2,\n            flexGrow: 0,\n            flexShrink: 1,\n            width: '100%',\n          })}\n        >\n          <Text variant=\"muted\" maxWidth=\"30%\">\n            {formatVersion(dependencies[dependency])}{' '}\n            {version && <span>({formatVersion(version)})</span>}\n          </Text>\n        </Stack>\n\n        <Stack\n          className=\"actions\"\n          align=\"center\"\n          justify=\"flex-end\"\n          css={css({\n            position: 'absolute',\n            right: 0,\n            width: 'auto',\n            zIndex: 2, // overlay on dependency name\n            paddingLeft: 1,\n          })}\n        >\n          <Select\n            css={{ width: '80px' }}\n            value={versions.find(v => v === dependencies[dependency])}\n            onChange={e => onRefresh(dependency, e.target.value)}\n          >\n            {versions.map(a => (\n              <option key={a}>{a}</option>\n            ))}\n          </Select>\n\n          <SingletonTooltip>\n            {singleton => (\n              <>\n                <Tooltip\n                  content={open ? 'Hide sizes' : 'Show sizes'}\n                  style={{ outline: 'none' }}\n                  singleton={singleton}\n                >\n                  <Button\n                    variant=\"link\"\n                    onClick={() => setOpen(!open)}\n                    css={css({ minWidth: 5 })}\n                  >\n                    {open ? <ArrowDropUp /> : <ArrowDropDown />}\n                  </Button>\n                </Tooltip>\n                <Tooltip\n                  content=\"Update to latest\"\n                  style={{ outline: 'none' }}\n                  singleton={singleton}\n                >\n                  <Button\n                    variant=\"link\"\n                    onClick={handleRefresh}\n                    css={css({ minWidth: 5 })}\n                  >\n                    <RefreshIcon />\n                  </Button>\n                </Tooltip>\n                <Tooltip\n                  content=\"Remove\"\n                  style={{ outline: 'none' }}\n                  singleton={singleton}\n                >\n                  <Button\n                    variant=\"link\"\n                    onClick={handleRemove}\n                    css={css({ minWidth: 5 })}\n                  >\n                    <CrossIcon />\n                  </Button>\n                </Tooltip>\n              </>\n            )}\n          </SingletonTooltip>\n        </Stack>\n      </ListAction>\n      {open ? (\n        <SidebarRow marginX={2}>\n          <BundleSizes\n            dependency={dependency}\n            version={dependencies[dependency]}\n          />\n        </SidebarRow>\n      ) : null}\n    </>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { useOvermind } from 'app/overmind';\n\nimport {\n  Collapsible,\n  Text,\n  SidebarRow,\n  List,\n  Button,\n} from '@codesandbox/components';\nimport { Dependency } from './Dependency';\n\nexport const Dependencies: FunctionComponent = () => {\n  const {\n    actions: {\n      modalOpened,\n      editor: { addNpmDependency, npmDependencyRemoved },\n    },\n    state: {\n      editor: { parsedConfigurations },\n    },\n  } = useOvermind();\n\n  if (!parsedConfigurations?.package) {\n    return (\n      <SidebarRow marginX={2}>\n        <Text variant=\"danger\">Unable to find package.json</Text>\n      </SidebarRow>\n    );\n  }\n\n  const { error, parsed } = parsedConfigurations.package;\n\n  if (error) {\n    return (\n      <SidebarRow marginX={2}>\n        <Text variant=\"danger\">We were not able to parse the package.json</Text>\n      </SidebarRow>\n    );\n  }\n\n  const { dependencies = {} } = parsed;\n\n  return (\n    <Collapsible title=\"Dependencies\" defaultOpen>\n      <List marginBottom={2}>\n        {Object.keys(dependencies)\n          .sort()\n          .map(dependency => (\n            <Dependency\n              dependencies={dependencies}\n              dependency={dependency}\n              key={dependency}\n              onRefresh={(name, version) => addNpmDependency({ name, version })}\n              onRemove={npmDependencyRemoved}\n            />\n          ))}\n      </List>\n      <SidebarRow marginX={2}>\n        <Button\n          variant=\"secondary\"\n          onClick={() => modalOpened({ modal: 'searchDependencies' })}\n        >\n          Add dependency\n        </Button>\n      </SidebarRow>\n    </Collapsible>\n  );\n};\n","export const fonts = [\n  'Roboto',\n  'Open Sans',\n  'Lato',\n  'Montserrat',\n  'Roboto Condensed',\n  'Source Sans Pro',\n  'Oswald',\n  'Raleway',\n  'Roboto Mono',\n  'Poppins',\n  'Roboto Slab',\n  'Merriweather',\n  'Noto Sans',\n  'PT Sans',\n  'Ubuntu',\n  'Playfair Display',\n  'Open Sans Condensed',\n  'Muli',\n  'PT Serif',\n  'Lora',\n  'Nunito',\n  'Slabo 27px',\n  'Titillium Web',\n  'Fira Sans',\n  'Rubik',\n  'Noto Sans JP',\n  'Work Sans',\n  'Noto Serif',\n  'Nanum Gothic',\n  'Quicksand',\n  'PT Sans Narrow',\n  'Arimo',\n  'Noto Sans KR',\n  'Inconsolata',\n  'Nunito Sans',\n  'Dosis',\n  'Oxygen',\n  'Heebo',\n  'Cabin',\n  'Karla',\n  'Libre Baskerville',\n  'Bitter',\n  'Josefin Sans',\n  'Crimson Text',\n  'Libre Franklin',\n  'Varela Round',\n  'Noto Sans TC',\n  'Source Code Pro',\n  'Hind',\n  'Anton',\n  'Indie Flower',\n  'Lobster',\n  'Fjalla One',\n  'Barlow',\n  'Abel',\n  'Mukta',\n  'Arvo',\n  'Source Serif Pro',\n  'Dancing Script',\n  'Pacifico',\n  'Exo 2',\n  'Shadows Into Light',\n  'Merriweather Sans',\n  'Yanone Kaffeesatz',\n  'Asap',\n  'Overpass',\n  'Questrial',\n  'Abril Fatface',\n  'Bree Serif',\n  'EB Garamond',\n  'Archivo Narrow',\n  'Acme',\n  'Barlow Condensed',\n  'Comfortaa',\n  'IBM Plex Sans',\n  'Kanit',\n  'Cairo',\n  'Amatic SC',\n  'Teko',\n  'Signika',\n  'Maven Pro',\n  'Exo',\n  'Play',\n  'Noto Sans SC',\n  'Fira Sans Condensed',\n  'Catamaran',\n  'Hind Siliguri',\n  'Righteous',\n  'Ubuntu Condensed',\n  'PT Sans Caption',\n  'Patua One',\n  'Domine',\n  'Assistant',\n  'Crete Round',\n  'Ropa Sans',\n  'Cinzel',\n  'Vollkorn',\n  'Cormorant Garamond',\n  'Prompt',\n  'Monda',\n  'Permanent Marker',\n  'ABeeZee',\n  'Hind Madurai',\n  'Rajdhani',\n  'Francois One',\n  'Cuprum',\n  'Rokkitt',\n  'Caveat',\n  'Courgette',\n  'Satisfy',\n  'Zilla Slab',\n  'Amiri',\n  'Pathway Gothic One',\n  'Barlow Semi Condensed',\n  'News Cycle',\n  'Alegreya Sans',\n  'Alegreya',\n  'Fredoka One',\n  'Fira Sans Extra Condensed',\n  'Noticia Text',\n  'Alfa Slab One',\n  'Martel',\n  'Istok Web',\n  'Kalam',\n  'Cardo',\n  'Old Standard TT',\n  'Kaushan Script',\n  'Nanum Myeongjo',\n  'Bowlby One SC',\n  'Great Vibes',\n  'Tinos',\n  'Tajawal',\n  'Staatliches',\n  'Archivo Black',\n  'Lobster Two',\n  'Baloo Bhai',\n  'Quattrocento Sans',\n  'Gloria Hallelujah',\n  'Cantarell',\n  'Sacramento',\n  'Orbitron',\n  'Vidaloka',\n  'Advent Pro',\n  'IBM Plex Serif',\n  'Patrick Hand',\n  'M PLUS 1p',\n  'Cookie',\n  'Volkhov',\n  'Didact Gothic',\n  'Luckiest Guy',\n  'Frank Ruhl Libre',\n  'Quattrocento',\n  'Concert One',\n  'Noto Serif JP',\n  'Gothic A1',\n  'Neuton',\n  'Economica',\n  'Poiret One',\n  'Sanchez',\n  'Passion One',\n  'Josefin Slab',\n  'BenchNine',\n  'Prata',\n  'Hind Vadodara',\n  'Russo One',\n  'Spectral',\n  'Playfair Display SC',\n  'Special Elite',\n  'Neucha',\n  'Yrsa',\n  'Handlee',\n  'Hind Guntur',\n  'Parisienne',\n  'Changa',\n  'Gudea',\n  'Philosopher',\n  'Ruda',\n  'Bangers',\n  'Archivo',\n  'Sawarabi Mincho',\n  'Ultra',\n  'Chivo',\n  'Quantico',\n  'Cabin Condensed',\n  'Asap Condensed',\n  'Montserrat Alternates',\n  'Yantramanav',\n  'Nanum Gothic Coding',\n  'Paytone One',\n  'Armata',\n  'Saira Extra Condensed',\n  'M PLUS Rounded 1c',\n  'Arapey',\n  'Monoton',\n  'Khand',\n  'Viga',\n  'Pontano Sans',\n  'Alice',\n  'Lalezar',\n  'Unica One',\n  'Marck Script',\n  'Hammersmith One',\n  'Taviraj',\n  'Amaranth',\n  'Yellowtail',\n  'Bad Script',\n  'Gentium Basic',\n  'Enriqueta',\n  'Tangerine',\n  'PT Mono',\n  'Architects Daughter',\n  'Saira Condensed',\n  'Glegoo',\n  'Sigmar One',\n  'Gochi Hand',\n  'Audiowide',\n  'Gentium Book Basic',\n  'Merienda',\n  'Varela',\n  'Karma',\n  'Actor',\n  'Adamina',\n  'Saira',\n  'Julius Sans One',\n  'Homemade Apple',\n  'Pridi',\n  'Sorts Mill Goudy',\n  'Fugaz One',\n  'Nanum Pen Script',\n  'Mitr',\n  'Signika Negative',\n  'Baloo',\n  'Ubuntu Mono',\n  'Press Start 2P',\n  'Shadows Into Light Two',\n  'Unna',\n  'Kreon',\n  'Cantata One',\n  'Allura',\n  'Sarala',\n  'Sintony',\n  'Pragati Narrow',\n  'Encode Sans Condensed',\n  'Cormorant',\n  'Rock Salt',\n  'Rasa',\n  'Lusitana',\n  'Yeseva One',\n  'Covered By Your Grace',\n  'Oleo Script',\n  'Alegreya Sans SC',\n  'Sarabun',\n  'El Messiri',\n  'Scada',\n  'Jaldi',\n  'Boogaloo',\n  'Marvel',\n  'Playball',\n  'Tenor Sans',\n  'IBM Plex Mono',\n  'Reenie Beanie',\n  'Khula',\n  'Damion',\n  'Carter One',\n  'PT Serif Caption',\n  'Abhaya Libre',\n  'Arbutus Slab',\n  'Jura',\n  'Palanquin',\n  'Pinyon Script',\n  'Antic Slab',\n  'Alex Brush',\n  'Marcellus',\n  'Forum',\n  'Chewy',\n  'Coda',\n  'Markazi Text',\n  'Nothing You Could Do',\n  'Mr Dafoe',\n  'Squada One',\n  'Basic',\n  'Fauna One',\n  'Bevan',\n  'Michroma',\n  'Spinnaker',\n  'Marmelad',\n  'Lustria',\n  'Electrolize',\n  'Rubik Mono One',\n  'Sawarabi Gothic',\n  'Candal',\n  'Alef',\n  'Aclonica',\n  'Rancho',\n  'Cousine',\n  'Aldrich',\n  'Reem Kufi',\n  'VT323',\n  'Molengo',\n  'Encode Sans',\n  'Average',\n  'Niramit',\n  'Caveat Brush',\n  'Sunflower',\n  'Black Ops One',\n  'Lilita One',\n  'Rambla',\n  'Nobile',\n  'Allerta',\n  'Fredericka the Great',\n  'Encode Sans Semi Condensed',\n  'Days One',\n  'Rufina',\n  'Scheherazade',\n  'Cabin Sketch',\n  'Antic',\n  'Fira Mono',\n  'Coming Soon',\n  'Italianno',\n  'Niconne',\n  'Overlock',\n  'Share Tech Mono',\n  'Just Another Hand',\n  'Space Mono',\n  'Biryani',\n  'Allerta Stencil',\n  'Knewave',\n  'Leckerli One',\n  'Mukta Malar',\n  'Lateef',\n  'Saira Semi Condensed',\n  'Radley',\n  'Arima Madurai',\n  'Hanuman',\n  'Oranienbaum',\n  'Copse',\n  'Norican',\n  'Telex',\n  'Grand Hotel',\n  'Rochester',\n  'Syncopate',\n  'Aladin',\n  'DM Sans',\n  'Arsenal',\n  'Itim',\n  'Noto Serif SC',\n  'Mountains of Christmas',\n  'Cinzel Decorative',\n  'Lekton',\n  'Share',\n  'Martel Sans',\n  'Baloo Bhaina',\n  'Shrikhand',\n  'Berkshire Swash',\n  'DM Serif Text',\n  'Miriam Libre',\n  'Gruppo',\n  'Londrina Solid',\n  'Marcellus SC',\n  'Palanquin Dark',\n  'Allan',\n  'Halant',\n  'Lemonada',\n  'Overpass Mono',\n  'Anonymous Pro',\n  'Magra',\n  'Kameron',\n  'Annie Use Your Telescope',\n  'Nanum Brush Script',\n  'Coda Caption',\n  'Ramabhadra',\n  'Racing Sans One',\n  'Krub',\n  'Bai Jamjuree',\n  'Kosugi Maru',\n  'Changa One',\n  'Alegreya SC',\n  'Graduate',\n  'Judson',\n  'Suranna',\n  'Yesteryear',\n  'Nixie One',\n  'Bentham',\n  'Coustard',\n  'Pattaya',\n  'Caudex',\n  'Petit Formal Script',\n  'Mada',\n  'Belleza',\n  'Slabo 13px',\n  'Contrail One',\n  'Poly',\n  'Carrois Gothic',\n  'Mali',\n  'Carme',\n  'Buenard',\n  'Do Hyeon',\n  'Cambo',\n  'Aleo',\n  'Capriola',\n  'Sriracha',\n  'Jockey One',\n  'Arizonia',\n  'Rosario',\n  'Encode Sans Semi Expanded',\n  'Noto Serif TC',\n  'Trirong',\n  'Eczar',\n  'Voltaire',\n  'Herr Von Muellerhoff',\n  'Titan One',\n  'Bungee Inline',\n  'Sue Ellen Francisco',\n  'Bungee',\n  'GFS Didot',\n  'Cambay',\n  'Red Hat Text',\n  'Calligraffitti',\n  'Kelly Slab',\n  'Merienda One',\n  'Bubblegum Sans',\n  'Maitree',\n  'Gilda Display',\n  'Kristi',\n  'Faustina',\n  'Delius',\n  'DM Serif Display',\n  'Oxygen Mono',\n  'Love Ya Like A Sister',\n  'Average Sans',\n  'Goudy Bookletter 1911',\n  'Anaheim',\n  'Baloo Bhaijaan',\n  'Trocchi',\n  'ZCOOL XiaoWei',\n  'Cutive',\n  'Cutive Mono',\n  'Chakra Petch',\n  'Metrophobic',\n  'Ceviche One',\n  'Red Hat Display',\n  'Schoolbell',\n  'Encode Sans Expanded',\n  'Duru Sans',\n  'Shojumaru',\n  'Freckle Face',\n  'Mukta Vaani',\n  'Rye',\n  'Ovo',\n  'Mr De Haviland',\n  'Six Caps',\n  'Andada',\n  'Lexend Deca',\n  'IBM Plex Sans Condensed',\n  'Big Shoulders Text',\n  'Amethysta',\n  'Pompiere',\n  'Vesper Libre',\n  'Cormorant Infant',\n  'Homenaje',\n  'Federo',\n  'McLaren',\n  'Kadwa',\n  'Laila',\n  'Suez One',\n  'Cedarville Cursive',\n  'Fanwood Text',\n  'Montez',\n  'Black Han Sans',\n  'IM Fell English',\n  'IM Fell Double Pica',\n  'Inder',\n  'Unkempt',\n  'Averia Serif Libre',\n  'Emilys Candy',\n  'Secular One',\n  'Brawler',\n  'Sansita',\n  'Happy Monkey',\n  'Balthazar',\n  'Doppio One',\n  'Rozha One',\n  'Aref Ruqaa',\n  'Mate',\n  'Gabriela',\n  'Chonburi',\n  'Baumans',\n  'Pangolin',\n  'BioRhyme',\n  'Noto Serif KR',\n  'IM Fell DW Pica',\n  'Amiko',\n  'Megrim',\n  'Corben',\n  'Chelsea Market',\n  'Oregano',\n  'Athiti',\n  'Convergence',\n  'Geo',\n  'Gravitas One',\n  'Gurajada',\n  'Short Stack',\n  'Raleway Dots',\n  'Battambang',\n  'Kosugi',\n  'Vast Shadow',\n  'La Belle Aurore',\n  'Lemon',\n  'Fondamento',\n  'Skranji',\n  'Limelight',\n  'Baloo Chettan',\n  'UnifrakturMaguntia',\n  'Proza Libre',\n  'Seaweed Script',\n  'Jua',\n  'Denk One',\n  'Qwigley',\n  'Prociono',\n  'Belgrano',\n  'Alike',\n  'Crafty Girls',\n  'Wallpoet',\n  'Sofia',\n  'Waiting for the Sunrise',\n  'Mallanna',\n  'Carrois Gothic SC',\n  'Spicy Rice',\n  'Give You Glory',\n  'Share Tech',\n  'Rouge Script',\n  'Cormorant SC',\n  'Scope One',\n  'Sniglet',\n  'Kurale',\n  'Patrick Hand SC',\n  'Bowlby One',\n  'Fjord One',\n  'Cantora One',\n  'Strait',\n  'Quando',\n  'Fresca',\n  'Stardos Stencil',\n  'Expletus Sans',\n  'Finger Paint',\n  'Zeyada',\n  'Gafata',\n  'Spectral SC',\n  'Andika',\n  'Podkova',\n  'Amarante',\n  'Oleo Script Swash Caps',\n  'Crushed',\n  'Cherry Swash',\n  'Mirza',\n  'Meddon',\n  'Harmattan',\n  'Faster One',\n  'Aguafina Script',\n  'Katibeh',\n  'Loved by the King',\n  'Amita',\n  'Mouse Memoirs',\n  'Nova Square',\n  'Voces',\n  'IM Fell English SC',\n  'Tienne',\n  'Esteban',\n  'Delius Swash Caps',\n  'Galada',\n  'Libre Barcode 39',\n  'Orienta',\n  'Bilbo Swash Caps',\n  'Clicker Script',\n  'Literata',\n  'Puritan',\n  'Cormorant Upright',\n  'Averia Sans Libre',\n  'Wendy One',\n  'Sedgwick Ave',\n  'Baloo Da',\n  'Mako',\n  'Krona One',\n  'Euphoria Script',\n  'Bungee Shade',\n  'Walter Turncoat',\n  'Just Me Again Down Here',\n  'Dawning of a New Day',\n  'Baloo Thambi',\n  'Averia Libre',\n  'The Girl Next Door',\n  'Alike Angular',\n  'Tauri',\n  'Charm',\n  'Rationale',\n  'Montserrat Subrayada',\n  'Spirax',\n  'Rammetto One',\n  'Poller One',\n  'Wire One',\n  'Overlock SC',\n  'Over the Rainbow',\n  'Mrs Saint Delafield',\n  'NTR',\n  'Bellefair',\n  'Fontdiner Swanky',\n  'Imprima',\n  'K2D',\n  'Atma',\n  'Ledger',\n  'Rum Raisin',\n  'Codystar',\n  'Holtwood One SC',\n  'Iceland',\n  'Baloo Paaji',\n  'Creepster',\n  'Rakkas',\n  'Life Savers',\n  'Salsa',\n  'Numans',\n  'Princess Sofia',\n  'Ruslan Display',\n  'Pavanam',\n  'Habibi',\n  'Bubbler One',\n  'Engagement',\n  'Hanalei Fill',\n  'Port Lligat Sans',\n  'Dokdo',\n  'Sarpanch',\n  'Lily Script One',\n  'Artifika',\n  'Slackey',\n  'Shanti',\n  'Nova Mono',\n  'Headland One',\n  'Mandali',\n  'Prosto One',\n  'Song Myung',\n  'Mogra',\n  'Vampiro One',\n  'Modak',\n  'Asul',\n  'Vibur',\n  'Saira Stencil One',\n  'David Libre',\n  'Elsie',\n  'Noto Sans HK',\n  'Englebert',\n  'Koulen',\n  'Kranky',\n  'B612 Mono',\n  'Antic Didone',\n  'Port Lligat Slab',\n  'Vollkorn SC',\n  'Cherry Cream Soda',\n  'Frijole',\n  'Manjari',\n  'Sirin Stencil',\n  'Zilla Slab Highlight',\n  'Farsan',\n  'Medula One',\n  'Ranchers',\n  'Eater',\n  'Ruluko',\n  'Livvic',\n  'Padauk',\n  'Kotta One',\n  'Mukta Mahee',\n  'Peralta',\n  'Blinker',\n  'Dynalight',\n  'Kumar One',\n  'Underdog',\n  'IM Fell French Canon',\n  'Metamorphous',\n  'Arya',\n  'Gugi',\n  'Dekko',\n  'Sail',\n  'Buda',\n  'Bilbo',\n  'Coiny',\n  'Nova Round',\n  'Baloo Tamma',\n  'Yatra One',\n  'Mate SC',\n  'Macondo Swash Caps',\n  'Almendra',\n  'Meera Inimai',\n  'Sonsie One',\n  'Pirata One',\n  'Mystery Quest',\n  'Khmer',\n  'Germania One',\n  'Donegal One',\n  'Dorsa',\n  'Sarina',\n  'Inknut Antiqua',\n  'Timmana',\n  'Stint Ultra Condensed',\n  'Flamenco',\n  'Chau Philomene One',\n  'Condiment',\n  'Tulpen One',\n  'Simonetta',\n  'Milonga',\n  'Chicle',\n  'Manuale',\n  'Thasadith',\n  'Ramaraja',\n  'Libre Caslon Text',\n  'Fascinate Inline',\n  'Rosarivo',\n  'ZCOOL QingKe HuangYou',\n  'Darker Grotesque',\n  'Ranga',\n  'Delius Unicase',\n  'Junge',\n  'Nova Slim',\n  'Moul',\n  'Kite One',\n  'Gaegu',\n  'Plaster',\n  'Trade Winds',\n  'Chathura',\n  'Stalemate',\n  'Paprika',\n  'Fenix',\n  'Ewert',\n  'Italiana',\n  'Miniver',\n  'Almarai',\n  'Ribeye Marrow',\n  'Cagliostro',\n  'Londrina Outline',\n  'Jacques Francois Shadow',\n  'Quintessential',\n  'Mina',\n  'Angkor',\n  'Ribeye',\n  'Nokora',\n  'Henny Penny',\n  'Galdeano',\n  'Lovers Quarrel',\n  'IM Fell Great Primer',\n  'League Script',\n  'Stoke',\n  'Swanky and Moo Moo',\n  'Cormorant Unicase',\n  'Sura',\n  'Srisakdi',\n  'Diplomata',\n  'IM Fell DW Pica SC',\n  'Sancreek',\n  'Averia Gruesa Libre',\n  'Della Respira',\n  'Text Me One',\n  'Maiden Orange',\n  'Glass Antiqua',\n  'Julee',\n  'Sumana',\n  'Uncial Antiqua',\n  'Petrona',\n  'New Rocker',\n  'Griffy',\n  'Barriecito',\n  'Linden Hill',\n  'Farro',\n  'Be Vietnam',\n  'Nosifer',\n  'Joti One',\n  'Redressed',\n  'Marko One',\n  'Hepta Slab',\n  'Vibes',\n  'IM Fell French Canon SC',\n  'Sree Krushnadevaraya',\n  'Trochut',\n  'Tillana',\n  'Kavoon',\n  'Big Shoulders Display',\n  'Bokor',\n  'Wellfleet',\n  'Croissant One',\n  'Chela One',\n  'Grenze',\n  'Eagle Lake',\n  'Akronim',\n  'Barrio',\n  'Offside',\n  'Stint Ultra Expanded',\n  'Liu Jian Mao Cao',\n  'Monsieur La Doulaise',\n  'Margarine',\n  'B612',\n  'UnifrakturCook',\n  'Revalia',\n  'Chango',\n  'Elsie Swash Caps',\n  'Nova Flat',\n  'Unlock',\n  'Autour One',\n  'Charmonman',\n  'Bebas Neue',\n  'Content',\n  'Trykker',\n  'Ruthie',\n  'Inika',\n  'Chilanka',\n  'Monofett',\n  'Notable',\n  'Baloo Tammudu',\n  'Kodchasan',\n  'Oldenburg',\n  'Irish Grover',\n  'Rhodium Libre',\n  'Mrs Sheppards',\n  'Asar',\n  'Smythe',\n  'Metal Mania',\n  'Montaga',\n  'Hi Melody',\n  'Iceberg',\n  'KoHo',\n  'Modern Antiqua',\n  'Lakki Reddy',\n  'Mansalva',\n  'Bigshot One',\n  'Crimson Pro',\n  'Felipa',\n  'Original Surfer',\n  'Bahiana',\n  'Smokum',\n  'Fira Code',\n  'Stylish',\n  'Dr Sugiyama',\n  'MedievalSharp',\n  'Asset',\n  'Meie Script',\n  'Purple Purse',\n  'IM Fell Great Primer SC',\n  'Sahitya',\n  'Libre Barcode 128',\n  'Keania One',\n  'Miltonian Tattoo',\n  'Fahkwang',\n  'Molle',\n  'Devonshire',\n  'Libre Barcode 39 Text',\n  'Ruge Boogie',\n  'Snowburst One',\n  'Caesar Dressing',\n  'Arbutus',\n  'Poor Story',\n  'Snippet',\n  'Jim Nightshade',\n  'Libre Barcode 39 Extended Text',\n  'Bayon',\n  'Ravi Prakash',\n  'Odor Mean Chey',\n  'Lancelot',\n  'Risque',\n  'Atomic Age',\n  'Dangrek',\n  'Londrina Shadow',\n  'ZCOOL KuaiLe',\n  'Freehand',\n  'Libre Barcode 39 Extended',\n  'IM Fell Double Pica SC',\n  'Goblin One',\n  'Major Mono Display',\n  'Diplomata SC',\n  'Kantumruy',\n  'Yeon Sung',\n  'Cute Font',\n  'Seymour One',\n  'Gorditas',\n  'Gamja Flower',\n  'Kavivanar',\n  'Jacques Francois',\n  'Kumar One Outline',\n  'Jolly Lodger',\n  'Kenia',\n  'Sunshiney',\n  'Flavors',\n  'Astloch',\n  'GFS Neohellenic',\n  'Black And White Picture',\n  'Nova Cut',\n  'Butterfly Kids',\n  'Almendra SC',\n  'Piedra',\n  'Almendra Display',\n  'Romanesco',\n  'Suwannaphum',\n  'Miltonian',\n  'Siemreap',\n  'Tenali Ramakrishna',\n  'Kirang Haerang',\n  'Alata',\n  'Bungee Outline',\n  'Macondo',\n  'East Sea Dokdo',\n  'Fruktur',\n  'Supermercado One',\n  'Jomhuria',\n  'Nova Script',\n  'Nova Oval',\n  'Galindo',\n  'Bigelow Rules',\n  'Metal',\n  'Combo',\n  'Sedgwick Ave Display',\n  'Jomolhari',\n  'Miss Fajardose',\n  'Erica One',\n  'Passero One',\n  'Geostar Fill',\n  'Aubrey',\n  'Bonbon',\n  'Emblema One',\n  'Londrina Sketch',\n  'Sevillana',\n  'Butcherman',\n  'Libre Barcode 128 Text',\n  'Taprom',\n  'Mr Bedfort',\n  'Sofadi One',\n  'Geostar',\n  'Preahvihear',\n  'Gidugu',\n  'Kdam Thmor',\n  'Hanalei',\n  'Bungee Hairline',\n  'Peddana',\n  'Suravaram',\n  'Calistoga',\n  'Fascinate',\n  'Public Sans',\n  'Federant',\n  'Libre Caslon Display',\n  'Lexend Exa',\n  'Chenla',\n  'Stalinist One',\n  'Moulpali',\n  'Beth Ellen',\n  'Dhurjati',\n  'Alatsi',\n  'Lexend Tera',\n  'Fasthand',\n  'Gayathri',\n  'BioRhyme Expanded',\n  'Tomorrow',\n  'Ma Shan Zheng',\n  'Warnes',\n  'Turret Road',\n  'Lacquer',\n  'Single Day',\n  'Lexend Mega',\n  'Lexend Zetta',\n  'Odibee Sans',\n  'Zhi Mang Xing',\n  'Lexend Peta',\n  'Lexend Giga',\n  'Kulim Park',\n  'Bahianita',\n  'Long Cang',\n  'Ibarra Real Nova',\n  'Baskervville',\n  'Sulphur Point',\n  'Solway',\n  'Gupter',\n];\n","import React, { FunctionComponent } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport getTemplateDefinition from '@codesandbox/common/lib/templates';\nimport CrossIcon from 'react-icons/lib/md/clear';\n\nimport {\n  Collapsible,\n  Link,\n  Stack,\n  Input,\n  Select,\n  FormField,\n  List,\n  ListAction,\n  SidebarRow,\n  Button,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nimport { fonts as listOfFonts } from './google-fonts';\n\nconst isGoogleFont = url => url.includes('fonts.googleapis.com/css');\n\nexport const ExternalResources: FunctionComponent = () => {\n  const {\n    actions: {\n      workspace: { externalResourceAdded, externalResourceRemoved },\n    },\n    state: {\n      editor: {\n        currentSandbox: { externalResources, template },\n      },\n    },\n  } = useOvermind();\n\n  const fonts = externalResources.filter(isGoogleFont);\n  const otherResources = externalResources.filter(\n    resource => !isGoogleFont(resource)\n  );\n\n  const { externalResourcesEnabled } = getTemplateDefinition(template);\n  if (!externalResourcesEnabled) return null;\n\n  return (\n    <Collapsible title=\"External resources\">\n      <Stack direction=\"vertical\" gap={6}>\n        {otherResources.length || fonts.length ? (\n          <List>\n            {otherResources.map(resource => (\n              <ListAction\n                key={resource}\n                justify=\"space-between\"\n                css={{\n                  button: { opacity: 0 },\n                  ':hover, :focus-within': { button: { opacity: 1 } },\n                }}\n              >\n                <Link href={resource} target=\"_blank\">\n                  {getName(resource)}\n                </Link>\n                <Button\n                  variant=\"link\"\n                  css={css({ width: 'auto' })}\n                  onClick={() => externalResourceRemoved(resource)}\n                >\n                  <CrossIcon />\n                </Button>\n              </ListAction>\n            ))}\n\n            {fonts.map(resource => (\n              <ListAction\n                key={resource}\n                justify=\"space-between\"\n                css={{\n                  button: { opacity: 0 },\n                  ':hover, :focus-within': { button: { opacity: 1 } },\n                }}\n              >\n                <Link href={resource} target=\"_blank\">\n                  {getFontFamily(resource).name}\n                </Link>\n                <Button\n                  variant=\"link\"\n                  css={css({ width: 'auto' })}\n                  onClick={() => externalResourceRemoved(resource)}\n                >\n                  <CrossIcon />\n                </Button>\n              </ListAction>\n            ))}\n          </List>\n        ) : null}\n\n        <form\n          onSubmit={event => {\n            event.preventDefault();\n            const url = event.target[0].value.trim();\n            externalResourceAdded(url);\n          }}\n        >\n          <FormField label=\"External URL\" direction=\"vertical\">\n            <Input\n              type=\"text\"\n              required\n              placeholder=\"https://cdn.com/bootstrap.css\"\n              key={otherResources.length}\n            />\n          </FormField>\n          <SidebarRow marginX={2}>\n            <Button type=\"submit\" variant=\"secondary\">\n              Add resource\n            </Button>\n          </SidebarRow>\n        </form>\n\n        <form\n          onSubmit={event => {\n            event.preventDefault();\n            const fontName = event.target[0].value.trim().replace(/ /g, '+');\n            const url = `https://fonts.googleapis.com/css?family=${fontName}&display=swap`;\n            externalResourceAdded(url);\n          }}\n        >\n          <FormField label=\"Google Fonts\" direction=\"vertical\">\n            <Select\n              required\n              placeholder=\"Select a font family\"\n              key={fonts.length}\n            >\n              {listOfFonts.sort().map(name => (\n                <option key={name}>{name}</option>\n              ))}\n            </Select>\n          </FormField>\n          <SidebarRow marginX={2}>\n            <Button type=\"submit\" variant=\"secondary\">\n              Add font\n            </Button>\n          </SidebarRow>\n        </form>\n      </Stack>\n    </Collapsible>\n  );\n};\n\nconst getNormalizedUrl = (url: string) => `${url.replace(/\\/$/g, '')}/`;\n\nconst getName = (resource: string) => {\n  if (resource.endsWith('.css') || resource.endsWith('.js')) {\n    const match = resource.match(/.*\\/(.*)/);\n\n    if (match && match[1]) {\n      return match[1];\n    }\n  }\n\n  // Add trailing / but no double one\n  return getNormalizedUrl(resource);\n};\n\nconst getFontFamily = (search: string) => {\n  const hashes = search.slice(search.indexOf('?') + 1).split('&');\n  const family = hashes\n    .find(hash => hash && hash.split('=')[0] === 'family')\n    .split('=')[1];\n\n  return {\n    name: family.split('+').join(' '),\n    id: family\n      .split('+')\n      .join('-')\n      .toLowerCase(),\n  };\n};\n","import React from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { Files } from './Files';\nimport { Dependencies } from './Dependencies';\nimport { ExternalResources } from './ExternalResources';\n\nexport const Explorer = () => {\n  const {\n    state: { editor },\n  } = useOvermind();\n\n  const template = editor.currentSandbox.template;\n\n  return (\n    <>\n      <Files />\n      {template !== 'static' && (\n        <>\n          <Dependencies />\n          <ExternalResources />\n        </>\n      )}\n    </>\n  );\n};\n","import gql from 'graphql-tag';\n\nexport const BOOKMARK_TEMPLATE_FRAGMENT = gql`\n  fragment BookmarkTemplateFields on Template {\n    id\n    bookmarked {\n      isBookmarked\n      entity {\n        __typename\n        ... on User {\n          id\n          name: username\n        }\n        ... on Team {\n          id\n          name\n        }\n      }\n    }\n  }\n`;\n\nexport const BOOKMARKED_SANDBOX_INFO = gql`\n  query BookmarkedSandboxInfo($sandboxId: ID!) {\n    sandbox(sandboxId: $sandboxId) {\n      id\n      author {\n        id\n        name: username\n      }\n      customTemplate {\n        ...BookmarkTemplateFields\n      }\n    }\n  }\n\n  ${BOOKMARK_TEMPLATE_FRAGMENT}\n`;\n","import gql from 'graphql-tag';\nimport { BOOKMARK_TEMPLATE_FRAGMENT } from './queries';\n\nexport const BOOKMARK_TEMPLATE = gql`\n  mutation BookmarkTemplate($template: ID!, $team: ID) {\n    template: bookmarkTemplate(templateId: $template, teamId: $team) {\n      ...BookmarkTemplateFields\n    }\n  }\n\n  ${BOOKMARK_TEMPLATE_FRAGMENT}\n`;\n\nexport const UNBOOKMARK_TEMPLATE = gql`\n  mutation UnbookmarkTemplate($template: ID!, $team: ID) {\n    template: unbookmarkTemplate(templateId: $template, teamId: $team) {\n      ...BookmarkTemplateFields\n    }\n  }\n\n  ${BOOKMARK_TEMPLATE_FRAGMENT}\n`;\n","import React, { useEffect } from 'react';\nimport {\n  useLazyQuery,\n  useMutation,\n  MutationHookOptions,\n} from '@apollo/react-hooks';\nimport { useOvermind } from 'app/overmind';\nimport {\n  BookmarkedSandboxInfoQuery,\n  BookmarkTemplateMutation,\n  BookmarkTemplateMutationVariables,\n  UnbookmarkTemplateMutation,\n  UnbookmarkTemplateMutationVariables,\n  BookmarkedSandboxInfoQueryVariables,\n} from 'app/graphql/types';\nimport { Stack, Button, Icon, Menu } from '@codesandbox/components';\nimport { BOOKMARK_TEMPLATE, UNBOOKMARK_TEMPLATE } from './mutations';\nimport { BOOKMARKED_SANDBOX_INFO } from './queries';\n\nexport const BookmarkTemplateButton = () => {\n  const {\n    state: {\n      isLoggedIn,\n      editor: {\n        currentId: sandboxId,\n        currentSandbox: { customTemplate },\n      },\n    },\n  } = useOvermind();\n\n  const [runQuery, { loading, data }] = useLazyQuery<\n    BookmarkedSandboxInfoQuery,\n    BookmarkedSandboxInfoQueryVariables\n  >(BOOKMARKED_SANDBOX_INFO);\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      runQuery({\n        variables: { sandboxId },\n      });\n    }\n  }, [isLoggedIn, runQuery, sandboxId]);\n\n  const bookmarkInfos = data?.sandbox?.customTemplate?.bookmarked || [];\n\n  const config = (\n    entityIndex: number = 0\n  ): MutationHookOptions<\n    BookmarkTemplateMutation | UnbookmarkTemplateMutation,\n    BookmarkTemplateMutationVariables | UnbookmarkTemplateMutationVariables\n  > => {\n    const bookmarkInfo = bookmarkInfos[entityIndex];\n\n    if (!bookmarkInfo) {\n      return {};\n    }\n\n    return {\n      variables: {\n        template: customTemplate.id,\n        team:\n          bookmarkInfo.entity.__typename === 'Team'\n            ? bookmarkInfo.entity.id\n            : undefined,\n      },\n      optimisticResponse: {\n        __typename: 'RootMutationType',\n        template: {\n          __typename: 'Template',\n          id: customTemplate.id,\n          bookmarked: bookmarkInfos.map(b => {\n            if (b.entity.id !== bookmarkInfo.entity.id) {\n              return b;\n            }\n\n            return {\n              ...b,\n              isBookmarked: !b.isBookmarked,\n            };\n          }),\n        },\n      },\n    };\n  };\n\n  const [bookmark] = useMutation<\n    BookmarkTemplateMutation,\n    BookmarkTemplateMutationVariables\n  >(BOOKMARK_TEMPLATE, config());\n  const [unbookmark] = useMutation<\n    UnbookmarkTemplateMutation,\n    UnbookmarkTemplateMutationVariables\n  >(UNBOOKMARK_TEMPLATE, config());\n\n  const handleToggleFollow = (i: number = 0) =>\n    bookmarkInfos[i].isBookmarked ? unbookmark(config(i)) : bookmark(config(i));\n\n  return (\n    <Stack>\n      <Button\n        disabled={loading}\n        onClick={() => handleToggleFollow(0)}\n        css={{\n          width: 'calc(100% - 26px)',\n          borderTopRightRadius: 0,\n          borderBottomRightRadius: 0,\n        }}\n      >\n        {bookmarkInfos[0]?.isBookmarked\n          ? `Remove Bookmark`\n          : `Bookmark Template`}\n      </Button>\n      <Menu>\n        <Menu.Button\n          variant=\"primary\"\n          css={{\n            width: '26px',\n            borderTopLeftRadius: 0,\n            borderBottomLeftRadius: 0,\n          }}\n        >\n          <Icon size={8} name=\"caret\" />\n        </Menu.Button>\n        <Menu.List>\n          {bookmarkInfos.map(({ entity: { name } }, index: number) => (\n            <Menu.Item key={name} onSelect={() => handleToggleFollow(index)}>\n              {bookmarkInfos[index].isBookmarked ? 'Remove from ' : 'Add to '}\n              {index === 0 ? 'My Bookmarks' : name}\n            </Menu.Item>\n          ))}\n        </Menu.List>\n      </Menu>\n    </Stack>\n  );\n};\n","import React from 'react';\nimport { useOvermind } from 'app/overmind';\n\nimport { getSandboxName } from '@codesandbox/common/lib/utils/get-sandbox-name';\nimport {\n  sandboxUrl,\n  profileUrl,\n  githubRepoUrl,\n} from '@codesandbox/common/lib/utils/url-generator';\nimport getTemplateDefinition from '@codesandbox/common/lib/templates';\nimport { getTemplateIcon } from '@codesandbox/common/lib/utils/getTemplateIcon';\n\nimport {\n  Element,\n  Collapsible,\n  Text,\n  Link,\n  Avatar,\n  Stack,\n  List,\n  ListItem,\n  Stats,\n  Tags,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\n\nimport { BookmarkTemplateButton } from './BookmarkTemplateButton';\nimport { GitHubIcon } from '../GitHub/Icons';\n\nexport const Summary = () => {\n  const {\n    state: {\n      editor: { currentSandbox },\n      isLoggedIn,\n    },\n  } = useOvermind();\n  const {\n    author,\n    description,\n    customTemplate,\n    template,\n    forkedFromSandbox,\n    forkedTemplateSandbox,\n    tags,\n    team,\n  } = currentSandbox;\n\n  const isForked = forkedFromSandbox || forkedTemplateSandbox;\n  const { url: templateUrl } = getTemplateDefinition(template);\n\n  return (\n    <>\n      <Collapsible\n        title={customTemplate ? 'Template Info' : 'Sandbox Info'}\n        defaultOpen\n      >\n        <Element marginBottom={6}>\n          <Stack as=\"section\" direction=\"vertical\" gap={2} paddingX={2}>\n            <Stack justify=\"space-between\" align=\"center\">\n              {customTemplate ? (\n                <Stack gap={2} align=\"center\">\n                  <TemplateIcon\n                    iconUrl={customTemplate.iconUrl}\n                    environment={template}\n                  />\n                  <Text maxWidth=\"100%\">{getSandboxName(currentSandbox)}</Text>\n                </Stack>\n              ) : (\n                <Text maxWidth=\"100%\">{getSandboxName(currentSandbox)}</Text>\n              )}\n            </Stack>\n\n            <Text variant=\"muted\">{description}</Text>\n\n            {tags.length ? (\n              <Element marginTop={4}>\n                <Tags tags={tags} />\n              </Element>\n            ) : null}\n          </Stack>\n        </Element>\n\n        <Stack as=\"section\" direction=\"vertical\" gap={6} paddingX={2}>\n          <Stats sandbox={currentSandbox} />\n          {customTemplate && isLoggedIn && <BookmarkTemplateButton />}\n        </Stack>\n\n        <Divider marginTop={8} marginBottom={4} />\n\n        <Stack as=\"section\" direction=\"vertical\" gap={4}>\n          {author ? (\n            <Link href={profileUrl(author.username)}>\n              <Stack gap={2} align=\"center\" paddingX={2}>\n                <Avatar user={author} />\n                <Stack direction=\"vertical\">\n                  <Link variant={team ? 'body' : 'muted'} block>\n                    {author.username}\n                  </Link>\n                  {team && (\n                    <Text size={2} variant=\"muted\">\n                      {team.name}\n                    </Text>\n                  )}\n                </Stack>\n              </Stack>\n            </Link>\n          ) : null}\n\n          {!author && currentSandbox.git ? (\n            <Link href={githubRepoUrl(currentSandbox.git)} target=\"_blank\">\n              <Stack gap={2} align=\"center\" paddingX={2}>\n                <Stack\n                  justify=\"center\"\n                  align=\"center\"\n                  css={css({\n                    size: 8,\n                    minWidth: 8,\n                    borderRadius: 'small',\n                    border: '1px solid',\n                    borderColor: 'avatar.border',\n                  })}\n                >\n                  <GitHubIcon\n                    title=\"GitHub repository\"\n                    width={20}\n                    height={20}\n                  />\n                </Stack>\n                <Link variant=\"muted\" maxWidth=\"100%\">\n                  {currentSandbox.git.username}/{currentSandbox.git.repo}\n                </Link>\n              </Stack>\n            </Link>\n          ) : null}\n\n          <List>\n            {isForked ? (\n              <ListItem justify=\"space-between\">\n                <Text>\n                  {forkedTemplateSandbox ? 'Template' : 'Forked From'}\n                </Text>\n                <Link\n                  variant=\"muted\"\n                  href={sandboxUrl(forkedFromSandbox || forkedTemplateSandbox)}\n                  target=\"_blank\"\n                >\n                  {getSandboxName(forkedFromSandbox || forkedTemplateSandbox)}\n                </Link>\n              </ListItem>\n            ) : null}\n            <ListItem justify=\"space-between\" gap={2}>\n              <Text>Environment</Text>\n              <Link\n                variant=\"muted\"\n                href={templateUrl}\n                target=\"_blank\"\n                maxWidth=\"100%\"\n              >\n                {template}\n              </Link>\n            </ListItem>\n          </List>\n        </Stack>\n      </Collapsible>\n    </>\n  );\n};\n\nconst TemplateIcon = ({ iconUrl, environment }) => {\n  const { UserIcon } = getTemplateIcon(iconUrl, environment);\n\n  return <UserIcon />;\n};\n\nconst Divider = props => (\n  <Element\n    as=\"hr\"\n    css={css({\n      width: '100%',\n      border: 'none',\n      borderBottom: '1px solid',\n      borderColor: 'sideBar.border',\n    })}\n    {...props}\n  />\n);\n","import React, { ChangeEvent } from 'react';\nimport css from '@styled-system/css';\nimport {\n  FormField,\n  Stack,\n  Input,\n  Textarea,\n  Button,\n} from '@codesandbox/components';\nimport { useOvermind } from 'app/overmind';\n\nexport const CommitForm = () => {\n  const {\n    actions: {\n      git: {\n        createCommitClicked,\n        createPrClicked,\n        descriptionChanged,\n        subjectChanged,\n      },\n    },\n    state: {\n      editor: { isAllModulesSynced },\n      git: { description, originalGitChanges, subject },\n    },\n  } = useOvermind();\n\n  const hasWriteAccess = (rights: string = '') =>\n    ['admin', 'write'].includes(rights);\n\n  const modulesNotSaved = !isAllModulesSynced;\n\n  const changeSubject = ({\n    target: { value },\n  }: ChangeEvent<HTMLInputElement>) => subjectChanged({ subject: value });\n\n  const changeDescription = ({\n    target: { value },\n  }: ChangeEvent<HTMLTextAreaElement>) =>\n    descriptionChanged({ description: value });\n\n  return (\n    <>\n      <Stack\n        as=\"form\"\n        direction=\"vertical\"\n        gap={1}\n        onSubmit={event => event.preventDefault()}\n      >\n        <FormField direction=\"vertical\" label=\"Commit message\">\n          <Input\n            css={css({ marginTop: 2 })}\n            placeholder=\"Subject\"\n            onChange={changeSubject}\n            value={subject}\n          />\n        </FormField>\n        <FormField direction=\"vertical\" label=\"Commit description\" hideLabel>\n          <Textarea\n            maxLength={280}\n            placeholder=\"Description\"\n            onChange={changeDescription}\n            value={description}\n          />\n        </FormField>\n        <Stack\n          justify=\"space-between\"\n          marginX={2}\n          css={{\n            button: { width: '40%' },\n          }}\n        >\n          {hasWriteAccess(originalGitChanges?.rights) && (\n            <Button\n              variant=\"secondary\"\n              disabled={!subject || modulesNotSaved}\n              onClick={() => createCommitClicked()}\n            >\n              Commit\n            </Button>\n          )}\n\n          <Button\n            variant=\"secondary\"\n            disabled={!subject || modulesNotSaved}\n            onClick={() => createPrClicked()}\n          >\n            Open PR\n          </Button>\n        </Stack>\n      </Stack>\n    </>\n  );\n};\n","import React from 'react';\nimport { Text, List, ListItem } from '@codesandbox/components';\nimport { AddedIcon, DeletedIcon, ChangedIcon } from './Icons';\n\nconst getChanges = changes => changes.slice().sort();\n\nexport const Changes = ({ added, modified, deleted }) => (\n  <List paddingBottom={6}>\n    {getChanges(added).map(change => (\n      <ListItem gap={2}>\n        <AddedIcon /> <Text variant=\"muted\">{change}</Text>\n      </ListItem>\n    ))}\n    {getChanges(modified).map(change => (\n      <ListItem gap={2}>\n        <ChangedIcon /> <Text variant=\"muted\">{change}</Text>\n      </ListItem>\n    ))}\n    {getChanges(deleted).map(change => (\n      <ListItem gap={2}>\n        <DeletedIcon /> <Text variant=\"muted\">{change}</Text>\n      </ListItem>\n    ))}\n  </List>\n);\n","import track from '@codesandbox/common/lib/utils/analytics';\nimport React, { ChangeEvent } from 'react';\nimport {\n  Collapsible,\n  Input,\n  Element,\n  Stack,\n  Button,\n  Text,\n  FormField,\n} from '@codesandbox/components';\nimport { useOvermind } from 'app/overmind';\n\nexport const CreateRepo = () => {\n  const {\n    actions: {\n      git: { createRepoClicked, repoTitleChanged },\n    },\n    state: {\n      editor: {\n        isAllModulesSynced,\n        currentSandbox: { originalGit },\n      },\n      git: { error, repoTitle },\n    },\n  } = useOvermind();\n\n  const updateRepoTitle = ({\n    target: { value: title },\n  }: ChangeEvent<HTMLInputElement>) => repoTitleChanged({ title });\n\n  const createRepo = e => {\n    e.preventDefault();\n    track('Export to GitHub Clicked');\n    createRepoClicked();\n  };\n\n  const disabled = Boolean(error) || !repoTitle || !isAllModulesSynced;\n\n  return (\n    <Collapsible\n      title={originalGit ? 'Export to GitHub' : 'GitHub'}\n      defaultOpen={!originalGit}\n    >\n      <Element paddingX={2}>\n        <Text variant=\"muted\" marginBottom={4} block>\n          Create a GitHub repository to host your sandbox code and keep it in\n          sync with CodeSandbox.\n        </Text>\n        {!isAllModulesSynced && (\n          <Text marginBottom={2} block variant=\"danger\">\n            Save your files first before exporting.\n          </Text>\n        )}\n\n        {error && (\n          <Text marginBottom={2} block variant=\"danger\">\n            {error}\n          </Text>\n        )}\n\n        <Stack\n          marginX={0}\n          as=\"form\"\n          direction=\"vertical\"\n          gap={2}\n          onSubmit={createRepo}\n        >\n          <FormField label=\"Repository name\" hideLabel>\n            <Input\n              type=\"text\"\n              onChange={updateRepoTitle}\n              value={repoTitle}\n              placeholder=\"Enter repository name\"\n            />\n          </FormField>\n          <Element paddingX={2}>\n            <Button type=\"submit\" disabled={disabled} variant=\"secondary\">\n              Create Repository\n            </Button>\n          </Element>\n        </Stack>\n      </Element>\n    </Collapsible>\n  );\n};\n","import { useOvermind } from 'app/overmind';\nimport css from '@styled-system/css';\nimport React from 'react';\nimport {\n  Integration,\n  Text,\n  Element,\n  Stack,\n  Button,\n  Collapsible,\n} from '@codesandbox/components';\nimport { GitHubIcon } from './Icons';\n\nexport const GithubLogin = () => {\n  const {\n    actions: { signInGithubClicked },\n    state: { isLoadingGithub },\n  } = useOvermind();\n\n  return (\n    <Collapsible title=\"Github\" defaultOpen>\n      <Element paddingX={2}>\n        <Text variant=\"muted\" marginBottom={4} block>\n          You can create commits and open pull requests if you add GitHub to\n          your integrations.\n        </Text>\n        <Integration icon={GitHubIcon} title=\"GitHub\">\n          <Element\n            marginX={2}\n            css={css({\n              display: 'grid',\n              gridTemplateColumns: '1fr auto',\n              gridGap: 4,\n            })}\n          >\n            <Stack direction=\"vertical\">\n              <Text variant=\"muted\">Enables</Text>\n              <Text>Commits & PRs</Text>\n            </Stack>\n            <Button\n              disabled={isLoadingGithub}\n              onClick={() => signInGithubClicked()}\n            >\n              Sign In\n            </Button>\n          </Element>\n        </Integration>\n      </Element>\n    </Collapsible>\n  );\n};\n","import React from 'react';\n\nimport {\n  Element,\n  Collapsible,\n  Stack,\n  Text,\n  Button,\n} from '@codesandbox/components';\nimport { useOvermind } from 'app/overmind';\n\nexport const NotOwner = () => {\n  const {\n    actions: {\n      editor: { forkSandboxClicked },\n    },\n    state: {\n      editor: { isForkingSandbox },\n    },\n  } = useOvermind();\n\n  return (\n    <Collapsible title=\"Github\" defaultOpen>\n      <Element paddingX={2}>\n        <Stack direction=\"vertical\" gap={2} marginBottom={6}>\n          <Text size={2} variant=\"muted\" block>\n            You need to own this sandbox to export this sandbox to GitHub and\n            make commits and pull requests to it.\n          </Text>\n          <Text size={2} variant=\"muted\" block>\n            Make a fork to own the sandbox.\n          </Text>\n        </Stack>\n        <Button\n          variant=\"primary\"\n          disabled={isForkingSandbox}\n          onClick={() => forkSandboxClicked()}\n        >\n          {isForkingSandbox ? 'Forking Sandbox...' : 'Fork Sandbox'}\n        </Button>\n      </Element>\n    </Collapsible>\n  );\n};\n","import React from 'react';\n\nimport {\n  Element,\n  Collapsible,\n  Stack,\n  Text,\n  Button,\n} from '@codesandbox/components';\nimport { useOvermind } from 'app/overmind';\n\nexport const NotLoggedIn = () => {\n  const {\n    actions: { signInClicked },\n  } = useOvermind();\n\n  return (\n    <Collapsible title=\"GitHub\" defaultOpen>\n      <Element paddingX={2}>\n        <Stack direction=\"vertical\" gap={2} marginBottom={6}>\n          <Text size={2} variant=\"muted\" block>\n            You need to be signed in to export this sandbox to GitHub and make\n            commits and pull requests to it.\n          </Text>\n        </Stack>\n        <Button variant=\"primary\" onClick={() => signInClicked()}>\n          Sign in with GitHub\n        </Button>\n      </Element>\n    </Collapsible>\n  );\n};\n","import React, { FunctionComponent, SVGProps } from 'react';\n\ntype IconProps = SVGProps<SVGSVGElement>;\n\nexport const NetlifyIcon: FunctionComponent<IconProps> = props => (\n  <svg width={11} height={11} fill=\"none\" viewBox=\"0 0 40 40\" {...props}>\n    <path\n      fill=\"url(#paint0_radial)\"\n      fillRule=\"evenodd\"\n      d=\"M11.909 8.091c.6.254 4.8 2.03 5.34 2.265.035.015.075.03.102.004a2.098 2.098 0 011.92-.37c.03.008.065.016.09 0a.155.155 0 00.041-.049l4.135-6.404-1.26-1.26c-.805-.805-1.208-1.208-1.674-1.355a2 2 0 00-1.206 0c-.466.147-.868.55-1.674 1.355L11.91 8.09zm-.59 12.411l-4.808-7.013 4.491-4.491c.42.183 1.938.825 3.304 1.403h.001l.027.011c1.04.44 1.988.84 2.286.97.03.012.057.024.07.054.008.018.004.041 0 .06a2.003 2.003 0 00.523 1.828c.03.03 0 .072-.026.11l-.014.021-4.56 7.063c-.012.02-.023.037-.042.05-.025.015-.059.008-.086.001a2.274 2.274 0 00-.544-.074c-.163 0-.342.03-.522.063h-.001c-.02.003-.037.007-.054-.005a.21.21 0 01-.045-.051zm17.766-5.986a1.716 1.716 0 00-.496-.381l-.014-.006c-.008-.003-.016-.006-.023-.013a.11.11 0 01-.027-.093l.772-4.726 3.626 3.625-3.77 1.605a.083.083 0 01-.034.006h-.015c-.005-.003-.009-.007-.018-.016h-.001zm.782 1.015l3.98-1.684 3.876 3.876c.806.806 1.208 1.208 1.356 1.674.021.069.04.138.053.209l-9.263-3.923-.014-.006c-.038-.015-.08-.032-.08-.07 0-.038.043-.056.08-.071l.012-.005zm9.107 5.319l-9.65-4.082c-.033-.013-.072-.029-.104-.014a.066.066 0 00-.023.023l-.004.004a1.73 1.73 0 01-1.159.665c-.046 0-.054.059-.061.108l-.003.022-1.064 6.526-.003.014c-.006.033-.012.07.011.092.38.29.603.716.655 1.193 0 .045.054.054.103.062l.005.001.025.005 5.652 1.177 4.37-4.37c.66-.66 1.05-1.05 1.25-1.426zm-11.686 5.762l5.06 1.04-7.185 7.185 1.23-7.56.002-.01c.002-.01.003-.02.006-.029.01-.024.036-.034.061-.044l.012-.005a1.85 1.85 0 00.695-.517c.024-.028.053-.055.09-.06a.09.09 0 01.03 0zm-3.646 9.746c.288-1.765 1.36-8.302 1.485-9.063a.238.238 0 01.015-.045c.013-.033.025-.064-.003-.078a1.757 1.757 0 01-1.028-1.175c-.003-.016-.006-.03-.018-.043a.164.164 0 00-.076-.033l-9.922-2.046c-.023-.005-.052-.01-.073.001-.024.013-.037.036-.051.06l-.002.003-.02.035a1.709 1.709 0 01-.077.123l-.009.012c-.01.014-.02.027-.022.043-.002.022.012.041.026.06l.01.014 8.955 12.942.81-.81zm-10.69-11.367L21.95 38.05c-.597.591-.949.904-1.347 1.03a2 2 0 01-1.206 0c-.466-.148-.868-.55-1.674-1.356L8.731 28.73l2.348-3.643c.012-.018.022-.034.04-.047.025-.018.062-.01.091 0a2.434 2.434 0 001.638-.083c.027-.01.054-.017.075.002a.19.19 0 01.029.032zm-5.089 2.872l2.252-3.492c.01-.017.02-.034.008-.05a.159.159 0 00-.008-.01l-.005-.007a2.9 2.9 0 01-.13-.184c-.019-.031-.039-.065-.072-.065a.084.084 0 00-.033.007L5.8 25.799l2.063 2.064zm1.361-4.813l-4.337 1.837-2.61-2.61c-.444-.444-.766-.766-.99-1.043l7.936 1.646a.84.84 0 00.03.005c.05.008.103.017.103.063 0 .05-.059.073-.109.092l-.007.003-.016.007zM.832 19.892l8.948 1.875h.002c.016.004.03.007.042-.001a.16.16 0 00.05-.062c.103-.191.25-.367.396-.528.03-.03 0-.07-.027-.106l-.007-.01-.007-.009c-.424-.608-4.06-5.86-4.61-6.669l-3.342 3.341c-.805.806-1.208 1.208-1.355 1.674a2 2 0 00-.09.495zm19.517-9.174l4.066-6.303 3.819 3.818-.92 5.698-.002.015a.135.135 0 01-.007.038c-.01.02-.029.024-.05.03a1.83 1.83 0 00-.548.273.154.154 0 00-.02.017c-.011.012-.022.023-.04.024a.114.114 0 01-.042-.006l-5.819-2.472-.011-.005c-.037-.015-.081-.033-.081-.071a2.198 2.198 0 00-.297-.894l-.012-.02v-.001c-.03-.046-.06-.094-.036-.141zm.134 2.303c-.031-.014-.07-.024-.098-.003a.16.16 0 00-.034.04c-.38.565-1.01.896-1.69.896-.09 0-.18-.013-.283-.027l-.045-.007c-.048 0-.077.047-.104.089l-.008.012-4.482 6.94a.76.76 0 01-.014.02c-.027.038-.056.08-.027.11.018.017.035.017.052.017.017 0 11.283-4.804 12.147-5.173l.012-.005c.035-.014.075-.03.075-.068v-.153c0-.092.013-.184.029-.263a.106.106 0 000-.057c-.013-.031-.045-.044-.076-.058l-5.454-2.31zm-6.16 9.456c-.04-.133-.08-.27-.085-.271l12.28-5.237s.017 0 .034.017c.067.067.124.112.179.154l.026.016c.026.015.052.03.053.057 0 .01 0 .016-.002.025L25.756 23.7l-.003.02v.006c-.008.05-.015.107-.062.107a1.729 1.729 0 00-1.373.847l-.005.008c-.013.023-.027.045-.05.057-.021.01-.048.006-.07.001l-9.793-2.02c-.004 0-.04-.123-.077-.249z\"\n      clipRule=\"evenodd\"\n    />\n    <defs>\n      <radialGradient\n        id=\"paint0_radial\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"matrix(0 38.3432 -44.1226 0 19.982 .828)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#20C6B7\" />\n        <stop offset={1} stopColor=\"#4D9ABF\" />\n      </radialGradient>\n    </defs>\n  </svg>\n);\n\nexport const VercelIcon: FunctionComponent<IconProps> = props => (\n  <svg width={12} height={10} fill=\"none\" viewBox=\"0 0 12 10\" {...props}>\n    <path fill=\"currentColor\" d=\"M6 0l6 10H0L6 0z\" />\n  </svg>\n);\n\nexport const FileIcon: FunctionComponent<IconProps> = props => (\n  <svg width={8} height={11} fill=\"none\" viewBox=\"0 0 8 11\" {...props}>\n    <mask id=\"path-1-inside-1\" fill=\"#fff\">\n      <path\n        fillRule=\"evenodd\"\n        d=\"M4.284 0H.563A.563.563 0 000 .563v9.874c0 .311.252.563.563.563h6.875c.31 0 .562-.252.562-.563V3.58L4.284 0zM3.111.5l3.5 3.5h-3.5V.5z\"\n        clipRule=\"evenodd\"\n      />\n    </mask>\n    <path\n      fill=\"#999\"\n      fillRule=\"evenodd\"\n      d=\"M4.284 0H.563A.563.563 0 000 .563v9.874c0 .311.252.563.563.563h6.875c.31 0 .562-.252.562-.563V3.58L4.284 0zM3.111.5l3.5 3.5h-3.5V.5z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"#999\"\n      d=\"M4.003 0v1.673h.563V0h-.563zM6.19 3.86H8v-.562H6.19v.563zM4.284 0l.39-.405-.163-.157h-.227V0zM8 3.58h.563v-.24l-.173-.166L8 3.58zM6.611 4v.563H7.97l-.96-.96L6.61 4zM3.111.5L3.51.102l-.96-.96V.5h.562zm0 3.5H2.55v.563h.562V4zM.562.562h3.722V-.563H.563V.563zm0 0V-.563c-.62 0-1.125.504-1.125 1.125H.563zm0 9.876V.562H-.563v9.876H.563zm0 0H-.563c0 .62.504 1.124 1.125 1.124v-1.124zm6.875 0H.563v1.124h6.875v-1.124zm0 0v1.124c.622 0 1.125-.503 1.125-1.124H7.438zm0-6.859v6.858h1.125V3.58H7.438zM3.894.405l3.716 3.58.78-.81-3.715-3.58-.78.81zM7.01 3.602l-3.5-3.5-.796.796 3.5 3.5.796-.796zm-3.898.96h3.5V3.438h-3.5v1.126zM2.55.5V4h1.125V.5H2.549z\"\n      mask=\"url(#path-1-inside-1)\"\n    />\n  </svg>\n);\n\nexport const VisitIcon: FunctionComponent<IconProps> = props => (\n  <svg width={12} height={12} fill=\"none\" viewBox=\"0 0 12 12\" {...props}>\n    <path\n      fill=\"#999\"\n      d=\"M11.195 2.988A5.974 5.974 0 009.012.805 5.87 5.87 0 006 0a5.87 5.87 0 00-3.012.805A5.973 5.973 0 00.805 2.988 5.869 5.869 0 000 6a5.87 5.87 0 00.805 3.012 5.976 5.976 0 002.183 2.183A5.87 5.87 0 006 12a5.87 5.87 0 003.012-.805 5.973 5.973 0 002.183-2.183A5.87 5.87 0 0012 6a5.871 5.871 0 00-.805-3.012zM6.751 9.157c-.053-.063-.07-.115-.055-.157-.005.027-.024.05-.055.07a.745.745 0 00-.14-.116.737.737 0 01-.141-.118 3.324 3.324 0 01-.176-.3c-.013-.034-.014-.054-.004-.059-.099.042-.242.013-.43-.086a.768.768 0 01-.163-.164c-.073-.089-.149-.128-.227-.117a1.314 1.314 0 00-.105.027.408.408 0 01-.114.02.357.357 0 01-.125-.032 1.008 1.008 0 01-.168-.09 1.12 1.12 0 00-.144-.081l-.102-.055-.125-.063a.384.384 0 01-.097-.074.248.248 0 01-.067-.105 1.505 1.505 0 01-.039-.188.584.584 0 00-.062-.203.704.704 0 00-.133-.156c-.057-.052-.11-.078-.156-.078.041 0 .041-.035 0-.106a.792.792 0 00-.11-.152 9.858 9.858 0 01-.227-.25.625.625 0 01-.093-.145c-.026-.055-.031-.1-.016-.137.005-.005 0-.013-.015-.023a.404.404 0 00-.059-.031 1.343 1.343 0 00-.066-.028.154.154 0 00-.047-.011c.01.02.022.058.035.113a.45.45 0 00.043.121c.01.021.055.097.133.227.135.218.198.38.187.484-.031.01-.052.005-.062-.015a.284.284 0 01-.024-.086.491.491 0 00-.015-.078c-.016-.032-.056-.066-.121-.102-.066-.036-.106-.073-.122-.11a.036.036 0 00.02-.007.038.038 0 01.02-.008c.005-.047-.023-.107-.082-.18-.06-.073-.085-.125-.075-.156-.041-.031-.078-.092-.11-.183a.69.69 0 00-.077-.176.334.334 0 00-.078-.082 1.542 1.542 0 00-.118-.078 3.437 3.437 0 01-.093-.06.301.301 0 01-.063-.07c-.172-.208-.224-.32-.156-.335-.068.015-.124-.035-.168-.153-.044-.117-.059-.207-.043-.27l-.016-.007a1.16 1.16 0 00.008-.184c0-.101.007-.194.02-.277.013-.083.038-.125.074-.125-.036.005-.064-.027-.082-.098-.018-.07-.02-.118-.004-.144.005-.016.029-.005.07.031a.4.4 0 01.07.07c.068-.036.095-.083.079-.14a1.072 1.072 0 00-.164-.164c-.224-.146-.339-.217-.344-.211.031-.058.023-.107-.023-.149-.052.031-.082.04-.09.024a.303.303 0 01-.02-.086c-.005-.042-.018-.065-.039-.07-.026-.006-.057-.027-.094-.063a4.93 4.93 0 011.836-1.734c.032-.006.089-.008.172-.008.042.005.08.018.117.039.037.02.075.05.114.086.039.036.069.062.09.078.01-.031-.003-.078-.04-.14.01-.032.068-.063.172-.095.12-.015.198-.013.235.008a2.055 2.055 0 00-.157-.195l-.039.039c-.041-.037-.15-.018-.328.055l-.078.043a.911.911 0 01-.101.05.192.192 0 01-.094.008c.25-.135.495-.242.734-.32.016.01.042.032.078.066.037.034.065.059.086.074-.015-.01-.026-.005-.031.016-.02.062-.02.114 0 .156a.145.145 0 00.105.063.581.581 0 00.16-.008.973.973 0 01.126-.016L5 1.625c.166.016.232 0 .195-.047.016.021.034.064.055.13.02.064.044.11.07.136.026-.021.031-.057.016-.11-.016-.052-.016-.088 0-.109.005-.01.02-.02.046-.031a9.163 9.163 0 01.157-.063c.031-.02.01-.057-.063-.11a.533.533 0 00-.066-.023 1.117 1.117 0 01-.09-.03.496.496 0 01-.082-.044c-.029-.018-.042-.039-.039-.062a.211.211 0 01.043-.09c.031-.026.082-.037.152-.031.07.005.124.018.16.039.141.078.162.148.063.21a.56.56 0 01.188.063c.072.037.101.076.085.117.042-.078.084-.117.125-.117.027.005.051.04.075.106.023.065.037.1.043.105.041.057.083.07.125.04a.659.659 0 00.129-.138c.044-.06.068-.087.074-.082-.052-.02-.058-.041-.016-.062.078-.047.149-.06.211-.039.016.01.037.034.062.07.047.094.04.138-.023.133a.17.17 0 01.059.156c-.008.063-.049.091-.122.086a.277.277 0 01-.113-.039.351.351 0 00-.113-.043c-.026-.002-.063.012-.11.043a.988.988 0 00-.082.133.598.598 0 01-.09.133c-.078.078-.208.107-.39.086.015 0 .014.015-.004.047a1.581 1.581 0 01-.129.172.399.399 0 00-.094.18 2.1 2.1 0 01-.008.105.393.393 0 01-.031.136c.062-.015.112.016.148.094.032.073.032.112 0 .117a.922.922 0 01.454.032c.187.067.294.135.32.203.031-.047.107-.05.226-.008.047.026.089.104.126.234.02.078.056.146.105.203.05.058.103.073.16.047l.024-.015c.02-.01.037-.02.05-.028a.33.33 0 00.043-.031c.016-.013.025-.025.028-.035.002-.01-.002-.021-.012-.031a.282.282 0 01-.082-.13.164.164 0 01.012-.144.522.522 0 01.125-.094c.067-.041.11-.083.125-.125.02-.067-.006-.123-.078-.168-.073-.044-.11-.084-.11-.12 0-.027.017-.058.05-.095.035-.036.05-.07.044-.101a.38.38 0 00-.028-.098.537.537 0 01-.03-.11c-.003-.023.009-.05.034-.081.037-.021.123-.02.258.004a.872.872 0 01.266.074c.016.01.05.026.102.047.052.02.097.043.136.066.04.023.061.046.067.066h-.04a.187.187 0 01.067.11c.008.042-.012.073-.059.094a.246.246 0 01.125.023c.084.031.086.06.008.086a.5.5 0 01.067-.016.22.22 0 00.105-.05.129.129 0 01.035-.024.25.25 0 01.035-.008.064.064 0 01.047.012c.005 0 .017-.013.035-.039.018-.026.038-.052.059-.078.02-.026.039-.039.054-.039a.06.06 0 01.043.02.164.164 0 01.031.042 1.026 1.026 0 01.043.094c.01.026.036.054.074.082a.21.21 0 01.075.082l.03.117a.257.257 0 00.063.13.305.305 0 00.117.058c.01.005.034.002.07-.008a.187.187 0 01.09-.008c.024.005.036.026.036.063.03-.032.046-.052.046-.063a.33.33 0 00.051.164c.03.042.075.06.137.055l-.016.172c-.015.026-.054.045-.117.058a.427.427 0 00-.117.036.54.54 0 00-.113.093c-.06.058-.085.092-.075.102-.088-.1-.221-.128-.398-.086a1.966 1.966 0 00-.406.094.568.568 0 00-.172.117.246.246 0 00-.027.055 1.42 1.42 0 01-.04.086c-.013.026-.024.039-.034.039.03-.006.066-.03.105-.075a.452.452 0 01.074-.074c.136-.088.248-.12.337-.093.114.031.132.073.054.125-.01.01-.038.014-.082.012a.282.282 0 00-.09.004c.047.01.086.025.118.043.03.018.039.043.023.074.083.047.1.099.047.156a.282.282 0 01-.242.086c.016 0 .016.01 0 .031l-.133.086a1.64 1.64 0 01-.102.04.265.265 0 00-.117.07.156.156 0 00-.023.093.415.415 0 01-.008.094c-.005.021-.026.026-.062.016-.016.031-.064.056-.145.074-.08.018-.134.046-.16.082.03.042.028.083-.008.125-.063.052-.117.047-.164-.016-.026.01-.046.037-.059.079-.013.041-.032.07-.058.085.036.058.03.1-.016.125.005 0 .017.006.035.016.018.01.038.024.059.04.02.015.034.023.039.023-.02.046-.05.07-.086.07.031.083-.008.174-.117.273a.359.359 0 01-.098.063c-.044.02-.085.038-.121.05a.255.255 0 00-.063.028.53.53 0 00-.117.144.169.169 0 00-.012.145c.019.047.067.078.145.094l.008.062v.14l.008.063a.774.774 0 01.012.207c-.003.045-.015.07-.036.075-.02.005-.05 0-.086-.016-.042-.02-.09-.135-.148-.344a.521.521 0 00-.094-.187.235.235 0 01-.066.05c-.019.008-.032.01-.04.004a.511.511 0 01-.042-.035.52.52 0 00-.055-.043.415.415 0 00-.137-.038c-.065-.01-.105-.024-.12-.04-.126.094-.201.07-.227-.07-.01.026-.01.061.003.106.014.044.02.069.02.074-.036.068-.094.073-.172.015-.031-.03-.103-.035-.215-.011-.112.023-.186.027-.222.011.005 0 .015.008.03.024.016.01.027.018.032.023a.098.098 0 01-.023.047c-.01.01-.021.014-.032.012a.08.08 0 00-.035 0 .132.132 0 00-.035.012.482.482 0 00-.078.081.389.389 0 01-.07.075.516.516 0 01.043.191c-.003.044-.01.11-.024.195-.013.086-.02.155-.02.207 0 .084.025.18.075.29.05.109.108.184.176.226.036.02.099.034.187.039.089.005.151 0 .188-.016a.192.192 0 00.07-.054.264.264 0 00.039-.09c.01-.04.018-.066.023-.082.037-.099.105-.151.203-.156.063-.006.108.001.137.02.029.017.04.042.035.073a.393.393 0 01-.03.098 1.648 1.648 0 01-.06.113.432.432 0 00-.042.094c-.01.042-.02.1-.028.176a.967.967 0 01-.02.137c.011.005.05.008.118.008 0-.01.004-.028.012-.051a.222.222 0 00.011-.043c.026.042.068.065.125.07.058.006.1-.015.126-.062.01.015.041.055.093.117.052.063.081.115.086.156l.031.102c.016.047.021.08.016.098-.005.018-.031.027-.078.027-.02 0-.034.008-.039.023a.106.106 0 000 .059.524.524 0 00.05.133c.014.023.02.037.02.043.094.171.222.218.383.14 0 .151-.036.235-.11.25-.04.01-.087-.016-.14-.078zm.116 1.765a.626.626 0 01-.015-.125c-.005-.042.013-.098.055-.168a.361.361 0 00.062-.16c-.083-.02-.114-.089-.094-.203.01-.078.086-.182.227-.313.099-.088.13-.213.094-.375a2.161 2.161 0 01-.04-.297 2.66 2.66 0 00-.03-.273c0 .015.024.03.074.043.05.013.08.03.09.05a.473.473 0 00.039-.085.397.397 0 01.046-.094.266.266 0 01.067-.059.77.77 0 01.066-.043.599.599 0 00.07-.05c.037-.03.067-.051.09-.067a.26.26 0 01.094-.035c.04-.008.066.004.082.035.026.032.02.08-.016.145-.036.065-.036.11 0 .137a.582.582 0 00.016-.102.189.189 0 01.047-.117.178.178 0 01.09-.055.111.111 0 01.078.012c.023.013.05.03.082.054a.22.22 0 00.086.043.967.967 0 01.28.172c-.004-.005-.004-.012 0-.02a.082.082 0 01.032-.023.586.586 0 00.043-.023.219.219 0 01.043-.02l.023-.008a.269.269 0 00.078-.007c.016-.006.038 0 .067.015a.53.53 0 01.113.078c.026.021.044.037.054.047a5.687 5.687 0 00.184.117c.024.016.045.04.062.07a.154.154 0 01.02.102c.031.005.094.026.188.062a.28.28 0 00.097.028c.05.008.082.02.098.035a4.829 4.829 0 01-2.742 1.477z\"\n    />\n  </svg>\n);\n\nexport const FlagIcon: FunctionComponent<IconProps> = props => (\n  <svg width={9} height={11} fill=\"none\" viewBox=\"0 0 9 11\" {...props}>\n    <path\n      fill=\"#999\"\n      fillRule=\"evenodd\"\n      d=\"M.917 0H0v11h.917V0zm4.291 1.053C4.406-.41 2 .078 2 .078v5.848s2.807 0 3.208.974c.401.975 3.209 0 3.209 0V1.053s-2.407 1.461-3.209 0z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nexport const TrashIcon: FunctionComponent<IconProps> = props => (\n  <svg width={10} height={12} fill=\"none\" viewBox=\"0 0 10 12\" {...props}>\n    <path\n      fill=\"#999\"\n      fillRule=\"evenodd\"\n      d=\"M5 0C3 0 2 .895 2 2H.312C.14 2 0 2.15 0 2.333v.334C0 2.85.14 3 .313 3h9.374C9.86 3 10 2.85 10 2.667v-.334C10 2.15 9.86 2 9.687 2H8C8 .895 7 0 5 0zM3 2c0-.736.5-1 2-1s2 .264 2 1H3zM.91 4c-.185 0-.329.168-.312.364l.626 7.333c.015.171.15.303.311.303h6.93a.321.321 0 00.31-.303l.51-7.333C9.304 4.168 9.159 4 8.976 4H.909zM3 5.5a.5.5 0 011 0v5a.5.5 0 01-1 0v-5zM6.5 5a.5.5 0 00-.5.5v5a.5.5 0 001 0v-5a.5.5 0 00-.5-.5z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n","import getTemplate from '@codesandbox/common/lib/templates';\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport {\n  Button,\n  Element,\n  Integration,\n  Link,\n  List,\n  ListAction,\n  ListItem,\n  Text,\n} from '@codesandbox/components';\nimport React, { FunctionComponent, useEffect } from 'react';\n\nimport { useOvermind } from 'app/overmind';\n\nimport { FileIcon, FlagIcon, NetlifyIcon, VisitIcon } from './icons';\n\nexport const Netlify: FunctionComponent = () => {\n  const {\n    actions: {\n      deployment: { deployWithNetlify, getNetlifyDeploys },\n      modalOpened,\n    },\n    state: {\n      deployment: {\n        building,\n        deploying,\n        netlifyClaimUrl,\n        netlifyLogs,\n        netlifySite,\n      },\n      editor: { currentSandbox },\n    },\n  } = useOvermind();\n\n  useEffect(() => {\n    getNetlifyDeploys();\n  }, [getNetlifyDeploys]);\n\n  const template = getTemplate(currentSandbox.template);\n\n  return (\n    template.netlify !== false && (\n      <>\n        <Integration icon={NetlifyIcon} title=\"Netlify\">\n          <Element marginBottom={netlifySite ? 6 : 0} marginX={2}>\n            <Text block marginBottom={4} variant=\"muted\">\n              Deploy your sandbox site to{' '}\n              <Link href=\"https://www.netlify.com/\" target=\"_blank\">\n                Netlify\n              </Link>\n            </Text>\n\n            <Button\n              disabled={deploying || building}\n              onClick={() => {\n                track('Deploy Clicked', { provider: 'netlify' });\n\n                deployWithNetlify();\n              }}\n            >\n              Deploy to Netlify\n            </Button>\n          </Element>\n\n          {netlifySite && (\n            <List>\n              <ListItem>\n                <Text weight=\"bold\">{netlifySite.name}</Text>\n              </ListItem>\n\n              {building && !netlifyLogs ? (\n                <ListItem>\n                  <Text variant=\"muted\">Building</Text>\n                </ListItem>\n              ) : null}\n\n              {netlifySite.url ? (\n                <ListAction\n                  onClick={() => window.open(netlifySite.url, '_blank')}\n                >\n                  <Element marginRight={2}>\n                    <VisitIcon />\n                  </Element>{' '}\n                  Visit Site\n                </ListAction>\n              ) : null}\n\n              {netlifySite.url ? (\n                <ListAction\n                  onClick={() => window.open(netlifyClaimUrl, '_blank')}\n                >\n                  <Element marginRight={2}>\n                    <FlagIcon />\n                  </Element>{' '}\n                  Claim Site\n                </ListAction>\n              ) : null}\n\n              {netlifyLogs ? (\n                <ListAction\n                  onClick={() => modalOpened({ modal: 'netlifyLogs' })}\n                >\n                  <Element marginRight={2}>\n                    <FileIcon />\n                  </Element>{' '}\n                  View Logs\n                </ListAction>\n              ) : null}\n            </List>\n          )}\n        </Integration>\n      </>\n    )\n  );\n};\n","import {\n  Button,\n  Collapsible,\n  Element,\n  Stack,\n  Text,\n} from '@codesandbox/components';\nimport React, { FunctionComponent } from 'react';\n\nimport { useOvermind } from 'app/overmind';\n\nexport const NotLoggedIn: FunctionComponent = () => {\n  const {\n    actions: { signInClicked },\n  } = useOvermind();\n\n  return (\n    <Collapsible defaultOpen title=\"Deployment\">\n      <Element paddingX={2}>\n        <Stack direction=\"vertical\" gap={2} marginBottom={6}>\n          <Text block size={2} variant=\"muted\">\n            You can deploy a production version of your sandbox using one of our\n            supported providers - Netlify or Vercel.\n          </Text>\n\n          <Text block size={2} variant=\"muted\">\n            You need to be signed in to deploy this sandbox.\n          </Text>\n        </Stack>\n\n        <Button onClick={() => signInClicked()} variant=\"primary\">\n          Sign in with GitHub\n        </Button>\n      </Element>\n    </Collapsible>\n  );\n};\n","import {\n  Button,\n  Collapsible,\n  Element,\n  Stack,\n  Text,\n} from '@codesandbox/components';\nimport React, { FunctionComponent } from 'react';\n\nimport { useOvermind } from 'app/overmind';\n\nexport const NotOwner: FunctionComponent = () => {\n  const {\n    actions: {\n      editor: { forkSandboxClicked },\n    },\n    state: {\n      editor: { isForkingSandbox },\n    },\n  } = useOvermind();\n\n  return (\n    <Collapsible defaultOpen title=\"Deployment\">\n      <Element paddingX={2}>\n        <Stack direction=\"vertical\" gap={2} marginBottom={6}>\n          <Text block size={2} variant=\"muted\">\n            You can deploy a production version of your sandbox using one of our\n            supported providers - Netlify or Vercel.\n          </Text>\n\n          <Text block size={2} variant=\"muted\">\n            You need to own this sandbox to deploy.\n          </Text>\n        </Stack>\n\n        <Button\n          disabled={isForkingSandbox}\n          onClick={forkSandboxClicked}\n          variant=\"primary\"\n        >\n          {isForkingSandbox ? 'Forking Sandbox...' : 'Fork Sandbox'}\n        </Button>\n      </Element>\n    </Collapsible>\n  );\n};\n","import { VercelDeploymentState } from '@codesandbox/common/lib/types';\nimport { Text } from '@codesandbox/components';\nimport styled, { css } from 'styled-components';\n\nconst mapColorToState = (state: VercelDeploymentState, theme: any) => {\n  const STARTING = [\n    VercelDeploymentState.BUILDING,\n    VercelDeploymentState.DEPLOYING,\n    VercelDeploymentState.INITIALIZING,\n  ];\n  const ERROR = [\n    VercelDeploymentState.BUILD_ERROR,\n    VercelDeploymentState.DEPLOYMENT_ERROR,\n    VercelDeploymentState.ERROR,\n  ];\n  const STARTED = [VercelDeploymentState.BOOTED, VercelDeploymentState.READY];\n\n  if (STARTING.includes(state)) {\n    return '#FCCB7E';\n  }\n  if (ERROR.includes(state)) {\n    return theme.red;\n  }\n  if (STARTED.includes(state)) {\n    return theme.green;\n  }\n  if (state === VercelDeploymentState.FROZEN) {\n    return theme.blue;\n  }\n\n  return theme.gray;\n};\n\nexport const State = styled(Text)<{ state: VercelDeploymentState }>`\n  ${({ state, theme }) => css`\n    display: flex;\n    align-items: center;\n    text-transform: capitalize;\n\n    &:before {\n      content: '';\n      display: block;\n      width: 10px;\n      height: 10px;\n      border-radius: 50%;\n      margin-right: 0.5rem;\n      background: ${mapColorToState(state, theme)};\n    }\n  `};\n`;\n","import {\n  Button,\n  Element,\n  Integration,\n  Link,\n  List,\n  ListAction,\n  ListItem,\n  Stack,\n  Text,\n} from '@codesandbox/components';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport React, { FunctionComponent } from 'react';\n\nimport { useOvermind } from 'app/overmind';\n\nimport { VercelIcon, VisitIcon, TrashIcon } from '../icons';\n\nimport { State } from './elements';\n\nexport const Vercel: FunctionComponent = () => {\n  const {\n    actions: {\n      deployment,\n      deployment: { deploySandboxClicked, setDeploymentToDelete },\n      modalOpened,\n      signInVercelClicked,\n    },\n    state: {\n      deployment: { deploying, deploysBeingDeleted, sandboxDeploys },\n      user: {\n        integrations: { zeit },\n      },\n    },\n  } = useOvermind();\n\n  return (\n    <Integration icon={VercelIcon} title=\"Vercel\">\n      {zeit ? (\n        <>\n          <Element marginX={2} marginBottom={sandboxDeploys.length ? 6 : 0}>\n            <Text variant=\"muted\" block marginBottom={4}>\n              Deploy your sandbox to{' '}\n              <Link href=\"https://vercel.com/home\" target=\"_blank\">\n                Vercel\n              </Link>\n            </Text>\n\n            <Button disabled={deploying} onClick={deploySandboxClicked}>\n              Deploy with Vercel\n            </Button>\n          </Element>\n\n          <Element>\n            {sandboxDeploys.map(({ created, name, state, uid, url }) => {\n              const disabled = deploysBeingDeleted\n                ? deploysBeingDeleted.includes(uid)\n                : deployment[`${uid}Deleting`];\n\n              return (\n                <List key={uid}>\n                  <ListItem>\n                    <Text weight=\"bold\">{name}</Text>\n                  </ListItem>\n\n                  <ListItem>\n                    <State state={state}>\n                      {state.toString().toLowerCase()}\n                    </State>\n\n                    <Text\n                      marginLeft={2}\n                      variant=\"muted\"\n                    >{`(${formatDistanceToNow(created)} ago)`}</Text>\n                  </ListItem>\n\n                  <ListAction\n                    onClick={() => window.open(`https://${url}`, '_blank')}\n                  >\n                    <Element marginRight={2}>\n                      <VisitIcon />\n                    </Element>{' '}\n                    Visit Site\n                  </ListAction>\n\n                  <ListAction\n                    disabled={disabled}\n                    onClick={() => {\n                      setDeploymentToDelete(uid);\n                      modalOpened({ modal: 'deleteDeployment' });\n                    }}\n                  >\n                    <Element marginRight={2}>\n                      <TrashIcon />\n                    </Element>{' '}\n                    Delete\n                  </ListAction>\n                </List>\n              );\n            })}\n          </Element>\n        </>\n      ) : (\n        <>\n          <Stack justify=\"space-between\" marginX={2}>\n            <Stack direction=\"vertical\">\n              <Text variant=\"muted\">Enables</Text>\n\n              <Text>Deployments</Text>\n            </Stack>\n\n            <Button\n              css={{ width: 'auto' }}\n              disabled={deploying}\n              onClick={signInVercelClicked}\n            >\n              Sign in\n            </Button>\n          </Stack>\n        </>\n      )}\n    </Integration>\n  );\n};\n","import React from 'react';\nimport IconBase from 'react-icons/lib/IconBase';\n\nexport const TypescriptIcon: React.FC<React.SVGAttributes<\n  SVGElement\n>> = props => (\n  <IconBase viewBox=\"0 0 32 32\" {...props}>\n    <title>Typescript</title>\n    <path d=\"M23.827,8.243A4.424,4.424,0,0,1,26.05,9.524a5.853,5.853,0,0,1,.852,1.143c.011.045-1.534,1.083-2.471,1.662-.034.023-.169-.124-.322-.35a2.014,2.014,0,0,0-1.67-1c-1.077-.074-1.771.49-1.766,1.433a1.3,1.3,0,0,0,.153.666c.237.49.677.784,2.059,1.383,2.544,1.095,3.636,1.817,4.31,2.843a5.158,5.158,0,0,1,.416,4.333,4.764,4.764,0,0,1-3.932,2.815,10.9,10.9,0,0,1-2.708-.028,6.531,6.531,0,0,1-3.616-1.884,6.278,6.278,0,0,1-.926-1.371,2.655,2.655,0,0,1,.327-.208c.158-.09.756-.434,1.32-.761L19.1,19.6l.214.312a4.771,4.771,0,0,0,1.35,1.292,3.3,3.3,0,0,0,3.458-.175,1.545,1.545,0,0,0,.2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8,8.8,0,0,1-3.349-2.055,4.687,4.687,0,0,1-.976-1.777,7.116,7.116,0,0,1-.062-2.268,4.332,4.332,0,0,1,3.644-3.374A9,9,0,0,1,23.827,8.243ZM15.484,9.726l.011,1.454h-4.63V24.328H7.6V11.183H2.97V9.755A13.986,13.986,0,0,1,3.01,8.289c.017-.023,2.832-.034,6.245-.028l6.211.017Z\" />\n  </IconBase>\n);\n","import React from 'react';\n\nexport const NetlifyIcon = props => (\n  <svg width={12} height={12} fill=\"none\" viewBox=\"0 0 12 12\" {...props}>\n    <path\n      fill=\"#4CAA9F\"\n      d=\"M.474 7.144a1.619 1.619 0 010-2.288L4.856.474a1.619 1.619 0 012.288 0l4.382 4.382a1.619 1.619 0 010 2.288l-4.382 4.382a1.619 1.619 0 01-2.288 0L.474 7.144z\"\n    />\n  </svg>\n);\n\nexport const PrettierIcon = props => (\n  <svg width={10} height={11} fill=\"none\" viewBox=\"0 0 10 11\" {...props}>\n    <path\n      fill=\"#56B3B4\"\n      d=\"M8.486 2.057H7.97a.257.257 0 100 .514h.515a.257.257 0 100-.514z\"\n    />\n    <path\n      fill=\"#EA5E5E\"\n      d=\"M2.829 10.286H.257a.257.257 0 000 .514H2.83a.257.257 0 100-.514z\"\n    />\n    <path\n      fill=\"#BF85BF\"\n      d=\"M7.971 6.171H6.43a.257.257 0 100 .515H7.97a.257.257 0 000-.515z\"\n    />\n    <path\n      fill=\"#EA5E5E\"\n      d=\"M5.4 6.171H3.343a.257.257 0 100 .515H5.4a.257.257 0 100-.515z\"\n    />\n    <path\n      fill=\"#56B3B4\"\n      d=\"M2.314 6.171H.257a.257.257 0 100 .515h2.057a.257.257 0 100-.515z\"\n    />\n    <path\n      fill=\"#BF85BF\"\n      d=\"M2.829 8.229H.257a.257.257 0 100 .514H2.83a.257.257 0 100-.514zM2.829 4.114H.257a.257.257 0 100 .515H2.83a.257.257 0 100-.515z\"\n    />\n    <path\n      fill=\"#F7BA3E\"\n      d=\"M7.971 1.028H2.828a.257.257 0 000 .515h5.143a.257.257 0 000-.515z\"\n    />\n    <path\n      fill=\"#EA5E5E\"\n      d=\"M1.8 1.028H.257a.257.257 0 000 .515H1.8a.257.257 0 000-.515z\"\n    />\n    <path\n      fill=\"#F7BA3E\"\n      d=\"M2.829 9.257h-.515a.257.257 0 000 .515h.515a.257.257 0 100-.515z\"\n    />\n    <path\n      fill=\"#56B3B4\"\n      d=\"M2.829 3.086h-.515a.257.257 0 100 .514h.515a.257.257 0 100-.514zM1.286 9.257H.257a.257.257 0 000 .515h1.029a.257.257 0 100-.515z\"\n    />\n    <path\n      fill=\"#F7BA3E\"\n      d=\"M1.286 3.086H.257a.257.257 0 100 .514h1.029a.257.257 0 100-.514z\"\n    />\n    <path\n      fill=\"#56B3B4\"\n      d=\"M8.486 5.143H4.37a.257.257 0 100 .514h4.115a.257.257 0 100-.514z\"\n    />\n    <path\n      fill=\"#F7BA3E\"\n      d=\"M3.343 5.143H1.8a.257.257 0 100 .514h1.543a.257.257 0 100-.514z\"\n    />\n    <path\n      fill=\"#EA5E5E\"\n      d=\"M.771 5.143H.257a.257.257 0 100 .514h.514a.257.257 0 100-.514z\"\n    />\n    <path\n      fill=\"#BF85BF\"\n      d=\"M6.943 2.057H4.886a.257.257 0 100 .514h2.057a.257.257 0 100-.514z\"\n    />\n    <path\n      fill=\"#56B3B4\"\n      d=\"M3.857 2.057h-3.6a.257.257 0 000 .514h3.6a.257.257 0 100-.514z\"\n    />\n    <path\n      fill=\"#BF85BF\"\n      d=\"M.771 7.2H.257a.257.257 0 100 .514h.514a.257.257 0 000-.514z\"\n    />\n    <path\n      fill=\"#EA5E5E\"\n      d=\"M9 3.086H6.429a.257.257 0 100 .514H9a.257.257 0 100-.514z\"\n    />\n    <path\n      fill=\"#F7BA3E\"\n      d=\"M9 4.114H6.429a.257.257 0 100 .515H9a.257.257 0 100-.515z\"\n    />\n    <path\n      fill=\"#56B3B4\"\n      d=\"M6.429 0H.257a.257.257 0 000 .514H6.43a.257.257 0 100-.514z\"\n    />\n  </svg>\n);\n\nexport const NPMIcon = props => (\n  <svg width={17} height={16} fill=\"none\" viewBox=\"0 0 17 16\" {...props}>\n    <path\n      fill=\"#FF453A\"\n      d=\"M.667 16V0h16.172v16H.668zM3.708 2.998v9.98h5.097V5.079h2.97v7.9h2.022V3H3.708z\"\n    />\n  </svg>\n);\n\nexport const VercelIcon = props => (\n  <svg width={12} height={10} fill=\"none\" viewBox=\"0 0 12 10\" {...props}>\n    <path fill=\"#fff\" d=\"M6 0l6 10H0L6 0z\" />\n  </svg>\n);\n\nexport const JSIcon = props => (\n  <svg width={16} height={16} viewBox=\"0 0 16 16\" {...props}>\n    <g id=\"Page-1\" fill=\"none\" fillRule=\"evenodd\" stroke=\"none\" strokeWidth={1}>\n      <g id=\"configJS\" fillRule=\"nonzero\">\n        <path id=\"Path\" fill=\"#F7DF1E\" d=\"M0 0L16 0 16 16 0 16z\" />\n        <g id=\"Group\" fill=\"#000\" transform=\"translate(4 7)\">\n          <path\n            id=\"Path\"\n            d=\"M.207 6.37l1.224-.74c.237.418.452.773.967.773.494 0 .806-.194.806-.945V.345h1.503V5.48c0 1.557-.913 2.266-2.244 2.266C1.26 7.745.56 7.122.207 6.37M5.524 6.21l1.224-.71c.322.527.741.913 1.482.913.623 0 1.02-.311 1.02-.74 0-.516-.407-.699-1.095-1l-.376-.16C6.695 4.05 5.975 3.47 5.975 2.245c0-1.127.86-1.987 2.202-1.987.956 0 1.643.333 2.137 1.203l-1.17.752c-.258-.462-.538-.644-.967-.644-.44 0-.72.279-.72.644 0 .451.28.634.924.913l.376.161c1.278.548 1.997 1.106 1.997 2.363 0 1.353-1.063 2.094-2.491 2.094-1.397 0-2.299-.666-2.739-1.536\"\n          />\n        </g>\n      </g>\n    </g>\n  </svg>\n);\n\nexport const CodeSandboxIcon = props => (\n  <svg width={16} height={16} viewBox=\"0 0 16 16\" {...props}>\n    <g id=\"Page-1\" fill=\"none\" fillRule=\"evenodd\" stroke=\"none\" strokeWidth={1}>\n      <g id=\"configCodesandbox\">\n        <path\n          id=\"Path\"\n          fill=\"#000\"\n          fillRule=\"nonzero\"\n          d=\"M0 1a1 1 0 011-1h14a1 1 0 011 1v14a1 1 0 01-1 1H1a1 1 0 01-1-1V1z\"\n        />\n        <path\n          id=\"Shape\"\n          fill=\"#999\"\n          d=\"M7.82 8.532v5.418c.095 0 .157-.02.241-.069l4.339-2.48c.171-.097.241-.25.241-.447V5.927c0-.099-.02-.158-.069-.241L7.959 8.293a.275.275 0 00-.139.239zm2.41 3.11c0 .139-.051.208-.172.276l-1.446.827c-.103.069-.24.034-.24-.104V8.957c0-.098.086-.226.171-.275l3.306-1.894c.092-.053.172.032.172.138v1.962a.265.265 0 01-.138.241l-1.48.792c-.09.048-.172.14-.172.241v1.48z\"\n        />\n        <path\n          id=\"Shape\"\n          fill=\"#F2F2F2\"\n          d=\"M3 10.954V5.927c0-.198.104-.384.276-.482l4.2-2.376A.839.839 0 017.821 3c.103 0 .262.026.344.069l4.166 2.376c.083.048.195.16.241.24L7.958 8.304a.278.278 0 00-.137.24v5.407a.555.555 0 01-.276-.07L3.31 11.437c-.172-.098-.31-.284-.31-.482zm.62-4.029v1.963c0 .138.034.207.172.276l1.446.826a.283.283 0 01.172.275v1.378c0 .137.035.206.172.275l1.447.827c.137.068.24.034.24-.104V8.957a.284.284 0 00-.171-.276L3.86 6.822c-.104-.069-.241-.034-.241.103zm5.647-2.341l-1.274.723a.313.313 0 01-.345 0l-1.274-.723a.285.285 0 00-.275 0l-1.584.895c-.138.069-.138.207 0 .276L7.683 7.58c.085.048.19.048.275 0l3.168-1.825c.103-.07.138-.207 0-.276l-1.584-.895a.285.285 0 00-.275 0z\"\n        />\n      </g>\n    </g>\n  </svg>\n);\n","import React from 'react';\nimport {\n  Element,\n  Collapsible,\n  Text,\n  Button,\n  Stack,\n  Grid as BaseGrid,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport getDefinition from '@codesandbox/common/lib/templates';\nimport { resolveModule } from '@codesandbox/common/lib/sandbox/modules';\n\nimport { useOvermind } from 'app/overmind';\nimport styled, { withTheme } from 'styled-components';\nimport { TypescriptIcon } from 'app/components/TypescriptIcon';\nimport {\n  NetlifyIcon,\n  PrettierIcon,\n  NPMIcon,\n  VercelIcon,\n  JSIcon,\n  CodeSandboxIcon,\n} from './Icons';\n\nconst getIcon = name => {\n  const icons = {\n    'netlify.toml': NetlifyIcon,\n    'package.json': NPMIcon,\n    'now.json': VercelIcon,\n    '.prettierrc': PrettierIcon,\n    'jsconfig.json': JSIcon,\n    'tsconfig.json': TypescriptIcon,\n    'sandbox.config.json': CodeSandboxIcon,\n  };\n\n  return icons[name] || JSIcon;\n};\n\nconst Grid = styled(BaseGrid)`\n  grid-template-columns: 1fr 56px;\n  grid-gap: ${({ theme }) => theme.space[4]}px;\n  align-items: flex-end;\n`;\n\nexport const ConfigurationFilesComponent = ({ theme }) => {\n  const {\n    state: {\n      editor: { currentSandbox },\n    },\n    actions: { files, editor },\n  } = useOvermind();\n\n  const { configurationFiles } = getDefinition(currentSandbox.template);\n\n  const createdPaths = {};\n  const restPaths = {};\n\n  Object.keys(configurationFiles)\n    .sort()\n    .forEach(p => {\n      const config = configurationFiles[p];\n\n      try {\n        const module = resolveModule(\n          p,\n          currentSandbox.modules,\n          currentSandbox.directories\n        );\n        createdPaths[p] = {\n          config,\n          module,\n        };\n      } catch (e) {\n        restPaths[p] = {\n          config,\n        };\n      }\n    });\n\n  return (\n    <>\n      <Collapsible title=\"Configuration Files\" defaultOpen>\n        <Stack\n          direction=\"vertical\"\n          gap={6}\n          style={{ padding: `0 ${theme.space[3]}px` }}\n        >\n          <Element>\n            <Text block marginBottom={2}>\n              Configuration for your Sandbox\n            </Text>\n            <Text variant=\"muted\">\n              CodeSandbox supports several configuration files per template, you\n              can see and edit all supported files for the current sandbox here.\n            </Text>\n          </Element>\n          <Stack direction=\"vertical\" gap={4}>\n            {Object.keys(createdPaths).map(path => {\n              const { config, module } = createdPaths[path];\n              const Icon = getIcon(config.title);\n              return (\n                <Element key={config.title}>\n                  <Stack gap={2} marginBottom={2}>\n                    <Icon />\n                    <Text size={2}>{config.title}</Text>\n                  </Stack>\n                  <Grid>\n                    <Text size={2} variant=\"muted\">\n                      {config.description}\n                    </Text>\n                    <Button\n                      css={css({\n                        width: 'auto',\n                        height: 4,\n                      })}\n                      variant=\"secondary\"\n                      onClick={() => editor.moduleSelected({ id: module.id })}\n                    >\n                      Edit\n                    </Button>\n                  </Grid>\n                </Element>\n              );\n            })}\n          </Stack>\n        </Stack>\n      </Collapsible>\n      <Collapsible title=\"Other Configuration\" defaultOpen>\n        <Stack\n          direction=\"vertical\"\n          gap={4}\n          style={{ padding: `0 ${theme.space[3]}px` }}\n        >\n          {Object.keys(restPaths).map(path => {\n            const { config } = restPaths[path];\n            const Icon = getIcon(config.title);\n            return (\n              <Element key={config.title}>\n                <Stack gap={2} marginBottom={2}>\n                  <Icon />\n                  <Text size={2}>{config.title}</Text>\n                </Stack>\n                <Grid>\n                  <Text size={2} variant=\"muted\">\n                    {config.description}\n                  </Text>\n                  <Button\n                    css={css({\n                      width: 'auto',\n                      height: 4,\n                    })}\n                    variant=\"secondary\"\n                    onClick={() =>\n                      files.moduleCreated({\n                        title: config.title,\n                        directoryShortid: null,\n                      })\n                    }\n                  >\n                    Create\n                  </Button>\n                </Grid>\n              </Element>\n            );\n          })}\n        </Stack>\n      </Collapsible>\n    </>\n  );\n};\n\nexport const ConfigurationFiles = withTheme(ConfigurationFilesComponent);\n","import React from 'react';\n\nimport {\n  Element,\n  Collapsible,\n  Stack,\n  Text,\n  Button,\n} from '@codesandbox/components';\nimport { useOvermind } from 'app/overmind';\n\nexport const NotLoggedIn = () => {\n  const {\n    actions: { signInClicked },\n  } = useOvermind();\n\n  return (\n    <Collapsible title=\"Live\" defaultOpen>\n      <Element paddingX={2}>\n        <Text block weight=\"medium\" marginBottom={2}>\n          Collaborate in real-time\n        </Text>\n        <Stack direction=\"vertical\" gap={2} marginBottom={6}>\n          <Text size={2} variant=\"muted\" block>\n            You need to be signed in to open a live session to collaborate with\n            others in real time.\n          </Text>\n          <Text size={2} variant=\"muted\" block>\n            Sign in to live share this sandbox!\n          </Text>\n        </Stack>\n        <Button variant=\"primary\" onClick={() => signInClicked()}>\n          Sign in with GitHub\n        </Button>\n      </Element>\n    </Collapsible>\n  );\n};\n","import React from 'react';\nimport { Element } from '@codesandbox/components';\nimport AddIcon from 'react-icons/lib/md/add';\nimport RemoveIcon from 'react-icons/lib/md/remove';\nimport FollowIcon from 'react-icons/lib/io/eye';\nimport UnfollowIcon from 'react-icons/lib/io/eye-disabled';\n\nexport { AddIcon, RemoveIcon, FollowIcon, UnfollowIcon };\n\nexport const LiveIcon = props => (\n  <svg\n    width=\"8\"\n    height=\"8\"\n    viewBox=\"0 0 8 8\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <circle cx=\"4\" cy=\"4\" r=\"4\" fill=\"currentcolor\" />\n  </svg>\n);\n\nexport const StopIcon = props => (\n  <Element\n    as=\"svg\"\n    width=\"8\"\n    height=\"8\"\n    viewBox=\"0 0 8 8\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <rect width=\"8\" height=\"8\" rx=\"1\" fill=\"currentcolor\" />\n  </Element>\n);\n\nexport const OpenIcon = props => (\n  <svg width={10} height={10} fill=\"none\" viewBox=\"0 0 10 10\" {...props}>\n    <path\n      fill=\"currentcolor\"\n      d=\"M9.33 2.643A4.781 4.781 0 007.51.986 5.264 5.264 0 005 .375c-.907 0-1.744.204-2.51.61A4.78 4.78 0 00.67 2.644 4.153 4.153 0 000 4.929c0 .826.224 1.587.67 2.285a4.783 4.783 0 001.82 1.657c.766.408 1.603.611 2.51.611.907 0 1.744-.203 2.51-.61a4.78 4.78 0 001.82-1.658c.447-.698.67-1.46.67-2.285 0-.827-.223-1.589-.67-2.286zM5.626 7.324c-.044-.047-.06-.087-.046-.118-.004.02-.02.037-.046.053a.61.61 0 00-.117-.089.604.604 0 01-.117-.089 2.53 2.53 0 01-.146-.228c-.011-.026-.012-.04-.004-.045-.082.032-.202.01-.358-.065a.617.617 0 01-.136-.124c-.061-.068-.124-.097-.19-.09l-.087.021a.37.37 0 01-.095.015.321.321 0 01-.104-.024.87.87 0 01-.14-.068 47.905 47.905 0 00-.205-.104l-.104-.047a.319.319 0 01-.081-.056.186.186 0 01-.056-.08 1.053 1.053 0 01-.032-.142.416.416 0 00-.052-.155.551.551 0 00-.11-.118c-.049-.04-.092-.06-.131-.06.035 0 .035-.026 0-.08a.607.607 0 00-.091-.115 7.751 7.751 0 01-.189-.19.472.472 0 01-.078-.11c-.022-.041-.026-.076-.013-.103.004-.004 0-.01-.013-.018a1.187 1.187 0 00-.104-.044.139.139 0 00-.04-.01.425.425 0 01.03.087c.01.041.023.072.036.091.008.016.045.074.11.172.113.166.165.289.157.368-.026.008-.044.004-.053-.012a.201.201 0 01-.02-.065.343.343 0 00-.012-.06c-.013-.023-.047-.049-.101-.076-.054-.028-.088-.056-.101-.083.004 0 .01-.002.016-.006a.033.033 0 01.017-.006c.004-.036-.019-.081-.069-.137-.05-.055-.07-.095-.062-.118-.034-.024-.065-.07-.09-.14a.502.502 0 00-.066-.133.266.266 0 00-.065-.062 1.302 1.302 0 00-.098-.06 2.892 2.892 0 01-.078-.044.238.238 0 01-.052-.053c-.143-.158-.186-.243-.13-.255-.056.012-.103-.027-.14-.116-.037-.089-.049-.157-.036-.204l-.013-.006a.803.803 0 00.007-.14c0-.077.005-.147.016-.21.01-.063.032-.095.062-.095-.03.004-.053-.021-.068-.074-.016-.054-.017-.09-.004-.11.005-.012.024-.004.059.024a.32.32 0 01.058.053c.057-.028.079-.063.066-.107a.856.856 0 00-.137-.124 2.484 2.484 0 00-.287-.16c.026-.044.02-.081-.02-.113-.043.024-.068.03-.074.018a.213.213 0 01-.016-.065c-.005-.032-.016-.05-.033-.054a.175.175 0 01-.078-.047c.386-.561.896-1 1.53-1.316.026-.004.074-.006.143-.006a.278.278 0 01.098.03c.03.015.062.037.094.065.033.027.058.047.075.059.009-.024-.002-.06-.033-.107.01-.024.057-.047.144-.071.1-.012.165-.01.195.006a1.59 1.59 0 00-.13-.148l-.033.03c-.034-.028-.126-.015-.273.04l-.065.033a.792.792 0 01-.085.039.175.175 0 01-.078.006c.208-.103.412-.184.612-.243a.632.632 0 01.065.05.94.94 0 00.072.056c-.013-.008-.022-.004-.026.012-.018.048-.018.087 0 .119a.124.124 0 00.088.047.531.531 0 00.133-.006.887.887 0 01.104-.012l.065.006c.14.012.193 0 .163-.035a.364.364 0 01.046.098c.017.049.037.084.058.103.022-.016.026-.043.013-.083-.013-.04-.013-.067 0-.083.004-.008.018-.016.04-.023a8.204 8.204 0 01.13-.048c.026-.016.008-.043-.053-.083a.473.473 0 00-.055-.018 1 1 0 01-.075-.023.43.43 0 01-.068-.033c-.024-.014-.035-.03-.033-.047a.154.154 0 01.036-.069c.026-.02.069-.027.127-.023a.348.348 0 01.134.03c.117.059.134.112.052.16a.5.5 0 01.156.047c.06.027.085.057.072.089.034-.06.069-.09.104-.09.021.005.042.031.062.08.02.05.031.077.035.081.035.043.07.053.105.03a.524.524 0 00.107-.104c.037-.046.057-.066.062-.062-.044-.016-.048-.032-.013-.048.065-.035.123-.045.176-.03.012.008.03.026.051.054.04.071.033.105-.019.1a.123.123 0 01.049.12c-.007.047-.04.068-.101.064a.247.247 0 01-.095-.03.311.311 0 00-.094-.032c-.022-.002-.052.01-.091.033a.743.743 0 00-.069.1.455.455 0 01-.075.101c-.065.06-.173.082-.325.066.013 0 .012.011-.003.035a1.234 1.234 0 01-.107.13.294.294 0 00-.079.137l-.006.08a.276.276 0 01-.027.104c.053-.012.094.012.124.071.026.055.026.085 0 .089a.84.84 0 01.378.024c.156.051.245.103.267.154.026-.036.089-.038.189-.006.039.02.073.079.104.178.017.059.046.11.088.154.041.043.085.055.133.035l.02-.011a.63.63 0 00.042-.021.276.276 0 00.036-.024c.013-.01.02-.019.022-.026.002-.008 0-.016-.01-.024a.213.213 0 01-.068-.098c-.015-.041-.011-.078.01-.11a.433.433 0 01.104-.07c.057-.033.092-.064.105-.096.017-.051-.005-.094-.066-.127-.06-.034-.09-.065-.09-.092 0-.02.013-.044.042-.071.028-.028.04-.054.035-.077A.268.268 0 006 2.263a.38.38 0 01-.026-.083c-.003-.017.007-.038.029-.062.03-.016.102-.015.215.003a.781.781 0 01.221.056c.013.008.041.02.085.036a.819.819 0 01.114.05c.032.018.05.035.055.05H6.66a.14.14 0 01.056.084c.006.031-.01.055-.049.07a.223.223 0 01.104.019c.07.023.072.045.007.065a.452.452 0 01.055-.012.184.184 0 00.088-.039.109.109 0 01.03-.017.226.226 0 01.028-.006.057.057 0 01.04.009c.004 0 .013-.01.029-.03l.048-.06c.018-.019.033-.029.046-.029.013 0 .025.005.036.015.01.01.02.02.026.033a.753.753 0 01.035.07c.009.02.03.041.062.063a.165.165 0 01.062.062l.026.09c.013.047.03.08.052.097a.264.264 0 00.098.044c.008.004.028.002.058-.005a.17.17 0 01.075-.006c.02.003.03.02.03.047.025-.024.038-.04.038-.047a.235.235 0 00.043.124c.024.032.062.046.114.042l-.013.13c-.013.02-.046.035-.098.044a.381.381 0 00-.098.027.445.445 0 00-.094.071c-.05.044-.07.07-.062.077-.074-.075-.184-.096-.332-.065a1.773 1.773 0 00-.338.071.477.477 0 00-.144.09.18.18 0 00-.022.04l-.033.066c-.01.02-.02.03-.03.03.027-.004.056-.023.089-.057a.363.363 0 01.062-.056c.112-.067.206-.09.28-.07.095.023.11.055.045.094-.008.008-.031.011-.068.01a.257.257 0 00-.075.002c.04.008.072.019.098.033.026.013.032.032.02.056.069.036.082.075.039.119a.25.25 0 01-.202.065c.013 0 .013.008 0 .024l-.111.065a1.466 1.466 0 01-.085.03.225.225 0 00-.097.053c-.013.016-.02.04-.02.07a.287.287 0 01-.006.072c-.005.016-.022.02-.052.012-.014.024-.054.042-.12.056-.068.014-.113.035-.134.062.026.032.024.064-.007.095-.052.04-.098.036-.137-.012-.021.008-.038.028-.048.06a.11.11 0 01-.05.065c.031.043.027.075-.012.095a.496.496 0 01.078.042c.017.011.028.017.032.017-.017.036-.04.053-.071.053.026.064-.007.133-.098.208a.304.304 0 01-.081.047c-.037.016-.07.03-.101.039a.223.223 0 00-.052.02.412.412 0 00-.098.11.118.118 0 00-.01.11c.015.036.056.06.12.071l.007.048v.106l.007.048.01.074a.536.536 0 010 .083c-.003.034-.012.052-.03.056-.017.004-.041 0-.071-.012-.035-.015-.076-.102-.124-.26a.383.383 0 00-.078-.143.196.196 0 01-.056.039c-.015.006-.026.007-.032.003a.42.42 0 01-.036-.027.433.433 0 00-.045-.032.371.371 0 00-.114-.03c-.055-.008-.088-.018-.101-.03-.105.072-.168.054-.19-.053-.008.02-.007.046.004.08s.016.053.016.056c-.03.052-.078.056-.143.012-.026-.023-.086-.026-.179-.009-.093.018-.155.021-.185.01.004 0 .013.005.026.017a.179.179 0 01.026.018.073.073 0 01-.02.035c-.009.008-.017.011-.026.01a.072.072 0 00-.03 0 .118.118 0 00-.029.008.384.384 0 00-.065.062.31.31 0 01-.058.057.362.362 0 01.036.145 1.635 1.635 0 01-.02.148 1 1 0 00-.016.157c0 .063.02.137.061.22.042.083.09.14.147.172.03.015.083.025.156.03.074.003.126 0 .156-.013a.159.159 0 00.06-.041.192.192 0 00.032-.068c.008-.03.015-.05.02-.063a.178.178 0 01.168-.118c.053-.004.09 0 .114.015.024.013.034.032.03.056a.28.28 0 01-.026.074c-.013.026-.03.054-.05.086a.314.314 0 00-.035.071.906.906 0 00-.023.134.672.672 0 01-.016.104.414.414 0 00.098.005.13.13 0 01.01-.038.156.156 0 00.01-.033c.02.032.056.05.103.054.048.004.083-.012.105-.048.008.012.034.042.078.09.043.047.067.086.071.118l.026.077c.013.036.018.06.013.074-.004.014-.026.021-.065.021-.017 0-.028.006-.032.018a.074.074 0 000 .044.372.372 0 00.042.101.105.105 0 01.016.032c.079.13.185.166.32.107 0 .115-.03.178-.092.19-.034.008-.073-.012-.116-.06zm.097 1.34a.434.434 0 01-.013-.095c-.004-.031.011-.074.046-.127.034-.054.052-.094.052-.122-.07-.016-.096-.067-.079-.154.01-.06.072-.138.19-.237.082-.067.108-.162.077-.285a1.502 1.502 0 01-.032-.225 1.845 1.845 0 00-.026-.208c0 .012.02.023.062.033.041.01.066.023.075.038a.345.345 0 00.032-.065.292.292 0 01.039-.071.216.216 0 01.055-.045.646.646 0 01.056-.032.502.502 0 00.058-.039l.075-.05a.23.23 0 01.078-.026c.033-.006.056.002.069.026.021.024.017.06-.013.11s-.03.084 0 .104a.407.407 0 00.013-.078.137.137 0 01.039-.089.152.152 0 01.075-.04.1.1 0 01.065.008c.02.01.042.023.068.041.026.018.05.029.072.033.065.02.143.063.234.13-.004-.004-.004-.009 0-.015a.068.068 0 01.026-.017.507.507 0 00.036-.018.192.192 0 01.035-.015l.02-.006c.03 0 .052-.002.065-.006.013-.004.032 0 .055.012a.456.456 0 01.095.06.558.558 0 01.045.035 4.836 4.836 0 00.153.089c.02.012.037.03.052.053.015.024.02.05.016.077.027.004.079.02.157.048.013.007.04.014.081.02s.069.015.082.027a4.155 4.155 0 01-2.285 1.12z\"\n    />\n  </svg>\n);\n\nexport const ClassroomIcon = props => (\n  <svg\n    width=\"15\"\n    height=\"8\"\n    viewBox=\"0 0 15 8\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M0.168599 2.11226L7.20065 0.0195967C7.28845 -0.00653224 7.38196 -0.00653225 7.46977 0.0195967L14.5018 2.11226C14.7266 2.17915 14.7266 2.49752 14.5018 2.56441L7.40249 4.67709C7.35859 4.69016 7.31183 4.69016 7.26793 4.67709L0.168599 2.56441C-0.0561998 2.49752 -0.0561998 2.17915 0.168599 2.11226ZM13.3967 3.346L12.9304 3.48627V4.95136C12.7431 4.99198 12.6977 5.11056 12.6977 5.40485C12.6977 5.79566 12.7777 6.11248 13.164 6.11248C13.5502 6.11248 13.6302 5.79566 13.6302 5.40485C13.6302 5.11011 13.5847 4.99162 13.3967 4.95117V3.346ZM7.25282 5.14475L2.67271 3.77699V6.4922C2.67271 6.68955 2.79533 6.86578 2.9816 6.93097C3.81928 7.22416 6.15774 7.99993 7.44897 7.99993C8.73467 7.99993 10.9103 7.23079 11.7001 6.93476C11.8809 6.867 11.9978 6.69388 11.9978 6.50081V3.76683L7.41798 5.14459C7.36413 5.16079 7.3067 5.16085 7.25282 5.14475Z\"\n      fill=\"currentcolor\"\n    />\n  </svg>\n);\n","import React from 'react';\nimport css from '@styled-system/css';\nimport { sortBy } from 'lodash-es';\nimport useInterval from 'use-interval';\n\nimport {\n  Element,\n  Collapsible,\n  Stack,\n  Avatar,\n  Text,\n  Label,\n  Input,\n  List,\n  ListAction,\n  Select,\n  Button,\n  Switch,\n} from '@codesandbox/components';\nimport Tooltip from '@codesandbox/common/lib/components/Tooltip';\n\nimport { useOvermind } from 'app/overmind';\n\nimport {\n  AddIcon,\n  RemoveIcon,\n  UnfollowIcon,\n  LiveIcon,\n  StopIcon,\n  OpenIcon,\n  ClassroomIcon,\n  FollowIcon,\n} from './icons';\n\nexport const LiveNow = () => {\n  const {\n    actions: {\n      live: {\n        onSessionCloseClicked,\n        onChatEnabledToggle,\n        onToggleNotificationsHidden,\n        onModeChanged,\n      },\n    },\n    state: {\n      live: {\n        notificationsHidden,\n        isOwner,\n        reconnecting,\n        roomInfo: {\n          startTime,\n          roomId,\n          chatEnabled,\n          mode,\n          users,\n          ownerIds,\n          editorIds,\n        },\n      },\n    },\n  } = useOvermind();\n\n  const owners = users.filter(user => ownerIds.includes(user.id));\n  const editors = sortBy(\n    users.filter(u => editorIds.includes(u.id) && !ownerIds.includes(u.id)),\n    'username'\n  );\n  const spectators = sortBy(\n    users.filter(u => !ownerIds.includes(u.id) && !editorIds.includes(u.id)),\n    'username'\n  );\n\n  return (\n    <>\n      <Collapsible title=\"Live\" defaultOpen>\n        <Element paddingX={2}>\n          <Stack justify=\"space-between\" align=\"center\" marginBottom={2}>\n            <Text variant=\"danger\">\n              <Stack align=\"center\" gap={2}>\n                {reconnecting ? (\n                  'Reconnecting...'\n                ) : (\n                  <>\n                    <LiveIcon />\n                    <span>You&apos;re live!</span>\n                  </>\n                )}\n              </Stack>\n            </Text>\n            <Timer startTime={startTime} />\n          </Stack>\n\n          <Text variant=\"muted\" block marginBottom={4}>\n            Share this link with others to invite them to the session\n          </Text>\n\n          <Input\n            readOnly\n            defaultValue={`https://codesandbox.io/live/${roomId}`}\n            marginBottom={2}\n            onFocus={({ target }: { target: any }) => target.select()}\n          />\n\n          {isOwner && (\n            <Button variant=\"danger\" onClick={onSessionCloseClicked}>\n              <StopIcon css={css({ marginRight: 2 })} />{' '}\n              <span>Stop Session</span>\n            </Button>\n          )}\n        </Element>\n      </Collapsible>\n\n      <Collapsible title=\"Preferences\" defaultOpen>\n        <List>\n          {isOwner && (\n            <ListAction\n              justify=\"space-between\"\n              onClick={() => onChatEnabledToggle()}\n            >\n              <Label htmlFor=\"chat_enabled\">Chat enabled</Label>\n              <Switch\n                id=\"chat_enabled\"\n                on={chatEnabled}\n                onChange={() => onChatEnabledToggle()}\n              />\n            </ListAction>\n          )}\n          <ListAction\n            justify=\"space-between\"\n            onClick={() => onToggleNotificationsHidden()}\n          >\n            <Label htmlFor=\"show_notifications\">Show notifications</Label>\n            <Switch\n              id=\"show_notifications\"\n              on={!notificationsHidden}\n              onChange={() => onToggleNotificationsHidden()}\n            />\n          </ListAction>\n        </List>\n      </Collapsible>\n\n      <Collapsible title=\"Live Mode\" defaultOpen>\n        <Stack direction=\"vertical\" gap={2} paddingX={2}>\n          <Select\n            icon={mode === 'open' ? OpenIcon : ClassroomIcon}\n            value={mode}\n            onChange={event => onModeChanged({ mode: event.target.value })}\n            disabled={!isOwner}\n          >\n            <option value=\"open\">Everyone can edit</option>\n            <option value=\"classroom\">Classroom mode</option>\n          </Select>\n          <Text variant=\"muted\" size={2}>\n            {mode === 'open'\n              ? ''\n              : 'In Classroom Mode, you have control over who can edit'}\n          </Text>\n        </Stack>\n      </Collapsible>\n\n      <Collapsible title=\"Editors\" defaultOpen>\n        <Stack direction=\"vertical\" gap={2} paddingX={2}>\n          {owners.map(user => (\n            <User key={user.id} user={user} liveRole=\"owner\" />\n          ))}\n          {editors.map(user => (\n            <User key={user.id} user={user} liveRole=\"editor\" />\n          ))}\n          {mode === 'open' &&\n            spectators.map(user => (\n              <User key={user.id} user={user} liveRole=\"editor\" />\n            ))}\n        </Stack>\n      </Collapsible>\n\n      {mode === 'classroom' && (\n        <Collapsible title=\"Viewers\" defaultOpen>\n          <Stack direction=\"vertical\" gap={2} paddingX={2}>\n            {spectators.map(user => (\n              <User key={user.id} user={user} liveRole=\"spectator\" />\n            ))}\n\n            {spectators.length\n              ? null\n              : 'No other users in session, invite them! '}\n          </Stack>\n        </Collapsible>\n      )}\n    </>\n  );\n};\n\nconst User = ({ user, liveRole }) => {\n  const {\n    actions: {\n      live: { onFollow, onRemoveEditorClicked, onAddEditorClicked },\n    },\n    state: {\n      live: {\n        liveUserId,\n        followingUserId,\n        isOwner,\n        roomInfo: { mode },\n      },\n    },\n  } = useOvermind();\n\n  const loggedInUser = user.id === liveUserId;\n\n  // only owners can change editors\n  // and only in classroom mode, in open mode, everyone is an editor\n  const canChangeEditors = isOwner && mode === 'classroom';\n\n  // you can't follow spectators (nothing to follow)\n  // and you can't follow yourself\n  const canFollowUser = !(liveRole === 'spectator' || loggedInUser);\n\n  return (\n    <Stack\n      justify=\"space-between\"\n      align=\"center\"\n      css={{\n        '.live-actions': { opacity: 0 },\n        ':hover': { '.live-actions': { opacity: 1 } },\n      }}\n    >\n      <Stack gap={2} align=\"center\">\n        <Avatar\n          user={user}\n          css={{ img: { borderColor: `rgb(${user.color.join(',')})` } }}\n        />\n        <span>\n          <Text size={2} block>\n            {user.username}\n          </Text>\n          <Text size={2} variant=\"muted\" block>\n            {liveRole === 'owner' ? 'Owner ' : null}\n            {loggedInUser ? '(you)' : null}\n          </Text>\n        </span>\n      </Stack>\n\n      <Stack align=\"center\" gap={2} className=\"live-actions\">\n        {canChangeEditors && (\n          <>\n            {liveRole === 'spectator' && (\n              <Tooltip content=\"Make editor\">\n                <AddIcon\n                  css={{ cursor: 'pointer' }}\n                  onClick={() => onAddEditorClicked({ liveUserId: user.id })}\n                />\n              </Tooltip>\n            )}\n            {liveRole === 'editor' && (\n              <Tooltip content=\"Make spectator\">\n                <RemoveIcon\n                  css={{ cursor: 'pointer' }}\n                  onClick={() => onRemoveEditorClicked({ liveUserId: user.id })}\n                />\n              </Tooltip>\n            )}\n          </>\n        )}\n\n        {canFollowUser && (\n          <>\n            {followingUserId === user.id ? (\n              <Tooltip content=\"Stop following\">\n                <UnfollowIcon\n                  css={{ cursor: 'pointer' }}\n                  onClick={() => onFollow({ liveUserId: null })}\n                />\n              </Tooltip>\n            ) : (\n              <Tooltip content=\"Follow along\">\n                <FollowIcon\n                  css={{ cursor: 'pointer' }}\n                  onClick={() => onFollow({ liveUserId: user.id })}\n                />\n              </Tooltip>\n            )}\n          </>\n        )}\n      </Stack>\n    </Stack>\n  );\n};\n\nconst Timer = props => {\n  const [since, setSince] = React.useState(Date.now() - props.startTime);\n\n  const pad = number => {\n    if (`${number}`.length === 1) return `0${number}`;\n    return `${number}`;\n  };\n\n  useInterval(() => {\n    setSince(Date.now() - props.startTime);\n  }, 1000);\n\n  const hours = Math.floor(since / 1000 / 60 / 60);\n  const minutes = Math.floor((since - hours * 1000 * 60 * 60) / 1000 / 60);\n  const seconds = Math.floor(\n    (since - hours * 1000 * 60 * 60 - minutes * 1000 * 60) / 1000\n  );\n\n  const text = `${hours > 0 ? pad(hours) + ':' : ''}${pad(minutes)}:${pad(\n    seconds\n  )}`;\n\n  return <Text variant=\"danger\">{text}</Text>;\n};\n","import React from 'react';\nimport css from '@styled-system/css';\n\nimport {\n  Element,\n  Collapsible,\n  Stack,\n  Text,\n  Button,\n} from '@codesandbox/components';\nimport { useOvermind } from 'app/overmind';\n\nimport { LiveIcon } from './icons';\n\nexport const NotLive = () => {\n  const {\n    state: {\n      editor: {\n        currentSandbox: { owned },\n      },\n    },\n  } = useOvermind();\n\n  return (\n    <Collapsible title=\"Live\" defaultOpen>\n      <Element paddingX={2}>\n        <Text block weight=\"medium\" marginBottom={2}>\n          Collaborate in real-time\n        </Text>\n        {owned ? <Owner /> : <NotOwner />}\n      </Element>\n    </Collapsible>\n  );\n};\n\nconst Owner = () => {\n  const {\n    actions: {\n      live: { createLiveClicked },\n    },\n    state: {\n      editor: {\n        currentSandbox: { id },\n        isAllModulesSynced,\n      },\n      live: { isLoading },\n    },\n  } = useOvermind();\n  return (\n    <>\n      <Stack direction=\"vertical\" gap={2} marginBottom={6}>\n        <Text size={2} variant=\"muted\" block>\n          Invite others to edit this sandbox with you in real time.\n        </Text>\n        <Text size={2} variant=\"muted\" block>\n          To invite others you need to generate a URL that others can join.\n        </Text>\n      </Stack>\n      <Button\n        variant=\"danger\"\n        disabled={!isAllModulesSynced}\n        onClick={() => createLiveClicked(id)}\n      >\n        {isLoading ? (\n          'Creating session'\n        ) : (\n          <>\n            <LiveIcon css={css({ marginRight: 2 })} />\n            <span>Go Live</span>\n          </>\n        )}\n      </Button>\n    </>\n  );\n};\n\nconst NotOwner = () => {\n  const {\n    actions: {\n      editor: { forkSandboxClicked },\n    },\n    state: {\n      editor: { isForkingSandbox },\n    },\n  } = useOvermind();\n\n  return (\n    <>\n      <Stack direction=\"vertical\" gap={2} marginBottom={6}>\n        <Text size={2} variant=\"muted\" block>\n          You need to own this sandbox to open a live session to collaborate\n          with others in real time.\n        </Text>\n        <Text size={2} variant=\"muted\" block>\n          Fork this sandbox to share it with others!\n        </Text>\n      </Stack>\n      <Button\n        variant=\"primary\"\n        disabled={isForkingSandbox}\n        onClick={() => forkSandboxClicked()}\n      >\n        Fork Sandbox\n      </Button>\n    </>\n  );\n};\n","import React from 'react';\nimport { dispatch } from 'codesandbox-api';\n\nimport BuildIcon from 'react-icons/lib/fa/wrench';\nimport FlaskIcon from 'react-icons/lib/fa/flask';\nimport DownloadIcon from 'react-icons/lib/fa/download';\nimport NodeIcon from 'react-icons/lib/io/social-nodejs';\nimport { useOvermind } from 'app/overmind';\nimport { List, ListAction, Text, Collapsible } from '@codesandbox/components';\n\n// These scripts are only supposed to run on the main thread.\nconst blacklistedScripts = ['dev', 'develop', 'serve', 'start'];\n\nconst getIcon = (scriptName: string) => {\n  switch (scriptName) {\n    case 'test':\n    case 'lint':\n      return <FlaskIcon />;\n    case 'node':\n      return <NodeIcon />;\n    case 'install':\n      return <DownloadIcon />;\n    default: {\n      return <BuildIcon />;\n    }\n  }\n};\n\nexport const Tasks = () => {\n  const {\n    state: {\n      editor: { parsedConfigurations: pkg },\n    },\n  } = useOvermind();\n\n  const runTask = (task: string) => {\n    dispatch({\n      type: 'codesandbox:create-shell',\n      script: task,\n    });\n  };\n  if (!pkg?.scripts) {\n    return null;\n  }\n\n  const commands = Object.keys(pkg.scripts).filter(\n    x => !blacklistedScripts.includes(x)\n  );\n\n  return (\n    <Collapsible title=\"Run Script\" defaultOpen>\n      <List>\n        {commands.map(task => (\n          <ListAction onClick={() => runTask(task)} key={task}>\n            {getIcon(task)} <Text marginLeft={2}>yarn {task}</Text>\n          </ListAction>\n        ))}\n        <ListAction onClick={() => runTask('install')}>\n          {getIcon('install')} <Text marginLeft={2}>yarn install</Text>\n        </ListAction>\n        <ListAction onClick={() => runTask('node')}>\n          {getIcon('node')} <Text marginLeft={2}>node</Text>\n        </ListAction>\n      </List>\n    </Collapsible>\n  );\n};\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { Stack, Text, Element } from '@codesandbox/components';\nimport {\n  SSEContainerStatus,\n  SSEManagerStatus,\n} from '@codesandbox/common/lib/types';\nimport { useOvermind } from 'app/overmind';\n\ntype StatusCircleProps = { theme: any; color: string };\n\nconst StatusCircle = styled.div`\n  ${({ theme, color }: StatusCircleProps) => css`\n    border-radius: 50%;\n    background-color: ${color};\n    width: ${theme.space[2]}px;\n    height: ${theme.space[2]}px;\n  `}\n`;\n\nconst STATUS_MESSAGES = {\n  initializing: 'Container is starting...',\n  starting: 'Sandbox is starting...',\n  started: 'Connected to sandbox',\n  error: 'A sandbox error occurred',\n  hibernated: 'Sandbox hibernated',\n};\n\nconst STATUS_COLOR = {\n  disconnected: '#FD2439',\n  connected: '#4CFF00',\n  initializing: '#FFD399',\n  hibernated: '#FF662E',\n  error: '#FD2439',\n};\n\nfunction getContainerStatusMessageAndColor(\n  containerStatus: SSEContainerStatus\n) {\n  switch (containerStatus) {\n    case 'initializing':\n      return { color: '#FFD399', message: STATUS_MESSAGES.initializing };\n    case 'container-started':\n    case 'stopped':\n      return { color: '#FFD399', message: STATUS_MESSAGES.starting };\n    case 'sandbox-started':\n      return { color: '#4CFF00', message: STATUS_MESSAGES.started };\n    case 'error':\n      return { color: '#FD2439', message: STATUS_MESSAGES.error };\n    case 'hibernated':\n      return { color: '#FF662E', message: STATUS_MESSAGES.hibernated };\n    default:\n      return undefined;\n  }\n}\n\nfunction getManagerStatusMessageAndColor(managerStatus: SSEManagerStatus) {\n  switch (managerStatus) {\n    case 'connected':\n    case 'disconnected':\n      return undefined;\n    case 'initializing':\n      return {\n        message: STATUS_MESSAGES.initializing,\n        color: STATUS_COLOR.initializing,\n      };\n    default:\n      return undefined;\n  }\n}\n\nexport const Status = () => {\n  const {\n    state: {\n      server: { containerStatus, status: managerStatus },\n    },\n  } = useOvermind();\n  const { color, message } =\n    getManagerStatusMessageAndColor(managerStatus) ||\n    getContainerStatusMessageAndColor(containerStatus);\n\n  return (\n    <Stack align=\"center\">\n      <Element marginX={2}>\n        <StatusCircle color={color} />\n      </Element>\n      <Text marginLeft={2}>{message}</Text>\n    </Stack>\n  );\n};\n","import React from 'react';\nimport {\n  Collapsible,\n  List,\n  ListAction,\n  Text,\n  Stack,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\nimport { ServerPort } from '@codesandbox/common/lib/types';\nimport BrowserIcon from 'react-icons/lib/go/browser';\n\nexport const Ports = () => {\n  const {\n    actions: {\n      server: { onBrowserTabOpened, onBrowserFromPortOpened },\n    },\n    state: {\n      server: { ports },\n      editor: { currentSandbox: sandbox },\n    },\n  } = useOvermind();\n\n  const openPort = (port: ServerPort) => {\n    onBrowserFromPortOpened({ port });\n  };\n\n  const openGraphiQLPort = () => {\n    const url = sandbox.template === 'gridsome' ? '/___explore' : '/___graphql';\n    onBrowserTabOpened({\n      closeable: true,\n      options: {\n        url,\n        title: 'GraphiQL',\n      },\n    });\n  };\n\n  return (\n    <Collapsible title=\"Open Ports\" defaultOpen>\n      <List>\n        {ports.length ? (\n          ports.map((port: ServerPort) => (\n            <ListAction onClick={() => openPort(port)}>\n              <Stack\n                justify=\"space-between\"\n                css={css({\n                  width: '100%',\n                })}\n              >\n                <Stack align=\"center\">\n                  <BrowserIcon />\n                  <Text marginLeft={2}>{port.name || port.port}</Text>\n                </Stack>\n                {port.main && <Text weight=\"medium\">main</Text>}\n              </Stack>\n            </ListAction>\n          ))\n        ) : (\n          <Text block variant=\"muted\" paddingX={2}>\n            No ports are open. Maybe the server is still starting or it doesn\n            {\"'\"}t open any ports.\n          </Text>\n        )}\n\n        {['gatsby', 'gridsome'].includes(sandbox.template) && ports.length ? (\n          <ListAction onClick={openGraphiQLPort}>\n            <Stack align=\"center\">\n              <BrowserIcon />\n              <Text marginLeft={2}>GraphiQL</Text>\n            </Stack>\n          </ListAction>\n        ) : null}\n      </List>\n    </Collapsible>\n  );\n};\n","import React from 'react';\n\nexport const EditIcon = props => (\n  <svg width={16} height={16} fill=\"none\" viewBox=\"0 0 16 16\" {...props}>\n    <path\n      fill=\"#757575\"\n      d=\"M1.97 14l3.034-.787 7.64-7.64-2.247-2.247-7.64 7.64L1.971 14zM11.52 2.203l-.561.562 2.247 2.247.562-.562a.795.795 0 000-1.124l-1.124-1.123a.794.794 0 00-1.123 0z\"\n    />\n  </svg>\n);\n\nexport const DeleteIcon = props => (\n  <svg width={16} height={16} fill=\"none\" viewBox=\"0 0 16 16\" {...props}>\n    <path\n      fill=\"#757575\"\n      d=\"M13 3.97L12.09 3 8 7.364 3.91 3 3 3.97l4.09 4.363L3 12.697l.91.97L8 9.303l4.09 4.364.91-.97-4.09-4.364L13 3.97z\"\n    />\n  </svg>\n);\n\nexport const RestartServerIcon = props => (\n  <svg width={12} height={11} fill=\"none\" viewBox=\"0 0 12 11\" {...props}>\n    <path\n      fill=\"#fff\"\n      fillRule=\"evenodd\"\n      d=\"M6.458 9.041a3.875 3.875 0 10-3.832-4.448h1.249L1.937 7.176l-.44-.588-.005.006a4.659 4.659 0 01-.006-.02L0 4.593h1.323a5.167 5.167 0 111.85 4.562l.92-.92a3.858 3.858 0 002.365.806z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"#fff\"\n      d=\"M8.22 4.934a.23.23 0 01-.012.381L5.85 6.782a.23.23 0 01-.35-.194V3.444a.23.23 0 01.362-.187l2.357 1.677z\"\n    />\n  </svg>\n);\n","import React from 'react';\nimport {\n  Collapsible,\n  Text,\n  Element,\n  Button,\n  Stack,\n} from '@codesandbox/components';\nimport { useOvermind } from 'app/overmind';\nimport { RestartServerIcon } from './Icons';\n\nexport const Control = () => {\n  const {\n    actions: {\n      server: { restartContainer, restartSandbox },\n    },\n    state: {\n      server: { containerStatus, status },\n    },\n  } = useOvermind();\n  const disconnected = status !== 'connected';\n\n  return (\n    <Collapsible defaultOpen title=\"Control Container\">\n      <Element paddingX={2}>\n        <Button\n          variant=\"secondary\"\n          disabled={disconnected || containerStatus !== 'sandbox-started'}\n          onClick={restartSandbox}\n        >\n          <Stack gap={2} align=\"center\">\n            <RestartServerIcon /> <Text>Restart Sandbox</Text>\n          </Stack>\n        </Button>\n        <Button\n          marginTop={2}\n          variant=\"secondary\"\n          disabled={disconnected || containerStatus === 'initializing'}\n          onClick={restartContainer}\n        >\n          <Stack gap={2} align=\"center\">\n            <RestartServerIcon /> <Text>Restart Server</Text>\n          </Stack>\n        </Button>\n      </Element>\n    </Collapsible>\n  );\n};\n","import React, { useState } from 'react';\n\nimport {\n  Element,\n  FormField,\n  Input,\n  Button,\n  Stack,\n} from '@codesandbox/components';\n\nexport const VarForm = props => {\n  const [name, setName] = useState(props.name || '');\n  const [value, setValue] = useState(props.value || '');\n\n  const submit = e => {\n    e.preventDefault();\n\n    if (name && value) {\n      props.onSubmit({\n        name,\n        value,\n      });\n      setName('');\n      setValue('');\n    }\n  };\n\n  const onCancel = e => {\n    if (e.key === 'Escape' && props.onCancel) {\n      props.onCancel();\n    }\n  };\n\n  return (\n    <form onSubmit={submit}>\n      <Element marginTop={4}>\n        <FormField\n          direction=\"vertical\"\n          label=\"Environment Variable Name\"\n          hideLabel\n        >\n          <Input\n            value={name}\n            onKeyDown={onCancel}\n            onChange={e => setName(e.target.value)}\n            required\n            placeholder=\"Name\"\n          />\n        </FormField>\n      </Element>\n      <FormField\n        direction=\"vertical\"\n        label=\"Environment Variable Value\"\n        hideLabel\n      >\n        <Input\n          value={value}\n          onKeyDown={onCancel}\n          onChange={e => setValue(e.target.value)}\n          required\n          placeholder=\"Value\"\n        />\n      </FormField>\n      <Stack paddingX={2} marginTop={2}>\n        {props.name && props.value ? (\n          <Button\n            variant=\"link\"\n            css={{ flex: 1 }}\n            onClick={() => props.onCancel()}\n          >\n            Cancel\n          </Button>\n        ) : null}\n        <Button\n          type=\"submit\"\n          variant=\"secondary\"\n          css={{ flex: 1 }}\n          disabled={!name || !value}\n        >\n          {props.name && props.value ? 'Save' : 'Add Secret'}\n        </Button>\n      </Stack>\n    </form>\n  );\n};\n","import { useOvermind } from 'app/overmind';\nimport React, { useEffect, useState } from 'react';\n\nimport {\n  Collapsible,\n  Text,\n  Element,\n  List,\n  ListItem,\n  Stack,\n} from '@codesandbox/components';\nimport { DeleteIcon, EditIcon } from './Icons';\nimport { VarForm } from './VarForm';\n\nexport const EnvVars = () => {\n  const [editMode, setEditMode] = useState(null);\n  const {\n    actions: { editor },\n    state: {\n      editor: { currentSandbox },\n    },\n  } = useOvermind();\n\n  useEffect(() => {\n    editor.fetchEnvironmentVariables();\n  }, [editor]);\n\n  const deleteEnv = (name: string) => {\n    editor.deleteEnvironmentVariable({ name });\n  };\n  const envVars = currentSandbox.environmentVariables;\n\n  return (\n    <Collapsible title=\"Secret Keys\" defaultOpen>\n      <Element paddingX={2}>\n        <Text variant=\"muted\" block>\n          Secrets are available as environment variables. They are kept private\n          and will not be transferred between forks.\n        </Text>\n      </Element>\n      {envVars ? (\n        <List paddingTop={4}>\n          {Object.keys(envVars).map(keyName => (\n            <>\n              {editMode === keyName || !envVars[keyName] ? (\n                <VarForm\n                  name={keyName}\n                  value={envVars[keyName]}\n                  onCancel={() => setEditMode(null)}\n                  onSubmit={({ name, value }) => {\n                    editor.updateEnvironmentVariables({ name, value });\n                    setEditMode(null);\n                  }}\n                />\n              ) : (\n                <ListItem justify=\"space-between\" marginTop={editMode ? 4 : 0}>\n                  <Text>{keyName}</Text>\n                  <Stack gap={2}>\n                    <EditIcon\n                      style={{ cursor: 'pointer' }}\n                      onClick={() => setEditMode(keyName)}\n                    />\n                    <DeleteIcon\n                      style={{ cursor: 'pointer' }}\n                      onClick={() => deleteEnv(keyName)}\n                    />\n                  </Stack>\n                </ListItem>\n              )}\n            </>\n          ))}\n        </List>\n      ) : null}\n\n      <VarForm\n        onSubmit={({ name, value }) =>\n          editor.updateEnvironmentVariables({ name, value })\n        }\n      />\n    </Collapsible>\n  );\n};\n","import { ENTER } from '@codesandbox/common/lib/utils/keycodes';\nimport { Element, FormField, Textarea } from '@codesandbox/components';\nimport { css } from '@styled-system/css';\nimport React, { useState } from 'react';\n\ntype Props = {\n  onSubmit: (value: string) => void;\n};\n\nexport const AddComment: React.FC<Props> = ({ onSubmit }) => {\n  const [value, setValue] = useState('');\n\n  const submit = event => {\n    event.preventDefault();\n    if (value) {\n      onSubmit(value);\n      setValue('');\n    }\n  };\n\n  // Form elements submit on Enter, except Textarea :)\n  const submitOnEnter = event => {\n    if (event.keyCode === ENTER && !event.shiftKey) {\n      event.preventDefault();\n      submit(event);\n    }\n  };\n\n  return (\n    <Element\n      paddingX={2}\n      paddingY={4}\n      css={css({\n        zIndex: 2,\n        borderTop: '1px solid',\n        borderColor: 'sideBar.border',\n        boxShadow: theme => `0px -32px 32px ${theme.colors.dialog.background}`,\n      })}\n    >\n      <form onSubmit={submit}>\n        <FormField label=\"Add a comment\" hideLabel>\n          <Textarea\n            autosize\n            value={value}\n            onChange={e => setValue(e.target.value)}\n            onKeyDown={submitOnEnter}\n            placeholder=\"Write a comment\"\n            style={{ lineHeight: 1.2, minHeight: 32 }}\n          />\n        </FormField>\n      </form>\n    </Element>\n  );\n};\n","import { Avatar, Stack, Text, Element } from '@codesandbox/components';\nimport { CommentFragment } from 'app/graphql/types';\nimport { formatDistance } from 'date-fns';\nimport { zonedTimeToUtc } from 'date-fns-tz';\nimport React from 'react';\n\nexport const AvatarBlock: React.FC<{ comment: CommentFragment }> = ({\n  comment,\n}) => (\n  <Stack gap={2} align=\"center\">\n    <Element itemProp=\"author\" itemScope itemType=\"http://schema.org/Person\">\n      <Avatar user={comment.user} />\n    </Element>\n    <Stack direction=\"vertical\" justify=\"center\" gap={1}>\n      <Text itemProp=\"name\" size={3} weight=\"bold\" variant=\"body\">\n        {comment.user.username}\n      </Text>\n      <Text\n        size={2}\n        variant=\"muted\"\n        itemProp=\"dateCreated\"\n        dateTime={comment.insertedAt.toString()}\n      >\n        {formatDistance(\n          zonedTimeToUtc(comment.insertedAt, 'Etc/UTC'),\n          new Date(),\n          {\n            addSuffix: true,\n          }\n        )}\n      </Text>\n    </Stack>\n  </Stack>\n);\n","import {\n  Element,\n  Icon,\n  Link,\n  ListAction,\n  Menu,\n  Stack,\n  Text,\n  isMenuClicked,\n} from '@codesandbox/components';\nimport VisuallyHidden from '@reach/visually-hidden';\nimport { css } from '@styled-system/css';\nimport { CommentFragment } from 'app/graphql/types';\nimport { useOvermind } from 'app/overmind';\nimport React from 'react';\n\nimport { AvatarBlock } from './components/AvatarBlock';\n\nexport const Comment = React.memo<{\n  comment: CommentFragment;\n}>(({ comment }) => {\n  const { state, actions } = useOvermind();\n\n  const truncateText = {\n    maxHeight: 52,\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    maxWidth: '100%',\n    display: 'block',\n    // @ts-ignore\n    // eslint-disable-next-line no-dupe-keys\n    display: '-webkit-box',\n    '-webkit-line-clamp': '3',\n    '-webkit-box-orient': 'vertical',\n  };\n\n  return (\n    <ListAction\n      key={comment.id}\n      paddingTop={4}\n      css={css({\n        display: 'block',\n        color: 'inherit',\n        transition: 'opacity',\n        transitionDuration: theme => theme.speeds[1],\n        opacity: comment.isResolved ? 0.2 : 1,\n        paddingRight: 0, // the actions menu should be at the edge\n      })}\n      id={comment.id}\n      onClick={event => {\n        // don't trigger comment if you click on the menu\n        // we have to handle this because of an upstream\n        // bug in reach/menu-button\n        if (isMenuClicked(event)) return;\n\n        const currentTarget = event.currentTarget as HTMLElement;\n        const boundingRect = currentTarget.getBoundingClientRect();\n        actions.comments.selectComment({\n          commentId: comment.id,\n          bounds: {\n            left: boundingRect.left,\n            right: boundingRect.right,\n            top: boundingRect.top,\n            bottom: boundingRect.bottom,\n          },\n        });\n      }}\n    >\n      <Element\n        as=\"article\"\n        itemProp=\"comment\"\n        itemScope\n        itemType=\"http://schema.org/Comment\"\n      >\n        <Stack align=\"flex-start\" justify=\"space-between\" marginBottom={4}>\n          <AvatarBlock comment={comment} />\n          <Stack align=\"center\">\n            {comment.isResolved && (\n              <Icon name=\"check\" title=\"Resolved\" color=\"green\" />\n            )}\n            <Menu>\n              <Menu.IconButton name=\"more\" title=\"Comment actions\" size={12} />\n              <Menu.List>\n                <Menu.Item\n                  onSelect={() =>\n                    actions.comments.resolveComment({\n                      commentId: comment.id,\n                      isResolved: !comment.isResolved,\n                    })\n                  }\n                >\n                  Mark as {comment.isResolved ? 'unresolved' : 'resolved'}\n                </Menu.Item>\n                <Menu.Item\n                  onSelect={() =>\n                    actions.comments.copyPermalinkToClipboard(comment.id)\n                  }\n                >\n                  Share Comment\n                </Menu.Item>\n                {state.user.id === comment.user.id && (\n                  <Menu.Item\n                    onSelect={() =>\n                      actions.comments.deleteComment({\n                        commentId: comment.id,\n                      })\n                    }\n                  >\n                    Delete\n                  </Menu.Item>\n                )}\n              </Menu.List>\n            </Menu>\n          </Stack>\n        </Stack>\n        {comment.references[0] && (\n          <Link\n            variant=\"muted\"\n            css={css({\n              marginTop: -2,\n              opacity: 0.6,\n              paddingBottom: 2,\n              display: 'block',\n              transition: 'all ease',\n              transitionDuration: theme => theme.speeds[1],\n\n              ':hover': {\n                opacity: 1,\n                color: 'sidebar.foreground',\n              },\n            })}\n          >\n            {comment.references[0].metadata.path}\n          </Link>\n        )}\n        <Element\n          as=\"p\"\n          marginY={0}\n          marginRight={2 /** Adjust for the missing margin in ListAction */}\n          paddingBottom={\n            6 /** Use padding instead of margin for inset border */\n          }\n          css={css({\n            borderBottom: '1px solid',\n            borderColor: 'sideBar.border',\n          })}\n        >\n          <Text itemProp=\"text\" block css={truncateText} marginBottom={2}>\n            {comment.content}\n          </Text>\n          <Text variant=\"muted\" size={2}>\n            {getRepliesString(comment.replyCount)}\n            <VisuallyHidden itemProp=\"commentCount\">\n              {comment.replyCount}\n            </VisuallyHidden>\n          </Text>\n        </Element>\n      </Element>\n    </ListAction>\n  );\n});\n\nconst getRepliesString = length => {\n  if (length === 0) return 'No Replies';\n  if (length === 1) return '1 Reply';\n  return length + ' Replies';\n};\n","import { CommentsFilterOption } from '@codesandbox/common/lib/types';\nimport {\n  Icon,\n  List,\n  Menu,\n  SidebarRow,\n  Stack,\n  Text,\n} from '@codesandbox/components';\nimport { css } from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\nimport React from 'react';\n\nimport { AddComment } from './AddComment';\nimport { Comment } from './Comment';\n\nexport const Comments: React.FC = () => {\n  const {\n    state: {\n      comments: {\n        selectedCommentsFilter,\n        currentComments,\n        currentCommentsByDate,\n      },\n    },\n    actions: { comments: commentsActions },\n  } = useOvermind();\n  const scrollRef = React.useRef(null);\n  const options = Object.values(CommentsFilterOption);\n\n  const getSelectedFilter = () => {\n    switch (selectedCommentsFilter) {\n      case CommentsFilterOption.ALL || CommentsFilterOption.OPEN:\n        return 'new';\n      case CommentsFilterOption.RESOLVED:\n        return 'resolved';\n      default:\n        return 'new';\n    }\n  };\n\n  const getFilterName = () => {\n    switch (selectedCommentsFilter) {\n      case CommentsFilterOption.ALL:\n        return 'All';\n      case CommentsFilterOption.RESOLVED:\n        return 'Resolved';\n      case CommentsFilterOption.OPEN:\n        return 'Open';\n      default:\n        return 'new';\n    }\n  };\n\n  const onSubmit = value => {\n    commentsActions.addComment({\n      content: value,\n    });\n    scrollRef.current.scrollTop = 0;\n  };\n\n  const iconColor =\n    selectedCommentsFilter !== CommentsFilterOption.ALL\n      ? 'button.background'\n      : 'inherit';\n\n  const Empty = () => (\n    <Stack\n      direction=\"vertical\"\n      align=\"center\"\n      justify=\"center\"\n      gap={8}\n      marginX={2}\n    >\n      <Icon\n        name=\"comments\"\n        size={80}\n        color=\"mutedForeground\"\n        css={{ opacity: 0.2 }}\n      />\n      <div>\n        <Text block align=\"center\" variant=\"muted\">\n          There are no {getSelectedFilter()} comments.\n        </Text>\n        <Text block align=\"center\" variant=\"muted\">\n          Comment on code by clicking within a file, or add a comment below.\n        </Text>\n      </div>\n    </Stack>\n  );\n\n  return (\n    <Stack\n      direction=\"vertical\"\n      justify=\"space-between\"\n      css={{ height: '100%' }}\n    >\n      <div css={{ overflow: 'hidden' }}>\n        <SidebarRow\n          justify=\"space-between\"\n          paddingX={2}\n          css={css({\n            borderBottom: '1px solid',\n            borderColor: 'sideBar.border',\n            minHeight: '35px',\n          })}\n        >\n          <Text>\n            Comments\n            <Text css={{ textTransform: 'capitalize' }}>\n              {' '}\n              ({getFilterName()})\n            </Text>\n          </Text>\n          <Menu>\n            <Menu.IconButton\n              className=\"icon-button\"\n              name=\"filter\"\n              title=\"Filter comments\"\n              size={12}\n              css={css({\n                color: iconColor,\n                ':hover:not(:disabled)': {\n                  color: iconColor,\n                },\n                ':focus:not(:disabled)': {\n                  color: iconColor,\n                  backgroundColor: 'transparent',\n                },\n              })}\n            />\n            <Menu.List>\n              {options.map(option => (\n                <Menu.Item\n                  key={option}\n                  onSelect={() => commentsActions.selectCommentsFilter(option)}\n                >\n                  {option}\n                </Menu.Item>\n              ))}\n            </Menu.List>\n          </Menu>\n        </SidebarRow>\n\n        {currentComments.length ? (\n          <List\n            itemProp=\"mainEntity\"\n            itemScope\n            itemType=\"http://schema.org/Conversation\"\n            ref={scrollRef}\n            marginTop={4}\n            css={{\n              // stretch within container, leaving space for comment box\n              height: 'calc(100% - 32px)',\n              overflow: 'auto',\n              scrollBehavior: 'smooth',\n            }}\n          >\n            {currentCommentsByDate.today.length ? (\n              <>\n                <Text size={3} weight=\"bold\" block margin={2}>\n                  Today\n                </Text>\n                {currentCommentsByDate.today.map(comment => (\n                  <Comment key={comment.id} comment={comment} />\n                ))}\n              </>\n            ) : null}\n            {currentCommentsByDate.prev.length ? (\n              <>\n                <Text size={3} weight=\"bold\" block margin={2} marginTop={4}>\n                  Earlier\n                </Text>\n                {currentCommentsByDate.prev.map(comment => (\n                  <Comment key={comment.id} comment={comment} />\n                ))}\n              </>\n            ) : null}\n          </List>\n        ) : null}\n      </div>\n      {currentComments.length ? null : <Empty />}\n      <AddComment onSubmit={onSubmit} />\n    </Stack>\n  );\n};\n","import React, { useState, useEffect, useRef } from 'react';\nimport styled, { css as c } from 'styled-components';\nimport { sortBy, takeRight } from 'lodash-es';\n\nimport { ENTER } from '@codesandbox/common/lib/utils/keycodes';\nimport { useOvermind } from 'app/overmind';\nimport css from '@styled-system/css';\nimport {\n  Collapsible,\n  Text,\n  Stack,\n  Textarea,\n  Element,\n} from '@codesandbox/components';\n\nconst Container = styled(Stack)`\n  min-height: 200px;\n  max-height: 300px;\n  padding: 0 ${props => props.theme.sizes[2]}px;\n  overflow-y: auto;\n`;\n\nconst Messages = styled.div`\n  height: 100%;\n  flex: 1;\n`;\n\nconst Avatar = styled.img`\n  ${({\n    theme,\n    color,\n    noUser,\n  }: {\n    theme: any;\n    color: string;\n    noUser?: boolean;\n  }) => c`\n    border-radius: ${theme.radii.medium}px;\n    border: 1px solid ${color};\n    width: ${theme.sizes[8]}px;\n    height: ${theme.sizes[8]}px;\n\n    ${noUser &&\n      c`\n      background-position-x: -1px;\n    background-image: url('data:image/svg+xml,%3Csvg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg opacity=\"0.2\"%3E%3Cpath fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M21.0015 11.452C21.0015 12.4269 20.6545 13.3895 20.2444 14.1227C20.1513 14.2892 20.319 14.5705 20.487 14.8523C20.6714 15.1617 20.8563 15.4717 20.6969 15.6311C20.2605 16.0674 19.2293 16.0154 18.3942 15.9532C17.846 16.433 17.1851 16.7132 16.4738 16.7132C15.6737 16.7132 14.9375 16.3588 14.3535 15.7645C14.1934 15.8387 14.0338 15.9128 13.876 15.9883C12.6355 15.8237 11.8695 13.7817 12.1652 11.4272C12.4609 9.07269 13.7063 7.29741 14.9468 7.46197C15.2309 7.52309 15.4882 7.60195 15.7211 7.69552C16.2541 7.25516 16.887 7 17.5658 7C19.4633 7 21.0015 8.99325 21.0015 11.452ZM10.0533 24.5705L22.4514 24.5705C22.4514 24.5705 23.3477 18.5865 16.1777 18.4297C9.00769 18.2729 10.0533 24.5705 10.0533 24.5705Z\" fill=\"white\"/%3E%3C/g%3E%3C/svg%3E%0A');\n    `}\n\n  `}\n`;\n\nexport const Chat: React.FC = () => {\n  const [value, setValue] = useState('');\n  const { state, actions } = useOvermind();\n  const messagesRef = useRef(null);\n  const scrollDown = () => {\n    if (messagesRef.current) {\n      messagesRef.current.scrollTop = messagesRef.current.scrollHeight;\n    }\n  };\n  useEffect(scrollDown);\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.keyCode === ENTER && !e.shiftKey && value.trim() !== '') {\n      e.preventDefault();\n      e.stopPropagation();\n      // Enter\n      actions.live.onSendChat({\n        message: value,\n      });\n      setValue('');\n      scrollDown();\n    }\n  };\n\n  const handleChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n    setValue(e.target.value);\n  };\n\n  const { messages, users } = state.live.roomInfo.chat;\n  const roomInfoUsers = state.live.roomInfo.users;\n\n  const orderedMessages: (m: any) => any[] = m =>\n    sortBy(takeRight(m, 100), 'date');\n\n  const messageData = message => {\n    const metadata = roomInfoUsers.find(u => u.id === message.userId);\n    return {\n      metadata,\n      color: metadata\n        ? `rgb(${metadata.color[0]}, ${metadata.color[1]}, ${metadata.color[2]})`\n        : '#636363',\n      name: users[message.userId],\n    };\n  };\n\n  const isNotSameUser = (message, i) =>\n    i === 0 || messages[i - 1].userId !== message.userId;\n\n  const isLight = theme => theme.vscodeTheme.type === 'light';\n\n  return (\n    <Collapsible\n      css={css(theme => ({\n        borderTop: '1px solid',\n        borderColor: 'sideBar.border',\n        boxShadow: isLight(theme)\n          ? '0px -8px 8px rgba(255,255,255,0.24), 0px -4px 8px rgba(255,255,255,0.4)'\n          : '0px -8px 8px rgba(0,0,0,0.24), 0px -4px 8px rgba(0,0,0,0.4)',\n      }))}\n      defaultOpen\n      title=\"Chat\"\n    >\n      <Container direction=\"vertical\" ref={messagesRef}>\n        <Messages>\n          {messages.length > 0 ? (\n            orderedMessages(messages).map((message, i) => {\n              const { color, name, metadata } = messageData(message);\n              return (\n                <Element key={message.date}>\n                  {isNotSameUser(message, i) && (\n                    <Stack\n                      paddingTop={2}\n                      marginBottom={2}\n                      align=\"center\"\n                      gap={2}\n                      css={css({\n                        opacity: metadata ? 1 : 0.2,\n                      })}\n                    >\n                      {metadata ? (\n                        <Avatar\n                          color={color}\n                          alt={metadata.username}\n                          src={metadata.avatarUrl}\n                        />\n                      ) : (\n                        <Avatar noUser as=\"div\" color={color} />\n                      )}\n                      <Text block weight=\"bold\">\n                        {name}\n                      </Text>\n                    </Stack>\n                  )}\n                  <Text\n                    block\n                    css={css({\n                      opacity: metadata ? 1 : 0.2,\n                      wordBreak: 'break-word',\n                    })}\n                    marginBottom={2}\n                  >\n                    {message.message.split('\\n').map(m => (\n                      <span key={m}>\n                        {m}\n                        <br />\n                      </span>\n                    ))}\n                  </Text>\n                </Element>\n              );\n            })\n          ) : (\n            <Text variant=\"muted\">No messages, start sending some!</Text>\n          )}\n        </Messages>\n        <Element marginTop={4}>\n          <Textarea\n            autosize\n            style={{ height: 'auto', minHeight: 'auto' }}\n            rows={1}\n            value={value}\n            onChange={handleChange}\n            placeholder=\"Send a message...\"\n            onKeyDown={handleKeyDown}\n          />\n        </Element>\n      </Container>\n    </Collapsible>\n  );\n};\n","import React from 'react';\nimport { withTheme } from 'styled-components';\n\nimport { useOvermind } from 'app/overmind';\nimport { ThemeProvider } from '@codesandbox/components';\n\nimport { ProjectInfo } from './screens/ProjectInfo';\nimport { NotOwnedSandboxInfo } from './screens/NotOwnedSandboxInfo';\nimport { GitHub } from './screens/GitHub';\nimport { Explorer } from './screens/Explorer';\nimport { Deployment } from './screens/Deployment/index';\nimport { ConfigurationFiles } from './screens/ConfigurationFiles';\nimport { Live } from './screens/Live';\nimport { Server } from './screens/Server';\nimport { Comments } from './screens/Comments';\n\nimport { Chat } from './Chat';\nimport { Container } from './elements';\n\nconst workspaceTabs = {\n  project: ProjectInfo,\n  'project-summary': NotOwnedSandboxInfo,\n  github: GitHub,\n  files: Explorer,\n  deploy: Deployment,\n  config: ConfigurationFiles,\n  live: Live,\n  server: Server,\n  comments: Comments,\n};\n\nexport const WorkspaceComponent = ({ theme }) => {\n  const { state } = useOvermind();\n  const {\n    live: { isLive, roomInfo },\n    workspace: { openedWorkspaceItem: activeTab },\n  } = state;\n\n  if (!activeTab) {\n    return null;\n  }\n\n  const Component = workspaceTabs[activeTab];\n\n  return (\n    <Container>\n      <ThemeProvider theme={theme.vscodeTheme}>\n        <>\n          <div\n            style={{\n              flex: 1,\n              overflowY: 'auto',\n              fontFamily: 'Inter, Roboto, sans-serif',\n            }}\n          >\n            {state.editor.currentSandbox && <Component />}\n          </div>\n\n          {isLive && roomInfo.chatEnabled && <Chat />}\n        </>\n      </ThemeProvider>\n    </Container>\n  );\n};\n\nexport const Workspace = withTheme(WorkspaceComponent);\n","import React from 'react';\n\nimport { Explorer } from '../Explorer';\nimport { Summary } from './Summary';\n\nexport const NotOwnedSandboxInfo = () => (\n  <>\n    <Summary />\n    <Explorer />\n  </>\n);\n","import React, { useEffect } from 'react';\nimport {\n  Collapsible,\n  Text,\n  Element,\n  Stack,\n  Link,\n} from '@codesandbox/components';\nimport { githubRepoUrl } from '@codesandbox/common/lib/utils/url-generator';\nimport { useOvermind } from 'app/overmind';\nimport { GitHubIcon } from './Icons';\nimport { CommitForm } from './CommitForm';\nimport { Changes } from './Changes';\nimport { CreateRepo } from './CreateRepo';\nimport { GithubLogin } from './GithubLogin';\nimport { NotOwner } from './NotOwner';\nimport { NotLoggedIn } from './NotLoggedIn';\n\nexport const GitHub = () => {\n  const {\n    actions: {\n      git: { gitMounted },\n    },\n    state: {\n      git: { isFetching, originalGitChanges: gitChanges },\n      editor: {\n        currentSandbox: { originalGit, owned },\n      },\n      isLoggedIn,\n      user,\n    },\n  } = useOvermind();\n\n  useEffect(() => {\n    gitMounted();\n  }, [gitMounted]);\n\n  const changeCount = gitChanges\n    ? gitChanges.added.length +\n      gitChanges.modified.length +\n      gitChanges.deleted.length\n    : 0;\n\n  if (!isLoggedIn) return <NotLoggedIn />;\n  if (!owned) return <NotOwner />;\n  if (!user.integrations.github) return <GithubLogin />;\n\n  return (\n    <>\n      {originalGit ? (\n        <Collapsible title=\"Github\" defaultOpen>\n          <Element paddingX={2}>\n            <Link\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href={githubRepoUrl(originalGit)}\n            >\n              <Stack gap={2} marginBottom={6} align=\"center\">\n                <GitHubIcon />\n                <Text size={2}>\n                  {originalGit.username}/{originalGit.repo}\n                </Text>\n              </Stack>\n            </Link>\n          </Element>\n          <Element>\n            <Text size={3} block marginBottom={2} marginX={2}>\n              Changes ({isFetching ? '...' : changeCount})\n            </Text>\n            {!isFetching ? (\n              gitChanges && <Changes {...gitChanges} />\n            ) : (\n              <Element paddingX={2}>\n                <Text variant=\"muted\">Fetching changes...</Text>\n              </Element>\n            )}\n            {!isFetching && (\n              <>\n                {changeCount > 0 && <CommitForm />}\n                {changeCount === 0 && (\n                  <Element paddingX={2}>\n                    <Text variant=\"muted\" weight=\"bold\">\n                      There are no changes\n                    </Text>\n                  </Element>\n                )}\n              </>\n            )}\n          </Element>\n        </Collapsible>\n      ) : null}\n      <CreateRepo />\n    </>\n  );\n};\n","import { Element, Collapsible, Stack, Text } from '@codesandbox/components';\nimport React, { FunctionComponent, useEffect } from 'react';\n\nimport { useOvermind } from 'app/overmind';\n\nimport { Netlify } from './Netlify';\nimport { NotLoggedIn } from './NotLoggedIn';\nimport { NotOwner } from './NotOwner';\nimport { Vercel } from './Vercel';\n\nexport const Deployment: FunctionComponent = () => {\n  const {\n    actions: {\n      deployment: { getDeploys },\n    },\n    state: {\n      editor: {\n        currentSandbox: { owned },\n      },\n      isLoggedIn,\n    },\n  } = useOvermind();\n\n  useEffect(() => {\n    if (owned && isLoggedIn) {\n      getDeploys();\n    }\n  }, [getDeploys, owned, isLoggedIn]);\n\n  if (!isLoggedIn) {\n    return <NotLoggedIn />;\n  }\n\n  if (!owned) {\n    return <NotOwner />;\n  }\n\n  return (\n    <Collapsible defaultOpen title=\"Deployment\">\n      <Element paddingX={2}>\n        <Text block marginBottom={6} variant=\"muted\">\n          You can deploy a production version of your sandbox using one of our\n          supported providers - Netlify or Vercel.\n        </Text>\n\n        <Stack direction=\"vertical\" gap={5}>\n          <Vercel />\n\n          <Netlify />\n        </Stack>\n      </Element>\n    </Collapsible>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { NotLoggedIn } from './NotLoggedIn';\nimport { LiveNow } from './LiveNow';\nimport { NotLive } from './NotLive';\n\nexport const Live: FunctionComponent = () => {\n  const {\n    state: {\n      isLoggedIn,\n      live: { isLive },\n    },\n  } = useOvermind();\n\n  if (!isLoggedIn) return <NotLoggedIn />;\n  return isLive ? <LiveNow /> : <NotLive />;\n};\n","import React from 'react';\nimport { Collapsible, Text, Element } from '@codesandbox/components';\nimport { Tasks } from './Tasks';\nimport { Status } from './Status';\nimport { Ports } from './Ports';\nimport { Control } from './Control';\nimport { EnvVars } from './EnvVars';\n\nexport const Server = () => (\n  <Collapsible defaultOpen title=\"Server Control Panel\">\n    <Element padding={2} marginBottom={5}>\n      <Text weight=\"medium\" block marginBottom={2}>\n        Server Sandbox\n      </Text>\n      <Text variant=\"muted\" block marginBottom={5}>\n        This sandbox is executed on a server. You can control the server from\n        this panel.\n      </Text>\n      <Status />\n    </Element>\n    <Tasks />\n    <Ports />\n    <Control />\n    <EnvVars />\n  </Collapsible>\n);\n","import { createGlobalStyle, css } from 'styled-components';\n\nconst POSITION = css`\n  top: 0px;\n  left: ${props => props.theme.space[2] + 1}px;\n`;\n\nconst primary = (theme: any) =>\n  '%23' + theme.colors.button.background.split('#')[1];\n\nconst makeColor = (color: string) => '%23' + color.split('#')[1];\n\nexport const CommentsGlobalStyles = createGlobalStyle`\n${({ theme }: any) => css`\n  .editor-comments-glyph {\n    position: relative;\n    background-image: url(\"data:image/svg+xml,%3Csvg width='10' height='10' viewBox='0 0 10 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0 5C0 2.23858 2.23858 0 5 0C7.76142 0 10 2.23858 10 5C10 7.76142 7.76142 10 5 10H0V5Z' fill='black'/%3E%3C/svg%3E\");\n    background-size: ${theme.space[3] + 1}px ${theme.space[3] + 1}px;\n    background-repeat: no-repeat;\n    background-position: center center;\n    opacity: 0.3;\n    transition: all ${theme.speeds[4]}ms ease;\n    position: relative;\n    cursor: pointer;\n\n    &:hover {\n      opacity: 1;\n    }\n  }\n\n  .vs-dark {\n    .editor-comments-glyph {\n      background-image: url(\"data:image/svg+xml,%3Csvg width='10' height='10' viewBox='0 0 10 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0 5C0 2.23858 2.23858 0 5 0C7.76142 0 10 2.23858 10 5C10 7.76142 7.76142 10 5 10H0V5Z' fill='${makeColor(\n        theme.colors.white\n      )}'/%3E%3C/svg%3E\");\n    }\n    .editor-comments-multi:before {\n      color: ${theme.colors.grays[600]};\n    }\n  }\n\n  .editor-comments-glyph.active-comment.editor-comments-multi:before {\n    color: ${theme.colors.white};\n  }\n\n  .editor-comments-multi:before {\n    content: '...';\n    color: ${theme.colors.white};\n    position: absolute;\n    top: -2px;\n    left: ${theme.space[2] - 1}px;\n    z-index: 10;\n    font-size: 8px;\n    font-weight: bold;\n    height: ${theme.space[3] + 1}px;\n    font-family: 'Inter', sans-serif;\n  }\n\n  .editor-comments-multi-2:before {\n    content: '2';\n    ${POSITION}\n  }\n\n  .editor-comments-multi-3:before {\n    content: '3';\n    ${POSITION}\n  }\n  .editor-comments-multi-4:before {\n    content: '4';\n    ${POSITION}\n  }\n  .editor-comments-multi-5:before {\n    content: '5';\n    ${POSITION}\n  }\n  .editor-comments-multi-6:before {\n    content: '6';\n    ${POSITION}\n  }\n  .editor-comments-multi-7:before {\n    content: '7';\n    ${POSITION}\n  }\n  .editor-comments-multi-8:before {\n    content: '8';\n    ${POSITION}\n  }\n  .editor-comments-multi-9:before {\n    content: '9';\n    ${POSITION}\n  }\n\n  .editor-comments-glyph.editor-comments-active {\n    opacity: 1;\n    background-image: url('${`data:image/svg+xml,%3Csvg width=\"10\" height=\"10\" viewBox=\"0 0 10 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cpath d=\"M0 5C0 7.76142 2.23858 10 5 10C7.76142 10 10 7.76142 10 5C10 2.23858 7.76142 0 5 0C2.23858 0 0 2.23858 0 5Z\" fill=\"${primary(\n      theme\n    )}\"/%3E%3Cpath d=\"M5 5H0V10H5V5Z\" fill=\"${primary(\n      theme\n    )}\"/%3E%3C/svg%3E%0A`}');\n\n      &::before {\n        content: '';\n      }\n  }\n\n  .editor-comments-add:before {\n    content: '+';\n    font-size: 10px;\n    font-weight: bold;\n    top: 0;\n    left: ${theme.space[2]}px;\n  }\n`}\n`;\n","import { Element, Text } from '@codesandbox/components';\nimport OutsideClickHandler from 'react-outside-click-handler';\nimport { css } from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\nimport { formatDistanceStrict } from 'date-fns';\nimport { zonedTimeToUtc } from 'date-fns-tz';\nimport React from 'react';\n\ntype MultiCommentProps = {\n  x: number;\n  y: number;\n  ids: string[];\n};\n\nexport const MultiComment = ({ x, y, ids }: MultiCommentProps) => {\n  const {\n    state: { editor, comments },\n    actions,\n  } = useOvermind();\n\n  const CARROT_LEFT_MARGIN = 25;\n  const BORDER_WIDTH = 10;\n\n  const list = css({\n    position: 'fixed',\n    left: x - CARROT_LEFT_MARGIN,\n    top: y + 20,\n    backgroundColor: 'sideBar.background',\n    border: '1px solid',\n    borderColor: 'sideBar.border',\n    paddingY: 2,\n    paddingX: 0,\n    zIndex: 999999999999999,\n    listStyle: 'none',\n    borderRadius: 4,\n\n    '&::before': {\n      content: \"''\",\n      display: 'block',\n      position: 'absolute',\n      left: CARROT_LEFT_MARGIN - 1,\n      width: 0,\n      height: 0,\n      borderStyle: 'solid',\n      top: `-${BORDER_WIDTH + 1}px`,\n      borderColor: 'transparent',\n      borderBottomColor: 'sideBar.border',\n\n      borderWidth: `${BORDER_WIDTH + 1}px`,\n      borderTopWidth: 0,\n    },\n\n    '&::after': {\n      content: \"''\",\n      display: 'block',\n      position: 'absolute',\n      left: CARROT_LEFT_MARGIN,\n      width: 0,\n      height: 0,\n      borderStyle: 'solid',\n      top: `-${BORDER_WIDTH}px`,\n      borderColor: 'transparent',\n      borderBottomColor: 'sideBar.background',\n      borderWidth: `${BORDER_WIDTH}px`,\n      borderTopWidth: 0,\n    },\n  });\n\n  const item = css({\n    border: 'none',\n    backgroundColor: 'transparent',\n    padding: 2,\n    width: 200,\n    cursor: 'pointer',\n    position: 'relative',\n    textAlign: 'left',\n    '&:hover': {\n      color: 'list.hoverForeground',\n      backgroundColor: 'list.hoverBackground',\n    },\n  });\n\n  const date = comment =>\n    formatDistanceStrict(\n      zonedTimeToUtc(comment.insertedAt, 'Etc/UTC'),\n      new Date(),\n      {\n        addSuffix: true,\n      }\n    );\n\n  return (\n    <Element css={css({ position: 'absolute' })}>\n      <OutsideClickHandler\n        onOutsideClick={() => actions.comments.closeMultiCommentsSelector()}\n      >\n        <Element as=\"ul\" css={list}>\n          {ids\n            .map(id => comments.comments[editor.currentSandbox.id][id])\n            .sort((commentA, commentB) => {\n              const dateA = new Date(commentA.insertedAt);\n              const dateB = new Date(commentB.insertedAt);\n              if (dateA < dateB) {\n                return 1;\n              }\n\n              if (dateA > dateB) {\n                return -1;\n              }\n\n              return 0;\n            })\n            .map(comment => (\n              <Element as=\"li\" key={comment.id}>\n                <Element\n                  as=\"button\"\n                  type=\"button\"\n                  onClick={event => {\n                    const bounds = event.currentTarget.getBoundingClientRect();\n                    actions.comments.selectComment({\n                      commentId: comment.id,\n                      bounds: {\n                        left: bounds.left,\n                        right: bounds.right,\n                        top: bounds.top,\n                        bottom: bounds.bottom,\n                      },\n                    });\n                  }}\n                  css={item}\n                >\n                  <Text\n                    size={2}\n                    weight=\"bold\"\n                    paddingRight={2}\n                    itemProp=\"name\"\n                    css={css({\n                      color: 'sideBar.foreground',\n                    })}\n                  >\n                    {comment.user.username}\n                  </Text>\n                  <Text size={2} variant=\"muted\">\n                    {date(comment)}\n                  </Text>\n                </Element>\n              </Element>\n            ))}\n        </Element>\n      </OutsideClickHandler>\n    </Element>\n  );\n};\n","import React from 'react';\nimport { Stack, Textarea, Button } from '@codesandbox/components';\n\nexport const EditComment: React.FC<{\n  initialValue?: string;\n  onSave: (value: string) => void;\n  onCancel: () => void;\n}> = ({ initialValue = '', onSave, onCancel }) => {\n  const [value, setValue] = React.useState(initialValue);\n\n  return (\n    <Stack\n      as=\"form\"\n      onSubmit={event => {\n        event.preventDefault();\n        onSave(value);\n      }}\n      direction=\"vertical\"\n      gap={2}\n    >\n      <Textarea\n        autosize\n        autoFocus\n        value={value}\n        style={{ lineHeight: 1.2 }}\n        onChange={event => setValue(event.target.value)}\n      />\n      <Stack justify=\"flex-end\">\n        <Button\n          type=\"button\"\n          variant=\"link\"\n          css={{ width: 100 }}\n          onClick={onCancel}\n        >\n          Cancel\n        </Button>\n        <Button type=\"submit\" variant=\"secondary\" css={{ width: 100 }}>\n          Save\n        </Button>\n      </Stack>\n    </Stack>\n  );\n};\n","import { Element, Menu, SkeletonText, Stack } from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { Markdown } from 'app/components/Markdown';\nimport { DIALOG_TRANSITION_DURATION } from 'app/constants';\nimport { CommentFragment } from 'app/graphql/types';\nimport { useOvermind } from 'app/overmind';\nimport React, { useState } from 'react';\n\nimport { AvatarBlock } from '../components/AvatarBlock';\nimport { EditComment } from '../components/EditComment';\n\ntype ReplyProps = {\n  reply: CommentFragment;\n};\n\nconst animationDelay = DIALOG_TRANSITION_DURATION + 's';\n\nexport const Reply = ({ reply }: ReplyProps) => {\n  const { user, id, content } = reply;\n  const { state, actions } = useOvermind();\n  const [editing, setEditing] = useState(false);\n\n  return (\n    <Element\n      as=\"li\"\n      css={{\n        '&:last-child > div': {\n          border: 'none',\n        },\n      }}\n    >\n      <Element\n        as=\"article\"\n        itemProp=\"comment\"\n        itemScope\n        itemType=\"http://schema.org/Comment\"\n        key={id}\n        marginLeft={4}\n        marginRight={2}\n        paddingTop={6}\n      >\n        <Stack align=\"flex-start\" justify=\"space-between\" marginBottom={4}>\n          <AvatarBlock comment={reply} />\n          {state.user.id === user.id && (\n            <Stack align=\"center\">\n              <Menu>\n                <Menu.IconButton name=\"more\" title=\"Reply actions\" size={12} />\n                <Menu.List>\n                  <Menu.Item\n                    onSelect={() => {\n                      actions.comments.deleteComment({\n                        commentId: id,\n                      });\n                    }}\n                  >\n                    Delete\n                  </Menu.Item>\n                  <Menu.Item onSelect={() => setEditing(true)}>\n                    Edit Reply\n                  </Menu.Item>\n                </Menu.List>\n              </Menu>\n            </Stack>\n          )}\n        </Stack>\n      </Element>\n      <Element\n        marginY={0}\n        marginX={4}\n        paddingBottom={6}\n        css={css({\n          borderBottom: '1px solid',\n          borderColor: 'sideBar.border',\n        })}\n      >\n        {!editing ? (\n          <Element itemProp=\"text\">\n            <Markdown source={content} />\n          </Element>\n        ) : (\n          <EditComment\n            initialValue={reply.content}\n            onSave={async newValue => {\n              await actions.comments.updateComment({\n                commentId: reply.id,\n                content: newValue,\n              });\n              setEditing(false);\n            }}\n            onCancel={() => setEditing(false)}\n          />\n        )}\n      </Element>\n    </Element>\n  );\n};\n\nexport const SkeletonReply = props => (\n  <Element marginX={4} paddingTop={6} {...props}>\n    <Stack align=\"center\" gap={2} marginBottom={4}>\n      <SkeletonText style={{ width: '32px', height: '32px', animationDelay }} />\n\n      <Stack direction=\"vertical\" gap={1}>\n        <SkeletonText\n          style={{ width: '120px', height: '14px', animationDelay }}\n        />\n        <SkeletonText\n          style={{ width: '120px', height: '14px', animationDelay }}\n        />\n      </Stack>\n    </Stack>\n\n    <Stack direction=\"vertical\" gap={1} marginBottom={6}>\n      <SkeletonText style={{ width: '100%', height: '14px', animationDelay }} />\n      <SkeletonText style={{ width: '100%', height: '14px', animationDelay }} />\n      <SkeletonText style={{ width: '100%', height: '14px', animationDelay }} />\n    </Stack>\n  </Element>\n);\n","import { ENTER, ESC } from '@codesandbox/common/lib/utils/keycodes';\nimport { hasPermission } from '@codesandbox/common/lib/utils/permission';\nimport {\n  Avatar,\n  Element,\n  IconButton,\n  Menu,\n  Stack,\n  Text,\n  Textarea,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { Markdown } from 'app/components/Markdown';\nimport {\n  DIALOG_TRANSITION_DURATION,\n  DIALOG_WIDTH,\n  REPLY_TRANSITION_DELAY,\n} from 'app/constants';\nimport { CommentFragment } from 'app/graphql/types';\nimport { useOvermind } from 'app/overmind';\nimport { OPTIMISTIC_COMMENT_ID } from 'app/overmind/namespaces/comments/state';\nimport { motion, useAnimation } from 'framer-motion';\nimport React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { createGlobalStyle } from 'styled-components';\n\nimport { AvatarBlock } from '../components/AvatarBlock';\nimport { EditComment } from '../components/EditComment';\nimport { Reply, SkeletonReply } from './Reply';\nimport { useScrollTop } from './use-scroll-top';\n\nexport const CommentDialog = props =>\n  ReactDOM.createPortal(<Dialog {...props} />, document.body);\n\nexport const Dialog: React.FC = () => {\n  const { state, actions } = useOvermind();\n  const controller = useAnimation();\n\n  const comment = state.comments.currentComment;\n  const replies = comment.comments;\n\n  // This comment doens't exist in the database, it's an optimistic comment\n  const isNewComment = comment.id === OPTIMISTIC_COMMENT_ID;\n\n  const [editing, setEditing] = useState(isNewComment);\n  const { ref: listRef, scrollTop } = useScrollTop();\n  const dialogRef = React.useRef();\n\n  const currentCommentPositions = state.comments.currentCommentPositions;\n  const isCodeComment =\n    comment.references[0] && comment.references[0].type === 'code';\n\n  // this could rather be `getInitialPosition`\n  const initialPosition = getInitialPosition(currentCommentPositions);\n\n  const [repliesRendered, setRepliesRendered] = React.useState(false);\n\n  // reset editing when comment changes\n  React.useEffect(() => {\n    setEditing(isNewComment);\n    // this could rather be `getAnimatedPosition`\n    const endPosition = getEndPosition(\n      currentCommentPositions,\n      isCodeComment,\n      dialogRef\n    );\n    controller.start({\n      ...endPosition,\n      scale: 1,\n      opacity: 1,\n    });\n  }, [\n    comment.id,\n    controller,\n    currentCommentPositions,\n    isCodeComment,\n    isNewComment,\n    repliesRendered,\n    comment.comments.length,\n  ]);\n\n  React.useEffect(() => {\n    setRepliesRendered(false);\n  }, [comment.id]);\n\n  const [dragging, setDragging] = React.useState(false);\n\n  const onDragHandlerPan = (deltaX: number, deltaY: number) => {\n    controller.set((_, target) => ({\n      x: Number(target.x) + deltaX,\n      y: Number(target.y) + deltaY,\n    }));\n    setDragging(true);\n  };\n\n  const onDragHandlerPanEnd = () => {\n    setDragging(false);\n  };\n\n  React.useEffect(() => {\n    const listener = event => {\n      if (event.which === ESC) {\n        actions.comments.closeComment();\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return () => document.removeEventListener('keydown', listener);\n  }, [actions.comments]);\n\n  if (!currentCommentPositions) {\n    return null;\n  }\n  return (\n    <>\n      {dragging && <Overlay />}\n      <motion.div\n        key={isCodeComment ? 'code' : 'global'}\n        initial={{ ...initialPosition, scale: 0.5, opacity: 0 }}\n        animate={controller}\n        transition={{ duration: DIALOG_TRANSITION_DURATION }}\n        style={{ position: 'absolute', zIndex: 2 }}\n      >\n        <Stack\n          ref={dialogRef}\n          direction=\"vertical\"\n          css={css({\n            position: 'absolute',\n            zIndex: 2,\n            backgroundColor: 'dialog.background',\n            color: 'dialog.foreground',\n            border: '1px solid',\n            borderColor: 'dialog.border',\n            borderRadius: 4,\n            width: DIALOG_WIDTH,\n            height: 'auto',\n            maxHeight: '80vh',\n            fontFamily: 'Inter, sans-serif',\n            overflow: 'hidden',\n            boxShadow: 2,\n          })}\n        >\n          {isNewComment && editing ? (\n            <DialogAddComment\n              comment={comment}\n              onSave={() => setEditing(false)}\n              onDragHandlerPan={onDragHandlerPan}\n              onDragHandlerPanEnd={onDragHandlerPanEnd}\n            />\n          ) : (\n            <>\n              <DragHandle\n                onPan={onDragHandlerPan}\n                onPanEnd={onDragHandlerPanEnd}\n              >\n                <DialogHeader comment={comment} hasShadow={scrollTop > 0} />\n              </DragHandle>\n              <Element as=\"div\" css={{ overflow: 'auto' }} ref={listRef}>\n                <CommentBody\n                  comment={comment}\n                  editing={editing}\n                  setEditing={setEditing}\n                  hasReplies={replies.length}\n                />\n\n                <Replies\n                  key={comment.id}\n                  replies={replies}\n                  replyCount={comment.replyCount}\n                  repliesRenderedCallback={() => setRepliesRendered(true)}\n                  listRef={listRef}\n                />\n              </Element>\n              <AddReply\n                comment={comment}\n                onSubmit={() => {\n                  // scroll to bottom of the list,\n                  // have to wait for it to load though :)\n                  window.requestAnimationFrame(() => {\n                    listRef.current.scrollTop = listRef.current.scrollHeight;\n                  });\n                }}\n              />\n            </>\n          )}\n        </Stack>\n      </motion.div>\n    </>\n  );\n};\n\nconst DialogAddComment: React.FC<{\n  comment: CommentFragment;\n  onSave: () => void;\n  onDragHandlerPan: (deltaX: number, deltaY: number) => void;\n  onDragHandlerPanEnd: () => void;\n}> = ({ comment, onSave, onDragHandlerPan, onDragHandlerPanEnd }) => {\n  const { actions } = useOvermind();\n  const [value, setValue] = useState('');\n\n  const saveComment = async () => {\n    await actions.comments.updateComment({\n      commentId: comment.id,\n      content: value,\n    });\n    setValue('');\n    onSave();\n  };\n\n  const closeDialog = () => actions.comments.closeComment();\n\n  return (\n    <Stack direction=\"vertical\" css={css({ paddingBottom: 4 })}>\n      <DragHandle onPan={onDragHandlerPan} onPanEnd={onDragHandlerPanEnd}>\n        <Stack\n          justify=\"space-between\"\n          marginY={4}\n          marginLeft={4}\n          marginRight={2}\n        >\n          <Stack gap={2} align=\"center\">\n            <Element\n              itemProp=\"author\"\n              itemScope\n              itemType=\"http://schema.org/Person\"\n            >\n              <Avatar user={comment.user} />\n            </Element>\n            <Text size={3} weight=\"bold\" variant=\"body\" itemProp=\"name\">\n              {comment.user.username}\n            </Text>\n          </Stack>\n          <IconButton\n            name=\"cross\"\n            size={10}\n            title=\"Close comment dialog\"\n            onClick={closeDialog}\n          />\n        </Stack>\n      </DragHandle>\n      <Textarea\n        autosize\n        autoFocus\n        css={css({\n          backgroundColor: 'transparent',\n          border: 'none',\n          paddingLeft: 4,\n        })}\n        style={{ lineHeight: 1.2, minHeight: 32 }}\n        value={value}\n        onChange={e => setValue(e.target.value)}\n        placeholder=\"Add comment...\"\n        onKeyDown={async event => {\n          if (event.keyCode === ENTER && !event.shiftKey) {\n            saveComment();\n            event.preventDefault();\n          }\n        }}\n      />\n    </Stack>\n  );\n};\n\n/** When the dialog is dragged outside the window\n *  It creates a scrollbar. We want to disable overflow\n *  when the drag handle is DOM\n */\n\nconst GlobalStyles = createGlobalStyle`\n  body { overflow: hidden; }\n`;\n\nconst DragHandle: React.FC<{\n  onPan: (deltaX: number, deltaY: number) => void;\n  onPanEnd: () => void;\n}> = ({ onPan, onPanEnd, children }) => (\n  <motion.div\n    onPan={(_, info) => {\n      onPan(info.delta.x, info.delta.y);\n    }}\n    onPanEnd={onPanEnd}\n    style={{ cursor: 'move', zIndex: 2 }}\n  >\n    <GlobalStyles />\n    {children}\n  </motion.div>\n);\n\nconst DialogHeader = ({ comment, hasShadow }) => {\n  const {\n    state: { editor, user },\n    actions: { comments },\n  } = useOvermind();\n\n  const closeDialog = () => comments.closeComment();\n\n  const canResolve =\n    hasPermission(editor.currentSandbox.authorization, 'write_project') ||\n    comment.user.id === user.id;\n\n  return (\n    <Stack\n      align=\"center\"\n      justify=\"space-between\"\n      padding={4}\n      paddingRight={2}\n      marginBottom={2}\n      css={css({\n        boxShadow: theme =>\n          hasShadow\n            ? `0px 32px 32px ${theme.colors.dialog.background}`\n            : 'none',\n        transition: 'box-shadow ease-in-out',\n        transitionDuration: theme => theme.speeds[1],\n      })}\n    >\n      <Text size={3} weight=\"bold\">\n        Comment\n      </Text>\n      <Stack align=\"center\">\n        {canResolve && (\n          <IconButton\n            onClick={() =>\n              comments.resolveComment({\n                commentId: comment.id,\n                isResolved: !comment.isResolved,\n              })\n            }\n            name=\"check\"\n            size={14}\n            title={comment.isResolved ? 'Unresolve Comment' : 'Resolve Comment'}\n            css={css({\n              transition: 'color',\n              transitionDuration: theme => theme.speeds[1],\n              color: comment.isResolved ? 'green' : 'mutedForeground',\n              ':hover:not(:disabled), :focus:not(:disabled)': {\n                color: comment.isResolved ? 'green' : 'foreground',\n              },\n            })}\n          />\n        )}\n        <IconButton\n          name=\"cross\"\n          size={10}\n          title=\"Close comment dialog\"\n          onClick={closeDialog}\n        />\n      </Stack>\n    </Stack>\n  );\n};\n\nconst CommentBody = ({ comment, editing, setEditing, hasReplies }) => {\n  const {\n    state,\n    actions: { comments },\n  } = useOvermind();\n  const isCommenter = state.user.id === comment.user.id;\n\n  return (\n    <Stack direction=\"vertical\" gap={4}>\n      <Stack\n        align=\"flex-start\"\n        justify=\"space-between\"\n        marginLeft={4}\n        marginRight={2}\n      >\n        <AvatarBlock comment={comment} />\n        <Stack align=\"center\">\n          <Menu>\n            <Menu.IconButton name=\"more\" title=\"Comment actions\" size={12} />\n            <Menu.List>\n              {isCommenter && (\n                <Menu.Item onSelect={() => setEditing(true)}>\n                  Edit Comment\n                </Menu.Item>\n              )}\n              <Menu.Item\n                onSelect={() => comments.copyPermalinkToClipboard(comment.id)}\n              >\n                Share Comment\n              </Menu.Item>\n              {isCommenter && (\n                <Menu.Item\n                  onSelect={() => {\n                    comments.closeComment();\n                    comments.deleteComment({\n                      commentId: comment.id,\n                    });\n                  }}\n                >\n                  Delete\n                </Menu.Item>\n              )}\n            </Menu.List>\n          </Menu>\n        </Stack>\n      </Stack>\n      <Element\n        marginY={0}\n        marginX={4}\n        paddingBottom={6}\n        css={css({\n          borderBottom: hasReplies ? '1px solid' : 'none',\n          borderColor: 'sideBar.border',\n        })}\n      >\n        {!editing ? (\n          <Element itemProp=\"text\">\n            <Markdown source={comment.content} />\n          </Element>\n        ) : (\n          <EditComment\n            initialValue={comment.content}\n            onSave={async newValue => {\n              await comments.updateComment({\n                commentId: comment.id,\n                content: newValue,\n              });\n              setEditing(false);\n            }}\n            onCancel={() => setEditing(false)}\n          />\n        )}\n      </Element>\n    </Stack>\n  );\n};\n\nconst Replies = ({ replies, replyCount, listRef, repliesRenderedCallback }) => {\n  /**\n   * Loading animations:\n   * 0. Wait for the dialog to have animated in view and scaled up.\n   * 1. If replies have not loaded yet - show skeleton with 146px height,\n   * when the comments load, replace skeleton with replies and\n   * transition to height auto\n   * 2. If replies are already there - show replies with 0px height,\n   * transition to height: auto\n   *\n   */\n\n  // initial status of replies -\n  // this is false when it's the first time this specific comment is opened\n  // after that it will be true because we cache replies in state\n  const repliesLoaded = replies.length === replyCount;\n  const repliesAlreadyLoadedOnFirstRender = React.useRef(repliesLoaded);\n\n  /** CONSTANTS:\n   * Wait another <delay> after the dialog has transitioned into view\n   * These are in s not ms\n   */\n  const delay = DIALOG_TRANSITION_DURATION + REPLY_TRANSITION_DELAY;\n  const SKELETON_FADE_DURATION = 0.25;\n  const SKELETON_HEIGHT = 146;\n  const REPLY_TRANSITION_DURATION = repliesLoaded\n    ? 0\n    : Math.max(replyCount * 0.15, 0.5);\n\n  // current status of replies-\n  /** Welcome to the imperative world of timeline animations\n   *\n   * -------------------------------------------------------\n   * |             |             |           |           |\n   * t=0         t=R1           t=1        t=R2         t=2\n   *\n   * Legend:\n   * t=0 DOM has rendered, animations can be started\n   * t=1 Dialog's enter animation has completed, replies animations can start\n   * t=2 Replies animation have started\n   * t=R1 Replies have loaded before t=1\n   * t=R2 Replies have loaded after t=1\n   *\n   */\n\n  const [T, setStepInTimeline] = React.useState(-1);\n  const skeletonController = useAnimation();\n  const repliesController = useAnimation();\n\n  /*\n   * T = 0 (DOM has rendered, animations can be started)\n   * If there are no replies, skip all of the animations\n   * If replies aren't loaded, show skeleton\n   * If replies are loaded, do nothing and wait for next animation\n   * */\n  React.useEffect(() => {\n    if (!replyCount) {\n      // If the dialog is already open without any replies,\n      // just skip all of the animations for opening transitions\n      repliesController.set({ opacity: 1, height: 'auto' });\n      setStepInTimeline(2);\n    } else if (!repliesAlreadyLoadedOnFirstRender.current && T === -1) {\n      skeletonController.set({ height: SKELETON_HEIGHT, opacity: 1 });\n      setStepInTimeline(0);\n    }\n  }, [\n    skeletonController,\n    repliesController,\n    replies.length,\n    T,\n    replyCount,\n    repliesRenderedCallback,\n  ]);\n\n  /**\n   * T = 1 (Dialog's enter animation has completed, hence the delay)\n   * If replies have loaded, remove skeleton, transition the replies\n   * If replies have not loaded, do nothing and wait for next animation\n   */\n  React.useEffect(() => {\n    const timeout = window.setTimeout(() => {\n      if (T >= 1) return; // can't go back in time\n\n      if (repliesLoaded) {\n        skeletonController.set({ position: 'absolute' });\n        skeletonController.start({\n          height: 0,\n          opacity: 0,\n          transition: { duration: SKELETON_FADE_DURATION },\n        });\n        repliesController.set({ opacity: 1 });\n        repliesController\n          .start({\n            height: 'auto',\n            transition: { duration: REPLY_TRANSITION_DURATION },\n          })\n          .then(() => {\n            repliesRenderedCallback();\n          });\n\n        setStepInTimeline(2);\n      } else {\n        setStepInTimeline(1);\n      }\n    }, delay * 1000);\n    return () => window.clearTimeout(timeout);\n  }, [\n    skeletonController,\n    repliesController,\n    repliesLoaded,\n    delay,\n    REPLY_TRANSITION_DURATION,\n    T,\n    repliesRenderedCallback,\n  ]);\n\n  /**\n   * T = R1 or R2 (Replies have now loaded)\n   * this is a parralel async process and can happen before or after t=1\n   * If it's before T=1, do nothing, wait for T=1\n   * If it's after T=1, start replies transition now!\n   */\n  React.useEffect(() => {\n    if (!repliesLoaded) {\n      // do nothing, wait for T=1\n    } else if (T === 1) {\n      skeletonController.start({\n        height: 0,\n        opacity: 0,\n        transition: { duration: REPLY_TRANSITION_DURATION },\n      });\n      repliesController.set({ opacity: 1 });\n      repliesController.start({\n        height: 'auto',\n        transition: { duration: REPLY_TRANSITION_DURATION },\n      });\n      setStepInTimeline(2);\n    }\n  }, [\n    T,\n    repliesLoaded,\n    REPLY_TRANSITION_DURATION,\n    skeletonController,\n    repliesController,\n  ]);\n\n  React.useEffect(() => {\n    // when the animations are done, scroll to last reply\n    let timeout;\n\n    if (T === 2) {\n      timeout = window.setTimeout(() => {\n        listRef.current.scrollTo({\n          top: listRef.current.scrollHeight,\n          behavior: 'smooth',\n        });\n      }, REPLY_TRANSITION_DURATION * 1000);\n    }\n\n    return () => window.clearTimeout(timeout);\n  }, [T, listRef, REPLY_TRANSITION_DURATION]);\n\n  return (\n    <>\n      <motion.div\n        initial={{ height: 0, opacity: 0, overflow: 'hidden' }}\n        animate={skeletonController}\n      >\n        <SkeletonReply />\n      </motion.div>\n\n      <motion.ul\n        initial={{ height: 0, opacity: 0 }}\n        animate={repliesController}\n        style={{\n          overflow: 'visible',\n          paddingLeft: 0,\n          margin: 0,\n          listStyle: 'none',\n        }}\n      >\n        <>\n          {replies.map(\n            reply => reply && <Reply reply={reply} key={reply.id} />\n          )}\n        </>\n      </motion.ul>\n    </>\n  );\n};\n\nconst AddReply = ({ comment, ...props }) => {\n  const { actions } = useOvermind();\n  const [value, setValue] = useState('');\n\n  const onSubmit = e => {\n    e.preventDefault();\n    actions.comments.addComment({\n      content: value,\n      parentCommentId: comment.id,\n    });\n    setValue('');\n    if (props.onSubmit) props.onSubmit();\n  };\n\n  return (\n    <Textarea\n      autosize\n      css={css({\n        backgroundColor: 'transparent',\n        border: 'none',\n        borderTop: '1px solid',\n        borderColor: 'sideBar.border',\n        borderRadius: 0,\n        padding: 4,\n      })}\n      style={{ lineHeight: 1.2, minHeight: 54 }}\n      value={value}\n      onChange={e => setValue(e.target.value)}\n      placeholder=\"Reply...\"\n      onKeyDown={e => {\n        if (e.keyCode === ENTER && !e.shiftKey) {\n          onSubmit(e);\n        }\n      }}\n    />\n  );\n};\n\n/** We use an transparent overlay when dragging\n *  so that we can stop selection of the text\n *  in the background when your drag the dialog.\n */\nconst Overlay = () => (\n  <Element\n    as=\"div\"\n    css={{\n      position: 'absolute',\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      zIndex: 1,\n    }}\n  />\n);\n\n// trying to match the position for code comments\nconst FALLBACK_POSITION = { x: 800, y: 120 };\n\nconst getInitialPosition = currentCommentPositions => {\n  let animateFrom = { x: null, y: null };\n\n  if (currentCommentPositions?.trigger) {\n    animateFrom = {\n      x: currentCommentPositions.trigger.left,\n      y: currentCommentPositions.trigger.top,\n    };\n  } else {\n    // if we don't know the trigger, slide in from left\n    // probably comment from permalink\n    animateFrom = {\n      x: 0,\n      y: FALLBACK_POSITION.y,\n    };\n  }\n\n  return animateFrom;\n};\n\nconst getEndPosition = (currentCommentPositions, isCodeComment, dialogRef) => {\n  const OVERLAP_WITH_SIDEBAR = -20;\n  const OFFSET_TOP_FOR_ALIGNMENT = -90;\n  const OFFSET_FOR_CODE = 500;\n\n  let dialogPosition = { x: null, y: null };\n\n  if (currentCommentPositions?.dialog) {\n    // if we know the expected dialog position\n    // true for comments with code reference\n    dialogPosition = {\n      x: currentCommentPositions.dialog.left + OFFSET_FOR_CODE,\n      y: currentCommentPositions.dialog.top + OFFSET_TOP_FOR_ALIGNMENT,\n    };\n  } else if (currentCommentPositions?.trigger) {\n    // if don't know, we calculate based on the trigger\n    // true for comments opened from the sidebar (both global and code)\n\n    if (isCodeComment) {\n      dialogPosition = {\n        x: currentCommentPositions.trigger.right + OFFSET_FOR_CODE,\n        y: currentCommentPositions.trigger.top + OFFSET_TOP_FOR_ALIGNMENT,\n      };\n    } else {\n      dialogPosition = {\n        x: currentCommentPositions.trigger.right + OVERLAP_WITH_SIDEBAR,\n        y: currentCommentPositions.trigger.top + OFFSET_TOP_FOR_ALIGNMENT,\n      };\n    }\n  } else {\n    // if we know neither, we put it at  nice spot on the page\n    // probably comment from permalink\n    dialogPosition = { ...FALLBACK_POSITION };\n  }\n\n  // check for window colisions here and offset positions more\n  let finalHeight;\n\n  if (dialogRef.current) {\n    /** Even when we have the rect, we don't always know\n     * if it's in it's final height while it's animating\n     *\n     * We do know that it animates from 0.5 to 1, so those are the\n     * 2 values we might get, based on that we can double the initial\n     * height to get final height\n     *\n     */\n\n    const dialogRect = dialogRef.current.getBoundingClientRect();\n\n    const animatingElement = dialogRef.current.parentElement;\n    const scale = animatingElement.style.transform;\n\n    finalHeight = scale.includes('scale(0.5')\n      ? dialogRect.height * 2\n      : dialogRect.height;\n  } else {\n    /** Until the ref is set, we don't know enough,\n     * so we're guessing on the safe side\n     */\n    finalHeight = 420;\n  }\n\n  /** The parent of this dialog is starts at 48px\n   * This will change when we move the comment out!\n   */\n  const PARENT_Y_OFFSET = 48;\n\n  const BUFFER_FROM_EDGE = 32;\n\n  const maxLeft = window.innerWidth - DIALOG_WIDTH - BUFFER_FROM_EDGE;\n  const maxTop =\n    window.innerHeight - finalHeight - BUFFER_FROM_EDGE - PARENT_Y_OFFSET;\n\n  if (dialogPosition.x > maxLeft) dialogPosition.x = maxLeft;\n  if (dialogPosition.y > maxTop) dialogPosition.y = maxTop;\n\n  return dialogPosition;\n};\n","import React from 'react';\n\nconst useScrollTop = () => {\n  const ref = React.useRef(null);\n  const [scrollTop, setScrollTop] = React.useState(0);\n\n  React.useEffect(() => {\n    const element = ref.current;\n\n    const handleScroll = (event: React.UIEvent<HTMLElement>) => {\n      setScrollTop(event.currentTarget.scrollTop);\n    };\n\n    if (element) {\n      element.addEventListener('scroll', handleScroll);\n    }\n\n    return () => {\n      if (element) {\n        element.removeEventListener('scroll', handleScroll);\n      }\n    };\n  }, []);\n\n  return { scrollTop, ref };\n};\n\nexport { useScrollTop };\n","// This file imports the necessary files that allow for the comments to be used in the outside world as a plug API\nimport React from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { CommentsGlobalStyles } from './components/GlobalStyles';\nimport { MultiComment } from './components/MultiComment';\nimport { CommentDialog } from './Dialog';\n\nexport const CommentsAPI = () => {\n  const {\n    state: { comments },\n  } = useOvermind();\n\n  return (\n    <>\n      <CommentsGlobalStyles />\n      {comments.currentCommentId && comments.currentComment ? (\n        <CommentDialog />\n      ) : null}\n      {comments.multiCommentsSelector && (\n        <MultiComment {...comments.multiCommentsSelector} />\n      )}\n    </>\n  );\n};\n","import Fullscreen from '@codesandbox/common/lib/components/flex/Fullscreen';\nimport getTemplateDefinition from '@codesandbox/common/lib/templates';\nimport codesandbox from '@codesandbox/common/lib/themes/codesandbox.json';\nimport {\n  ThemeProvider as ComponentsThemeProvider,\n  Stack,\n  Element,\n} from '@codesandbox/components';\nimport css from '@styled-system/css';\nimport { useOvermind } from 'app/overmind';\nimport { templateColor } from 'app/utils/template-color';\nimport React, { useEffect, useRef, useState } from 'react';\nimport SplitPane from 'react-split-pane';\nimport styled, { ThemeProvider } from 'styled-components';\nimport VERSION from '@codesandbox/common/lib/version';\nimport VisuallyHidden from '@reach/visually-hidden';\n\nimport Content from './Content';\nimport { Container } from './elements';\nimport ForkFrozenSandboxModal from './ForkFrozenSandboxModal';\nimport { Header } from './Header';\nimport { Navigation } from './Navigation';\nimport { ContentSkeleton } from './Skeleton';\nimport getVSCodeTheme from './utils/get-vscode-theme';\nimport { Workspace } from './Workspace';\nimport { CommentsAPI } from './Workspace/screens/Comments/API';\n\nconst STATUS_BAR_SIZE = 22;\n\nconst StatusBar = styled.div`\n  a {\n    color: inherit;\n  }\n`;\n\nconst Editor = () => {\n  const { state, actions, effects, reaction } = useOvermind();\n  const statusbarEl = useRef(null);\n  const [showSkeleton, setShowSkeleton] = useState(\n    !state.editor.hasLoadedInitialModule\n  );\n  const [localState, setLocalState] = useState({\n    theme: {\n      colors: {},\n      vscodeTheme: codesandbox,\n    },\n    customVSCodeTheme: null,\n  });\n\n  useEffect(() => {\n    let timeout;\n    const dispose = reaction(\n      reactionState => reactionState.editor.hasLoadedInitialModule,\n      () => {\n        timeout = setTimeout(() => setShowSkeleton(false), 500);\n      }\n    );\n    return () => {\n      dispose();\n      clearTimeout(timeout);\n    };\n  }, [reaction]);\n\n  useEffect(() => {\n    async function loadTheme() {\n      const vsCodeTheme = state.preferences.settings.customVSCodeTheme;\n\n      try {\n        const t = await getVSCodeTheme('', vsCodeTheme);\n        setLocalState({ theme: t, customVSCodeTheme: vsCodeTheme });\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    if (\n      localState.customVSCodeTheme !==\n      state.preferences.settings.customVSCodeTheme\n    ) {\n      loadTheme();\n    }\n  }, [\n    localState.customVSCodeTheme,\n    state.preferences.settings.customVSCodeTheme,\n  ]);\n\n  useEffect(() => {\n    statusbarEl.current.appendChild(effects.vscode.getStatusbarElement());\n  }, [effects.vscode]);\n\n  const sandbox = state.editor.currentSandbox;\n  const hideNavigation =\n    state.preferences.settings.zenMode && state.workspace.workspaceHidden;\n  const { statusBar } = state.editor;\n\n  const templateDef = sandbox && getTemplateDefinition(sandbox.template);\n\n  const topOffset = state.preferences.settings.zenMode ? 0 : 3 * 16;\n  const bottomOffset = STATUS_BAR_SIZE;\n\n  return (\n    <ThemeProvider\n      theme={{\n        templateColor: templateColor(sandbox, templateDef as any),\n        templateBackgroundColor: templateDef && templateDef.backgroundColor,\n        ...localState.theme,\n      }}\n    >\n      <Container\n        style={{ lineHeight: 'initial', backgroundColor: 'transparent' }}\n        className=\"monaco-workbench\"\n      >\n        {state.preferences.settings.zenMode ? null : (\n          <ComponentsThemeProvider theme={localState.theme.vscodeTheme}>\n            <Header />\n          </ComponentsThemeProvider>\n        )}\n\n        <Fullscreen style={{ width: 'initial' }}>\n          {!hideNavigation && (\n            <ComponentsThemeProvider theme={localState.theme.vscodeTheme}>\n              <Navigation topOffset={topOffset} bottomOffset={bottomOffset} />\n            </ComponentsThemeProvider>\n          )}\n\n          <div\n            style={{\n              position: 'fixed',\n              left: hideNavigation ? 0 : 'calc(3.5rem + 1px)',\n              top: topOffset,\n              right: 0,\n              bottom: bottomOffset,\n              height: statusBar ? 'auto' : 'calc(100% - 3.5rem)',\n              zIndex: 9,\n            }}\n          >\n            <SplitPane\n              split=\"vertical\"\n              defaultSize={17 * 16}\n              minSize={0}\n              resizerStyle={state.editor.isLoading ? { display: 'none' } : null}\n              onDragStarted={() => actions.editor.resizingStarted()}\n              onDragFinished={() => actions.editor.resizingStopped()}\n              onChange={size => {\n                if (size > 0 && state.workspace.workspaceHidden) {\n                  actions.workspace.setWorkspaceHidden({ hidden: false });\n                } else if (size === 0 && !state.workspace.workspaceHidden) {\n                  actions.workspace.setWorkspaceHidden({ hidden: true });\n                }\n              }}\n              pane1Style={{\n                minWidth: state.workspace.workspaceHidden ? 0 : 190,\n                visibility: state.workspace.workspaceHidden\n                  ? 'hidden'\n                  : 'visible',\n                maxWidth: state.workspace.workspaceHidden ? 0 : 400,\n              }}\n              pane2Style={{\n                height: '100%',\n              }}\n              style={{\n                overflow: 'visible', // For VSCode Context Menu\n              }}\n            >\n              {state.workspace.workspaceHidden ? <div /> : <Workspace />}\n              {<Content theme={localState.theme} />}\n            </SplitPane>\n            {showSkeleton ? (\n              <ComponentsThemeProvider theme={localState.theme.vscodeTheme}>\n                <ContentSkeleton\n                  style={\n                    state.editor.hasLoadedInitialModule\n                      ? {\n                          opacity: 0,\n                        }\n                      : {\n                          opacity: 1,\n                        }\n                  }\n                />\n              </ComponentsThemeProvider>\n            ) : null}\n          </div>\n\n          <ComponentsThemeProvider theme={localState.theme.vscodeTheme}>\n            <Stack\n              justify=\"space-between\"\n              align=\"center\"\n              className=\".monaco-workbench\"\n              css={css({\n                backgroundColor: 'statusBar.background',\n                color: 'statusBar.foreground',\n                position: 'fixed',\n                display: statusBar ? 'flex' : 'none',\n                bottom: 0,\n                right: 0,\n                left: 0,\n                width: '100%',\n                height: STATUS_BAR_SIZE,\n              })}\n            >\n              <FakeStatusBarText>{VERSION.split('-').pop()}</FakeStatusBarText>\n              <StatusBar\n                className=\"monaco-workbench mac nopanel\"\n                ref={statusbarEl}\n                style={{ width: 'calc(100% - 126px)' }}\n              />\n            </Stack>\n          </ComponentsThemeProvider>\n        </Fullscreen>\n\n        <ForkFrozenSandboxModal />\n      </Container>\n      <ComponentsThemeProvider theme={localState.theme.vscodeTheme}>\n        <CommentsAPI />\n      </ComponentsThemeProvider>\n    </ThemeProvider>\n  );\n};\n\nexport default Editor;\n\n/** To use the same styles + behavior of the vscode status bar,\n *  we recreate the html structure outside of the status bar\n *  the code is garbage\n */\n/* eslint-disable */\nconst FakeStatusBarText = props => {\n  const [copied, setCopied] = React.useState(false);\n\n  const copyText = () => {\n    const inputElement = document.querySelector('#status-bar-version');\n    // @ts-ignore it's not even a button!\n    inputElement.select();\n    document.execCommand('copy');\n    setCopied(true);\n    window.setTimeout(() => setCopied(false), 2000);\n  };\n\n  return (\n    <Element\n      as=\"span\"\n      className=\"part statusbar\"\n      css={css({\n        width: 'auto !important',\n        minWidth: '120px',\n        color: 'statusBar.foreground',\n      })}\n      {...props}\n    >\n      <span className=\"statusbar-item\" style={{ paddingLeft: '10px' }}>\n        <a\n          title=\"Copy version\"\n          style={{ color: 'inherit', padding: '0 5px' }}\n          onClick={copyText}\n        >\n          {copied ? 'Copied!' : props.children}\n        </a>\n\n        <VisuallyHidden>\n          <input id=\"status-bar-version\" defaultValue={props.children} />\n        </VisuallyHidden>\n      </span>\n    </Element>\n  );\n};\n/* eslint-enable */\n","import JSON from 'json5';\n\nimport codesandbox from '@codesandbox/common/lib/themes/codesandbox.json';\n\nimport themes from '@codesandbox/common/lib/themes';\nimport { notificationState } from '@codesandbox/common/lib/utils/notifications';\nimport { NotificationStatus } from '@codesandbox/notifications';\n\nconst editorBackground = 'editor.background';\nconst editorForeground = 'editor.foreground';\nconst editorInactiveSelection = 'editor.inactiveSelectionBackground';\nconst editorIndentGuides = 'editorIndentGuide.background';\nconst editorActiveIndentGuides = 'editorIndentGuide.activeBackground';\nconst editorSelectionHighlight = 'editor.selectionHighlightBackground';\n\nconst vs = {\n  [editorBackground]: '#FFFFFE',\n  [editorForeground]: '#000000',\n  [editorInactiveSelection]: '#E5EBF1',\n  [editorIndentGuides]: '#D3D3D3',\n  [editorActiveIndentGuides]: '#939393',\n  [editorSelectionHighlight]: '#ADD6FF4D',\n  'titleBar.activeBackground': '#eee',\n  'titleBar.activeForeground': '#939393',\n};\nconst vsDark = {\n  [editorBackground]: '#1E1E1E',\n  [editorForeground]: '#D4D4D4',\n  [editorInactiveSelection]: '#3A3D41',\n  [editorIndentGuides]: '#404040',\n  [editorActiveIndentGuides]: '#707070',\n  [editorSelectionHighlight]: '#ADD6FF26',\n};\n\n// parses theme, uncommenting commented colors\n// and using json5 to strip comments\nfunction parseTheme(theme) {\n  return JSON.parse(theme.replace(/^\\s*\\/\\/\"/gm, '\"'));\n}\n\nfunction fetchTheme(foundTheme) {\n  if (!foundTheme) {\n    return codesandbox;\n  }\n\n  if (foundTheme.content) {\n    return foundTheme.content;\n  }\n\n  if (foundTheme.get) {\n    return foundTheme.get();\n  }\n\n  return window\n    .fetch(foundTheme.url)\n    .then(x => x.text())\n    .then(text => {\n      let theme;\n      try {\n        theme = parseTheme(text);\n      } catch (e) {\n        console.error(e);\n\n        notificationState.addNotification({\n          message: 'We had trouble loading the theme, error: \\n' + e.message,\n          status: NotificationStatus.ERROR,\n        });\n      }\n      return theme;\n    });\n}\n\nconst findTheme = async (themeName, customTheme) => {\n  if (customTheme) {\n    try {\n      return parseTheme(customTheme);\n    } catch (e) {\n      console.error(e);\n\n      notificationState.addNotification({\n        message:\n          'We had trouble parsing your custom VSCode Theme, error: \\n' +\n          e.message,\n        status: NotificationStatus.ERROR,\n      });\n    }\n  }\n\n  const foundTheme = themes.find(t => t.name === themeName);\n\n  const fetchedTheme = await fetchTheme(foundTheme);\n\n  return {\n    ...fetchedTheme,\n    type: (foundTheme && foundTheme.type) || fetchedTheme.type,\n  };\n};\n\nconst classnames = {\n  dark: 'vs-dark',\n  light: 'vs',\n  hc: 'hc-black',\n};\n\nexport default async function getTheme(themeName, customTheme) {\n  const foundTheme = await findTheme(themeName, customTheme);\n  // Explicitly check for dark as that is the default\n  const isLight = foundTheme.type !== 'dark' && foundTheme.type !== 'hc';\n  // We need to set this so VSCode knows that the last known theme is the right one. This prevents\n  // flickering for light themes.\n  document.body.classList.remove('vs');\n  document.body.classList.remove('vs-dark');\n  document.body.classList.remove('hc-black');\n  document.body.classList.add(classnames[foundTheme.type] || 'vs');\n\n  const colors = {\n    ...(isLight ? vs : vsDark),\n    ...foundTheme.colors,\n  };\n\n  const theme = {\n    ...foundTheme,\n    colors,\n  };\n\n  document.body.style.background = theme.colors['editor.background'];\n  return {\n    ...theme.colors,\n    light: isLight,\n    vscodeTheme: theme,\n  };\n}\n","import { createGlobalStyle, css } from 'styled-components';\n\nconst styles = css`\n  ${({ theme }) => css`\n    body {\n      .ais-SearchBox-form {\n        position: relative;\n        margin-bottom: 24px;\n      }\n\n      .ais-RefinementList-searchBox .ais-SearchBox-input {\n        background: ${theme.background5};\n        width: 100%;\n      }\n\n      .ais-RefinementList-searchBox .ais-SearchBox-form .ais-SearchBox-submit {\n        height: 33px;\n      }\n\n      .ais-SearchBox-input {\n        transition: 0.3s ease border-color;\n        position: relative;\n        background: ${theme.background2};\n        border: 2px solid ${theme.background2};\n        border-radius: 4px;\n        outline: none;\n        color: white;\n        padding: 0.5em;\n        padding-left: 2em;\n        width: inherit;\n        box-sizing: border-box;\n        font-size: 1.125em;\n        font-weight: 500;\n        width: calc(100% - 170px);\n      }\n\n      .ais-SearchBox-input::placeholder {\n        display: flex;\n        align-items: center;\n        color: ${theme.placeholder};\n      }\n\n      .ais-SearchBox-input:focus {\n        border-color: rgba(108, 174, 221, 0.5);\n      }\n\n      .ais-SearchBox-form .ais-SearchBox-submit {\n        position: absolute;\n        height: 42px;\n        top: auto;\n        bottom: 0;\n        right: inherit;\n        left: 0;\n        margin: 0;\n        border: 0;\n        border-radius: 3px 0 0 3px;\n        background-color: rgba(255, 255, 255, 0);\n        padding: 0;\n        width: 32px;\n        vertical-align: middle;\n        text-align: center;\n        font-size: inherit;\n        user-select: none;\n        padding-left: 4px;\n        padding-bottom: 2px;\n\n        svg {\n          margin: 6px;\n          width: 14px;\n          height: 14px;\n          vertical-align: middle;\n          fill: rgba(255, 255, 255, 0.5);\n        }\n\n        &::before {\n          display: inline-block;\n          margin-right: -4px;\n          height: 100%;\n          vertical-align: middle;\n          content: '' 2;\n        }\n\n        &:focus {\n          outline: 0;\n        }\n      }\n\n      .ais-SearchBox-submit .ais-SearchBox-submit:hover,\n      .ais-SearchBox-submit:active {\n        cursor: pointer;\n      }\n\n      .ais-SearchBox-reset {\n        display: none;\n      }\n\n      .ais-Highlight-highlighted {\n        color: #ffd399;\n        font-style: normal;\n      }\n\n      .ais-RefinementList-item {\n        color: rgba(255, 255, 255, 0.8);\n        margin-top: 6px;\n\n        .ais-RefinementList-checkbox {\n          display: inline-block;\n          border-radius: 3.5px;\n          width: 16px;\n          height: 16px;\n          background: rgba(0, 0, 0, 0.3);\n          outline: none;\n          vertical-align: middle;\n          margin-right: 8px;\n          transition: all 0.15s ease;\n        }\n      }\n\n      .ais-RefinementList-item input[type='checkbox']:checked {\n        background-color: ${theme.secondary};\n        /* background-image: url(\"data:image/svg+xml,%0A%3Csvg width='11px' height='8px' viewBox='0 0 11 8' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0.200000003' stroke-linecap='round' stroke-linejoin='round'%3E%3Cg id='SVG-Layer' transform='translate(1.500000, 0.500000)' fill='%23FFFFFF' stroke='%231C2022' stroke-width='1.6'%3E%3Cpolyline id='Path' points='0 3.88 2.378 6.315 8.046 0.6'%3E%3C/polyline%3E%3C/g%3E%3C/g%3E%3C/svg%3E\"); */\n        background-position: 50% 4px;\n        background-repeat: no-repeat;\n        border-color: ${theme.secondary};\n        box-shadow: none;\n      }\n\n      .ais-RefinementList-item:hover .ais-RefinementList-checkbox {\n        box-shadow: inset 0 0 0 1px rgba(108, 174, 221, 0.3);\n      }\n\n      .ais-RefinementList-label {\n        cursor: pointer;\n        font-weight: 300;\n      }\n\n      .ais-RefinementList-item--selected .ais-RefinementList-label {\n        cursor: pointer;\n        font-weight: 500;\n      }\n\n      .ais-RefinementList-item--selected .ais-RefinementList-count {\n        font-weight: 600;\n        color: white;\n      }\n\n      .ais-RefinementList-item--selected .ais-RefinementList-count {\n        background-color: ${theme.secondary};\n      }\n\n      .ais-RefinementList-count {\n        border-radius: 2px;\n        background-color: rgba(0, 0, 0, 0.2);\n        float: right;\n        color: rgba(255, 255, 255, 0.2);\n        font-weight: 500;\n        font-size: 12px;\n        padding: 3px 10px;\n      }\n\n      .ais-RefinementList-showMore {\n        background: transparent;\n        border: none;\n        cursor: pointer;\n        padding: 0;\n        margin: 0;\n        color: rgba(255, 255, 255, 0.8);\n        margin-top: 1rem;\n        font-weight: normal;\n      }\n\n      .ais-RefinementList__showMoreDisabled[disabled],\n      .ais-RefinementList__showMoreDisabled:disabled {\n        opacity: 0.5;\n        pointer-events: none;\n      }\n\n      .ais-ClearRefinements .ais-ClearRefinements-button {\n        cursor: pointer;\n        padding: 4px 8px;\n        border-radius: 4px;\n        border: none;\n        font-size: 12px;\n        box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.25);\n        border-radius: 4px;\n        color: white;\n        background: ${theme.secondary};\n\n        &:disabled[disabled],\n        &:disabled:disabled {\n          opacity: 0.5;\n          pointer-events: none;\n        }\n      }\n\n      .ais-PoweredBy {\n        padding: 0;\n        display: flex;\n        float: right;\n        border-radius: 2px;\n        color: rgba(255, 255, 255, 0.8);\n        margin-top: 8px;\n        padding: 5px 7px;\n        padding-right: 0;\n        margin-right: -4px;\n\n        .ais-PoweredBy-link {\n          padding: 0 5px;\n          svg {\n            height: 1.2em;\n            vertical-align: bottom;\n            fill: rgba(255, 255, 255, 0.8);\n\n            path:nth-child(4) {\n              fill: rgba(255, 255, 255, 0.8);\n            }\n          }\n        }\n      }\n\n      .ais-Pagination {\n        width: auto;\n        margin: 0 auto;\n        box-sizing: border-box;\n        display: inline-block;\n        border-radius: 4px;\n        padding: 8px 16px;\n\n        .ais-Pagination-item {\n          transition: 0.3s ease all;\n          display: inline-block;\n          padding: 3px;\n          width: 28px;\n          border-radius: 4px;\n          text-align: center;\n          font-size: 14px;\n          font-weight: bold;\n        }\n\n        .ais-Pagination-item:hover {\n          background: rgba(108, 174, 221, 0.2);\n        }\n\n        .ais-Pagination-item.ais-Pagination-item--selected.ais-Pagination-item--page:hover {\n          background: ${theme.secondary};\n        }\n\n        .ais-Pagination-item.ais-Pagination-item--selected.ais-Pagination-item--page:hover\n          .ais-Pagination-link.ais-Pagination__itemLinkSelected {\n          color: white;\n        }\n\n        .ais-Pagination__item:hover .ais-Pagination-link {\n          color: ${theme.secondary};\n        }\n\n        .ais-Pagination-item--selected {\n          color: ${theme.white};\n          background: ${theme.secondary};\n        }\n\n        .ais-Pagination-item--selected .ais-Pagination-link {\n          color: currentColor;\n        }\n\n        .ais-Pagination-item--disabled {\n          visibility: visible;\n          color: #bbbbbb;\n        }\n\n        .ais-Pagination-item--disabled[disabled],\n        .ais-Pagination-item--disabled:disabled {\n          opacity: 0.5;\n          pointer-events: none;\n        }\n\n        .ais-Pagination-item--disabled:hover {\n          cursor: default;\n          text-decoration: none;\n        }\n\n        .ais-Pagination-link {\n          text-decoration: none;\n          color: rgba(255, 255, 255, 0.5);\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n      }\n\n      .ais-Stats {\n        display: inline-block;\n\n        .ais-Stats-text {\n          color: ${theme.placeholder};\n        }\n      }\n\n      [type='checkbox'],\n      [type='radio'] {\n        appearance: none;\n        outline-offset: -2px;\n      }\n\n      .ais-SortBy-select {\n        transition: 0.3s ease border-color;\n        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciICB2aWV3Qm94PSIwIDAgNC45NSAxMCI+PHBhdGggZmlsbD0id2hpdGUiIGQ9Ik0xLjQxIDQuNjdsMS4wNy0xLjQ5IDEuMDYgMS40OUgxLjQxek0zLjU0IDUuMzNMMi40OCA2LjgyIDEuNDEgNS4zM2gyLjEzeiI+PC9wYXRoPjwvc3ZnPg==);\n        background-color: rgba(0, 0, 0, 0.3);\n        background-position: right;\n        background-repeat: no-repeat;\n        width: 100%;\n        color: white;\n        border: none;\n        outline: none;\n        border-radius: 4px;\n        padding: 0.2em 1em 0.2em 0.2em;\n        box-sizing: border-box;\n        font-weight: 400;\n        height: 1.75em;\n        appearance: none;\n        border: 1px solid rgba(0, 0, 0, 0.1);\n      }\n\n      .ais-Hits .ais-Hits-list {\n        display: grid;\n        grid-gap: 2rem;\n        grid-template-columns: 1fr 1fr 1fr;\n        margin-top: 2rem;\n        margin-left: -0.5rem;\n        margin-right: 0.5rem;\n\n        @media screen and (max-width: 1100px) {\n          grid-template-columns: 1fr 1fr;\n        }\n\n        @media screen and (max-width: 900px) {\n          grid-template-columns: 1fr;\n        }\n      }\n\n      @media screen and (min-width: 1100px) {\n        .ais-Hits-item {\n          > div {\n            > img {\n              height: 147px !important;\n            }\n          }\n        }\n      }\n    }\n  `};\n`;\n\nexport default createGlobalStyle`\n  ${styles}\n`;\n","import React from 'react';\nimport { Element, Text } from '@codesandbox/components';\nimport { css } from '@styled-system/css';\n\nexport const LeftSide = () => (\n  <Element\n    padding={8}\n    css={css({\n      color: 'white',\n      backgroundColor: 'grays.800',\n      lineHeight: 1.2,\n      '@media screen and (max-width: 779px)': {\n        display: 'none',\n      },\n    })}\n  >\n    <Text weight=\"bold\" size={5} paddingBottom={9} block>\n      Join millions of people prototyping whats next\n    </Text>\n    <Text block marginBottom={2} variant=\"muted\">\n      <Text variant=\"active\" paddingRight={1}>\n        \n      </Text>\n      Code Anywhere\n      <Text size={3} block marginTop={2} marginBottom={8}>\n        An instant IDE on any device with a web browser.\n      </Text>\n    </Text>\n    <Text block marginBottom={2} variant=\"muted\">\n      <Text variant=\"active\" paddingRight={1}>\n        \n      </Text>\n      Start Quickly\n      <Text size={3} block marginTop={2} marginBottom={8}>\n        No setup, and templates for all popular frameworks.\n      </Text>\n    </Text>\n    <Text block marginBottom={2} variant=\"muted\">\n      <Text variant=\"active\" paddingRight={1}>\n        \n      </Text>\n      Prototype Rapidly\n      <Text size={3} block marginTop={2} marginBottom={8}>\n        Create web apps, test ideas, and share creations easily.\n      </Text>\n    </Text>\n  </Element>\n);\n","import React from 'react';\nimport { Element, ThemeProvider } from '@codesandbox/components';\nimport codesandboxBlack from '@codesandbox/components/lib/themes/codesandbox-black';\nimport { css } from '@styled-system/css';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport const Wrapper = ({ children }) => (\n  <ThemeProvider theme={codesandboxBlack}>\n    <AnimatePresence>\n      <motion.div\n        initial={{ scale: 0.9 }}\n        animate={{ scale: 1 }}\n        exit={{ scale: 0.9 }}\n      >\n        <Element\n          css={css({\n            width: 670,\n            height: 400,\n            backgroundColor: 'white',\n            border: 1,\n            borderStyle: 'solid',\n            borderColor: 'grays.500',\n            boxSizing: 'border-box',\n            boxShadow: '2',\n            borderRadius: 8,\n            boxSixing: 'border-box',\n            color: 'grays.800',\n            display: 'grid',\n            gridTemplateColumns: '50% 50%',\n            overflow: 'hidden',\n            maxWidth: '80vw',\n            margin: 'auto',\n\n            '@media screen and (max-width: 779px)': {\n              gridTemplateColumns: '1fr',\n            },\n          })}\n        >\n          {children}\n        </Element>\n      </motion.div>\n    </AnimatePresence>\n  </ThemeProvider>\n);\n","import React from 'react';\n\nimport { Button as BaseButton } from '@codesandbox/components';\nimport { css } from '@styled-system/css';\n\nexport const Button = ({ children, loading, ...props }) => (\n  <BaseButton\n    loading={loading}\n    {...props}\n    css={css({\n      fontSize: '1em',\n      backgroundColor: 'white',\n      boxShadow: '0px 2px 4px rgba(0, 0, 0, 0.2)',\n      color: 'grays.900',\n      height: 'auto',\n      padding: '12px 24px',\n      justifyContent: 'flex-start',\n      marginBottom: 8,\n      borderRadius: 'medium',\n      transition: 'all 200ms ease',\n      cursor: 'pointer',\n\n      '> span': {\n        display: 'flex',\n        justifyContent: 'center',\n        width: '100%',\n        transform: 'scale(1.5)',\n      },\n\n      '&:hover': {\n        boxShadow: '0px 2px 8px rgba(0, 0, 0, 0.24)',\n        transform: 'scale(1.05)',\n      },\n\n      '&:focus': {\n        boxShadow: '0px 2px 8px rgba(0, 0, 0, 0.24)',\n        transform: 'scale(1)',\n      },\n\n      ':hover, :focus': {\n        background: 'transparent !important',\n        backgroundColor: 'white',\n        color: 'grays.900',\n      },\n    })}\n  >\n    {children}\n  </BaseButton>\n);\n","import React, { useState } from 'react';\nimport { useOvermind } from 'app/overmind';\nimport { github as GitHubIcon } from '@codesandbox/components/lib/components/Icon/icons';\nimport { Element, Text } from '@codesandbox/components';\nimport { css } from '@styled-system/css';\nimport history from 'app/utils/history';\nimport { LeftSide } from './components/LeftSide';\nimport { Wrapper } from './components/Wrapper';\nimport { Button } from './components/Button';\n\ntype SignInModalElementProps = {\n  redirectTo?: string;\n  onSignIn?: () => void;\n};\n\nexport const SignInModalElement = ({\n  redirectTo,\n  onSignIn,\n}: SignInModalElementProps) => {\n  const {\n    actions: { signInButtonClicked },\n  } = useOvermind();\n  const [loading, setLoading] = useState(false);\n\n  const handleSignIn = async () => {\n    setLoading(true);\n    await signInButtonClicked({ useExtraScopes: false });\n\n    if (onSignIn) {\n      return onSignIn();\n    }\n\n    if (redirectTo) {\n      return history.push(redirectTo.replace(location.origin, ''));\n    }\n    setLoading(false);\n\n    return null;\n  };\n\n  return (\n    <Wrapper>\n      <LeftSide />\n      <Element padding={8}>\n        <Text weight=\"bold\" size={23} paddingBottom={3} block>\n          Sign in to CodeSandbox\n        </Text>\n        <Text variant=\"muted\" size={3} paddingBottom={60} block>\n          Get a free account, no credit card required\n        </Text>\n\n        <Button loading={loading} onClick={handleSignIn}>\n          <GitHubIcon width=\"20\" height=\"20\" />\n          <Element css={css({ width: '100%' })}>Sign in with GitHub</Element>\n        </Button>\n        <Text\n          variant=\"muted\"\n          align=\"center\"\n          size={10}\n          block\n          css={css({\n            lineHeight: '13px',\n            maxWidth: '200px',\n            margin: 'auto',\n\n            a: {\n              color: 'inherit',\n            },\n          })}\n        >\n          By continuing, you agree to CodeSandbox{' '}\n          <a href=\"https://codesandbox.io/legal/terms\">Terms of Service</a>,{' '}\n          <a href=\"https://codesandbox.io/legal/privacy\">Privacy Policy</a>\n        </Text>\n      </Element>\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { Element, Button, Text, Stack } from '@codesandbox/components';\nimport css from '@styled-system/css';\n\ntype Props = {\n  onCancel?: () => void;\n  onPrimaryAction?: () => void;\n  cancelMessage?: string;\n  confirmMessage?: string | React.ReactNode;\n  title?: string;\n  description?: string | React.ReactNode;\n  type?: 'link' | 'primary' | 'danger' | 'secondary';\n  style?: any;\n};\n\nexport const Alert: FunctionComponent<Props> = ({\n  onCancel,\n  onPrimaryAction,\n  children,\n  cancelMessage = 'Cancel',\n  confirmMessage = 'Confirm',\n  title,\n  description,\n  type = 'primary',\n  ...props\n}) => (\n  <Element\n    padding={4}\n    paddingTop={6}\n    css={css({\n      maxHeight: '70vh',\n      overflow: 'auto',\n    })}\n    {...props}\n  >\n    {title && (\n      <Text weight=\"bold\" block size={4} paddingBottom={2}>\n        {title}\n      </Text>\n    )}\n    {description && (\n      <Text marginBottom={6} size={3} block>\n        {description}\n      </Text>\n    )}\n    {children || (\n      <Stack gap={2} align=\"center\" justify=\"flex-end\">\n        {onCancel && (\n          <Button\n            css={css({\n              width: 'auto',\n            })}\n            variant=\"link\"\n            onClick={onCancel}\n          >\n            {cancelMessage}\n          </Button>\n        )}\n        {onPrimaryAction && (\n          <Button\n            variant={type}\n            title={typeof confirmMessage === 'string' ? confirmMessage : null}\n            css={css({\n              width: 'auto',\n            })}\n            onClick={onPrimaryAction}\n          >\n            <Text>{confirmMessage}</Text>\n          </Button>\n        )}\n      </Stack>\n    )}\n  </Element>\n);\n","import React from 'react';\n\nexport const Logo = props => (\n  <svg width={23} height={23} fill=\"none\" viewBox=\"0 0 23 23\" {...props}>\n    <path\n      fill=\"#fff\"\n      fillRule=\"evenodd\"\n      d=\"M11.5 11.617v11.17a.897.897 0 00.497-.142l8.944-5.111c.354-.202.498-.516.498-.923V6.247a.87.87 0 00-.143-.497l-9.51 5.373a.568.568 0 00-.286.494zm4.97 6.414c0 .284-.107.426-.356.568l-2.981 1.703c-.213.142-.497.072-.497-.212v-7.596c0-.203.179-.467.355-.568l6.815-3.904c.189-.11.354.065.354.284v4.046c0 .21-.098.398-.284.497l-3.052 1.633c-.185.098-.355.287-.355.496v3.053z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"#F2F2F2\"\n      fillRule=\"evenodd\"\n      d=\"M1.562 16.611V6.247c0-.408.214-.792.568-.994L10.79.355c.187-.099.497-.142.71-.142.213 0 .541.053.71.142l8.59 4.898c.17.1.4.332.496.497l-9.512 5.395a.572.572 0 00-.284.497v11.145c-.194 0-.393-.042-.568-.142l-8.731-5.04c-.354-.202-.64-.586-.64-.994zM2.84 8.305v4.047c0 .284.07.426.354.568l2.982 1.703a.585.585 0 01.355.568v2.84c0 .284.07.426.355.568l2.981 1.703c.284.142.497.071.497-.213v-7.595a.585.585 0 00-.355-.568L3.336 8.092c-.212-.141-.496-.07-.496.213zm11.642-4.827L11.855 4.97a.645.645 0 01-.71 0L8.52 3.479a.588.588 0 00-.568 0L4.685 5.323c-.284.142-.284.426 0 .568l6.531 3.762c.175.1.393.1.568 0l6.53-3.762c.214-.142.285-.426 0-.568L15.05 3.478a.588.588 0 00-.567 0z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n","import { useOvermind } from 'app/overmind';\nimport React from 'react';\nimport {\n  Stack,\n  ThemeProvider,\n  Button,\n  Avatar,\n  Text,\n  Link,\n} from '@codesandbox/components';\nimport {\n  Link as LinkBase,\n  withRouter,\n  RouteComponentProps,\n} from 'react-router-dom';\nimport codeSandboxBlack from '@codesandbox/components/lib/themes/codesandbox-black';\nimport css from '@styled-system/css';\n\nimport { UserMenu } from '../UserMenu';\nimport { Logo } from './Icons';\n\ntype Props = {\n  title?: string;\n} & RouteComponentProps;\n\nexport const NavigationComponent = ({ title, match }: Props) => {\n  const {\n    actions: { modalOpened, signInClicked },\n    state: { isLoggedIn, isAuthenticating, user },\n  } = useOvermind();\n  const link = isLoggedIn ? '/dashboard' : '/';\n\n  return (\n    <ThemeProvider theme={codeSandboxBlack}>\n      <Stack\n        as=\"header\"\n        paddingX={4}\n        paddingY={0}\n        css={css({\n          boxSizing: 'border-box',\n          fontFamily: 'Inter, sans-serif',\n          height: 48,\n          color: 'titleBar.activeForeground',\n          borderBottom: '1px solid',\n          borderColor: 'titleBar.border',\n        })}\n      >\n        <Stack\n          css={css({ maxWidth: '80%', width: 1080, marginX: 'auto' })}\n          justify=\"space-between\"\n          align=\"center\"\n        >\n          <Stack gap={4} align=\"center\">\n            <Link css={css({ display: 'flex' })} to={link} as={LinkBase}>\n              <Logo />\n            </Link>\n            <Text\n              size={3}\n              css={css({\n                fontWeight: 500,\n                '@media screen and (max-width: 768px)': {\n                  display: 'none',\n                },\n              })}\n            >\n              CodeSandbox - {title}\n            </Text>\n          </Stack>\n          {!isAuthenticating ? (\n            <Stack align=\"center\" gap={6}>\n              {!isLoggedIn && match.path !== '/signin' ? (\n                <Button\n                  css={{ width: 'auto' }}\n                  variant=\"link\"\n                  onClick={() => signInClicked()}\n                >\n                  Sign In\n                </Button>\n              ) : null}\n              <Button\n                variant=\"primary\"\n                css={css({ width: 'auto', paddingX: 3 })}\n                onClick={() => modalOpened({ modal: 'newSandbox' })}\n              >\n                Create Sandbox\n              </Button>\n              {isLoggedIn ? (\n                <UserMenu>\n                  <Button\n                    variant=\"secondary\"\n                    css={css({\n                      padding: 0,\n                      height: 'auto',\n                      border: 'none',\n                    })}\n                  >\n                    <Avatar\n                      css={css({\n                        width: 26,\n                        height: 26,\n                      })}\n                      user={user}\n                    />\n                  </Button>\n                </UserMenu>\n              ) : null}\n            </Stack>\n          ) : null}\n        </Stack>\n      </Stack>\n    </ThemeProvider>\n  );\n};\n\nexport const Navigation = withRouter(NavigationComponent);\n","import { Button } from '@codesandbox/common/lib/components/Button';\nimport Row from '@codesandbox/common/lib/components/flex/Row';\nimport React, { ComponentProps, FunctionComponent } from 'react';\nimport GithubIcon from 'react-icons/lib/go/mark-github';\nimport { useOvermind } from 'app/overmind';\n\ntype Props = Omit<ComponentProps<typeof Button>, 'onClick' | 'small'> & {\n  redirectTo?: string;\n};\nexport const SignInButton: FunctionComponent<Props> = props => {\n  const { actions } = useOvermind();\n  return (\n    <Button\n      {...props}\n      onClick={() => actions.signInClicked(props.redirectTo)}\n      small\n    >\n      <Row>\n        <GithubIcon style={{ marginRight: '0.5rem' }} /> Sign in with GitHub\n      </Row>\n    </Button>\n  );\n};\n","import styled from 'styled-components';\nimport Row from '@codesandbox/common/lib/components/flex/Row';\n\nexport const UserMenuContainer = styled.div`\n  display: absolute;\n  z-index: 999999999999;\n  margin: 5px 0;\n  font-size: 0.8rem;\n`;\n\nexport const ClickableContainer = styled(Row)`\n  cursor: pointer;\n  background: transparent;\n  border: none;\n  appearance: none !important;\n`;\n\nexport const ProfileImage = styled.img`\n  border-radius: 2px;\n\n  padding: 2px;\n  border: 2px solid ${props => props.theme.secondary};\n`;\n","import delayEffect from '@codesandbox/common/lib/utils/animation/delay-effect';\nimport React, { ComponentProps, forwardRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { MenuSeparator } from 'reakit';\nimport styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  ${({ theme }) => css`\n    background-color: #151515;\n    box-shadow: 0px 8px 4px rgba(0, 0, 0, 0.12),\n      0px 8px 16px rgba(0, 0, 0, 0.24);\n\n    ${delayEffect(0)};\n\n    min-width: 225px;\n    padding: 1rem 0;\n    border-radius: 4px;\n\n    z-index: 20;\n  `};\n`;\n\nconst StyledMenu = styled(Link)<{ href?: string; to?: string }>`\n  ${({ theme }) => css`\n    font-family: 'Inter', 'Roboto', sans-serif;\n    font-weight: 400;\n    transition: 0.3s ease all;\n    display: flex;\n    align-items: center;\n    font-size: 13px;\n    padding: 0.25rem 1rem;\n\n    text-decoration: none;\n\n    color: #999;\n    border: 0;\n    outline: 0 !important;\n    box-sizing: border-box;\n    background-color: transparent;\n    width: 100%;\n\n    cursor: pointer;\n\n    svg {\n      color: white;\n    }\n\n    &:focus {\n      color: white;\n      background-color: #242424;\n      outline: 0;\n    }\n  `};\n`;\n\nconst StyledMenuA = StyledMenu.withComponent('a');\nconst StyledMenuButton = StyledMenu.withComponent('button');\nconst StyledMenuLink = StyledMenu.withComponent(Link);\n\nexport const ItemA = forwardRef<\n  HTMLAnchorElement,\n  ComponentProps<typeof StyledMenuA>\n>((props, ref) => <StyledMenuA {...props} ref={ref} />);\nexport const ItemButton = forwardRef<\n  HTMLButtonElement,\n  ComponentProps<typeof StyledMenuButton>\n>((props, ref) => <StyledMenuButton {...props} ref={ref} />);\nexport const ItemLink = forwardRef<\n  HTMLAnchorElement,\n  ComponentProps<typeof StyledMenuLink>\n>((props, ref) => <StyledMenu {...props} ref={ref} />);\n\nexport const Icon = styled.span`\n  margin-right: 0.75rem;\n  display: inline-flex;\n  align-items: center;\n  width: 24px;\n  height: 24px;\n  font-size: 24px;\n`;\n\nexport const Separator = styled(MenuSeparator)`\n  ${({ theme }) => css`\n    height: 1px;\n    width: 100%;\n    margin: 0.25rem 0;\n\n    background-color: ${theme.background};\n    border: 0;\n    outline: 0;\n  `};\n`;\n","// TODO; move this to a dynamic version used in the pro page\nimport React from 'react';\nimport IconBase from 'react-icons/lib/IconBase';\n\nexport const ProIcon = props => (\n  <IconBase viewBox=\"0 0 58 26\" {...props}>\n    <rect\n      x=\"1.20896\"\n      y=\"1.20896\"\n      width=\"55.3731\"\n      height=\"23.7313\"\n      rx=\"2.37313\"\n      fill=\"#535BCF\"\n      stroke=\"#151515\"\n      strokeWidth=\"1.58209\"\n    />\n    <path\n      d=\"M15.6856 19.5822H18.3616V15.4786H20.6111C23.5219 15.4786 25.2153 13.742 25.2153 11.2144C25.2153 8.69911 23.5528 6.92544 20.6791 6.92544H15.6856V19.5822ZM18.3616 13.3341V9.11317H20.1662C21.7112 9.11317 22.459 9.95366 22.459 11.2144C22.459 12.4689 21.7112 13.3341 20.1785 13.3341H18.3616ZM26.9039 19.5822H29.5366V14.2117C29.5366 13.0437 30.3895 12.2403 31.5513 12.2403C31.916 12.2403 32.4165 12.3021 32.6637 12.3824V10.0464C32.4289 9.99074 32.1014 9.95366 31.8356 9.95366C30.7726 9.95366 29.9013 10.5717 29.5552 11.7459H29.4563V10.0896H26.9039V19.5822ZM37.872 19.7676C40.7519 19.7676 42.5441 17.7961 42.5441 14.873C42.5441 11.9313 40.7519 9.96602 37.872 9.96602C34.9921 9.96602 33.1999 11.9313 33.1999 14.873C33.1999 17.7961 34.9921 19.7676 37.872 19.7676ZM37.8843 17.7281C36.5556 17.7281 35.8758 16.5107 35.8758 14.8544C35.8758 13.1982 36.5556 11.9745 37.8843 11.9745C39.1883 11.9745 39.8681 13.1982 39.8681 14.8544C39.8681 16.5107 39.1883 17.7281 37.8843 17.7281Z\"\n      fill=\"white\"\n    />\n  </IconBase>\n);\n","import React, { useEffect } from 'react';\n\nimport {\n  profileUrl,\n  patronUrl,\n  curatorUrl,\n  dashboardUrl,\n  searchUrl,\n} from '@codesandbox/common/lib/utils/url-generator';\n\nimport track from '@codesandbox/common/lib/utils/analytics';\nimport { MenuItem, Menu as ReakitMenu, MenuStateReturn } from 'reakit/Menu';\nimport { DocumentationIcon } from '@codesandbox/common/lib/components/icons/Documentation';\nimport { SearchIcon } from '@codesandbox/common/lib/components/icons/Search';\nimport { FolderIcon } from '@codesandbox/common/lib/components/icons/Folder';\nimport { CogIcon } from '@codesandbox/common/lib/components/icons/Cog';\nimport { UserIcon } from '@codesandbox/common/lib/components/icons/User';\nimport { ExitIcon } from '@codesandbox/common/lib/components/icons/Exit';\nimport { ChatIcon } from '@codesandbox/common/lib/components/icons/Chat';\nimport { PatronIcon } from '@codesandbox/common/lib/components/icons/Patron';\nimport { DashboardIcon } from '@codesandbox/common/lib/components/icons/Dashboard';\nimport { CuratorIcon } from '@codesandbox/common/lib/components/icons/Curator';\n\nimport {\n  Container,\n  Icon,\n  Separator,\n  ItemLink,\n  ItemA,\n  ItemButton,\n} from './elements';\nimport { ProIcon } from './ProIcon';\n\ninterface Props {\n  username: string;\n  curator: string;\n  openPreferences: () => void;\n  openStorageManagement: () => void;\n  openFeedback: () => void;\n  signOut: () => void;\n  menuProps: MenuStateReturn;\n  showPatron: boolean;\n  showManageSubscription: boolean;\n  showBecomePro: boolean;\n}\n\nexport const Menu = ({\n  username,\n  curator,\n  openPreferences,\n  openStorageManagement,\n  openFeedback,\n  signOut,\n  menuProps,\n  showPatron,\n  showManageSubscription,\n  showBecomePro,\n}: Props) => {\n  useEffect(() => {\n    if (menuProps.visible) {\n      track('User Menu Open');\n    }\n  }, [menuProps.visible]);\n\n  return (\n    <ReakitMenu {...menuProps} style={{ outline: 0 }} aria-label=\"user options\">\n      <Container>\n        <MenuItem {...menuProps} to={profileUrl(username)} as={ItemLink}>\n          <Icon>\n            <UserIcon />\n          </Icon>\n          My Profile\n        </MenuItem>\n\n        <Separator {...menuProps} />\n\n        <MenuItem {...menuProps} to={dashboardUrl()} as={ItemLink}>\n          <Icon>\n            <DashboardIcon />\n          </Icon>\n          Dashboard\n        </MenuItem>\n\n        <MenuItem {...menuProps} href=\"/docs\" as={ItemA}>\n          <Icon>\n            <DocumentationIcon />\n          </Icon>\n          Documentation\n        </MenuItem>\n\n        <MenuItem {...menuProps} to={searchUrl()} as={ItemLink}>\n          <Icon>\n            <SearchIcon />\n          </Icon>\n          Search Sandboxes\n        </MenuItem>\n\n        {curator && (\n          <MenuItem {...menuProps} to={curatorUrl()} as={ItemLink}>\n            <Icon>\n              <CuratorIcon />\n            </Icon>\n            Curator Dashboard\n          </MenuItem>\n        )}\n\n        {showPatron && (\n          <MenuItem {...menuProps} to={patronUrl()} as={ItemLink}>\n            <Icon>\n              <PatronIcon />\n            </Icon>\n            Patron Page\n          </MenuItem>\n        )}\n\n        {showBecomePro && (\n          <MenuItem {...menuProps} as={ItemA} href=\"/pricing\">\n            <Icon>\n              <ProIcon />\n            </Icon>\n            Upgrade to Pro\n          </MenuItem>\n        )}\n\n        <Separator {...menuProps} />\n\n        {showManageSubscription && (\n          <MenuItem {...menuProps} as={ItemA} href=\"/pro\">\n            <Icon>\n              <ProIcon />\n            </Icon>\n            Manage Subscription\n          </MenuItem>\n        )}\n\n        <MenuItem\n          {...menuProps}\n          as={ItemButton}\n          onClick={openStorageManagement}\n        >\n          <Icon>\n            <FolderIcon />\n          </Icon>\n          Storage Management\n        </MenuItem>\n\n        <MenuItem {...menuProps} as={ItemButton} onClick={openPreferences}>\n          <Icon>\n            <CogIcon />\n          </Icon>\n          Preferences\n        </MenuItem>\n\n        <Separator {...menuProps} />\n\n        <MenuItem {...menuProps} as={ItemButton} onClick={openFeedback}>\n          <Icon>\n            <ChatIcon />\n          </Icon>\n          Submit Feedback\n        </MenuItem>\n\n        <Separator {...menuProps} />\n\n        <MenuItem {...menuProps} as={ItemButton} onClick={signOut}>\n          <Icon>\n            <ExitIcon />\n          </Icon>\n          Sign out\n        </MenuItem>\n      </Container>\n    </ReakitMenu>\n  );\n};\n","import Relative from '@codesandbox/common/lib/components/Relative';\nimport { useOvermind } from 'app/overmind';\nimport React, { FunctionComponent } from 'react';\nimport { MenuDisclosure, useMenuState } from 'reakit/Menu';\n\nimport {\n  ClickableContainer,\n  ProfileImage,\n  UserMenuContainer,\n} from './elements';\nimport { Menu } from './Menu';\n\nexport const UserMenu: FunctionComponent = props => {\n  const {\n    actions: {\n      modalOpened,\n      signOutClicked,\n      files: { gotUploadedFiles },\n    },\n    state: { user },\n  } = useOvermind();\n  const menu = useMenuState({\n    placement: 'bottom-end',\n  });\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <UserMenuContainer>\n      <Relative>\n        <MenuDisclosure\n          as={ClickableContainer}\n          {...menu}\n          aria-label=\"profile menu\"\n        >\n          {props.children || (\n            <ProfileImage\n              alt={user.username}\n              width={30}\n              height={30}\n              src={user.avatarUrl}\n            />\n          )}\n        </MenuDisclosure>\n\n        <Menu\n          openPreferences={() => modalOpened({ modal: 'preferences' })}\n          openStorageManagement={() => gotUploadedFiles(null)}\n          signOut={() => signOutClicked()}\n          username={user.username}\n          curator={user.curatorAt}\n          openFeedback={() => modalOpened({ modal: 'feedback' })}\n          menuProps={menu}\n          showPatron={user.subscription && user.subscription.plan === 'patron'}\n          showManageSubscription={\n            user.subscription && user.subscription.plan === 'pro'\n          }\n          showBecomePro={!user.subscription}\n        />\n      </Relative>\n    </UserMenuContainer>\n  );\n};\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport default history;\n"],"sourceRoot":""}