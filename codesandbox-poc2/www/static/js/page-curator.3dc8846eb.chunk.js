(this.csbJsonP=this.csbJsonP||[]).push([[34],{"./src/app/pages/Curator/index.tsx":function(e,n,t){"use strict";t.r(n);var a=t("../../node_modules/@babel/runtime/helpers/extends.js"),o=t.n(a),r=t("../../node_modules/@babel/runtime/helpers/slicedToArray.js"),i=t.n(r),l=(t("../../node_modules/react-day-picker/lib/style.css"),t("../common/lib/components/Button/index.js")),c=t("../common/lib/components/flex/MaxWidth.js"),s=t.n(c),u=t("../common/lib/components/spacing/Margin.js"),d=t.n(u),m=t("./src/app/components/SubTitle.ts"),f=t("./src/app/overmind/index.ts"),p=t("../components/lib/index.js"),b=t("./src/app/pages/common/Navigation/index.tsx"),g=t("./node_modules/date-fns/esm/getTime/index.js"),h=t("./node_modules/date-fns/esm/subWeeks/index.js"),x=t("./node_modules/date-fns/esm/subMonths/index.js"),j=t("./node_modules/date-fns/esm/format/index.js"),v=t("../../node_modules/react/index.js"),y=t.n(v),C=t("../../node_modules/react-day-picker/DayPicker.js"),k=t.n(C),w=t("../../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),_=t.n(w),E=t("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),O=t("./src/app/components/DelayedAnimation.ts"),I=t("./src/app/components/Title.ts");function S(){var e=_()(["\n  color: rgba(255, 255, 255, 0.5);\n  font-weight: 600;\n  margin-top: 2rem;\n  text-align: center;\n"]);return S=function(){return e},e}function N(){var e=_()(["\n  position: absolute;\n  z-index: 10;\n  background: #1c2022;\n  border-radius: 3px;\n  top: 45px;\n  right: 14px;\n"]);return N=function(){return e},e}function D(){var e=_()(["\n  display: flex;\n  justify-content: flex-end;\n  margin: 3rem 0;\n  align-items: center;\n  position: relative;\n\n  button:first-child {\n    margin-left: 1rem;\n  }\n\n  button:not(:last-child) {\n    margin-right: 1rem;\n  }\n"]);return D=function(){return e},e}function M(){var e=_()(["\n  height: 100%;\n  width: 100%;\n  margin: 1rem;\n  display: grid;\n  grid-template-columns: repeat(3, minmax(100px, 1fr));\n  grid-column-gap: 2rem;\n  grid-row-gap: 2rem;\n"]);return M=function(){return e},e}function P(){var e=_()(["\n  margin-top: 3rem;\n"]);return P=function(){return e},e}var z=Object(E.default)(I.a).withConfig({displayName:"elements__Heading",componentId:"sc-1ifwb8a-0"})(P()),T=E.default.div.withConfig({displayName:"elements__Container",componentId:"sc-1ifwb8a-1"})(M()),B=E.default.section.withConfig({displayName:"elements__Buttons",componentId:"sc-1ifwb8a-2"})(D()),A=E.default.div.withConfig({displayName:"elements__PickerWrapper",componentId:"sc-1ifwb8a-3"})(N()),L=Object(E.default)(O.a).withConfig({displayName:"elements__DelayedAnimation",componentId:"sc-1ifwb8a-4"})(S()),R=t("../common/lib/templates/index.js"),U=t.n(R),W=t("../common/lib/utils/url-generator.js"),F=t("../../node_modules/react-icons/lib/fa/eye.js"),H=t.n(F),J=t("../../node_modules/react-icons/lib/fa/github.js"),G=t.n(J),q=t("../common/lib/utils/animation/fade-in.js"),K=t.n(q);function Q(){var e=_()(["\n  width: 100%;\n"]);return Q=function(){return e},e}function V(){var e=_()(["\n  display: flex;\n  align-items: center;\n"]);return V=function(){return e},e}function X(){var e=_()(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 0.875em;\n  color: rgba(255, 255, 255, 0.5);\n  margin-top: 1rem;\n"]);return X=function(){return e},e}function Y(){var e=_()(["\n  width: 30px;\n  border-radius: 50%;\n  margin-right: 0.5rem;\n"]);return Y=function(){return e},e}function Z(){var e=_()(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  font-weight: 600;\n  z-index: 0;\n\n  font-size: 1.125rem;\n  color: rgba(255, 255, 255, 0.6);\n"]);return Z=function(){return e},e}function $(){var e=_()(["\n  display: flex;\n  align-items: center;\n  font-weight: bold;\n  margin-bottom: 1rem;\n"]);return $=function(){return e},e}function ee(){var e=_()(["\n  position: relative;\n  display: flex;\n  padding: 0.6rem 0.75rem;\n  font-size: 0.875em;\n\n  align-items: center;\n"]);return ee=function(){return e},e}function ne(){var e=_()(["\n  background-size: contain;\n  background-position: 50%;\n  background-repeat: no-repeat;\n  width: 100%;\n  z-index: 1;\n"]);return ne=function(){return e},e}function te(){var e=_()(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: stretch;\n  height: 160px;\n\n  background-color: rgba(255, 255, 255, 0.1);\n"]);return te=function(){return e},e}function ae(){var e=_()(["\n  ",";\n  background-color: ",";\n  overflow: hidden;\n  border-radius: 2px;\n  user-select: none;\n\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n"]);return ae=function(){return e},e}var oe=E.default.div.withConfig({displayName:"elements__Container",componentId:"rc11d9-0"})(ae(),K()(0),(function(e){return e.theme.background})),re=E.default.div.withConfig({displayName:"elements__SandboxImageContainer",componentId:"rc11d9-1"})(te()),ie=E.default.div.withConfig({displayName:"elements__SandboxImage",componentId:"rc11d9-2"})(ne()),le=E.default.div.withConfig({displayName:"elements__SandboxInfo",componentId:"rc11d9-3"})(ee()),ce=E.default.div.withConfig({displayName:"elements__SandboxTitle",componentId:"rc11d9-4"})($()),se=E.default.div.withConfig({displayName:"elements__ImageMessage",componentId:"rc11d9-5"})(Z()),ue=E.default.img.withConfig({displayName:"elements__Avatar",componentId:"rc11d9-6"})(Y()),de=E.default.footer.withConfig({displayName:"elements__Details",componentId:"rc11d9-7"})(X()),me=E.default.section.withConfig({displayName:"elements__FlexCenter",componentId:"rc11d9-8"})(V()),fe=Object(E.default)(l.Button).withConfig({displayName:"elements__Pick",componentId:"rc11d9-9"})(Q()),pe=function(e){var n=e.author,t=e.description,a=e.git,o=e.id,r=e.picks,l=e.pickSandbox,c=e.screenshotUrl,s=e.template,u=e.title,d=e.viewCount,m=Object(v.useState)(c),f=i()(m,2),p=f[0],b=f[1],g=Object(v.useRef)(null),h=Object(v.useCallback)((function(){return!U()(s).isServer}),[s]),x=Object(v.useCallback)((function(){b("/api/v1/sandboxes/".concat(o,"/screenshot.png"))}),[o]),j=Object(v.useCallback)((function(){!p&&h()&&(g.current=setTimeout(x,1e3))}),[h,x,p]);Object(v.useEffect)((function(){return j(),function(){return clearTimeout(g.current)}}),[j]);var C=Object(v.useCallback)((function(){var e=Object(W.sandboxUrl)({id:o,alias:null});window.open(e,"_blank")}),[o]),k=Object(v.useCallback)((function(){return U()(s).isServer?"Container Sandbox":"Generating Screenshot..."}),[s]),w=Object(v.useCallback)((function(e){var n=Object(W.profileUrl)(e);window.open(n,"_blank")}),[]),_=U()(s);return y.a.createElement("div",{style:{backgroundColor:"transparent",borderRadius:2,padding:2}},y.a.createElement(oe,{style:{outline:"none"}},y.a.createElement(re,{onClick:C,role:"button",tabIndex:0},y.a.createElement(se,null,k()),h()&&y.a.createElement(ie,{style:{backgroundImage:"url(".concat(p,")")}})),y.a.createElement(le,null,y.a.createElement("div",{style:{backgroundColor:_.color(),bottom:0,height:"calc(100% + 34px)",left:0,position:"absolute",top:0,width:2}}),y.a.createElement("div",{style:{flex:1}},y.a.createElement("div",{role:"button",tabIndex:0,onClick:C},y.a.createElement(ce,null,u||o),t),y.a.createElement(de,null,n?y.a.createElement(me,{onClick:function(){return w(n.username)},role:"button",tabIndex:0},y.a.createElement(ue,{alt:n.username,src:n.avatarUrl}),n.name||n.username):null,y.a.createElement(me,{onClick:C,role:"button",tabIndex:0},y.a.createElement(H.a,{style:{marginRight:"0.5rem"}}),d),a?y.a.createElement(me,null,y.a.createElement("a",{href:"https://github.com/".concat(a.username,"/").concat(a.repo),rel:"noopener noreferrer",target:"_blank"},y.a.createElement(G.a,{style:{marginRight:"0.5rem"}}))):null))),y.a.createElement(fe,{onClick:function(){return l(o,u,t)},small:!0},r.length?"\u2728 Pick Sandbox again":"\u2728 Pick Sandbox")))};t.d(n,"Curator",(function(){return be}));var be=function(){var e=Object(f.c)(),n=e.actions.explore,t=n.pickSandboxModal,a=n.popularSandboxesMounted,r=e.state.explore.popularSandboxes,c=Object(v.useState)(null),u=i()(c,2),C=u[0],w=u[1],_=Object(v.useState)(!1),E=i()(_,2),O=E[0],I=E[1],S=Object(v.useCallback)((function(e){a(e)}),[a]);Object(v.useEffect)((function(){S(Object(g.a)(Object(h.a)(new Date,1)))}),[S]);var N=Object(v.useCallback)((function(e,n,a){t({description:a,id:e,title:n})}),[t]),D=Object(v.useCallback)((function(e){S(Object(g.a)(new Date(e))),w(e),I(!1)}),[S]);return y.a.createElement(p.Element,{style:{width:"100vw",height:"100vh"}},y.a.createElement(b.a,{title:"Curator Page"}),y.a.createElement(s.a,null,y.a.createElement(d.a,{horizontal:1.5,vertical:1.5},y.a.createElement(z,null,"Curator Page"),y.a.createElement(m.a,null,"Here you can choose the sandboxes that go in the explore page"),y.a.createElement(B,null,"Most popular sandboxes in the:",y.a.createElement(l.Button,{onClick:function(){return S(Object(g.a)(Object(h.a)(new Date,1)))},small:!0},"Last Week"),y.a.createElement(l.Button,{onClick:function(){return S(Object(g.a)(Object(x.a)(new Date,1)))},small:!0},"Last Month"),y.a.createElement(l.Button,{onClick:function(){return S(Object(g.a)(Object(x.a)(new Date,6)))},small:!0},"Last 6 Months"),y.a.createElement(l.Button,{onClick:function(){return I((function(e){return!e}))},small:!0},C?Object(j.a)(new Date(C),"dd/MM/yyyy"):"Custom"),O?y.a.createElement(A,null,y.a.createElement(k.a,{onDayClick:D,selectedDays:C})):null),r?y.a.createElement(T,null,r.sandboxes.map((function(e){return y.a.createElement(pe,o()({key:e.id},e,{pickSandbox:N}))}))):y.a.createElement(L,null,"Fetching Sandboxes..."))))}}}]);
//# sourceMappingURL=page-curator.3dc8846eb.chunk.js.map