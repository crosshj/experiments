(this.csbJsonP=this.csbJsonP||[]).push([[41],{"./src/app/pages/Live/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"LivePage",(function(){return S}));var r=n("../common/lib/components/Button/index.js"),o=n("../common/lib/components/flex/Centered.js"),a=n.n(o),s=n("../common/lib/components/flex/Fullscreen.js"),i=n.n(s),l=n("../common/lib/components/flex/Row.js"),c=n.n(l),m=n("../common/lib/components/spacing/Padding.js"),u=n.n(m),d=n("../common/lib/utils/get-sandbox-name.js"),g=n("./src/app/components/SubTitle.ts"),p=n("./src/app/components/Title.ts"),f=n("./src/app/overmind/index.ts"),b=n("./src/app/pages/common/Navigation/index.tsx"),h=n("../../node_modules/react/index.js"),j=n.n(h),v=n("../../node_modules/react-helmet/lib/Helmet.js"),E=n("../../node_modules/react-icons/lib/go/mark-github.js"),x=n.n(E),w=n("../../node_modules/react-router-dom/esm/react-router-dom.js"),y=n("./src/app/pages/Sandbox/Editor/index.tsx"),S=function(e){var t=e.match,n=Object(f.c)(),o=n.state,s=n.actions;Object(h.useEffect)((function(){s.live.roomJoined({roomId:t.params.id})}),[s.live,t.params.id]),Object(h.useEffect)((function(){return function(){s.live.onNavigateAway()}}),[s.live]);var l=o.isAuthenticating||o.user?o.live.error?"room not found"===o.live.error?j.a.createElement(j.a.Fragment,null,j.a.createElement("div",{style:{fontWeight:300,color:"rgba(255, 255, 255, 0.5)",marginBottom:"1rem",fontSize:"1.5rem"}},"Something went wrong"),j.a.createElement(p.a,{style:{fontSize:"1.25rem"}},"It seems like this session doesn","'","t exist or has been closed"),j.a.createElement("br",null),j.a.createElement(w.Link,{to:"/s"},"Create Sandbox")):j.a.createElement(j.a.Fragment,null,j.a.createElement(p.a,null,"An error occured while connecting to the live session:"),j.a.createElement(g.a,null,o.live.error),j.a.createElement("br",null),j.a.createElement("br",null),j.a.createElement(w.Link,{to:"/s"},"Create Sandbox")):null:j.a.createElement(j.a.Fragment,null,j.a.createElement("div",{style:{fontWeight:300,color:"rgba(255, 255, 255, 0.5)",marginBottom:"1rem",fontSize:"1.5rem"}},"Sign in required"),j.a.createElement(p.a,{style:{fontSize:"1.25rem"}},"You need to sign in to join this session"),j.a.createElement("br",null),j.a.createElement("div",null,j.a.createElement(r.Button,{onClick:function(){return s.live.signInToRoom({roomId:t.params.id})},small:!0},j.a.createElement(c.a,null,j.a.createElement(x.a,{style:{marginRight:"0.5rem"}})," Sign in with GitHub"))));if(l)return j.a.createElement(i.a,null,j.a.createElement(u.a,{style:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"}},j.a.createElement(b.a,{title:"Live Session"}),j.a.createElement(a.a,{style:{flex:1,width:"100%",height:"100%"},horizontal:!0,vertical:!0},l)));var m=o.editor.currentSandbox;return j.a.createElement(j.a.Fragment,null,m&&j.a.createElement(v.Helmet,null,j.a.createElement("title",null,Object(d.getSandboxName)(m)," - CodeSandbox")),j.a.createElement(y.a,null))}},"./src/app/pages/SignIn/index.tsx":function(e,t,n){"use strict";n.r(t);var r=n("../../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),s=n("../../node_modules/react/index.js"),i=n.n(s),l=n("../../node_modules/react-router/esm/react-router.js"),c=n("./src/app/overmind/index.ts"),m=n("../common/lib/utils/url-generator.js"),u=n("../components/lib/index.js"),d=n("../components/lib/themes/codesandbox-black.js"),g=n.n(d),p=n("../@styled-system/css/dist/index.js"),f=n("./src/app/pages/common/Navigation/index.tsx"),b=n("./src/app/pages/SignIn/Modal.tsx");function h(){var e=o()(["",""]);return h=function(){return e},e}function j(){var e=o()(["",""]);return j=function(){return e},e}var v=Object(a.default)(u.Element).withConfig({displayName:"SignIn___StyledElement",componentId:"sc-162m3qf-0"})(j(),(function(e){return e._css})),E=Object(a.default)(u.Stack).withConfig({displayName:"SignIn___StyledStack",componentId:"sc-162m3qf-1"})(h(),(function(e){return e._css2}));t.default=function(){var e=Object(c.c)(),t=e.state,n=e.actions.genericPageMounted,r=new URL(location.href).searchParams.get("continue");return Object(s.useEffect)((function(){n()}),[n]),t.hasLogIn&&!r?i.a.createElement(l.c,{to:Object(m.dashboardUrl)()}):i.a.createElement(u.ThemeProvider,{theme:g.a},i.a.createElement(v,{_css:Object(p.css)({backgroundColor:"sideBar.background",minHeight:"100vh",fontFamily:"Inter, sans-serif",overflow:"hidden"})},i.a.createElement(f.a,{title:"Sign In"}),i.a.createElement(E,{align:"center",justify:"center",_css2:Object(p.css)({width:"100vw",height:"100%",marginBottom:100})},i.a.createElement(b.a,{redirectTo:r}))))}},"./src/app/pages/SignInAuth/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var r=n("../../node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),a=n("../../node_modules/@babel/runtime/helpers/createClass.js"),s=n.n(a),i=n("../../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),l=n.n(i),c=n("../../node_modules/@babel/runtime/helpers/inherits.js"),m=n.n(c),u=n("../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),d=n.n(u),g=n("../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),p=n.n(g),f=n("../../node_modules/@babel/runtime/helpers/defineProperty.js"),b=n.n(f),h=n("../../node_modules/react/index.js"),j=n.n(h),v=n("../common/lib/components/flex/Centered.js"),E=n.n(v),x=n("../common/lib/utils/url-generator.js"),w=n("./src/app/components/Title.ts");function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var S=function(e){m()(n,e);var t=y(n);function n(e){var r;return o()(this,n),r=t.call(this,e),b()(l()(r),"getMessage",(function(){return r.state.redirect?(document.location.href=Object(x.newSandboxUrl)(),"Redirecting to sandbox page"):r.state.error?"Something went wrong while signing in: ".concat(r.state.error):r.state.jwt?"Signing in...":null==r.state.jwt?(setTimeout((function(){document.location.href=Object(x.signInUrl)()}),2e3),"Redirecting to sign in page..."):"Hey"})),e.match.params.jwt?window.opener?(r.state={jwt:e.match.params.jwt},window.opener.location.origin===window.location.origin&&window.opener.postMessage({type:"signin",data:{jwt:e.match.params.jwt}},Object(x.protocolAndHost)()),d()(r)):(r.state={redirect:"/"},d()(r)):(r.state={error:"no message received"},r)}return s()(n,[{key:"render",value:function(){return j.a.createElement(E.a,{horizontal:!0,vertical:!0},j.a.createElement(w.a,null,this.getMessage()))}}]),n}(j.a.PureComponent)}}]);
//# sourceMappingURL=page-sign-in.0b22e3234.chunk.js.map