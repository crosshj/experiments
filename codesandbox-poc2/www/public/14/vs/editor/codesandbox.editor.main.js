/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.14.3(46cb680dd564ae3db1b5f2a63d93402406cfa33e)
 * Released under the MIT license
 * https://github.com/Microsoft/vscode/blob/master/LICENSE.txt
 *-----------------------------------------------------------*/
(function(){
var e=["exports","require","vs/nls","vs/platform/instantiation/common/instantiation","vs/base/common/lifecycle","vs/base/common/event","vs/base/common/winjs.base","vs/base/browser/dom","vs/platform/registry/common/platform","vs/platform/configuration/common/configuration","vs/platform/contextkey/common/contextkey","vs/platform/theme/common/themeService","vs/workbench/services/editor/common/editorService","vs/base/common/uri","vs/base/common/actions","vs/workbench/common/editor","vs/platform/files/common/files","vs/base/common/async","vs/css!vs/editor/codesandbox.editor.main","vs/base/common/arrays","vs/base/common/platform","vs/platform/workspace/common/workspace","vs/base/common/strings","vs/platform/actions/common/actions","vs/base/common/errors","vs/base/common/paths","vs/platform/theme/common/colorRegistry","vs/base/common/network","vs/platform/notification/common/notification","vs/workbench/services/textfile/common/textfiles","vs/base/common/types","vs/platform/telemetry/common/telemetry","vs/platform/keybinding/common/keybinding","vs/platform/contextview/browser/contextView","vs/workbench/services/group/common/editorGroupsService","vs/base/common/resources","vs/platform/storage/common/storage","vs/editor/common/services/modelService","vs/platform/commands/common/commands","vs/base/common/map","vs/base/common/objects","vs/platform/theme/common/styler","vs/workbench/services/part/common/partService","vs/editor/common/services/modeService","vs/workbench/common/actions","vs/platform/windows/common/windows","vs/base/browser/ui/actionbar/actionbar","vs/platform/environment/common/environment","vs/workbench/services/viewlet/browser/viewlet","vs/platform/quickOpen/common/quickOpen","vs/editor/common/core/range","vs/editor/browser/editorBrowser","vs/platform/list/browser/listService","vs/workbench/common/theme","vs/workbench/browser/quickopen","vs/workbench/services/untitled/common/untitledEditorService","vs/workbench/parts/files/common/files","vs/base/common/cancellation","vs/editor/browser/editorExtensions","vs/workbench/browser/labels","vs/platform/lifecycle/common/lifecycle","vs/workbench/services/preferences/common/preferences","vs/platform/quickinput/common/quickInput","vs/platform/label/common/label","vs/editor/common/services/resolverService","vs/base/common/keyCodes","vs/base/browser/keyboardEvent","vs/platform/keybinding/common/keybindingsRegistry","vs/workbench/services/extensions/common/extensions","vs/base/parts/quickopen/browser/quickOpenModel","vs/platform/search/common/search","vs/editor/common/model","vs/base/common/filters","vs/base/common/color","vs/workbench/browser/dnd","vs/workbench/browser/parts/editor/baseEditor","vs/editor/common/model/textModel","vs/workbench/browser/viewlet","vs/base/common/json","vs/workbench/services/panel/common/panelService","vs/base/common/labels","vs/platform/clipboard/common/clipboardService","vs/editor/common/modes","vs/workbench/common/resources","vs/base/browser/mouseEvent","vs/editor/common/services/resourceConfiguration","vs/platform/instantiation/common/extensions","vs/base/browser/ui/widget","vs/codesandbox/services/codesandbox/common/codesandbox","vs/workbench/browser/parts/editor/editor","vs/platform/progress/common/progress","vs/platform/log/common/log","path","vs/platform/configuration/common/configurationRegistry","vs/editor/browser/services/codeEditorService","vs/platform/dialogs/common/dialogs","vs/workbench/parts/preferences/common/preferences","vs/workbench/parts/search/common/searchModel","vs/editor/common/core/editOperation","vs/workbench/browser/parts/quickopen/quickopen","vs/base/common/errorMessage","vs/workbench/browser/actions","vs/workbench/common/editor/resourceEditorInput","vs/workbench/services/hash/common/hashService","vs/workbench/browser/parts/editor/breadcrumbs","vs/workbench/browser/parts/editor/editorCommands","vs/workbench/browser/editor","vs/workbench/common/contributions","vs/editor/common/core/selection","vs/workbench/common/views","vs/base/browser/ui/splitview/splitview","vs/workbench/parts/files/common/explorerModel","vs/platform/instantiation/common/descriptors","vs/workbench/common/editor/diffEditorInput","vs/base/browser/browser","vs/editor/common/editorContextKeys","vs/platform/actions/browser/menuItemActionItem","vs/platform/extensionManagement/common/extensionManagement","vs/base/common/collections","vs/workbench/common/editor/textEditorModel","vs/workbench/services/backup/common/backup","vs/workbench/parts/snippets/electron-browser/snippets.contribution","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/touch","vs/workbench/parts/search/common/replace","vs/base/browser/ui/button/button","vs/workbench/common/component","vs/workbench/services/textfile/common/textFileEditorModel","vs/workbench/browser/parts/editor/textEditor","vs/css!vs/workbench/browser/parts/quickinput/quickInput","vs/workbench/common/editor/untitledEditorInput","vs/editor/contrib/documentSymbols/outlineModel","vs/base/common/scrollable","vs/base/browser/ui/inputbox/inputBox","vs/base/common/mime","vs/workbench/services/history/common/history","vs/editor/contrib/snippet/snippetController2","vs/workbench/services/workspace/common/workspaceEditing","vs/workbench/common/editor/binaryEditorModel","vs/base/common/glob","vs/base/common/decorators","vs/workbench/parts/files/common/editors/fileEditorInput","vs/workbench/services/activity/common/activity","vs/platform/opener/common/opener","vs/workbench/parts/preferences/browser/preferencesWidgets","vs/base/common/scanCode","vs/base/common/idGenerator","vs/base/parts/quickopen/common/quickOpenScorer","vs/workbench/parts/search/common/search","vs/base/browser/dnd","vs/workbench/parts/search/browser/searchActions","vs/editor/common/core/position","vs/workbench/parts/search/common/constants","vs/workbench/services/preferences/common/preferencesModels","vs/workbench/parts/files/electron-browser/fileActions","vs/editor/common/modes/modesRegistry","vs/workbench/services/configuration/common/configuration","vs/workbench/services/configuration/common/jsonEditing","vs/workbench/services/decorations/browser/decorations","vs/workbench/browser/parts/editor/binaryEditor","vs/workbench/browser/parts/editor/sideBySideEditor","vs/workbench/browser/part","vs/workbench/parts/preferences/browser/settingsTreeModels","vs/workbench/parts/preferences/browser/settingsWidgets","vs/platform/workspaces/common/workspaces","vs/workbench/browser/parts/editor/editorActions","vs/base/common/severity","vs/workbench/browser/parts/compositeBarActions","vs/base/common/comparers","vs/workbench/browser/parts/views/panelViewlet","vs/base/common/keybindingParser","vs/workbench/parts/files/electron-browser/fileCommands","vs/workbench/parts/preferences/browser/settingsTree","vs/workbench/parts/codeEditor/electron-browser/selectionClipboard","vs/workbench/parts/codeEditor/browser/menuPreventer","vs/editor/common/view/editorColorRegistry","vs/workbench/parts/search/browser/openSymbolHandler","vs/workbench/electron-browser/resources","vs/workbench/parts/output/common/output","vs/workbench/services/extensions/common/extensionsRegistry","vs/workbench/parts/snippets/electron-browser/snippetsFile","vs/workbench/browser/panel","vs/workbench/browser/composite","vs/platform/telemetry/common/telemetryUtils","vs/workbench/common/editor/dataUriEditorInput","vs/workbench/common/editor/resourceEditorModel","vs/workbench/parts/snippets/electron-browser/snippetsService","vs/editor/contrib/suggest/suggest","vs/workbench/common/editor/textDiffEditorModel","vs/workbench/common/editor/editorGroup","vs/workbench/common/editor/diffEditorModel","vs/workbench/browser/parts/quickinput/quickInput","vs/base/browser/ui/progressbar/progressbar","vs/workbench/browser/parts/statusbar/statusbar","vs/workbench/services/preferences/common/keybindingsEditorModel","vs/base/browser/ui/iconLabel/iconLabel","vs/base/parts/tree/browser/treeImpl","vs/base/browser/ui/checkbox/checkbox","vs/base/parts/tree/browser/treeDefaults","vs/workbench/browser/parts/quickinput/quickInputUtils","vs/workbench/services/preferences/common/preferencesEditorInput","vs/workbench/parts/files/browser/files","vs/workbench/services/progress/common/progress","vs/workbench/parts/search/common/queryBuilder","vs/workbench/browser/parts/editor/editorWidgets","vs/workbench/browser/parts/editor/textDiffEditor","vs/workbench/browser/parts/editor/breadcrumbsModel","vs/workbench/parts/preferences/browser/settingsLayout","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/platform/statusbar/common/statusbar","vs/workbench/parts/preferences/electron-browser/preferencesSearch","vs/workbench/parts/preferences/browser/preferencesEditor","vs/workbench/services/keybinding/common/keybindingEditing","vs/css!vs/workbench/browser/parts/editor/media/breadcrumbscontrol","vs/workbench/services/themes/common/workbenchThemeService","vs/css!vs/editor/contrib/documentSymbols/media/symbol-icons","vs/base/browser/ui/splitview/panelview","vs/base/browser/ui/grid/gridview","vs/base/browser/event","vs/workbench/parts/preferences/browser/keybindingWidgets","vs/base/browser/ui/scrollbar/scrollableElement","vs/workbench/browser/parts/editor/breadcrumbsControl","vs/workbench/browser/parts/editor/editorPicker","vs/workbench/browser/parts/editor/titleControl","vs/workbench/browser/parts/quickopen/quickOpenController","vs/workbench/services/editor/browser/editorService","vs/css!vs/base/browser/ui/grid/gridview","vs/codesandbox/services/codesandbox/browser/codesandboxService","vs/base/common/htmlContent","vs/editor/common/config/editorOptions","vs/workbench/browser/parts/views/viewsViewlet","vs/editor/browser/widget/codeEditorWidget","vs/workbench/parts/search/browser/searchWidget","vs/workbench/services/progress/browser/progressService","vs/platform/instantiation/common/serviceCollection","vs/base/common/jsonEdit","vs/workbench/browser/actions/workspaceCommands","vs/workbench/browser/actions/workspaceActions","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/workbench/browser/parts/editor/binaryDiffEditor","vs/workbench/parts/files/electron-browser/views/explorerViewer","vs/css!vs/workbench/browser/parts/editor/media/resourceviewer","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/workbench/browser/parts/editor/media/tabstitlecontrol","vs/css!vs/workbench/browser/parts/editor/media/titlecontrol","vs/css!vs/workbench/browser/parts/media/compositepart","vs/css!vs/base/browser/ui/breadcrumbs/breadcrumbsWidget","vs/workbench/parts/preferences/common/smartSnippetInserter","vs/workbench/parts/search/browser/patternInputWidget","vs/css!vs/workbench/browser/parts/quickopen/media/quickopen","vs/platform/widget/browser/contextScopedHistoryWidget","vs/css!vs/workbench/browser/parts/sidebar/media/sidebarpart","vs/platform/windows/electron-browser/windowService","vs/editor/contrib/documentSymbols/outlineTree","vs/css!vs/workbench/browser/parts/views/media/panelviewlet","vs/css!vs/workbench/browser/parts/views/media/views","vs/css!vs/workbench/parts/codeEditor/electron-browser/media/suggestEnabledInput","vs/css!vs/workbench/parts/files/electron-browser/media/explorerviewlet","vs/css!vs/workbench/parts/files/electron-browser/media/fileactions","vs/workbench/parts/snippets/electron-browser/configureSnippets","vs/platform/extensionManagement/common/extensionEnablementService","vs/css!vs/workbench/parts/preferences/browser/media/keybindings","vs/editor/contrib/snippet/snippetParser","vs/workbench/parts/snippets/electron-browser/insertSnippet","vs/workbench/parts/terminal/common/terminal","vs/css!vs/workbench/parts/preferences/browser/media/keybindingsEditor","vs/workbench/api/electron-browser/extHostCustomers","vs/workbench/common/editor/untitledEditorModel","vs/css!vs/workbench/parts/preferences/browser/media/preferences","vs/css!vs/workbench/parts/preferences/browser/media/settingsWidgets","vs/css!vs/workbench/parts/preferences/electron-browser/media/settingsEditor2","vs/css!vs/workbench/parts/search/browser/media/searchview","vs/css!vs/workbench/parts/search/electron-browser/media/search.contribution","vs/workbench/services/decorations/browser/decorationsService","vs/css!vs/workbench/services/progress/browser/media/progressService2","vs/codesandbox/services/codesandbox/browser/codesandboxEditorConnectorService","vs/workbench/browser/parts/editor/rangeDecorations","vs/editor/common/controller/cursorEvents","vs/workbench/browser/parts/editor/resourceViewer","vs/base/browser/ui/dropdown/dropdown","vs/base/common/jsonFormatter","vs/css!vs/base/browser/ui/button/button","vs/base/browser/contextmenu","vs/codesandbox/backupFileService","vs/workbench/parts/quickopen/browser/gotoLineHandler","vs/workbench/browser/parts/quickinput/quickInputBox","vs/workbench/parts/quickopen/browser/gotoSymbolHandler","vs/workbench/parts/quickopen/browser/helpHandler","vs/base/common/octicon","vs/codesandbox/broadcastService","vs/workbench/services/codeEditor/browser/codeEditorService","vs/workbench/browser/parts/quickinput/quickInputList","vs/workbench/parts/quickopen/browser/commandsHandler","vs/platform/extensionManagement/common/extensionManagementUtil","vs/workbench/services/extensions/node/proxyIdentifier","vs/workbench/api/node/extHost.protocol","vs/workbench/api/electron-browser/mainThreadHeapService","vs/workbench/services/files/node/watcher/common","vs/codesandbox/fileService","vs/base/parts/tree/browser/treeUtils","vs/workbench/browser/actions/toggleEditorLayout","vs/codesandbox/clipboardService","vs/codesandbox/environmentService","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/codesandbox/services/codesandbox/common/codesandboxEditorConnector","vs/codesandbox/workbench","vs/workbench/services/keybinding/common/keybindingIO","vs/workbench/services/keybinding/common/macLinuxFallbackKeyboardMapper","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/codesandbox/keybindingService","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/workbench/services/keybinding/common/windowsKeyboardMapper","vs/base/common/keybindingLabels","vs/workbench/parts/preferences/browser/keybindingsEditorContribution","vs/workbench/services/mode/common/workbenchModeService","vs/codesandbox/services/codesandbox/codesandbox.contribution","vs/workbench/browser/actions/toggleTabsVisibility","vs/workbench/parts/snippets/electron-browser/tabCompletion","vs/workbench/common/activity","vs/codesandbox/extensionGalleryService","vs/workbench/browser/actions/toggleActivityBarVisibility","vs/workbench/browser/actions/toggleSidebarPosition","vs/workbench/browser/actions/toggleSidebarVisibility","vs/workbench/browser/actions/toggleZenMode","vs/workbench/browser/parts/editor/editorControl","vs/base/browser/ui/breadcrumbs/breadcrumbsWidget","vs/codesandbox/extensionManagementService","vs/base/browser/ui/countBadge/countBadge","vs/codesandbox/extensionService","vs/codesandbox/hashService","vs/workbench/browser/parts/quickinput/quickInput.contribution","vs/workbench/services/history/electron-browser/history","vs/css!vs/base/browser/ui/splitview/panelview","vs/css!vs/base/browser/ui/splitview/splitview","vs/codesandbox/commandService","vs/codesandbox/outputService","vs/base/browser/ui/aria/aria","vs/codesandbox/panelService","vs/workbench/common/memento","vs/workbench/parts/preferences/browser/tocTree","vs/workbench/parts/preferences/common/preferencesContribution","vs/base/common/numbers","vs/codesandbox/requestService","vs/workbench/parts/preferences/browser/preferencesRenderers","vs/workbench/services/preferences/browser/preferencesService","vs/platform/broadcast/electron-browser/broadcastService","vs/workbench/services/search/node/searchHistoryService","electron","vs/base/browser/ui/centered/centeredViewLayout","vs/codesandbox/notificationService","vs/editor/browser/widget/diffNavigator","vs/codesandbox/activityService","vs/base/browser/ui/grid/grid","vs/codesandbox/statusbarService","vs/workbench/browser/parts/editor/textResourceEditor","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/editor/contrib/documentSymbols/media/outlineTree","vs/workbench/parts/files/browser/editors/binaryFileEditor","vs/workbench/parts/files/browser/editors/fileEditorTracker","vs/codesandbox/windowsService","vs/editor/contrib/find/findController","vs/workbench/parts/preferences/electron-browser/settingsEditor2","vs/workbench/parts/search/browser/replaceService","vs/editor/browser/services/bulkEditService","vs/workbench/parts/search/browser/replaceContributions","vs/workbench/services/configuration/node/jsonEditingService","vs/css!vs/workbench/browser/actions/media/actions","vs/workbench/parts/preferences/browser/keybindingsEditor","vs/css!vs/workbench/browser/media/part","vs/codesandbox/services/codesandbox/saveParticipant","vs/editor/common/services/editorWorkerService","vs/workbench/services/textfile/common/textFileEditorModelManager","vs/workbench/services/textfile/common/textFileService","vs/css!vs/workbench/browser/parts/activitybar/media/activityaction","vs/codesandbox/fileDialogService","vs/codesandbox/searchService","vs/workbench/parts/codeEditor/browser/simpleEditorOptions","vs/workbench/parts/codeEditor/electron-browser/largeFileOptimizations","vs/css!vs/workbench/browser/parts/activitybar/media/activitybarpart","vs/codesandbox/services/codesandbox/codesandboxActions","vs/workbench/browser/parts/compositeBar","vs/workbench/parts/codeEditor/electron-browser/suggestEnabledInput","vs/workbench/browser/parts/editor/breadcrumbsPicker","vs/codesandbox/configuration.contribution","vs/workbench/browser/parts/editor/editorDropTarget","vs/codesandbox/workspacesService","vs/workbench/browser/parts/editor/editorStatus","vs/workbench/browser/parts/editor/editor.contribution","vs/css!vs/workbench/browser/parts/editor/media/editordroptarget","vs/workbench/browser/parts/editor/noTabsTitleControl","vs/workbench/browser/parts/editor/tabsTitleControl","vs/workbench/parts/codeEditor/electron-browser/toggleMinimap","vs/workbench/browser/parts/quickopen/quickopen.contribution","vs/workbench/parts/files/common/dirtyFilesTracker","vs/workbench/parts/search/browser/openFileHandler","vs/workbench/parts/search/browser/openAnythingHandler","vs/workbench/parts/codeEditor/electron-browser/toggleMultiCursorModifier","vs/workbench/services/textfile/electron-browser/textFileService","vs/workbench/parts/codeEditor/electron-browser/toggleRenderControlCharacter","vs/workbench/services/textmodelResolver/common/textModelResolverService","vs/workbench/parts/codeEditor/electron-browser/toggleRenderWhitespace","vs/workbench/browser/parts/activitybar/activitybarActions","vs/workbench/browser/parts/activitybar/activitybarPart","vs/workbench/parts/codeEditor/electron-browser/toggleWordWrap","vs/platform/search/common/replace","vs/workbench/browser/parts/views/views","vs/css!vs/workbench/browser/parts/editor/media/editorgroupview","vs/workbench/parts/files/browser/editors/textFileEditor","vs/workbench/parts/quickopen/browser/viewPickerHandler","vs/workbench/parts/quickopen/browser/quickopen.contribution","vs/css!vs/workbench/browser/parts/editor/media/editorpicker","vs/workbench/parts/search/browser/searchResultsView","vs/workbench/parts/search/browser/searchViewLocationUpdater","vs/workbench/parts/codeEditor/electron-browser/workbenchReferenceSearch","vs/editor/contrib/find/findModel","vs/css!vs/workbench/browser/parts/editor/media/editorstatus","vs/workbench/browser/parts/compositePart","vs/codesandbox/lifecycleService","vs/workbench/browser/parts/editor/editorGroupView","vs/workbench/browser/parts/editor/editorPart","vs/workbench/browser/parts/sidebar/sidebarPart","vs/workbench/services/progress/browser/progressService2","vs/workbench/services/viewlet/browser/viewletService","vs/codesandbox/codesandbox.services","vs/editor/standalone/browser/codesandbox.standaloneEditor","vs/editor/codesandbox.editor.api","vs/css!vs/workbench/browser/parts/editor/media/notabstitlecontrol","vs/base/browser/ui/list/listWidget","vs/workbench/parts/files/electron-browser/views/explorerDecorationsProvider","vs/base/common/performance","vs/platform/storage/common/storageService","vs/workbench/parts/files/electron-browser/saveErrorHandler","vs/workbench/parts/files/electron-browser/views/emptyView","vs/editor/contrib/indentation/indentation","vs/workbench/parts/files/electron-browser/views/explorerView","vs/workbench/parts/files/electron-browser/views/openEditorsView","vs/workbench/parts/files/electron-browser/explorerViewlet","vs/workbench/parts/files/electron-browser/files.contribution","vs/workbench/parts/preferences/browser/preferencesActions","vs/workbench/parts/preferences/electron-browser/preferences.contribution","vs/workbench/parts/search/browser/searchView","vs/workbench/parts/search/electron-browser/search.contribution","vs/codesandbox/codesandbox.all","vs/editor/contrib/codeAction/codeActionTrigger","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/codeAction/codeAction","vs/platform/keybinding/common/abstractKeybindingService","vs/base/node/request","vs/editor/contrib/suggest/suggestController","vs/editor/browser/widget/diffEditorWidget","vs/base/node/config","util","vs/editor/contrib/referenceSearch/referencesController","vs/editor/contrib/snippet/snippetVariables","fs","vs/platform/workbench/common/contextkeys","vs/editor/common/services/modeServiceImpl","vs/base/browser/htmlContentRenderer","vs/base/node/extfs","vs/base/browser/ui/selectBox/selectBox","vs/base/common/iterator","vs/base/common/linkedList","vs/editor/contrib/linesOperations/linesOperations","vs/platform/request/node/request","vs/editor/common/config/commonEditorConfig","vs/editor/common/editorCommon","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneServices","vs/editor/browser/services/openerService","vs/editor/standalone/browser/colorizer","vs/editor/standalone/browser/simpleServices","vs/editor/common/services/webWorker","vs/editor/common/modes/nullMode","vs/editor/standalone/common/standaloneThemeService","vs/editor/common/config/fontInfo","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/editor/contrib/folding/folding","vs/editor/common/standalone/standaloneBase","vs/editor/standalone/browser/standaloneLanguages","vs/base/common/winjs.polyfill.promise","vs/editor/contrib/message/messageController","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/quickOpen/quickOpen","vs/editor/common/modes/languageConfigurationRegistry","vs/base/parts/quickopen/browser/quickOpenWidget","vs/editor/common/commands/shiftCommand","vs/editor/contrib/indentation/indentUtils","vs/platform/markers/common/markers","vs/base/common/functional","vs/base/parts/tree/browser/tree","vs/base/parts/tree/browser/treeDnd","vs/base/node/encoding","vs/editor/browser/services/codeEditorServiceImpl","vs/base/browser/ui/menu/menu","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/contrib/contextmenu/contextmenu","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/contrib/format/format","vs/editor/contrib/format/formattingEdit","vs/base/browser/ui/sash/sash","vs/editor/codesandbox.editor.main","vs/editor/editor.all","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/base/browser/fastDomNode"],t=function(t){
for(var i=[],n=0,r=t.length;n<r;n++)i[n]=e[t[n]];return i};define(e[280],t([1,0,78]),function(e,t,i){"use strict";function n(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}function r(e,t,n){function r(){return g+o(h,c+v)}function s(){var e=m.scan();for(f=!1;15===e||14===e;)f=f||14===e,e=m.scan();return e}function a(t,i,n){e.substring(i,n)!==t&&y.push({offset:i,length:n-i,content:t})}var c,l,u,d;if(t){for(d=(u=t.offset)+t.length;u>0&&!function(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}(e,u-1);)u--;var p=i.createScanner(e,!0);p.setPosition(d),p.scan(),d=p.getPosition(),l=e.substring(u,d),c=function(e,t,i){var n=0,r=0,o=i.tabSize||4;for(;n<e.length;){var s=e.charAt(n);if(" "===s)r++;else{if("\t"!==s)break;r+=o}n++}return Math.floor(r/o)}(l,0,n)}else l=e,u=0,d=e.length,c=0;var h,g=function(e,t){for(var i=0;i<t.length;i++){var n=t.charAt(i);if("\r"===n)return i+1<t.length&&"\n"===t.charAt(i+1)?"\r\n":"\r";if("\n"===n)return"\n"}return e&&e.eol||"\n"}(n,e),f=!1,v=0
;h=n.insertSpaces?o(" ",n.tabSize):"\t";var m=i.createScanner(l,!1),y=[],S=s();if(16!==S){var b=m.getTokenOffset()+u;a(o(h,c),u,b)}for(;16!==S;){for(var E=m.getTokenOffset()+m.getTokenLength()+u,w=s(),C="";!f&&(12===w||13===w);){a(" ",E,m.getTokenOffset()+u),E=m.getTokenOffset()+m.getTokenLength()+u,C=12===w?r():"",w=s()}if(2===w)1!==S&&(v--,C=r());else if(4===w)3!==S&&(v--,C=r());else if(16!==w){switch(S){case 3:case 1:v++,C=r();break;case 5:case 12:C=r();break;case 13:C=f?r():" ";break;case 6:C=" ";break;case 7:case 8:case 9:case 11:7!==w&&9!==w&&11!==w||(C=" ")}!f||12!==w&&13!==w||(C=r())}a(C,E,m.getTokenOffset()+u),S=w}return y}function o(e,t){for(var i="",n=0;n<t;n++)i+=e;return i}Object.defineProperty(t,"__esModule",{value:!0}),t.applyEdit=n,t.applyEdits=function(e,t){for(var i=t.length-1;i>=0;i--)e=n(e,t[i]);return e},t.format=r}),define(e[235],t([1,0,78,280]),function(e,t,i,n){"use strict";function r(e,t,n,r,s){for(var a,c=i.parseTree(e,[]),l=void 0,u=void 0;t.length>0&&(u=t.pop(),
void 0===(l=i.findNodeAtLocation(c,t))&&void 0!==n);)"string"==typeof u?((a={})[u]=n,n=a):n=[n];if(l){if("object"===l.type&&"string"==typeof u){var d=i.findNodeAtLocation(l,[u]);if(void 0!==d){if(void 0===n){var p=l.children.indexOf(d.parent),h=void 0,g=d.parent.offset+d.parent.length;if(p>0){h=(b=l.children[p-1]).offset+b.length}else if(h=l.offset+1,l.children.length>1){g=l.children[1].offset}return o(e,{offset:h,length:g-h,content:""},r)}return o(e,{offset:d.offset,length:d.length,content:JSON.stringify(n)},r)}if(void 0===n)return[];var f=JSON.stringify(u)+": "+JSON.stringify(n),v=s?s(l.children.map(function(e){return e.children[0].value})):l.children.length,m=void 0;if(v>0){m={offset:(b=l.children[v-1]).offset+b.length,length:0,content:","+f}}else m=0===l.children.length?{offset:l.offset+1,length:0,content:f}:{offset:l.offset+1,length:0,content:f+","};return o(e,m,r)}if("array"===l.type&&"number"==typeof u){if(-1===u){var f=""+JSON.stringify(n),m=void 0;if(0===l.children.length)m={offset:l.offset+1,
length:0,content:f};else{m={offset:(b=l.children[l.children.length-1]).offset+b.length,length:0,content:","+f}}return o(e,m,r)}if(void 0===n&&l.children.length>=0){var y=u,S=l.children[y],m=void 0;if(1===l.children.length)m={offset:l.offset+1,length:l.length-2,content:""};else if(l.children.length-1===y){var b=l.children[y-1],E=b.offset+b.length;m={offset:E,length:l.offset+l.length-2-E,content:""}}else m={offset:S.offset,length:l.children[y+1].offset-S.offset,content:""};return o(e,m,r)}throw new Error("Array modification not supported yet")}throw new Error("Can not add "+("number"!=typeof u?"index":"property")+" to parent of type "+l.type)}if(void 0===n)throw new Error("Can not delete in empty document");return o(e,{offset:c?c.offset:0,length:c?c.length:0,content:JSON.stringify(n)},r)}function o(e,t,i){for(var r=n.applyEdit(e,t),o=t.offset,s=t.offset+t.content.length,a=n.format(r,{offset:o,length:s-o},i),c=a.length-1;c>=0;c--){var l=a[c];r=n.applyEdit(r,l),o=Math.min(o,l.offset),
s=Math.max(s,l.offset+l.length),s+=l.content.length-l.length}return[{offset:o,length:e.length-(r.length-s)-o,content:r.substring(o,s)}]}Object.defineProperty(t,"__esModule",{value:!0}),t.removeProperty=function(e,t,i){return r(e,t,void 0,i)},t.setProperty=r}),"function"!=typeof define&&"object"==typeof module&&"object"==typeof module.exports&&(global.define=function(e,t){module.exports=t(),global.define=void 0}),define("vs/base/common/performance",[],function(){function e(e){const t=global._performanceEntries;for(let i=t.length-1;i>=0;i-=5)if(t[i-3]===e)return t[i-2];throw new Error(e+" not found")}var t=this;"undefined"!=typeof global&&(t=global),t._performanceEntries=t._performanceEntries||[];const i=Date.now;let n=0;return{mark:function(e){global._performanceEntries.push("mark",e,i(),0,n++),"function"==typeof console.timeStamp&&console.timeStamp(e)},measure:function(t,n,r){let o,s,a=i();o=n?e(n):a,s=r?e(r)-o:a-o,global._performanceEntries.push("measure",t,o,s)},getEntries:function(e,t){
const i=[],n=global._performanceEntries;for(let r=0;r<n.length;r+=5)n[r]!==e||void 0!==t&&n[r+1]!==t||i.push({type:n[r],name:n[r+1],startTime:n[r+2],duration:n[r+3],seq:n[r+4]});return i.sort((e,t)=>e.startTime-t.startTime||e.seq-t.seq)},getEntry:function(e,t){const i=global._performanceEntries;for(let n=0;n<i.length;n+=5)if(i[n]===e&&i[n+1]===t)return{type:i[n],name:i[n+1],startTime:i[n+2],duration:i[n+3],seq:i[n+4]}},getDuration:function(e,t){const i=global._performanceEntries;let n=t,r=0;for(let o=i.length-1;o>=0;o-=5)if(i[o-3]===n){if(n!==t)return r-i[o-2];r=i[o-2],n=e}return 0},importEntries:function(e){global._performanceEntries.splice(0,0,...e)},exportEntries:function(){return global._performanceEntries.slice(0)}}}),define(e[145],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],n=Object.create(null),r=Object.create(null);t.ScanCodeUtils={lowerCaseToEnum:function(e){return r[e]||0},toEnum:function(e){return n[e]||0},toString:function(e){return i[e]||"None"}},
t.IMMUTABLE_CODE_TO_KEY_CODE=[],t.IMMUTABLE_KEY_CODE_TO_CODE=[];var o=function(){function e(e,t,i,n,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.scanCode=r}return e.prototype.equals=function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.scanCode===e.scanCode},e.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&(157===this.scanCode||161===this.scanCode)||this.shiftKey&&(158===this.scanCode||162===this.scanCode)||this.altKey&&(159===this.scanCode||163===this.scanCode)||this.metaKey&&(160===this.scanCode||164===this.scanCode)},e}();t.ScanCodeBinding=o,function(){function e(e,t){i[e]=t,n[t]=e,r[t.toLowerCase()]=e}e(0,"None"),e(1,"Hyper"),e(2,"Super"),e(3,"Fn"),e(4,"FnLock"),e(5,"Suspend"),e(6,"Resume"),e(7,"Turbo"),e(8,"Sleep"),e(9,"WakeUp"),e(10,"KeyA"),e(11,"KeyB"),e(12,"KeyC"),e(13,"KeyD"),e(14,"KeyE"),e(15,"KeyF"),e(16,"KeyG"),e(17,"KeyH"),e(18,"KeyI"),e(19,"KeyJ"),e(20,"KeyK"),e(21,"KeyL"),
e(22,"KeyM"),e(23,"KeyN"),e(24,"KeyO"),e(25,"KeyP"),e(26,"KeyQ"),e(27,"KeyR"),e(28,"KeyS"),e(29,"KeyT"),e(30,"KeyU"),e(31,"KeyV"),e(32,"KeyW"),e(33,"KeyX"),e(34,"KeyY"),e(35,"KeyZ"),e(36,"Digit1"),e(37,"Digit2"),e(38,"Digit3"),e(39,"Digit4"),e(40,"Digit5"),e(41,"Digit6"),e(42,"Digit7"),e(43,"Digit8"),e(44,"Digit9"),e(45,"Digit0"),e(46,"Enter"),e(47,"Escape"),e(48,"Backspace"),e(49,"Tab"),e(50,"Space"),e(51,"Minus"),e(52,"Equal"),e(53,"BracketLeft"),e(54,"BracketRight"),e(55,"Backslash"),e(56,"IntlHash"),e(57,"Semicolon"),e(58,"Quote"),e(59,"Backquote"),e(60,"Comma"),e(61,"Period"),e(62,"Slash"),e(63,"CapsLock"),e(64,"F1"),e(65,"F2"),e(66,"F3"),e(67,"F4"),e(68,"F5"),e(69,"F6"),e(70,"F7"),e(71,"F8"),e(72,"F9"),e(73,"F10"),e(74,"F11"),e(75,"F12"),e(76,"PrintScreen"),e(77,"ScrollLock"),e(78,"Pause"),e(79,"Insert"),e(80,"Home"),e(81,"PageUp"),e(82,"Delete"),e(83,"End"),e(84,"PageDown"),e(85,"ArrowRight"),e(86,"ArrowLeft"),e(87,"ArrowDown"),e(88,"ArrowUp"),e(89,"NumLock"),e(90,"NumpadDivide"),
e(91,"NumpadMultiply"),e(92,"NumpadSubtract"),e(93,"NumpadAdd"),e(94,"NumpadEnter"),e(95,"Numpad1"),e(96,"Numpad2"),e(97,"Numpad3"),e(98,"Numpad4"),e(99,"Numpad5"),e(100,"Numpad6"),e(101,"Numpad7"),e(102,"Numpad8"),e(103,"Numpad9"),e(104,"Numpad0"),e(105,"NumpadDecimal"),e(106,"IntlBackslash"),e(107,"ContextMenu"),e(108,"Power"),e(109,"NumpadEqual"),e(110,"F13"),e(111,"F14"),e(112,"F15"),e(113,"F16"),e(114,"F17"),e(115,"F18"),e(116,"F19"),e(117,"F20"),e(118,"F21"),e(119,"F22"),e(120,"F23"),e(121,"F24"),e(122,"Open"),e(123,"Help"),e(124,"Select"),e(125,"Again"),e(126,"Undo"),e(127,"Cut"),e(128,"Copy"),e(129,"Paste"),e(130,"Find"),e(131,"AudioVolumeMute"),e(132,"AudioVolumeUp"),e(133,"AudioVolumeDown"),e(134,"NumpadComma"),e(135,"IntlRo"),e(136,"KanaMode"),e(137,"IntlYen"),e(138,"Convert"),e(139,"NonConvert"),e(140,"Lang1"),e(141,"Lang2"),e(142,"Lang3"),e(143,"Lang4"),e(144,"Lang5"),e(145,"Abort"),e(146,"Props"),e(147,"NumpadParenLeft"),e(148,"NumpadParenRight"),e(149,"NumpadBackspace"),
e(150,"NumpadMemoryStore"),e(151,"NumpadMemoryRecall"),e(152,"NumpadMemoryClear"),e(153,"NumpadMemoryAdd"),e(154,"NumpadMemorySubtract"),e(155,"NumpadClear"),e(156,"NumpadClearEntry"),e(157,"ControlLeft"),e(158,"ShiftLeft"),e(159,"AltLeft"),e(160,"MetaLeft"),e(161,"ControlRight"),e(162,"ShiftRight"),e(163,"AltRight"),e(164,"MetaRight"),e(165,"BrightnessUp"),e(166,"BrightnessDown"),e(167,"MediaPlay"),e(168,"MediaRecord"),e(169,"MediaFastForward"),e(170,"MediaRewind"),e(171,"MediaTrackNext"),e(172,"MediaTrackPrevious"),e(173,"MediaStop"),e(174,"Eject"),e(175,"MediaPlayPause"),e(176,"MediaSelect"),e(177,"LaunchMail"),e(178,"LaunchApp2"),e(179,"LaunchApp1"),e(180,"SelectTask"),e(181,"LaunchScreenSaver"),e(182,"BrowserSearch"),e(183,"BrowserHome"),e(184,"BrowserBack"),e(185,"BrowserForward"),e(186,"BrowserStop"),e(187,"BrowserRefresh"),e(188,"BrowserFavorites"),e(189,"ZoomToggle"),e(190,"MailReply"),e(191,"MailForward"),e(192,"MailSend")}(),function(){function e(e,i){t.IMMUTABLE_CODE_TO_KEY_CODE[e]=i,
0!==i&&3!==i&&5!==i&&4!==i&&6!==i&&57!==i&&(t.IMMUTABLE_KEY_CODE_TO_CODE[i]=e)}for(i=0;i<=193;i++)t.IMMUTABLE_CODE_TO_KEY_CODE[i]=-1;for(var i=0;i<=112;i++)t.IMMUTABLE_KEY_CODE_TO_CODE[i]=-1;t.IMMUTABLE_KEY_CODE_TO_CODE[3]=46,e(0,0),e(1,0),e(2,0),e(3,0),e(4,0),e(5,0),e(6,0),e(7,0),e(8,0),e(9,0),e(46,3),e(47,9),e(48,1),e(49,2),e(50,10),e(63,8),e(64,59),e(65,60),e(66,61),e(67,62),e(68,63),e(69,64),e(70,65),e(71,66),e(72,67),e(73,68),e(74,69),e(75,70),e(76,0),e(77,79),e(78,7),e(79,19),e(80,14),e(81,11),e(82,20),e(83,13),e(84,12),e(85,17),e(86,15),e(87,18),e(88,16),e(89,78),e(90,108),e(91,103),e(92,106),e(93,104),e(94,3),e(95,94),e(96,95),e(97,96),e(98,97),e(99,98),e(100,99),e(101,100),e(102,101),e(103,102),e(104,93),e(105,107),e(107,58),e(108,0),e(109,0),e(110,71),e(111,72),e(112,73),e(113,74),e(114,75),e(115,76),e(116,77),e(117,0),e(118,0),e(119,0),e(120,0),e(121,0),e(122,0),e(123,0),e(124,0),e(125,0),e(126,0),e(127,0),e(128,0),e(129,0),e(130,0),e(131,0),e(132,0),e(133,0),e(134,105),e(136,0),e(138,0),e(139,0),
e(140,0),e(141,0),e(142,0),e(143,0),e(144,0),e(145,0),e(146,0),e(147,0),e(148,0),e(149,0),e(150,0),e(151,0),e(152,0),e(153,0),e(154,0),e(155,0),e(156,0),e(157,5),e(158,4),e(159,6),e(160,57),e(161,5),e(162,4),e(163,6),e(164,57),e(165,0),e(166,0),e(167,0),e(168,0),e(169,0),e(170,0),e(171,0),e(172,0),e(173,0),e(174,0),e(175,0),e(176,0),e(177,0),e(178,0),e(179,0),e(180,0),e(181,0),e(182,0),e(183,0),e(184,0),e(185,0),e(186,0),e(187,0),e(188,0),e(189,0),e(190,0),e(191,0),e(192,0)}()}),define(e[170],t([1,0,65,145]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e._readModifiers=function(e){e=e.toLowerCase().trim();var t,i=!1,n=!1,r=!1,o=!1;do{t=!1,/^ctrl(\+|\-)/.test(e)&&(i=!0,e=e.substr("ctrl-".length),t=!0),/^shift(\+|\-)/.test(e)&&(n=!0,e=e.substr("shift-".length),t=!0),/^alt(\+|\-)/.test(e)&&(r=!0,e=e.substr("alt-".length),t=!0),/^meta(\+|\-)/.test(e)&&(o=!0,e=e.substr("meta-".length),t=!0),/^win(\+|\-)/.test(e)&&(o=!0,
e=e.substr("win-".length),t=!0),/^cmd(\+|\-)/.test(e)&&(o=!0,e=e.substr("cmd-".length),t=!0)}while(t);var s,a=e.indexOf(" ");return a>0?(s=e.substring(0,a),e=e.substring(a)):(s=e,e=""),{remains:e,ctrl:i,shift:n,alt:r,meta:o,key:s}},e.parseSimpleKeybinding=function(e){var t=this._readModifiers(e),n=i.KeyCodeUtils.fromUserSettings(t.key);return[new i.SimpleKeybinding(t.ctrl,t.shift,t.alt,t.meta,n),t.remains]},e.parseKeybinding=function(e,t){if(!e)return null;var n=this.parseSimpleKeybinding(e),r=n[0],o=n[1],s=null;return o.length>0&&(s=this.parseSimpleKeybinding(o)[0]),s?new i.ChordKeybinding(r,s):r},e.parseSimpleUserBinding=function(e){var t=this._readModifiers(e),r=t.key.match(/^\[([^\]]+)\]$/);if(r){var o=r[1],s=n.ScanCodeUtils.lowerCaseToEnum(o);return[new n.ScanCodeBinding(t.ctrl,t.shift,t.alt,t.meta,s),t.remains]}var a=i.KeyCodeUtils.fromUserSettings(t.key);return[new i.SimpleKeybinding(t.ctrl,t.shift,t.alt,t.meta,a),t.remains]},e.parseUserBinding=function(e){if(!e)return[null,null]
;var t=this.parseSimpleUserBinding(e),i=t[0],n=t[1],r=null;return n.length>0&&(r=this.parseSimpleUserBinding(n)[0]),[i,r]},e}();t.KeybindingParser=r}),define(e[288],t([1,0,72,22]),function(e,t,i,n){"use strict";function r(e){var t=e.indexOf(o);return-1===t?{text:e}:function(e,t){function i(e){if(e){r+=e;for(var t=0;t<e.length;t++)n.push(u)}}var n=[],r="";var s,a,c=-1,l="",u=0,d=t,p=e.length;i(e.substr(0,t));for(;d<p;){if(s=e[d],a=e[d+1],s===o[0]&&a===o[1])c=d,i(l),l=o,d++;else if(")"===s&&-1!==c){u+=d-c+1,c=-1,l=""}else-1!==c?l+=s:i(s);d++}return i(l),{text:r,octiconOffsets:n}}(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var o="$(";t.parseOcticons=r,t.matchesFuzzyOcticonAware=function(e,t,r){void 0===r&&(r=!1);var o=t.text,s=t.octiconOffsets;if(!s||0===s.length)return i.matchesFuzzy(e,o,r);var a=n.ltrim(o," "),c=o.length-a.length,l=i.matchesFuzzy(e,a,r);if(l)for(var u=0;u<l.length;u++){var d=s[l[u].start+c]+c;l[u].start+=d,l[u].end+=d}return l}}),
define(e[147],t([1,0,168,72,25,20,22]),function(e,t,i,n,r,o,s){"use strict";function a(e,t,i,r){if(!e||!t)return p;var o=e.length,s=t.length;if(o<s)return p;var a=e.toLowerCase();if(!r){if(-1===a.indexOf(i))return p}return function(e,t,i,r,o,s){for(var a=[],c=[],l=0;l<i;l++)for(var u=0;u<s;u++){var p=l*s+u,h=(l-1)*s+u-1,g=u>0?a[p-1]:0,f=l>0&&u>0?a[h]:0,v=l>0&&u>0?c[h]:0,m=void 0;(m=!f&&l>0?0:function(e,t,i,r,o,s,a){var c=0;if(t[i]!==o[s])return c;c+=1,a>0&&(c+=5*a);e[i]===r[s]&&(c+=1);if(0===s)c+=8;else{var l=function(e){switch(e){case 47:case 92:return 5;case 95:case 45:case 46:case 32:case 39:case 34:case 58:return 4;default:return 0}}(r.charCodeAt(s-1));l?c+=l:n.isUpper(r.charCodeAt(s))&&(c+=1)}return c}(e,t,l,r,o,u,v))&&f+m>=g?(c[p]=v+1,a[p]=f+m):(c[p]=d,a[p]=g)}var y=[],S=i-1,b=s-1;for(;S>=0&&b>=0;){c[p=S*s+b]===d?b--:(y.push(b),S--,b--)}return[a[i*s-1],y.reverse()]}(t,i,s,e,a,o)}function c(e,t,i,c,l){if(!e||!t.value)return h;var u=c.getItemLabel(e);if(!u)return h
;var d,p=c.getItemDescription(e),y=l[d=p?""+u+p+t.value+i:""+u+t.value+i];if(y)return y;var S=function(e,t,i,c,l){if(i&&o.isLinux?c.original===i:s.equalsIgnoreCase(c.original,i))return{score:g,labelMatch:[{start:0,end:e.length}],descriptionMatch:t?[{start:0,end:t.length}]:void 0};if(!i||!c.containsPathSeparator){var u=n.matchesPrefix(c.value,e);if(u)return{score:f,labelMatch:u};var d=n.matchesCamelCase(c.value,e);if(d)return{score:v,labelMatch:d};var p=a(e,c.value,c.lowercase,l),y=p[0],S=p[1];if(y)return{score:y+m,labelMatch:n.createMatches(S)}}if(t){var b=t;i&&(b=""+t+r.nativeSep);var E=b.length,w=a(""+b+e,c.value,c.lowercase,l),C=w[0],I=w[1];if(C){var _=[],D=[];return n.createMatches(I).forEach(function(e){e.start<E&&e.end>E?(_.push({start:0,end:e.end-E}),D.push({start:e.start,end:E})):e.start>=E?_.push({start:e.start-E,end:e.end-E}):D.push(e)}),{score:C,labelMatch:_,descriptionMatch:D}}}return h}(u,p,c.getItemPath(e),t,i);return l[d]=S,S}function l(e,t,i){
var n=t.labelMatch&&t.labelMatch.length,r=t.descriptionMatch&&t.descriptionMatch.length,o=-1,s=-1;if(r?o=t.descriptionMatch[0].start:n&&(o=t.labelMatch[0].start),n){if(s=t.labelMatch[t.labelMatch.length-1].end,r){var a=i.getItemDescription(e);a&&(s+=a.length)}}else r&&(s=t.descriptionMatch[t.descriptionMatch.length-1].end);return s-o}function u(e,t,n,r){var o=r.getItemLabel(e),s=r.getItemLabel(t),a=r.getItemDescription(e),c=r.getItemDescription(t),l=o.length+(a?a.length:0),u=s.length+(c?c.length:0);if(l!==u)return l-u;var d=r.getItemPath(e),p=r.getItemPath(t);return d&&p&&d.length!==p.length?d.length-p.length:o!==s?i.compareAnything(o,s,n.value):a&&c&&a!==c?i.compareAnything(a,c,n.value):d&&p&&d!==p?i.compareAnything(d,p,n.value):0}Object.defineProperty(t,"__esModule",{value:!0});var d=0,p=[d,[]];t.score=a;var h=Object.freeze({score:0}),g=1<<18,f=1<<17,v=65536,m=32768;t.prepareQuery=function(e){var t,i,n;return e&&(n=s.stripWildcards(e).replace(/\s/g,""),o.isWindows&&(n=n.replace(/\//g,r.nativeSep)),
t=n.toLowerCase(),i=n.indexOf(r.nativeSep)>=0),{original:e,value:n,lowercase:t,containsPathSeparator:i}},t.scoreItem=c,t.compareItemsByScore=function(e,t,i,n,r,o,s){void 0===s&&(s=u);var a=c(e,i,n,r,o),d=c(t,i,n,r,o),p=a.score,h=d.score;if((p===g||h===g)&&p!==h)return p===g?-1:1;if(p===f||h===f){if(p!==h)return p===f?-1:1;var y=r.getItemLabel(e),S=r.getItemLabel(t);if(y.length!==S.length)return y.length-S.length}if(p===v||h===v){if(p!==h)return p===v?-1:1;var y=r.getItemLabel(e),S=r.getItemLabel(t),b=function(e,t){if(!e&&!t||!e.length&&!t.length)return 0;if(!t||!t.length)return-1;if(!e||!e.length)return 1;var i=e[0].start,n=e[e.length-1].end-i,r=t[0].start,o=t[t.length-1].end-r;return n===o?0:o<n?1:-1}(a.labelMatch,d.labelMatch);if(0!==b)return b;if(y.length!==S.length)return y.length-S.length}if(p>m||h>m){if(h<m)return-1;if(p<m)return 1}if(p!==h)return p>h?-1:1;var E=l(e,a,r),w=l(t,d,r);return E&&w&&E!==w?w>E?-1:1:s(e,t,i,r)},t.fallbackCompare=u}),define(e[299],t([1,0]),function(e,t){"use strict"
;function i(e,t,i){var n=e.getNavigator(t);do{if(t===i)return!0}while(t=n.parent());return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.collapseAll=function(e,t){for(var n,r=e.getNavigator();n=r.next();)t&&i(e,t,n)||e.collapse(n)},t.isEqualOrParent=i,t.expandAll=function(e){for(var t,i=e.getNavigator();t=i.next();)e.expand(t)}}),define(e[352],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.showActivity=function(e,t,n,r){return console.log("activityService",e,t,n,r),i.toDisposable(function(){return!0})},e.prototype.getPinnedViewletIds=function(){return console.log("getPinnedViewletIds called"),[]},e}();t.CodeSandboxActivityService=n}),define(e[283],t([1,0,6]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.hasBackups=function(){return new i.TPromise(function(e){return e(!1)})},e.prototype.loadBackupResource=function(e){
return new i.TPromise(function(e){return e(null)})},e.prototype.toBackupResource=function(e){return e},e.prototype.backupResource=function(e,t,n){return new i.TPromise(function(e){return e(null)})},e.prototype.getWorkspaceFileBackups=function(){return new i.TPromise(function(e){return e(null)})},e.prototype.resolveBackupContent=function(e){return new i.TPromise(function(e){return e(null)})},e.prototype.discardResourceBackup=function(e){return new i.TPromise(function(e){return e(null)})},e.prototype.discardAllWorkspaceBackups=function(){return new i.TPromise(function(e){return e(null)})},e}();t.CodeSandboxBackupService=n}),define(e[289],t([1,0,5]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.windowId=e,this._onBroadcast=new i.Emitter,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;(window||self).addEventListener("message",function(t){var i=t.data;if("broadcast"===i.$type&&i.$windowId!==e.windowId){var n=i.b
;e._onBroadcast.fire(n)}})},Object.defineProperty(e.prototype,"onBroadcast",{get:function(){return this._onBroadcast.event},enumerable:!0,configurable:!0}),e.prototype.broadcast=function(e){console.log("Sending broadcast",e),(window.parent||window).postMessage({$type:"broadcast",$windowId:this.windowId,b:e},"*")},e}();t.CodeSandboxBroadcastService=n}),define(e[301],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.writeText=function(e){navigator.clipboard.writeText(e)},e.prototype.readText=function(){return function(){var e=document.createElement("input");document.body.appendChild(e),e.focus(),document.execCommand("paste");var t=e.value;return document.body.removeChild(e),t}()||""},e.prototype.readFindText=function(){return""},e.prototype.writeFindText=function(e){},e.prototype.writeResources=function(e){},e.prototype.readResources=function(){return[]},e.prototype.hasResources=function(){return!1},e}()
;t.CodeSandboxClipboardService=i}),define(e[302],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(){this.args={_:[]},this.appRoot="/vscode",this.userHome="/home/codesandbox",this.userDataPath="/vscode/userdata",this.appNameLong="CodeSandbox",this.appQuality="Very Good",this.appSettingsHome="/vscode",this.appSettingsPath="/vscode/settings.json",this.appKeybindingsPath="/vscode/keybindings.json",this.isExtensionDevelopment=!1,this.extensionsPath="/vscode/extensions",this.debugExtensionHost={debugId:"",port:null,break:!1}}}();t.CodeSandboxEnvironmentService=i}),define(e[320],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.getExtension=function(e,t){throw new Error("Method not implemented.")},e.prototype.isEnabled=function(){return!1},e.prototype.reportStatistic=function(e,t,i,n){throw new Error("Method not implemented.")},e.prototype.query=function(e){
throw new Error("query not implemented")},e.prototype.download=function(e,t){throw new Error("\tdownload not implemented")},e.prototype.getReadme=function(e){throw new Error("\tgetReadme not implemented")},e.prototype.getManifest=function(e){throw new Error("\tgetManifest not implemented")},e.prototype.getChangelog=function(e){throw new Error("\tgetChangelog not implemented")},e.prototype.getCoreTranslation=function(e,t){throw new Error("getCoreTranslation not implemented")},e.prototype.loadCompatibleVersion=function(e){throw new Error("loadCompatibleVersion not implemented")},e.prototype.loadAllDependencies=function(e){throw new Error("loadAllDependencies not implemented")},e.prototype.getExtensionsReport=function(){throw new Error("getExtensionsReport not implemented")},e}();t.CodeSandboxExtensionGalleryService=i}),define(e[327],t([1,0,5]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._onInstallExtension=new i.Emitter,
this.onInstallExtension=this._onInstallExtension.event,this._onDidInstallExtension=new i.Emitter,this.onDidInstallExtension=this._onDidInstallExtension.event,this._onUninstallExtension=new i.Emitter,this.onUninstallExtension=this._onUninstallExtension.event,this._onDidUninstallExtension=new i.Emitter,this.onDidUninstallExtension=this._onDidUninstallExtension.event}return e.prototype.zip=function(e){throw new Error("zip not implemented")},e.prototype.unzip=function(e,t){throw new Error("unzip not implemented")},e.prototype.install=function(e){throw new Error("install not implemented")},e.prototype.installFromGallery=function(e){throw new Error("installFromGallery not implemented")},e.prototype.uninstall=function(e,t){throw new Error("uninstall not implemented")},e.prototype.reinstallFromGallery=function(e){throw new Error("reinstallFromGallery not implemented")},e.prototype.getInstalled=function(e){return new Promise(function(){return[]})},e.prototype.getExtensionsReport=function(){
throw new Error("getExtensionsReport not implemented")},e.prototype.updateMetadata=function(e,t){throw new Error("updateMetadata not implemented")},e}();t.CodeSandboxExtensionManagementService=n});var i=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define(e[329],t([1,0,5,6,4]),function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onDidRegisterExtensions=t._register(new n.Emitter),t.onDidRegisterExtensions=t._onDidRegisterExtensions.event,t._onDidChangeExtensionsStatus=t._register(new n.Emitter),t.onDidChangeExtensionsStatus=t._onDidChangeExtensionsStatus.event,t}return i(t,e),
t.prototype.getInspectPort=function(){throw new Error("Method not implemented.")},t.prototype.activateByEvent=function(e){return new r.TPromise(function(e){return e(null)})},t.prototype.whenInstalledExtensionsRegistered=function(){return new r.TPromise(function(e){return e(!0)})},t.prototype.getExtensions=function(){return new r.TPromise(function(e){return e([])})},t.prototype.readExtensionPointContributions=function(e){return new r.TPromise(function(e){return e([])})},t.prototype.getExtensionsStatus=function(){return{}},t.prototype.canProfileExtensionHost=function(){return!1},t.prototype.startExtensionHostProfile=function(){return new r.TPromise(function(e){return e(null)})},t.prototype.restartExtensionHost=function(){},t.prototype.startExtensionHost=function(){},t.prototype.stopExtensionHost=function(){},t}(o.Disposable);t.CodeSandboxExtensionService=s}),define(e[330],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}
return e.prototype.createSHA1=function(e){return e},e}();t.CodeSandboxHashService=i}),define(e[336],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.getChannelDescriptors=function(){throw new Error("Method not implemented.")},e.prototype.getChannel=function(e){throw new Error("getChannel not implemented.")},e.prototype.getActiveChannel=function(){throw new Error("getActiveChannel not implemented.")},e.prototype.showChannel=function(e,t){throw new Error("showChannel not implemented.")},e}();t.CodeSandboxOutputService=i}),define(e[338],t([1,0,5,6]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new(function(){function e(){}return e.prototype.getId=function(){return"panel"},e.prototype.getTitle=function(){return"codesandboxPanel"},e.prototype.getActions=function(){return console.log("getActions"),[]},e.prototype.getSecondaryActions=function(){return console.log("getSecondaryActions"),[]},
e.prototype.getContextMenuActions=function(){return console.log("getContextMenuActions"),[]},e.prototype.getActionItem=function(e){throw new Error("getActionItem")},e.prototype.getControl=function(){throw new Error("getControl")},e.prototype.focus=function(){console.log("focus")},e}()),o=function(){function e(){this.onDidPanelOpen=(new i.Emitter).event,this.onDidPanelClose=(new i.Emitter).event}return e.prototype.openPanel=function(e,t){return console.log("openPanel",e,t),new n.TPromise(function(e){return e(r)})},e.prototype.getActivePanel=function(){return r},e.prototype.getPanels=function(){return[{id:"codesandboxPanel",name:"CodeSandbox Panel",cssClass:"csb"}]},e.prototype.setPanelEnablement=function(e,t){console.log("setPanelEnablement",e,t)},e}();t.CodeSandboxPanelService=o}),define(e[343],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.request=function(e,t){var i={url:e.url,headers:e.headers,cache:"only-if-cached",
credentials:"same-origin",destination:"document",integrity:void 0,isHistoryNavigation:!1,isReloadNavigation:!1,keepalive:!0,method:"GET",mode:"same-origin",redirect:"error",referrer:document.location.origin,referrerPolicy:"origin-only"};return window.fetch(i).then(function(e){var t={};return e.headers.forEach(function(e,i){t[i]=e}),{res:{headers:t,statusCode:e.status},stream:e.body.getReader()}})},e}();t.CodeSandboxRequestService=i}),define(e[227],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.controller=e}return e.prototype.getController=function(){return this.controller},e.prototype.runSignal=function(e,t){return this.controller.getSignal(e)(t)},e.prototype.getThemes=function(){return this.controller.getState("editor.themes")},e.prototype.getCurrentTheme=function(){return this.controller.getState("preferences.settings.editorTheme")},e.prototype.getFilesByPath=function(){var e={},t=this.controller.getState("editor.modulesByPath")
;return Object.keys(t).forEach(function(i){e["/sandbox"+i]=t[i]}),e},e.prototype.openPreviewExternally=function(){"function"==typeof window.openNewWindow&&window.openNewWindow()},e.prototype.showNotification=function(e,t){this.runSignal("notificationAdded",{type:e,message:t})},e}();t.CodeSandboxService=i}),define(e[354],t([1,0,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.addEntry=function(e,t,n){return console.log("Adding statusbar entry",e,t,n),i.toDisposable(function(){})},e.prototype.setStatusMessage=function(e,t,n){return console.log("Setting status message",e),i.toDisposable(function(){})},e}();t.CodeSandboxStatusbarService=n}),define(e[360],t([1,0,6,5]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this._onWindowOpen=new n.Emitter,this._onWindowFocus=new n.Emitter,this._onWindowBlur=new n.Emitter,this._onWindowMaximize=new n.Emitter,
this._onWindowUnmaximize=new n.Emitter,this.onWindowOpen=this._onWindowOpen.event,this.onWindowFocus=this._onWindowFocus.event,this.onWindowBlur=this._onWindowBlur.event,this.onWindowMaximize=this._onWindowMaximize.event,this.onWindowUnmaximize=this._onWindowUnmaximize.event,this.listenForFocus=function(){e._onWindowFocus.fire(0)},this.listenForBlur=function(){e._onWindowBlur.fire(0)},window.addEventListener("focus",this.listenForFocus),window.addEventListener("blur",this.listenForBlur)}return e.prototype.dispose=function(){window.removeEventListener("focus",this.listenForFocus),window.removeEventListener("blur",this.listenForBlur)},e.prototype.pickFileFolderAndOpen=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.pickFileAndOpen=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.pickFolderAndOpen=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},
e.prototype.pickWorkspaceAndOpen=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.showMessageBox=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.showSaveDialog=function(e,t){var n=t.filters,r="/Untitled";n&&n[0]&&n[0].extensions&&n[0].extensions[0]&&(r="/Untitled."+n[0].extensions[0]);var o=window.prompt("Where do you want to save the file?",t.defaultPath+r);return i.TPromise.as(o)},e.prototype.showOpenDialog=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.reloadWindow=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.openDevTools=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.toggleDevTools=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.closeWorkspace=function(e){
throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.enterWorkspace=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.createAndEnterWorkspace=function(e,t,i){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.saveAndEnterWorkspace=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.toggleFullScreen=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.setRepresentedFilename=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.addRecentlyOpened=function(e){throw new Error("Method not implemented.")},e.prototype.newWindowTab=function(){throw new Error("Method not implemented.")},e.prototype.removeFromRecentlyOpened=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},
e.prototype.clearRecentlyOpened=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.getRecentlyOpened=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.focusWindow=function(e){return new i.TPromise(function(e){window.focus(),e(void 0)})},e.prototype.closeWindow=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.isFocused=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.isMaximized=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.maximizeWindow=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.unmaximizeWindow=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.minimizeWindow=function(e){throw console.log("WindowService Called"),
new Error("Method not implemented.")},e.prototype.onWindowTitleDoubleClick=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.setDocumentEdited=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.quit=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.relaunch=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.showPreviousWindowTab=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.showNextWindowTab=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.moveWindowTabToNewWindow=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.mergeAllWindowTabs=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},
e.prototype.toggleWindowTabsBar=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.updateTouchBar=function(e,t){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.whenSharedProcessReady=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.toggleSharedProcess=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.openWindow=function(e,t,i){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.openNewWindow=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.showWindow=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.getWindows=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.getWindowCount=function(){
throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.log=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.showItemInFolder=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.getActiveWindowId=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.openExternal=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.startCrashReporter=function(e){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.openAccessibilityOptions=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e.prototype.openAboutDialog=function(){throw console.log("WindowService Called"),new Error("Method not implemented.")},e}();t.CodeSandboxWindowsService=r}),
define(e[386],t([1,0,6]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.createWorkspace=function(e){return new i.TPromise(function(e){return e({id:"codesandbox-workspace",configPath:"/codesandbox/config.json"})})},e}();t.CodeSandboxWorkspacesService=n}),define(e[246],t([18]),{}),define(e[281],t([18]),{}),define(e[125],t([1,0,7,66,73,40,5,4,123,281]),function(e,t,n,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u={buttonBackground:o.Color.fromHex("#0E639C"),buttonHoverBackground:o.Color.fromHex("#006BB3"),buttonForeground:o.Color.white},d=function(e){function t(t,i){var o=e.call(this)||this;return o._onDidClick=o._register(new a.Emitter),o.options=i||Object.create(null),s.mixin(o.options,u,!1),o.buttonBackground=o.options.buttonBackground,o.buttonHoverBackground=o.options.buttonHoverBackground,o.buttonForeground=o.options.buttonForeground,o.buttonBorder=o.options.buttonBorder,
o._element=document.createElement("a"),n.addClass(o._element,"monaco-button"),o._element.tabIndex=0,o._element.setAttribute("role","button"),t.appendChild(o._element),l.Gesture.addTarget(o._element),o._register(n.addDisposableListener(o._element,n.EventType.CLICK,function(e){o.enabled?o._onDidClick.fire(e):n.EventHelper.stop(e)})),o._register(n.addDisposableListener(o._element,n.EventType.KEY_DOWN,function(e){var t=new r.StandardKeyboardEvent(e),i=!1;o.enabled&&t.equals(3)||t.equals(10)?(o._onDidClick.fire(e),i=!0):t.equals(9)&&(o._element.blur(),i=!0),i&&n.EventHelper.stop(t,!0)})),o._register(n.addDisposableListener(o._element,n.EventType.MOUSE_OVER,function(e){n.hasClass(o._element,"disabled")||o.setHoverBackground()})),o._register(n.addDisposableListener(o._element,n.EventType.MOUSE_OUT,function(e){o.applyStyles()})),o.focusTracker=o._register(n.trackFocus(o._element)),o._register(o.focusTracker.onDidFocus(function(){return o.setHoverBackground()})),o._register(o.focusTracker.onDidBlur(function(){
return o.applyStyles()})),o.applyStyles(),o}return i(t,e),Object.defineProperty(t.prototype,"onDidClick",{get:function(){return this._onDidClick.event},enumerable:!0,configurable:!0}),t.prototype.setHoverBackground=function(){var e=this.buttonHoverBackground?this.buttonHoverBackground.toString():null;e&&(this._element.style.backgroundColor=e)},t.prototype.style=function(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()},t.prototype.applyStyles=function(){if(this._element){var e=this.buttonBackground?this.buttonBackground.toString():null,t=this.buttonForeground?this.buttonForeground.toString():null,i=this.buttonBorder?this.buttonBorder.toString():null;this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":null,this._element.style.borderStyle=i?"solid":null,this._element.style.borderColor=i}},
Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{set:function(e){n.hasClass(this._element,"monaco-text-button")||n.addClass(this._element,"monaco-text-button"),this._element.textContent=e,this.options.title&&(this._element.title=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{set:function(e){n.addClass(this._element,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return!n.hasClass(this._element,"disabled")},set:function(e){e?(n.removeClass(this._element,"disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(n.addClass(this._element,"disabled"),this._element.setAttribute("aria-disabled",String(!0)),n.removeTabIndexAndUpdateFocus(this._element))},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._element.focus()},t}(c.Disposable);t.Button=d;var p=function(e){
function t(t,i,n){var r=e.call(this)||this;return r._buttons=[],r.create(t,i,n),r}return i(t,e),Object.defineProperty(t.prototype,"buttons",{get:function(){return this._buttons},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,i){for(var o=this,s=function(s){var c=a._register(new d(e,i));a._buttons.push(c),t>1&&a._register(n.addDisposableListener(c.element,n.EventType.KEY_DOWN,function(e){var t,i=new r.StandardKeyboardEvent(e),a=!0;i.equals(15)?t=s>0?s-1:o._buttons.length-1:i.equals(17)?t=s===o._buttons.length-1?0:s+1:a=!1,a&&(o._buttons[t].focus(),n.EventHelper.stop(e,!0))}))},a=this,c=0;c<t;c++)s(c)},t}(c.Disposable);t.ButtonGroup=p}),define(e[303],t([18]),{}),define(e[226],t([18]),{}),define(e[326],t([1,0,7,220,19,5,4,132,246]),function(e,t,n,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(){}return e.prototype.dispose=function(){},e}();t.BreadcrumbsItem=l;var u=function(e){function t(t,i){void 0===i&&(i=t);var n=e.call(this)||this
;return n.text=t,n.title=i,n}return i(t,e),t.prototype.equals=function(e){return e===this||e instanceof t&&e.text===this.text&&e.title===this.title},t.prototype.render=function(e){var t=document.createElement("div");t.title=this.title,t.innerText=this.text,e.appendChild(t)},t}(l);t.SimpleBreadcrumbsItem=u;var d=function(){function e(e){var t=this;this._disposables=new Array,this._onDidSelectItem=new s.Emitter,this._onDidFocusItem=new s.Emitter,this._onDidChangeFocus=new s.Emitter,this.onDidSelectItem=this._onDidSelectItem.event,this.onDidFocusItem=this._onDidFocusItem.event,this.onDidChangeFocus=this._onDidChangeFocus.event,this._items=new Array,this._nodes=new Array,this._freeNodes=new Array,this._focusedItemIdx=-1,this._selectedItemIdx=-1,this._domNode=document.createElement("div"),this._domNode.className="monaco-breadcrumbs",this._domNode.tabIndex=0,this._domNode.setAttribute("role","list"),this._scrollable=new r.DomScrollableElement(this._domNode,{vertical:c.ScrollbarVisibility.Hidden,
horizontal:c.ScrollbarVisibility.Auto,horizontalScrollbarSize:3,useShadows:!1,scrollYToX:!0}),this._disposables.push(this._scrollable),this._disposables.push(n.addStandardDisposableListener(this._domNode,"click",function(e){return t._onClick(e)})),e.appendChild(this._scrollable.getDomNode()),this._styleElement=n.createStyleSheet(this._domNode);var i=n.trackFocus(this._domNode);this._disposables.push(i),this._disposables.push(i.onDidBlur(function(e){return t._onDidChangeFocus.fire(!1)})),this._disposables.push(i.onDidFocus(function(e){return t._onDidChangeFocus.fire(!0)}))}return e.prototype.dispose=function(){a.dispose(this._disposables),this._onDidSelectItem.dispose(),this._onDidFocusItem.dispose(),this._onDidChangeFocus.dispose(),this._domNode.remove(),this._disposables.length=0,this._nodes.length=0,this._freeNodes.length=0},e.prototype.layout=function(e){e&&(this._domNode.style.width=e.width+"px",this._domNode.style.height=e.height+"px"),this._scrollable.setRevealOnScroll(!1),
this._scrollable.scanDomNode(),this._scrollable.setRevealOnScroll(!0)},e.prototype.style=function(e){var t="";e.breadcrumbsBackground&&(t+=".monaco-breadcrumbs { background-color: "+e.breadcrumbsBackground+"}"),e.breadcrumbsForeground&&(t+=".monaco-breadcrumbs .monaco-breadcrumb-item { color: "+e.breadcrumbsForeground+"}\n"),e.breadcrumbsFocusForeground&&(t+=".monaco-breadcrumbs .monaco-breadcrumb-item.focused { color: "+e.breadcrumbsFocusForeground+"}\n"),e.breadcrumbsFocusAndSelectionForeground&&(t+=".monaco-breadcrumbs .monaco-breadcrumb-item.focused.selected { color: "+e.breadcrumbsFocusAndSelectionForeground+"}\n"),e.breadcrumbsHoverForeground&&(t+=".monaco-breadcrumbs .monaco-breadcrumb-item:hover:not(.focused):not(.selected) { color: "+e.breadcrumbsHoverForeground+"}\n"),this._styleElement.innerHTML!==t&&(this._styleElement.innerHTML=t)},e.prototype.domFocus=function(){var e=this._focusedItemIdx>=0?this._focusedItemIdx:this._items.length-1
;e>=0&&e<this._items.length?this._focus(e,void 0):this._domNode.focus()},e.prototype.isDOMFocused=function(){for(var e=document.activeElement;e;){if(this._domNode===e)return!0;e=e.parentElement}return!1},e.prototype.getFocused=function(){return this._items[this._focusedItemIdx]},e.prototype.setFocused=function(e,t){this._focus(this._items.indexOf(e),t)},e.prototype.focusPrev=function(e){this._focusedItemIdx>0&&this._focus(this._focusedItemIdx-1,e)},e.prototype.focusNext=function(e){this._focusedItemIdx+1<this._nodes.length&&this._focus(this._focusedItemIdx+1,e)},e.prototype._focus=function(e,t){this._focusedItemIdx=-1;for(var i=0;i<this._nodes.length;i++){var r=this._nodes[i];i!==e?n.removeClass(r,"focused"):(this._focusedItemIdx=i,n.addClass(r,"focused"),r.focus())}this._reveal(this._focusedItemIdx,!0),this._onDidFocusItem.fire({type:"focus",item:this._items[this._focusedItemIdx],node:this._nodes[this._focusedItemIdx],payload:t})},e.prototype.reveal=function(e){var t=this._items.indexOf(e)
;t>=0&&this._reveal(t,!1)},e.prototype._reveal=function(e,t){var i=this._nodes[e];if(i){var n=this._scrollable.getScrollDimensions().width,r=this._scrollable.getScrollPosition().scrollLeft;(!t||i.offsetLeft>r+n||i.offsetLeft<r)&&(this._scrollable.setRevealOnScroll(!1),this._scrollable.setScrollPosition({scrollLeft:i.offsetLeft}),this._scrollable.setRevealOnScroll(!0))}},e.prototype.getSelection=function(){return this._items[this._selectedItemIdx]},e.prototype.setSelection=function(e,t){this._select(this._items.indexOf(e),t)},e.prototype._select=function(e,t){this._selectedItemIdx=-1;for(var i=0;i<this._nodes.length;i++){var r=this._nodes[i];i!==e?n.removeClass(r,"selected"):(this._selectedItemIdx=i,n.addClass(r,"selected"))}this._onDidSelectItem.fire({type:"select",item:this._items[this._selectedItemIdx],node:this._nodes[this._selectedItemIdx],payload:t})},e.prototype.getItems=function(){return this._items},e.prototype.setItems=function(e){var t,i,n;try{i=o.commonPrefixLength(this._items,e,function(e,t){
return e.equals(t)}),n=(t=this._items).splice.apply(t,[i,this._items.length-i].concat(e.slice(i))),this._render(i),a.dispose(n),this._focus(-1,void 0)}catch(t){var r=new Error("BreadcrumbsItem#setItems: newItems: "+e.length+", prefix: "+i+", removed: "+n.length);throw r.name=t.name,r.stack=t.stack,r}},e.prototype._render=function(e){for(;e<this._items.length&&e<this._nodes.length;e++){var t=this._items[e],i=this._nodes[e];this._renderItem(t,i)}for(;e<this._nodes.length;){var n=this._nodes.pop();this._freeNodes.push(n),n.remove()}for(;e<this._items.length;e++){var t=this._items[e],i=this._freeNodes.length>0?this._freeNodes.pop():document.createElement("div");this._renderItem(t,i),this._domNode.appendChild(i),this._nodes.push(i)}this.layout(void 0)},e.prototype._renderItem=function(e,t){n.clearNode(t),t.className="",e.render(t),t.tabIndex=-1,t.setAttribute("role","listitem"),n.addClass(t,"monaco-breadcrumb-item")},e.prototype._onClick=function(e){for(var t=e.target;t;t=t.parentElement){
var i=this._nodes.indexOf(t);if(i>=0){this._focus(i,e),this._select(i,e);break}}},e}();t.BreadcrumbsWidget=d}),define(e[333],t([18]),{}),define(e[334],t([18]),{}),define(e[110],t([1,0,4,5,30,7,342,19,500,73,218,334]),function(e,t,n,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p,h={separatorBorder:u.Color.transparent};!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(p||(p={}));!function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}}}(t.Sizing||(t.Sizing={}));var g=function(e){function t(t,i){void 0===i&&(i={});var n=e.call(this)||this;return n.size=0,n.contentSize=0,n.proportions=void 0,n.viewItems=[],n.sashItems=[],n.state=p.Idle,n._onDidSashChange=n._register(new r.Emitter),n.onDidSashChange=n._onDidSashChange.event,n._onDidSashReset=n._register(new r.Emitter),n.onDidSashReset=n._onDidSashReset.event,n.orientation=o.isUndefined(i.orientation)?0:i.orientation,n.inverseAltBehavior=!!i.inverseAltBehavior,
n.el=document.createElement("div"),s.addClass(n.el,"monaco-split-view2"),s.addClass(n.el,0===n.orientation?"vertical":"horizontal"),t.appendChild(n.el),n.sashContainer=s.append(n.el,s.$(".sash-container")),n.viewContainer=s.append(n.el,s.$(".split-view-container")),n.style(i.styles||h),n}return i(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this.viewItems.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumSize",{get:function(){return this.viewItems.reduce(function(e,t){return e+t.view.minimumSize},0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumSize",{get:function(){return 0===this.length?Number.POSITIVE_INFINITY:this.viewItems.reduce(function(e,t){return e+t.view.maximumSize},0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(e){for(var t=0,i=this.sashItems;t<i.length;t++){i[t].sash.orthogonalStartSash=e}
this._orthogonalStartSash=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(e){for(var t=0,i=this.sashItems;t<i.length;t++){i[t].sash.orthogonalEndSash=e}this._orthogonalEndSash=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sashes",{get:function(){return this.sashItems.map(function(e){return e.sash})},enumerable:!0,configurable:!0}),t.prototype.style=function(e){e.separatorBorder.isTransparent()?(s.removeClass(this.el,"separator-border"),this.el.style.removeProperty("--separator-border")):(s.addClass(this.el,"separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))},t.prototype.addView=function(e,t,i){var o=this;if(void 0===i&&(i=this.viewItems.length),this.state!==p.Idle)throw new Error("Cant modify splitview");this.state=p.Busy;var a=s.$(".split-view-view")
;i===this.viewItems.length?this.viewContainer.appendChild(a):this.viewContainer.insertBefore(a,this.viewContainer.children.item(i));var u,d=e.onDidChange(function(e){return o.onViewChange(v,e)}),h=n.toDisposable(function(){return o.viewContainer.removeChild(a)}),g=n.combinedDisposable([d,h]),f=0===this.orientation?function(){return v.container.style.height=v.size+"px"}:function(){return v.container.style.width=v.size+"px"};u="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:e.minimumSize;var v={view:e,container:a,size:u,layout:function(){f(),v.view.layout(v.size,o.orientation)},disposable:g};if(this.viewItems.splice(i,0,v),this.viewItems.length>1){var m=0===this.orientation?1:0,y=0===this.orientation?{getHorizontalSashTop:function(e){return o.getSashPosition(e)}}:{getVerticalSashLeft:function(e){return o.getSashPosition(e)}},S=new l.Sash(this.sashContainer,y,{orientation:m,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash
}),b=0===this.orientation?function(e){return{sash:S,start:e.startY,current:e.currentY,alt:e.altKey}}:function(e){return{sash:S,start:e.startX,current:e.currentX,alt:e.altKey}},E=r.mapEvent(S.onDidStart,b)(this.onSashStart,this),w=r.mapEvent(S.onDidChange,b)(this.onSashChange,this),C=r.mapEvent(S.onDidEnd,function(){return c.firstIndex(o.sashItems,function(e){return e.sash===S})})(this.onSashEnd,this),I=S.onDidReset(function(){return o._onDidSashReset.fire(c.firstIndex(o.sashItems,function(e){return e.sash===S}))}),_=n.combinedDisposable([E,w,C,I,S]),D={sash:S,disposable:_};this.sashItems.splice(i-1,0,D)}a.appendChild(e.element);var A;"number"!=typeof t&&"split"===t.type&&(A=t.index),this.relayout(i,A),this.state=p.Idle,"number"!=typeof t&&"distribute"===t.type&&this.distributeViewSizes()},t.prototype.removeView=function(e,t){if(this.state!==p.Idle)throw new Error("Cant modify splitview");if(this.state=p.Busy,e<0||e>=this.viewItems.length)throw new Error("Index out of bounds")
;var i=this.viewItems.splice(e,1)[0];if(i.disposable.dispose(),this.viewItems.length>=1){var n=Math.max(e-1,0);this.sashItems.splice(n,1)[0].disposable.dispose()}return this.relayout(),this.state=p.Idle,t&&"distribute"===t.type&&this.distributeViewSizes(),i.view},t.prototype.moveView=function(e,t){if(this.state!==p.Idle)throw new Error("Cant modify splitview");var i=this.getViewSize(e),n=this.removeView(e);this.addView(n,i,t)},t.prototype.swapViews=function(e,t){if(this.state!==p.Idle)throw new Error("Cant modify splitview");if(e>t)return this.swapViews(t,e);var i=this.getViewSize(e),n=this.getViewSize(t),r=this.removeView(t),o=this.removeView(e);this.addView(r,i,e),this.addView(o,n,t)},t.prototype.relayout=function(e,t){var i=this.viewItems.reduce(function(e,t){return e+t.size},0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()},t.prototype.layout=function(e){var t=Math.max(this.size,this.contentSize);if(this.size=e,
this.proportions)for(var i=0;i<this.viewItems.length;i++){var n=this.viewItems[i];n.size=a.clamp(Math.round(this.proportions[i]*e),n.view.minimumSize,n.view.maximumSize)}else this.resize(this.viewItems.length-1,e-t);this.distributeEmptySpace(),this.layoutViews()},t.prototype.saveProportions=function(){var e=this;this.contentSize>0&&(this.proportions=this.viewItems.map(function(t){return t.size/e.contentSize}))},t.prototype.onSashStart=function(e){var t=this,i=e.sash,r=e.start,o=e.alt,s=c.firstIndex(this.sashItems,function(e){return e.sash===i}),a=n.combinedDisposable([d.domEvent(document.body,"keydown")(function(e){return l(t.sashDragState.current,e.altKey)}),d.domEvent(document.body,"keyup")(function(){return l(t.sashDragState.current,!1)})]),l=function(e,i){var n=t.viewItems.map(function(e){return e.size}),r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;if(t.inverseAltBehavior&&(i=!i),i){if(s===t.sashItems.length-1){r=((c=t.viewItems[s]).view.minimumSize-c.size)/2,o=(c.view.maximumSize-c.size)/2}else{
var c=t.viewItems[s+1];r=(c.size-c.view.maximumSize)/2,o=(c.size-c.view.minimumSize)/2}}t.sashDragState={start:e,current:e,index:s,sizes:n,minDelta:r,maxDelta:o,alt:i,disposable:a}};l(r,o)},t.prototype.onSashChange=function(e){var t=e.current,i=this.sashDragState,n=i.index,r=i.start,o=i.sizes,s=i.alt,a=i.minDelta,c=i.maxDelta;this.sashDragState.current=t;var l=t-r,u=this.resize(n,l,o,void 0,void 0,a,c);if(s){var d=n===this.sashItems.length-1,p=this.viewItems.map(function(e){return e.size}),h=d?n:n+1,g=this.viewItems[h],f=g.size-g.view.maximumSize,v=g.size-g.view.minimumSize,m=d?n-1:n+1;this.resize(m,-u,p,void 0,void 0,f,v)}this.distributeEmptySpace(),this.layoutViews()},t.prototype.onSashEnd=function(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions()},t.prototype.onViewChange=function(e,t){var i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t="number"==typeof t?t:e.size,t=a.clamp(t,e.view.minimumSize,e.view.maximumSize),
this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout(i,void 0)))},t.prototype.resizeView=function(e,t){var i=this;if(this.state!==p.Idle)throw new Error("Cant modify splitview");if(this.state=p.Busy,!(e<0||e>=this.viewItems.length)){var n=this.viewItems[e];t=Math.round(t);var r=(t=a.clamp(t,n.view.minimumSize,n.view.maximumSize))-n.size;if(0!==r&&e<this.viewItems.length-1){var o=c.range(e+1,this.viewItems.length),s=o.reduce(function(e,t){return e+(i.viewItems[t].size-i.viewItems[t].view.minimumSize)},0),l=o.reduce(function(e,t){return e+(i.viewItems[t].view.maximumSize-i.viewItems[t].size)},0),u=a.clamp(r,-l,s);this.resize(e,u),r-=u}if(0!==r&&e>0){var d=c.range(e-1,-1),h=d.reduce(function(e,t){return e+(i.viewItems[t].size-i.viewItems[t].view.minimumSize)},0),g=d.reduce(function(e,t){return e+(i.viewItems[t].view.maximumSize-i.viewItems[t].size)},0),f=a.clamp(-r,-h,g);this.resize(e-1,f)}this.distributeEmptySpace(),
this.layoutViews(),this.saveProportions(),this.state=p.Idle}},t.prototype.distributeViewSizes=function(){for(var e=Math.floor(this.size/this.viewItems.length),t=0;t<this.viewItems.length-1;t++)this.resizeView(t,e)},t.prototype.getViewSize=function(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size},t.prototype.resize=function(e,t,i,n,r,o,s){var l=this;if(void 0===i&&(i=this.viewItems.map(function(e){return e.size})),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===s&&(s=Number.POSITIVE_INFINITY),e<0||e>=this.viewItems.length)return 0;var u=c.range(e,-1),d=c.range(e+1,this.viewItems.length);"number"==typeof r&&(c.pushToStart(u,r),c.pushToStart(d,r)),"number"==typeof n&&(c.pushToEnd(u,n),c.pushToEnd(d,n));for(var p=u.map(function(e){return l.viewItems[e]}),h=u.map(function(e){return i[e]}),g=d.map(function(e){return l.viewItems[e]}),f=d.map(function(e){return i[e]}),v=u.reduce(function(e,t){return e+(l.viewItems[t].view.minimumSize-i[t])},0),m=u.reduce(function(e,t){
return e+(l.viewItems[t].view.maximumSize-i[t])},0),y=0===d.length?Number.POSITIVE_INFINITY:d.reduce(function(e,t){return e+(i[t]-l.viewItems[t].view.minimumSize)},0),S=0===d.length?Number.NEGATIVE_INFINITY:d.reduce(function(e,t){return e+(i[t]-l.viewItems[t].view.maximumSize)},0),b=Math.max(v,S,o),E=Math.min(y,m,s),w=0,C=t=a.clamp(t,b,E);w<p.length;w++){_=p[w];C-=A=(D=a.clamp(h[w]+C,_.view.minimumSize,_.view.maximumSize))-h[w],_.size=D}for(var w=0,I=t;w<g.length;w++){var _=g[w],D=a.clamp(f[w]-I,_.view.minimumSize,_.view.maximumSize),A=D-f[w];I+=A,_.size=D}return t},t.prototype.distributeEmptySpace=function(){for(var e=this.viewItems.reduce(function(e,t){return e+t.size},0),t=this.size-e,i=this.viewItems.length-1;0!==t&&i>=0;i--){var n=this.viewItems[i],r=a.clamp(n.size+t,n.view.minimumSize,n.view.maximumSize);t-=r-n.size,n.size=r}},t.prototype.layoutViews=function(){this.contentSize=this.viewItems.reduce(function(e,t){return e+t.size},0),this.viewItems.forEach(function(e){return e.layout()}),
this.sashItems.forEach(function(e){return e.sash.layout()});var e=!1,t=this.viewItems.map(function(t){return e=t.size-t.view.minimumSize>0||e});e=!1;var i=this.viewItems.map(function(t){return e=t.view.maximumSize-t.size>0||e}),n=this.viewItems.slice().reverse();e=!1;var r=n.map(function(t){return e=t.size-t.view.minimumSize>0||e}).reverse();e=!1;var o=n.map(function(t){return e=t.view.maximumSize-t.size>0||e}).reverse();this.sashItems.forEach(function(e,n){var s=!(t[n]&&o[n+1]),a=!(i[n]&&r[n+1]);e.sash.state=s&&a?0:s&&!a?1:!s&&a?2:3})},t.prototype.getSashPosition=function(e){for(var t=0,i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.viewItems.forEach(function(e){return e.disposable.dispose()}),this.viewItems=[],this.sashItems.forEach(function(e){return e.disposable.dispose()}),this.sashItems=[]},t}(n.Disposable);t.SplitView=g}),define(e[349],t([1,0,110,7,5,4]),function(e,t,i,n,r,o){
"use strict";function s(e){var t=n.$(".centered-layout-margin");return t.style.height="100%",t.style.backgroundColor=e.toString(),{element:t,layout:function(){},minimumSize:60,maximumSize:Number.POSITIVE_INFINITY,onDidChange:r.Event.None}}Object.defineProperty(t,"__esModule",{value:!0});var a={leftMarginRatio:.1909,rightMarginRatio:.1909},c=function(){function e(e,t,i){void 0===i&&(i=a),this.container=e,this.view=t,this.state=i,this.width=0,this.height=0,this.didLayout=!1,this.splitViewDisposables=[],this.container.appendChild(this.view.element),this.container.style.overflow="hidden"}return Object.defineProperty(e.prototype,"minimumWidth",{get:function(){return this.splitView?this.splitView.minimumSize:this.view.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumWidth",{get:function(){return this.splitView?this.splitView.maximumSize:this.view.maximumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumHeight",{get:function(){
return this.view.minimumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumHeight",{get:function(){return this.view.maximumHeight},enumerable:!0,configurable:!0}),e.prototype.layout=function(e,t){this.width=e,this.height=t,this.splitView?(this.splitView.layout(e),this.didLayout||this.resizeMargins()):this.view.layout(e,t),this.didLayout=!0},e.prototype.resizeMargins=function(){this.splitView.resizeView(0,this.state.leftMarginRatio*this.width),this.splitView.resizeView(2,this.state.rightMarginRatio*this.width)},e.prototype.isActive=function(){return!!this.splitView},e.prototype.styles=function(e){this.style=e,this.splitView&&(this.splitView.style(this.style),this.emptyViews[0].element.style.backgroundColor=this.style.background.toString(),this.emptyViews[1].element.style.backgroundColor=this.style.background.toString())},e.prototype.activate=function(e){var t=this;e!==this.isActive()&&(e?(this.container.removeChild(this.view.element),
this.splitView=new i.SplitView(this.container,{inverseAltBehavior:!0,orientation:1,styles:this.style}),this.splitViewDisposables.push(this.splitView.onDidSashChange(function(){t.state.leftMarginRatio=t.splitView.getViewSize(0)/t.width,t.state.rightMarginRatio=t.splitView.getViewSize(2)/t.width})),this.splitViewDisposables.push(this.splitView.onDidSashReset(function(){t.state.leftMarginRatio=a.leftMarginRatio,t.state.rightMarginRatio=a.rightMarginRatio,t.resizeMargins()})),this.splitView.layout(this.width),this.splitView.addView(function(e,t){return{element:e.element,get maximumSize(){return e.maximumWidth},get minimumSize(){return e.minimumWidth},onDidChange:r.mapEvent(e.onDidChange,function(e){return e&&e.width}),layout:function(i){return e.layout(i,t())}}}(this.view,function(){return t.height}),0),this.emptyViews=[s(this.style.background),s(this.style.background)],this.splitView.addView(this.emptyViews[0],this.state.leftMarginRatio*this.width,0),
this.splitView.addView(this.emptyViews[1],this.state.rightMarginRatio*this.width,2)):(this.container.removeChild(this.splitView.el),this.splitViewDisposables=o.dispose(this.splitViewDisposables),this.splitView.dispose(),this.splitView=void 0,this.emptyViews=void 0,this.container.appendChild(this.view.element)))},e.prototype.dispose=function(){this.splitViewDisposables=o.dispose(this.splitViewDisposables),this.splitView&&(this.splitView.dispose(),this.splitView=void 0)},e}();t.CenteredViewLayout=c}),define(e[217],t([1,0,5,110,4,7,19,73,110,226]),function(e,t,i,n,r,o,s,a,c){"use strict";function l(e){return 0===e?1:0}function u(e,t,i){if(e instanceof p){for(var n=new p(l(e.orientation),e.styles,t,i),r=0,o=e.children.length-1;o>=0;o--){var s=e.children[o],a=s instanceof p?s.orthogonalSize:s.size,c=0===e.size?0:Math.round(t*a/e.size);r+=c,0===o&&(c+=t-r),n.addChild(u(s,i,c),c,0)}return n}return new h(e.view,l(e.orientation),i)}Object.defineProperty(t,"__esModule",{value:!0}),t.Sizing=c.Sizing,t.orthogonal=l,
t.isGridBranchNode=function(e){return!!e.children};var d={separatorBorder:a.Color.transparent},p=function(){function e(e,t,s,a){void 0===s&&(s=0),void 0===a&&(a=0),this.orientation=e,this.children=[],this._onDidChange=new i.Emitter,this.onDidChange=this._onDidChange.event,this.childrenChangeDisposable=r.Disposable.None,this._onDidSashReset=new i.Emitter,this.onDidSashReset=this._onDidSashReset.event,this.splitviewSashResetDisposable=r.Disposable.None,this.childrenSashResetDisposable=r.Disposable.None,this._styles=t,this._size=s,this._orthogonalSize=a,this.element=o.$(".monaco-grid-branch-node"),this.splitview=new n.SplitView(this.element,{orientation:e,styles:t}),this.splitview.layout(s);var c=i.mapEvent(this.splitview.onDidSashReset,function(e){return[e]});this.splitviewSashResetDisposable=c(this._onDidSashReset.fire,this._onDidSashReset)}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalSize",{
get:function(){return this._orthogonalSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){return this._styles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1===this.orientation?this.size:this.orthogonalSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1===this.orientation?this.orthogonalSize:this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumSize",{get:function(){return 0===this.children.length?0:Math.max.apply(Math,this.children.map(function(e){return e.minimumOrthogonalSize}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumSize",{get:function(){return Math.min.apply(Math,this.children.map(function(e){return e.maximumOrthogonalSize}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumOrthogonalSize",{get:function(){return this.splitview.minimumSize},enumerable:!0,
configurable:!0}),Object.defineProperty(e.prototype,"maximumOrthogonalSize",{get:function(){return this.splitview.maximumSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumWidth",{get:function(){return 1===this.orientation?this.minimumOrthogonalSize:this.minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumHeight",{get:function(){return 1===this.orientation?this.minimumSize:this.minimumOrthogonalSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumWidth",{get:function(){return 1===this.orientation?this.maximumOrthogonalSize:this.maximumSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumHeight",{get:function(){return 1===this.orientation?this.maximumSize:this.maximumOrthogonalSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalStartSash",{get:function(){return this.splitview.orthogonalStartSash},set:function(e){this.splitview.orthogonalStartSash=e},enumerable:!0,
configurable:!0}),Object.defineProperty(e.prototype,"orthogonalEndSash",{get:function(){return this.splitview.orthogonalEndSash},set:function(e){this.splitview.orthogonalEndSash=e},enumerable:!0,configurable:!0}),e.prototype.style=function(t){this._styles=t,this.splitview.style(t);for(var i=0,n=this.children;i<n.length;i++){var r=n[i];r instanceof e&&r.style(t)}},e.prototype.layout=function(e){this._orthogonalSize=e;for(var t=0,i=this.children;t<i.length;t++){i[t].orthogonalLayout(e)}},e.prototype.orthogonalLayout=function(e){this._size=e,this.splitview.layout(e)},e.prototype.addChild=function(e,t,i){if(i<0||i>this.children.length)throw new Error("Invalid index");this.splitview.addView(e,t,i),this._addChild(e,i),this.onDidChildrenChange()},e.prototype._addChild=function(e,t){var i=0===t,n=t===this.children.length;this.children.splice(t,0,e),e.orthogonalStartSash=this.splitview.sashes[t-1],e.orthogonalEndSash=this.splitview.sashes[t],i||(this.children[t-1].orthogonalEndSash=this.splitview.sashes[t-1]),
n||(this.children[t+1].orthogonalStartSash=this.splitview.sashes[t])},e.prototype.removeChild=function(e,t){if(e<0||e>=this.children.length)throw new Error("Invalid index");this.splitview.removeView(e,t),this._removeChild(e),this.onDidChildrenChange()},e.prototype._removeChild=function(e){var t=0===e,i=e===this.children.length-1,n=this.children.splice(e,1)[0];return t||(this.children[e-1].orthogonalEndSash=this.splitview.sashes[e-1]),i||(this.children[e].orthogonalStartSash=this.splitview.sashes[Math.max(e-1,0)]),n},e.prototype.moveChild=function(e,t){if(e!==t){if(e<0||e>=this.children.length)throw new Error("Invalid from index");if(t<0||t>this.children.length)throw new Error("Invalid to index");e<t&&t--,this.splitview.moveView(e,t);var i=this._removeChild(e);this._addChild(i,t)}},e.prototype.swapChildren=function(e,t){var i,n;if(e!==t){if(e<0||e>=this.children.length)throw new Error("Invalid from index");if(t<0||t>=this.children.length)throw new Error("Invalid to index");this.splitview.swapViews(e,t),
i=[this.children[t].orthogonalStartSash,this.children[t].orthogonalEndSash,this.children[e].orthogonalStartSash,this.children[e].orthogonalEndSash],this.children[e].orthogonalStartSash=i[0],this.children[e].orthogonalEndSash=i[1],this.children[t].orthogonalStartSash=i[2],this.children[t].orthogonalEndSash=i[3],n=[this.children[t],this.children[e]],this.children[e]=n[0],this.children[t]=n[1]}},e.prototype.resizeChild=function(e,t){if(e<0||e>=this.children.length)throw new Error("Invalid index");this.splitview.resizeView(e,t)},e.prototype.distributeViewSizes=function(t){if(void 0===t&&(t=!1),this.splitview.distributeViewSizes(),t)for(var i=0,n=this.children;i<n.length;i++){var r=n[i];r instanceof e&&r.distributeViewSizes(!0)}},e.prototype.getChildSize=function(e){if(e<0||e>=this.children.length)throw new Error("Invalid index");return this.splitview.getViewSize(e)},e.prototype.onDidChildrenChange=function(){var e=i.anyEvent.apply(void 0,this.children.map(function(e){return e.onDidChange}))
;this.childrenChangeDisposable.dispose(),this.childrenChangeDisposable=e(this._onDidChange.fire,this._onDidChange);var t=i.anyEvent.apply(void 0,this.children.map(function(e,t){return i.mapEvent(e.onDidSashReset,function(e){return[t].concat(e)})}));this.childrenSashResetDisposable.dispose(),this.childrenSashResetDisposable=t(this._onDidSashReset.fire,this._onDidSashReset),this._onDidChange.fire()},e.prototype.trySet2x2=function(e){if(2!==this.children.length||2!==e.children.length)return r.Disposable.None;if(this.getChildSize(0)!==e.getChildSize(0))return r.Disposable.None;var t=this.children,i=t[0],n=t[1],o=e.children,s=o[0],a=o[1];if(!(i instanceof h&&n instanceof h))return r.Disposable.None;if(!(s instanceof h&&a instanceof h))return r.Disposable.None;0===this.orientation?(n.linkedWidthNode=s.linkedHeightNode=i,i.linkedWidthNode=a.linkedHeightNode=n,a.linkedWidthNode=i.linkedHeightNode=s,s.linkedWidthNode=n.linkedHeightNode=a):(s.linkedWidthNode=n.linkedHeightNode=i,a.linkedWidthNode=i.linkedHeightNode=n,
i.linkedWidthNode=a.linkedHeightNode=s,n.linkedWidthNode=s.linkedHeightNode=a);var c=this.splitview.sashes[0],l=e.splitview.sashes[0];return c.linkedSash=l,l.linkedSash=c,this._onDidChange.fire(),e._onDidChange.fire(),r.toDisposable(function(){c.linkedSash=l.linkedSash=void 0,i.linkedHeightNode=i.linkedWidthNode=void 0,n.linkedHeightNode=n.linkedWidthNode=void 0,s.linkedHeightNode=s.linkedWidthNode=void 0,a.linkedHeightNode=a.linkedWidthNode=void 0})},e.prototype.dispose=function(){for(var e=0,t=this.children;e<t.length;e++){t[e].dispose()}this._onDidChange.dispose(),this._onDidSashReset.dispose(),this.splitviewSashResetDisposable.dispose(),this.childrenSashResetDisposable.dispose(),this.childrenChangeDisposable.dispose(),this.splitview.dispose()},e}(),h=function(){function e(e,t,n){void 0===n&&(n=0),this.view=e,this.orientation=t,this._size=0,this.onDidSashReset=i.Event.None,this._onDidLinkedWidthNodeChange=new i.Relay,this._linkedWidthNode=void 0,this._onDidLinkedHeightNodeChange=new i.Relay,
this._linkedHeightNode=void 0,this._onDidSetLinkedNode=new i.Emitter,this._orthogonalSize=n,this._onDidViewChange=i.mapEvent(this.view.onDidChange,1===this.orientation?function(e){return e&&e.width}:function(e){return e&&e.height}),this.onDidChange=i.anyEvent(this._onDidViewChange,this._onDidSetLinkedNode.event,this._onDidLinkedWidthNodeChange.event,this._onDidLinkedHeightNodeChange.event)}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalSize",{get:function(){return this._orthogonalSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"linkedWidthNode",{get:function(){return this._linkedWidthNode},set:function(e){this._onDidLinkedWidthNodeChange.input=e?e._onDidViewChange:i.Event.None,this._linkedWidthNode=e,this._onDidSetLinkedNode.fire()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"linkedHeightNode",{get:function(){return this._linkedHeightNode},
set:function(e){this._onDidLinkedHeightNodeChange.input=e?e._onDidViewChange:i.Event.None,this._linkedHeightNode=e,this._onDidSetLinkedNode.fire()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1===this.orientation?this.orthogonalSize:this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1===this.orientation?this.size:this.orthogonalSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.view.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumWidth",{get:function(){return this.linkedWidthNode?Math.max(this.linkedWidthNode.view.minimumWidth,this.view.minimumWidth):this.view.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumWidth",{get:function(){return this.linkedWidthNode?Math.min(this.linkedWidthNode.view.maximumWidth,this.view.maximumWidth):this.view.maximumWidth},enumerable:!0,
configurable:!0}),Object.defineProperty(e.prototype,"minimumHeight",{get:function(){return this.linkedHeightNode?Math.max(this.linkedHeightNode.view.minimumHeight,this.view.minimumHeight):this.view.minimumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumHeight",{get:function(){return this.linkedHeightNode?Math.min(this.linkedHeightNode.view.maximumHeight,this.view.maximumHeight):this.view.maximumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumSize",{get:function(){return 1===this.orientation?this.minimumHeight:this.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumSize",{get:function(){return 1===this.orientation?this.maximumHeight:this.maximumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumOrthogonalSize",{get:function(){return 1===this.orientation?this.minimumWidth:this.minimumHeight},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"maximumOrthogonalSize",{get:function(){return 1===this.orientation?this.maximumWidth:this.maximumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalStartSash",{set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalEndSash",{set:function(e){},enumerable:!0,configurable:!0}),e.prototype.layout=function(e){return this._size=e,this.view.layout(this.width,this.height)},e.prototype.orthogonalLayout=function(e){return this._orthogonalSize=e,this.view.layout(this.width,this.height)},e.prototype.dispose=function(){},e}(),g=function(){function e(e){void 0===e&&(e={}),this.onDidSashResetRelay=new i.Relay,this.onDidSashReset=this.onDidSashResetRelay.event,this.disposable2x2=r.Disposable.None,this._onDidChange=new i.Relay,this.onDidChange=this._onDidChange.event,this.element=o.$(".monaco-grid-view"),this.styles=e.styles||d,this.root=new p(0,this.styles)}return Object.defineProperty(e.prototype,"root",{
get:function(){return this._root},set:function(e){var t=this._root;t&&(this.element.removeChild(t.element),t.dispose()),this._root=e,this.element.appendChild(e.element),this.onDidSashResetRelay.input=e.onDidSashReset,this._onDidChange.input=i.mapEvent(e.onDidChange,function(){})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._root.orientation},set:function(e){if(this._root.orientation!==e){var t=this._root,i=t.size,n=t.orthogonalSize;this.root=u(this._root,n,i),this.root.layout(i),this.root.orthogonalLayout(n)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.root.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.root.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumWidth",{get:function(){return this.root.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumHeight",{
get:function(){return this.root.minimumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumWidth",{get:function(){return this.root.maximumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumHeight",{get:function(){return this.root.maximumHeight},enumerable:!0,configurable:!0}),e.prototype.style=function(e){this.styles=e,this.root.style(e)},e.prototype.layout=function(e,t){var i=1===this.root.orientation?[t,e]:[e,t],n=i[0],r=i[1];this.root.layout(n),this.root.orthogonalLayout(r)},e.prototype.addView=function(e,t,i){this.disposable2x2.dispose(),this.disposable2x2=r.Disposable.None;var o=s.tail2(i),a=o[0],c=o[1],u=this.getNode(a),d=u[0],g=u[1];if(g instanceof p){S=new h(e,l(g.orientation),g.orthogonalSize);g.addChild(S,t,c)}else{var f=s.tail2(d)[1],v=s.tail2(a)[1];f.removeChild(v);var m=new p(g.orientation,this.styles,g.size,g.orthogonalSize);f.addChild(m,g.size,v),m.orthogonalLayout(g.orthogonalSize);var y=new h(g.view,f.orientation,g.size)
;m.addChild(y,0,0),"number"!=typeof t&&"split"===t.type&&(t=n.Sizing.Split(0));var S=new h(e,f.orientation,g.size);m.addChild(S,t,c)}},e.prototype.removeView=function(e,t){this.disposable2x2.dispose(),this.disposable2x2=r.Disposable.None;var i=s.tail2(e),n=i[0],o=i[1],a=this.getNode(n),c=a[0],u=a[1];if(!(u instanceof p))throw new Error("Invalid location");var d=u.children[o];if(!(d instanceof h))throw new Error("Invalid location");if(u.removeChild(o,t),0===u.children.length)throw new Error("Invalid grid state");if(u.children.length>1)return d.view;if(0===c.length){var g=u.children[0];return g instanceof h?d.view:(u.removeChild(0),this.root=g,d.view)}var f=s.tail2(c)[1],v=s.tail2(n)[1],m=u.children[0];u.removeChild(0);var y=f.children.map(function(e,t){return f.getChildSize(t)});if(f.removeChild(v,t),m instanceof p){y.splice.apply(y,[v,1].concat(m.children.map(function(e){return e.size})));for(E=0;E<m.children.length;E++){var S=m.children[E];f.addChild(S,S.size,v+E)}}else{
var b=new h(m.view,l(m.orientation),m.size);f.addChild(b,m.orthogonalSize,v)}for(var E=0;E<y.length;E++)f.resizeChild(E,y[E]);return d.view},e.prototype.moveView=function(e,t,i){var n=this.getNode(e)[1];if(!(n instanceof p))throw new Error("Invalid location");n.moveChild(t,i)},e.prototype.swapViews=function(e,t){var i=s.tail2(e),n=i[0],r=i[1],o=this.getNode(n)[1];if(!(o instanceof p))throw new Error("Invalid from location");var a=o.getChildSize(r),c=o.children[r];if(!(c instanceof h))throw new Error("Invalid from location");var l=s.tail2(t),u=l[0],d=l[1],g=this.getNode(u)[1];if(!(g instanceof p))throw new Error("Invalid to location");var f=g.getChildSize(d),v=g.children[d];if(!(v instanceof h))throw new Error("Invalid to location");o===g?o.swapChildren(r,d):(o.removeChild(r),g.removeChild(d),o.addChild(v,a,r),g.addChild(c,f,d),o.layout(o.orthogonalSize),g.layout(g.orthogonalSize))},e.prototype.resizeView=function(e,t){var i=s.tail2(e),n=i[0],r=i[1],o=this.getNode(n)[1]
;if(!(o instanceof p))throw new Error("Invalid location");o.resizeChild(r,t)},e.prototype.getViewSize=function(e){var t=this.getNode(e)[1];return{width:t.width,height:t.height}},e.prototype.maximizeViewSize=function(e){var t=this.getNode(e),i=t[0];if(!(t[1]instanceof h))throw new Error("Invalid location");for(var n=0;n<i.length;n++)i[n].resizeChild(e[n],Number.POSITIVE_INFINITY)},e.prototype.distributeViewSizes=function(e){if(e){var t=this.getNode(e)[1];if(!(t instanceof p))throw new Error("Invalid location");t.distributeViewSizes()}else this.root.distributeViewSizes(!0)},e.prototype.getViews=function(){return this._getViews(this.root,this.orientation,{top:0,left:0,width:this.width,height:this.height})},e.prototype._getViews=function(e,t,i){if(e instanceof h)return{view:e.view,box:i};for(var n=[],r=0,o=0;o<e.children.length;o++){var s=e.children[o],a=l(t),c=1===t?{top:i.top,left:i.left+r,width:s.width,height:i.height}:{top:i.top+r,left:i.left,width:i.width,height:s.height};n.push(this._getViews(s,a,c)),
r+=1===t?s.width:s.height}return{children:n,box:i}},e.prototype.getNode=function(e,t,i){if(void 0===t&&(t=this.root),void 0===i&&(i=[]),0===e.length)return[i,t];if(!(t instanceof p))throw new Error("Invalid location");var n=e[0],r=e.slice(1);if(n<0||n>=t.children.length)throw new Error("Invalid location");var o=t.children[n];return i.push(t),this.getNode(r,o,i)},e.prototype.trySet2x2=function(){if(this.disposable2x2.dispose(),this.disposable2x2=r.Disposable.None,2===this.root.children.length){var e=this.root.children,t=e[0],i=e[1];t instanceof p&&i instanceof p&&(this.disposable2x2=t.trySet2x2(i))}},e.prototype.dispose=function(){this.onDidSashResetRelay.dispose(),this.root.dispose(),this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element)},e}();t.GridView=g}),define(e[353],t([1,0,4,19,217,226]),function(e,t,n,r,o){"use strict";function s(e){return!!e.children}function a(e,t){if(0===t.length)return e;if(!s(e))throw new Error("Invalid location");var i=t[0],n=t.slice(1)
;return a(e.children[i],n)}function c(e,t){var i=u(t);return{offset:0===t?e.top:3===t?e.left+e.width:1===t?e.top+e.height:e.left,range:{start:1===i?e.top:e.left,end:1===i?e.top+e.height:e.left+e.width}}}function l(e,t){return t.length%2==0?o.orthogonal(e):e}function u(e){return 0===e||1===e?0:1}function d(e,t){return 1===t?e.width:e.height}function p(e,t,i){if(l(e,t)===u(i)){var n=r.tail2(t),o=n[0],s=n[1];return 3!==i&&1!==i||(s+=1),o.concat([s])}s=3===i||1===i?1:0;return t.concat([s])}function h(e){if(/\bmonaco-grid-view\b/.test(e.parentElement.className))return[];var t=function(e){for(var t=e.parentElement,i=t.firstElementChild,n=0;i!==e&&i!==t.lastElementChild;)i=i.nextElementSibling,n++;return n}(e.parentElement);return h(e.parentElement.parentElement.parentElement.parentElement).concat([t])}function g(e){if(e.groups&&0===e.groups.length&&(e.groups=void 0),e.groups){for(var t=0,i=0,n=0,r=e.groups;n<r.length;n++){g(c=r[n]),c.size&&(t+=c.size,i++)}
for(var o=(i>0?t:1)/(e.groups.length-i),s=0,a=e.groups;s<a.length;s++){var c=a[s];c.size||(c.size=o)}}}function f(e){return e.groups?{type:"branch",data:e.groups.map(function(e){return f(e)}),size:e.size}:{type:"leaf",data:null,size:e.size}}function v(e,t){if("branch"===e.type){var i=e.data.map(function(e){return v(e,o.orthogonal(t))});if(0===t){return{width:n=e.size||(0===i.length?void 0:Math.max.apply(Math,i.map(function(e){return e.width||0}))),height:r=0===i.length?void 0:i.reduce(function(e,t){return e+t.height},0)}}return{width:n=0===i.length?void 0:i.reduce(function(e,t){return e+t.width},0),height:r=e.size||(0===i.length?void 0:Math.max.apply(Math,i.map(function(e){return e.height||0})))}}var n=0===t?e.size:void 0,r=0===t?void 0:e.size;return{width:n,height:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.isGridBranchNode=s,t.getRelativeLocation=p;var m=function(){function e(e,t){void 0===t&&(t={}),this.views=new Map,this.disposables=[],this.sashResetSizing="distribute",
this.gridview=new o.GridView(t),this.disposables.push(this.gridview),this.gridview.onDidSashReset(this.doResetViewSize,this,this.disposables),this._addView(e,0,[0])}return Object.defineProperty(e.prototype,"orientation",{get:function(){return this.gridview.orientation},set:function(e){this.gridview.orientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.gridview.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.gridview.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumWidth",{get:function(){return this.gridview.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumHeight",{get:function(){return this.gridview.minimumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumWidth",{get:function(){return this.gridview.maximumWidth},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"maximumHeight",{get:function(){return this.gridview.maximumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this.gridview.onDidChange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.gridview.element},enumerable:!0,configurable:!0}),e.prototype.style=function(e){this.gridview.style(e)},e.prototype.layout=function(e,t){this.gridview.layout(e,t)},e.prototype.addView=function(e,t,i,n){if(this.views.has(e))throw new Error("Can't add same view twice");var s=u(n);1===this.views.size&&this.orientation!==s&&(this.orientation=s);var a,c=this.getViewLocation(i),l=p(this.gridview.orientation,c,n);if("split"===t){var d=r.tail2(c)[1];a=o.Sizing.Split(d)}else a="distribute"===t?o.Sizing.Distribute:t;this._addView(e,a,l)},e.prototype._addView=function(e,t,i){this.views.set(e,e.element),this.gridview.addView(e,t,i)},e.prototype.removeView=function(e,t){
if(1===this.views.size)throw new Error("Can't remove last view");var i=this.getViewLocation(e);this.gridview.removeView(i,"distribute"===t?o.Sizing.Distribute:void 0),this.views.delete(e)},e.prototype.moveView=function(e,t,i,n){var o=this.getViewLocation(e),s=r.tail2(o),a=s[0],c=s[1],l=this.getViewLocation(i),u=p(this.gridview.orientation,l,n),d=r.tail2(u),h=d[0],g=d[1];r.equals(a,h)?this.gridview.moveView(a,c,g):(this.removeView(e,"number"==typeof t?void 0:t),this.addView(e,t,i,n))},e.prototype.swapViews=function(e,t){var i=this.getViewLocation(e),n=this.getViewLocation(t);return this.gridview.swapViews(i,n)},e.prototype.resizeView=function(e,t){var i=this.getViewLocation(e);return this.gridview.resizeView(i,t)},e.prototype.getViewSize=function(e){var t=this.getViewLocation(e),i=this.gridview.getViewSize(t);return 1===l(this.orientation,t)?i.width:i.height},e.prototype.getViewSize2=function(e){var t=this.getViewLocation(e);return this.gridview.getViewSize(t)},e.prototype.maximizeViewSize=function(e){
var t=this.getViewLocation(e);this.gridview.maximizeViewSize(t)},e.prototype.distributeViewSizes=function(){this.gridview.distributeViewSizes()},e.prototype.getViews=function(){return this.gridview.getViews()},e.prototype.getNeighborViews=function(e,t,i){void 0===i&&(i=!1);var n=this.getViewLocation(e),r=this.getViews(),o=a(r,n),l=c(o.box,t);return i&&(0===t&&0===o.box.top?l={offset:r.box.top+r.box.height,range:l.range}:3===t&&o.box.left+o.box.width===r.box.width?l={offset:0,range:l.range}:1===t&&o.box.top+o.box.height===r.box.height?l={offset:0,range:l.range}:2===t&&0===o.box.left&&(l={offset:r.box.left+r.box.width,range:l.range})),function(e,t,i){function n(e,t,i){if(s(e))for(var o=0,a=e.children;o<a.length;o++)n(a[o],t,i);else{var l=c(e.box,t),u=l.offset,d=l.range;u===i.offset&&function(e,t){return!(e.start>=t.end||t.start>=e.end)}(d,i.range)&&r.push(e)}}var r=[];return n(e,t,i),r}(r,function(e){switch(e){case 0:return 1;case 1:return 0;case 2:return 3;case 3:return 2}}(t),l).map(function(e){return e.view
})},e.prototype.getViewLocation=function(e){var t=this.views.get(e);if(!t)throw new Error("View not found");return h(t)},e.prototype.doResetViewSize=function(e){if("split"===this.sashResetSizing){var t=l(this.orientation,e),i=d(this.gridview.getViewSize(e),t),n=r.tail2(e),o=n[0],s=n[1],a=i+d(this.gridview.getViewSize(o.concat([s+1])),t);this.gridview.resizeView(e,Math.floor(a/2))}else{o=r.tail2(e)[0];this.gridview.distributeViewSizes(o)}},e.prototype.dispose=function(){this.disposables=n.dispose(this.disposables)},e}();t.Grid=m;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.serializeNode=function(e,i){var n=0===i?e.box.width:e.box.height;return s(e)?{type:"branch",data:e.children.map(function(e){return t.serializeNode(e,o.orthogonal(i))}),size:n}:{type:"leaf",data:e.view.toJSON(),size:n}},t.deserializeNode=function(e,i,n,r){if(!e||"object"!=typeof e)throw new Error("Invalid JSON");var s=e.type,a=e.data;if("branch"===s){
if(!Array.isArray(a))throw new Error("Invalid JSON: 'data' property of branch must be an array.");for(var c=[],l=0,u=0,d=a;u<d.length;u++){var p=d[u];if("number"!=typeof p.size)throw new Error("Invalid JSON: 'size' property of node must be a number.");var h=1===i?{top:n.top,left:n.left+l,width:p.size,height:n.height}:{top:n.top+l,left:n.left,width:n.width,height:p.size};c.push(t.deserializeNode(p,o.orthogonal(i),h,r)),l+=p.size}return{children:c,box:n}}if("leaf"===s){return{view:r.fromJSON(a),box:n}}throw new Error("Invalid JSON: 'type' property must be either 'branch' or 'leaf'.")},t.getFirstLeaf=function(e){return s(e)?t.getFirstLeaf(e.children[0]):e},t.deserialize=function(e,i,n){if(void 0===n&&(n={}),"number"!=typeof e.orientation)throw new Error("Invalid JSON: 'orientation' property must be a number.");if("number"!=typeof e.width)throw new Error("Invalid JSON: 'width' property must be a number.");if("number"!=typeof e.height)throw new Error("Invalid JSON: 'height' property must be a number.")
;var r=e.orientation,o=e.width,s=e.height,a={top:0,left:0,width:o,height:s},c=t.deserializeNode(e.root,r,a,i),l=t.getFirstLeaf(c);if(!l)throw new Error("Invalid serialized state, first leaf not found");var u=new t(l.view,n);return u.orientation=r,u.restoreViews(l.view,r,c),u.initialLayoutContext={width:o,height:s,root:c},u},t.prototype.serialize=function(){return{root:t.serializeNode(this.getViews(),this.orientation),orientation:this.orientation,width:this.width,height:this.height}},t.prototype.layout=function(t,i){if(e.prototype.layout.call(this,t,i),this.initialLayoutContext){var n=t/this.initialLayoutContext.width,r=i/this.initialLayoutContext.height;this.restoreViewsSize([],this.initialLayoutContext.root,this.orientation,n,r),this.initialLayoutContext=void 0,this.gridview.trySet2x2()}},t.prototype.restoreViews=function(e,i,n){if(s(n)){for(var r=0===i?1:3,a=n.children.map(function(e){return t.getFirstLeaf(e)}),c=1;c<a.length;c++){var l=0===i?a[c].box.height:a[c].box.width;this.addView(a[c].view,l,e,r),
e=a[c].view}for(c=0;c<n.children.length;c++)this.restoreViews(a[c].view,o.orthogonal(i),n.children[c])}},t.prototype.restoreViewsSize=function(e,t,i,n,r){if(s(t))for(var a=0===i?r:n,c=0;c<t.children.length;c++){var l=t.children[c],u=e.concat([c]);if(c<t.children.length-1){var d=0===i?l.box.height:l.box.width;this.gridview.resizeView(u,Math.floor(d*a))}this.restoreViewsSize(u,l,o.orthogonal(i),n,r)}},t}(m);t.SerializableGrid=y,t.sanitizeGridNodeDescriptor=g,t.createSerializedGrid=function(e){g(e);var t=f(e),i=v(t,e.orientation),n=i.width,r=i.height;return{root:t,orientation:e.orientation,width:n||1,height:r||1}}}),define(e[216],t([1,0,4,5,218,66,7,19,73,110,333]),function(e,t,n,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e){void 0===e&&(e={}),this.disposables=[],this.expandedSize=void 0,this._headerVisible=!0,this.styles={},this._onDidChange=new r.Emitter,this.onDidChange=this._onDidChange.event,this._expanded=void 0===e.expanded||!!e.expanded,
this.ariaHeaderLabel=e.ariaHeaderLabel||"",this._minimumBodySize="number"==typeof e.minimumBodySize?e.minimumBodySize:120,this._maximumBodySize="number"==typeof e.maximumBodySize?e.maximumBodySize:Number.POSITIVE_INFINITY,this.element=a.$(".panel")}return Object.defineProperty(e.prototype,"draggableElement",{get:function(){return this.header},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropTargetElement",{get:function(){return this.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropBackground",{get:function(){return this._dropBackground},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumBodySize",{get:function(){return this._minimumBodySize},set:function(e){this._minimumBodySize=e,this._onDidChange.fire()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumBodySize",{get:function(){return this._maximumBodySize},set:function(e){this._maximumBodySize=e,this._onDidChange.fire()},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"headerSize",{get:function(){return this.headerVisible?e.HEADER_SIZE:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumSize",{get:function(){return this.headerSize+(!this.headerVisible||this.isExpanded()?this._minimumBodySize:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumSize",{get:function(){return this.headerSize+(!this.headerVisible||this.isExpanded()?this._maximumBodySize:0)},enumerable:!0,configurable:!0}),e.prototype.isExpanded=function(){return this._expanded},e.prototype.setExpanded=function(e){this._expanded!==!!e&&(this._expanded=!!e,this.updateHeader(),this._onDidChange.fire(e?this.expandedSize:void 0))},Object.defineProperty(e.prototype,"headerVisible",{get:function(){return this._headerVisible},set:function(e){this._headerVisible!==!!e&&(this._headerVisible=!!e,this.updateHeader(),this._onDidChange.fire())},enumerable:!0,configurable:!0}),e.prototype.render=function(){var e=this
;this.header=a.$(".panel-header"),a.append(this.element,this.header),this.header.setAttribute("tabindex","0"),this.header.setAttribute("role","toolbar"),this.header.setAttribute("aria-label",this.ariaHeaderLabel),this.renderHeader(this.header);var t=a.trackFocus(this.header);t.onDidFocus(function(){return a.addClass(e.header,"focused")}),t.onDidBlur(function(){return a.removeClass(e.header,"focused")}),this.updateHeader();var i=r.chain(o.domEvent(this.header,"keydown")).map(function(e){return new s.StandardKeyboardEvent(e)});i.filter(function(e){return 3===e.keyCode||10===e.keyCode}).event(function(){return e.setExpanded(!e.isExpanded())},null,this.disposables),i.filter(function(e){return 15===e.keyCode}).event(function(){return e.setExpanded(!1)},null,this.disposables),i.filter(function(e){return 17===e.keyCode}).event(function(){return e.setExpanded(!0)},null,this.disposables),o.domEvent(this.header,"click")(function(){return e.setExpanded(!e.isExpanded())},null,this.disposables)
;var n=a.append(this.element,a.$(".panel-body"));this.renderBody(n)},e.prototype.layout=function(t){var i=this.headerVisible?e.HEADER_SIZE:0;this.layoutBody(t-i),this.isExpanded()&&(this.expandedSize=t)},e.prototype.style=function(e){this.styles=e,this.header&&this.updateHeader()},e.prototype.updateHeader=function(){var e=!this.headerVisible||this.isExpanded();this.header.style.height=this.headerSize+"px",this.header.style.lineHeight=this.headerSize+"px",a.toggleClass(this.header,"hidden",!this.headerVisible),a.toggleClass(this.header,"expanded",e),this.header.setAttribute("aria-expanded",String(e)),this.header.style.color=this.styles.headerForeground?this.styles.headerForeground.toString():null,this.header.style.backgroundColor=this.styles.headerBackground?this.styles.headerBackground.toString():null,this.header.style.borderTop=this.styles.headerBorder?"1px solid "+this.styles.headerBorder:null,this._dropBackground=this.styles.dropBackground},e.prototype.dispose=function(){
this.disposables=n.dispose(this.disposables),this._onDidChange.dispose()},e.HEADER_SIZE=22,e}();t.Panel=d;var p=function(e){function t(t,i,n){var s=e.call(this)||this;return s.panel=t,s.dnd=i,s.context=n,s.dragOverCounter=0,s._onDidDrop=s._register(new r.Emitter),s.onDidDrop=s._onDidDrop.event,t.draggableElement.draggable=!0,s._register(o.domEvent(t.draggableElement,"dragstart")(s.onDragStart,s)),s._register(o.domEvent(t.dropTargetElement,"dragenter")(s.onDragEnter,s)),s._register(o.domEvent(t.dropTargetElement,"dragleave")(s.onDragLeave,s)),s._register(o.domEvent(t.dropTargetElement,"dragend")(s.onDragEnd,s)),s._register(o.domEvent(t.dropTargetElement,"drop")(s.onDrop,s)),s}return i(t,e),t.prototype.onDragStart=function(e){if(!this.dnd.canDrag(this.panel))return e.preventDefault(),void e.stopPropagation();e.dataTransfer.effectAllowed="move";var t=a.append(document.body,a.$(".monaco-panel-drag-image",{},this.panel.draggableElement.textContent));e.dataTransfer.setDragImage(t,-10,-10),setTimeout(function(){
return document.body.removeChild(t)},0),this.context.draggable=this},t.prototype.onDragEnter=function(e){this.context.draggable&&this.context.draggable!==this&&this.dnd.canDrop(this.context.draggable.panel,this.panel)&&(this.dragOverCounter++,this.render())},t.prototype.onDragLeave=function(e){this.context.draggable&&this.context.draggable!==this&&this.dnd.canDrop(this.context.draggable.panel,this.panel)&&(this.dragOverCounter--,0===this.dragOverCounter&&this.render())},t.prototype.onDragEnd=function(e){this.context.draggable&&(this.dragOverCounter=0,this.render(),this.context.draggable=null)},t.prototype.onDrop=function(e){this.context.draggable&&(this.dragOverCounter=0,this.render(),this.dnd.canDrop(this.context.draggable.panel,this.panel)&&this.context.draggable!==this&&this._onDidDrop.fire({from:this.context.draggable.panel,to:this.panel}),this.context.draggable=null)},t.prototype.render=function(){var e=null
;this.dragOverCounter>0&&(e=(this.panel.dropBackground||t.DefaultDragOverBackgroundColor).toString()),this.panel.dropTargetElement.style.backgroundColor=e},t.DefaultDragOverBackgroundColor=new l.Color(new l.RGBA(128,128,128,.5)),t}(n.Disposable),h=function(){function e(){}return e.prototype.canDrag=function(e){return!0},e.prototype.canDrop=function(e,t){return!0},e}();t.DefaultPanelDndController=h;var g=function(e){function t(t,i){void 0===i&&(i={});var n=e.call(this)||this;return n.dndContext={draggable:null},n.panelItems=[],n.animationTimer=null,n._onDidDrop=n._register(new r.Emitter),n.onDidDrop=n._onDidDrop.event,n.dnd=i.dnd,n.el=a.append(t,a.$(".monaco-panel-view")),n.splitview=n._register(new u.SplitView(n.el)),n.onDidSashChange=n.splitview.onDidSashChange,n}return i(t,e),t.prototype.addPanel=function(e,t,i){var r=this;void 0===i&&(i=this.splitview.length);var o=[];o.push(a.scheduleAtNextAnimationFrame(function(){return e.onDidChange(r.setupAnimation,r,o)}));var s={panel:e,
disposable:n.combinedDisposable(o)};if(this.panelItems.splice(i,0,s),this.splitview.addView(e,t,i),this.dnd){var c=new p(e,this.dnd,this.dndContext);o.push(c),c.onDidDrop(this._onDidDrop.fire,this._onDidDrop,o)}},t.prototype.removePanel=function(e){var t=c.firstIndex(this.panelItems,function(t){return t.panel===e});if(-1!==t){this.splitview.removeView(t);this.panelItems.splice(t,1)[0].disposable.dispose()}},t.prototype.movePanel=function(e,t){var i=c.firstIndex(this.panelItems,function(t){return t.panel===e}),n=c.firstIndex(this.panelItems,function(e){return e.panel===t});if(-1!==i&&-1!==n){var r=this.panelItems.splice(i,1)[0];this.panelItems.splice(n,0,r),this.splitview.moveView(i,n)}},t.prototype.resizePanel=function(e,t){var i=c.firstIndex(this.panelItems,function(t){return t.panel===e});-1!==i&&this.splitview.resizeView(i,t)},t.prototype.getPanelSize=function(e){var t=c.firstIndex(this.panelItems,function(t){return t.panel===e});return-1===t?-1:this.splitview.getViewSize(t)},
t.prototype.layout=function(e){this.splitview.layout(e)},t.prototype.setupAnimation=function(){var e=this;"number"==typeof this.animationTimer&&window.clearTimeout(this.animationTimer),a.addClass(this.el,"animated"),this.animationTimer=window.setTimeout(function(){e.animationTimer=null,a.removeClass(e.el,"animated")},200)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.panelItems.forEach(function(e){return e.disposable.dispose()})},t}(n.Disposable);t.PanelView=g}),define(e[356],t([18]),{}),define(e[357],t([18]),{}),define(e[215],t([18]),{}),define(e[367],t([18]),{}),define(e[369],t([18]),{}),define(e[374],t([18]),{}),define(e[379],t([18]),{}),define(e[213],t([18]),{}),define(e[389],t([18]),{}),define(e[407],t([18]),{}),define(e[411],t([18]),{}),define(e[416],t([18]),{}),define(e[427],t([18]),{}),define(e[241],t([18]),{}),define(e[243],t([18]),{}),define(e[244],t([18]),{}),define(e[245],t([18]),{}),define(e[129],t([18]),{}),define(e[249],t([18]),{}),define(e[251],t([18]),{}),
define(e[254],t([18]),{}),define(e[255],t([18]),{}),define(e[256],t([18]),{}),define(e[257],t([18]),{}),define(e[258],t([18]),{}),define(e[261],t([18]),{}),define(e[265],t([18]),{}),define(e[268],t([18]),{}),define(e[269],t([18]),{}),define(e[270],t([18]),{}),define(e[271],t([18]),{}),define(e[272],t([18]),{}),define(e[274],t([18]),{}),define(e[279],t([1,0,6,123,14,46,7,66,303]),function(e,t,n,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,i){var n=e.call(this)||this;n._element=a.append(t,a.$(".monaco-dropdown")),n._label=a.append(n._element,a.$(".dropdown-label"));var o=i.labelRenderer;o||(o=function(e){return e.textContent=i.label||"",null}),[a.EventType.CLICK,a.EventType.MOUSE_DOWN,r.EventType.Tap].forEach(function(e){n._register(a.addDisposableListener(n._label,e,function(e){return a.EventHelper.stop(e,!0)}))}),[a.EventType.MOUSE_DOWN,r.EventType.Tap].forEach(function(e){n._register(a.addDisposableListener(n._label,e,function(e){
e instanceof MouseEvent&&e.detail>1||(n.visible?n.hide():n.show())}))}),n._register(a.addDisposableListener(n._label,a.EventType.KEY_UP,function(e){var t=new c.StandardKeyboardEvent(e);(t.equals(3)||t.equals(10))&&(a.EventHelper.stop(e,!0),n.visible?n.hide():n.show())}));var s=o(n._label);return s&&n._register(s),r.Gesture.addTarget(n._label),n}return i(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{set:function(e){this._label.title=e},enumerable:!0,configurable:!0}),t.prototype.show=function(){this.visible=!0},t.prototype.hide=function(){this.visible=!1},t.prototype.onEvent=function(e,t){this.hide()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=null),this.contents&&(this.contents.remove(),
this.contents=null),this._label&&(this._label.remove(),this._label=null)},t}(o.ActionRunner);t.BaseDropdown=l;var u=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.contextViewProvider=i.contextViewProvider,n}return i(t,e),t.prototype.show=function(){var t=this;e.prototype.show.call(this),a.addClass(this.element,"active"),this.contextViewProvider.showContextView({getAnchor:function(){return t.getAnchor()},render:function(e){return t.renderContents(e)},onDOMEvent:function(e,i){t.onEvent(e,i)},onHide:function(){return t.onHide()}})},t.prototype.getAnchor=function(){return this.element},t.prototype.onHide=function(){a.removeClass(this.element,"active")},t.prototype.hide=function(){e.prototype.hide.call(this),this.contextViewProvider&&this.contextViewProvider.hideContextView()},t.prototype.renderContents=function(e){return null},t}(l);t.Dropdown=u;var d=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._contextMenuProvider=i.contextMenuProvider,n.actions=i.actions||[],
n.actionProvider=i.actionProvider,n.menuClassName=i.menuClassName||"",n}return i(t,e),Object.defineProperty(t.prototype,"menuOptions",{get:function(){return this._menuOptions},set:function(e){this._menuOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this.actionProvider?this.actionProvider.getActions():this._actions},set:function(e){this._actions=e},enumerable:!0,configurable:!0}),t.prototype.show=function(){var t=this;e.prototype.show.call(this),a.addClass(this.element,"active"),this._contextMenuProvider.showContextMenu({getAnchor:function(){return t.element},getActions:function(){return n.TPromise.as(t.actions)},getActionsContext:function(){return t.menuOptions?t.menuOptions.context:null},getActionItem:function(e){return t.menuOptions&&t.menuOptions.actionItemProvider?t.menuOptions.actionItemProvider(e):null},getKeyBinding:function(e){return t.menuOptions&&t.menuOptions.getKeyBinding?t.menuOptions.getKeyBinding(e):null},
getMenuClassName:function(){return t.menuClassName},onHide:function(){return t.onHide()},actionRunner:this.menuOptions?this.menuOptions.actionRunner:null})},t.prototype.hide=function(){e.prototype.hide.call(this)},t.prototype.onHide=function(){this.hide(),a.removeClass(this.element,"active")},t}(l);t.DropdownMenu=d;var p=function(e){function t(t,i,n,r,o,s,a){var c=e.call(this,null,t)||this;return c.menuActionsOrProvider=i,c.contextMenuProvider=n,c.actionItemProvider=r,c.actionRunner=o,c.keybindings=s,c.clazz=a,c}return i(t,e),t.prototype.render=function(e){var t=this,i={contextMenuProvider:this.contextMenuProvider,labelRenderer:function(e){return t.element=a.append(e,a.$("a.action-label.icon")),a.addClasses(t.element,t.clazz),t.element.tabIndex=0,t.element.setAttribute("role","button"),t.element.setAttribute("aria-haspopup","true"),t.element.title=t._action.label||"",null}};Array.isArray(this.menuActionsOrProvider)?i.actions=this.menuActionsOrProvider:i.actionProvider=this.menuActionsOrProvider,
this.dropdownMenu=this._register(new d(e,i)),this.dropdownMenu.menuOptions={actionItemProvider:this.actionItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.keybindings,context:this._context}},t.prototype.setActionContext=function(t){e.prototype.setActionContext.call(this,t),this.dropdownMenu&&(this.dropdownMenu.menuOptions.context=t)},t.prototype.show=function(){this.dropdownMenu&&this.dropdownMenu.show()},t}(s.BaseActionItem);t.DropdownMenuActionItem=p}),define(e[282],t([1,0,494]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,i){var n=e.call(this,t,i,"contextsubmenu")||this;return n.entries=i,n}return i(t,e),t}(n.SubmenuAction);t.ContextSubMenu=r}),define(e[122],t([1,0,2,6,14,46,279,4,356]),function(e,t,n,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTEXT="context.toolbar";var l=function(e){function t(t,i,n){void 0===n&&(n={orientation:0});var r=e.call(this)||this;r.options=n,
r.lookupKeybindings="function"==typeof r.options.getKeyBinding,r.toggleMenuAction=r._register(new u(function(){return r.toggleMenuActionItem&&r.toggleMenuActionItem.show()},n.toggleMenuTitle));var o=document.createElement("div");return o.className="monaco-toolbar",t.appendChild(o),r.actionBar=r._register(new s.ActionBar(o,{orientation:n.orientation,ariaLabel:n.ariaLabel,actionRunner:n.actionRunner,actionItemProvider:function(e){return e.id===u.ID?(r.toggleMenuActionItem&&r.toggleMenuActionItem.dispose(),r.toggleMenuActionItem=new a.DropdownMenuActionItem(e,e.menuActions,i,r.options.actionItemProvider,r.actionRunner,r.options.getKeyBinding,"toolbar-toggle-more"),r.toggleMenuActionItem.setActionContext(r.actionBar.context),r.toggleMenuActionItem):n.actionItemProvider?n.actionItemProvider(e):null}})),r}return i(t,e),Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this.actionBar.actionRunner},set:function(e){this.actionBar.actionRunner=e},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"context",{set:function(e){this.actionBar.context=e,this.toggleMenuActionItem&&this.toggleMenuActionItem.setActionContext(e)},enumerable:!0,configurable:!0}),t.prototype.getContainer=function(){return this.actionBar.getContainer()},t.prototype.getItemsWidth=function(){for(var e=0,t=0;t<this.actionBar.length();t++)e+=this.actionBar.getWidth(t);return e},t.prototype.setAriaLabel=function(e){this.actionBar.setAriaLabel(e)},t.prototype.setActions=function(e,t){var i=this;return function(){var n=e?e.slice(0):[];i.hasSecondaryActions=t&&t.length>0,i.hasSecondaryActions&&(i.toggleMenuAction.menuActions=t.slice(0),n.push(i.toggleMenuAction)),i.actionBar.clear(),n.forEach(function(e){i.actionBar.push(e,{icon:!0,label:!1,keybinding:i.getKeybindingLabel(e)})})}},t.prototype.getKeybindingLabel=function(e){var t=this.lookupKeybindings?this.options.getKeyBinding(e):void 0;return t?t.getLabel():void 0},t.prototype.addPrimaryAction=function(e){var t=this;return function(){
if(t.hasSecondaryActions){var i=t.actionBar.length();t.actionBar.push(e,{icon:!0,label:!1,index:i,keybinding:t.getKeybindingLabel(e)})}else t.actionBar.push(e,{icon:!0,label:!1,keybinding:t.getKeybindingLabel(e)})}},t.prototype.dispose=function(){this.toggleMenuActionItem&&(this.toggleMenuActionItem.dispose(),this.toggleMenuActionItem=void 0),e.prototype.dispose.call(this)},t}(c.Disposable);t.ToolBar=l;var u=function(e){function t(i,r){var o=this;return r=r||n.localize("moreActions","More Actions..."),o=e.call(this,t.ID,r,null,!0)||this,o.toggleDropdownMenu=i,o}return i(t,e),t.prototype.run=function(){return this.toggleDropdownMenu(),r.TPromise.as(!0)},Object.defineProperty(t.prototype,"menuActions",{get:function(){return this._menuActions},set:function(e){this._menuActions=e},enumerable:!0,configurable:!0}),t.ID="toolbar.toggle.more",t}(o.Action)}),define(e[100],t([1,0,2,30,19]),function(e,t,i,n,r){"use strict";function o(e,t){
return e.message?t&&(e.stack||e.stacktrace)?i.localize("stackTrace.format","{0}: {1}",s(e),e.stack||e.stacktrace):s(e):i.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function s(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?i.localize("nodeExceptionMessage","A system error occurred ({0})",e.message):e.message}function a(e,t){if(void 0===e&&(e=null),void 0===t&&(t=!1),!e)return i.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){var s=r.coalesce(e),c=a(s[0],t);return s.length>1?i.localize("error.moreErrors","{0} ({1} errors in total)",c,s.length):c}if(n.isString(e))return e;if(e.detail){var l=e.detail;if(l.error)return o(l.error,t);if(l.exception)return o(l.exception,t)}return e.stack?o(e,t):e.message?e.message:i.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}
Object.defineProperty(t,"__esModule",{value:!0}),t.toErrorMessage=a});var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)};define(e[293],t([1,0,22]),function(e,t,i){"use strict";function r(e,t){return e.uuid&&t.uuid?e.uuid===t.uuid:e.id===t.id||0===i.compareIgnoreCase(e.id,t.id)}function o(e){return e.toLocaleLowerCase()}function s(e,t){return e.toLocaleLowerCase()+"."+t.toLocaleLowerCase()}function a(e){return e.manifest?s(e.manifest.publisher,e.manifest.name):e.identifier.id}Object.defineProperty(t,"__esModule",{value:!0}),t.areSameExtensions=r,t.adoptToGalleryExtensionId=o,t.getGalleryExtensionId=s,t.getGalleryExtensionIdFromLocal=a,t.LOCAL_EXTENSION_ID_REGEX=/^([^.]+\..+)-(\d+\.\d+\.\d+(-.*)?)$/,t.getIdFromLocalExtensionId=function(e){var i=t.LOCAL_EXTENSION_ID_REGEX.exec(e);return o(i&&i[1]?i[1]:e)},
t.getLocalExtensionId=function(e,t){return e+"-"+t},t.groupByExtension=function(e,t){for(var i=[],n=function(e){for(var n=0,o=i;n<o.length;n++){var s=o[n];if(s.some(function(i){return r(t(i),t(e))}))return s}return null},o=0,s=e;o<s.length;o++){var a=s[o],c=n(a);c?c.push(a):i.push([a])}return i},t.getLocalExtensionTelemetryData=function(e){return{id:a(e),name:e.manifest.name,galleryId:null,publisherId:e.metadata?e.metadata.publisherId:null,publisherName:e.manifest.publisher,publisherDisplayName:e.metadata?e.metadata.publisherDisplayName:null,dependencies:e.manifest.extensionDependencies&&e.manifest.extensionDependencies.length>0}},t.getGalleryExtensionTelemetryData=function(e){return n({id:e.identifier.id,name:e.name,galleryId:e.identifier.uuid,publisherId:e.publisherId,publisherName:e.publisher,publisherDisplayName:e.publisherDisplayName,dependencies:e.properties.dependencies.length>0},e.telemetryData)},t.BetterMergeDisabledNowKey="extensions/bettermergedisablednow",t.BetterMergeId="pprice.better-merge",
t.getMaliciousExtensionsSet=function(e){for(var t=new Set,i=0,n=e;i<n.length;i++){var r=n[i];r.malicious&&t.add(r.id.id)}return t};var c=new Set;t.isWorkspaceExtension=function(e,t){var i=s(e.publisher,e.name),n=t.getValue("_workbench.workspaceExtensions")||[];if(n.length){if(-1!==n.indexOf(i))return!0;if(-1!==n.indexOf("-"+i))return!1}return!(!e.main||-1===(e.categories||[]).indexOf("Workspace Extension")&&c.has(i))}}),define(e[86],t([1,0,112]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[];t.registerSingleton=function(e,t){n.push({id:e,descriptor:new i.SyncDescriptor(t)})},t.getServices=function(){return n}}),define(e[88],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICodeSandboxService=i.createDecorator("codesandboxService")}),define(e[304],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICodeSandboxEditorConnectorService=i.createDecorator("codesandboxEditorConnectorService")})
;var r=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};define(e[305],t([1,0,5,4,88]),function(e,t,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t){var i=e.call(this)||this;return i.codeSandboxService=t,i._onTitleBarVisibilityChange=i._register(new n.Emitter),i._onMenubarVisibilityChange=i._register(new n.Emitter),i}return i(t,e),t.prototype.getMenubarVisibility=function(){throw new Error("Method not implemented.")},t.prototype.getWorkbenchElement=function(){return document.getElementById("workbench.main.container")},Object.defineProperty(t.prototype,"onTitleBarVisibilityChange",{get:function(){
return this._onTitleBarVisibilityChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMenubarVisibilityChange",{get:function(){return this._onMenubarVisibilityChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onEditorLayout",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.layout=function(e){throw new Error("Method not implemented.")},t.prototype.isCreated=function(){return!0},t.prototype.hasFocus=function(e){throw new Error("Method not implemented.")},t.prototype.getContainer=function(e){throw new Error("Method not implemented.")},t.prototype.isVisible=function(e){return 1===e||(3===e||0===e)},t.prototype.setActivityBarHidden=function(e){throw new Error("Method not implemented.")},t.prototype.getTitleBarOffset=function(){return 0},t.prototype.setSideBarHidden=function(e){throw new Error("Method not implemented.")},t.prototype.setPanelHidden=function(e){throw new Error("Method not implemented.")},
t.prototype.toggleMaximizedPanel=function(){throw new Error("Method not implemented.")},t.prototype.isPanelMaximized=function(){throw new Error("Method not implemented.")},t.prototype.getSideBarPosition=function(){return 0},t.prototype.getPanelPosition=function(){throw new Error("Method not implemented.")},t.prototype.setPanelPosition=function(e){throw new Error("Method not implemented.")},t.prototype.getWorkbenchElementId=function(){return"workbench.main.container"},t.prototype.toggleZenMode=function(){this.codeSandboxService.runSignal("preferences.zenModeToggled",{})},t.prototype.isEditorLayoutCentered=function(){throw new Error("Method not implemented.")},t.prototype.centerEditorLayout=function(e){throw new Error("Method not implemented.")},t.prototype.resizePart=function(e,t){throw new Error("Method not implemented.")},t.prototype.initServices=function(){},t=r([o(0,a.ICodeSandboxService)],t)}(s.Disposable);t.CodeSandboxWorkbench=c}),
define(e[131],t([1,0,19,57,118,24,72,39,22,50,82]),function(e,t,n,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(){}return e.prototype.remove=function(){delete this.parent.children[this.id]},e.findId=function(e,t){var i;"string"==typeof e?i=t.id+"/"+e:(i=t.id+"/"+e.name,void 0!==t.children[i]&&(i=t.id+"/"+e.name+"_"+e.range.startLineNumber+"_"+e.range.startColumn));for(var n=i,r=0;void 0!==t.children[n];r++)n=i+"_"+r;return n},e.getElementById=function(t,i){if(t){var n=l.commonPrefixLength(t,i.id);if(n===t.length)return i;if(!(n<i.id.length))for(var r in i.children){var o=e.getElementById(t,i.children[r]);if(o)return o}}},e.size=function(t){var i=1;for(var n in t.children)i+=e.size(t.children[n]);return i},e.empty=function(e){for(var t in e.children)return!1;return!0},e}();t.TreeElement=p;var h=function(e){function t(t,i,n){var r=e.call(this)||this;return r.id=t,r.parent=i,r.symbol=n,r.children=Object.create(null),r.score=[0,[]],r}return i(t,e),
t.prototype.adopt=function(e){var i=new t(this.id,e,this.symbol);return o.forEach(this.children,function(e){return i.children[e.key]=e.value.adopt(i)}),i},t}(p);t.OutlineElement=h;var g=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.id=t,o.parent=i,o.provider=n,o.providerIndex=r,o.children=Object.create(null),o}return i(t,e),t.prototype.adopt=function(e){var i=new t(this.id,e,this.provider,this.providerIndex);return o.forEach(this.children,function(e){return i.children[e.key]=e.value.adopt(i)}),i},t.prototype.updateMatches=function(e,t){for(var i in this.children)t=this._updateMatches(e,this.children[i],t);return t},t.prototype._updateMatches=function(e,t,i){t.score=a.fuzzyScore(e,t.symbol.name,void 0,!0),t.score&&(!i||t.score[0]>i.score[0])&&(i=t);for(var n in t.children){var r=t.children[n];i=this._updateMatches(e,r,i),!t.score&&r.score&&(t.score=[0,[]])}return i},t.prototype.getItemEnclosingPosition=function(e){return e?this._getItemEnclosingPosition(e,this.children):void 0},
t.prototype._getItemEnclosingPosition=function(e,t){for(var i in t){var n=t[i];if(n.symbol.range&&u.Range.containsPosition(n.symbol.range,e))return this._getItemEnclosingPosition(e,n.children)||n}},t.prototype.updateMarker=function(e){for(var t in this.children)this._updateMarker(e,this.children[t])},t.prototype._updateMarker=function(e,t){t.marker=void 0;var i,r=n.binarySearch(e,t.symbol.range,u.Range.compareRangesUsingStarts);r<0?(i=~r)>0&&u.Range.areIntersecting(e[i-1],t.symbol.range)&&(i-=1):i=r;for(var o,s=[];i<e.length&&u.Range.areIntersecting(t.symbol.range,e[i]);i++){var a=e[i];s.push(a),e[i]=void 0,(!o||a.severity>o)&&(o=a.severity)}for(var c in t.children)this._updateMarker(s,t.children[c]);o&&(t.marker={count:s.length,topSev:o}),n.coalesce(e,!0)},t}(p);t.OutlineGroup=g;var f=function(e){function t(t){var i=e.call(this)||this;return i.textModel=t,i.id="root",i.parent=void 0,i._groups=Object.create(null),i.children=Object.create(null),i}return i(t,e),t.create=function(e,i){
var n=this._keys.for(e),o=t._requests.get(n);if(!o){var s=new r.CancellationTokenSource;o={promiseCnt:0,source:s,promise:t._create(e,s.token),model:void 0},t._requests.set(n,o)}return o.model?Promise.resolve(o.model):(o.promiseCnt+=1,i.onCancellationRequested(function(){0==--o.promiseCnt&&(o.source.cancel(),t._requests.delete(n))}),new Promise(function(e,i){o.promise.then(function(t){o.model=t,e(t)},function(e){t._requests.delete(n),i(e)})}))},t._create=function(e,i){var r=new t(e),o=d.DocumentSymbolProviderRegistry.ordered(e).map(function(e,o){var a=p.findId("provider_"+o,r),c=new g(a,r,e,o);return Promise.resolve(e.provideDocumentSymbols(r.textModel,i)).then(function(e){if(!n.isFalsyOrEmpty(e))for(var i=0,r=e;i<r.length;i++){var o=r[i];t._makeOutlineElement(o,c)}return c},function(e){return s.onUnexpectedExternalError(e),c}).then(function(e){p.empty(e)?e.remove():r._groups[a]=e})});return Promise.all(o).then(function(){return r._compact()})},t._makeOutlineElement=function(e,i){
var n=p.findId(e,i),r=new h(n,i,e);if(e.children)for(var o=0,s=e.children;o<s.length;o++){var a=s[o];t._makeOutlineElement(a,r)}i.children[r.id]=r},t.get=function(e){for(;e;){if(e instanceof t)return e;e=e.parent}},t.prototype.adopt=function(){var e=new t(this.textModel);return o.forEach(this._groups,function(t){return e._groups[t.key]=t.value.adopt(e)}),e._compact()},t.prototype._compact=function(){var e=0;for(var t in this._groups){i=this._groups[t];void 0===o.first(i.children)?delete this._groups[t]:e+=1}if(1!==e)this.children=this._groups;else{var i=o.first(this._groups);for(var t in i.children){var n=i.children[t];n.parent=this,this.children[n.id]=n}}return this},t.prototype.merge=function(e){return this.textModel.uri.toString()===e.textModel.uri.toString()&&(o.size(this._groups)===o.size(e._groups)&&(this._groups=e._groups,this.children=e.children,!0))},t.prototype.updateMatches=function(e){if(this._matches&&this._matches[0]===e)return this._matches[1];var t
;for(var i in this._groups)t=this._groups[i].updateMatches(e,t);return this._matches=[e,t],t},t.prototype.getItemEnclosingPosition=function(e,t){var i;if(t)for(var n=t.parent;n&&!i;)n instanceof g&&(i=n),n=n.parent;var r=void 0;for(var o in this._groups){var s=this._groups[o];if((r=s.getItemEnclosingPosition(e))&&(!i||i===s))break}return r},t.prototype.getItemById=function(e){return p.getElementById(e,this)},t.prototype.updateMarker=function(e){e.sort(u.Range.compareRangesUsingStarts);for(var t in this._groups)this._groups[t].updateMarker(e.slice(0))},t._requests=new c.LRUCache(9,.75),t._keys=new(function(){function e(){this._counter=1,this._data=new WeakMap}return e.prototype.for=function(e){return e.id+"/"+e.getVersionId()+"/"+this._hash(d.DocumentSymbolProviderRegistry.all(e))},e.prototype._hash=function(e){for(var t="",i=0,n=e;i<n.length;i++){var r=n[i],o=this._data.get(r);void 0===o&&(o=this._counter++,this._data.set(r,o)),t+=o}return t},e}()),t}(p);t.OutlineModel=f}),
define(e[335],t([1,0,5,38,3,4]),function(e,t,i,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e){this._instantiationService=e,this._onWillExecuteCommand=new i.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this._dynamicCommands=Object.create(null)}return e.prototype.addCommand=function(e){var t=this,i=e.id;return this._dynamicCommands[i]=e,a.toDisposable(function(){delete t._dynamicCommands[i]})},e.prototype.executeCommand=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var r=n.CommandsRegistry.getCommand(e)||this._dynamicCommands[e];if(!r)return Promise.reject(new Error("command '"+e+"' not found"));try{this._onWillExecuteCommand.fire({commandId:e});var o=this._instantiationService.invokeFunction.apply(this._instantiationService,[r.handler].concat(t));return Promise.resolve(o)}catch(e){return Promise.reject(e)}},e=r([o(0,s.IInstantiationService)],e)}();t.CodeSandboxCommandService=c}),
define(e[117],t([1,0,2,3]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXTENSION_IDENTIFIER_PATTERN="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",t.EXTENSION_IDENTIFIER_REGEX=new RegExp(t.EXTENSION_IDENTIFIER_PATTERN),t.isIExtensionIdentifier=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(!e.uuid||"string"==typeof e.uuid)},t.IExtensionManagementService=n.createDecorator("extensionManagementService"),t.IExtensionGalleryService=n.createDecorator("extensionGalleryService"),t.IExtensionManagementServerService=n.createDecorator("extensionManagementServerService"),t.IExtensionEnablementService=n.createDecorator("extensionEnablementService"),t.IExtensionTipsService=n.createDecorator("extensionTipsService"),t.ExtensionsLabel=i.localize("extensions","Extensions"),t.ExtensionsChannelId="extensions",t.PreferencesLabel=i.localize("preferences","Preferences")}),define(e[60],t([1,0,6,5,3,17]),function(e,t,i,n,r,o){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.ILifecycleService=r.createDecorator("lifecycleService"),t.StartupKindToString=function(e){switch(e){case 1:return"NewWindow";case 3:return"ReloadedWindow";case 4:return"ReopenedWindow"}},t.LifecyclePhaseToString=function(e){switch(e){case 1:return"Starting";case 2:return"Restoring";case 3:return"Running";case 4:return"Eventually"}},t.NullLifecycleService={_serviceBrand:null,phase:3,when:function(){return Promise.resolve()},startupKind:1,onWillShutdown:n.Event.None,onShutdown:n.Event.None},t.handleVetos=function(e,t){if(0===e.length)return i.TPromise.as(!1);for(var n=[],r=!1,s=0,a=e;s<a.length;s++){var c=a[s];if(!0===c)return i.TPromise.as(!0);o.isThenable(c)&&n.push(c.then(function(e){e&&(r=!0)},function(e){t(e),r=!0}))}return i.TPromise.join(n).then(function(){return r})}}),define(e[346],t([1,0,3,5,348,91]),function(e,t,i,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IBroadcastService=i.createDecorator("broadcastService")
;var c=function(){function e(e,t){this.windowId=e,this.logService=t,this._onBroadcast=new n.Emitter,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;s.ipcRenderer.on("vscode:broadcast",function(t,i){e.logService.trace("Received broadcast from main in window "+e.windowId+": ",i),e._onBroadcast.fire(i)})},Object.defineProperty(e.prototype,"onBroadcast",{get:function(){return this._onBroadcast.event},enumerable:!0,configurable:!0}),e.prototype.broadcast=function(e){this.logService.trace("Sending broadcast to main from window "+this.windowId+": ",e),s.ipcRenderer.send("vscode:broadcast",this.windowId,{channel:e.channel,payload:e.payload})},e=r([o(1,a.ILogService)],e)}();t.BroadcastService=c}),define(e[350],t([1,0,28,166,88]),function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.codesandboxService=e}return e.prototype.info=function(e){return this.notify({severity:n.default.Info,message:e})},
e.prototype.warn=function(e){return this.notify({severity:n.default.Warning,message:e})},e.prototype.error=function(e){return this.notify({severity:n.default.Error,message:e})},e.prototype.notify=function(t){var i=t.message.toString();switch(t.severity){case n.default.Error:this.codesandboxService.showNotification("error",i);break;case n.default.Warning:this.codesandboxService.showNotification("warning",i);break;case n.default.Info:this.codesandboxService.showNotification("info",i);break;case n.default.Ignore:console.log("Notification",i);break;default:this.codesandboxService.showNotification("info",i)}return e.NO_OP},e.prototype.prompt=function(t,i,n,r){return console.log("Prompt",i,n),e.NO_OP},e.NO_OP=new i.NoOpNotification,e=r([o(0,s.ICodeSandboxService)],e)}();t.CodeSandboxNotificationService=a}),define(e[116],t([1,0,7,218,46,5,146,4,20,2,23,33,32,28]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v){"use strict";function m(e,t,i,n){void 0===n&&(n=function(e){return"navigation"===e});for(var r=0,o=e;r<o.length;r++){
var s=o[r],c=s[0],l=s[1];if(i&&(l=l.map(function(e){return e instanceof h.MenuItemAction&&e.alt?e.alt:e})),n(c)){(u=Array.isArray(t)?t:t.primary).unshift.apply(u,l)}else{var u=Array.isArray(t)?t:t.secondary;u.length>0&&u.push(new a.Separator),u.push.apply(u,l)}}}Object.defineProperty(t,"__esModule",{value:!0});var y=function(e){function t(t){var i=e.call(this)||this;return i._subscriptions=[],i._suppressAltKeyUp=!1,i._subscriptions.push(s.domEvent(document.body,"keydown")(function(e){i.isPressed=e.altKey||(d.isWindows||d.isLinux)&&e.shiftKey})),i._subscriptions.push(s.domEvent(document.body,"keyup")(function(e){i.isPressed&&i._suppressAltKeyUp&&e.preventDefault(),i._suppressAltKeyUp=!1,i.isPressed=!1})),i._subscriptions.push(s.domEvent(document.body,"mouseleave")(function(e){return i.isPressed=!1})),i._subscriptions.push(s.domEvent(document.body,"blur")(function(e){return i.isPressed=!1})),i._subscriptions.push(t.onDidContextMenu(function(){return i.isPressed=!1})),i}return i(t,e),
Object.defineProperty(t.prototype,"isPressed",{get:function(){return this._isPressed},set:function(e){this._isPressed=e,this.fire(this._isPressed)},enumerable:!0,configurable:!0}),t.prototype.suppressAltKeyUp=function(){this._suppressAltKeyUp=!0},t.getInstance=function(e){return t.instance||(t.instance=new t(e)),t.instance},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._subscriptions=u.dispose(this._subscriptions)},t}(c.Emitter);t.fillInContextMenuActions=function(e,t,i,n,r){m(e.getActions(t),i,y.getInstance(n).isPressed,r)},t.fillInActionBarActions=function(e,t,i,n){m(e.getActions(t),i,!1,n)},t.createActionItem=function(e,t,i,n){if(e instanceof h.MenuItemAction)return new b(e,t,i,n)};var S=new l.IdGenerator("menu-item-action-item-icon-"),b=function(e){function t(t,i,n,r){var o=e.call(this,void 0,t,{icon:!(!t.class&&!t.item.iconLocation),label:!t.class&&!t.item.iconLocation})||this;return o._action=t,o._keybindingService=i,o._notificationService=n,o._contextMenuService=r,o}return i(t,e),
Object.defineProperty(t.prototype,"_commandAction",{get:function(){return this._wantsAltCommand&&this._action.alt||this._action},enumerable:!0,configurable:!0}),t.prototype.onClick=function(e){var t=this;e.preventDefault(),e.stopPropagation();var i=y.getInstance(this._contextMenuService);i.isPressed&&i.suppressAltKeyUp(),this.actionRunner.run(this._commandAction).then(void 0,function(e){return t._notificationService.error(e)})},t.prototype.render=function(t){var i=this;e.prototype.render.call(this,t),this._updateItemClass(this._action.item);var n=!1,r=y.getInstance(this._contextMenuService),o=r.isPressed,a=function(){var e=n&&o;e!==i._wantsAltCommand&&(i._wantsAltCommand=e,i.updateLabel(),i.updateTooltip(),i.updateClass())};this._register(r.event(function(e){o=e,a()})),this._register(s.domEvent(t,"mouseleave")(function(e){n=!1,a()})),this._register(s.domEvent(t,"mouseenter")(function(e){n=!0,a()}))},t.prototype.updateLabel=function(){this.options.label&&(this.label.textContent=this._commandAction.label)},
t.prototype.updateTooltip=function(){var e=this.label,t=this._keybindingService.lookupKeybinding(this._commandAction.id),i=t&&t.getLabel();e.title=i?p.localize("titleAndKb","{0} ({1})",this._commandAction.label,i):this._commandAction.label},t.prototype.updateClass=function(){this.options.icon&&(this._commandAction!==this._action?this._updateItemClass(this._action.alt.item):this._action.alt&&this._updateItemClass(this._action.item))},t.prototype._updateItemClass=function(e){var i=this;if(u.dispose(this._itemClassDispose),this._itemClassDispose=void 0,e.iconLocation){var r,o=e.iconLocation.dark.toString();t.ICON_PATH_TO_CSS_RULES.has(o)?r=t.ICON_PATH_TO_CSS_RULES.get(o):(r=S.nextId(),n.createCSSRule(".icon."+r,'background-image: url("'+(e.iconLocation.light||e.iconLocation.dark).toString()+'")'),n.createCSSRule(".vs-dark .icon."+r+", .hc-black .icon."+r,'background-image: url("'+e.iconLocation.dark.toString()+'")'),t.ICON_PATH_TO_CSS_RULES.set(o,r)),n.addClasses(this.label,"icon",r),
this._itemClassDispose=u.toDisposable(function(){return n.removeClasses(i.label,"icon",r)})}},t.prototype.dispose=function(){this._itemClassDispose&&(u.dispose(this._itemClassDispose),this._itemClassDispose=void 0),e.prototype.dispose.call(this)},t.ICON_PATH_TO_CSS_RULES=new Map,t=r([o(1,f.IKeybindingService),o(2,v.INotificationService),o(3,g.IContextMenuService)],t)}(a.ActionItem);t.MenuItemActionItem=b;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onClick=function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.actionRunner.run(this._commandAction,this._context).then(void 0,function(e){return t._notificationService.error(e)})},t}(b);t.ContextAwareMenuItemActionItem=E}),define(e[49],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IQuickOpenService=i.createDecorator("quickOpenService")}),define(e[62],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.IQuickInputService=i.createDecorator("quickInputService")}),define(e[375],t([1,0,13,6,62]),function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.quickInput=e}return e.prototype.defaultFilePath=function(e){throw new Error("Called defaultFilePath")},e.prototype.defaultFolderPath=function(e){throw new Error("Called defaultFolderPath")},e.prototype.defaultWorkspacePath=function(e){throw new Error("Called defaultWorkspacePath")},e.prototype.toNativeOpenDialogOptions=function(e){throw new Error("Called toNativeOpenDialogOptions")},e.prototype.pickFileFolderAndOpen=function(e){throw new Error("Called pickFileFolderAndOpen")},e.prototype.pickFileAndOpen=function(e){throw new Error("called pickFileAndOpen")},e.prototype.pickFolderAndOpen=function(e){throw new Error("called pickFolderAndOpen")},e.prototype.pickWorkspaceAndOpen=function(e){throw new Error("called pickWorkspaceAndOpen")},e.prototype.toNativeSaveDialogOptions=function(e){
throw new Error("Called toNativeSaveDialogOptions")},e.prototype.showSaveDialog=function(e){var t=this,r=e.defaultUri.fsPath.split("/"),o=r.pop();r.pop();var s=r.join("/")+"/"+o;return new n.TPromise(function(e,n){t.quickInput.input({placeHolder:"Where should we save the file?",value:s.replace(/^\/sandbox/,"")}).then(function(t){if(!t)return e(void 0);e(i.URI.file("/sandbox"+t))})})},e.prototype.showOpenDialog=function(e){throw new Error("Called showOpenDialog")},e=r([o(0,s.IQuickInputService)],e)}();t.CodeSandboxFileDialogService=a}),define(e[380],t([1,0,14,6,62,88]),function(e,t,n,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.codeSandboxService=n,r}return i(t,e),t.prototype.run=function(){var e=this;return new s.TPromise(function(t){e.codeSandboxService.runSignal("editor.togglePreviewContent",{}),t(null)})},t.ID="codesandbox.preview.toggle",t.LABEL="Toggle Preview",t=r([o(2,c.ICodeSandboxService)],t)}(n.Action)
;t.CodeSandboxTogglePreviewAction=l;var u=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.codeSandboxService=n,r}return i(t,e),t.prototype.run=function(){var e=this;return new s.TPromise(function(t){e.codeSandboxService.openPreviewExternally(),t(null)})},t.ID="codesandbox.preview.external",t.LABEL="Open Preview In New Window",t=r([o(2,c.ICodeSandboxService)],t)}(n.Action);t.CodeSandboxOpenPreviewExternalAction=u;var d=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.codeSandboxService=n,r}return i(t,e),t.prototype.run=function(){var e=this;return new s.TPromise(function(t){e.codeSandboxService.runSignal("modalOpened",{modal:"searchDependencies"}),t(null)})},t.ID="codesandbox.dependencies.add",t.LABEL="Add NPM Dependency",t=r([o(2,c.ICodeSandboxService)],t)}(n.Action);t.CodeSandboxAddDependencyAction=d;var p=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.codeSandboxService=n,o.quickInputService=r,o}return i(t,e),t.prototype.run=function(){
var e=this,t=this.codeSandboxService.getThemes().map(function(e){return{id:e.id,label:e.name}}),i=this.codeSandboxService.getCurrentTheme(),n=function(t){e.codeSandboxService.runSignal("preferences.settingChanged",{name:"editorTheme",value:t})},r={activeItem:t.filter(function(e){return e.label===i})[0],onDidFocus:function(e){requestAnimationFrame(function(){n(e.label)})}};return this.quickInputService.pick(s.TPromise.as(t),r).then(function(e){n(e?e.label:i)})},t.ID="codesandbox.theme.set",t.LABEL="Color Theme",t=r([o(2,c.ICodeSandboxService),o(3,a.IQuickInputService)],t)}(n.Action);t.CodeSandboxSetThemeAction=p}),define(e[384],t([1,0,8,2,93,20]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.Registry.as(r.Extensions.Configuration);s.registerConfiguration({id:"workbench",order:7,title:n.localize("workbenchConfigurationTitle","Workbench"),type:"object",properties:{"workbench.editor.showTabs":{type:"boolean",
description:n.localize("showEditorTabs","Controls if opened editors should show in tabs or not."),default:!0},"workbench.editor.labelFormat":{type:"string",enum:["default","short","medium","long"],enumDescriptions:[n.localize("workbench.editor.labelFormat.default","Show the name of the file. When tabs are enabled and two files have the same name in one group the distinguinshing sections of each file's path are added. When tabs are disabled, the path relative to the workspace folder is shown if the editor is active."),n.localize("workbench.editor.labelFormat.short","Show the name of the file followed by it's directory name."),n.localize("workbench.editor.labelFormat.medium","Show the name of the file followed by it's path relative to the workspace folder."),n.localize("workbench.editor.labelFormat.long","Show the name of the file followed by it's absolute path.")],default:"default",description:n.localize({
comment:["This is the description for a setting. Values surrounded by parenthesis are not to be translated."],key:"tabDescription"},"Controls the format of the label for an editor. Changing this setting can for example make it easier to understand the location of a file:\n- short:   'parent'\n- medium:  'workspace/src/parent'\n- long:    '/home/user/workspace/src/parent'\n- default: '.../parent', when another tab shares the same title, or the relative workspace path if tabs are disabled")},"workbench.editor.tabCloseButton":{type:"string",enum:["left","right","off"],default:"right",description:n.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"editorTabCloseButton"},"Controls the position of the editor's tabs close buttons or disables them when set to 'off'.")},"workbench.editor.tabSizing":{type:"string",enum:["fit","shrink"],default:"fit",description:n.localize({
comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"tabSizing"},"Controls the sizing of editor tabs. Set to 'fit' to keep tabs always large enough to show the full editor label. Set to 'shrink' to allow tabs to get smaller when the available space is not enough to show all tabs at once.")},"workbench.editor.showIcons":{type:"boolean",description:n.localize("showIcons","Controls if opened editors should show with an icon or not. This requires an icon theme to be enabled as well."),default:!0},"workbench.editor.enablePreview":{type:"boolean",description:n.localize("enablePreview","Controls if opened editors show as preview. Preview editors are reused until they are kept (e.g. via double click or editing) and show up with an italic font style."),default:!0},"workbench.editor.enablePreviewFromQuickOpen":{type:"boolean",
description:n.localize("enablePreviewFromQuickOpen","Controls if opened editors from Quick Open show as preview. Preview editors are reused until they are kept (e.g. via double click or editing)."),default:!0},"workbench.editor.closeOnFileDelete":{type:"boolean",description:n.localize("closeOnFileDelete","Controls if editors showing a file should close automatically when the file is deleted or renamed by some other process. Disabling this will keep the editor open as dirty on such an event. Note that deleting from within the application will always close the editor and that dirty files will never close to preserve your data."),default:!0},"workbench.editor.openPositioning":{type:"string",enum:["left","right","first","last"],default:"right",description:n.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"editorOpenPositioning"
},"Controls where editors open. Select 'left' or 'right' to open editors to the left or right of the currently active one. Select 'first' or 'last' to open editors independently from the currently active one.")},"workbench.editor.openSideBySideDirection":{type:"string",enum:["right","down"],default:"right",description:n.localize("sideBySideDirection","Controls the default direction of editors that are opened side by side (e.g. from the explorer). By default, editors will open on the right hand side of the currently active one. If changed to open down, the editors will open below the currently active one.")},"workbench.editor.closeEmptyGroups":{type:"boolean",description:n.localize("closeEmptyGroups","Controls the behavior of empty editor groups when the last tab in the group is closed. When enabled, empty groups will automatically close. When disabled, empty groups will remain part of the grid."),default:!0},"workbench.editor.revealIfOpen":{type:"boolean",
description:n.localize("revealIfOpen","Controls if an editor is revealed in any of the visible groups if opened. If disabled, an editor will prefer to open in the currently active editor group. If enabled, an already opened editor will be revealed instead of opened again in the currently active editor group. Note that there are some cases where this setting is ignored, e.g. when forcing an editor to open in a specific group or to the side of the currently active group."),default:!1},"workbench.editor.swipeToNavigate":{type:"boolean",description:n.localize("swipeToNavigate","Navigate between open files using three-finger swipe horizontally."),default:!1,included:o.isMacintosh},"workbench.commandPalette.history":{type:"number",description:n.localize("commandHistory","Controls the number of recently used commands to keep in history for the command palette. Set to 0 to disable command history."),default:50},"workbench.commandPalette.preserveInput":{type:"boolean",
description:n.localize("preserveInput","Controls if the last typed input to the command palette should be restored when opening it the next time."),default:!1},"workbench.quickOpen.closeOnFocusLost":{type:"boolean",description:n.localize("closeOnFocusLost","Controls if Quick Open should close automatically once it loses focus."),default:!0},"workbench.settings.openDefaultSettings":{type:"boolean",description:n.localize("openDefaultSettings","Controls if opening settings also opens an editor showing all default settings."),default:!0},"workbench.settings.openDefaultKeybindings":{type:"boolean",description:n.localize("openDefaultKeybindings","Controls if opening keybinding settings also opens an editor showing all default keybindings."),default:!0},"workbench.sideBar.location":{type:"string",enum:["left","right"],default:"left",description:n.localize("sideBarLocation","Controls the location of the sidebar. It can either show on the left or right of the workbench.")},"workbench.panel.defaultLocation":{
type:"string",enum:["bottom","right"],default:"bottom",description:n.localize("panelDefaultLocation","Controls the default location of the panel (terminal, debug console, output, problems). It can either show at the bottom or on the right of the workbench.")},"workbench.statusBar.visible":{type:"boolean",default:!0,description:n.localize("statusBarVisibility","Controls the visibility of the status bar at the bottom of the workbench.")},"workbench.activityBar.visible":{type:"boolean",default:!0,description:n.localize("activityBarVisibility","Controls the visibility of the activity bar in the workbench.")},"workbench.view.alwaysShowHeaderActions":{type:"boolean",default:!1,description:n.localize("viewVisibility","Controls the visibility of view header actions. View header actions may either be always visible, or only visible when that view is focused or hovered over.")},"workbench.fontAliasing":{type:"string",enum:["default","antialiased","none","auto"],default:"default",
description:n.localize("fontAliasing","Controls font aliasing method in the workbench.\n- default: Sub-pixel font smoothing. On most non-retina displays this will give the sharpest text\n- antialiased: Smooth the font on the level of the pixel, as opposed to the subpixel. Can make the font appear lighter overall\n- none: Disables font smoothing. Text will show with jagged sharp edges\n- auto: Applies `default` or `antialiased` automatically based on the DPI of displays."),
enumDescriptions:[n.localize("workbench.fontAliasing.default","Sub-pixel font smoothing. On most non-retina displays this will give the sharpest text."),n.localize("workbench.fontAliasing.antialiased","Smooth the font on the level of the pixel, as opposed to the subpixel. Can make the font appear lighter overall."),n.localize("workbench.fontAliasing.none","Disables font smoothing. Text will show with jagged sharp edges."),n.localize("workbench.fontAliasing.auto","Applies `default` or `antialiased` automatically based on the DPI of displays.")],included:o.isMacintosh},"workbench.settings.enableNaturalLanguageSearch":{type:"boolean",description:n.localize("enableNaturalLanguageSettingsSearch","Controls whether to enable the natural language search mode for settings."),default:!0,scope:2},"workbench.settings.settingsSearchTocBehavior":{type:"string",enum:["hide","filter","show"],description:n.localize("settingsSearchTocBehavior","Controls the behavior of the settings editor Table of Contents while searching."),
default:"hide",scope:2},"workbench.settings.tocVisible":{type:"boolean",description:n.localize("settingsTocVisible","Controls whether the settings editor Table of Contents is visible."),default:!0,scope:2}}}),s.registerConfiguration({id:"window",order:8,title:n.localize("windowConfigurationTitle","Window"),type:"object",properties:{"window.openFilesInNewWindow":{type:"string",enum:["on","off","default"],enumDescriptions:[n.localize("window.openFilesInNewWindow.on","Files will open in a new window"),n.localize("window.openFilesInNewWindow.off","Files will open in the window with the files' folder open or the last active window"),o.isMacintosh?n.localize("window.openFilesInNewWindow.defaultMac","Files will open in the window with the files' folder open or the last active window unless opened via the Dock or from Finder"):n.localize("window.openFilesInNewWindow.default","Files will open in a new window unless picked from within the application (e.g. via the File menu)")],default:"off",scope:1,
description:o.isMacintosh?n.localize("openFilesInNewWindowMac","Controls if files should open in a new window.\n- default: files will open in the window with the files' folder open or the last active window unless opened via the Dock or from Finder\n- on: files will open in a new window\n- off: files will open in the window with the files' folder open or the last active window\nNote that there can still be cases where this setting is ignored (e.g. when using the -new-window or -reuse-window command line option)."):n.localize("openFilesInNewWindow","Controls if files should open in a new window.\n- default: files will open in a new window unless picked from within the application (e.g. via the File menu)\n- on: files will open in a new window\n- off: files will open in the window with the files' folder open or the last active window\nNote that there can still be cases where this setting is ignored (e.g. when using the -new-window or -reuse-window command line option).")},"window.openFoldersInNewWindow":{
type:"string",enum:["on","off","default"],enumDescriptions:[n.localize("window.openFoldersInNewWindow.on","Folders will open in a new window"),n.localize("window.openFoldersInNewWindow.off","Folders will replace the last active window"),n.localize("window.openFoldersInNewWindow.default","Folders will open in a new window unless a folder is picked from within the application (e.g. via the File menu)")],default:"default",scope:1,description:n.localize("openFoldersInNewWindow","Controls if folders should open in a new window or replace the last active window.\n- default: folders will open in a new window unless a folder is picked from within the application (e.g. via the File menu)\n- on: folders will open in a new window\n- off: folders will replace the last active window\nNote that there can still be cases where this setting is ignored (e.g. when using the -new-window or -reuse-window command line option).")},"window.openWithoutArgumentsInNewWindow":{type:"string",enum:["on","off"],
enumDescriptions:[n.localize("window.openWithoutArgumentsInNewWindow.on","Open a new empty window"),n.localize("window.openWithoutArgumentsInNewWindow.off","Focus the last active running instance")],default:o.isMacintosh?"off":"on",scope:1,description:n.localize("openWithoutArgumentsInNewWindow","Controls if a new empty window should open when starting a second instance without arguments or if the last running instance should get focus.\n- on: open a new empty window\n- off: the last active running instance will get focus\nNote that there can still be cases where this setting is ignored (e.g. when using the -new-window or -reuse-window command line option).")},"window.restoreWindows":{type:"string",enum:["all","folders","one","none"],
enumDescriptions:[n.localize("window.reopenFolders.all","Reopen all windows."),n.localize("window.reopenFolders.folders","Reopen all folders. Empty workspaces will not be restored."),n.localize("window.reopenFolders.one","Reopen the last active window."),n.localize("window.reopenFolders.none","Never reopen a window. Always start with an empty one.")],default:"one",scope:1,description:n.localize("restoreWindows","Controls how windows are being reopened after a restart. Select 'none' to always start with an empty workspace, 'one' to reopen the last window you worked on, 'folders' to reopen all windows that had folders opened or 'all' to reopen all windows of your last session.")},"window.restoreFullscreen":{type:"boolean",default:!1,scope:1,description:n.localize("restoreFullscreen","Controls if a window should restore to full screen mode if it was exited in full screen mode.")},"window.zoomLevel":{type:"number",default:0,
description:n.localize("zoomLevel","Adjust the zoom level of the window. The original size is 0 and each increment above (e.g. 1) or below (e.g. -1) represents zooming 20% larger or smaller. You can also enter decimals to adjust the zoom level with a finer granularity.")},"window.title":{type:"string",default:o.isMacintosh?"${activeEditorShort}${separator}${rootName}":"${dirty}${activeEditorShort}${separator}${rootName}${separator}${appName}",description:n.localize({comment:["This is the description for a setting. Values surrounded by parenthesis are not to be translated."],key:"title"
},'Controls the window title based on the active editor. Variables are substituted based on the context:\n${activeEditorShort}: the file name (e.g. myFile.txt)\n${activeEditorMedium}: the path of the file relative to the workspace folder (e.g. myFolder/myFile.txt)\n${activeEditorLong}: the full path of the file (e.g. /Users/Development/myProject/myFolder/myFile.txt)\n${folderName}: name of the workspace folder the file is contained in (e.g. myFolder)\n${folderPath}: file path of the workspace folder the file is contained in (e.g. /Users/Development/myFolder)\n${rootName}: name of the workspace (e.g. myFolder or myWorkspace)\n${rootPath}: file path of the workspace (e.g. /Users/Development/myWorkspace)\n${appName}: e.g. VS Code\n${dirty}: a dirty indicator if the active editor is dirty\n${separator}: a conditional separator (" - ") that only shows when surrounded by variables with values or static text')},"window.newWindowDimensions":{type:"string",enum:["default","inherit","maximized","fullscreen"],
enumDescriptions:[n.localize("window.newWindowDimensions.default","Open new windows in the center of the screen."),n.localize("window.newWindowDimensions.inherit","Open new windows with same dimension as last active one."),n.localize("window.newWindowDimensions.maximized","Open new windows maximized."),n.localize("window.newWindowDimensions.fullscreen","Open new windows in full screen mode.")],default:"default",scope:1,description:n.localize("newWindowDimensions","Controls the dimensions of opening a new window when at least one window is already opened. By default, a new window will open in the center of the screen with small dimensions. When set to 'inherit', the window will get the same dimensions as the last window that was active. When set to 'maximized', the window will open maximized and fullscreen if configured to 'fullscreen'. Note that this setting does not have an impact on the first window that is opened. The first window will always restore the size and location as you left it before closing.")},
"window.closeWhenEmpty":{type:"boolean",default:!1,description:n.localize("closeWhenEmpty","Controls if closing the last editor should also close the window. This setting only applies for windows that do not show folders.")},"window.menuBarVisibility":{type:"string",enum:["default","visible","toggle","hidden"],enumDescriptions:[n.localize("window.menuBarVisibility.default","Menu is only hidden in full screen mode."),n.localize("window.menuBarVisibility.visible","Menu is always visible even in full screen mode."),n.localize("window.menuBarVisibility.toggle","Menu is hidden but can be displayed via Alt key."),n.localize("window.menuBarVisibility.hidden","Menu is always hidden.")],default:"default",scope:1,description:n.localize("menuBarVisibility","Control the visibility of the menu bar. A setting of 'toggle' means that the menu bar is hidden and a single press of the Alt key will show it. By default, the menu bar will be visible, unless the window is full screen."),included:o.isWindows||o.isLinux},
"window.enableMenuBarMnemonics":{type:"boolean",default:!0,scope:1,description:n.localize("enableMenuBarMnemonics","If enabled, the main menus can be opened via Alt-key shortcuts. Disabling mnemonics allows to bind these Alt-key shortcuts to editor commands instead."),included:o.isWindows||o.isLinux},"window.autoDetectHighContrast":{type:"boolean",default:!0,description:n.localize("autoDetectHighContrast","If enabled, will automatically change to high contrast theme if Windows is using a high contrast theme, and to dark theme when switching away from a Windows high contrast theme."),included:o.isWindows},"window.titleBarStyle":{type:"string",enum:["native","custom"],default:o.isMacintosh?"custom":"native",scope:1,description:n.localize("titleBarStyle","Adjust the appearance of the window title bar. Changes require a full restart to apply.")},"window.nativeTabs":{type:"boolean",default:!1,scope:1,
description:n.localize("window.nativeTabs","Enables macOS Sierra window tabs. Note that changes require a full restart to apply and that native tabs will disable a custom title bar style if configured."),included:!1},"window.smoothScrollingWorkaround":{type:"boolean",default:!1,scope:1,description:n.localize("window.smoothScrollingWorkaround","Enable this workaround if scrolling is no longer smooth after restoring a minimized VS Code window. This is a workaround for an issue (https://github.com/Microsoft/vscode/issues/13612) where scrolling starts to lag on devices with precision trackpads like the Surface devices from Microsoft. Enabling this workaround can result in a little bit of layout flickering after restoring the window from minimized state but is otherwise harmless. Note: in order for this workaround to function, make sure to also set 'window.titleBarStyle: native'."),included:o.isWindows},"window.clickThroughInactive":{type:"boolean",default:!0,scope:1,
description:n.localize("window.clickThroughInactive","If enabled, clicking on an inactive window will both activate the window and trigger the element under the mouse if it is clickable. If disabled, clicking anywhere on an inactive window will activate it only and a second click is required on the element."),included:o.isMacintosh}}}),s.registerConfiguration({id:"zenMode",order:9,title:n.localize("zenModeConfigurationTitle","Zen Mode"),type:"object",properties:{"zenMode.fullScreen":{type:"boolean",default:!0,description:n.localize("zenMode.fullScreen","Controls if turning on Zen Mode also puts the workbench into full screen mode.")},"zenMode.centerLayout":{type:"boolean",default:!0,description:n.localize("zenMode.centerLayout","Controls if turning on Zen Mode also centers the layout.")},"zenMode.hideTabs":{type:"boolean",default:!0,description:n.localize("zenMode.hideTabs","Controls if turning on Zen Mode also hides workbench tabs.")},"zenMode.hideStatusBar":{type:"boolean",default:!0,
description:n.localize("zenMode.hideStatusBar","Controls if turning on Zen Mode also hides the status bar at the bottom of the workbench.")},"zenMode.hideActivityBar":{type:"boolean",default:!0,description:n.localize("zenMode.hideActivityBar","Controls if turning on Zen Mode also hides the activity bar at the left of the workbench.")},"zenMode.restore":{type:"boolean",default:!1,description:n.localize("zenMode.restore","Controls if a window should restore to zen mode if it was exited in zen mode.")}}})}),define(e[405],t([1,0,22]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){this._hasParameters=!1,this._replacePattern=e;var r;("boolean"==typeof t?t:(r=t).isRegExp)&&this.parseReplaceString(e),this._regExp=n||i.createRegExp(r.pattern,r.isRegExp,{matchCase:r.isCaseSensitive,wholeWord:r.isWordMatch,multiline:r.isMultiline,global:!1}),this._regExp.global&&(this._regExp=i.createRegExp(this._regExp.source,!0,{matchCase:!this._regExp.ignoreCase,
wholeWord:!1,multiline:this._regExp.multiline,global:!1}))}return Object.defineProperty(e.prototype,"hasParameters",{get:function(){return this._hasParameters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){return this._replacePattern},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"regExp",{get:function(){return this._regExp},enumerable:!0,configurable:!0}),e.prototype.getReplaceString=function(e){this._regExp.lastIndex=0;var t=this._regExp.exec(e);if(t){if(this.hasParameters){if(t[0]===e)return e.replace(this._regExp,this.pattern);var i=e.replace(this._regExp,this.pattern);return i.substr(t.index,t[0].length-(e.length-i.length))}return this.pattern}return null},e.prototype.parseReplaceString=function(e){if(e&&0!==e.length){for(var t=0,i="",n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(92===o){if(++n>=r)break;a=null;switch(s=e.charCodeAt(n)){case 92:a="\\";break;case 110:a="\n";break;case 116:a="\t"}a&&(i+=e.substring(t,n-1)+a,t=n+1)}
if(36===o){if(++n>=r)break;var s=e.charCodeAt(n),a=null;switch(s){case 48:a="$&",this._hasParameters=!0;break;case 96:case 39:this._hasParameters=!0;break;default:if(!this.between(s,49,57))break;if(n===e.length-1){this._hasParameters=!0;break}var c=e.charCodeAt(++n);if(!this.between(c,48,57)){this._hasParameters=!0,--n;break}if(n===e.length-1){this._hasParameters=!0;break}if(c=e.charCodeAt(++n),!this.between(c,48,57)){this._hasParameters=!0,--n;break}}a&&(i+=e.substring(t,n-1)+a,t=n+1)}}0!==t&&(this._replacePattern=i+e.substring(t))}},e.prototype.between=function(e,t,i){return t<=e&&e<=i},e}();t.ReplacePattern=n}),define(e[70],t([1,0,139,40,25,3]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_ID="workbench.view.search",t.ISearchHistoryService=o.createDecorator("searchHistoryService"),t.ISearchService=o.createDecorator("searchService");var s=function(){return function(e){this.resource=e,this.matches=[]}}();t.FileMatch=s;var a=function(){return function(e,t,i){
if(this.range=t,i){var n=Math.floor(i.charsPerLine/5),r=Math.max(t.startColumn-n,0),o=i.charsPerLine+r,s=Math.min(o,t.endColumn-r);this.preview={text:e.substring(r,o),match:new c(0,t.startColumn-r,s)}}else this.preview={text:e,match:new c(0,t.startColumn,t.endColumn)}}}();t.TextSearchResult=a;var c=function(){return function(e,t,i){this.startLineNumber=e,this.startColumn=t,this.endLineNumber=e,this.endColumn=i}}();t.OneLineRange=c,t.getExcludes=function(e){var t=e&&e.files&&e.files.exclude,i=e&&e.search&&e.search.exclude;if(t||i){if(!t||!i)return t||i;var r=Object.create(null);return r=n.mixin(r,n.deepClone(t)),r=n.mixin(r,n.deepClone(i),!0)}},t.pathIncludedInQuery=function(e,t){return(!e.excludePattern||!i.match(e.excludePattern,t))&&!(e.includePattern&&!i.match(e.includePattern,t))&&(!e.usingSearchPaths||e.folderQueries.every(function(e){var n=e.folder.fsPath;return!(!r.isEqualOrParent(t,n)||e.includePattern&&!i.match(e.includePattern,t))}))}}),define(e[209],t([1,0,3]),function(e,t,i){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.IStatusbarService=i.createDecorator("statusbarService")}),define(e[418],t([1,0,60,36,5,430,17,91]),function(e,t,i,n,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(t,i){this._storageService=t,this._logService=i,this._onWillShutdown=new s.Emitter,this._onShutdown=new s.Emitter,this._phase=1,this._phaseWhen=new Map;var n=this._storageService.getInteger(e._lastShutdownReasonKey,1);this._storageService.remove(e._lastShutdownReasonKey,1),this._startupKind=3===n?3:4===n?4:1,this._logService.trace("lifecycle: starting up (startup kind: "+this._startupKind+")"),this._registerListeners()}return e.prototype._registerListeners=function(){},Object.defineProperty(e.prototype,"phase",{get:function(){return this._phase},set:function(e){if(e<this.phase)throw new Error("Lifecycle cannot go backwards");this._phase!==e&&(this._logService.trace("lifecycle: phase changed (value: "+e+")"),this._phase=e,
a.mark("LifecyclePhase/"+i.LifecyclePhaseToString(e)),this._phaseWhen.has(this._phase)&&(this._phaseWhen.get(this._phase).open(),this._phaseWhen.delete(this._phase)))},enumerable:!0,configurable:!0}),e.prototype.when=function(e){if(e<=this._phase)return Promise.resolve();var t=this._phaseWhen.get(e);return t||(t=new c.Barrier,this._phaseWhen.set(e,t)),t.wait()},Object.defineProperty(e.prototype,"startupKind",{get:function(){return this._startupKind},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onWillShutdown",{get:function(){return this._onWillShutdown.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onShutdown",{get:function(){return this._onShutdown.event},enumerable:!0,configurable:!0}),e._lastShutdownReasonKey="lifecyle.lastShutdownReason",e=r([o(0,n.IStorageService),o(1,l.ILogService)],e)}();t.CodeSandboxLifecycleService=u}),define(e[431],t([1,0,30,24,22,430]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;var s=function(){function e(e,t,i,n){this._globalStorage=e,this._workspaceStorage=t||e,this.setWorkspaceId(i,n)}return Object.defineProperty(e.prototype,"workspaceId",{get:function(){return this._workspaceId},enumerable:!0,configurable:!0}),e.prototype.setWorkspaceId=function(e,t){this._workspaceId=e,this.workspaceKey=this.getWorkspaceKey(e),i.isNumber(t)&&this.cleanupWorkspaceScope(t)},Object.defineProperty(e.prototype,"globalStorage",{get:function(){return this._globalStorage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workspaceStorage",{get:function(){return this._workspaceStorage},enumerable:!0,configurable:!0}),e.prototype.getWorkspaceKey=function(t){if(!t)return e.NO_WORKSPACE_IDENTIFIER;return 0===t.indexOf("file:///")&&(t=t.substr("file:///".length)),r.rtrim(t,"/")+"/"},e.prototype.cleanupWorkspaceScope=function(t){var n=this;o.mark("willReadWorkspaceIdentifier");var r=this.getInteger(e.WORKSPACE_IDENTIFIER,1);if(o.mark("didReadWorkspaceIdentifier"),i.isNumber(r)&&t!==r){
for(var s=this.toStorageKey("",1),a=[],c=this._workspaceStorage.length,l=0;l<c;l++){var u=this._workspaceStorage.key(l);u.indexOf(e.WORKSPACE_PREFIX)<0||0===u.indexOf(s)&&a.push(u)}a.forEach(function(e){n._workspaceStorage.removeItem(e)})}t!==r&&this.store(e.WORKSPACE_IDENTIFIER,t,1)},e.prototype.store=function(e,t,r){void 0===r&&(r=0);var o=0===r?this._globalStorage:this._workspaceStorage;if(i.isUndefinedOrNull(t))this.remove(e,r);else{var s=this.toStorageKey(e,r);try{o.setItem(s,t)}catch(e){n.onUnexpectedError(e)}}},e.prototype.get=function(e,t,n){void 0===t&&(t=0);var r=(0===t?this._globalStorage:this._workspaceStorage).getItem(this.toStorageKey(e,t));return i.isUndefinedOrNull(r)?n:r},e.prototype.getInteger=function(e,t,n){void 0===t&&(t=0);var r=this.get(e,t,n);return i.isUndefinedOrNull(r)?n:parseInt(r,10)},e.prototype.getBoolean=function(e,t,n){void 0===t&&(t=0);var r=this.get(e,t,n);return i.isUndefinedOrNull(r)?n:i.isString(r)?"true"===r.toLowerCase():!!r},e.prototype.remove=function(e,t){
void 0===t&&(t=0);var i=0===t?this._globalStorage:this._workspaceStorage,n=this.toStorageKey(e,t);i.removeItem(n)},e.prototype.toStorageKey=function(t,i){return 0===i?e.GLOBAL_PREFIX+t.toLowerCase():e.WORKSPACE_PREFIX+this.workspaceKey+t.toLowerCase()},e.COMMON_PREFIX="storage://",e.GLOBAL_PREFIX=e.COMMON_PREFIX+"global/",e.WORKSPACE_PREFIX=e.COMMON_PREFIX+"workspace/",e.WORKSPACE_IDENTIFIER="workspaceidentifier",e.NO_WORKSPACE_IDENTIFIER="__$noWorkspace__",e}();t.StorageService=s;var a=function(){function e(){this.store={}}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.store).length},enumerable:!0,configurable:!0}),e.prototype.key=function(e){var t=Object.keys(this.store);return t.length>e?t[e]:null},e.prototype.setItem=function(e,t){this.store[e]=t.toString()},e.prototype.getItem=function(e){var t=this.store[e];return i.isUndefinedOrNull(t)?null:t},e.prototype.removeItem=function(e){delete this.store[e]},e}();t.InMemoryLocalStorage=a,
t.inMemoryLocalStorageInstance=new a}),define(e[434],t([1,0,2,4,22,115,58,37,50,108,98,76,484,486,487,62]),function(e,t,n,r,o,s,a,c,l,u,d,p,h,g,f,v){"use strict";function m(e,t,i){i=i||1;for(var n=g.ShiftCommand.shiftIndentCount(t,t.length+i,e),r="",o=0;o<n;o++)r+="\t";return r}function y(e,t,i){i=i||1;for(var n=g.ShiftCommand.unshiftIndentCount(t,t.length+i,e),r="",o=0;o<n;o++)r+="\t";return r}function S(e,t,i,n){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){var r=h.LanguageConfigurationRegistry.getIndentationRules(e.getLanguageIdentifier().id);if(r){for(i=Math.min(i,e.getLineCount());t<=i&&r.unIndentedLinePattern;){E=e.getLineContent(t);if(!r.unIndentedLinePattern.test(E))break;t++}if(!(t>i-1)){var s,a=e.getOptions(),c=a.tabSize,l=a.insertSpaces,g=[],f=e.getLineContent(t),v=f;if(void 0!==n&&null!==n){s=n;w=o.getLeadingWhitespace(f);v=s+f.substring(w.length),r.decreaseIndentPattern&&r.decreaseIndentPattern.test(v)&&(v=(s=y(c,s))+f.substring(w.length)),
f!==v&&g.push(d.EditOperation.replace(new u.Selection(t,1,t,w.length+1),p.TextModel.normalizeIndentation(s,c,l)))}else s=o.getLeadingWhitespace(f);var S=s;r.increaseIndentPattern&&r.increaseIndentPattern.test(v)?(S=m(c,S),s=m(c,s)):r.indentNextLinePattern&&r.indentNextLinePattern.test(v)&&(S=m(c,S));for(var b=++t;b<=i;b++){var E=e.getLineContent(b),w=o.getLeadingWhitespace(E),C=S+E.substring(w.length);r.decreaseIndentPattern&&r.decreaseIndentPattern.test(C)&&(S=y(c,S),s=y(c,s)),w!==S&&g.push(d.EditOperation.replace(new u.Selection(b,1,b,w.length+1),p.TextModel.normalizeIndentation(S,c,l))),r.unIndentedLinePattern&&r.unIndentedLinePattern.test(E)||(S=r.increaseIndentPattern&&r.increaseIndentPattern.test(C)?s=m(c,s):r.indentNextLinePattern&&r.indentNextLinePattern.test(C)?m(c,S):s)}return g}}}}function b(e,t,i,n){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){for(var r="",o=0;o<i;o++)r+=" ";for(var s=new RegExp(r,"gi"),a=1,c=e.getLineCount();a<=c;a++){var u=e.getLineFirstNonWhitespaceColumn(a)
;if(0===u&&(u=e.getLineMaxColumn(a)),1!==u){var d=new l.Range(a,1,a,u),p=e.getValueInRange(d),h=n?p.replace(/\t/gi,r):p.replace(s,"\t");t.addEditOperation(d,h)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.shiftIndent=m,t.unshiftIndent=y,t.getReindentEditOperations=S;var E=function(e){function t(){return e.call(this,{id:t.ID,label:n.localize("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:s.EditorContextKeys.writable})||this}return i(t,e),t.prototype.run=function(e,t){var i=t.getModel();if(i){var n=i.getOptions(),r=new O(t.getSelection(),n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}},t.ID="editor.action.indentationToSpaces",t}(a.EditorAction);t.IndentationToSpacesAction=E;var w=function(e){function t(){return e.call(this,{id:t.ID,label:n.localize("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:s.EditorContextKeys.writable
})||this}return i(t,e),t.prototype.run=function(e,t){var i=t.getModel();if(i){var n=i.getOptions(),r=new M(t.getSelection(),n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}},t.ID="editor.action.indentationToTabs",t}(a.EditorAction);t.IndentationToTabsAction=w;var C=function(e){function t(t,i){var n=e.call(this,i)||this;return n.insertSpaces=t,n}return i(t,e),t.prototype.run=function(e,t){var i=this,r=e.get(v.IQuickInputService),o=e.get(c.IModelService),s=t.getModel();if(s){var a=o.getCreationOptions(s.getLanguageIdentifier().language,s.uri,s.isForSimpleWidget),l=[1,2,3,4,5,6,7,8].map(function(e){return{id:e.toString(),label:e.toString(),description:e===a.tabSize?n.localize("configuredTabSize","Configured Tab Size"):null}}),u=Math.min(s.getOptions().tabSize-1,7);setTimeout(function(){r.pick(l,{placeHolder:n.localize({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:l[u]
}).then(function(e){e&&s.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:i.insertSpaces})})},50)}},t}(a.EditorAction);t.ChangeIndentationSizeAction=C;var I=function(e){function t(){return e.call(this,!1,{id:t.ID,label:n.localize("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:null})||this}return i(t,e),t.ID="editor.action.indentUsingTabs",t}(C);t.IndentUsingTabs=I;var _=function(e){function t(){return e.call(this,!0,{id:t.ID,label:n.localize("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:null})||this}return i(t,e),t.ID="editor.action.indentUsingSpaces",t}(C);t.IndentUsingSpaces=_;var D=function(e){function t(){return e.call(this,{id:t.ID,label:n.localize("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:null})||this}return i(t,e),t.prototype.run=function(e,t){var i=e.get(c.IModelService),n=t.getModel();if(n){
var r=i.getCreationOptions(n.getLanguageIdentifier().language,n.uri,n.isForSimpleWidget);n.detectIndentation(r.insertSpaces,r.tabSize)}},t.ID="editor.action.detectIndentation",t}(a.EditorAction);t.DetectIndentation=D;var A=function(e){function t(){return e.call(this,{id:"editor.action.reindentlines",label:n.localize("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:s.EditorContextKeys.writable})||this}return i(t,e),t.prototype.run=function(e,t){var i=t.getModel();if(i){var n=S(i,1,i.getLineCount());n&&(t.pushUndoStop(),t.executeEdits(this.id,n),t.pushUndoStop())}},t}(a.EditorAction);t.ReindentLinesAction=A;var x=function(e){function t(){return e.call(this,{id:"editor.action.reindentselectedlines",label:n.localize("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:s.EditorContextKeys.writable})||this}return i(t,e),t.prototype.run=function(e,t){var i=t.getModel();if(i){for(var n=[],r=0,o=t.getSelections();r<o.length;r++){
var s=o[r],a=s.startLineNumber,c=s.endLineNumber;if(a!==c&&1===s.endColumn&&c--,1===a){if(a===c)continue}else a--;var l=S(i,a,c)||[];n.push.apply(n,l)}n.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,n),t.pushUndoStop())}},t}(a.EditorAction);t.ReindentSelectedLinesAction=x;var T=function(){function e(e,t){this._initialSelection=t,this._edits=[];for(var i=0,n=e;i<n.length;i++){var r=n[i];r.range&&"string"==typeof r.text&&this._edits.push(r)}}return e.prototype.getEditOperations=function(e,t){for(var i=0,n=this._edits;i<n.length;i++){var r=n[i];t.addEditOperation(l.Range.lift(r.range),r.text)}var o=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(o=!0,
this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(o=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),o||(this._selectionId=t.trackSelection(this._initialSelection))},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e}();t.AutoIndentOnPasteCommand=T;var R=function(){function e(e){var t=this;this.editor=e,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(e.onDidChangeConfiguration(function(){return t.update()})),this.callOnDispose.push(e.onDidChangeModel(function(){return t.update()})),this.callOnDispose.push(e.onDidChangeModelLanguage(function(){return t.update()}))}return e.prototype.update=function(){var e=this;this.callOnModel=r.dispose(this.callOnModel),
this.editor.getConfiguration().autoIndent&&!this.editor.getConfiguration().contribInfo.formatOnPaste&&this.editor.getModel()&&this.callOnModel.push(this.editor.onDidPaste(function(t){e.trigger(t)}))},e.prototype.trigger=function(e){if(!(this.editor.getSelections().length>1)){var t=this.editor.getModel();if(t.isCheapToTokenize(e.getStartPosition().lineNumber)){var i=t.getOptions(),n=i.tabSize,r=i.insertSpaces;this.editor.pushUndoStop();for(var s=[],a={shiftIndent:function(e){for(var t=g.ShiftCommand.shiftIndentCount(e,e.length+1,n),i="",r=0;r<t;r++)i+="\t";return i},unshiftIndent:function(e){for(var t=g.ShiftCommand.unshiftIndentCount(e,e.length+1,n),i="",r=0;r<t;r++)i+="\t";return i}},c=e.startLineNumber;c<=e.endLineNumber&&this.shouldIgnoreLine(t,c);)c++;if(!(c>e.endLineNumber)){var u=t.getLineContent(c);if(!/\S/.test(u.substring(0,e.startColumn-1))){var d=h.LanguageConfigurationRegistry.getGoodIndentForLine(t,t.getLanguageIdentifier().id,c,a);if(null!==d){var p=o.getLeadingWhitespace(u),v=f.getSpaceCnt(d,n)
;if(v!==f.getSpaceCnt(p,n)){_=f.generateIndent(v,n,r);s.push({range:new l.Range(c,1,c,p.length+1),text:_}),u=_+u.substr(p.length)}else{var m=h.LanguageConfigurationRegistry.getIndentMetadata(t,c);if(0===m||8===m)return}}}for(var y=c;c<e.endLineNumber&&!/\S/.test(t.getLineContent(c+1));)c++;if(c!==e.endLineNumber){var S={getLineTokens:function(e){return t.getLineTokens(e)},getLanguageIdentifier:function(){return t.getLanguageIdentifier()},getLanguageIdAtPosition:function(e,i){return t.getLanguageIdAtPosition(e,i)},getLineContent:function(e){return e===y?u:t.getLineContent(e)}},b=h.LanguageConfigurationRegistry.getGoodIndentForLine(S,t.getLanguageIdentifier().id,c+1,a);if(null!==b){var E=f.getSpaceCnt(b,n),w=f.getSpaceCnt(o.getLeadingWhitespace(t.getLineContent(c+1)),n);if(E!==w)for(var C=E-w,I=c+1;I<=e.endLineNumber;I++){var _,D=t.getLineContent(I),A=o.getLeadingWhitespace(D),x=f.getSpaceCnt(A,n)+C;(_=f.generateIndent(x,n,r))!==A&&s.push({range:new l.Range(I,1,I,A.length+1),text:_})}}}
var R=new T(s,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",R),this.editor.pushUndoStop()}}}},e.prototype.shouldIgnoreLine=function(e,t){e.forceTokenization(t);var i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;var n=e.getLineTokens(t);if(n.getCount()>0){var r=n.findTokenIndexAtOffset(i);if(r>=0&&1===n.getStandardTokenType(r))return!0}return!1},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.callOnDispose=r.dispose(this.callOnDispose),this.callOnModel=r.dispose(this.callOnModel)},e.ID="editor.contrib.autoIndentOnPaste",e}();t.AutoIndentOnPaste=R;var O=function(){function e(e,t){this.selection=e,this.tabSize=t}return e.prototype.getEditOperations=function(e,t){this.selectionId=t.trackSelection(this.selection),b(e,t,this.tabSize,!0)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.IndentationToSpacesCommand=O;var M=function(){function e(e,t){this.selection=e,this.tabSize=t}
return e.prototype.getEditOperations=function(e,t){this.selectionId=t.trackSelection(this.selection),b(e,t,this.tabSize,!1)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.IndentationToTabsCommand=M,a.registerEditorContribution(R),a.registerEditorAction(E),a.registerEditorAction(w),a.registerEditorAction(I),a.registerEditorAction(_),a.registerEditorAction(D),a.registerEditorAction(A),a.registerEditorAction(x)}),define(e[45],t([1,0,6,3,5,4]),function(e,t,i,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWindowsService=n.createDecorator("windowsService"),t.IWindowService=n.createDecorator("windowService");var c=function(){function e(e){var t=this;this.disposables=[];s.latch(s.anyEvent(e.onWindowOpen,e.onWindowFocus))(this.setActiveWindow,this,this.disposables),this.firstActiveWindowIdPromise=e.getActiveWindowId().then(function(e){return void 0===t._activeWindowId&&t.setActiveWindow(e)})}return e.prototype.setActiveWindow=function(e){
this.firstActiveWindowIdPromise&&(this.firstActiveWindowIdPromise=null),this._activeWindowId=e},e.prototype.getActiveClientId=function(){return this.firstActiveWindowIdPromise?this.firstActiveWindowIdPromise:i.TPromise.as("window:"+this._activeWindowId)},e.prototype.dispose=function(){this.disposables=a.dispose(this.disposables)},e=r([o(0,t.IWindowsService)],e)}();t.ActiveWindowManager=c}),define(e[252],t([1,0,5,45]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,n){this.windowId=e,this.configuration=t,this.windowsService=n;var r=i.mapEvent(i.filterEvent(n.onWindowFocus,function(t){return t===e}),function(e){return!0}),o=i.mapEvent(i.filterEvent(n.onWindowBlur,function(t){return t===e}),function(e){return!1}),s=i.mapEvent(i.filterEvent(n.onWindowMaximize,function(t){return t===e}),function(e){return!0}),a=i.mapEvent(i.filterEvent(n.onWindowUnmaximize,function(t){return t===e}),function(e){return!1});this.onDidChangeFocus=i.anyEvent(r,o),
this.onDidChangeMaximize=i.anyEvent(s,a)}return e.prototype.getCurrentWindowId=function(){return this.windowId},e.prototype.getConfiguration=function(){return this.configuration},e.prototype.pickFileFolderAndOpen=function(e){return e.windowId=this.windowId,this.windowsService.pickFileFolderAndOpen(e)},e.prototype.pickFileAndOpen=function(e){return e.windowId=this.windowId,this.windowsService.pickFileAndOpen(e)},e.prototype.pickFolderAndOpen=function(e){return e.windowId=this.windowId,this.windowsService.pickFolderAndOpen(e)},e.prototype.pickWorkspaceAndOpen=function(e){return e.windowId=this.windowId,this.windowsService.pickWorkspaceAndOpen(e)},e.prototype.reloadWindow=function(e){return this.windowsService.reloadWindow(this.windowId,e)},e.prototype.openDevTools=function(e){return this.windowsService.openDevTools(this.windowId,e)},e.prototype.toggleDevTools=function(){return this.windowsService.toggleDevTools(this.windowId)},e.prototype.closeWorkspace=function(){
return this.windowsService.closeWorkspace(this.windowId)},e.prototype.enterWorkspace=function(e){return this.windowsService.enterWorkspace(this.windowId,e)},e.prototype.createAndEnterWorkspace=function(e,t){return this.windowsService.createAndEnterWorkspace(this.windowId,e,t)},e.prototype.saveAndEnterWorkspace=function(e){return this.windowsService.saveAndEnterWorkspace(this.windowId,e)},e.prototype.openWindow=function(e,t){return this.windowsService.openWindow(this.windowId,e,t)},e.prototype.closeWindow=function(){return this.windowsService.closeWindow(this.windowId)},e.prototype.toggleFullScreen=function(){return this.windowsService.toggleFullScreen(this.windowId)},e.prototype.setRepresentedFilename=function(e){return this.windowsService.setRepresentedFilename(this.windowId,e)},e.prototype.getRecentlyOpened=function(){return this.windowsService.getRecentlyOpened(this.windowId)},e.prototype.focusWindow=function(){return this.windowsService.focusWindow(this.windowId)},e.prototype.isFocused=function(){
return this.windowsService.isFocused(this.windowId)},e.prototype.isMaximized=function(){return this.windowsService.isMaximized(this.windowId)},e.prototype.maximizeWindow=function(){return this.windowsService.maximizeWindow(this.windowId)},e.prototype.unmaximizeWindow=function(){return this.windowsService.unmaximizeWindow(this.windowId)},e.prototype.minimizeWindow=function(){return this.windowsService.minimizeWindow(this.windowId)},e.prototype.onWindowTitleDoubleClick=function(){return this.windowsService.onWindowTitleDoubleClick(this.windowId)},e.prototype.setDocumentEdited=function(e){return this.windowsService.setDocumentEdited(this.windowId,e)},e.prototype.show=function(){return this.windowsService.showWindow(this.windowId)},e.prototype.showMessageBox=function(e){return this.windowsService.showMessageBox(this.windowId,e)},e.prototype.showSaveDialog=function(e){return this.windowsService.showSaveDialog(this.windowId,e)},e.prototype.showOpenDialog=function(e){
return this.windowsService.showOpenDialog(this.windowId,e)},e.prototype.updateTouchBar=function(e){return this.windowsService.updateTouchBar(this.windowId,e)},e=r([o(2,n.IWindowsService)],e)}();t.WindowService=s});var s=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new i(function(t){t(e.value)}).then(s,a)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,
!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}var n,r,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};define(e[253],t([1,0,7,208,118,72,6,50,82,131,2,9,52,488,26,11,357,215]),function(e,t,n,c,l,u,d,p,h,g,f,v,m,y,S,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E,w=function(){function e(e){void 0===e&&(e=0),this.type=e}return e.prototype.compare=function(e,t,i){if(t instanceof g.OutlineGroup&&i instanceof g.OutlineGroup)return t.providerIndex-i.providerIndex
;if(t instanceof g.OutlineElement&&i instanceof g.OutlineElement)switch(this.type){case 2:return t.symbol.kind-i.symbol.kind;case 1:return t.symbol.name.localeCompare(i.symbol.name);case 0:default:return p.Range.compareRangesUsingStarts(t.symbol.range,i.symbol.range)}return 0},e}();t.OutlineItemComparator=w;var C=function(){function e(){this.enabled=!0}return e.prototype.isVisible=function(e,t){return!this.enabled||(!(t instanceof g.OutlineElement)||Boolean(t.score))},e}();t.OutlineItemFilter=C;var I=function(){function e(){this.filterOnScore=!0}return e.prototype.getId=function(e,t){return t?t.id:"empty"},e.prototype.hasChildren=function(e,t){if(!t)return!1;if(t instanceof g.OutlineModel)return!0;if(t instanceof g.OutlineElement&&this.filterOnScore&&!t.score)return!1;for(var i in t.children)if(!this.filterOnScore||t.children[i].score)return!0;return!1},e.prototype.getChildren=function(e,t){var i=l.values(t.children);return d.TPromise.wrap(i)},e.prototype.getParent=function(e,t){
return d.TPromise.wrap(t&&t.parent)},e.prototype.shouldAutoexpand=function(e,t){return t&&(t instanceof g.OutlineModel||t.parent instanceof g.OutlineModel||t instanceof g.OutlineGroup||t.parent instanceof g.OutlineGroup)},e}();t.OutlineDataSource=I;var _=function(){function e(e,t){this._themeService=e,this._configurationService=t,this.renderProblemColors=!0,this.renderProblemBadges=!0}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(e,t){return t instanceof g.OutlineGroup?"outline-group":"outline-element"},e.prototype.renderTemplate=function(e,t,i){if("outline-element"===t){var r=n.$(".outline-element-icon symbol-icon"),o=n.$(".outline-element-label"),s=n.$(".outline-element-detail"),a=n.$(".outline-element-decoration");return n.addClass(i,"outline-element"),n.append(i,r,o,s,a),{icon:r,labelContainer:o,label:new c.HighlightedLabel(o),detail:s,decoration:a}}if("outline-group"===t){o=n.$(".outline-element-label");return n.addClass(i,"outline-element"),n.append(i,o),{
labelContainer:o,label:new c.HighlightedLabel(o)}}throw new Error(t)},e.prototype.renderElement=function(t,i,n,r){i instanceof g.OutlineElement&&(r.icon.className="outline-element-icon "+h.symbolKindToCssClass(i.symbol.kind),r.label.set(i.symbol.name,i.score?u.createMatches(i.score[1]):void 0,f.localize("title.template","{0} ({1})",i.symbol.name,e._symbolKindNames[i.symbol.kind])),r.detail.innerText=i.symbol.detail||"",this._renderMarkerInfo(i,r)),i instanceof g.OutlineGroup&&r.label.set(i.provider.displayName||f.localize("provider","Outline Provider"))},e.prototype._renderMarkerInfo=function(e,t){if(!e.marker)return n.hide(t.decoration),void t.labelContainer.style.removeProperty("--outline-element-color");var i=e.marker,r=i.count,o=i.topSev,s=this._themeService.getTheme().getColor(o===y.MarkerSeverity.Error?S.listErrorForeground:S.listWarningForeground),a=s?s.toString():"inherit"
;this.renderProblemColors?t.labelContainer.style.setProperty("--outline-element-color",a):t.labelContainer.style.removeProperty("--outline-element-color"),this.renderProblemBadges?r>0?(n.show(t.decoration),n.removeClass(t.decoration,"bubble"),t.decoration.innerText=r<10?r.toString():"+9",t.decoration.title=1===r?f.localize("1.problem","1 problem in this element"):f.localize("N.problem","{0} problems in this element",r),t.decoration.style.setProperty("--outline-element-color",a)):(n.show(t.decoration),n.addClass(t.decoration,"bubble"),t.decoration.innerText="",t.decoration.title=f.localize("deep.problem","Contains elements with problems"),t.decoration.style.setProperty("--outline-element-color",a)):n.hide(t.decoration)},e.prototype.disposeTemplate=function(e,t,i){i.label.dispose()},e._symbolKindNames=(E={},E[h.SymbolKind.Array]=f.localize("Array","array"),E[h.SymbolKind.Boolean]=f.localize("Boolean","boolean"),E[h.SymbolKind.Class]=f.localize("Class","class"),
E[h.SymbolKind.Constant]=f.localize("Constant","constant"),E[h.SymbolKind.Constructor]=f.localize("Constructor","constructor"),E[h.SymbolKind.Enum]=f.localize("Enum","enumeration"),E[h.SymbolKind.EnumMember]=f.localize("EnumMember","enumeration member"),E[h.SymbolKind.Event]=f.localize("Event","event"),E[h.SymbolKind.Field]=f.localize("Field","field"),E[h.SymbolKind.File]=f.localize("File","file"),E[h.SymbolKind.Function]=f.localize("Function","function"),E[h.SymbolKind.Interface]=f.localize("Interface","interface"),E[h.SymbolKind.Key]=f.localize("Key","key"),E[h.SymbolKind.Method]=f.localize("Method","method"),E[h.SymbolKind.Module]=f.localize("Module","module"),E[h.SymbolKind.Namespace]=f.localize("Namespace","namespace"),E[h.SymbolKind.Null]=f.localize("Null","null"),E[h.SymbolKind.Number]=f.localize("Number","number"),E[h.SymbolKind.Object]=f.localize("Object","object"),E[h.SymbolKind.Operator]=f.localize("Operator","operator"),E[h.SymbolKind.Package]=f.localize("Package","package"),
E[h.SymbolKind.Property]=f.localize("Property","property"),E[h.SymbolKind.String]=f.localize("String","string"),E[h.SymbolKind.Struct]=f.localize("Struct","struct"),E[h.SymbolKind.TypeParameter]=f.localize("TypeParameter","type parameter"),E[h.SymbolKind.Variable]=f.localize("Variable","variable"),E),e=r([o(0,b.IThemeService),o(1,v.IConfigurationService)],e)}();t.OutlineRenderer=_;var D=function(){function e(){}return e.capture=function(e){var t,i=e.getSelection()[0];i instanceof g.TreeElement&&(t=i.id);var n;(i=e.getFocus(!0))instanceof g.TreeElement&&(n=i.id);for(var r=new Array,o=e.getNavigator();o.next();){var s=o.current();s instanceof g.TreeElement&&e.isExpanded(s)&&r.push(s.id)}return{selected:t,focused:n,expanded:r}},e.restore=function(e,t,i){return s(this,void 0,void 0,function(){var n,r,o,s,c,l,u,p;return a(this,function(a){switch(a.label){case 0:if(n=e.getInput(),!(t&&n instanceof g.OutlineModel))return[2,d.TPromise.as(void 0)];for(r=[],o=0,s=t.expanded;o<s.length;o++)c=s[o],
(l=n.getItemById(c))&&r.push(l);return[4,e.collapseAll(void 0)];case 1:return a.sent(),[4,e.expandAll(r)];case 2:return a.sent(),u=n.getItemById(t.selected),p=n.getItemById(t.focused),e.setSelection([u],i),e.setFocus(p,i),[2]}})})},e}();t.OutlineTreeState=D;var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.shouldToggleExpansion=function(t,i,n){return t instanceof g.OutlineElement?this.isClickOnTwistie(i):e.prototype.shouldToggleExpansion.call(this,t,i,n)},t}(m.WorkbenchTreeController);t.OutlineController=A}),define(e[260],t([1,0,2,6,5,4,117,293,21,36,47]),function(e,t,i,n,c,l,u,d,p,h,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t,i,n){this.storageService=e,this.contextService=t,this.environmentService=i,this.extensionManagementService=n,this.disposables=[],this._onEnablementChanged=new c.Emitter,this.onEnablementChanged=this._onEnablementChanged.event,
n.onDidUninstallExtension(this._onDidUninstallExtension,this,this.disposables)}return Object.defineProperty(e.prototype,"hasWorkspace",{get:function(){return 1!==this.contextService.getWorkbenchState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allUserExtensionsDisabled",{get:function(){return!0===this.environmentService.disableExtensions},enumerable:!0,configurable:!0}),e.prototype.getDisabledExtensions=function(){return s(this,void 0,void 0,function(){var e,t,i,n,r,o,s,c,l,u,p,h;return a(this,function(a){switch(a.label){case 0:if(e=this._getDisabledExtensions(0),this.hasWorkspace){for(t=function(t){e.some(function(e){return d.areSameExtensions(e,t)})||e.push(t)},i=0,n=this._getDisabledExtensions(1);i<n.length;i++)r=n[i],t(r);(o=this._getEnabledExtensions(1)).length&&(e=e.filter(function(e){return!o.some(function(t){return d.areSameExtensions(t,e)})}))}return this.environmentService.disableExtensions?[4,this.extensionManagementService.getInstalled()]:[3,2];case 1:for(s=a.sent(),
c=function(t){l._isExtensionDisabledInEnvironment(t)&&(e.some(function(e){return d.areSameExtensions(e,t.galleryIdentifier)})||e.push(t.galleryIdentifier))},l=this,u=0,p=s;u<p.length;u++)h=p[u],c(h);a.label=2;case 2:return[2,e]}})})},e.prototype.getEnablementState=function(e){if(this._isExtensionDisabledInEnvironment(e))return 0;var t=e.galleryIdentifier;if(this.hasWorkspace){if(this._getEnabledExtensions(1).filter(function(e){return d.areSameExtensions(e,t)})[0])return 3;if(this._getDisabledExtensions(1).filter(function(e){return d.areSameExtensions(e,t)})[0])return 1}return this._getDisabledExtensions(0).filter(function(e){return d.areSameExtensions(e,t)})[0]?0:2},e.prototype.canChangeEnablement=function(e){return!(e.manifest&&e.manifest.contributes&&e.manifest.contributes.localizations&&e.manifest.contributes.localizations.length)&&(1!==e.type||!this.environmentService.disableExtensions)},e.prototype.setEnablement=function(e,t){var r;if(u.isIExtensionIdentifier(e))r=e;else{
if(!this.canChangeEnablement(e))return n.TPromise.wrap(!1);r=e.galleryIdentifier}if((1===t||3===t)&&!this.hasWorkspace)return n.TPromise.wrapError(new Error(i.localize("noWorkspace","No workspace.")));if(this._getEnablementState(r)===t)return n.TPromise.as(!1);switch(t){case 2:this._enableExtension(r);break;case 0:this._disableExtension(r);break;case 3:this._enableExtensionInWorkspace(r);break;case 1:this._disableExtensionInWorkspace(r)}return this._onEnablementChanged.fire(r),n.TPromise.as(!0)},e.prototype.isEnabled=function(e){var t=this.getEnablementState(e);return 3===t||2===t},e.prototype._isExtensionDisabledInEnvironment=function(e){if(this.allUserExtensionsDisabled)return 1===e.type;var t=this.environmentService.disableExtensions;return!!Array.isArray(t)&&t.some(function(t){return d.areSameExtensions({id:t},e.galleryIdentifier)})},e.prototype._getEnablementState=function(e){if(this.hasWorkspace){if(this._getEnabledExtensions(1).filter(function(t){return d.areSameExtensions(t,e)})[0])return 3
;if(this._getDisabledExtensions(1).filter(function(t){return d.areSameExtensions(t,e)})[0])return 1}return this._getDisabledExtensions(0).filter(function(t){return d.areSameExtensions(t,e)})[0]?0:2},e.prototype._enableExtension=function(e){this._removeFromDisabledExtensions(e,1),this._removeFromEnabledExtensions(e,1),this._removeFromDisabledExtensions(e,0)},e.prototype._disableExtension=function(e){this._removeFromDisabledExtensions(e,1),this._removeFromEnabledExtensions(e,1),this._addToDisabledExtensions(e,0)},e.prototype._enableExtensionInWorkspace=function(e){this._removeFromDisabledExtensions(e,1),this._addToEnabledExtensions(e,1)},e.prototype._disableExtensionInWorkspace=function(e){this._addToDisabledExtensions(e,1),this._removeFromEnabledExtensions(e,1)},e.prototype._addToDisabledExtensions=function(e,t){if(1===t&&!this.hasWorkspace)return n.TPromise.wrap(!1);var i=this._getDisabledExtensions(t);return i.every(function(t){return!d.areSameExtensions(t,e)})?(i.push(e),this._setDisabledExtensions(i,t,e),
n.TPromise.wrap(!0)):n.TPromise.wrap(!1)},e.prototype._removeFromDisabledExtensions=function(e,t){if(1===t&&!this.hasWorkspace)return!1;for(var i=this._getDisabledExtensions(t),n=0;n<i.length;n++){var r=i[n];if(d.areSameExtensions(r,e))return i.splice(n,1),this._setDisabledExtensions(i,t,e),!0}return!1},e.prototype._addToEnabledExtensions=function(e,t){if(1===t&&!this.hasWorkspace)return!1;var i=this._getEnabledExtensions(t);return!!i.every(function(t){return!d.areSameExtensions(t,e)})&&(i.push(e),this._setEnabledExtensions(i,t,e),!0)},e.prototype._removeFromEnabledExtensions=function(e,t){if(1===t&&!this.hasWorkspace)return!1;for(var i=this._getEnabledExtensions(t),n=0;n<i.length;n++){var r=i[n];if(d.areSameExtensions(r,e))return i.splice(n,1),this._setEnabledExtensions(i,t,e),!0}return!1},e.prototype._getEnabledExtensions=function(e){return this._getExtensions("extensionsIdentifiers/enabled",e)},e.prototype._setEnabledExtensions=function(e,t,i){this._setExtensions("extensionsIdentifiers/enabled",e,t,i)},
e.prototype._getDisabledExtensions=function(e){return this._getExtensions("extensionsIdentifiers/disabled",e)},e.prototype._setDisabledExtensions=function(e,t,i){this._setExtensions("extensionsIdentifiers/disabled",e,t,i)},e.prototype._getExtensions=function(e,t){if(1===t&&!this.hasWorkspace)return[];var i=this.storageService.get(e,t,"");return i?JSON.parse(i):[]},e.prototype._setExtensions=function(e,t,i,n){t.length?this.storageService.store(e,JSON.stringify(t.map(function(e){return{id:e.id,uuid:e.uuid}})),i):this.storageService.remove(e,i)},e.prototype._onDidUninstallExtension=function(e){var t=e.identifier;if(!e.error){var i=d.getIdFromLocalExtensionId(t.id);if(i){var n={id:i,uuid:t.uuid};this._removeFromDisabledExtensions(n,1),this._removeFromEnabledExtensions(n,1),this._removeFromDisabledExtensions(n,0)}}},e.prototype.dispose=function(){this.disposables=l.dispose(this.disposables)},
e=r([o(0,h.IStorageService),o(1,p.IWorkspaceContextService),o(2,g.IEnvironmentService),o(3,u.IExtensionManagementService)],e)}();t.ExtensionEnablementService=f}),define(e[266],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extHostNamedCustomer=function(e){return function(t){i.INSTANCE.registerNamedCustomer(e,t)}},t.extHostCustomer=function(e){i.INSTANCE.registerCustomer(e)};!function(e){e.getNamedCustomers=function(){return i.INSTANCE.getNamedCustomers()},e.getCustomers=function(){return i.INSTANCE.getCustomers()}}(t.ExtHostCustomersRegistry||(t.ExtHostCustomersRegistry={}));var i=function(){function e(){this._namedCustomers=[],this._customers=[]}return e.prototype.registerNamedCustomer=function(e,t){var i=[e,t];this._namedCustomers.push(i)},e.prototype.getNamedCustomers=function(){return this._namedCustomers},e.prototype.registerCustomer=function(e){this._customers.push(e)},e.prototype.getCustomers=function(){return this._customers},e.INSTANCE=new e,e}()}),
define(e[101],t([1,0,8,46]),function(e,t,i,n){"use strict";function r(e){if(!e.length)return e;for(var t=-1,i=0;i<e.length;i++)if(e[i].id!==n.Separator.ID){t=i;break}if(-1===t)return[];for(var r=(e=e.slice(t)).length-1;r>=0;r--){if(!(a=e[r].id===n.Separator.ID))break;e.splice(r,1)}for(var o=!1,s=e.length-1;s>=0;s--){var a=e[s].id===n.Separator.ID;a&&!o?e.splice(s,1):a?a&&(o=!1):o=!0}return e}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.hasActions=function(e){return!1},e.prototype.getActions=function(e){return[]},e.prototype.hasSecondaryActions=function(e){return!1},e.prototype.getSecondaryActions=function(e){return[]},e.prototype.getActionItem=function(e,t){return null},e}();t.ActionBarContributor=o,t.Scope={VIEWER:"viewer"};var s=function(){function e(){this.registry=i.Registry.as(t.Extensions.Actionbar)}return e.prototype.toContext=function(e,t){return{viewer:e,element:t}},e.prototype.hasActions=function(e,i){
for(var n=this.toContext(e,i),r=this.registry.getActionBarContributors(t.Scope.VIEWER),o=0;o<r.length;o++){if(r[o].hasActions(n))return!0}return!1},e.prototype.getActions=function(e,i){for(var n=[],o=this.toContext(e,i),s=this.registry.getActionBarContributors(t.Scope.VIEWER),a=0;a<s.length;a++){var c=s[a];c.hasActions(o)&&n.push.apply(n,c.getActions(o))}return Promise.resolve(r(n))},e.prototype.hasSecondaryActions=function(e,i){for(var n=this.toContext(e,i),r=this.registry.getActionBarContributors(t.Scope.VIEWER),o=0;o<r.length;o++){if(r[o].hasSecondaryActions(n))return!0}return!1},e.prototype.getSecondaryActions=function(e,i){for(var n=[],o=this.toContext(e,i),s=this.registry.getActionBarContributors(t.Scope.VIEWER),a=0;a<s.length;a++){var c=s[a];c.hasSecondaryActions(o)&&n.push.apply(n,c.getSecondaryActions(o))}return Promise.resolve(r(n))},e.prototype.getActionItem=function(e,i,n){for(var r=this.registry.getActionBarContributors(t.Scope.VIEWER),o=this.toContext(e,i),s=r.length-1;s>=0;s--){
var a=r[s].getActionItem(o,n);if(a)return a}return null},e}();t.ContributableActionProvider=s,t.prepareActions=r,t.Extensions={Actionbar:"workbench.contributions.actionbar"};var a=function(){function e(){this.actionBarContributorConstructors=[],this.actionBarContributorInstances=Object.create(null)}return e.prototype.setInstantiationService=function(e){for(this.instantiationService=e;this.actionBarContributorConstructors.length>0;){var t=this.actionBarContributorConstructors.shift();this.createActionBarContributor(t.scope,t.ctor)}},e.prototype.createActionBarContributor=function(e,t){var i=this.instantiationService.createInstance(t),n=this.actionBarContributorInstances[e];n||(n=this.actionBarContributorInstances[e]=[]),n.push(i)},e.prototype.getContributors=function(e){return this.actionBarContributorInstances[e]||[]},e.prototype.getActionBarActionsForContext=function(e,t){var i=[];return this.getContributors(e).forEach(function(e){e.hasActions(t)&&i.push.apply(i,e.getActions(t))}),i},
e.prototype.getSecondaryActionBarActionsForContext=function(e,t){var i=[];return this.getContributors(e).forEach(function(e){e.hasSecondaryActions(t)&&i.push.apply(i,e.getSecondaryActions(t))}),i},e.prototype.getActionItemForContext=function(e,t,i){for(var n=this.getContributors(e),r=0;r<n.length;r++){var o=n[r].getActionItem(t,i);if(o)return o}return null},e.prototype.registerActionBarContributor=function(e,t){this.instantiationService?this.createActionBarContributor(e,t):this.actionBarContributorConstructors.push({scope:e,ctor:t})},e.prototype.getActionBarContributors=function(e){return this.getContributors(e).slice(0)},e}();i.Registry.add(t.Extensions.Actionbar,new a)}),define(e[104],t([1,0,5,2,93,86,3,8]),function(e,t,i,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IBreadcrumbsService=s.createDecorator("IEditorBreadcrumbsService");var c=function(){function e(){this._map=new Map}return e.prototype.register=function(e,t){var i=this
;if(this._map.has(e))throw new Error("group ("+e+") has already a widget");return this._map.set(e,t),{dispose:function(){return i._map.delete(e)}}},e.prototype.getWidget=function(e){return this._map.get(e)},e}();t.BreadcrumbsService=c,o.registerSingleton(t.IBreadcrumbsService,c);var l=function(){function e(){}return e._stub=function(e){return{bindTo:function(t){var n=new i.Emitter,r=t.onDidChangeConfiguration(function(t){t.affectsConfiguration(e)&&n.fire(void 0)});return new(function(){function i(){this.name=e,this.onDidChange=n.event}return i.prototype.getValue=function(i){return t.getValue(e,i)},i.prototype.updateValue=function(i,n){return t.updateValue(e,i,n)},i.prototype.dispose=function(){r.dispose(),n.dispose()},i}())}}},e.IsEnabled=e._stub("breadcrumbs.enabled"),e.UseQuickPick=e._stub("breadcrumbs.useQuickPick"),e.FilePath=e._stub("breadcrumbs.filePath"),e.SymbolPath=e._stub("breadcrumbs.symbolPath"),e.FilterOnType=e._stub("breadcrumbs.filterOnType"),e.FileExcludes=e._stub("files.exclude"),e}()
;t.BreadcrumbsConfig=l,a.Registry.as(r.Extensions.Configuration).registerConfiguration({id:"breadcrumbs",title:n.localize("title","Breadcrumb Navigation"),order:101,type:"object",properties:{"breadcrumbs.enabled":{description:n.localize("enabled","Enable/disable navigation breadcrumbs"),type:"boolean",default:!1},"breadcrumbs.filePath":{description:n.localize("filepath","Controls whether and how file paths are shown in the breadcrumbs view."),type:"string",default:"on",enum:["on","off","last"],enumDescriptions:[n.localize("filepath.on","Show the file path in the breadcrumbs view."),n.localize("filepath.off","Do not show the file path in the breadcrumbs view."),n.localize("filepath.last","Only show the last element of the file path in the breadcrumbs view.")]},"breadcrumbs.symbolPath":{description:n.localize("symbolpath","Controls whether and how symbols are shown in the breadcrumbs view."),type:"string",default:"on",enum:["on","off","last"],
enumDescriptions:[n.localize("symbolpath.on","Show all symbols in the breadcrumbs view."),n.localize("symbolpath.off","Do not show symbols in the breadcrumbs view."),n.localize("symbolpath.last","Only show the current symbol in the breadcrumbs view.")]}}})}),define(e[206],t([1,0,19,17,57,118,24,5,4,35,82,131,21,27,9,104,16]),function(e,t,i,n,s,a,c,l,u,d,p,h,g,f,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(){return function(e,t){this.uri=e,this.kind=t}}();t.FileElement=S;var b=function(){function e(t,i,n,r){var o=this;this._uri=t,this._editor=i,this._disposables=[],this._outlineElements=[],this._outlineDisposables=[],this._onDidUpdate=new l.Emitter,this.onDidUpdate=this._onDidUpdate.event,this._cfgFilePath=m.BreadcrumbsConfig.FilePath.bindTo(r),this._cfgSymbolPath=m.BreadcrumbsConfig.SymbolPath.bindTo(r),this._disposables.push(this._cfgFilePath.onDidChange(function(e){return o._onDidUpdate.fire(o)})),this._disposables.push(this._cfgSymbolPath.onDidChange(function(e){
return o._onDidUpdate.fire(o)})),this._fileInfo=e._initFilePathInfo(this._uri,n),this._bindToEditor(),this._onDidUpdate.fire(this)}return e.prototype.dispose=function(){this._cfgFilePath.dispose(),this._cfgSymbolPath.dispose(),u.dispose(this._disposables)},e.prototype.isRelative=function(){return Boolean(this._fileInfo.folder)},e.prototype.getElements=function(){var e=[];return"on"===this._cfgFilePath.getValue()?e=e.concat(this._fileInfo.path):"last"===this._cfgFilePath.getValue()&&this._fileInfo.path.length>0&&(e=e.concat(this._fileInfo.path.slice(-1))),"on"===this._cfgSymbolPath.getValue()?e=e.concat(this._outlineElements):"last"===this._cfgSymbolPath.getValue()&&this._outlineElements.length>0&&(e=e.concat(this._outlineElements.slice(-1))),e},e._initFilePathInfo=function(e,t){if(e.scheme===f.Schemas.untitled)return{folder:void 0,path:[]};for(var i={folder:t.getWorkspaceFolder(e),path:[]
};!("/"===e.path||i.folder&&d.isEqual(i.folder.uri,e));)i.path.unshift(new S(e,0===i.path.length?y.FileKind.FILE:y.FileKind.FOLDER)),e=d.dirname(e);return i.folder&&3===t.getWorkbenchState()&&i.path.unshift(new S(i.folder.uri,y.FileKind.ROOT_FOLDER)),i},e.prototype._bindToEditor=function(){var e=this;this._editor&&(this._disposables.push(p.DocumentSymbolProviderRegistry.onDidChange(function(t){return e._updateOutline()})),this._disposables.push(this._editor.onDidChangeModel(function(t){return e._updateOutline()})),this._disposables.push(this._editor.onDidChangeModelLanguage(function(t){return e._updateOutline()})),this._disposables.push(l.debounceEvent(this._editor.onDidChangeModelContent,function(e){return e},350)(function(t){return e._updateOutline(!0)})),this._updateOutline(),this._disposables.push(this._editor.onDidDispose(function(){return e._outlineDisposables=u.dispose(e._outlineDisposables)})))},e.prototype._updateOutline=function(e){var t=this
;this._outlineDisposables=u.dispose(this._outlineDisposables),e||this._updateOutlineElements([]);var i=this._editor.getModel();if(i&&p.DocumentSymbolProviderRegistry.has(i)&&d.isEqual(i.uri,this._uri)){var r=new s.CancellationTokenSource,o=i.getVersionId(),a=new n.TimeoutTimer;this._outlineDisposables.push({dispose:function(){r.cancel(),r.dispose(),a.dispose()}}),h.OutlineModel.create(i,r.token).then(function(e){h.TreeElement.empty(e)?t._updateOutlineElements([]):(e=e.adopt(),t._updateOutlineElements(t._getOutlineElements(e,t._editor.getPosition())),t._outlineDisposables.push(t._editor.onDidChangeCursorPosition(function(n){a.cancelAndSet(function(){!i.isDisposed()&&o===i.getVersionId()&&t._editor.getModel()&&t._updateOutlineElements(t._getOutlineElements(e,t._editor.getPosition()))},150)})))}).catch(function(e){t._updateOutlineElements([]),c.onUnexpectedError(e)})}},e.prototype._getOutlineElements=function(e,t){if(!e)return[];var i=e.getItemEnclosingPosition(t);if(!i)return[e];for(var n=[];i;){n.push(i)
;var r=i.parent;if(r instanceof h.OutlineModel)break;if(r instanceof h.OutlineGroup&&1===a.size(r.parent.children))break;i=r}return n.reverse()},e.prototype._updateOutlineElements=function(t){i.equals(t,this._outlineElements,e._outlineElementEquals)||(this._outlineElements=t,this._onDidUpdate.fire(this))},e._outlineElementEquals=function(e,t){return e===t||!(!e||!t)&&e.id===t.id},e=r([o(2,g.IWorkspaceContextService),o(3,v.IConfigurationService)],e)}();t.EditorBreadcrumbsModel=b}),define(e[204],t([1,0,87,51,5,32,11,7,41,26,3,45,21,27,164,25,4,2,35]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;if(s.editor=t,s.label=i,s.themeService=o,s._onClick=s._register(new a.Emitter),n){var c=r.lookupKeybinding(n);c&&(s.label+=" ("+c.getLabel()+")")}return s}return i(t,e),Object.defineProperty(t.prototype,"onClick",{get:function(){return this._onClick.event},enumerable:!0,configurable:!0}),
t.prototype.getId=function(){return"editor.overlayWidget.floatingClickWidget"},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:s.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}},t.prototype.render=function(){var e=this;this._domNode=u.$(".floating-click-widget"),this._register(d.attachStylerCallback(this.themeService,{buttonBackground:p.buttonBackground,buttonForeground:p.buttonForeground,editorBackground:p.editorBackground,editorForeground:p.editorForeground,contrastBorder:p.contrastBorder},function(t){e._domNode.style.backgroundColor=t.buttonBackground?t.buttonBackground.toString():t.editorBackground.toString(),e._domNode.style.color=t.buttonForeground?t.buttonForeground.toString():t.editorForeground.toString();var i=t.contrastBorder?t.contrastBorder.toString():null;e._domNode.style.borderWidth=i?"1px":null,e._domNode.style.borderStyle=i?"solid":null,e._domNode.style.borderColor=i})),u.append(this._domNode,u.$("")).textContent=this.label,
this.onclick(this._domNode,function(t){return e._onClick.fire()}),this.editor.addOverlayWidget(this)},t.prototype.dispose=function(){this.editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t=r([o(3,c.IKeybindingService),o(4,l.IThemeService)],t)}(n.Widget);t.FloatingClickWidget=w;var C=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.editor=t,o.instantiationService=i,o.windowService=n,o.contextService=r,o.update(),o.registerListeners(),o}return i(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.registerListeners=function(){var e=this;this._register(this.editor.onDidChangeModel(function(t){return e.update()}))},t.prototype.getId=function(){return t.ID},t.prototype.update=function(){this.shouldShowButton(this.editor)?this.createOpenWorkspaceWidgetRenderer():this.disposeOpenWorkspaceWidgetRenderer()},t.prototype.shouldShowButton=function(e){var t=e.getModel();if(!t)return!1
;if(t.uri.scheme!==v.Schemas.file||y.extname(t.uri.fsPath)!=="."+m.WORKSPACE_EXTENSION)return!1;if(3===this.contextService.getWorkbenchState()){var i=this.contextService.getWorkspace().configuration;if(i&&E.isEqual(i,t.uri))return!1}return!0},t.prototype.createOpenWorkspaceWidgetRenderer=function(){var e=this;this.openWorkspaceButton||(this.openWorkspaceButton=this.instantiationService.createInstance(w,this.editor,b.localize("openWorkspace","Open Workspace"),null),this._register(this.openWorkspaceButton.onClick(function(){return e.windowService.openWindow([e.editor.getModel().uri])})),this.openWorkspaceButton.render())},t.prototype.disposeOpenWorkspaceWidgetRenderer=function(){this.openWorkspaceButton=S.dispose(this.openWorkspaceButton)},t.prototype.dispose=function(){this.disposeOpenWorkspaceWidgetRenderer(),e.prototype.dispose.call(this)},t.ID="editor.contrib.openWorkspaceButton",t=r([o(1,h.IInstantiationService),o(2,g.IWindowService),o(3,f.IWorkspaceContextService)],t)}(S.Disposable)
;t.OpenWorkspaceButtonContribution=C}),define(e[285],t([1,0,7,133,26,4,66,166,129]),function(e,t,i,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=i.$,l=function(){function e(e){var t=this;this.parent=e,this.disposables=[],this.onKeyDown=function(e){return i.addDisposableListener(t.inputBox.inputElement,i.EventType.KEY_DOWN,function(t){e(new s.StandardKeyboardEvent(t))})},this.onDidChange=function(e){return t.inputBox.onDidChange(e)},this.container=i.append(this.parent,c(".quick-input-box")),this.inputBox=new n.InputBox(this.container,null),this.disposables.push(this.inputBox)}return Object.defineProperty(e.prototype,"value",{get:function(){return this.inputBox.value},set:function(e){this.inputBox.value=e},enumerable:!0,configurable:!0}),e.prototype.select=function(e){void 0===e&&(e=null),this.inputBox.select(e)},e.prototype.setPlaceholder=function(e){this.inputBox.setPlaceHolder(e)},Object.defineProperty(e.prototype,"placeholder",{get:function(){
return this.inputBox.inputElement.getAttribute("placeholder")},set:function(e){this.inputBox.setPlaceHolder(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return"password"===this.inputBox.inputElement.type},set:function(e){this.inputBox.inputElement.type=e?"password":"text"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{set:function(e){this.inputBox.setEnabled(e)},enumerable:!0,configurable:!0}),e.prototype.setAttribute=function(e,t){this.inputBox.inputElement.setAttribute(e,t)},e.prototype.removeAttribute=function(e){this.inputBox.inputElement.removeAttribute(e)},e.prototype.showDecoration=function(e){e===a.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===a.default.Info?1:e===a.default.Warning?2:3,content:""})},e.prototype.setFocus=function(){this.inputBox.focus()},e.prototype.layout=function(){this.inputBox.layout()},e.prototype.style=function(e){this.inputBox.style({
inputForeground:e.getColor(r.inputForeground),inputBackground:e.getColor(r.inputBackground),inputBorder:e.getColor(r.inputBorder),inputValidationInfoBackground:e.getColor(r.inputValidationInfoBackground),inputValidationInfoForeground:e.getColor(r.inputValidationInfoForeground),inputValidationInfoBorder:e.getColor(r.inputValidationInfoBorder),inputValidationWarningBackground:e.getColor(r.inputValidationWarningBackground),inputValidationWarningForeground:e.getColor(r.inputValidationWarningForeground),inputValidationWarningBorder:e.getColor(r.inputValidationWarningBorder),inputValidationErrorBackground:e.getColor(r.inputValidationErrorBackground),inputValidationErrorForeground:e.getColor(r.inputValidationErrorForeground),inputValidationErrorBorder:e.getColor(r.inputValidationErrorBorder)})},e.prototype.dispose=function(){this.disposables=o.dispose(this.disposables)},e}();t.QuickInputBox=l}),define(e[199],t([1,0,7,146,129]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;var r={},o=new n.IdGenerator("quick-input-button-icon-");t.getIconClass=function(e){var t,n=e.dark.toString();return r[n]?t=r[n]:(t=o.nextId(),i.createCSSRule("."+t,'background-image: url("'+(e.light||e.dark).toString()+'")'),i.createCSSRule(".vs-dark ."+t+", .hc-black ."+t,'background-image: url("'+e.dark.toString()+'")'),r[n]=t),t}}),define(e[291],t([1,0,7,4,52,3,288,168,5,40,66,195,208,140,19,20,26,11,46,14,199,129]),function(e,t,i,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var C=i.$,I=function(){function e(e){this.hidden=!1,this._onChecked=new u.Emitter,this.onChecked=this._onChecked.event,d.assign(this,e)}return Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))},enumerable:!0,configurable:!0}),e}(),_=function(){function e(){}return Object.defineProperty(e.prototype,"templateId",{get:function(){return e.ID},enumerable:!0,configurable:!0}),
e.prototype.renderTemplate=function(e){var t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=i.append(e,C(".quick-input-list-entry"));var n=i.append(t.entry,C("label.quick-input-list-label"));t.checkbox=i.append(n,C("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(i.addStandardDisposableListener(t.checkbox,i.EventType.CHANGE,function(e){t.element.checked=t.checkbox.checked}));var r=i.append(n,C(".quick-input-list-rows")),o=i.append(r,C(".quick-input-list-row")),s=i.append(r,C(".quick-input-list-row"));t.label=new h.IconLabel(o,{supportHighlights:!0,supportDescriptionHighlights:!0});var a=i.append(s,C(".quick-input-list-label-meta"));return t.detail=new g.HighlightedLabel(a),t.separator=i.append(t.entry,C(".quick-input-list-separator")),t.actionBar=new b.ActionBar(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t},e.prototype.renderElement=function(e,t,r){
r.toDisposeElement=n.dispose(r.toDisposeElement),r.element=e,r.checkbox.checked=e.checked,r.toDisposeElement.push(e.onChecked(function(e){return r.checkbox.checked=e}));var o=e.labelHighlights,s=e.descriptionHighlights,a=e.detailHighlights,l=Object.create(null);l.matches=o||[],l.descriptionTitle=e.saneDescription,l.descriptionMatches=s||[],l.extraClasses=e.item.iconClasses,r.label.setValue(e.saneLabel,e.saneDescription,l),r.detail.set(e.saneDetail,a),r.entry.setAttribute("aria-label",[e.saneLabel,e.saneDescription,e.saneDetail].map(function(e){return e&&c.parseOcticons(e).text}).filter(function(e){return!!e}).join(", ")),e.separator&&e.separator.label?(r.separator.textContent=e.separator.label,r.separator.style.display=null):r.separator.style.display="none",e.separator?i.addClass(r.entry,"quick-input-list-separator-border"):i.removeClass(r.entry,"quick-input-list-separator-border"),r.actionBar.clear();var u=e.item.buttons;u&&u.length?(r.actionBar.push(u.map(function(t,i){
var n=new E.Action("id-"+i,"",t.iconClass||w.getIconClass(t.iconPath),!0,function(){return e.fireButtonTriggered({button:t,item:e.item}),null});return n.tooltip=t.tooltip,n}),{icon:!0,label:!1}),i.addClass(r.entry,"has-actions")):i.removeClass(r.entry,"has-actions")},e.prototype.disposeElement=function(e,t,i){i.toDisposeElement=n.dispose(i.toDisposeElement)},e.prototype.disposeTemplate=function(e){e.toDisposeElement=n.dispose(e.toDisposeElement),e.toDisposeTemplate=n.dispose(e.toDisposeTemplate)},e.ID="listelement",e}(),D=function(){function e(){}return e.prototype.getHeight=function(e){return e.saneDetail?44:22},e.prototype.getTemplateId=function(e){return _.ID},e}(),A=function(){function e(e,t,n){var r=this;this.parent=e,this.instantiationService=n,this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this._onChangedAllVisibleChecked=new u.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new u.Emitter,
this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new u.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new u.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new u.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onLeave=new u.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=i.append(this.parent,C(".quick-input-list"));var o=new D;this.list=this.instantiationService.createInstance(s.WorkbenchList,this.container,o,[new _],{identityProvider:function(e){return e.label},openController:{shouldOpen:function(){return!1}},multipleSelectionSupport:!1}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(function(e){switch(new p.StandardKeyboardEvent(e).keyCode){case 10:r.toggleCheckbox();break;case 31:
(m.isMacintosh?e.metaKey:e.ctrlKey)&&r.list.setFocus(v.range(r.list.length));break;case 16:case 11:var t=r.list.getFocus();1===t.length&&0===t[0]&&r._onLeave.fire();break;case 18:case 12:var i=r.list.getFocus();1===i.length&&i[0]===r.list.length-1&&r._onLeave.fire()}})),this.disposables.push(i.addDisposableListener(this.container,i.EventType.CLICK,function(e){(e.x||e.y)&&r._onLeave.fire()})),this.disposables.push(this.list.onSelectionChange(function(e){e.elements.length&&r.list.setSelection([])}))}return Object.defineProperty(e.prototype,"onDidChangeFocus",{get:function(){return u.mapEvent(this.list.onFocusChange,function(e){return e.elements.map(function(e){return e.item})})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeSelection",{get:function(){return u.mapEvent(this.list.onSelectionChange,function(e){return e.elements.map(function(e){return e.item})})},enumerable:!0,configurable:!0}),e.prototype.getAllVisibleChecked=function(){
return this.allVisibleChecked(this.elements,!1)},e.prototype.allVisibleChecked=function(e,t){void 0===t&&(t=!0);for(var i=0,n=e.length;i<n;i++){var r=e[i];if(!r.hidden){if(!r.checked)return!1;t=!0}}return t},e.prototype.getCheckedCount=function(){for(var e=0,t=this.elements,i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e},e.prototype.getVisibleCount=function(){for(var e=0,t=this.elements,i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e},e.prototype.setAllVisibleChecked=function(e){try{this._fireCheckedEvents=!1,this.elements.forEach(function(t){t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}},e.prototype.setElements=function(e){var t,i=this;this.elementDisposables=n.dispose(this.elementDisposables);var r=function(e){return i.fireButtonTriggered(e)};this.inputElements=e,this.elements=e.reduce(function(t,i,n){if("separator"!==i.type){var o=n&&e[n-1];t.push(new I({index:n,item:i,saneLabel:i.label&&i.label.replace(/\r?\n/g," "),
saneDescription:i.description&&i.description.replace(/\r?\n/g," "),saneDetail:i.detail&&i.detail.replace(/\r?\n/g," "),checked:!1,separator:o&&"separator"===o.type?o:void 0,fireButtonTriggered:r}))}return t},[]),(t=this.elementDisposables).push.apply(t,this.elements.map(function(e){return e.onChecked(function(){return i.fireCheckedEvents()})})),this.elementsToIndexes=this.elements.reduce(function(e,t,i){return e.set(t.item,i),e},new Map),this.list.splice(0,this.list.length,this.elements),this.list.setFocus([]),this._onChangedVisibleCount.fire(this.elements.length)},e.prototype.getFocusedElements=function(){return this.list.getFocusedElements().map(function(e){return e.item})},e.prototype.setFocusedElements=function(e){var t=this;this.list.setFocus(e.filter(function(e){return t.elementsToIndexes.has(e)}).map(function(e){return t.elementsToIndexes.get(e)}))},e.prototype.getActiveDescendant=function(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")},
e.prototype.getSelectedElements=function(){return this.list.getSelectedElements().map(function(e){return e.item})},e.prototype.setSelectedElements=function(e){var t=this;this.list.setSelection(e.filter(function(e){return t.elementsToIndexes.has(e)}).map(function(e){return t.elementsToIndexes.get(e)}))},e.prototype.getCheckedElements=function(){return this.elements.filter(function(e){return e.checked}).map(function(e){return e.item})},e.prototype.setCheckedElements=function(e){try{this._fireCheckedEvents=!1;for(var t=new Set,i=0,n=e;i<n.length;i++){var r=n[i];t.add(r)}for(var o=0,s=this.elements;o<s.length;o++){var a=s[o];a.checked=t.has(a.item)}}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}},Object.defineProperty(e.prototype,"enabled",{set:function(e){this.list.getHTMLElement().style.pointerEvents=e?null:"none"},enumerable:!0,configurable:!0}),e.prototype.focus=function(e){this.list.length&&("Next"!==e&&"NextPage"!==e||this.list.getFocus()[0]!==this.list.length-1||(e="First"),
"Previous"!==e&&"PreviousPage"!==e||0!==this.list.getFocus()[0]||(e="Last"),this.list["focus"+e](),this.list.reveal(this.list.getFocus()[0]))},e.prototype.clearFocus=function(){this.list.setFocus([])},e.prototype.domFocus=function(){this.list.domFocus()},e.prototype.layout=function(){this.list.layout()},e.prototype.filter=function(e){var t=this;(e=e.trim())?this.elements.forEach(function(i){var n=c.matchesFuzzyOcticonAware(e,c.parseOcticons(i.saneLabel)),r=t.matchOnDescription?c.matchesFuzzyOcticonAware(e,c.parseOcticons(i.saneDescription||"")):void 0,o=t.matchOnDetail?c.matchesFuzzyOcticonAware(e,c.parseOcticons(i.saneDetail||"")):void 0;n||r||o?(i.labelHighlights=n,i.descriptionHighlights=r,i.detailHighlights=o,i.hidden=!1):(i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!i.item.alwaysShow),i.separator=void 0}):this.elements.forEach(function(e){e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1
;var i=e.index&&t.inputElements[e.index-1];e.separator=i&&"separator"===i.type?i:void 0});var i=this.elements.filter(function(e){return!e.hidden});if(e){var n=e.toLowerCase();i.sort(function(e,t){return function(e,t,i){var n=e.labelHighlights||[],r=t.labelHighlights||[];return n.length&&!r.length?-1:!n.length&&r.length?1:l.compareAnything(e.saneLabel,t.saneLabel,i)}(e,t,n)})}this.elementsToIndexes=i.reduce(function(e,t,i){return e.set(t.item,i),e},new Map),this.list.splice(0,this.list.length,i),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(i.length)},e.prototype.toggleCheckbox=function(){try{this._fireCheckedEvents=!1;for(var e=this.list.getFocusedElements(),t=this.allVisibleChecked(e),i=0,n=e;i<n.length;i++){n[i].checked=!t}}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}},e.prototype.display=function(e){this.container.style.display=e?"":"none"},e.prototype.isDisplayed=function(){
return"none"!==this.container.style.display},e.prototype.dispose=function(){this.elementDisposables=n.dispose(this.elementDisposables),this.disposables=n.dispose(this.disposables)},e.prototype.fireCheckedEvents=function(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))},e.prototype.fireButtonTriggered=function(e){this._onButtonTriggered.fire(e)},r([f.memoize],e.prototype,"onDidChangeFocus",null),r([f.memoize],e.prototype,"onDidChangeSelection",null),e=r([o(2,a.IInstantiationService)],e)}();t.QuickInputList=A,S.registerThemingParticipant(function(e,t){var i=e.getColor(y.listFocusBackground);i&&(t.addRule(".quick-input-list .monaco-list .monaco-list-row.focused { background-color:  "+i+"; }"),t.addRule(".quick-input-list .monaco-list .monaco-list-row.focused:hover { background-color:  "+i+"; }"));var n=e.getColor(y.pickerGroupBorder)
;n&&t.addRule(".quick-input-list .quick-input-list-entry { border-top-color:  "+n+"; }");var r=e.getColor(y.pickerGroupForeground);r&&t.addRule(".quick-input-list .quick-input-list-separator { color:  "+r+"; }")})}),define(e[99],t([1,0,2,14,49,62,32,10,38]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inQuickOpenContext=u.ContextKeyExpr.has("inQuickOpen"),t.defaultQuickOpenContextKey="inFilesPicker",t.defaultQuickOpenContext=u.ContextKeyExpr.and(t.inQuickOpenContext,u.ContextKeyExpr.has(t.defaultQuickOpenContextKey)),t.QUICKOPEN_ACTION_ID="workbench.action.quickOpen",t.QUICKOPEN_ACION_LABEL=n.localize("quickOpen","Go to File..."),d.CommandsRegistry.registerCommand(t.QUICKOPEN_ACTION_ID,function(e,t){void 0===t&&(t=null);return e.get(a.IQuickOpenService).show("string"==typeof t?t:null).then(function(){})}),t.QUICKOPEN_FOCUS_SECONDARY_ACTION_ID="workbench.action.quickOpenPreviousEditor",
d.CommandsRegistry.registerCommand(t.QUICKOPEN_FOCUS_SECONDARY_ACTION_ID,function(e,t){void 0===t&&(t=null);return e.get(a.IQuickOpenService).show(null,{autoFocus:{autoFocusSecondEntry:!0}}).then(function(){})});var p=function(e){function t(t,i,n,r,o,s,a){var c=e.call(this,t,i)||this;return c.next=n,c.quickNavigate=r,c.quickOpenService=o,c.quickInputService=s,c.keybindingService=a,c}return i(t,e),t.prototype.run=function(e){var t=this.keybindingService.lookupKeybindings(this.id),i=this.quickNavigate?{keybindings:t}:void 0;return this.quickOpenService.navigate(this.next,i),this.quickInputService.navigate(this.next,i),Promise.resolve(!0)},t=r([o(4,a.IQuickOpenService),o(5,c.IQuickInputService),o(6,l.IKeybindingService)],t)}(s.Action);t.BaseQuickOpenNavigateAction=p,t.getQuickNavigateHandler=function(e,t){return function(i){var n=i.get(l.IKeybindingService),r=i.get(a.IQuickOpenService),o=i.get(c.IQuickInputService),s={keybindings:n.lookupKeybindings(e)};r.navigate(t,s),o.navigate(t,s)}};var h=function(e){
function t(t,i,n,r,o){return e.call(this,t,i,!0,!0,n,r,o)||this}return i(t,e),t.ID="workbench.action.quickOpenNavigateNext",t.LABEL=n.localize("quickNavigateNext","Navigate Next in Quick Open"),t=r([o(2,a.IQuickOpenService),o(3,c.IQuickInputService),o(4,l.IKeybindingService)],t)}(p);t.QuickOpenNavigateNextAction=h;var g=function(e){function t(t,i,n,r,o){return e.call(this,t,i,!1,!0,n,r,o)||this}return i(t,e),t.ID="workbench.action.quickOpenNavigatePrevious",t.LABEL=n.localize("quickNavigatePrevious","Navigate Previous in Quick Open"),t=r([o(2,a.IQuickOpenService),o(3,c.IQuickInputService),o(4,l.IKeybindingService)],t)}(p);t.QuickOpenNavigatePreviousAction=g;var f=function(e){function t(t,i,n,r,o){return e.call(this,t,i,!0,!1,n,r,o)||this}return i(t,e),t.ID="workbench.action.quickOpenSelectNext",t.LABEL=n.localize("quickSelectNext","Select Next in Quick Open"),t=r([o(2,a.IQuickOpenService),o(3,c.IQuickInputService),o(4,l.IKeybindingService)],t)}(p);t.QuickOpenSelectNextAction=f;var v=function(e){
function t(t,i,n,r,o){return e.call(this,t,i,!1,!1,n,r,o)||this}return i(t,e),t.ID="workbench.action.quickOpenSelectPrevious",t.LABEL=n.localize("quickSelectPrevious","Select Previous in Quick Open"),t=r([o(2,a.IQuickOpenService),o(3,c.IQuickInputService),o(4,l.IKeybindingService)],t)}(p);t.QuickOpenSelectPreviousAction=v}),define(e[193],t([1,0,8,112]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t,i){this.syncDescriptor=n.createSyncDescriptor(e),this.alignment=t||0,this.priority=i||0}}();t.StatusbarItemDescriptor=r;var o=function(){function e(){this._items=[]}return Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.registerStatusbarItem=function(e){this._items.push(e)},e}();t.Extensions={Statusbar:"workbench.contributions.statusbar"},i.Registry.add(t.Extensions.Statusbar,new o)}),define(e[44],t([1,0,6,8,67,38,23,3,4,60,28]),function(e,t,i,n,r,o,s,a,c,l,u){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions={WorkbenchActions:"workbench.contributions.actions"},n.Registry.add(t.Extensions.WorkbenchActions,new(function(){function e(){}return e.prototype.registerWorkbenchAction=function(e,t,i,n){return this._registerWorkbenchCommandFromAction(e,t,i,n)},e.prototype._registerWorkbenchCommandFromAction=function(e,t,i,n){var a=[];a.push(o.CommandsRegistry.registerCommand(e.id,this._createCommandHandler(e)));var l=void 0===e.keybindingWeight?200:e.keybindingWeight,u=e.keybindings;if(r.KeybindingsRegistry.registerKeybindingRule({id:e.id,weight:l,when:e.keybindingContext,primary:u&&u.primary,secondary:u&&u.secondary,win:u&&u.win,mac:u&&u.mac,linux:u&&u.linux}),e.label){var d=t.indexOf(": "),p=void 0;d>0&&(p=t.substr(0,d),t=t.substr(d+2));var h={id:e.id,title:{value:e.label,original:t},category:i&&{value:i,original:p}};s.MenuRegistry.addCommand(h),a.push(s.MenuRegistry.appendMenuItem(s.MenuId.CommandPalette,{command:h,when:n}))}return c.combinedDisposable(a)},
e.prototype._createCommandHandler=function(e){var t=this;return function(n,r){var o=n.get(u.INotificationService),s=n.get(a.IInstantiationService),c=n.get(l.ILifecycleService);i.TPromise.as(t._triggerAndDisposeAction(s,c,e,r)).then(null,function(e){o.error(e)})}},e.prototype._triggerAndDisposeAction=function(e,t,n,r){return t.when(3).then(function(){var t=e.createInstance(n.syncDescriptor);try{if(t.label=n.label||t.label,!t.enabled)return void t.dispose();var o=r&&r.from||"keybinding";return i.TPromise.as(t.run(void 0,{from:o})).then(function(){t.dispose()},function(e){return t.dispose(),i.TPromise.wrapError(e)})}catch(e){return t.dispose(),i.TPromise.wrapError(e)}})},e}()))}),define(e[316],t([1,0,23,13,8,44,65,380]),function(e,t,i,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=r.Registry.as(o.Extensions.WorkbenchActions)
;c.registerWorkbenchAction(new i.SyncActionDescriptor(a.CodeSandboxTogglePreviewAction,a.CodeSandboxTogglePreviewAction.ID,a.CodeSandboxTogglePreviewAction.LABEL,{primary:3106}),"CodeSandbox: Toggle Preview","CodeSandbox"),c.registerWorkbenchAction(new i.SyncActionDescriptor(a.CodeSandboxOpenPreviewExternalAction,a.CodeSandboxOpenPreviewExternalAction.ID,a.CodeSandboxOpenPreviewExternalAction.LABEL,{primary:0}),"CodeSandbox: Open Preview In New Window","CodeSandbox"),c.registerWorkbenchAction(new i.SyncActionDescriptor(a.CodeSandboxSetThemeAction,a.CodeSandboxSetThemeAction.ID,a.CodeSandboxSetThemeAction.LABEL,{primary:s.KeyChord(2089,2098)}),"Preferences: Color Theme","Preferences"),c.registerWorkbenchAction(new i.SyncActionDescriptor(a.CodeSandboxAddDependencyAction,a.CodeSandboxAddDependencyAction.ID,a.CodeSandboxAddDependencyAction.LABEL,{primary:0}),"CodeSandbox: Add NPM Dependency","CodeSandbox"),function(t,r){var o={command:{id:t.id,title:t.title,iconLocation:{
dark:n.URI.parse(e.toUrl("vs/codesandbox/services/codesandbox/assets/preview.svg")),light:n.URI.parse(e.toUrl("vs/codesandbox/services/codesandbox/assets/preview-dark.svg"))}},group:"navigation",order:r};i.MenuRegistry.appendMenuItem(i.MenuId.EditorTitle,o)}({id:a.CodeSandboxTogglePreviewAction.ID,title:a.CodeSandboxTogglePreviewAction.LABEL},1e4)}),define(e[317],t([1,0,2,8,14,23,44,9]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.configurationService=n,r}return i(t,e),t.prototype.run=function(){var e=!this.configurationService.getValue(t.tabsVisibleKey);return this.configurationService.updateValue(t.tabsVisibleKey,e)},t.ID="workbench.action.toggleTabsVisibility",t.LABEL=n.localize("toggleTabs","Toggle Tab Visibility"),t.tabsVisibleKey="workbench.editor.showTabs",t=r([o(2,u.IConfigurationService)],t)}(a.Action);t.ToggleTabsVisibilityAction=d
;s.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(d,d.ID,d.LABEL,{primary:2357}),"View: Toggle Tab Visibility",n.localize("view","View"))}),define(e[319],t([1,0,8]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalActivityExtensions="workbench.contributions.globalActivities";var n=function(){function e(){this.activityDescriptors=new Set}return e.prototype.registerActivity=function(e){this.activityDescriptors.add(e)},e.prototype.getActivities=function(){var e=[];return this.activityDescriptors.forEach(function(t){return e.push(t)}),e},e}();t.GlobalActivityRegistry=n,i.Registry.add(t.GlobalActivityExtensions,new n)}),define(e[107],t([1,0,8,17]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e.Workbench="workbench.contributions.kind"}(r=t.Extensions||(t.Extensions={}));var o=function(){function e(){this.toBeInstantiated=new Map}
return e.prototype.registerWorkbenchContribution=function(e,t){if(void 0===t&&(t=1),this.instantiationService&&this.lifecycleService&&this.lifecycleService.phase>=t)this.instantiationService.createInstance(e);else{var i=this.toBeInstantiated.get(t);i||(i=[],this.toBeInstantiated.set(t,i)),i.push(e)}},e.prototype.start=function(e,t){var i=this;this.instantiationService=e,this.lifecycleService=t,[1,2,3,4].forEach(function(n){i.instantiateByPhase(e,t,n)})},e.prototype.instantiateByPhase=function(e,t,i){var n=this;t.phase>=i?this.doInstantiateByPhase(e,i):t.when(i).then(function(){n.doInstantiateByPhase(e,i)})},e.prototype.doInstantiateByPhase=function(e,t){var i=this.toBeInstantiated.get(t);if(i)if(this.toBeInstantiated.delete(t),4!==t)for(var r=0,o=i;r<o.length;r++){var s=o[r];e.createInstance(s)}else{var a=0,c=function(t){for(;a<i.length;){var r=i[a++];if(e.createInstance(r),t.timeRemaining()<1){n.runWhenIdle(c,3e3);break}}};n.runWhenIdle(c,3e3)}},e}();i.Registry.add(r.Workbench,new o)}),
define(e[15],t([1,0,6,5,40,30,4,10,8,27,14]),function(e,t,n,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveEditorContext=new c.RawContextKey("activeEditor",null),t.EditorsVisibleContext=new c.RawContextKey("editorIsOpen",!1),t.EditorGroupActiveEditorDirtyContext=new c.RawContextKey("groupActiveEditorDirty",!1),t.NoEditorsVisibleContext=t.EditorsVisibleContext.toNegated(),t.TextCompareEditorVisibleContext=new c.RawContextKey("textCompareEditorVisible",!1),t.TextCompareEditorActiveContext=new c.RawContextKey("textCompareEditorActive",!1),t.ActiveEditorGroupEmptyContext=new c.RawContextKey("activeEditorGroupEmpty",!1),t.MultipleEditorGroupsContext=new c.RawContextKey("multipleEditorGroups",!1),t.SingleEditorGroupsContext=t.MultipleEditorGroupsContext.toNegated(),t.InEditorZenModeContext=new c.RawContextKey("inZenMode",!1),t.SplitEditorsVertically=new c.RawContextKey("splitEditorsVertically",!1),t.TEXT_DIFF_EDITOR_ID="workbench.editors.textDiffEditor",
t.BINARY_DIFF_EDITOR_ID="workbench.editors.binaryResourceDiffEditor";var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onDidChangeDirty=t._register(new r.Emitter),t._onDidChangeLabel=t._register(new r.Emitter),t._onDispose=t._register(new r.Emitter),t.disposed=!1,t}return i(t,e),Object.defineProperty(t.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeLabel",{get:function(){return this._onDidChangeLabel.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),t.prototype.getResource=function(){return null},t.prototype.getName=function(){return null},t.prototype.getDescription=function(e){return null},t.prototype.getTitle=function(e){return this.getName()},t.prototype.getPreferredEditorId=function(e){return e&&e.length>0?e[0]:null},
t.prototype.getTelemetryDescriptor=function(){return{typeId:this.getTypeId()}},t.prototype.isDirty=function(){return!1},t.prototype.confirmSave=function(){return n.TPromise.wrap(1)},t.prototype.save=function(){return n.TPromise.as(!0)},t.prototype.revert=function(e){return n.TPromise.as(!0)},t.prototype.close=function(){this.dispose()},t.prototype.supportsSplitEditor=function(){return!0},t.prototype.matches=function(e){return this===e},t.prototype.isDisposed=function(){return this.disposed},t.prototype.dispose=function(){this.disposed=!0,this._onDispose.fire(),e.prototype.dispose.call(this)},t}(a.Disposable);t.EditorInput=p;var h=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.name=t,o.description=i,o._details=n,o._master=r,o.registerListeners(),o}return i(t,e),Object.defineProperty(t.prototype,"master",{get:function(){return this._master},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"details",{get:function(){return this._details},enumerable:!0,configurable:!0}),
t.prototype.isDirty=function(){return this.master.isDirty()},t.prototype.confirmSave=function(){return this.master.confirmSave()},t.prototype.save=function(){return this.master.save()},t.prototype.revert=function(){return this.master.revert()},t.prototype.getTelemetryDescriptor=function(){var t=this.master.getTelemetryDescriptor();return o.assign(t,e.prototype.getTelemetryDescriptor.call(this))},t.prototype.registerListeners=function(){var e=this,t=r.once(this.details.onDispose);this._register(t(function(){e.isDisposed()||e.dispose()}));var i=r.once(this.master.onDispose);this._register(i(function(){e.isDisposed()||e.dispose()})),this._register(this.master.onDidChangeDirty(function(){return e._onDidChangeDirty.fire()})),this._register(this.master.onDidChangeLabel(function(){return e._onDidChangeLabel.fire()}))},t.prototype.resolve=function(){return n.TPromise.as(null)},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){
return this.description},t.prototype.matches=function(i){if(!0===e.prototype.matches.call(this,i))return!0;if(i){if(!(i instanceof t))return!1;var n=i;return this.details.matches(n.details)&&this.master.matches(n.master)}return!1},t.ID="workbench.editorinputs.sidebysideEditorInput",t}(p);t.SideBySideEditorInput=h;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onDispose=t._register(new r.Emitter),t}return i(t,e),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),t.prototype.load=function(){return n.TPromise.as(this)},t.prototype.isResolved=function(){return!0},t.prototype.dispose=function(){this._onDispose.fire(),e.prototype.dispose.call(this)},t}(a.Disposable);t.EditorModel=g,t.isEditorInputWithOptions=function(e){var t=e;return!!t&&!!t.editor};var f=function(){function e(){}return e.create=function(t){var i=new e;return i.preserveFocus=t.preserveFocus,i.forceReload=t.forceReload,
i.revealIfVisible=t.revealIfVisible,i.revealIfOpened=t.revealIfOpened,i.pinned=t.pinned,i.index=t.index,i.inactive=t.inactive,i},e}();t.EditorOptions=f;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.from=function(e){return e&&e.options?t.create(e.options):null},t.create=function(e){void 0===e&&(e=Object.create(null));var i=new t;if(e.selection){var n=e.selection;i.selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn)}return e.viewState&&(i.editorViewState=e.viewState),e.forceReload&&(i.forceReload=!0),e.revealIfVisible&&(i.revealIfVisible=!0),e.revealIfOpened&&(i.revealIfOpened=!0),e.preserveFocus&&(i.preserveFocus=!0),e.revealInCenterIfOutsideViewport&&(i.revealInCenterIfOutsideViewport=!0),e.pinned&&(i.pinned=!0),e.inactive&&(i.inactive=!0),"number"==typeof e.index&&(i.index=e.index),i},t.prototype.hasOptionsDefined=function(){return!!this.editorViewState||!s.isUndefinedOrNull(this.startLineNumber)&&!s.isUndefinedOrNull(this.startColumn)},
t.prototype.selection=function(e,t,i,n){return void 0===i&&(i=e),void 0===n&&(n=t),this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n,this},t.fromEditor=function(e,i){var n=t.create(i);return n.editorViewState=e.saveViewState(),n},t.prototype.apply=function(e,t){return this.applyViewState(e,t)},t.prototype.applyViewState=function(e,t){var i=!1;if(this.editorViewState)e.restoreViewState(this.editorViewState),i=!0;else if(!s.isUndefinedOrNull(this.startLineNumber)&&!s.isUndefinedOrNull(this.startColumn)){if(s.isUndefinedOrNull(this.endLineNumber)||s.isUndefinedOrNull(this.endColumn)){var n={lineNumber:this.startLineNumber,column:this.startColumn};e.setPosition(n),this.revealInCenterIfOutsideViewport?e.revealPositionInCenterIfOutsideViewport(n,t):e.revealPositionInCenter(n,t)}else{var r={startLineNumber:this.startLineNumber,startColumn:this.startColumn,endLineNumber:this.endLineNumber,endColumn:this.endColumn};e.setSelection(r),
this.revealInCenterIfOutsideViewport?e.revealRangeInCenterIfOutsideViewport(r,t):e.revealRangeInCenter(r,t)}i=!0}return i},t}(f);t.TextEditorOptions=v;var m=function(e){function t(t){var i=e.call(this)||this;return i.context=t,i}return i(t,e),t.prototype.run=function(t,i){return e.prototype.run.call(this,t,this.context)},t}(d.ActionRunner);t.EditorCommandsContextActionRunner=m,t.toResource=function(e,t){if(!e)return null;t&&t.supportSideBySide&&e instanceof h&&(e=e.master);var i=e.getResource();if(!t||!t.filter)return i;if(!i)return null;var n,r;return Array.isArray(t.filter)?(n=t.filter.indexOf(u.Schemas.file)>=0,r=t.filter.indexOf(u.Schemas.untitled)>=0):(n=t.filter===u.Schemas.file,r=t.filter===u.Schemas.untitled),n&&i.scheme===u.Schemas.file?i:r&&i.scheme===u.Schemas.untitled?i:null};var y=function(){function e(){this.editorInputFactoryConstructors=Object.create(null),this.editorInputFactoryInstances=Object.create(null)}return e.prototype.setInstantiationService=function(e){this.instantiationService=e
;for(var t in this.editorInputFactoryConstructors){var i=this.editorInputFactoryConstructors[t];this.createEditorInputFactory(t,i)}this.editorInputFactoryConstructors={}},e.prototype.createEditorInputFactory=function(e,t){var i=this.instantiationService.createInstance(t);this.editorInputFactoryInstances[e]=i},e.prototype.registerFileInputFactory=function(e){this.fileInputFactory=e},e.prototype.getFileInputFactory=function(){return this.fileInputFactory},e.prototype.registerEditorInputFactory=function(e,t){this.instantiationService?this.createEditorInputFactory(e,t):this.editorInputFactoryConstructors[e]=t},e.prototype.getEditorInputFactory=function(e){return this.editorInputFactoryInstances[e]},e}();t.Extensions={EditorInputFactories:"workbench.contributions.editor.inputFactories"},l.Registry.add(t.Extensions.EditorInputFactories,new y)}),define(e[89],t([1,0,15,7,40,51]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EDITOR_TITLE_HEIGHT=35,
t.DEFAULT_EDITOR_MIN_DIMENSIONS=new n.Dimension(220,70),t.DEFAULT_EDITOR_MAX_DIMENSIONS=new n.Dimension(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),t.DEFAULT_EDITOR_PART_OPTIONS={showTabs:!0,tabCloseButton:"right",tabSizing:"fit",showIcons:!0,enablePreview:!0,openPositioning:"right",openSideBySideDirection:"right",closeEmptyGroups:!0,labelFormat:"default",iconTheme:"vs-seti"},t.impactsEditorPartOptions=function(e){return e.affectsConfiguration("workbench.editor")||e.affectsConfiguration("workbench.iconTheme")},t.getEditorPartOptions=function(e){var i=r.assign(Object.create(null),t.DEFAULT_EDITOR_PART_OPTIONS);return e&&e.workbench?("string"==typeof e.workbench.iconTheme&&(i.iconTheme=e.workbench.iconTheme),e.workbench.editor&&r.assign(i,e.workbench.editor),i):i},t.getActiveTextEditorOptions=function(e,t,n){var r=e.activeControl?o.getCodeEditor(e.activeControl.getControl()):void 0;return!r||t&&!t.matches(e.activeEditor)?n||new i.EditorOptions:i.TextEditorOptions.fromEditor(r,n)}}),
define(e[190],t([1,0,6,15]),function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,i){var n=e.call(this)||this;return n._originalModel=t,n._modifiedModel=i,n}return i(t,e),Object.defineProperty(t.prototype,"originalModel",{get:function(){return this._originalModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedModel",{get:function(){return this._modifiedModel},enumerable:!0,configurable:!0}),t.prototype.load=function(){var e=this;return n.TPromise.join([this._originalModel.load(),this._modifiedModel.load()]).then(function(){return e})},t.prototype.isResolved=function(){return this.originalModel.isResolved()&&this.modifiedModel.isResolved()},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(r.EditorModel);t.DiffEditorModel=o}),define(e[189],t([1,0,5,15,3,9,4,8,39]),function(e,t,n,s,a,c,l,u,d){"use strict";function p(e){var t=e;return e&&"object"==typeof e&&Array.isArray(t.editors)&&Array.isArray(t.mru)}
Object.defineProperty(t,"__esModule",{value:!0});var h={LEFT:"left",RIGHT:"right",FIRST:"first",LAST:"last"};t.isSerializedEditorGroup=p;var g=function(e){function t(i,r,o){var s=e.call(this)||this;return s.instantiationService=r,s.configurationService=o,s._onDidEditorActivate=s._register(new n.Emitter),s._onDidEditorOpen=s._register(new n.Emitter),s._onDidEditorClose=s._register(new n.Emitter),s._onDidEditorDispose=s._register(new n.Emitter),s._onDidEditorBecomeDirty=s._register(new n.Emitter),s._onDidEditorLabelChange=s._register(new n.Emitter),s._onDidEditorMove=s._register(new n.Emitter),s._onDidEditorPin=s._register(new n.Emitter),s._onDidEditorUnpin=s._register(new n.Emitter),s.editors=[],s.mru=[],s.mapResourceToEditorCount=new d.ResourceMap,p(i)?s.deserialize(i):s._id=t.IDS++,s.onConfigurationUpdated(),s.registerListeners(),s}return i(t,e),Object.defineProperty(t.prototype,"onDidEditorActivate",{get:function(){return this._onDidEditorActivate.event},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"onDidEditorOpen",{get:function(){return this._onDidEditorOpen.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorClose",{get:function(){return this._onDidEditorClose.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorDispose",{get:function(){return this._onDidEditorDispose.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorBecomeDirty",{get:function(){return this._onDidEditorBecomeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorLabelChange",{get:function(){return this._onDidEditorLabelChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorMove",{get:function(){return this._onDidEditorMove.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorPin",{get:function(){return this._onDidEditorPin.event},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"onDidEditorUnpin",{get:function(){return this._onDidEditorUnpin.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration(function(t){return e.onConfigurationUpdated(t)}))},t.prototype.onConfigurationUpdated=function(e){this.editorOpenPositioning=this.configurationService.getValue("workbench.editor.openPositioning")},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.editors.length},enumerable:!0,configurable:!0}),t.prototype.getEditors=function(e){return e?this.mru.slice(0):this.editors.slice(0)},t.prototype.getEditor=function(e){if("number"==typeof e)return this.editors[e];var t=e;if(!this.contains(t))return null;for(var i=0;i<this.editors.length;i++){var n=this.editors[i],r=s.toResource(n,{supportSideBySide:!0});if(r&&r.toString()===t.toString())return n
}return null},Object.defineProperty(t.prototype,"activeEditor",{get:function(){return this.active},enumerable:!0,configurable:!0}),t.prototype.isActive=function(e){return this.matches(this.active,e)},Object.defineProperty(t.prototype,"previewEditor",{get:function(){return this.preview},enumerable:!0,configurable:!0}),t.prototype.isPreview=function(e){return this.matches(this.preview,e)},t.prototype.openEditor=function(e,t){var i=this.indexOf(e),n=t&&t.pinned,r=t&&t.active||!this.activeEditor||!n&&this.matches(this.preview,this.activeEditor);if(-1===i){var o=void 0,s=this.indexOf(this.active);if(o=t&&"number"==typeof t.index?t.index:this.editorOpenPositioning===h.FIRST?0:this.editorOpenPositioning===h.LAST?this.editors.length:this.editorOpenPositioning===h.LEFT?0!==s&&this.editors.length?s:0:s+1,!n&&this.preview||this.splice(o,!1,e),!n){if(this.preview){o>this.indexOf(this.preview)&&o--,this.replaceEditor(this.preview,e,o,!r)}this.preview=e}this.registerEditorListeners(e),this._onDidEditorOpen.fire(e),
r&&this.setActive(e)}else n&&this.pin(e),r&&this.setActive(e),t&&"number"==typeof t.index&&this.moveEditor(e,t.index)},t.prototype.registerEditorListeners=function(e){var t=this,i=[],r=n.once(e.onDispose);i.push(r(function(){t.indexOf(e)>=0&&t._onDidEditorDispose.fire(e)})),i.push(e.onDidChangeDirty(function(){t._onDidEditorBecomeDirty.fire(e)})),i.push(e.onDidChangeLabel(function(){t._onDidEditorLabelChange.fire(e)})),i.push(this.onDidEditorClose(function(t){t.editor.matches(e)&&l.dispose(i)}))},t.prototype.replaceEditor=function(e,t,i,n){void 0===n&&(n=!0);var r=this.doCloseEditor(e,n,!0);this.splice(i,!1,t),r&&this._onDidEditorClose.fire(r)},t.prototype.closeEditor=function(e,t){void 0===t&&(t=!0);var i=this.doCloseEditor(e,t,!1);if(i)return this._onDidEditorClose.fire(i),i.index},t.prototype.doCloseEditor=function(e,t,i){var n=this.indexOf(e);return-1===n?null:(t&&this.matches(this.active,e)&&(this.mru.length>1?this.setActive(this.mru[1]):this.active=null),
this.matches(this.preview,e)&&(this.preview=null),this.splice(n,!0),{editor:e,replaced:i,index:n,groupId:this.id})},t.prototype.closeEditors=function(e,t){var i=this,n=this.indexOf(e);if(-1!==n)if(0===t)for(r=n-1;r>=0;r--)this.closeEditor(this.editors[r]);else if(1===t)for(var r=this.editors.length-1;r>n;r--)this.closeEditor(this.editors[r]);else this.mru.filter(function(t){return!i.matches(t,e)}).forEach(function(e){return i.closeEditor(e)})},t.prototype.closeAllEditors=function(){var e=this;this.mru.filter(function(t){return!e.matches(t,e.active)}).forEach(function(t){return e.closeEditor(t)}),this.closeEditor(this.active)},t.prototype.moveEditor=function(e,t){var i=this.indexOf(e);i<0||(this.editors.splice(i,1),this.editors.splice(t,0,e),this._onDidEditorMove.fire(e))},t.prototype.setActive=function(e){-1!==this.indexOf(e)&&(this.matches(this.active,e)||(this.active=e,this.setMostRecentlyUsed(e),this._onDidEditorActivate.fire(e)))},t.prototype.pin=function(e){
-1!==this.indexOf(e)&&this.isPreview(e)&&(this.preview=null,this._onDidEditorPin.fire(e))},t.prototype.unpin=function(e){if(-1!==this.indexOf(e)&&this.isPinned(e)){var t=this.preview;this.preview=e,this._onDidEditorUnpin.fire(e),this.closeEditor(t)}},t.prototype.isPinned=function(e){var t,i;return"number"==typeof e?(t=this.editors[e],i=e):(t=e,i=this.indexOf(t)),!(-1===i||!t)&&(!this.preview||!this.matches(this.preview,t))},t.prototype.splice=function(e,t,i){var n=this.editors[e],r=[e,t?1:0];if(i&&r.push(i),this.editors.splice.apply(this.editors,r),!t&&i)this.mru.push(i),this.updateResourceMap(i,!1);else{var o=this.indexOf(n,this.mru);t&&!i?(this.mru.splice(o,1),this.updateResourceMap(n,!0)):(this.mru.splice(o,1,i),this.updateResourceMap(i,!1),this.updateResourceMap(n,!0))}},t.prototype.updateResourceMap=function(e,t){var i=s.toResource(e,{supportSideBySide:!0});if(i){var n=this.mapResourceToEditorCount.get(i)||0,r=void 0;t?n>1&&(r=n-1):r=n+1,this.mapResourceToEditorCount.set(i,r)}},
t.prototype.indexOf=function(e,t){if(void 0===t&&(t=this.editors),!e)return-1;for(var i=0;i<t.length;i++)if(this.matches(t[i],e))return i;return-1},t.prototype.contains=function(e,t){if(e instanceof s.EditorInput){if(this.indexOf(e)>=0)return!0;if(t&&e instanceof s.SideBySideEditorInput){if(this.indexOf(e.master)>=0)return!0}return!1}var i=this.mapResourceToEditorCount.get(e);return"number"==typeof i&&i>0},t.prototype.setMostRecentlyUsed=function(e){if(-1!==this.indexOf(e)){var t=this.indexOf(e,this.mru);this.mru.splice(t,1),this.mru.unshift(e)}},t.prototype.matches=function(e,t){return!!e&&!!t&&e.matches(t)},t.prototype.clone=function(){var e=this.instantiationService.createInstance(t,void 0);return e.editors=this.editors.slice(0),e.mru=this.mru.slice(0),e.mapResourceToEditorCount=this.mapResourceToEditorCount.clone(),e.preview=this.preview,e.active=this.active,e.editorOpenPositioning=this.editorOpenPositioning,e},t.prototype.serialize=function(){
var e,t=this,i=u.Registry.as(s.Extensions.EditorInputFactories),n=[],r=[];this.editors.forEach(function(o){var s=i.getEditorInputFactory(o.getTypeId());if(s){var a=s.serialize(o);"string"==typeof a&&(r.push({id:o.getTypeId(),value:a}),n.push(o),t.preview===o&&(e=n.length-1))}});var o=this.mru.map(function(e){return t.indexOf(e,n)}).filter(function(e){return e>=0});return{id:this.id,editors:r,mru:o,preview:e}},t.prototype.deserialize=function(e){var i=this,n=u.Registry.as(s.Extensions.EditorInputFactories);"number"==typeof e.id?(this._id=e.id,t.IDS=Math.max(e.id+1,t.IDS)):this._id=t.IDS++,this.editors=e.editors.map(function(e){var t=n.getEditorInputFactory(e.id);if(t){var r=t.deserialize(i.instantiationService,e.value);return i.registerEditorListeners(r),i.updateResourceMap(r,!1),r}return null}).filter(function(e){return!!e}),this.mru=e.mru.map(function(e){return i.editors[e]}),this.active=this.mru[0],this.preview=this.editors[e.preview]},t.IDS=0,
t=r([o(1,a.IInstantiationService),o(2,c.IConfigurationService)],t)}(l.Disposable);t.EditorGroup=g}),define(e[188],t([1,0,190]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.updateTextDiffEditorModel(),n}return i(t,e),Object.defineProperty(t.prototype,"originalModel",{get:function(){return this._originalModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedModel",{get:function(){return this._modifiedModel},enumerable:!0,configurable:!0}),t.prototype.load=function(){var t=this;return e.prototype.load.call(this).then(function(){return t.updateTextDiffEditorModel(),t})},t.prototype.updateTextDiffEditorModel=function(){this.originalModel.isResolved()&&this.modifiedModel.isResolved()&&(this._textDiffEditorModel?(this._textDiffEditorModel.original=this.originalModel.textEditorModel,this._textDiffEditorModel.modified=this.modifiedModel.textEditorModel):this._textDiffEditorModel={
original:this.originalModel.textEditorModel,modified:this.modifiedModel.textEditorModel})},Object.defineProperty(t.prototype,"textDiffEditorModel",{get:function(){return this._textDiffEditorModel},enumerable:!0,configurable:!0}),t.prototype.isResolved=function(){return!!this._textDiffEditorModel},t.prototype.isReadonly=function(){return this.modifiedModel.isReadonly()},t.prototype.dispose=function(){this._textDiffEditorModel=null,e.prototype.dispose.call(this)},t}(n.DiffEditorModel);t.TextDiffEditorModel=r}),define(e[119],t([1,0,6,15,43,37]),function(e,t,n,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,i,n){var r=e.call(this)||this;return r.modelService=t,r.modeService=i,n&&r.handleExistingModel(n),r}return i(t,e),t.prototype.handleExistingModel=function(e){var t=this.modelService.getModel(e);if(!t)throw new Error("Document with resource "+e.toString()+" does not exist");this.textEditorModelHandle=e,this.registerModelDisposeListener(t)},
t.prototype.registerModelDisposeListener=function(e){var t=this;this.modelDisposeListener&&this.modelDisposeListener.dispose(),this.modelDisposeListener=e.onWillDispose(function(){t.textEditorModelHandle=null,t.dispose()})},Object.defineProperty(t.prototype,"textEditorModel",{get:function(){return this.textEditorModelHandle?this.modelService.getModel(this.textEditorModelHandle):null},enumerable:!0,configurable:!0}),t.prototype.createTextEditorModel=function(e,t,i){var r=this.getFirstLineText(e),o=this.getOrCreateMode(this.modeService,i,r);return n.TPromise.as(this.doCreateTextEditorModel(e,o,t))},t.prototype.doCreateTextEditorModel=function(e,t,i){var n=i&&this.modelService.getModel(i);return n?(this.modelService.updateModel(n,e),this.modelService.setMode(n,t)):(n=this.modelService.createModel(e,t,i),this.createdEditorModel=!0,this.registerModelDisposeListener(n)),this.textEditorModelHandle=n.uri,this},t.prototype.getFirstLineText=function(e){var t=e
;if("function"==typeof t.getFirstLineText)return t.getFirstLineText(100);return e.getLineContent(1).substr(0,100)},t.prototype.getOrCreateMode=function(e,t,i){return e.getOrCreateMode(t)},t.prototype.updateTextEditorModel=function(e){this.textEditorModel&&this.modelService.updateModel(this.textEditorModel,e)},t.prototype.createSnapshot=function(){var e=this.textEditorModel;return e?e.createSnapshot(!0):null},t.prototype.isResolved=function(){return!!this.textEditorModelHandle},t.prototype.dispose=function(){this.modelDisposeListener&&(this.modelDisposeListener.dispose(),this.modelDisposeListener=null),this.textEditorModelHandle&&this.createdEditorModel&&this.modelService.destroyModel(this.textEditorModelHandle),this.textEditorModelHandle=null,this.createdEditorModel=!1,e.prototype.dispose.call(this)},t=r([o(0,c.IModelService),o(1,a.IModeService)],t)}(s.EditorModel);t.BaseTextEditorModel=l}),define(e[113],t([1,0,6,15,119,190,188]),function(e,t,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{
value:!0});var c=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i,n,r)||this;return s.forceOpenAsBinary=o,s}return i(t,e),t.prototype.getTypeId=function(){return t.ID},Object.defineProperty(t.prototype,"originalInput",{get:function(){return this.details},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedInput",{get:function(){return this.master},enumerable:!0,configurable:!0}),t.prototype.resolve=function(){var e=this;return this.createModel().then(function(t){return e.cachedModel&&e.cachedModel.dispose(),e.cachedModel=t,e.cachedModel})},t.prototype.getPreferredEditorId=function(e){return this.forceOpenAsBinary?r.BINARY_DIFF_EDITOR_ID:r.TEXT_DIFF_EDITOR_ID},t.prototype.createModel=function(e){return n.TPromise.join([this.originalInput.resolve(),this.modifiedInput.resolve()]).then(function(e){var t=e[0],i=e[1];return i instanceof o.BaseTextEditorModel&&t instanceof o.BaseTextEditorModel?new a.TextDiffEditorModel(t,i):new s.DiffEditorModel(t,i)})},t.prototype.dispose=function(){
this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),e.prototype.dispose.call(this)},t.ID="workbench.editors.diffEditorInput",t}(r.SideBySideEditorInput);t.DiffEditorInput=c}),define(e[185],t([1,0,119,43,37]),function(e,t,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,i,n){var r=e.call(this,n,i,t)||this;return r.createdEditorModel=!0,r}return i(t,e),t.prototype.isReadonly=function(){return!0},t=r([o(1,s.IModeService),o(2,a.IModelService)],t)}(n.BaseTextEditorModel);t.ResourceEditorModel=c}),define(e[339],t([1,0,30]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t){this.id=e.COMMON_PREFIX+t.toLowerCase()}return e.prototype.getMemento=function(t,i){if(void 0===i&&(i=0),1===i){var n=e.workspaceMementos[this.id];return n||(n=new r(this.id,i,t),e.workspaceMementos[this.id]=n),n.getMemento()}var o=e.globalMementos[this.id];return o||(o=new r(this.id,i,t),e.globalMementos[this.id]=o),
o.getMemento()},e.prototype.saveMemento=function(){var t=e.globalMementos[this.id];t&&t.save();var i=e.workspaceMementos[this.id];i&&i.save()},e.globalMementos={},e.workspaceMementos={},e.COMMON_PREFIX="memento/",e}();t.Memento=n;var r=function(){function e(e,t,i){this.storageService=i,this.id=e,this.scope=t,this.mementoObj=this.loadMemento()}return e.prototype.getMemento=function(){return this.mementoObj},e.prototype.loadMemento=function(){var e=0===this.scope?0:1,t=this.storageService.get(this.id,e);return t?JSON.parse(t):{}},e.prototype.save=function(){var e=0===this.scope?0:1;i.isEmptyObject(this.mementoObj)?this.storageService.remove(this.id,e):this.storageService.store(this.id,JSON.stringify(this.mementoObj),e)},e}()}),define(e[83],t([1,0,25,10,43,16,4,27]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(i,n,r){var o=e.call(this)||this;return o._fileService=n,o._modeService=r,o._schemeKey=t.Scheme.bindTo(i),
o._filenameKey=t.Filename.bindTo(i),o._langIdKey=t.LangId.bindTo(i),o._resourceKey=t.Resource.bindTo(i),o._extensionKey=t.Extension.bindTo(i),o._hasResource=t.HasResource.bindTo(i),o._isfileSystemResource=t.IsFileSystemResource.bindTo(i),o._isFileSystemResourceOrUntitled=t.IsFileSystemResourceOrUntitled.bindTo(i),o._register(n.onDidChangeFileSystemProviderRegistrations(function(){var e=o._resourceKey.get();o._isfileSystemResource.set(e&&n.canHandleResource(e)),o._isFileSystemResourceOrUntitled.set(o._isfileSystemResource.get()||o._schemeKey.get()===u.Schemas.untitled)})),o}return i(t,e),t.prototype.set=function(e){this._resourceKey.set(e),this._schemeKey.set(e&&e.scheme),this._filenameKey.set(e&&n.basename(e.fsPath)),this._langIdKey.set(e&&this._modeService.getModeIdByFilepathOrFirstLine(e.fsPath)),this._extensionKey.set(e&&n.extname(e.fsPath)),this._hasResource.set(!!e),this._isfileSystemResource.set(e&&this._fileService.canHandleResource(e)),
this._isFileSystemResourceOrUntitled.set(this._isfileSystemResource.get()||this._schemeKey.get()===u.Schemas.untitled)},t.prototype.reset=function(){this._schemeKey.reset(),this._langIdKey.reset(),this._resourceKey.reset(),this._langIdKey.reset(),this._extensionKey.reset(),this._hasResource.reset()},t.prototype.get=function(){return this._resourceKey.get()},t.Scheme=new s.RawContextKey("resourceScheme",void 0),t.Filename=new s.RawContextKey("resourceFilename",void 0),t.LangId=new s.RawContextKey("resourceLangId",void 0),t.Resource=new s.RawContextKey("resource",void 0),t.Extension=new s.RawContextKey("resourceExtname",void 0),t.HasResource=new s.RawContextKey("resourceSet",!1),t.IsFileSystemResource=new s.RawContextKey("isFileSystemResource",!1),t.IsFileSystemResourceOrUntitled=new s.RawContextKey("isFileSystemResourceOrUntitled",!1),t=r([o(0,s.IContextKeyService),o(1,c.IFileService),o(2,a.IModeService)],t)}(l.Disposable);t.ResourceContextKey=d;!function(e){e.META_DATA_LABEL="label",
e.META_DATA_DESCRIPTION="description",e.META_DATA_SIZE="size",e.META_DATA_MIME="mime",e.parseMetaData=function(t){var i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(function(e){var t=e.split(":"),n=t[0],r=t[1];n&&r&&i.set(n,r)});var n=t.path.substring(0,t.path.indexOf(";"));return n&&i.set(e.META_DATA_MIME,n),i}}(t.DataUri||(t.DataUri={}))}),define(e[138],t([1,0,6,15,16,27,83]),function(e,t,n,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,i,n){var r=e.call(this)||this;if(r.fileService=n,r.resource=t,r.name=i,t.scheme===c.Schemas.data){var o=l.DataUri.parseMetaData(t);o.has(l.DataUri.META_DATA_SIZE)&&(r.size=Number(o.get(l.DataUri.META_DATA_SIZE))),r.mime=o.get(l.DataUri.META_DATA_MIME)}return r}return i(t,e),t.prototype.getName=function(){return this.name},t.prototype.getResource=function(){return this.resource},t.prototype.getSize=function(){return this.size},t.prototype.getMime=function(){return this.mime},
t.prototype.getETag=function(){return this.etag},t.prototype.load=function(){var e=this;return this.fileService.canHandleResource(this.resource)?this.fileService.resolveFile(this.resource).then(function(t){return e.etag=t.etag,e.size=t.size,e}):n.TPromise.wrap(this)},t=r([o(2,a.IFileService)],t)}(s.EditorModel);t.BinaryEditorModel=u}),define(e[184],t([1,0,15,3,138,83]),function(e,t,n,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,i,n,r){var o=e.call(this)||this;if(o.instantiationService=r,o.name=t,o.description=i,o.resource=n,!o.name||!o.description){var s=c.DataUri.parseMetaData(o.resource);o.name||(o.name=s.get(c.DataUri.META_DATA_LABEL)),o.description||(o.description=s.get(c.DataUri.META_DATA_DESCRIPTION))}return o}return i(t,e),t.prototype.getResource=function(){return this.resource},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},
t.prototype.resolve=function(){return this.instantiationService.createInstance(a.BinaryEditorModel,this.resource,this.getName()).load().then(function(e){return e})},t.prototype.matches=function(i){if(!0===e.prototype.matches.call(this,i))return!0;if(i instanceof t){return i.resource.toString()===this.resource.toString()}return!1},t.ID="workbench.editors.dataUriEditorInput",t=r([o(3,s.IInstantiationService)],t)}(n.EditorInput);t.DataUriEditorInput=l}),define(e[53],t([1,0,2,26,4,73]),function(e,t,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WORKBENCH_BACKGROUND=function(e){switch(e.type){case"dark":return s.Color.fromHex("#252526");case"light":return s.Color.fromHex("#F3F3F3");default:return s.Color.fromHex("#000000")}},t.TAB_ACTIVE_BACKGROUND=r.registerColor("tab.activeBackground",{dark:r.editorBackground,light:r.editorBackground,hc:r.editorBackground
},n.localize("tabActiveBackground","Active tab background color. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_INACTIVE_BACKGROUND=r.registerColor("tab.inactiveBackground",{dark:"#2D2D2D",light:"#ECECEC",hc:null},n.localize("tabInactiveBackground","Inactive tab background color. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_HOVER_BACKGROUND=r.registerColor("tab.hoverBackground",{dark:null,light:null,hc:null},n.localize("tabHoverBackground","Tab background color when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_UNFOCUSED_HOVER_BACKGROUND=r.registerColor("tab.unfocusedHoverBackground",{dark:r.transparent(t.TAB_HOVER_BACKGROUND,.5),light:r.transparent(t.TAB_HOVER_BACKGROUND,.7),hc:null
},n.localize("tabUnfocusedHoverBackground","Tab background color in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_BORDER=r.registerColor("tab.border",{dark:"#252526",light:"#F3F3F3",hc:r.contrastBorder},n.localize("tabBorder","Border to separate tabs from each other. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_ACTIVE_BORDER=r.registerColor("tab.activeBorder",{dark:null,light:null,hc:null},n.localize("tabActiveBorder","Border on the bottom of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_ACTIVE_BORDER_TOP=r.registerColor("tab.activeBorderTop",{dark:null,light:null,hc:null
},n.localize("tabActiveBorderTop","Border to the top of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_UNFOCUSED_ACTIVE_BORDER=r.registerColor("tab.unfocusedActiveBorder",{dark:r.transparent(t.TAB_ACTIVE_BORDER,.5),light:r.transparent(t.TAB_ACTIVE_BORDER,.7),hc:null},n.localize("tabActiveUnfocusedBorder","Border on the bottom of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_UNFOCUSED_ACTIVE_BORDER_TOP=r.registerColor("tab.unfocusedActiveBorderTop",{dark:r.transparent(t.TAB_ACTIVE_BORDER_TOP,.5),light:r.transparent(t.TAB_ACTIVE_BORDER_TOP,.7),hc:null
},n.localize("tabActiveUnfocusedBorderTop","Border to the top of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_HOVER_BORDER=r.registerColor("tab.hoverBorder",{dark:null,light:null,hc:null},n.localize("tabHoverBorder","Border to highlight tabs when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_UNFOCUSED_HOVER_BORDER=r.registerColor("tab.unfocusedHoverBorder",{dark:r.transparent(t.TAB_HOVER_BORDER,.5),light:r.transparent(t.TAB_HOVER_BORDER,.7),hc:null},n.localize("tabUnfocusedHoverBorder","Border to highlight tabs in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_ACTIVE_FOREGROUND=r.registerColor("tab.activeForeground",{
dark:s.Color.white,light:"#333333",hc:s.Color.white},n.localize("tabActiveForeground","Active tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_INACTIVE_FOREGROUND=r.registerColor("tab.inactiveForeground",{dark:r.transparent(t.TAB_ACTIVE_FOREGROUND,.5),light:r.transparent(t.TAB_ACTIVE_FOREGROUND,.5),hc:s.Color.white},n.localize("tabInactiveForeground","Inactive tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_UNFOCUSED_ACTIVE_FOREGROUND=r.registerColor("tab.unfocusedActiveForeground",{dark:r.transparent(t.TAB_ACTIVE_FOREGROUND,.5),light:r.transparent(t.TAB_ACTIVE_FOREGROUND,.7),hc:s.Color.white
},n.localize("tabUnfocusedActiveForeground","Active tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.TAB_UNFOCUSED_INACTIVE_FOREGROUND=r.registerColor("tab.unfocusedInactiveForeground",{dark:r.transparent(t.TAB_INACTIVE_FOREGROUND,.5),light:r.transparent(t.TAB_INACTIVE_FOREGROUND,.5),hc:s.Color.white},n.localize("tabUnfocusedInactiveForeground","Inactive tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),t.EDITOR_PANE_BACKGROUND=r.registerColor("editorPane.background",{dark:r.editorBackground,light:r.editorBackground,hc:r.editorBackground},n.localize("editorPaneBackground","Background color of the editor pane visible on the left and right side of the centered editor layout.")),r.registerColor("editorGroup.background",{dark:null,
light:null,hc:null},n.localize("editorGroupBackground","Deprecated background color of an editor group."),!1,n.localize("deprecatedEditorGroupBackground","Deprecated: Background color of an editor group is no longer being supported with the introduction of the grid editor layout. You can use editorGroup.emptyBackground to set the background color of empty editor groups.")),t.EDITOR_GROUP_EMPTY_BACKGROUND=r.registerColor("editorGroup.emptyBackground",{dark:null,light:null,hc:null},n.localize("editorGroupEmptyBackground","Background color of an empty editor group. Editor groups are the containers of editors.")),t.EDITOR_GROUP_FOCUSED_EMPTY_BORDER=r.registerColor("editorGroup.focusedEmptyBorder",{dark:null,light:null,hc:r.focusBorder},n.localize("editorGroupFocusedEmptyBorder","Border color of an empty editor group that is focused. Editor groups are the containers of editors.")),t.EDITOR_GROUP_HEADER_TABS_BACKGROUND=r.registerColor("editorGroupHeader.tabsBackground",{dark:"#252526",light:"#F3F3F3",hc:null
},n.localize("tabsContainerBackground","Background color of the editor group title header when tabs are enabled. Editor groups are the containers of editors.")),t.EDITOR_GROUP_HEADER_TABS_BORDER=r.registerColor("editorGroupHeader.tabsBorder",{dark:null,light:null,hc:r.contrastBorder},n.localize("tabsContainerBorder","Border color of the editor group title header when tabs are enabled. Editor groups are the containers of editors.")),t.EDITOR_GROUP_HEADER_NO_TABS_BACKGROUND=r.registerColor("editorGroupHeader.noTabsBackground",{dark:r.editorBackground,light:r.editorBackground,hc:r.editorBackground},n.localize("editorGroupHeaderBackground",'Background color of the editor group title header when tabs are disabled (`"workbench.editor.showTabs": false`). Editor groups are the containers of editors.')),t.EDITOR_GROUP_BORDER=r.registerColor("editorGroup.border",{dark:"#444444",light:"#E7E7E7",hc:r.contrastBorder
},n.localize("editorGroupBorder","Color to separate multiple editor groups from each other. Editor groups are the containers of editors.")),t.EDITOR_DRAG_AND_DROP_BACKGROUND=r.registerColor("editorGroup.dropBackground",{dark:s.Color.fromHex("#53595D").transparent(.5),light:s.Color.fromHex("#2677CB").transparent(.18),hc:null},n.localize("editorDragAndDropBackground","Background color when dragging editors around. The color should have transparency so that the editor contents can still shine through.")),t.PANEL_BACKGROUND=r.registerColor("panel.background",{dark:r.editorBackground,light:r.editorBackground,hc:r.editorBackground},n.localize("panelBackground","Panel background color. Panels are shown below the editor area and contain views like output and integrated terminal.")),t.PANEL_BORDER=r.registerColor("panel.border",{dark:s.Color.fromHex("#808080").transparent(.35),light:s.Color.fromHex("#808080").transparent(.35),hc:r.contrastBorder
},n.localize("panelBorder","Panel border color to separate the panel from the editor. Panels are shown below the editor area and contain views like output and integrated terminal.")),t.PANEL_ACTIVE_TITLE_FOREGROUND=r.registerColor("panelTitle.activeForeground",{dark:"#E7E7E7",light:"#424242",hc:s.Color.white},n.localize("panelActiveTitleForeground","Title color for the active panel. Panels are shown below the editor area and contain views like output and integrated terminal.")),t.PANEL_INACTIVE_TITLE_FOREGROUND=r.registerColor("panelTitle.inactiveForeground",{dark:r.transparent(t.PANEL_ACTIVE_TITLE_FOREGROUND,.6),light:r.transparent(t.PANEL_ACTIVE_TITLE_FOREGROUND,.75),hc:s.Color.white},n.localize("panelInactiveTitleForeground","Title color for the inactive panel. Panels are shown below the editor area and contain views like output and integrated terminal.")),t.PANEL_ACTIVE_TITLE_BORDER=r.registerColor("panelTitle.activeBorder",{dark:t.PANEL_BORDER,light:t.PANEL_BORDER,hc:r.contrastBorder
},n.localize("panelActiveTitleBorder","Border color for the active panel title. Panels are shown below the editor area and contain views like output and integrated terminal.")),t.PANEL_DRAG_AND_DROP_BACKGROUND=r.registerColor("panel.dropBackground",{dark:s.Color.white.transparent(.12),light:s.Color.fromHex("#2677CB").transparent(.18),hc:s.Color.white.transparent(.12)},n.localize("panelDragAndDropBackground","Drag and drop feedback color for the panel title items. The color should have transparency so that the panel entries can still shine through. Panels are shown below the editor area and contain views like output and integrated terminal.")),t.STATUS_BAR_FOREGROUND=r.registerColor("statusBar.foreground",{dark:"#FFFFFF",light:"#FFFFFF",hc:"#FFFFFF"},n.localize("statusBarForeground","Status bar foreground color when a workspace is opened. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_NO_FOLDER_FOREGROUND=r.registerColor("statusBar.noFolderForeground",{dark:t.STATUS_BAR_FOREGROUND,
light:t.STATUS_BAR_FOREGROUND,hc:t.STATUS_BAR_FOREGROUND},n.localize("statusBarNoFolderForeground","Status bar foreground color when no folder is opened. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_BACKGROUND=r.registerColor("statusBar.background",{dark:"#007ACC",light:"#007ACC",hc:null},n.localize("statusBarBackground","Status bar background color when a workspace is opened. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_NO_FOLDER_BACKGROUND=r.registerColor("statusBar.noFolderBackground",{dark:"#68217A",light:"#68217A",hc:null},n.localize("statusBarNoFolderBackground","Status bar background color when no folder is opened. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_BORDER=r.registerColor("statusBar.border",{dark:null,light:null,hc:r.contrastBorder},n.localize("statusBarBorder","Status bar border color separating to the sidebar and editor. The status bar is shown in the bottom of the window.")),
t.STATUS_BAR_NO_FOLDER_BORDER=r.registerColor("statusBar.noFolderBorder",{dark:t.STATUS_BAR_BORDER,light:t.STATUS_BAR_BORDER,hc:t.STATUS_BAR_BORDER},n.localize("statusBarNoFolderBorder","Status bar border color separating to the sidebar and editor when no folder is opened. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_ITEM_ACTIVE_BACKGROUND=r.registerColor("statusBarItem.activeBackground",{dark:s.Color.white.transparent(.18),light:s.Color.white.transparent(.18),hc:s.Color.white.transparent(.18)},n.localize("statusBarItemActiveBackground","Status bar item background color when clicking. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_ITEM_HOVER_BACKGROUND=r.registerColor("statusBarItem.hoverBackground",{dark:s.Color.white.transparent(.12),light:s.Color.white.transparent(.12),hc:s.Color.white.transparent(.12)},n.localize("statusBarItemHoverBackground","Status bar item background color when hovering. The status bar is shown in the bottom of the window.")),
t.STATUS_BAR_PROMINENT_ITEM_BACKGROUND=r.registerColor("statusBarItem.prominentBackground",{dark:"#388A34",light:"#388A34",hc:"#3883A4"},n.localize("statusBarProminentItemBackground","Status bar prominent items background color. Prominent items stand out from other status bar entries to indicate importance. Change mode `Toggle Tab Key Moves Focus` from command palette to see an example. The status bar is shown in the bottom of the window.")),t.STATUS_BAR_PROMINENT_ITEM_HOVER_BACKGROUND=r.registerColor("statusBarItem.prominentHoverBackground",{dark:"#369432",light:"#369432",hc:"#369432"},n.localize("statusBarProminentItemHoverBackground","Status bar prominent items background color when hovering. Prominent items stand out from other status bar entries to indicate importance. Change mode `Toggle Tab Key Moves Focus` from command palette to see an example. The status bar is shown in the bottom of the window.")),t.ACTIVITY_BAR_BACKGROUND=r.registerColor("activityBar.background",{dark:"#333333",light:"#2C2C2C",
hc:"#000000"},n.localize("activityBarBackground","Activity bar background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),t.ACTIVITY_BAR_FOREGROUND=r.registerColor("activityBar.foreground",{dark:s.Color.white,light:s.Color.white,hc:s.Color.white},n.localize("activityBarForeground","Activity bar item foreground color when it is active. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),t.ACTIVITY_BAR_INACTIVE_FOREGROUND=r.registerColor("activityBar.inactiveForeground",{dark:r.transparent(t.ACTIVITY_BAR_FOREGROUND,.6),light:r.transparent(t.ACTIVITY_BAR_FOREGROUND,.6),hc:s.Color.white},n.localize("activityBarInActiveForeground","Activity bar item foreground color when it is inactive. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),t.ACTIVITY_BAR_BORDER=r.registerColor("activityBar.border",{dark:null,light:null,hc:r.contrastBorder
},n.localize("activityBarBorder","Activity bar border color separating to the side bar. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),t.ACTIVITY_BAR_DRAG_AND_DROP_BACKGROUND=r.registerColor("activityBar.dropBackground",{dark:s.Color.white.transparent(.12),light:s.Color.white.transparent(.12),hc:s.Color.white.transparent(.12)},n.localize("activityBarDragAndDropBackground","Drag and drop feedback color for the activity bar items. The color should have transparency so that the activity bar entries can still shine through. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),t.ACTIVITY_BAR_BADGE_BACKGROUND=r.registerColor("activityBarBadge.background",{dark:"#007ACC",light:"#007ACC",hc:"#000000"},n.localize("activityBarBadgeBackground","Activity notification badge background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),
t.ACTIVITY_BAR_BADGE_FOREGROUND=r.registerColor("activityBarBadge.foreground",{dark:s.Color.white,light:s.Color.white,hc:s.Color.white},n.localize("activityBarBadgeForeground","Activity notification badge foreground color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),t.SIDE_BAR_BACKGROUND=r.registerColor("sideBar.background",{dark:"#252526",light:"#F3F3F3",hc:"#000000"},n.localize("sideBarBackground","Side bar background color. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_FOREGROUND=r.registerColor("sideBar.foreground",{dark:null,light:null,hc:null},n.localize("sideBarForeground","Side bar foreground color. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_BORDER=r.registerColor("sideBar.border",{dark:null,light:null,hc:r.contrastBorder
},n.localize("sideBarBorder","Side bar border color on the side separating to the editor. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_TITLE_FOREGROUND=r.registerColor("sideBarTitle.foreground",{dark:t.SIDE_BAR_FOREGROUND,light:t.SIDE_BAR_FOREGROUND,hc:t.SIDE_BAR_FOREGROUND},n.localize("sideBarTitleForeground","Side bar title foreground color. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_DRAG_AND_DROP_BACKGROUND=r.registerColor("sideBar.dropBackground",{dark:s.Color.white.transparent(.12),light:s.Color.white.transparent(.12),hc:s.Color.white.transparent(.12)},n.localize("sideBarDragAndDropBackground","Drag and drop feedback color for the side bar sections. The color should have transparency so that the side bar sections can still shine through. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_SECTION_HEADER_BACKGROUND=r.registerColor("sideBarSectionHeader.background",{
dark:s.Color.fromHex("#808080").transparent(.2),light:s.Color.fromHex("#808080").transparent(.2),hc:null},n.localize("sideBarSectionHeaderBackground","Side bar section header background color. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_SECTION_HEADER_FOREGROUND=r.registerColor("sideBarSectionHeader.foreground",{dark:t.SIDE_BAR_FOREGROUND,light:t.SIDE_BAR_FOREGROUND,hc:t.SIDE_BAR_FOREGROUND},n.localize("sideBarSectionHeaderForeground","Side bar section header foreground color. The side bar is the container for views like explorer and search.")),t.SIDE_BAR_SECTION_HEADER_BORDER=r.registerColor("sideBarSectionHeader.border",{dark:r.contrastBorder,light:r.contrastBorder,hc:r.contrastBorder},n.localize("sideBarSectionHeaderBorder","Side bar section header border color. The side bar is the container for views like explorer and search.")),t.TITLE_BAR_ACTIVE_FOREGROUND=r.registerColor("titleBar.activeForeground",{dark:"#CCCCCC",light:"#333333",hc:"#FFFFFF"
},n.localize("titleBarActiveForeground","Title bar foreground when the window is active. Note that this color is currently only supported on macOS.")),t.TITLE_BAR_INACTIVE_FOREGROUND=r.registerColor("titleBar.inactiveForeground",{dark:r.transparent(t.TITLE_BAR_ACTIVE_FOREGROUND,.6),light:r.transparent(t.TITLE_BAR_ACTIVE_FOREGROUND,.6),hc:null},n.localize("titleBarInactiveForeground","Title bar foreground when the window is inactive. Note that this color is currently only supported on macOS.")),t.TITLE_BAR_ACTIVE_BACKGROUND=r.registerColor("titleBar.activeBackground",{dark:"#3C3C3C",light:"#DDDDDD",hc:"#000000"},n.localize("titleBarActiveBackground","Title bar background when the window is active. Note that this color is currently only supported on macOS.")),t.TITLE_BAR_INACTIVE_BACKGROUND=r.registerColor("titleBar.inactiveBackground",{dark:r.transparent(t.TITLE_BAR_ACTIVE_BACKGROUND,.6),light:r.transparent(t.TITLE_BAR_ACTIVE_BACKGROUND,.6),hc:null
},n.localize("titleBarInactiveBackground","Title bar background when the window is inactive. Note that this color is currently only supported on macOS.")),t.TITLE_BAR_BORDER=r.registerColor("titleBar.border",{dark:null,light:null,hc:r.contrastBorder},n.localize("titleBarBorder","Title bar border color. Note that this color is currently only supported on macOS.")),t.MENUBAR_SELECTION_FOREGROUND=r.registerColor("menubar.selectionForeground",{dark:t.TITLE_BAR_ACTIVE_FOREGROUND,light:t.TITLE_BAR_ACTIVE_FOREGROUND,hc:t.TITLE_BAR_ACTIVE_FOREGROUND},n.localize("menubarSelectionForeground","Foreground color of the selected menu item in the menubar.")),t.MENUBAR_SELECTION_BACKGROUND=r.registerColor("menubar.selectionBackground",{dark:r.transparent(s.Color.white,.1),light:r.transparent(s.Color.black,.1),hc:null},n.localize("menubarSelectionBackground","Background color of the selected menu item in the menubar.")),t.MENUBAR_SELECTION_BORDER=r.registerColor("menubar.selectionBorder",{dark:null,light:null,
hc:r.activeContrastBorder},n.localize("menubarSelectionBorder","Border color of the selected menu item in the menubar.")),t.NOTIFICATIONS_CENTER_BORDER=r.registerColor("notificationCenter.border",{dark:null,light:null,hc:r.contrastBorder},n.localize("notificationCenterBorder","Notifications center border color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_TOAST_BORDER=r.registerColor("notificationToast.border",{dark:null,light:null,hc:r.contrastBorder},n.localize("notificationToastBorder","Notification toast border color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_FOREGROUND=r.registerColor("notifications.foreground",{dark:null,light:null,hc:null},n.localize("notificationsForeground","Notifications foreground color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_BACKGROUND=r.registerColor("notifications.background",{dark:r.editorWidgetBackground,light:r.editorWidgetBackground,hc:r.editorWidgetBackground
},n.localize("notificationsBackground","Notifications background color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_LINKS=r.registerColor("notificationLink.foreground",{dark:r.textLinkForeground,light:r.textLinkForeground,hc:r.textLinkForeground},n.localize("notificationsLink","Notification links foreground color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_CENTER_HEADER_FOREGROUND=r.registerColor("notificationCenterHeader.foreground",{dark:null,light:null,hc:null},n.localize("notificationCenterHeaderForeground","Notifications center header foreground color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_CENTER_HEADER_BACKGROUND=r.registerColor("notificationCenterHeader.background",{dark:r.lighten(t.NOTIFICATIONS_BACKGROUND,.3),light:r.darken(t.NOTIFICATIONS_BACKGROUND,.05),hc:t.NOTIFICATIONS_BACKGROUND
},n.localize("notificationCenterHeaderBackground","Notifications center header background color. Notifications slide in from the bottom right of the window.")),t.NOTIFICATIONS_BORDER=r.registerColor("notifications.border",{dark:t.NOTIFICATIONS_CENTER_HEADER_BACKGROUND,light:t.NOTIFICATIONS_CENTER_HEADER_BACKGROUND,hc:t.NOTIFICATIONS_CENTER_HEADER_BACKGROUND},n.localize("notificationsBorder","Notifications border color separating from other notifications in the notifications center. Notifications slide in from the bottom right of the window."));var a=function(e){function t(t){var i=e.call(this)||this;return i.themeService=t,i.theme=t.getTheme(),i._register(i.themeService.onThemeChange(function(e){return i.onThemeChange(e)})),i}return i(t,e),t.prototype.onThemeChange=function(e){this.theme=e,this.updateStyles()},t.prototype.updateStyles=function(){},t.prototype.getColor=function(e,t){var i=this.theme.getColor(e);return i&&t&&(i=t(i,this.theme)),i?i.toString():null},t}(o.Disposable);t.Themable=a}),
define(e[126],t([1,0,339,53]),function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,i){var r=e.call(this,i)||this;return r.id=t,r.componentMemento=new n.Memento(r.id),r}return i(t,e),t.prototype.getId=function(){return this.id},t.prototype.getMemento=function(e,t){return void 0===t&&(t=0),this.componentMemento.getMemento(e,t)},t.prototype.saveMemento=function(){this.componentMemento.saveMemento()},t.prototype.shutdown=function(){this.saveMemento()},t}(r.Themable);t.Component=o}),define(e[182],t([1,0,14,126,5,7]),function(e,t,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i,n){var r=e.call(this,t,n)||this;return r._telemetryService=i,r._onTitleAreaUpdate=r._register(new o.Emitter),r.visible=!1,r}return i(t,e),Object.defineProperty(t.prototype,"onTitleAreaUpdate",{get:function(){return this._onTitleAreaUpdate.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidFocus",{
get:function(){return this._onDidFocus||this._registerFocusTrackEvents(),this._onDidFocus.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidBlur",{get:function(){return this._onDidBlur||this._registerFocusTrackEvents(),this._onDidBlur.event},enumerable:!0,configurable:!0}),t.prototype._registerFocusTrackEvents=function(){var e=this;this._onDidFocus=this._register(new o.Emitter),this._onDidBlur=this._register(new o.Emitter);var t=this._register(s.trackFocus(this.getContainer()));this._register(t.onDidFocus(function(){return e._onDidFocus.fire()})),this._register(t.onDidBlur(function(){return e._onDidBlur.fire()}))},t.prototype.getTitle=function(){return null},Object.defineProperty(t.prototype,"telemetryService",{get:function(){return this._telemetryService},enumerable:!0,configurable:!0}),t.prototype.create=function(e){return this.parent=e,Promise.resolve(null)},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this)},t.prototype.getContainer=function(){
return this.parent},t.prototype.setVisible=function(e){return this.visible=e,Promise.resolve(null)},t.prototype.focus=function(){},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getContextMenuActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.getActionRunner=function(){return this.actionRunner||(this.actionRunner=new n.ActionRunner),this.actionRunner},t.prototype.updateTitleArea=function(){this._onTitleAreaUpdate.fire()},t.prototype.isVisible=function(){return this.visible},t.prototype.getControl=function(){return null},t}(r.Component);t.Composite=a;var c=function(){function e(e,t,i,n,r,o){this.ctor=e,this.id=t,this.name=i,this.cssClass=n,this.order=r,this.enabled=!0,this.keybindingId=o}return e.prototype.instantiate=function(e){return e.createInstance(this.ctor)},e}();t.CompositeDescriptor=c;var l=function(){function e(){this._onDidRegister=new o.Emitter,this.composites=[]}
return Object.defineProperty(e.prototype,"onDidRegister",{get:function(){return this._onDidRegister.event},enumerable:!0,configurable:!0}),e.prototype.registerComposite=function(e){null===this.compositeById(e.id)&&(this.composites.push(e),this._onDidRegister.fire(e))},e.prototype.getComposite=function(e){return this.compositeById(e)},e.prototype.getComposites=function(){return this.composites.slice(0)},e.prototype.compositeById=function(e){for(var t=0;t<this.composites.length;t++)if(this.composites[t].id===e)return this.composites[t];return null},e}();t.CompositeRegistry=l}),define(e[181],t([1,0,8,182,14,7]),function(e,t,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r.Composite);t.Panel=a;var c=function(e){function t(t,i,n,r,o,s){return e.call(this,t,i,n,r,o,s)||this}return i(t,e),t}(r.CompositeDescriptor);t.PanelDescriptor=c;var l=function(e){function t(){
return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.registerPanel=function(t){e.prototype.registerComposite.call(this,t)},t.prototype.getPanels=function(){return this.getComposites()},t.prototype.setDefaultPanelId=function(e){this.defaultPanelId=e},t.prototype.getDefaultPanelId=function(){return this.defaultPanelId},t}(r.CompositeRegistry);t.PanelRegistry=l;var u=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i,s)||this;return a.panelService=r,a.partService=o,a.panelId=n,a}return i(t,e),t.prototype.run=function(){return this.isPanelFocused()?this.partService.setPanelHidden(!0):this.panelService.openPanel(this.panelId,!0)},t.prototype.isPanelActive=function(){var e=this.panelService.getActivePanel();return e&&e.getId()===this.panelId},t.prototype.isPanelFocused=function(){var e=document.activeElement;return this.isPanelActive()&&e&&s.isAncestor(e,this.partService.getContainer(2))},t}(o.Action);t.TogglePanelAction=u,t.Extensions={Panels:"workbench.contributions.panels"},
n.Registry.add(t.Extensions.Panels,new l)}),define(e[161],t([1,0,126,7,369]),function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,i,n){var r=e.call(this,t,n)||this;return r.options=i,r}return i(t,e),t.prototype.onThemeChange=function(t){this.parent&&e.prototype.onThemeChange.call(this,t)},t.prototype.create=function(e){this.parent=e,this.titleArea=this.createTitleArea(e),this.contentArea=this.createContentArea(e),this.partLayout=new s(this.parent,this.options,this.titleArea,this.contentArea),this.updateStyles()},t.prototype.getContainer=function(){return this.parent},t.prototype.createTitleArea=function(e){return null},t.prototype.getTitleArea=function(){return this.titleArea},t.prototype.createContentArea=function(e){return null},t.prototype.getContentArea=function(){return this.contentArea},t.prototype.layout=function(e){return this.partLayout.layout(e)},t}(n.Component);t.Part=o;var s=function(){function e(e,t,i,n){this.options=t,this.contentArea=n}
return e.prototype.layout=function(e){var t,i=e.width,n=e.height,o=[];t=this.options&&this.options.hasTitle?new r.Dimension(i,Math.min(n,35)):new r.Dimension(0,0);var s=new r.Dimension(i,n-t.height);return this.options&&"function"==typeof this.options.borderWidth&&(s.width-=this.options.borderWidth()),o.push(t),o.push(s),this.contentArea&&r.size(this.contentArea,s.width,s.height),o},e}();t.PartLayout=s}),define(e[75],t([1,0,6,181,15,39,5,30,89]),function(e,t,n,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,i,n){var r=e.call(this,t,i,n)||this;return r.minimumWidth=l.DEFAULT_EDITOR_MIN_DIMENSIONS.width,r.maximumWidth=l.DEFAULT_EDITOR_MAX_DIMENSIONS.width,r.minimumHeight=l.DEFAULT_EDITOR_MIN_DIMENSIONS.height,r.maximumHeight=l.DEFAULT_EDITOR_MAX_DIMENSIONS.height,r.onDidSizeConstraintsChange=a.Event.None,r}return i(t,e),Object.defineProperty(t.prototype,"input",{get:function(){return this._input},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),t.prototype.setInput=function(e,t,i){return this._input=e,this._options=t,n.TPromise.wrap(null)},t.prototype.clearInput=function(){this._input=null,this._options=null},t.prototype.setOptions=function(e){this._options=e},t.prototype.create=function(t){var i=e.prototype.create.call(this,t);return this.createEditor(t),i},t.prototype.setVisible=function(t,i){var n=e.prototype.setVisible.call(this,t);return this.setEditorVisible(t,i),n},t.prototype.setEditorVisible=function(e,t){this._group=t},t.prototype.getEditorMemento=function(e,i,n,r){void 0===r&&(r=10);var o=""+this.getId()+n,s=t.EDITOR_MEMENTOS.get(o);return s||(s=new d(this.getId(),n,this.getMemento(e,1),r,i),t.EDITOR_MEMENTOS.set(o,s)),s},t.prototype.shutdown=function(){var i=this;t.EDITOR_MEMENTOS.forEach(function(e){
e.id===i.getId()&&e.shutdown()}),e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this._input=null,this._options=null,e.prototype.dispose.call(this)},t.EDITOR_MEMENTOS=new Map,t}(r.Panel);t.BaseEditor=u;var d=function(){function e(e,t,i,n,r){this._id=e,this.key=t,this.memento=i,this.limit=n,this.editorGroupService=r,this.cleanedUp=!1}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.saveState=function(e,t,i){var n=this,r=this.doGetResource(t);if(r&&e){var s=this.doLoad(),c=s.get(r.toString());c||(c=Object.create(null),s.set(r.toString(),c)),c[e.id]=i,t instanceof o.EditorInput&&a.once(t.onDispose)(function(){n.clearState(r)})}},e.prototype.loadState=function(e,t){var i=this.doGetResource(t);if(i&&e){var n=this.doLoad().get(i.toString());return n?n[e.id]:void 0}},e.prototype.clearState=function(e,t){var i=this.doGetResource(e);if(i){var n=this.doLoad();if(t){var r=n.get(i.toString());r&&delete r[t.id]
}else n.delete(i.toString())}},e.prototype.doGetResource=function(e){return e instanceof o.EditorInput?e.getResource():e},e.prototype.doLoad=function(){if(!this.cache){this.cache=new s.LRUCache(this.limit);var e=this.memento[this.key];Array.isArray(e)&&this.cache.fromJSON(e)}return this.cache},e.prototype.shutdown=function(){var e=this.doLoad();this.cleanedUp||(this.cleanUp(),this.cleanedUp=!0),this.memento[this.key]=e.toJSON()},e.prototype.cleanUp=function(){var e=this,t=this.doLoad();t.forEach(function(i,n){Object.keys(i).forEach(function(r){var o=Number(r);e.editorGroupService.getGroup(o)||(delete i[o],c.isEmptyObject(i)&&t.delete(n))})})},e}();t.EditorMemento=d}),define(e[106],t([1,0,8,75,30]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,i){this.ctor=e,this.id=t,this.name=i}return e.prototype.instantiate=function(e){return e.createInstance(this.ctor)},e.prototype.getId=function(){return this.id},e.prototype.getName=function(){
return this.name},e.prototype.describes=function(e){return e instanceof n.BaseEditor&&e.getId()===this.id},e}();t.EditorDescriptor=o;var s=function(){function e(){this.editors=[]}return e.prototype.registerEditor=function(e,t){var i=[];r.isArray(t)?i=t:i.push(t),e.__$inputDescriptors=i,this.editors.push(e)},e.prototype.getEditor=function(e){var t=this,i=function(e,n){for(var r=[],o=0;o<t.editors.length;o++)for(var s=t.editors[o],a=s.__$inputDescriptors,c=0;c<a.length;c++){var l=a[c].ctor;if(!n&&e.constructor===l){r.push(s);break}if(n&&e instanceof l){r.push(s);break}}return n||0!==r.length?r:i(e,!0)},n=i(e);if(n&&n.length>0){var r=e.getPreferredEditorId(n.map(function(e){return e.getId()}));return r?this.getEditorById(r):n[0]}return null},e.prototype.getEditorById=function(e){for(var t=0;t<this.editors.length;t++){var i=this.editors[t];if(i.getId()===e)return i}return null},e.prototype.getEditors=function(){return this.editors.slice(0)},e.prototype.setEditors=function(e){this.editors=e},
e.prototype.getEditorInputs=function(){for(var e=[],t=0;t<this.editors.length;t++){var i=this.editors[t].__$inputDescriptors;e.push.apply(e,i.map(function(e){return e.ctor}))}return e},e}();t.Extensions={Editors:"workbench.contributions.editors"},i.Registry.add(t.Extensions.Editors,new s)}),define(e[160],t([1,0,7,8,75,31,3,11,26,106,110,5]),function(e,t,n,s,a,c,l,u,d,p,h,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(i,r,o){var s=e.call(this,t.ID,i,o)||this;return s.instantiationService=r,s.dimension=new n.Dimension(0,0),s.onDidCreateEditors=s._register(new g.Emitter),s._onDidSizeConstraintsChange=s._register(new g.Relay),s.onDidSizeConstraintsChange=g.anyEvent(s.onDidCreateEditors.event,s._onDidSizeConstraintsChange.event),s}return i(t,e),Object.defineProperty(t.prototype,"minimumMasterWidth",{get:function(){return this.masterEditor?this.masterEditor.minimumWidth:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumMasterWidth",{
get:function(){return this.masterEditor?this.masterEditor.maximumWidth:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumMasterHeight",{get:function(){return this.masterEditor?this.masterEditor.minimumHeight:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumMasterHeight",{get:function(){return this.masterEditor?this.masterEditor.maximumHeight:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumDetailsWidth",{get:function(){return this.detailsEditor?this.detailsEditor.minimumWidth:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumDetailsWidth",{get:function(){return this.detailsEditor?this.detailsEditor.maximumWidth:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumDetailsHeight",{get:function(){return this.detailsEditor?this.detailsEditor.minimumHeight:0},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"maximumDetailsHeight",{get:function(){return this.detailsEditor?this.detailsEditor.maximumHeight:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumWidth",{get:function(){return this.minimumMasterWidth+this.minimumDetailsWidth},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumWidth",{get:function(){return this.maximumMasterWidth+this.maximumDetailsWidth},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumHeight",{get:function(){return this.minimumMasterHeight+this.minimumDetailsHeight},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumHeight",{get:function(){return this.maximumMasterHeight+this.maximumDetailsHeight},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.createEditor=function(e){var t=this;n.addClass(e,"side-by-side-editor"),this.splitview=this._register(new h.SplitView(e,{
orientation:1})),this._register(this.splitview.onDidSashReset(function(){return t.splitview.distributeViewSizes()})),this.detailsEditorContainer=n.$(".details-editor-container"),this.splitview.addView({element:this.detailsEditorContainer,layout:function(e){return t.detailsEditor&&t.detailsEditor.layout(new n.Dimension(e,t.dimension.height))},minimumSize:220,maximumSize:Number.POSITIVE_INFINITY,onDidChange:g.Event.None},h.Sizing.Distribute),this.masterEditorContainer=n.$(".master-editor-container"),this.splitview.addView({element:this.masterEditorContainer,layout:function(e){return t.masterEditor&&t.masterEditor.layout(new n.Dimension(e,t.dimension.height))},minimumSize:220,maximumSize:Number.POSITIVE_INFINITY,onDidChange:g.Event.None},h.Sizing.Distribute),this.updateStyles()},t.prototype.setInput=function(t,i,n){var r=this,o=this.input;return e.prototype.setInput.call(this,t,i,n).then(function(){return r.updateInput(o,t,i,n)})},t.prototype.setOptions=function(e){
this.masterEditor&&this.masterEditor.setOptions(e)},t.prototype.setEditorVisible=function(t,i){this.masterEditor&&this.masterEditor.setVisible(t,i),this.detailsEditor&&this.detailsEditor.setVisible(t,i),e.prototype.setEditorVisible.call(this,t,i)},t.prototype.clearInput=function(){this.masterEditor&&this.masterEditor.clearInput(),this.detailsEditor&&this.detailsEditor.clearInput(),this.disposeEditors(),e.prototype.clearInput.call(this)},t.prototype.focus=function(){this.masterEditor&&this.masterEditor.focus()},t.prototype.layout=function(e){this.dimension=e,this.splitview.layout(e.width)},t.prototype.getControl=function(){return this.masterEditor?this.masterEditor.getControl():null},t.prototype.getMasterEditor=function(){return this.masterEditor},t.prototype.getDetailsEditor=function(){return this.detailsEditor},t.prototype.updateInput=function(e,t,i,n){
return t.matches(e)?Promise.all([this.detailsEditor.setInput(t.details,null,n),this.masterEditor.setInput(t.master,i,n)]).then(function(){}):(e&&this.disposeEditors(),this.setNewInput(t,i,n))},t.prototype.setNewInput=function(e,t,i){var n=this._createEditor(e.details,this.detailsEditorContainer),r=this._createEditor(e.master,this.masterEditorContainer);return this.onEditorsCreated(n,r,e.details,e.master,t,i)},t.prototype._createEditor=function(e,t){var i=s.Registry.as(p.Extensions.Editors).getEditor(e).instantiate(this.instantiationService);return i.create(t),i.setVisible(this.isVisible(),this.group),i},t.prototype.onEditorsCreated=function(e,t,i,n,r,o){var s=this;return this.detailsEditor=e,this.masterEditor=t,this._onDidSizeConstraintsChange.input=g.anyEvent(g.mapEvent(e.onDidSizeConstraintsChange,function(){}),g.mapEvent(t.onDidSizeConstraintsChange,function(){})),this.onDidCreateEditors.fire(),Promise.all([this.detailsEditor.setInput(i,null,o),this.masterEditor.setInput(n,r,o)]).then(function(){
return s.focus()})},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this),this.masterEditorContainer&&(this.masterEditorContainer.style.boxShadow="-6px 0 5px -5px "+this.getColor(d.scrollbarShadow))},t.prototype.disposeEditors=function(){this.detailsEditor&&(this.detailsEditor.dispose(),this.detailsEditor=null),this.masterEditor&&(this.masterEditor.dispose(),this.masterEditor=null),this.detailsEditorContainer.innerHTML="",this.masterEditorContainer.innerHTML=""},t.prototype.dispose=function(){this.disposeEditors(),e.prototype.dispose.call(this)},t.ID="workbench.editor.sidebysideEditor",t=r([o(0,c.ITelemetryService),o(1,l.IInstantiationService),o(2,u.IThemeService)],t)}(a.BaseEditor);t.SideBySideEditor=f}),define(e[109],t([1,0,5,2,3,39,8]),function(e,t,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_VIEW_CONTAINER_ID="workbench.view.extension.test";var c;!function(e){e.ViewContainersRegistry="workbench.registry.view.containers"
}(c=t.Extensions||(t.Extensions={}));var l=function(){return function(e,t){this.id=e,this.extensionId=t}}();t.ViewContainer=l;var u=function(){function e(){this._onDidRegister=new n.Emitter,this.onDidRegister=this._onDidRegister.event,this.viewContainers=new Map}return Object.defineProperty(e.prototype,"all",{get:function(){return s.values(this.viewContainers)},enumerable:!0,configurable:!0}),e.prototype.registerViewContainer=function(e,t){if(!this.viewContainers.has(e)){var n=new(function(n){function r(){return n.call(this,e,t)||this}return i(r,n),r}(l));this.viewContainers.set(e,n),this._onDidRegister.fire(n)}return this.get(e)},e.prototype.get=function(e){return this.viewContainers.get(e)},e}();a.Registry.add(c.ViewContainersRegistry,new u),t.ViewsRegistry=new(function(){function e(){this._onViewsRegistered=new n.Emitter,this.onViewsRegistered=this._onViewsRegistered.event,this._onViewsDeregistered=new n.Emitter,this.onViewsDeregistered=this._onViewsDeregistered.event,this._viewContainer=[],
this._views=new Map}return e.prototype.registerViews=function(e){if(e.length){for(var t=function(e){var t=i._views.get(e.container);if(t||(t=[],i._views.set(e.container,t),i._viewContainer.push(e.container)),t.some(function(t){return t.id===e.id}))throw new Error(r.localize("duplicateId","A view with id '{0}' is already registered in the container '{1}'",e.id,e.container.id));t.push(e)},i=this,n=0,o=e;n<o.length;n++){t(o[n])}this._onViewsRegistered.fire(e)}},e.prototype.deregisterViews=function(e,t){var i=this._views.get(t);if(i){var n=i.filter(function(t){return-1!==e.indexOf(t.id)});if(n.length){var r=i.filter(function(t){return-1===e.indexOf(t.id)});r.length?this._views.set(t,r):(this._views.delete(t),this._viewContainer.splice(this._viewContainer.indexOf(t),1)),this._onViewsDeregistered.fire(n)}}},e.prototype.getViews=function(e){return this._views.get(e)||[]},e.prototype.getView=function(e){for(var t=0,i=this._viewContainer;t<i.length;t++){var n=i[t],r=(this._views.get(n)||[]).filter(function(t){
return t.id===e})[0];if(r)return r}return null},e.prototype.getAllViews=function(){var e=[];return this._views.forEach(function(t){return e.push.apply(e,t)}),e},e}()),t.IViewsService=o.createDecorator("viewsService");!function(e){e[e.None=0]="None",e[e.Collapsed=1]="Collapsed",e[e.Expanded=2]="Expanded"}(t.TreeItemCollapsibleState||(t.TreeItemCollapsibleState={}))}),define(e[177],t([1,0,13,40,21,4,5,9,139,92,25]),function(e,t,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.globFn=t,o.shouldUpdate=i,o.contextService=n,o.configurationService=r,o._onExpressionChange=o._register(new l.Emitter),o.mapRootToParsedExpression=new Map,o.mapRootToExpressionConfig=new Map,o.updateExcludes(!1),o.registerListeners(),o}return i(t,e),Object.defineProperty(t.prototype,"onExpressionChange",{get:function(){return this._onExpressionChange.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){
var e=this;this._register(this.configurationService.onDidChangeConfiguration(function(t){e.shouldUpdate(t)&&e.updateExcludes(!0)})),this._register(this.contextService.onDidChangeWorkspaceFolders(function(){return e.updateExcludes(!0)}))},t.prototype.updateExcludes=function(e){var i=this,r=!1;this.contextService.getWorkspace().folders.forEach(function(e){var t=i.globFn(e.uri);i.mapRootToExpressionConfig.has(e.uri.toString())&&s.equals(i.mapRootToExpressionConfig.get(e.uri.toString()),t)||(r=!0,i.mapRootToParsedExpression.set(e.uri.toString(),d.parse(t)),i.mapRootToExpressionConfig.set(e.uri.toString(),s.deepClone(t)))}),this.mapRootToExpressionConfig.forEach(function(e,o){o!==t.NO_ROOT&&(i.contextService.getWorkspaceFolder(n.URI.parse(o))||(i.mapRootToParsedExpression.delete(o),i.mapRootToExpressionConfig.delete(o),r=!0))});var o=this.globFn();this.mapRootToExpressionConfig.has(t.NO_ROOT)&&s.equals(this.mapRootToExpressionConfig.get(t.NO_ROOT),o)||(r=!0,this.mapRootToParsedExpression.set(t.NO_ROOT,d.parse(o)),
this.mapRootToExpressionConfig.set(t.NO_ROOT,s.deepClone(o))),e&&r&&this._onExpressionChange.fire()},t.prototype.matches=function(e){var i,n=this.contextService.getWorkspaceFolder(e);i=n&&this.mapRootToParsedExpression.has(n.uri.toString())?this.mapRootToParsedExpression.get(n.uri.toString()):this.mapRootToParsedExpression.get(t.NO_ROOT);var r;return r=n?h.normalize(p.relative(n.uri.fsPath,e.fsPath)):e.fsPath,!!i(r)},t.NO_ROOT=null,t=r([o(2,a.IWorkspaceContextService),o(3,u.IConfigurationService)],t)}(c.Disposable);t.ResourceGlobMatcher=g}),define(e[174],t([1,0,4,58]),function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var i=e.call(this)||this;return i._editor=t,i._altListeningMouse=!1,i._altMouseTriggered=!1,i._register(i._editor.onMouseDown(function(e){i._altListeningMouse&&(i._altMouseTriggered=!0)})),i._register(i._editor.onKeyDown(function(e){e.equals(512)&&(i._altListeningMouse||(i._altMouseTriggered=!1),i._altListeningMouse=!0)})),
i._register(i._editor.onKeyUp(function(e){e.equals(512)&&(i._altMouseTriggered&&e.preventDefault(),i._altListeningMouse=!1,i._altMouseTriggered=!1)})),i}return i(t,e),t.prototype.getId=function(){return t.ID},t.ID="editor.contrib.menuPreventer",t}(n.Disposable);t.MenuPreventer=o,r.registerEditorContribution(o)}),define(e[377],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSimpleEditorOptions=function(){return{wordWrap:"on",overviewRulerLanes:0,glyphMargin:!1,lineNumbers:"off",folding:!1,selectOnLineNumbers:!1,hideCursorInOverviewRuler:!0,selectionHighlight:!1,scrollbar:{horizontal:"hidden"},lineDecorationsWidth:0,overviewRulerBorder:!1,scrollBeyondLastLine:!1,renderLineHighlight:"none",fixedOverflowWidgets:!0,acceptSuggestionOnEnter:"smart",minimap:{enabled:!1}}}}),define(e[378],t([1,0,2,92,4,58,28,36,9]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,i,r,o){var a=e.call(this)||this
;return a._editor=t,a._notificationService=i,a._configurationService=r,a._storageService=o,a._isDisabled=a._storageService.getBoolean("editor.neverPromptForLargeFiles",0,!1),a._register(a._editor.onDidChangeModel(function(e){var t=a._editor.getModel();if(t&&!a._isDisabled&&t.isTooLargeForTokenization()){var i=n.localize({key:"largeFile",comment:["Variable 0 will be a file name."]},"{0}: tokenization, wrapping and folding have been turned off for this large file in order to reduce memory usage and avoid freezing or crashing.",s.basename(t.uri.path));a._notificationService.prompt(l.Severity.Info,i,[{label:n.localize("neverShowAgain","OK. Never show again"),run:function(){a._isDisabled=!0,a._storageService.store("editor.neverPromptForLargeFiles",!0,0)}},{label:n.localize("removeOptimizations","Forcefully enable features"),run:function(){a._configurationService.updateValue("editor.largeFileOptimizations",!1).then(function(){
a._notificationService.info(n.localize("reopenFilePrompt","Please reopen file in order for this setting to take effect."))},function(e){a._notificationService.error(e)})}}])}})),a}return i(t,e),t.prototype.getId=function(){return t.ID},t.ID="editor.contrib.largeFileOptimizationsWarner",t=r([o(1,l.INotificationService),o(2,d.IConfigurationService),o(3,u.IStorageService)],t)}(a.Disposable);t.LargeFileOptimizationsWarner=p,c.registerEditorContribution(p)}),define(e[173],t([1,0,348,20,51,4,71,58,10,17,50]),function(e,t,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(i,r){var o=e.call(this)||this;if(s.isLinux){var c=i.getConfiguration().contribInfo.selectionClipboard;o._register(i.onDidChangeConfiguration(function(e){e.contribInfo&&(c=i.getConfiguration().contribInfo.selectionClipboard)})),o._register(i.onMouseDown(function(e){if(c&&i.getModel()&&e.event.middleButton){if(e.event.preventDefault(),i.focus(),
e.target.position&&i.setPosition(e.target.position),e.target.type===a.MouseTargetType.SCROLLBAR)return;process.nextTick(function(){n.clipboard.readText("selection")})}}));var u=o._register(new p.RunOnceScheduler(function(){var e=i.getModel();if(e){var r=i.getSelections();(r=r.slice(0)).sort(h.Range.compareRangesUsingStarts);for(var o=0,s=0;s<r.length;s++){if((c=r[s]).isEmpty())return;o+=e.getValueLengthInRange(c)}if(!(o>t.SELECTION_LENGTH_LIMIT)){for(var a=[],s=0;s<r.length;s++){var c=r[s];a.push(e.getValueInRange(c,l.EndOfLinePreference.TextDefined))}var u=a.join(e.getEOL());n.clipboard.writeText(u,"selection")}}},100));o._register(i.onDidChangeCursorSelection(function(e){c&&u.schedule()}))}return o}return i(t,e),t.prototype.getId=function(){return t.ID},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.SELECTION_LENGTH_LIMIT=65536,t.ID="editor.contrib.selectionClipboard",t=r([o(1,d.IContextKeyService)],t)}(c.Disposable);t.SelectionClipboard=g,u.registerEditorContribution(g)}),
define(e[382],t([1,0,7,87,5,4,20,13,231,151,50,82,37,496,136,449,3,26,41,11,174,377,98,40,173,256]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachSuggestEnabledInputBoxStyler=function(e,t,i){return E.attachStyler(t,{inputBackground:i&&i.inputBackground||b.inputBackground,inputForeground:i&&i.inputForeground||b.inputForeground,inputBorder:i&&i.inputBorder||b.inputBorder,inputPlaceholderForeground:i&&i.inputPlaceholderForeground||b.inputPlaceholderForeground},e)};var x=function(e){function t(t,i,r,o,s,c,p,h){var f=e.call(this)||this;f._onShouldFocusResults=new a.Emitter,f.onShouldFocusResults=f._onShouldFocusResults.event,f._onEnter=new a.Emitter,f.onEnter=f._onEnter.event,f._onInputDidChange=new a.Emitter,f.onInputDidChange=f._onInputDidChange.event,f.disposables=[],f.stylingContainer=n.append(i,n.$(".suggest-input-container")),
f.placeholderText=n.append(f.stylingContainer,n.$(".suggest-input-placeholder",null,c.placeholderText||""));var S=D.mixin(I.getSimpleEditorOptions(),function(e){return{fontSize:13,lineHeight:20,wordWrap:"off",scrollbar:{vertical:"hidden"},roundedSelection:!1,renderIndentGuides:!1,cursorWidth:1,fontFamily:' -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", "Ubuntu", "Droid Sans", sans-serif',ariaLabel:e||"",snippetSuggestions:"none",suggest:{filterGraceful:!1},iconsInSuggestions:!1}}(o));f.inputWidget=p.createInstance(d.CodeEditorWidget,f.stylingContainer,S,{contributions:[y.SuggestController,m.SnippetController2,v.ContextMenuController,C.MenuPreventer,A.SelectionClipboard],isSimpleWidget:!0});var b=u.URI.parse(s);f.inputWidget.setModel(h.createModel("",null,b,!0)),f.disposables.push(f.inputWidget.onDidPaste(function(){return f.setValue(f.getValue())})),f.disposables.push(f.inputWidget.onDidFocusEditorText(function(){c.focusContextKey&&c.focusContextKey.set(!0),
n.addClass(f.stylingContainer,"synthetic-focus")})),f.disposables.push(f.inputWidget.onDidBlurEditorText(function(){c.focusContextKey&&c.focusContextKey.set(!1),n.removeClass(f.stylingContainer,"synthetic-focus")}));var E=a.chain(f.inputWidget.onKeyDown);E.filter(function(e){return 3===e.keyCode}).on(function(e){e.preventDefault(),f._onEnter.fire()},f,f.disposables),E.filter(function(e){return 18===e.keyCode&&(l.isMacintosh?e.metaKey:e.ctrlKey)}).on(function(){return f._onShouldFocusResults.fire()},f,f.disposables);var w=f.getValue();f.disposables.push(f.inputWidget.getModel().onDidChangeContent(function(){var e=f.getValue();f.placeholderText.style.visibility=e?"hidden":"visible",w.trim()!==e.trim()&&(f._onInputDidChange.fire(),w=e)}));var _={provideResults:r.provideResults,sortKey:r.sortKey||function(e){return e},triggerCharacters:r.triggerCharacters||[]};return f.disposables.push(g.CompletionProviderRegistry.register({scheme:b.scheme,pattern:"**/"+b.path,hasAccessToAllModels:!0},{
triggerCharacters:_.triggerCharacters,provideCompletionItems:function(e,t,i){var n=e.getValue(),o=n.lastIndexOf(" ",t.column-1)+1,s=t.column-o-1;return s>0&&-1===_.triggerCharacters.indexOf(n[o])?{suggestions:[]}:{suggestions:r.provideResults(n).map(function(e){return{label:e,insertText:e,overwriteBefore:s,sortText:_.sortKey(e),kind:17}})}}})),f}return i(t,e),t.prototype.setValue=function(e){e=e.replace(/\s/g," ");var t=new h.Range(1,1,1,this.getValue().length+1);this.inputWidget.executeEdits("suggestEnabledInput.setValue",[_.EditOperation.replace(t,e)]),this.inputWidget.setScrollTop(0),this.inputWidget.setPosition(new p.Position(1,e.length+1))},t.prototype.getValue=function(){return this.inputWidget.getValue()},t.prototype.style=function(e){this.stylingContainer.style.backgroundColor=e.inputBackground&&e.inputBackground.toString(),this.stylingContainer.style.color=e.inputForeground&&e.inputForeground.toString(),
this.placeholderText.style.color=e.inputPlaceholderForeground&&e.inputPlaceholderForeground.toString(),this.stylingContainer.style.borderWidth="1px",this.stylingContainer.style.borderStyle="solid",this.stylingContainer.style.borderColor=e.inputBorder?e.inputBorder.toString():"transparent";var t=this.stylingContainer.getElementsByClassName("cursor")[0];t&&(t.style.backgroundColor=e.inputForeground&&e.inputForeground.toString())},t.prototype.focus=function(e){this.inputWidget.focus(),e&&this.inputWidget.getValue()&&this.selectAll()},t.prototype.layout=function(e){this.inputWidget.layout(e),this.placeholderText.style.width=e.width+"px"},t.prototype.selectAll=function(){this.inputWidget.setSelection(new h.Range(1,1,1,this.getValue().length+1))},t.prototype.dispose=function(){this.disposables=c.dispose(this.disposables),e.prototype.dispose.call(this)},t=r([o(6,S.IInstantiationService),o(7,f.IModelService)],t)}(s.Widget);t.SuggestEnabledInput=x,w.registerThemingParticipant(function(e,t){
var i=e.getColor(b.selectionBackground);i&&t.addRule(".suggest-input-container .monaco-editor .focused .selected-text { background-color: "+i+"; }");var n=e.getColor(b.inputBackground);b.inputBackground&&t.addRule(".suggest-input-container .monaco-editor .selected-text { background-color: "+n+"; }");var r=e.getColor(b.inputForeground);r&&t.addRule(".suggest-input-container .monaco-editor .view-line span.inline-selected-text { color: "+r+"; }")})}),define(e[392],t([1,0,2,9,8,44,14,23]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r._configurationService=n,r}return i(t,e),t.prototype.run=function(){var e=!this._configurationService.getValue("editor.minimap.enabled");return this._configurationService.updateValue("editor.minimap.enabled",e,1)},t.ID="editor.action.toggleMinimap",t.LABEL=n.localize("toggleMinimap","View: Toggle Minimap"),t=r([o(2,s.IConfigurationService)],t)}(l.Action)
;t.ToggleMinimapAction=d;a.Registry.as(c.Extensions.WorkbenchActions).registerWorkbenchAction(new u.SyncActionDescriptor(d,d.ID,d.LABEL),"View: Toggle Minimap"),u.MenuRegistry.appendMenuItem(u.MenuId.MenubarViewMenu,{group:"5_editor",command:{id:d.ID,title:n.localize({key:"miToggleMinimap",comment:["&& denotes a mnemonic"]},"Toggle &&Minimap")},order:2})}),define(e[397],t([1,0,2,20,8,14,23,44,9,107,10]),function(e,t,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.configurationService=n,r}return i(t,e),t.prototype.run=function(){var e="ctrlCmd"===this.configurationService.getValue("editor").multiCursorModifier?"alt":"ctrlCmd";return this.configurationService.updateValue(t.multiCursorModifierConfigurationKey,e,1)},t.ID="workbench.action.toggleMultiCursorModifier",t.LABEL=n.localize("toggleLocation","Toggle Multi-Cursor Modifier"),t.multiCursorModifierConfigurationKey="editor.multiCursorModifier",
t=r([o(2,d.IConfigurationService)],t)}(c.Action);t.ToggleMultiCursorModifierAction=g;var f=new h.RawContextKey("multiCursorModifier","altKey"),v=function(){function e(e,t){var i=this;this.configurationService=e,this._multiCursorModifier=f.bindTo(t),e.onDidChangeConfiguration(function(e){e.affectsConfiguration("editor.multiCursorModifier")&&i._update()})}return e.prototype._update=function(){var e="ctrlCmd"===this.configurationService.getValue("editor").multiCursorModifier?"ctrlCmd":"altKey";this._multiCursorModifier.set(e)},e=r([o(0,d.IConfigurationService),o(1,h.IContextKeyService)],e)}();a.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(v,3);a.Registry.as(u.Extensions.WorkbenchActions).registerWorkbenchAction(new l.SyncActionDescriptor(g,g.ID,g.LABEL),"Toggle Multi-Cursor Modifier"),l.MenuRegistry.appendMenuItem(l.MenuId.MenubarSelectionMenu,{group:"3_multi",command:{id:g.ID,title:n.localize("miMultiCursorAlt","Switch to Alt+Click for Multi-Cursor")},when:f.isEqualTo("ctrlCmd"),order:1}),
l.MenuRegistry.appendMenuItem(l.MenuId.MenubarSelectionMenu,{group:"3_multi",command:{id:g.ID,title:s.isMacintosh?n.localize("miMultiCursorCmd","Switch to Cmd+Click for Multi-Cursor"):n.localize("miMultiCursorCtrl","Switch to Ctrl+Click for Multi-Cursor")},when:f.isEqualTo("altKey"),order:1})}),define(e[399],t([1,0,2,9,8,44,14,23]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r._configurationService=n,r}return i(t,e),t.prototype.run=function(){var e=!this._configurationService.getValue("editor.renderControlCharacters");return this._configurationService.updateValue("editor.renderControlCharacters",e,1)},t.ID="editor.action.toggleRenderControlCharacter",t.LABEL=n.localize("toggleRenderControlCharacters","View: Toggle Control Characters"),t=r([o(2,s.IConfigurationService)],t)}(l.Action);t.ToggleRenderControlCharacterAction=d
;a.Registry.as(c.Extensions.WorkbenchActions).registerWorkbenchAction(new u.SyncActionDescriptor(d,d.ID,d.LABEL),"View: Toggle Control Characters"),u.MenuRegistry.appendMenuItem(u.MenuId.MenubarViewMenu,{group:"5_editor",command:{id:d.ID,title:n.localize({key:"miToggleRenderControlCharacters",comment:["&& denotes a mnemonic"]},"Toggle &&Control Characters")},order:4})}),define(e[401],t([1,0,2,9,8,44,14,23]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r._configurationService=n,r}return i(t,e),t.prototype.run=function(){var e;return e="none"===this._configurationService.getValue("editor.renderWhitespace")?"all":"none",this._configurationService.updateValue("editor.renderWhitespace",e,1)},t.ID="editor.action.toggleRenderWhitespace",t.LABEL=n.localize("toggleRenderWhitespace","View: Toggle Render Whitespace"),t=r([o(2,s.IConfigurationService)],t)}(l.Action);t.ToggleRenderWhitespaceAction=d
;a.Registry.as(c.Extensions.WorkbenchActions).registerWorkbenchAction(new u.SyncActionDescriptor(d,d.ID,d.LABEL),"View: Toggle Render Whitespace"),u.MenuRegistry.appendMenuItem(u.MenuId.MenubarViewMenu,{group:"5_editor",command:{id:d.ID,title:n.localize({key:"miToggleRenderWhitespace",comment:["&& denotes a mnemonic"]},"Toggle &&Render Whitespace")},order:3})}),define(e[404],t([1,0,2,58,94,23,10,4,13,229,85,28]),function(e,t,n,s,a,c,l,u,d,p,h,g){"use strict";function f(e,t,i){var n=t.getValue(e.uri,"editor"),r=!n||"string"!=typeof n.wordWrap&&"boolean"!=typeof n.wordWrap?void 0:n.wordWrap;!0===r?r="on":!1===r&&(r="off");var o=n&&"boolean"==typeof n.wordWrapMinified?n.wordWrapMinified:void 0,s=function(e,t){return t.getTransientModelProperty(e,m)}(e,i);return{configuredWordWrap:r,configuredWordWrapMinified:"boolean"==typeof o?o:p.EDITOR_DEFAULTS.wordWrapMinified,transientState:s}}function v(e){return!!e&&("output"!==e.scheme&&"vscode"!==e.scheme)}Object.defineProperty(t,"__esModule",{value:!0})
;var m="transientWordWrapState",y="isWordWrapMinified",S="isDominatedByLongLines",b="inDiffEditor",E="editor.action.toggleWordWrap",w=function(e){function t(){return e.call(this,{id:E,label:n.localize("toggle.wordwrap","View: Toggle Word Wrap"),alias:"View: Toggle Word Wrap",precondition:null,kbOpts:{kbExpr:null,primary:568,weight:100}})||this}return i(t,e),t.prototype.run=function(e,t){if(t.getConfiguration().wrappingInfo.inDiffEditor){e.get(g.INotificationService).info(n.localize("wordWrap.notInDiffEditor","Cannot toggle word wrap in a diff editor."))}else{var i=e.get(h.ITextResourceConfigurationService),r=e.get(a.ICodeEditorService),o=t.getModel();if(v(o.uri)){!function(e,t,i){i.setTransientModelProperty(e,m,t)}(o,function(e,t){if(t.transientState)return{configuredWordWrap:t.configuredWordWrap,configuredWordWrapMinified:t.configuredWordWrapMinified,transientState:null};var i;return i=e.getConfiguration().wrappingInfo.isWordWrapMinified?{forceWordWrap:"off",forceWordWrapMinified:!1
}:"off"!==t.configuredWordWrap?{forceWordWrap:"off",forceWordWrapMinified:!1}:{forceWordWrap:"on",forceWordWrapMinified:t.configuredWordWrapMinified},{configuredWordWrap:t.configuredWordWrap,configuredWordWrapMinified:t.configuredWordWrapMinified,transientState:i}}(t,f(o,i,r)).transientState,r)}}},t}(s.EditorAction),C=function(e){function t(t,i,n,r){var o=e.call(this)||this;o.editor=t,o.contextKeyService=i,o.configurationService=n,o.codeEditorService=r;var s=o.editor.getConfiguration(),a=o.contextKeyService.createKey(y,o._isWordWrapMinified(s)),c=o.contextKeyService.createKey(S,o._isDominatedByLongLines(s)),l=o.contextKeyService.createKey(b,o._inDiffEditor(s)),u=!1;o._register(t.onDidChangeConfiguration(function(e){if(e.wrappingInfo){var t=o.editor.getConfiguration();a.set(o._isWordWrapMinified(t)),c.set(o._isDominatedByLongLines(t)),l.set(o._inDiffEditor(t)),u||d()}})),o._register(t.onDidChangeModel(function(e){d()})),o._register(r.onDidChangeTransientModelProperty(function(){d()}));var d=function(){
var e=o.editor.getModel();if(e){var t=o.editor.getConfiguration();if(!o._inDiffEditor(t)&&v(e.uri)){var i=f(e,o.configurationService,o.codeEditorService);try{u=!0,o._applyWordWrapState(i)}finally{u=!1}}}};return o}return i(t,e),t.prototype._applyWordWrapState=function(e){e.transientState?this.editor.updateOptions({wordWrap:e.transientState.forceWordWrap,wordWrapMinified:e.transientState.forceWordWrapMinified}):this.editor.updateOptions({wordWrap:e.configuredWordWrap,wordWrapMinified:e.configuredWordWrapMinified})},t.prototype._isWordWrapMinified=function(e){return e.wrappingInfo.isWordWrapMinified},t.prototype._isDominatedByLongLines=function(e){return e.wrappingInfo.isDominatedByLongLines},t.prototype._inDiffEditor=function(e){return e.wrappingInfo.inDiffEditor},t.prototype.getId=function(){return t._ID},t._ID="editor.contrib.toggleWordWrapController",t=r([o(1,l.IContextKeyService),o(2,h.ITextResourceConfigurationService),o(3,a.ICodeEditorService)],t)}(u.Disposable);s.registerEditorContribution(C),
s.registerEditorAction(w),c.MenuRegistry.appendMenuItem(c.MenuId.EditorTitle,{command:{id:E,title:n.localize("unwrapMinified","Disable wrapping for this file"),iconLocation:{dark:d.URI.parse(e.toUrl("vs/workbench/parts/codeEditor/electron-browser/media/WordWrap_16x.svg"))}},group:"navigation",order:1,when:l.ContextKeyExpr.and(l.ContextKeyExpr.not(b),l.ContextKeyExpr.has(S),l.ContextKeyExpr.has(y))}),c.MenuRegistry.appendMenuItem(c.MenuId.EditorTitle,{command:{id:E,title:n.localize("wrapMinified","Enable wrapping for this file"),iconLocation:{dark:d.URI.parse(e.toUrl("vs/workbench/parts/codeEditor/electron-browser/media/WordWrap_16x.svg"))}},group:"navigation",order:1,when:l.ContextKeyExpr.and(l.ContextKeyExpr.not(b),l.ContextKeyExpr.has(S),l.ContextKeyExpr.not(y))}),c.MenuRegistry.appendMenuItem(c.MenuId.MenubarViewMenu,{group:"5_editor",command:{id:E,title:n.localize({key:"miToggleWordWrap",comment:["&& denotes a mnemonic"]},"Toggle &&Word Wrap")},order:1})}),
define(e[414],t([1,0,3,10,9,36,58,28,453,94]),function(e,t,n,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(e){function t(t,i,n,r,o,s,a){return e.call(this,!1,t,i,n,r,o,s,a)||this}return i(t,e),t=r([o(1,s.IContextKeyService),o(2,p.ICodeEditorService),o(3,u.INotificationService),o(4,n.IInstantiationService),o(5,c.IStorageService),o(6,a.IConfigurationService)],t)}(d.ReferencesController);t.WorkbenchReferencesController=h,l.registerEditorContribution(h)}),define(e[111],t([1,0,13,25,35,39,20,21,15,4,27,22]),function(e,t,n,s,a,c,l,u,d,p,h,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e){var t=this;this.contextService=e;var i=function(){return t._roots=t.contextService.getWorkspace().folders.map(function(e){return new v(e.uri,void 0,!1,!1,!0,e.name)})};this._listener=this.contextService.onDidChangeWorkspaceFolders(function(){return i()}),i()}return Object.defineProperty(e.prototype,"roots",{get:function(){return this._roots
},enumerable:!0,configurable:!0}),e.prototype.findAll=function(e){return this.roots.map(function(t){return t.find(e)}).filter(function(e){return!!e})},e.prototype.findClosest=function(e){var t=this.contextService.getWorkspaceFolder(e);if(t){var i=this.roots.filter(function(e){return e.resource.toString()===t.uri.toString()}).pop();if(i)return i.find(e)}return null},e.prototype.dispose=function(){this._listener=p.dispose(this._listener)},e=r([o(0,u.IWorkspaceContextService)],e)}();t.Model=f;var v=function(){function e(e,t,i,n,r,o,s,c,l){void 0===o&&(o=a.basenameOrAuthority(e)),this.root=t,this.resource=e,this._name=o,this.isDirectory=!!r,this._isSymbolicLink=!!i,this._isReadonly=!!n,this.etag=c,this.mtime=s,this._isError=!!l,this.root||(this.root=this),this.isDirectoryResolved=!1}return Object.defineProperty(e.prototype,"isSymbolicLink",{get:function(){return this._isSymbolicLink},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDirectory",{get:function(){return this._isDirectory},
set:function(e){e!==this._isDirectory&&(this._isDirectory=e,this._isDirectory?this.children=new Map:this.children=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadonly",{get:function(){return this._isReadonly},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isError",{get:function(){return this._isError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.updateName=function(e){this.parent&&this.parent.removeChild(this),this._name=e,this.parent&&this.parent.addChild(this)},e.prototype.getId=function(){return this.resource.toString()},Object.defineProperty(e.prototype,"isRoot",{get:function(){return this===this.root},enumerable:!0,configurable:!0}),e.create=function(t,i,n,r){void 0===r&&(r=!1);var o=new e(t.resource,i,t.isSymbolicLink,t.isReadonly,t.isDirectory,t.name,t.mtime,t.etag,r)
;if(o.isDirectory&&(o.isDirectoryResolved=!!t.children||!!n&&n.some(function(e){return a.isEqualOrParent(e,o.resource)}),t.children))for(var s=0,c=t.children.length;s<c;s++){var l=e.create(t.children[s],i,n);l.parent=o,o.addChild(l)}return o},e.mergeLocalWithDisk=function(t,i){if(t.resource.toString()===i.resource.toString()){var n=t.isDirectory||i.isDirectory;if((!n||!i.isDirectoryResolved||t.isDirectoryResolved)&&(i.resource=t.resource,i.updateName(t.name),i.isDirectory=t.isDirectory,i.mtime=t.mtime,i.isDirectoryResolved=t.isDirectoryResolved,i._isSymbolicLink=t.isSymbolicLink,i._isReadonly=t.isReadonly,i._isError=t.isError,n&&t.isDirectoryResolved)){var r=new c.ResourceMap;i.children&&i.children.forEach(function(e){r.set(e.resource,e)}),i.children=new Map,t.children.forEach(function(t){var n=r.get(t.resource);n?(e.mergeLocalWithDisk(t,n),n.parent=i,i.addChild(n)):(t.parent=i,i.addChild(t))})}}},e.prototype.addChild=function(e){this.children||(this.isDirectory=!0),e.parent=this,e.updateResource(!1),
this.children.set(this.getPlatformAwareName(e.name),e)},e.prototype.getChild=function(e){if(this.children)return this.children.get(this.getPlatformAwareName(e))},e.prototype.getChildrenArray=function(){if(this.children){var e=[];return this.children.forEach(function(t){e.push(t)}),e}},e.prototype.getChildrenCount=function(){return this.children?this.children.size:0},e.prototype.removeChild=function(e){this.children.delete(this.getPlatformAwareName(e.name))},e.prototype.getPlatformAwareName=function(e){return l.isLinux||!e?e:e.toLowerCase()},e.prototype.move=function(e,t,i){var n=this;t||(t=function(e){e()}),this.parent.removeChild(this),t(function(){e.removeChild(n),e.addChild(n),n.updateResource(!0),i&&i()})},e.prototype.updateResource=function(e){this.resource=a.joinPath(this.parent.resource,this.name),e&&this.isDirectory&&this.children&&this.children.forEach(function(e){e.updateResource(!0)})},e.prototype.rename=function(e){this.updateName(e.name),this.mtime=e.mtime,this.updateResource(!0)},
e.prototype.find=function(e){return e&&this.resource.scheme===e.scheme&&g.equalsIgnoreCase(this.resource.authority,e.authority)&&(a.hasToIgnoreCase(e)?g.startsWithIgnoreCase(e.path,this.resource.path):g.startsWith(e.path,this.resource.path))?this.findByPath(g.rtrim(e.path,s.sep),this.resource.path.length):null},e.prototype.findByPath=function(e,t){if(s.isEqual(g.rtrim(this.resource.path,s.sep),e,!l.isLinux))return this;if(this.children){for(;t<e.length&&e[t]===s.sep;)t++;var i=e.indexOf(s.sep,t);-1===i&&(i=e.length);var n=e.substring(t,i),r=this.children.get(this.getPlatformAwareName(n));if(r)return r.findByPath(e,i)}return null},e}();t.ExplorerItem=v;var m=function(e){function t(i,r){var o=e.call(this,n.URI.file(""),r,!1,!1,!1,t.NAME)||this;return o.id=t.ID++,o.isDirectoryResolved=i,o.directoryPlaceholder=i,o}return i(t,e),t.prototype.destroy=function(){this.parent.removeChild(this),this.isDirectoryResolved=void 0,this.isDirectory=void 0,this.mtime=void 0},t.prototype.getId=function(){
return"new-stat-placeholder:"+this.id+":"+this.parent.resource.toString()},t.prototype.isDirectoryPlaceholder=function(){return this.directoryPlaceholder},t.prototype.addChild=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.removeChild=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.move=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.rename=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.find=function(e){return null},t.addNewStatPlaceholder=function(e,i){var n=new t(i,e.root);return n.parent=e,e.addChild(n),n},t.NAME="",t.ID=0,t}(v);t.NewStatPlaceholder=m;var y=function(){function e(e,t){this._editor=e,this._group=t}return Object.defineProperty(e.prototype,"editor",{get:function(){return this._editor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editorIndex",{get:function(){
return this._group.getIndexOfEditor(this.editor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupId",{get:function(){return this._group.id},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return"openeditor:"+this.groupId+":"+this.editorIndex+":"+this.editor.getName()+":"+this.editor.getDescription()},e.prototype.isPreview=function(){return this._group.previewEditor===this.editor},e.prototype.isUntitled=function(){return!!d.toResource(this.editor,{supportSideBySide:!0,filter:h.Schemas.untitled})},e.prototype.isDirty=function(){return this.editor.isDirty()},e.prototype.getResource=function(){return d.toResource(this.editor,{supportSideBySide:!0})},e}();t.OpenEditor=y}),define(e[201],t([1,0,13,111,15,196,428]),function(e,t,i,n,r,o,s){"use strict";function a(e,t,o){if(i.URI.isUri(e))return e;var a=t.lastFocusedList;if(a&&a.isDOMFocused()){var c
;if(a instanceof s.List){var l=a.getFocusedElements();l.length&&(c=l[0])}else c=a.getFocus();if(c instanceof n.ExplorerItem)return c.resource;if(c instanceof n.OpenEditor)return c.getResource()}return r.toResource(o.activeEditor,{supportSideBySide:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.getResourceForCommand=a,t.getMultiSelectedResources=function(e,t,r){var c=t.lastFocusedList;if(c&&c.isDOMFocused()){if(c instanceof o.Tree){var l=c.getSelection().map(function(e){return e.resource}),u=c.getFocus(),d=i.URI.isUri(e)?e.toString():u instanceof n.ExplorerItem?u.resource.toString():void 0;if(l.some(function(e){return i.URI.isUri(e)&&e.toString()===d}))return l}if(c instanceof s.List){var l=c.getSelectedElements().filter(function(e){return e instanceof n.OpenEditor}).map(function(e){return e.getResource()}),p=c.getFocusedElements(),h=p.length?p[0]:void 0,g=i.URI.isUri(e)?e.toString():h instanceof n.OpenEditor?h.getResource().toString():void 0;if(l.some(function(e){return e.toString()===g}))return l}}
var f=a(e,t,r);return f?[f]:[]}}),define(e[429],t([1,0,5,2,21,26,4]),function(e,t,i,n,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var r=this;this.model=e,this.label=n.localize("label","Explorer"),this._onDidChange=new i.Emitter,this.toDispose=[],this.toDispose.push(t.onDidChangeWorkspaceFolders(function(e){r._onDidChange.fire(e.changed.concat(e.added).map(function(e){return e.uri}))}))}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e.prototype.changed=function(e){this._onDidChange.fire(e)},e.prototype.provideDecorations=function(e){var t=this.model.findClosest(e);return t&&t.isRoot&&t.isError?{tooltip:n.localize("canNotResolve","Can not resolve workspace folder"),letter:"!",color:a.listInvalidItemForeground}:t&&t.isSymbolicLink?{tooltip:n.localize("symbolicLlink","Symbolic Link"),letter:"⤷"}:void 0},e.prototype.dispose=function(){return c.dispose(this.toDispose)},
e=r([o(1,s.IWorkspaceContextService)],e)}();t.ExplorerDecorationsProvider=l}),define(e[178],t([1,0,5,8,3,10]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OUTPUT_MIME="text/x-code-output",t.OUTPUT_SCHEME="output",t.OUTPUT_MODE_ID="Log",t.LOG_MIME="text/x-code-log-output",t.LOG_SCHEME="log",t.LOG_MODE_ID="log",t.OUTPUT_PANEL_ID="workbench.panel.output",t.Extensions={OutputChannels:"workbench.contributions.outputChannels"},t.OUTPUT_SERVICE_ID="outputService",t.MAX_OUTPUT_LENGTH=1e6,t.CONTEXT_IN_OUTPUT=new o.RawContextKey("inOutput",!1),t.CONTEXT_ACTIVE_LOG_OUTPUT=new o.RawContextKey("activeLogOutput",!1),t.IOutputService=r.createDecorator(t.OUTPUT_SERVICE_ID);var s=function(){function e(){this.channels=new Map,this._onDidRegisterChannel=new i.Emitter,this.onDidRegisterChannel=this._onDidRegisterChannel.event,this._onDidRemoveChannel=new i.Emitter,this.onDidRemoveChannel=this._onDidRemoveChannel.event}return e.prototype.registerChannel=function(e){
this.channels.has(e.id)||(this.channels.set(e.id,e),this._onDidRegisterChannel.fire(e.id))},e.prototype.getChannels=function(){var e=[];return this.channels.forEach(function(t){return e.push(t)}),e},e.prototype.getChannel=function(e){return this.channels.get(e)},e.prototype.removeChannel=function(e){this.channels.delete(e),this._onDidRemoveChannel.fire(e)},e}();n.Registry.add(t.Extensions.OutputChannels,new s)}),define(e[144],t([1,0,2,13,7,6,4,87,5,66,51,133,3,33,21,14,41,11,26,46,228,53,71]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var D=function(e){function t(t,i){var n=e.call(this)||this;return n.editor=t,n.title=i,n.create(),n._register(n.editor.onDidChangeConfiguration(function(){return n.layout()})),n._register(n.editor.onDidLayoutChange(function(){return n.layout()})),n}return i(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"heightInLines",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afterLineNumber",{get:function(){return 0},enumerable:!0,configurable:!0}),t.prototype.create=function(){var e=this;this._domNode=a.$(".settings-header-widget"),this.titleContainer=a.append(this._domNode,a.$(".title-container")),this.title&&(a.append(this.titleContainer,a.$(".title")).textContent=this.title),this.messageElement=a.append(this.titleContainer,a.$(".message")),this.title&&(this.messageElement.style.paddingLeft="12px"),this.editor.changeViewZones(function(t){e.id=t.addZone(e),e.layout()})},t.prototype.setMessage=function(e){this.messageElement.textContent=e},t.prototype.layout=function(){var e=this.editor.getConfiguration();this.titleContainer.style.fontSize=e.fontInfo.fontSize+"px",e.contribInfo.folding||(this.titleContainer.style.paddingLeft="6px")},t.prototype.dispose=function(){var t=this;this.editor.changeViewZones(function(e){e.removeZone(t.id)}),
e.prototype.dispose.call(this)},t}(u.Widget);t.SettingsHeaderWidget=D;var A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClick=t._register(new d.Emitter),t.onClick=t._onClick.event,t}return i(t,e),t.prototype.create=function(){e.prototype.create.call(this),this.toggleMessage(!0)},t.prototype.toggleMessage=function(e){e?this.setMessage(n.localize("defaultSettings","Place your settings in the right hand side editor to override.")):this.setMessage(n.localize("noSettingsFound","No Settings Found."))},t}(D);t.DefaultSettingsHeaderWidget=A;var x=function(e){function t(t,i){var n=e.call(this)||this;return n.editor=t,n.settingsGroup=i,n._onToggled=n._register(new d.Emitter),n.onToggled=n._onToggled.event,n.create(),n._register(n.editor.onDidChangeConfiguration(function(){return n.layout()})),n._register(n.editor.onDidLayoutChange(function(){return n.layout()})),n._register(n.editor.onDidChangeCursorPosition(function(e){return n.onCursorChange(e)})),n}return i(t,e),
Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightInLines",{get:function(){return 1.5},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afterLineNumber",{get:function(){return this._afterLineNumber},enumerable:!0,configurable:!0}),t.prototype.create=function(){var e=this;this._domNode=a.$(".settings-group-title-widget"),this.titleContainer=a.append(this._domNode,a.$(".title-container")),this.titleContainer.tabIndex=0,this.onclick(this.titleContainer,function(){return e.toggle()}),this.onkeydown(this.titleContainer,function(t){return e.onKeyDown(t)});var t=this._register(a.trackFocus(this.titleContainer));this._register(t.onDidFocus(function(){return e.toggleFocus(!0)})),this._register(t.onDidBlur(function(){return e.toggleFocus(!1)})),this.icon=a.append(this.titleContainer,a.$(".expand-collapse-icon")),this.title=a.append(this.titleContainer,a.$(".title")),
this.title.textContent=this.settingsGroup.title+" ("+this.settingsGroup.sections.reduce(function(e,t){return e+t.settings.length},0)+")",this.layout()},t.prototype.render=function(){var e=this;this._afterLineNumber=this.settingsGroup.range.startLineNumber-2,this.editor.changeViewZones(function(t){e.id=t.addZone(e),e.layout()})},t.prototype.toggleCollapse=function(e){a.toggleClass(this.titleContainer,"collapsed",e)},t.prototype.toggleFocus=function(e){a.toggleClass(this.titleContainer,"focused",e)},t.prototype.isCollapsed=function(){return a.hasClass(this.titleContainer,"collapsed")},t.prototype.layout=function(){var e=this.editor.getConfiguration(),t=this.editor.getLayoutInfo();this._domNode.style.width=t.contentWidth-t.verticalScrollbarWidth+"px",this.titleContainer.style.lineHeight=e.lineHeight+3+"px",this.titleContainer.style.height=e.lineHeight+3+"px",this.titleContainer.style.fontSize=e.fontInfo.fontSize+"px",this.icon.style.minWidth=this.getIconSize(16)+"px"},t.prototype.getIconSize=function(e){
var t=this.editor.getConfiguration().fontInfo.fontSize;return t>8?Math.max(t,e):12},t.prototype.onKeyDown=function(e){switch(e.keyCode){case 3:case 10:this.toggle();break;case 15:this.collapse(!0);break;case 17:this.collapse(!1);break;case 16:if(this.settingsGroup.range.startLineNumber-3!=1){this.editor.focus();var t=this.settingsGroup.range.startLineNumber-2;this.editor.setPosition({lineNumber:t,column:this.editor.getModel().getLineMinColumn(t)})}break;case 18:var i=this.isCollapsed()?this.settingsGroup.range.startLineNumber:this.settingsGroup.range.startLineNumber-1;this.editor.focus(),this.editor.setPosition({lineNumber:i,column:this.editor.getModel().getLineMinColumn(i)})}},t.prototype.toggle=function(){this.collapse(!this.isCollapsed())},t.prototype.collapse=function(e){e!==this.isCollapsed()&&(a.toggleClass(this.titleContainer,"collapsed",e),this._onToggled.fire(e))},t.prototype.onCursorChange=function(e){"mouse"!==e.source&&this.focusTitle(e.position)&&this.titleContainer.focus()},
t.prototype.focusTitle=function(e){var t=this.previousPosition;return this.previousPosition=e,!!t&&(t.lineNumber!==e.lineNumber&&(e.lineNumber===this.settingsGroup.range.startLineNumber-1||e.lineNumber===this.settingsGroup.range.startLineNumber-2||!(!this.isCollapsed()||e.lineNumber!==this.settingsGroup.range.endLineNumber)))},t.prototype.dispose=function(){var t=this;this.editor.changeViewZones(function(e){e.removeZone(t.id)}),e.prototype.dispose.call(this)},t}(u.Widget);t.SettingsGroupTitleWidget=x;var T=function(e){function t(t,i,n){var r=e.call(this,null,t)||this;r.contextService=i,r.contextMenuService=n,r._folderSettingCounts=new Map,r.disposables=[];var o=r.contextService.getWorkspace();return r._folder=1===o.folders.length?o.folders[0]:null,r.disposables.push(r.contextService.onDidChangeWorkspaceFolders(function(){return r.onWorkspaceFoldersChanged()})),r}return i(t,e),Object.defineProperty(t.prototype,"folder",{get:function(){return this._folder},set:function(e){this._folder=e,this.update()},
enumerable:!0,configurable:!0}),t.prototype.setCount=function(e,t){var i=this.contextService.getWorkspaceFolder(e).uri;this._folderSettingCounts.set(i.toString(),t),this.update()},t.prototype.render=function(e){var t=this;this.element=e,this.container=e,this.labelElement=a.$(".action-title"),this.detailsElement=a.$(".action-details"),this.dropDownElement=a.$(".dropdown-icon.octicon.octicon-triangle-down.hide"),this.anchorElement=a.$("a.action-label.folder-settings",{role:"button","aria-haspopup":"true",tabindex:"0"},this.labelElement,this.detailsElement,this.dropDownElement),this.disposables.push(a.addDisposableListener(this.anchorElement,a.EventType.CLICK,function(e){return t.onClick(e)})),this.disposables.push(a.addDisposableListener(this.anchorElement,a.EventType.KEY_UP,function(e){return t.onKeyUp(e)})),a.append(this.container,this.anchorElement),this.update()},t.prototype.onKeyUp=function(e){switch(new p.StandardKeyboardEvent(e).keyCode){case 3:case 10:return void this.onClick(e)}},
t.prototype.onClick=function(e){a.EventHelper.stop(e,!0),!this.folder||this._action.checked?this.showMenu():this._action.run(this._folder)},t.prototype.updateEnabled=function(){this.update()},t.prototype.updateChecked=function(){this.update()},t.prototype.onWorkspaceFoldersChanged=function(){var e=this,t=this._folder,i=this.contextService.getWorkspace();this._folder&&(this._folder=i.folders.filter(function(t){return t.uri.toString()===e._folder.uri.toString()})[0]||i.folders[0]),this._folder=this._folder?this._folder:1===i.folders.length?i.folders[0]:null,this.update(),this._action.checked&&(t||!this._folder||!t||this._folder||t&&this._folder&&t.uri.toString()===this._folder.uri.toString())&&this._action.run(this._folder)},t.prototype.update=function(){var e=0;this._folderSettingCounts.forEach(function(t){return e+=t});var t=this.contextService.getWorkspace();if(this._folder){this.labelElement.textContent=this._folder.name,this.anchorElement.title=this._folder.name
;var i=this.labelWithCount(this._action.label,e);this.detailsElement.textContent=i,a.toggleClass(this.dropDownElement,"hide",1===t.folders.length||!this._action.checked)}else{var n=this.labelWithCount(this._action.label,e);this.labelElement.textContent=n,this.detailsElement.textContent="",this.anchorElement.title=this._action.label,a.removeClass(this.dropDownElement,"hide")}a.toggleClass(this.anchorElement,"checked",this._action.checked),a.toggleClass(this.container,"disabled",!this._action.enabled)},t.prototype.showMenu=function(){var e=this;this.contextMenuService.showContextMenu({getAnchor:function(){return e.container},getActions:function(){return c.TPromise.as(e.getDropdownMenuActions())},getActionItem:function(){return null},onHide:function(){e.anchorElement.blur()}})},t.prototype.getDropdownMenuActions=function(){var e=this,t=[],i=this.contextService.getWorkspace().folders;return 3===this.contextService.getWorkbenchState()&&i.length>0&&t.push.apply(t,i.map(function(t,i){
var n=e._folderSettingCounts.get(t.uri.toString());return{id:"folderSettingsTarget"+i,label:e.labelWithCount(t.name,n),checked:e.folder&&e.folder.uri.toString()===t.uri.toString(),enabled:!0,run:function(){return e._action.run(t)}}})),t},t.prototype.labelWithCount=function(e,t){return t&&(e+=" ("+t+")"),e},t.prototype.dispose=function(){l.dispose(this.disposables),e.prototype.dispose.call(this)},t=r([o(1,m.IWorkspaceContextService),o(2,v.IContextMenuService)],t)}(w.BaseActionItem);t.FolderSettingsActionItem=T;var R=function(e){function t(t,i,n){var r=e.call(this)||this;return r.contextService=i,r.instantiationService=n,r._onDidTargetChange=new d.Emitter,r.onDidTargetChange=r._onDidTargetChange.event,r.create(t),r._register(r.contextService.onDidChangeWorkbenchState(function(){return r.onWorkbenchStateChanged()})),r._register(r.contextService.onDidChangeWorkspaceFolders(function(){return r.update()})),r}return i(t,e),t.prototype.create=function(e){var t=this,i=a.append(e,a.$(".settings-tabs-widget"))
;this.settingsSwitcherBar=this._register(new w.ActionBar(i,{orientation:0,ariaLabel:n.localize("settingsSwitcherBarAriaLabel","Settings Switcher"),animated:!1,actionItemProvider:function(e){return"folderSettings"===e.id?t.folderSettings:null}})),this.userSettings=new y.Action("userSettings",n.localize("userSettings","User Settings"),".settings-tab",!0,function(){return t.updateTarget(1)}),this.userSettings.tooltip=this.userSettings.label,this.workspaceSettings=new y.Action("workspaceSettings",n.localize("workspaceSettings","Workspace Settings"),".settings-tab",!1,function(){return t.updateTarget(2)}),this.workspaceSettings.tooltip=this.workspaceSettings.label;var r=new y.Action("folderSettings",n.localize("folderSettings","Folder Settings"),".settings-tab",!1,function(e){return t.updateTarget(e?e.uri:1)});this.folderSettings=this.instantiationService.createInstance(T,r),this.update(),this.settingsSwitcherBar.push([this.userSettings,this.workspaceSettings,r])},
Object.defineProperty(t.prototype,"settingsTarget",{get:function(){return this._settingsTarget},set:function(e){this._settingsTarget=e,this.userSettings.checked=1===this.settingsTarget,this.workspaceSettings.checked=2===this.settingsTarget,this.settingsTarget instanceof s.URI?(this.folderSettings.getAction().checked=!0,this.folderSettings.folder=this.contextService.getWorkspaceFolder(this.settingsTarget)):this.folderSettings.getAction().checked=!1},enumerable:!0,configurable:!0}),t.prototype.setResultCount=function(e,t){if(2===e){i=n.localize("workspaceSettings","Workspace Settings");t&&(i+=" ("+t+")"),this.workspaceSettings.label=i}else if(1===e){var i=n.localize("userSettings","User Settings");t&&(i+=" ("+t+")"),this.userSettings.label=i}else e instanceof s.URI&&this.folderSettings.setCount(e,t)},t.prototype.onWorkbenchStateChanged=function(){this.folderSettings.folder=null,this.update(),2===this.settingsTarget&&3===this.contextService.getWorkbenchState()&&this.updateTarget(1)},
t.prototype.updateTarget=function(e){return this.settingsTarget===e||e instanceof s.URI&&this.settingsTarget instanceof s.URI&&this.settingsTarget.toString()===e.toString()||(this.settingsTarget=e,this._onDidTargetChange.fire(this.settingsTarget)),c.TPromise.as(null)},t.prototype.update=function(){a.toggleClass(this.settingsSwitcherBar.domNode,"empty-workbench",1===this.contextService.getWorkbenchState()),this.workspaceSettings.enabled=1!==this.contextService.getWorkbenchState(),this.folderSettings.getAction().enabled=3===this.contextService.getWorkbenchState()&&this.contextService.getWorkspace().folders.length>0},t=r([o(1,m.IWorkspaceContextService),o(2,f.IInstantiationService)],t)}(u.Widget);t.SettingsTargetsWidget=R;var O=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.options=i,s.contextViewService=n,s.instantiationService=r,s.themeService=o,s._onDidChange=s._register(new d.Emitter),s.onDidChange=s._onDidChange.event,s._onFocus=s._register(new d.Emitter),s.onFocus=s._onFocus.event,
s.create(t),s}return i(t,e),t.prototype.create=function(e){var t=this;this.domNode=a.append(e,a.$("div.settings-header-widget")),this.createSearchContainer(a.append(this.domNode,a.$("div.settings-search-container"))),this.controlsDiv=a.append(this.domNode,a.$("div.settings-search-controls")),this.options.showResultCount&&(this.countElement=a.append(this.controlsDiv,a.$(".settings-count-widget")),this._register(S.attachStylerCallback(this.themeService,{badgeBackground:E.badgeBackground,contrastBorder:E.contrastBorder},function(e){var i=e.badgeBackground?e.badgeBackground.toString():null,n=e.contrastBorder?e.contrastBorder.toString():null;t.countElement.style.backgroundColor=i,t.countElement.style.borderWidth=n?"1px":null,t.countElement.style.borderStyle=n?"solid":null,t.countElement.style.borderColor=n,t.styleCountElementForeground()}))),this.inputBox.inputElement.setAttribute("aria-live",this.options.ariaLive||"off"),
this.options.ariaLabelledBy&&this.inputBox.inputElement.setAttribute("aria-labelledBy",this.options.ariaLabelledBy);var i=this._register(a.trackFocus(this.inputBox.inputElement));this._register(i.onDidFocus(function(){return t._onFocus.fire()})),this.options.focusKey&&(this._register(i.onDidFocus(function(){return t.options.focusKey.set(!0)})),this._register(i.onDidBlur(function(){return t.options.focusKey.set(!1)})))},t.prototype.createSearchContainer=function(e){var t=this;this.searchContainer=e;var i=a.append(this.searchContainer,a.$("div.settings-search-input"));this.inputBox=this._register(this.createInputBox(i)),this._register(this.inputBox.onDidChange(function(e){return t._onDidChange.fire(e)}))},t.prototype.createInputBox=function(e){var t=this._register(new g.InputBox(e,this.contextViewService,this.options));return this._register(S.attachInputBoxStyler(t,this.themeService)),t},t.prototype.showMessage=function(e,t){this.countElement&&e!==this.countElement.textContent&&(this.countElement.textContent=e,
this.inputBox.inputElement.setAttribute("aria-label",e),a.toggleClass(this.countElement,"no-results",0===t),this.inputBox.inputElement.style.paddingRight=this.getControlsWidth()+"px",this.styleCountElementForeground())},t.prototype.styleCountElementForeground=function(){var e=a.hasClass(this.countElement,"no-results")?E.errorForeground:E.badgeForeground,t=this.themeService.getTheme().getColor(e);this.countElement.style.color=t?t.toString():null},t.prototype.layout=function(e){e.width<400?(this.countElement&&a.addClass(this.countElement,"hide"),this.inputBox.inputElement.style.paddingRight="0px"):(this.countElement&&a.removeClass(this.countElement,"hide"),this.inputBox.inputElement.style.paddingRight=this.getControlsWidth()+"px")},t.prototype.getControlsWidth=function(){return(this.countElement?a.getTotalWidth(this.countElement):0)+20},t.prototype.focus=function(){this.inputBox.focus(),this.getValue()&&this.inputBox.select()},t.prototype.hasFocus=function(){return this.inputBox.hasFocus()},
t.prototype.clear=function(){this.inputBox.value=""},t.prototype.getValue=function(){return this.inputBox.value},t.prototype.setValue=function(e){return this.inputBox.value=e},t.prototype.dispose=function(){this.options.focusKey&&this.options.focusKey.set(!1),e.prototype.dispose.call(this)},t=r([o(2,v.IContextViewService),o(3,f.IInstantiationService),o(4,b.IThemeService)],t)}(u.Widget);t.SearchWidget=O;var M=function(e){function t(t){var i=e.call(this)||this;return i.editor=t,i._onClick=new d.Emitter,i._editPreferenceDecoration=[],i._register(i.editor.onMouseDown(function(e){var t=e.target.detail;e.target.type===h.MouseTargetType.GUTTER_GLYPH_MARGIN&&!t.isAfterLines&&i.isVisible()&&i._onClick.fire(e)})),i}return i(t,e),Object.defineProperty(t.prototype,"onClick",{get:function(){return this._onClick.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preferences",{get:function(){return this._preferences},enumerable:!0,configurable:!0}),t.prototype.getLine=function(){return this._line},
t.prototype.show=function(e,i,n){this._preferences=n;var r=[];this._line=e,r.push({options:{glyphMarginClassName:t.GLYPH_MARGIN_CLASS_NAME,glyphMarginHoverMessage:(new C.MarkdownString).appendText(i),stickiness:_.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},range:{startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1}}),this._editPreferenceDecoration=this.editor.deltaDecorations(this._editPreferenceDecoration,r)},t.prototype.hide=function(){this._editPreferenceDecoration=this.editor.deltaDecorations(this._editPreferenceDecoration,[])},t.prototype.isVisible=function(){return this._editPreferenceDecoration.length>0},t.prototype.dispose=function(){this.hide(),e.prototype.dispose.call(this)},t.GLYPH_MARGIN_CLASS_NAME="edit-preferences-widget",t}(l.Disposable);t.EditPreferenceWidget=M,b.registerThemingParticipant(function(e,t){
t.addRule("\n\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label:focus,\n\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label.checked {\n\t\t\tborder-bottom: 1px solid;\n\t\t}\n\t");var i=e.getColor(I.PANEL_ACTIVE_TITLE_FOREGROUND),n=e.getColor(I.PANEL_ACTIVE_TITLE_BORDER);(i||n)&&t.addRule("\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label:hover,\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label.checked {\n\t\t\t\tcolor: "+i+";\n\t\t\t\tborder-bottom-color: "+n+";\n\t\t\t}\n\t\t");var r=e.getColor(I.PANEL_INACTIVE_TITLE_FOREGROUND);r&&t.addRule("\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label {\n\t\t\t\tcolor: "+r+";\n\t\t\t}\n\t\t");var o=e.getColor(E.focusBorder);o&&(t.addRule("\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label:focus {\n\t\t\t\tborder-bottom-color: "+o+" !important;\n\t\t\t}\n\t\t\t"),
t.addRule("\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label:focus {\n\t\t\t\toutline: none;\n\t\t\t}\n\t\t\t"));if(e.getColor(E.activeContrastBorder)){var s=e.getColor(E.activeContrastBorder);t.addRule("\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label.checked,\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label:hover {\n\t\t\t\toutline-color: "+s+";\n\t\t\t\toutline-width: 1px;\n\t\t\t\toutline-style: solid;\n\t\t\t\tborder-bottom: none;\n\t\t\t\tpadding-bottom: 0;\n\t\t\t\toutline-offset: 2px;\n\t\t\t}\n\n\t\t\t.settings-tabs-widget > .monaco-action-bar .action-item .action-label:not(.checked):hover {\n\t\t\t\toutline-style: dashed;\n\t\t\t}\n\t\t")}})}),define(e[219],t([1,0,2,20,6,4,5,242,87,7,66,505,32,33,3,41,11,26,144,261]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i,n,o,s)||this
;return a.keybindingService=r,a.recordDisposables=[],a._onKeybinding=a._register(new l.Emitter),a.onKeybinding=a._onKeybinding.event,a._onEnter=a._register(new l.Emitter),a.onEnter=a._onEnter.event,a._onEscape=a._register(new l.Emitter),a.onEscape=a._onEscape.event,a._onBlur=a._register(new l.Emitter),a.onBlur=a._onBlur.event,a._register(y.attachInputBoxStyler(a.inputBox,s)),a._register(c.toDisposable(function(){return a.stopRecordingKeys()})),a._reset(),a}return i(t,e),t.prototype.clear=function(){this._reset(),e.prototype.clear.call(this)},t.prototype.startRecordingKeys=function(){var e=this;this.recordDisposables.push(p.addDisposableListener(this.inputBox.inputElement,p.EventType.KEY_DOWN,function(t){return e._onKeyDown(new h.StandardKeyboardEvent(t))})),this.recordDisposables.push(p.addDisposableListener(this.inputBox.inputElement,p.EventType.BLUR,function(){return e._onBlur.fire()})),this.recordDisposables.push(p.addDisposableListener(this.inputBox.inputElement,p.EventType.INPUT,function(){
e.setInputValue(e._inputValue)}))},t.prototype.stopRecordingKeys=function(){this._reset(),c.dispose(this.recordDisposables)},t.prototype.setInputValue=function(e){this._inputValue=e,this.inputBox.value=this._inputValue},t.prototype.focus=function(){this.inputBox.focus()},t.prototype._reset=function(){this._firstPart=null,this._chordPart=null},t.prototype._onKeyDown=function(e){e.preventDefault(),e.stopPropagation();this.options.recordEnter||!e.equals(3)?e.equals(9)?this._onEscape.fire():this.printKeybinding(e):this._onEnter.fire()},t.prototype.printKeybinding=function(e){var t=this.keybindingService.resolveKeyboardEvent(e),i="code: "+e.browserEvent.code+", keyCode: "+e.browserEvent.keyCode+", key: "+e.browserEvent.key+" => UI: "+t.getAriaLabel()+", user settings: "+t.getUserSettingsLabel()+", dispatch: "+t.getDispatchParts()[0],n=this._firstPart&&null!==this._firstPart.getDispatchParts()[0],r=this._chordPart&&null!==this._chordPart.getDispatchParts()[0];n&&r?(this._firstPart=t,
this._chordPart=null):n?this._chordPart=t:this._firstPart=t;var o="";this._firstPart&&(o=this._firstPart.getUserSettingsLabel()),this._chordPart&&(o=o+" "+this._chordPart.getUserSettingsLabel()),this.setInputValue(o),this.inputBox.inputElement.title=i,this._onKeybinding.fire([this._firstPart,this._chordPart])},t=r([o(2,v.IContextViewService),o(3,f.IKeybindingService),o(4,m.IInstantiationService),o(5,S.IThemeService)],t)}(E.SearchWidget);t.KeybindingsSearchWidget=w;var C=function(e){function t(t,i,n){var r=e.call(this)||this;return r.instantiationService=i,r.themeService=n,r._firstPart=null,r._chordPart=null,r._isVisible=!1,r._onHide=r._register(new l.Emitter),r._onDidChange=r._register(new l.Emitter),r.onDidChange=r._onDidChange.event,r._onShowExistingKeybindings=r._register(new l.Emitter),r.onShowExistingKeybidings=r._onShowExistingKeybindings.event,r.create(),t&&p.append(t,r._domNode.domNode),r}return i(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode.domNode},
enumerable:!0,configurable:!0}),t.prototype.define=function(){var e=this;return this._keybindingInputWidget.clear(),new a.TPromise(function(t,i){e._isVisible||(e._isVisible=!0,e._domNode.setDisplay("block"),e._firstPart=null,e._chordPart=null,e._keybindingInputWidget.setInputValue(""),p.clearNode(e._outputNode),p.clearNode(e._showExistingKeybindingsNode),e._keybindingInputWidget.focus());var n=e._onHide.event(function(){t(e.getUserSettingsLabel()),n.dispose()})})},t.prototype.layout=function(e){var i=Math.round((e.height-t.HEIGHT)/2);this._domNode.setTop(i);var n=Math.round((e.width-t.WIDTH)/2);this._domNode.setLeft(n)},t.prototype.printExisting=function(e){var t=this;if(e>0){var i=p.$("span.existingText"),r=1===e?n.localize("defineKeybinding.oneExists","1 existing command has this keybinding",e):n.localize("defineKeybinding.existing","{0} existing commands have this keybinding",e);p.append(i,document.createTextNode(r)),this._showExistingKeybindingsNode.appendChild(i),i.onmousedown=function(e){
e.preventDefault()},i.onmouseup=function(e){e.preventDefault()},i.onclick=function(){t._onShowExistingKeybindings.fire(t.getUserSettingsLabel())}}},t.prototype.create=function(){var e=this;this._domNode=g.createFastDomNode(document.createElement("div")),this._domNode.setDisplay("none"),this._domNode.setClassName("defineKeybindingWidget"),this._domNode.setWidth(t.WIDTH),this._domNode.setHeight(t.HEIGHT);var i=n.localize("defineKeybinding.initial","Press desired key combination and then press ENTER.");p.append(this._domNode.domNode,p.$(".message",null,i)),this._register(y.attachStylerCallback(this.themeService,{editorWidgetBackground:b.editorWidgetBackground,widgetShadow:b.widgetShadow},function(t){t.editorWidgetBackground?e._domNode.domNode.style.backgroundColor=t.editorWidgetBackground.toString():e._domNode.domNode.style.backgroundColor=null,t.widgetShadow?e._domNode.domNode.style.boxShadow="0 2px 8px "+t.widgetShadow:e._domNode.domNode.style.boxShadow=null})),
this._keybindingInputWidget=this._register(this.instantiationService.createInstance(w,this._domNode.domNode,{ariaLabel:i})),this._keybindingInputWidget.startRecordingKeys(),this._register(this._keybindingInputWidget.onKeybinding(function(t){return e.onKeybinding(t)})),this._register(this._keybindingInputWidget.onEnter(function(){return e.hide()})),this._register(this._keybindingInputWidget.onEscape(function(){return e.onCancel()})),this._register(this._keybindingInputWidget.onBlur(function(){return e.onCancel()})),this._outputNode=p.append(this._domNode.domNode,p.$(".output")),this._showExistingKeybindingsNode=p.append(this._domNode.domNode,p.$(".existing"))},t.prototype.onKeybinding=function(e){var t=e[0],i=e[1];this._firstPart=t,this._chordPart=i,p.clearNode(this._outputNode),p.clearNode(this._showExistingKeybindingsNode),new u.KeybindingLabel(this._outputNode,s.OS).set(this._firstPart,null),
this._chordPart&&(this._outputNode.appendChild(document.createTextNode(n.localize("defineKeybinding.chordsTo","chord to"))),new u.KeybindingLabel(this._outputNode,s.OS).set(this._chordPart,null));var r=this.getUserSettingsLabel();r&&this._onDidChange.fire(r)},t.prototype.getUserSettingsLabel=function(){var e=null;return this._firstPart&&(e=this._firstPart.getUserSettingsLabel(),this._chordPart&&(e=e+" "+this._chordPart.getUserSettingsLabel())),e},t.prototype.onCancel=function(){this._firstPart=null,this._chordPart=null,this.hide()},t.prototype.hide=function(){this._domNode.setDisplay("none"),this._isVisible=!1,this._onHide.fire()},t.WIDTH=400,t.HEIGHT=110,t=r([o(1,m.IInstantiationService),o(2,S.IThemeService)],t)}(d.Widget);t.DefineKeybindingWidget=C;var I=function(e){function t(t,i){var n=e.call(this)||this;return n._editor=t,n._widget=i.createInstance(C,null),n._editor.addOverlayWidget(n),n}return i(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._widget.domNode
},t.prototype.getPosition=function(){return{preference:null}},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.start=function(){this._editor.revealPositionInCenterIfOutsideViewport(this._editor.getPosition(),0);var e=this._editor.getLayoutInfo();return this._widget.layout(new p.Dimension(e.width,e.height)),this._widget.define()},t.ID="editor.contrib.defineKeybindingWidget",t=r([o(1,m.IInstantiationService)],t)}(c.Disposable);t.DefineKeybindingOverlayWidget=I}),define(e[207],t([1,0,2]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commonlyUsedData={id:"commonlyUsed",label:i.localize("commonlyUsed","Commonly Used"),settings:["files.autoSave","editor.fontSize","editor.fontFamily","editor.tabSize","editor.renderWhitespace","editor.cursorStyle","editor.multiCursorModifier","editor.insertSpaces","editor.wordWrap","files.exclude","files.associations"]},t.tocData={id:"root",label:"root",children:[{id:"editor",
label:i.localize("textEditor","Text Editor"),settings:["editor.*"],children:[{id:"editor/cursor",label:i.localize("cursor","Cursor"),settings:["editor.cursor*"]},{id:"editor/find",label:i.localize("find","Find"),settings:["editor.find.*"]},{id:"editor/font",label:i.localize("font","Font"),settings:["editor.font*"]},{id:"editor/format",label:i.localize("formatting","Formatting"),settings:["editor.format*"]},{id:"editor/diffEditor",label:i.localize("diffEditor","Diff Editor"),settings:["diffEditor.*"]},{id:"editor/minimap",label:i.localize("minimap","Minimap"),settings:["editor.minimap.*"]},{id:"editor/suggestions",label:i.localize("suggestions","Suggestions"),settings:["editor.*suggest*"]},{id:"editor/files",label:i.localize("files","Files"),settings:["files.*"]}]},{id:"workbench",label:i.localize("workbench","Workbench"),settings:["workbench.*"],children:[{id:"workbench/appearance",label:i.localize("appearance","Appearance"),
settings:["workbench.activityBar.*","workbench.*color*","workbench.fontAliasing","workbench.iconTheme","workbench.sidebar.location","workbench.*.visible","workbench.tips.enabled","workbench.tree.*","workbench.view.*"]},{id:"workbench/breadcrumbs",label:i.localize("breadcrumbs","Breadcrumbs"),settings:["breadcrumbs.*"]},{id:"workbench/editor",label:i.localize("editorManagement","Editor Management"),settings:["workbench.editor.*"]},{id:"workbench/settings",label:i.localize("settings","Settings Editor"),settings:["workbench.settings.*"]},{id:"workbench/zenmode",label:i.localize("zenMode","Zen Mode"),settings:["zenmode.*"]}]},{id:"window",label:i.localize("window","Window"),settings:["window.*"],children:[{id:"window/newWindow",label:i.localize("newWindow","New Window"),settings:["window.*newwindow*"]}]},{id:"features",label:i.localize("features","Features"),children:[{id:"features/explorer",label:i.localize("fileExplorer","Explorer"),settings:["explorer.*","outline.*"]},{id:"features/search",
label:i.localize("search","Search"),settings:["search.*"]},{id:"features/debug",label:i.localize("debug","Debug"),settings:["debug.*","launch"]},{id:"features/scm",label:i.localize("scm","SCM"),settings:["scm.*"]},{id:"features/extensions",label:i.localize("extensionViewlet","Extension Viewlet"),settings:["extensions.*"]},{id:"features/terminal",label:i.localize("terminal","Terminal"),settings:["terminal.*"]},{id:"features/problems",label:i.localize("problems","Problems"),settings:["problems.*"]}]},{id:"application",label:i.localize("application","Application"),children:[{id:"application/http",label:i.localize("proxy","Proxy"),settings:["http.*"]},{id:"application/keyboard",label:i.localize("keyboard","Keyboard"),settings:["keyboard.*"]},{id:"application/update",label:i.localize("update","Update"),settings:["update.*"]},{id:"application/telemetry",label:i.localize("telemetry","Telemetry"),settings:["telemetry.*"]}]}]},t.knownAcronyms=new Set,
["css","html","scss","less","json","js","ts","ie","id","php"].forEach(function(e){return t.knownAcronyms.add(e)})}),define(e[163],t([1,0,7,46,125,133,73,5,4,2,33,26,41,11,269]),function(e,t,s,a,c,l,u,d,p,h,g,f,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=s.$;t.settingsHeaderForeground=f.registerColor("settings.headerForeground",{light:"#444444",dark:"#e7e7e7",hc:"#ffffff"},h.localize("headerForeground","(For settings editor preview) The foreground color for a section header or active title.")),t.modifiedItemIndicator=f.registerColor("settings.modifiedItemIndicator",{light:new u.Color(new u.RGBA(102,175,224)),dark:new u.Color(new u.RGBA(12,125,157)),hc:new u.Color(new u.RGBA(0,73,122))},h.localize("modifiedItemForeground","(For settings editor preview) The color of the modified setting indicator.")),t.settingsSelectBackground=f.registerColor("settings.dropdownBackground",{dark:f.selectBackground,light:f.selectBackground,hc:f.selectBackground
},h.localize("settingsDropdownBackground","(For settings editor preview) Settings editor dropdown background.")),t.settingsSelectForeground=f.registerColor("settings.dropdownForeground",{dark:f.selectForeground,light:f.selectForeground,hc:f.selectForeground},h.localize("settingsDropdownForeground","(For settings editor preview) Settings editor dropdown foreground.")),t.settingsSelectBorder=f.registerColor("settings.dropdownBorder",{dark:f.selectBorder,light:f.selectBorder,hc:f.selectBorder},h.localize("settingsDropdownBorder","(For settings editor preview) Settings editor dropdown border.")),t.settingsSelectListBorder=f.registerColor("settings.dropdownListBorder",{dark:f.editorWidgetBorder,light:f.editorWidgetBorder,hc:f.editorWidgetBorder},h.localize("settingsDropdownListBorder","(For settings editor preview) Settings editor dropdown list border. This surrounds the options and separates the options from the description.")),t.settingsCheckboxBackground=f.registerColor("settings.checkboxBackground",{
dark:f.selectBackground,light:f.selectBackground,hc:f.selectBackground},h.localize("settingsCheckboxBackground","(For settings editor preview) Settings editor checkbox background.")),t.settingsCheckboxForeground=f.registerColor("settings.checkboxForeground",{dark:f.selectForeground,light:f.selectForeground,hc:f.selectForeground},h.localize("settingsCheckboxForeground","(For settings editor preview) Settings editor checkbox foreground.")),t.settingsCheckboxBorder=f.registerColor("settings.checkboxBorder",{dark:f.selectBorder,light:f.selectBorder,hc:f.selectBorder},h.localize("settingsCheckboxBorder","(For settings editor preview) Settings editor checkbox border.")),t.settingsTextInputBackground=f.registerColor("settings.textInputBackground",{dark:f.inputBackground,light:f.inputBackground,hc:f.inputBackground},h.localize("textInputBoxBackground","(For settings editor preview) Settings editor text input box background.")),t.settingsTextInputForeground=f.registerColor("settings.textInputForeground",{
dark:f.inputForeground,light:f.inputForeground,hc:f.inputForeground},h.localize("textInputBoxForeground","(For settings editor preview) Settings editor text input box foreground.")),t.settingsTextInputBorder=f.registerColor("settings.textInputBorder",{dark:f.inputBorder,light:f.inputBorder,hc:f.inputBorder},h.localize("textInputBoxBorder","(For settings editor preview) Settings editor text input box border.")),t.settingsNumberInputBackground=f.registerColor("settings.numberInputBackground",{dark:f.inputBackground,light:f.inputBackground,hc:f.inputBackground},h.localize("numberInputBoxBackground","(For settings editor preview) Settings editor number input box background.")),t.settingsNumberInputForeground=f.registerColor("settings.numberInputForeground",{dark:f.inputForeground,light:f.inputForeground,hc:f.inputForeground},h.localize("numberInputBoxForeground","(For settings editor preview) Settings editor number input box foreground.")),t.settingsNumberInputBorder=f.registerColor("settings.numberInputBorder",{
dark:f.inputBorder,light:f.inputBorder,hc:f.inputBorder},h.localize("numberInputBoxBorder","(For settings editor preview) Settings editor number input box border.")),m.registerThemingParticipant(function(e,i){var n=e.getColor(t.settingsCheckboxBackground);n&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item-bool .setting-value-checkbox { background-color: "+n+" !important; }");var r=e.getColor(t.settingsCheckboxBorder);r&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item-bool .setting-value-checkbox { border-color: "+r+" !important; }");var o=e.getColor(f.textLinkForeground);o&&(i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description-markdown a { color: "+o+"; }"),i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description-markdown a > code { color: "+o+"; }"),
i.addRule(".monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown a { color: "+o+"; }"),i.addRule(".monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown a > code { color: "+o+"; }"));var s=e.getColor(t.settingsHeaderForeground);s&&i.addRule(".settings-editor > .settings-header > .settings-header-controls .settings-tabs-widget .action-label.checked { color: "+s+"; border-bottom-color: "+s+"; }");var a=e.getColor(f.foreground);a&&i.addRule(".settings-editor > .settings-header > .settings-header-controls .settings-tabs-widget .action-label { color: "+a+"; }");var c=e.getColor(f.listHoverBackground);c&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.setting-item-exclude .setting-exclude-row:hover { background-color: "+c+"; }");var l=e.getColor(f.listHoverForeground)
;l&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.setting-item-exclude .setting-exclude-row:hover { color: "+l+"; }");var u=e.getColor(f.listActiveSelectionBackground);u&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.setting-item-exclude .setting-exclude-row.selected:focus { background-color: "+u+"; }");var d=e.getColor(f.listInactiveSelectionBackground);d&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.setting-item-exclude .setting-exclude-row.selected:not(:focus) { background-color: "+d+"; }");var p=e.getColor(f.listInactiveSelectionForeground);p&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.setting-item-exclude .setting-exclude-row.selected:not(:focus) { color: "+p+"; }");var h=e.getColor(f.listActiveSelectionForeground)
;h&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.setting-item-exclude .setting-exclude-row.selected:focus { color: "+h+"; }");var g=e.getColor(f.textPreformatForeground);g&&(i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description-markdown code { color: "+g+" }"),i.addRule(".monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown code { color: "+g+" }"));var v=e.getColor(t.modifiedItemIndicator);v&&i.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item > .setting-item-modified-indicator { border-color: "+v+"; }")});var S=function(){function e(){this._dataItems=[]}return Object.defineProperty(e.prototype,"items",{get:function(){var e=this,t=this._dataItems.map(function(t,i){var r=t.pattern===e._editKey;return n({},t,{editing:r,selected:i===e._selectedIdx||r})});return""===this._editKey&&t.push({editing:!0,selected:!0,pattern:"",sibling:""}),t
},enumerable:!0,configurable:!0}),e.prototype.setEditKey=function(e){this._editKey=e},e.prototype.setValue=function(e){this._dataItems=e},e.prototype.select=function(e){this._selectedIdx=e},e.prototype.getSelected=function(){return this._selectedIdx},e.prototype.selectNext=function(){"number"==typeof this._selectedIdx?this._selectedIdx=Math.min(this._selectedIdx+1,this._dataItems.length-1):this._selectedIdx=0},e.prototype.selectPrevious=function(){"number"==typeof this._selectedIdx?this._selectedIdx=Math.max(this._selectedIdx-1,0):this._selectedIdx=0},e}();t.ExcludeSettingListModel=S;var b=function(e){function n(t,i,n){var r=e.call(this)||this;return r.container=t,r.themeService=i,r.contextViewService=n,r.listDisposables=[],r.model=new S,r._onDidChangeExclude=new d.Emitter,r.onDidChangeExclude=r._onDidChangeExclude.event,r.listElement=s.append(t,y(".setting-exclude-widget")),r.listElement.setAttribute("tabindex","0"),s.append(t,r.renderAddButton()),r.renderList(),
r._register(s.addDisposableListener(r.listElement,s.EventType.CLICK,function(e){return r.onListClick(e)})),r._register(s.addDisposableListener(r.listElement,s.EventType.DBLCLICK,function(e){return r.onListDoubleClick(e)})),r._register(s.addStandardDisposableListener(r.listElement,"keydown",function(e){16===e.keyCode?(r.model.selectPrevious(),r.renderList(),e.preventDefault(),e.stopPropagation()):18===e.keyCode&&(r.model.selectNext(),r.renderList(),e.preventDefault(),e.stopPropagation())})),r}return i(n,e),Object.defineProperty(n.prototype,"domNode",{get:function(){return this.listElement},enumerable:!0,configurable:!0}),n.prototype.setValue=function(e){this.model.setValue(e),this.renderList()},n.prototype.onListClick=function(e){var t=this.getClickedItemIndex(e);t<0||this.model.getSelected()!==t&&(this.model.select(t),this.renderList(),e.preventDefault(),e.stopPropagation())},n.prototype.onListDoubleClick=function(e){var t=this.getClickedItemIndex(e);if(!(t<0)){var i=this.model.items[t]
;i&&(this.editSetting(i.pattern),e.preventDefault(),e.stopPropagation())}},n.prototype.getClickedItemIndex=function(e){if(!e.target)return-1;if(s.findParentWithClass(e.target,"monaco-action-bar"))return-1;var t=s.findParentWithClass(e.target,"setting-exclude-row");if(!t)return-1;var i=t.getAttribute("data-index");if(!i)return-1;return parseInt(i)},n.prototype.renderList=function(){var e=this,t=s.isAncestor(document.activeElement,this.listElement);s.clearNode(this.listElement),this.listDisposables=p.dispose(this.listDisposables);var i=this.model.items.some(function(e){return e.editing&&!e.pattern});s.toggleClass(this.container,"setting-exclude-new-mode",i),this.model.items.map(function(i,n){return e.renderItem(i,n,t)}).forEach(function(t){return e.listElement.appendChild(t)});var n=22*this.model.items.length;this.listElement.style.height=n+"px"},n.prototype.createDeleteAction=function(e){var t=this;return{class:"setting-excludeAction-remove",enabled:!0,id:"workbench.action.removeExcludeItem",
tooltip:h.localize("removeExcludeItem","Remove Exclude Item"),run:function(){return t._onDidChangeExclude.fire({originalPattern:e,pattern:void 0})}}},n.prototype.createEditAction=function(e){var t=this;return{class:"setting-excludeAction-edit",enabled:!0,id:"workbench.action.editExcludeItem",tooltip:h.localize("editExcludeItem","Edit Exclude Item"),run:function(){t.editSetting(e)}}},n.prototype.editSetting=function(e){this.model.setEditKey(e),this.renderList()},n.prototype.renderItem=function(e,t,i){return e.editing?this.renderEditItem(e):this.renderDataItem(e,t,i)},n.prototype.renderDataItem=function(e,t,i){var n=y(".setting-exclude-row");n.setAttribute("data-index",t+""),n.setAttribute("tabindex",e.selected?"0":"-1"),s.toggleClass(n,"selected",e.selected);var r=new a.ActionBar(n);this.listDisposables.push(r);var o=s.append(n,y(".setting-exclude-pattern")),c=s.append(n,y(".setting-exclude-sibling"));return o.textContent=e.pattern,c.textContent=e.sibling&&"when: "+e.sibling,
r.push([this.createEditAction(e.pattern),this.createDeleteAction(e.pattern)],{icon:!0,label:!1}),n.title=e.sibling?h.localize("excludeSiblingHintLabel","Exclude files matching `{0}`, only when a file matching `{1}` is present",e.pattern,e.sibling):h.localize("excludePatternHintLabel","Exclude files matching `{0}`",e.pattern),e.selected&&i&&setTimeout(function(){n.focus()},10),n},n.prototype.renderAddButton=function(){var e=this,t=y(".setting-exclude-new-row"),i=this._register(new c.Button(t));return i.label=h.localize("addPattern","Add Pattern"),i.element.classList.add("setting-exclude-addButton"),this._register(v.attachButtonStyler(i,this.themeService)),this._register(i.onDidClick(function(){e.model.setEditKey(""),e.renderList()})),t},n.prototype.renderEditItem=function(e){var i=this,n=y(".setting-exclude-edit-row"),r=function(t){i.model.setEditKey(null);var n=a.value.trim();t&&n&&i._onDidChangeExclude.fire({originalPattern:e.pattern,pattern:n,sibling:u&&u.value.trim()}),i.renderList()},o=function(e){
e.equals(3)?r(!0):e.equals(9)&&(r(!1),e.preventDefault())},a=new l.InputBox(n,this.contextViewService,{placeholder:h.localize("excludePatternInputPlaceholder","Exclude Pattern...")});a.element.classList.add("setting-exclude-patternInput"),this.listDisposables.push(v.attachInputBoxStyler(a,this.themeService,{inputBackground:t.settingsTextInputBackground,inputForeground:t.settingsTextInputForeground,inputBorder:t.settingsTextInputBorder})),this.listDisposables.push(a),a.value=e.pattern,this.listDisposables.push(s.addStandardDisposableListener(a.inputElement,s.EventType.KEY_DOWN,o));var u;e.sibling&&((u=new l.InputBox(n,this.contextViewService,{placeholder:h.localize("excludeSiblingInputPlaceholder","When Pattern Is Present...")})).element.classList.add("setting-exclude-siblingInput"),this.listDisposables.push(u),this.listDisposables.push(v.attachInputBoxStyler(u,this.themeService,{inputBackground:t.settingsTextInputBackground,inputForeground:t.settingsTextInputForeground,inputBorder:t.settingsTextInputBorder
})),u.value=e.sibling,this.listDisposables.push(s.addStandardDisposableListener(u.inputElement,s.EventType.KEY_DOWN,o)));var d=this._register(new c.Button(n));d.label=h.localize("okButton","OK"),d.element.classList.add("setting-exclude-okButton"),this.listDisposables.push(v.attachButtonStyler(d,this.themeService)),this.listDisposables.push(d.onDidClick(function(){return r(!0)}));var p=this._register(new c.Button(n));return p.label=h.localize("cancelButton","Cancel"),p.element.classList.add("setting-exclude-cancelButton"),this.listDisposables.push(v.attachButtonStyler(p,this.themeService)),this.listDisposables.push(p.onDidClick(function(){return r(!1)})),setTimeout(function(){a.focus(),a.select()},0),n},n.prototype.dispose=function(){e.prototype.dispose.call(this),this.listDisposables=p.dispose(this.listDisposables)},n=r([o(1,m.IThemeService),o(2,g.IContextViewService)],n)}(p.Disposable);t.ExcludeSettingWidget=b}),define(e[96],t([1,0,3,10,25]),function(e,t,i,n,r){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.IPreferencesSearchService=i.createDecorator("preferencesSearchService"),t.CONTEXT_SETTINGS_EDITOR=new n.RawContextKey("inSettingsEditor",!1),t.CONTEXT_SETTINGS_SEARCH_FOCUS=new n.RawContextKey("inSettingsSearch",!1),t.CONTEXT_TOC_ROW_FOCUS=new n.RawContextKey("settingsTocRowFocus",!1),t.CONTEXT_KEYBINDINGS_EDITOR=new n.RawContextKey("inKeybindings",!1),t.CONTEXT_KEYBINDINGS_SEARCH_FOCUS=new n.RawContextKey("inKeybindingsSearch",!1),t.CONTEXT_KEYBINDINGS_SEARCH_VALUE=new n.RawContextKey("hasKeybindingsSearchValue",!1),t.CONTEXT_KEYBINDING_FOCUS=new n.RawContextKey("keybindingFocus",!1),t.SETTINGS_EDITOR_COMMAND_SEARCH="settings.action.search",t.SETTINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS="settings.action.clearSearchResults",t.SETTINGS_EDITOR_COMMAND_FOCUS_NEXT_SETTING="settings.action.focusNextSetting",t.SETTINGS_EDITOR_COMMAND_FOCUS_PREVIOUS_SETTING="settings.action.focusPreviousSetting",
t.SETTINGS_EDITOR_COMMAND_FOCUS_FILE="settings.action.focusSettingsFile",t.SETTINGS_EDITOR_COMMAND_EDIT_FOCUSED_SETTING="settings.action.editFocusedSetting",t.SETTINGS_EDITOR_COMMAND_FOCUS_SETTINGS_FROM_SEARCH="settings.action.focusSettingsFromSearch",t.SETTINGS_EDITOR_COMMAND_FOCUS_SETTINGS_LIST="settings.action.focusSettingsList",t.SETTINGS_EDITOR_COMMAND_SHOW_CONTEXT_MENU="settings.action.showContextMenu",t.KEYBINDINGS_EDITOR_COMMAND_SEARCH="keybindings.editor.searchKeybindings",t.KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS="keybindings.editor.clearSearchResults",t.KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS="keybindings.editor.recordSearchKeys",t.KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE="keybindings.editor.toggleSortByPrecedence",t.KEYBINDINGS_EDITOR_COMMAND_DEFINE="keybindings.editor.defineKeybinding",t.KEYBINDINGS_EDITOR_COMMAND_REMOVE="keybindings.editor.removeKeybinding",t.KEYBINDINGS_EDITOR_COMMAND_RESET="keybindings.editor.resetKeybinding",
t.KEYBINDINGS_EDITOR_COMMAND_COPY="keybindings.editor.copyKeybindingEntry",t.KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND="keybindings.editor.copyCommandKeybindingEntry",t.KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR="keybindings.editor.showConflicts",t.KEYBINDINGS_EDITOR_COMMAND_FOCUS_KEYBINDINGS="keybindings.editor.focusKeybindings",t.KEYBINDINGS_EDITOR_CLEAR_INPUT="keybindings.editor.showDefaultKeybindings",t.KEYBINDINGS_EDITOR_SHOW_DEFAULT_KEYBINDINGS="keybindings.editor.showDefaultKeybindings",t.KEYBINDINGS_EDITOR_SHOW_USER_KEYBINDINGS="keybindings.editor.showUserKeybindings",t.FOLDER_SETTINGS_PATH=r.join(".vscode","settings.json"),t.DEFAULT_SETTINGS_EDITOR_SETTING="workbench.settings.openDefaultSettings"}),define(e[247],t([1,0,78,151,50]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.hasOpenBrace=function(e){for(;16!==e.scan();){if(1===e.getToken())return!0}return!1},e.offsetToPosition=function(e,t){
for(var i=0,r=e.getEOL().length,o=e.getLineCount(),s=1;s<=o;s++){var a=i+(e.getLineContent(s).length+r);if(a>t)return new n.Position(s,t-i+1);i=a}return new n.Position(o,e.getLineMaxColumn(o))},e.insertSnippet=function(e,t){var o,s=e.getValueLengthInRange(new r.Range(1,1,t.lineNumber,t.column));!function(e){e[e.INVALID=0]="INVALID",e[e.AFTER_OBJECT=1]="AFTER_OBJECT",e[e.BEFORE_OBJECT=2]="BEFORE_OBJECT"}(o||(o={}));for(var a=o.INVALID,c=-1,l=o.INVALID,u=i.createScanner(e.getValue()),d=0,p=0,h=function(e,t){t!==o.INVALID&&1===d&&0===p?(a=t,c=e,l=t):a!==o.INVALID&&(a=o.INVALID,c=u.getTokenOffset())};16!==u.scan();){var g=u.getPosition(),f=!1;switch(u.getToken()){case 3:f=!0,d++,h(g,o.BEFORE_OBJECT);break;case 4:f=!0,d--,h(g,o.INVALID);break;case 5:f=!0,h(g,o.BEFORE_OBJECT);break;case 1:f=!0,p++,h(g,o.INVALID);break;case 2:f=!0,p--,h(g,o.AFTER_OBJECT);break;case 15:case 14:f=!0}if(g>=s&&(a!==o.INVALID||-1!==c)){var v=void 0,m=void 0;return a!==o.INVALID?(v=f?g:u.getTokenOffset(),m=a):(v=c,m=l),
m===o.AFTER_OBJECT?{position:this.offsetToPosition(e,v),prepend:",",append:""}:(u.setPosition(v),{position:this.offsetToPosition(e,v),prepend:"",append:this.hasOpenBrace(u)?",":""})}}var y=e.getLineCount();return{position:new n.Position(y,e.getLineMaxColumn(y)),prepend:"\n[",append:"]"}},e}();t.SmartSnippetInserter=o}),define(e[248],t([1,0,2,7,87,197,5,11,41,250,10]),function(e,t,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(t,i,r,o,s){void 0===r&&(r=Object.create(null));var a=e.call(this)||this;return a.contextViewProvider=i,a.themeService=o,a.contextKeyService=s,a._onSubmit=a._register(new l.Emitter),a.onSubmit=a._onSubmit.event,a._onCancel=a._register(new l.Emitter),a.onCancel=a._onCancel.event,a.onOptionChange=null,a.width=r.width||100,a.placeholder=r.placeholder||"",a.ariaLabel=r.ariaLabel||n.localize("defaultLabel","input"),a.domNode=null,a.inputBox=null,a.render(r),t.appendChild(a.domNode),a}return i(t,e),t.prototype.dispose=function(){
e.prototype.dispose.call(this),this.inputFocusTracker&&this.inputFocusTracker.dispose()},t.prototype.on=function(e,i){switch(e){case"keydown":case"keyup":this._register(s.addDisposableListener(this.inputBox.inputElement,e,i));break;case t.OPTION_CHANGE:this.onOptionChange=i}return this},t.prototype.setWidth=function(e){this.width=e,this.domNode.style.width=this.width+"px",this.contextViewProvider.layout(),this.setInputWidth()},t.prototype.getValue=function(){return this.inputBox.value},t.prototype.setValue=function(e){this.inputBox.value!==e&&(this.inputBox.value=e)},t.prototype.select=function(){this.inputBox.select()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.inputHasFocus=function(){return this.inputBox.hasFocus()},t.prototype.setInputWidth=function(){this.inputBox.width=this.width-this.getSubcontrolsWidth()-2},t.prototype.getSubcontrolsWidth=function(){return 0},t.prototype.getHistory=function(){return this.inputBox.getHistory()},t.prototype.clearHistory=function(){
this.inputBox.clearHistory()},t.prototype.onSearchSubmit=function(){this.inputBox.addToHistory()},t.prototype.showNextTerm=function(){this.inputBox.showNextValue()},t.prototype.showPreviousTerm=function(){this.inputBox.showPreviousValue()},t.prototype.render=function(e){var t=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",s.addClass(this.domNode,"monaco-findInput"),this.inputBox=new p.ContextScopedHistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.ariaLabel||"",validationOptions:{validation:null},history:e.history||[]},this.contextKeyService),this._register(d.attachInputBoxStyler(this.inputBox,this.themeService)),this.inputFocusTracker=s.trackFocus(this.inputBox.inputElement),this.onkeyup(this.inputBox.inputElement,function(e){return t.onInputKeyUp(e)});var i=document.createElement("div");i.className="controls",this.renderSubcontrols(i),this.domNode.appendChild(i),this.setInputWidth()},
t.prototype.renderSubcontrols=function(e){},t.prototype.onInputKeyUp=function(e){switch(e.keyCode){case 3:return void this._onSubmit.fire();case 9:return void this._onCancel.fire();default:return}},t.OPTION_CHANGE="optionChange",t=r([o(3,u.IThemeService),o(4,h.IContextKeyService)],t)}(a.Widget);t.PatternInputWidget=g;var f=function(e){function t(t,i,n,r,o){return void 0===n&&(n=Object.create(null)),e.call(this,t,i,n,r,o)||this}return i(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.useExcludesAndIgnoreFilesBox.dispose()},t.prototype.useExcludesAndIgnoreFiles=function(){return this.useExcludesAndIgnoreFilesBox.checked},t.prototype.setUseExcludesAndIgnoreFiles=function(e){this.useExcludesAndIgnoreFilesBox.checked=e},t.prototype.getSubcontrolsWidth=function(){return e.prototype.getSubcontrolsWidth.call(this)+this.useExcludesAndIgnoreFilesBox.width()},t.prototype.renderSubcontrols=function(t){var i=this;this.useExcludesAndIgnoreFilesBox=this._register(new c.Checkbox({
actionClassName:"useExcludesAndIgnoreFiles",title:n.localize("useExcludesAndIgnoreFilesDescription","Use Exclude Settings and Ignore Files"),isChecked:!0})),this._register(this.useExcludesAndIgnoreFilesBox.onChange(function(e){i.onOptionChange(null),e||i.inputBox.focus()})),this._register(d.attachCheckboxStyler(this.useExcludesAndIgnoreFilesBox,this.themeService)),t.appendChild(this.useExcludesAndIgnoreFilesBox.domNode),e.prototype.renderSubcontrols.call(this,t)},t=r([o(3,u.IThemeService),o(4,h.IContextKeyService)],t)}(g);t.ExcludePatternInputWidget=f}),define(e[152],t([1,0,10]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FindInFilesActionId="workbench.action.findInFiles",t.FocusActiveEditorCommandId="search.action.focusActiveEditor",t.FocusSearchFromResults="search.action.focusSearchFromResults",t.OpenMatchToSide="search.action.openResultToSide",t.CancelActionId="search.action.cancel",t.RemoveActionId="search.action.remove",t.CopyPathCommandId="search.action.copyPath",
t.CopyMatchCommandId="search.action.copyMatch",t.CopyAllCommandId="search.action.copyAll",t.ClearSearchHistoryCommandId="search.action.clearHistory",t.FocusSearchListCommandID="search.action.focusSearchList",t.ReplaceActionId="search.action.replace",t.ReplaceAllInFileActionId="search.action.replaceAllInFile",t.ReplaceAllInFolderActionId="search.action.replaceAllInFolder",t.CloseReplaceWidgetActionId="closeReplaceInFilesWidget",t.ToggleCaseSensitiveCommandId="toggleSearchCaseSensitive",t.ToggleWholeWordCommandId="toggleSearchWholeWord",t.ToggleRegexCommandId="toggleSearchRegex",t.ToggleSearchViewPositionCommandId="search.action.toggleSearchViewPosition",t.SearchViewVisibleKey=new i.RawContextKey("searchViewletVisible",!0),t.SearchViewFocusedKey=new i.RawContextKey("searchViewletFocus",!1),t.InputBoxFocusedKey=new i.RawContextKey("inputBoxFocus",!1),t.SearchInputBoxFocusedKey=new i.RawContextKey("searchInputBoxFocus",!1),t.ReplaceInputBoxFocusedKey=new i.RawContextKey("replaceInputBoxFocus",!1),
t.PatternIncludesFocusedKey=new i.RawContextKey("patternIncludesInputBoxFocus",!1),t.PatternExcludesFocusedKey=new i.RawContextKey("patternExcludesInputBoxFocus",!1),t.ReplaceActiveKey=new i.RawContextKey("replaceActive",!1),t.HasSearchResults=new i.RawContextKey("hasSearchResult",!1),t.FirstMatchFocusKey=new i.RawContextKey("firstMatchFocus",!1),t.FileMatchOrMatchFocusKey=new i.RawContextKey("fileMatchOrMatchFocus",!1),t.FileMatchOrFolderMatchFocusKey=new i.RawContextKey("fileMatchOrFolderMatchFocus",!1),t.FileFocusKey=new i.RawContextKey("fileMatchFocus",!1),t.FolderFocusKey=new i.RawContextKey("folderMatchFocus",!1),t.MatchFocusKey=new i.RawContextKey("matchFocus",!1)}),define(e[203],t([1,0,2,19,40,118,22,139,25,35,13,80,21,70,9,47]),function(e,t,i,n,s,a,c,l,u,d,p,h,g,f,v,m){"use strict";function y(e){return e.length?e.reduce(function(e,t){return e[t]=!0,e},Object.create(null)):void 0}Object.defineProperty(t,"__esModule",{value:!0});var S=function(){function e(e,t,i){this.configurationService=e,
this.workspaceContextService=t,this.environmentService=i}return e.prototype.text=function(e,t,i){return this.query(2,e,t,i)},e.prototype.file=function(e,t){return this.query(1,null,e,t)},e.prototype.query=function(e,t,i,n){var r=this;void 0===n&&(n={});var o=this.parseSearchPaths(n.includePattern),a=o.searchPaths,c=o.pattern,l=this.parseExcludePattern(n.excludePattern),u=i&&i.map(function(t){return r.getFolderQueryForRoot(t,1===e,n)});if(a&&a.length){var d=u&&this.mergeExcludesFromFolderQueries(u);u=a.map(function(e){return r.getFolderQueryForSearchPath(e)}),d&&(l=s.mixin(l||Object.create(null),d))}var p=!i||i.every(function(e){return r.configurationService.getValue({resource:e}).search.useIgnoreFiles}),h=!i||i.every(function(e){return r.configurationService.getValue({resource:e}).search.useRipgrep}),g=!this.configurationService.getValue().search.followSymlinks;t&&(this.resolveSmartCaseToCaseSensitive(t),t.wordSeparators=this.configurationService.getValue().editor.wordSeparators);var v={type:e,
folderQueries:u,usingSearchPaths:!(!a||!a.length),extraFileResources:n.extraFileResources,filePattern:n.filePattern?n.filePattern.trim():n.filePattern,excludePattern:l,includePattern:c,maxResults:n.maxResults,sortByScore:n.sortByScore,cacheKey:n.cacheKey,contentPattern:t,useRipgrep:h,disregardIgnoreFiles:n.disregardIgnoreFiles||!p,disregardExcludeSettings:n.disregardExcludeSettings,ignoreSymlinks:g,previewOptions:n.previewOptions,exists:n.exists},m=n.extraFileResources&&n.extraFileResources.filter(function(e){return f.pathIncludedInQuery(v,e.fsPath)});return v.extraFileResources=m&&m.length?m:void 0,v},e.prototype.resolveSmartCaseToCaseSensitive=function(e){e.isSmartCase&&(e.isRegExp?c.containsUppercaseCharacter(e.pattern,!0)&&(e.isCaseSensitive=!0):c.containsUppercaseCharacter(e.pattern)&&(e.isCaseSensitive=!0))},e.prototype.parseSearchPaths=function(e){var t=this,i=function(e){return l.splitGlobAware(e,",").map(function(e){return e.trim()}).filter(function(e){return!!e.length})}(e).map(function(e){
return h.untildify(e,t.environmentService.userHome)}),r=a.groupBy(i,function(e){return function(e){return u.isAbsolute(e)||/^\.\.?[\/\\]/.test(e)}(e)?"searchPaths":"exprSegments"}),o=(r.exprSegments||[]).map(function(e){return"."===e[0]&&(e="*"+e),function(e){return["**/"+e+"/**","**/"+e].map(function(e){return e.replace(/\*\*\/\*\*/g,"**")})}(e)}),s=n.flatten(o),c={},d=this.expandSearchPathPatterns(r.searchPaths);d&&d.length&&(c.searchPaths=d);var p=y(s);return p&&(c.pattern=p),c},e.prototype.parseExcludePattern=function(e){var t=this.parseSearchPaths(e),i=l.getEmptyExpression();return t.pattern&&(i=s.mixin(i,t.pattern)),t.searchPaths&&t.searchPaths.forEach(function(e){var t=e.searchPath.fsPath,n=e.pattern?u.join(t,e.pattern):t;i[n]=!0}),Object.keys(i).length?i:void 0},e.prototype.mergeExcludesFromFolderQueries=function(e){var t=this,i=e.reduce(function(e,i){return i.excludePattern&&s.mixin(e,t.getAbsoluteIExpression(i.excludePattern,i.folder.fsPath)),e},Object.create(null))
;return Object.keys(i).length?i:void 0},e.prototype.getAbsoluteIExpression=function(e,t){return Object.keys(e).reduce(function(i,n){if(e[n]&&!u.isAbsolute(n)){i[u.join(t,n)]=e[n]}return i},Object.create(null))},e.prototype.getExcludesForFolder=function(e,t){return t.disregardExcludeSettings?void 0:f.getExcludes(e)},e.prototype.expandSearchPathPatterns=function(e){var t=this;if(1===this.workspaceContextService.getWorkbenchState()||!e||!e.length)return[];return n.flatten(e.map(function(e){var i=function(e){var t=e.match(/[\*\{\}\(\)\[\]\?]/);if(t){var i=t.index,n=e.substr(0,i).match(/[/|\\][^/\\]*$/);if(n){var r=e.substr(0,n.index);return r.match(/[/\\]/)||(r+="/"),{pathPortion:r,globPortion:e.substr(n.index+1)}}}return{pathPortion:e}}(e),n=i.pathPortion,r=i.globPortion;return t.expandAbsoluteSearchPaths(n).map(function(e){return{searchPath:e,pattern:r}})})).filter(n.uniqueFilter(function(e){return e.searchPath.toString()}))},e.prototype.expandAbsoluteSearchPaths=function(e){
if(u.isAbsolute(e))return[p.URI.file(u.normalize(e))];if(2===this.workspaceContextService.getWorkbenchState()){var t=this.workspaceContextService.getWorkspace().folders[0].uri;return[d.joinPath(t,e)]}if("./"===e)return[];var n=e.match(/\.[\/\\]([^\/\\]+)([\/\\].+)?/);if(n){var r=n[1],o=this.workspaceContextService.getWorkspace().folders.filter(function(e){return e.name===r});if(o.length)return o.map(function(e){return n[2]?d.joinPath(e.uri,n[2]):e.uri});var s=i.localize("search.noWorkspaceWithName","No folder in workspace with name: {0}",r);throw new Error(s)}return[]},e.prototype.getFolderQueryForSearchPath=function(e){var t=e.searchPath,i=this.configurationService.getValue({resource:t});return{folder:t,includePattern:e.pattern&&y([e.pattern]),fileEncoding:i.files&&i.files.encoding}},e.prototype.getFolderQueryForRoot=function(e,t,i){var n=this.configurationService.getValue({resource:e});return{folder:e,excludePattern:this.getExcludesForFolder(n,i),fileEncoding:n.files&&n.files.encoding,
disregardIgnoreFiles:t?!n.search.useIgnoreFiles:void 0}},e=r([o(0,v.IConfigurationService),o(1,g.IWorkspaceContextService),o(2,m.IEnvironmentService)],e)}();t.QueryBuilder=S}),define(e[124],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IReplaceService=i.createDecorator("replaceService")}),define(e[148],t([1,0,6,24,15,57]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s;!function(e){var t=[];e.register=function(e){return e&&t.push(e),{dispose:function(){if(e){var i=t.indexOf(e);i>=0&&(t.splice(i,1),e=void 0)}}}},e.all=function(){return t.slice(0)}}(s=t.WorkspaceSymbolProviderRegistry||(t.WorkspaceSymbolProviderRegistry={})),t.getWorkspaceSymbols=function(e,t){void 0===t&&(t=o.CancellationToken.None);var r=[],a=s.all().map(function(i){return Promise.resolve(i.provideWorkspaceSymbols(e,t)).then(function(e){Array.isArray(e)&&r.push([i,e])},n.onUnexpectedError)});return i.TPromise.join(a).then(function(e){return r})},
t.getOutOfWorkspaceEditorResources=function(e,t){var i=[];return e.editors.forEach(function(e){var n=r.toResource(e,{supportSideBySide:!0});n&&!t.isInsideWorkspace(n)&&i.push(n)}),i}}),define(e[97],t([1,0,17,57,24,5,80,4,39,40,22,13,50,71,76,37,3,405,70,31,26,11,124]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_){"use strict";function D(e,t,i){var n=e.range.endLineNumber-1,r=e.range.endColumn-1;return e.range.endLineNumber!==e.range.startLineNumber&&(n=e.range.startLineNumber-1,r=t.getLineLength(e.range.startLineNumber)),new E.TextSearchResult(t.getLineContent(e.range.startLineNumber),new f.Range(e.range.startLineNumber-1,e.range.startColumn-1,n,r),i)}Object.defineProperty(t,"__esModule",{value:!0});var A=function(){function e(e,t){this._parent=e,this._range=new f.Range(t.range.startLineNumber+1,t.range.startColumn+1,t.range.endLineNumber+1,t.range.endColumn+1),
this._rangeInPreviewText=new f.Range(t.preview.match.startLineNumber+1,t.preview.match.startColumn+1,t.preview.match.endLineNumber+1,t.preview.match.endColumn+1),this._previewText=t.preview.text,this._id=this._parent.id()+">"+this._range+this.getMatchString()}return e.prototype.id=function(){return this._id},e.prototype.parent=function(){return this._parent},e.prototype.text=function(){return this._previewText},e.prototype.range=function(){return this._range},e.prototype.preview=function(){var t=this._previewText.substring(0,this._rangeInPreviewText.startColumn-1),i=this.getMatchString(),n=this._previewText.substring(this._rangeInPreviewText.endColumn-1);t=h.lcut(t,26);var r=e.MAX_PREVIEW_CHARS-t.length;return i=i.substr(0,r),r-=i.length,n=n.substr(0,r),{before:t,inside:i,after:n}},Object.defineProperty(e.prototype,"replaceString",{get:function(){var e=this.parent().parent().searchModel,t=this.getMatchString(),i=e.replacePattern.getReplaceString(t)
;return null===i&&(i=e.replacePattern.getReplaceString(t+this._previewText.substring(this._rangeInPreviewText.endColumn-1))),null===i&&(i=e.replacePattern.pattern),i},enumerable:!0,configurable:!0}),e.prototype.getMatchString=function(){return this._previewText.substring(this._rangeInPreviewText.startColumn-1,this._rangeInPreviewText.endColumn-1)},e.MAX_PREVIEW_CHARS=250,e}();t.Match=A;var x=function(e){function t(t,i,r,o,s,a,l){var u=e.call(this)||this;return u._query=t,u._previewOptions=i,u._maxResults=r,u._parent=o,u.rawMatch=s,u.modelService=a,u.replaceService=l,u._onChange=u._register(new c.Emitter),u.onChange=u._onChange.event,u._onDispose=u._register(new c.Emitter),u.onDispose=u._onDispose.event,u._modelDecorations=[],u._resource=u.rawMatch.resource,u._matches=new Map,u._removedMatches=new Set,u._updateScheduler=new n.RunOnceScheduler(u.updateMatchesForModel.bind(u),250),u.createMatches(),u.registerListeners(),u}return i(t,e),t.getDecorationOption=function(e){
return e?t._CURRENT_FIND_MATCH:t._FIND_MATCH},t.prototype.createMatches=function(){var e=this,t=this.modelService.getModel(this._resource);t?(this.bindModel(t),this.updateMatchesForModel()):this.rawMatch.matches.forEach(function(t){var i=new A(e,t);e.add(i)})},t.prototype.registerListeners=function(){var e=this;this._register(this.modelService.onModelAdded(function(t){t.uri.toString()===e._resource.toString()&&e.bindModel(t)}))},t.prototype.bindModel=function(e){var t=this;this._model=e,this._modelListener=this._model.onDidChangeContent(function(){t._updateScheduler.schedule()}),this._model.onWillDispose(function(){return t.onModelWillDispose()}),this.updateHighlights()},t.prototype.onModelWillDispose=function(){this.updateMatchesForModel(),this.unbindModel()},t.prototype.unbindModel=function(){this._model&&(this._updateScheduler.cancel(),this._model.deltaDecorations(this._modelDecorations,[]),this._model=null,this._modelListener.dispose())},t.prototype.updateMatchesForModel=function(){if(this._model){
this._matches=new Map;var e=this._model.findMatches(this._query.pattern,this._model.getFullModelRange(),this._query.isRegExp,this._query.isCaseSensitive,this._query.isWordMatch?this._query.wordSeparators:null,!1,this._maxResults);this.updateMatches(e,!0)}},t.prototype.updatesMatchesForLineAfterReplace=function(e,t){var i=this,n={startLineNumber:e,startColumn:this._model.getLineMinColumn(e),endLineNumber:e,endColumn:this._model.getLineMaxColumn(e)};d.values(this._matches).filter(function(t){return t.range().startLineNumber===e}).forEach(function(e){return i._matches.delete(e.id())});var r=this._model.findMatches(this._query.pattern,n,this._query.isRegExp,this._query.isCaseSensitive,this._query.isWordMatch?this._query.wordSeparators:null,!1,this._maxResults);this.updateMatches(r,t)},t.prototype.updateMatches=function(e,t){var i=this;e.forEach(function(e){var t=D(e,i._model,i._previewOptions),n=new A(i,t);i._removedMatches.has(n.id())||(i.add(n),i.isMatchSelected(n)&&(i._selectedMatch=n))}),
this._onChange.fire(t),this.updateHighlights()},t.prototype.updateHighlights=function(){var e=this;this._model&&(this.parent().showHighlights?this._modelDecorations=this._model.deltaDecorations(this._modelDecorations,this.matches().map(function(i){return{range:i.range(),options:t.getDecorationOption(e.isMatchSelected(i))}})):this._modelDecorations=this._model.deltaDecorations(this._modelDecorations,[]))},t.prototype.id=function(){return this.resource().toString()},t.prototype.parent=function(){return this._parent},t.prototype.matches=function(){return d.values(this._matches)},t.prototype.remove=function(e){this.removeMatch(e),this._removedMatches.add(e.id()),this._onChange.fire(!1)},t.prototype.replace=function(e){var t=this;return this.replaceService.replace(e).then(function(){return t.updatesMatchesForLineAfterReplace(e.range().startLineNumber,!1)})},t.prototype.setSelectedMatch=function(e){if(e){if(!this._matches.has(e.id()))return;if(this.isMatchSelected(e))return}this._selectedMatch=e,
this.updateHighlights()},t.prototype.getSelectedMatch=function(){return this._selectedMatch},t.prototype.isMatchSelected=function(e){return this._selectedMatch&&this._selectedMatch.id()===e.id()},t.prototype.count=function(){return this.matches().length},t.prototype.resource=function(){return this._resource},t.prototype.name=function(){return l.getBaseLabel(this.resource())},t.prototype.add=function(e,t){this._matches.set(e.id(),e),t&&this._onChange.fire(!0)},t.prototype.removeMatch=function(e){this._matches.delete(e.id()),this.isMatchSelected(e)?this.setSelectedMatch(null):this.updateHighlights()},t.prototype.dispose=function(){this.setSelectedMatch(null),this.unbindModel(),this._onDispose.fire(),e.prototype.dispose.call(this)},t._CURRENT_FIND_MATCH=m.ModelDecorationOptions.register({stickiness:v.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,zIndex:13,className:"currentFindMatch",overviewRuler:{color:I.themeColorFromId(C.overviewRulerFindMatchForeground),position:v.OverviewRulerLane.Center}}),
t._FIND_MATCH=m.ModelDecorationOptions.register({stickiness:v.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch",overviewRuler:{color:I.themeColorFromId(C.overviewRulerFindMatchForeground),position:v.OverviewRulerLane.Center}}),t=r([o(5,y.IModelService),o(6,_.IReplaceService)],t)}(u.Disposable);t.FileMatch=x;var T=function(e){function t(t,i,n,r,o,s,a,l){var u=e.call(this)||this;return u._resource=t,u._id=i,u._index=n,u._query=r,u._parent=o,u._searchModel=s,u.replaceService=a,u.instantiationService=l,u._onChange=u._register(new c.Emitter),u.onChange=u._onChange.event,u._onDispose=u._register(new c.Emitter),u.onDispose=u._onDispose.event,u._replacingAll=!1,u._fileMatches=new d.ResourceMap,u._unDisposedFileMatches=new d.ResourceMap,u}return i(t,e),Object.defineProperty(t.prototype,"searchModel",{get:function(){return this._searchModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHighlights",{get:function(){return this._parent.showHighlights},enumerable:!0,
configurable:!0}),Object.defineProperty(t.prototype,"replacingAll",{set:function(e){this._replacingAll=e},enumerable:!0,configurable:!0}),t.prototype.id=function(){return this._id},t.prototype.resource=function(){return this._resource},t.prototype.index=function(){return this._index},t.prototype.name=function(){return l.getBaseLabel(this.resource())},t.prototype.parent=function(){return this._parent},t.prototype.hasResource=function(){return!!this._resource},t.prototype.add=function(e,t){var i=this,n=[];e.forEach(function(e){i._fileMatches.has(e.resource)&&i._fileMatches.get(e.resource).dispose();var t=i.instantiationService.createInstance(x,i._query.contentPattern,i._query.previewOptions,i._query.maxResults,i,e);i.doAdd(t),n.push(t);var r=t.onChange(function(){return i.onFileChange(t)});t.onDispose(function(){return r.dispose()})}),!t&&n.length&&this._onChange.fire({elements:n,added:!0})},t.prototype.clear=function(){var e=this.matches();this.disposeMatches(),this._onChange.fire({elements:e,removed:!0})},
t.prototype.remove=function(e){this.doRemove(e)},t.prototype.replace=function(e){var t=this;return this.replaceService.replace([e]).then(function(){t.doRemove(e,!1,!0)})},t.prototype.replaceAll=function(){var e=this,t=this.matches();return this.replaceService.replace(t).then(function(){t.forEach(function(t){return e.doRemove(t,!1,!0)})})},t.prototype.matches=function(){return this._fileMatches.values()},t.prototype.isEmpty=function(){return 0===this.fileCount()},t.prototype.fileCount=function(){return this._fileMatches.size},t.prototype.count=function(){return this.matches().reduce(function(e,t){return e+t.count()},0)},t.prototype.onFileChange=function(e){var t=!1,i=!1;this._fileMatches.has(e.resource())||(this.doAdd(e),t=!0),0===e.count()&&(this.doRemove(e,!1,!1),t=!1,i=!0),this._replacingAll||this._onChange.fire({elements:[e],added:t,removed:i})},t.prototype.doAdd=function(e){this._fileMatches.set(e.resource(),e),this._unDisposedFileMatches.has(e.resource())&&this._unDisposedFileMatches.delete(e.resource())
},t.prototype.doRemove=function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!0),this._fileMatches.delete(e.resource()),t?e.dispose():this._unDisposedFileMatches.set(e.resource(),e),i&&this._onChange.fire({elements:[e],removed:!0})},t.prototype.disposeMatches=function(){this._fileMatches.values().forEach(function(e){return e.dispose()}),this._unDisposedFileMatches.values().forEach(function(e){return e.dispose()}),this._fileMatches.clear(),this._unDisposedFileMatches.clear()},t.prototype.dispose=function(){this.disposeMatches(),this._onDispose.fire(),e.prototype.dispose.call(this)},t=r([o(6,_.IReplaceService),o(7,S.IInstantiationService)],t)}(u.Disposable);t.FolderMatch=T,t.searchMatchComparer=function(e,t){return e instanceof T&&t instanceof T?e.index()-t.index():e instanceof x&&t instanceof x?e.resource().fsPath.localeCompare(t.resource().fsPath)||e.name().localeCompare(t.name()):e instanceof A&&t instanceof A?f.Range.compareRangesUsingStarts(e.range(),t.range()):void 0};var R=function(e){function t(t,i,n,r){
var o=e.call(this)||this;return o._searchModel=t,o.replaceService=i,o.telemetryService=n,o.instantiationService=r,o._onChange=o._register(new c.Emitter),o.onChange=o._onChange.event,o._folderMatches=[],o._folderMatchesMap=d.TernarySearchTree.forPaths(),o._rangeHighlightDecorations=o.instantiationService.createInstance(k),o}return i(t,e),Object.defineProperty(t.prototype,"query",{set:function(e){var t=this;this.clear(),this._folderMatches=(e.folderQueries||[]).map(function(e){return e.folder}).map(function(i,n){return t.createFolderMatch(i,i.toString(),n,e)}),this._folderMatches.forEach(function(e){return t._folderMatchesMap.set(e.resource().toString(),e)}),this._otherFilesMatch=this.createFolderMatch(null,"otherFiles",this._folderMatches.length+1,e)},enumerable:!0,configurable:!0}),t.prototype.createFolderMatch=function(e,t,i,n){var r=this,o=this.instantiationService.createInstance(T,e,t,i,n,this,this._searchModel),s=o.onChange(function(e){return r._onChange.fire(e)});return o.onDispose(function(){
return s.dispose()}),o},Object.defineProperty(t.prototype,"searchModel",{get:function(){return this._searchModel},enumerable:!0,configurable:!0}),t.prototype.add=function(e,t){var i=this;void 0===t&&(t=!1);var n=new d.ResourceMap,r=[];this._folderMatches.forEach(function(e){return n.set(e.resource(),[])}),e.forEach(function(e){var t=i.getFolderMatch(e.resource);t.resource()?n.get(t.resource()).push(e):r.push(e)}),n.forEach(function(e){if(e.length){var n=i.getFolderMatch(e[0].resource);n&&n.add(e,t)}}),this.otherFiles.add(r,t)},t.prototype.clear=function(){this.folderMatches().forEach(function(e){return e.clear()}),this.disposeMatches()},t.prototype.remove=function(e){e instanceof x?this.getFolderMatch(e.resource()).remove(e):e.clear()},t.prototype.replace=function(e){return this.getFolderMatch(e.resource()).replace(e)},t.prototype.replaceAll=function(e){var t=this;this.replacingAll=!0;var i=this.replaceService.replace(this.matches(),e);return c.stopwatch(c.fromPromise(i))(function(e){
return t.telemetryService.publicLog("replaceAll.started",{duration:e})}),i.then(function(){t.replacingAll=!1,t.clear()},function(){t.replacingAll=!1})},t.prototype.folderMatches=function(){return this._otherFilesMatch?this._folderMatches.concat(this._otherFilesMatch):this._folderMatches.concat()},t.prototype.matches=function(){var e=[];return this.folderMatches().forEach(function(t){e.push(t.matches())}),[].concat.apply([],e)},t.prototype.isEmpty=function(){return this.folderMatches().every(function(e){return e.isEmpty()})},t.prototype.fileCount=function(){return this.folderMatches().reduce(function(e,t){return e+t.fileCount()},0)},t.prototype.count=function(){return this.matches().reduce(function(e,t){return e+t.count()},0)},Object.defineProperty(t.prototype,"showHighlights",{get:function(){return this._showHighlights},enumerable:!0,configurable:!0}),t.prototype.toggleHighlights=function(e){if(this._showHighlights!==e){this._showHighlights=e;var t=null;this.matches().forEach(function(e){e.updateHighlights(),
t||(t=e.getSelectedMatch())}),this._showHighlights&&t?this._rangeHighlightDecorations.highlightRange(t.parent().resource(),t.range()):this._rangeHighlightDecorations.removeHighlightRange()}},Object.defineProperty(t.prototype,"rangeHighlightDecorations",{get:function(){return this._rangeHighlightDecorations},enumerable:!0,configurable:!0}),t.prototype.getFolderMatch=function(e){var t=this._folderMatchesMap.findSubstr(e.toString());return t||this.otherFiles},Object.defineProperty(t.prototype,"otherFiles",{get:function(){return this._otherFilesMatch},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replacingAll",{set:function(e){this.folderMatches().forEach(function(t){t.replacingAll=e})},enumerable:!0,configurable:!0}),t.prototype.disposeMatches=function(){this.folderMatches().forEach(function(e){return e.dispose()}),this._folderMatches=[],this._otherFilesMatch=null,this._folderMatchesMap=d.TernarySearchTree.forPaths(),this._rangeHighlightDecorations.removeHighlightRange()},
t.prototype.dispose=function(){this.disposeMatches(),this._rangeHighlightDecorations.dispose(),e.prototype.dispose.call(this)},t=r([o(1,_.IReplaceService),o(2,w.ITelemetryService),o(3,S.IInstantiationService)],t)}(u.Disposable);t.SearchResult=R;var O=function(e){function t(t,i,n){var r=e.call(this)||this;return r.searchService=t,r.telemetryService=i,r.instantiationService=n,r._searchQuery=null,r._replaceActive=!1,r._replaceString=null,r._replacePattern=null,r._onReplaceTermChanged=r._register(new c.Emitter),r.onReplaceTermChanged=r._onReplaceTermChanged.event,r._searchResult=r.instantiationService.createInstance(R,r),r}return i(t,e),t.prototype.isReplaceActive=function(){return this._replaceActive},Object.defineProperty(t.prototype,"replaceActive",{set:function(e){this._replaceActive=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replacePattern",{get:function(){return this._replacePattern},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replaceString",{get:function(){
return this._replaceString},set:function(e){this._replaceString=e,this._searchQuery&&(this._replacePattern=new b.ReplacePattern(e,this._searchQuery.contentPattern)),this._onReplaceTermChanged.fire()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchResult",{get:function(){return this._searchResult},enumerable:!0,configurable:!0}),t.prototype.search=function(e,t){var i=this;this.cancelSearch(),this._searchQuery=e,this.searchResult.clear(),this._searchResult.query=this._searchQuery;var n=new c.Emitter;this._replacePattern=new b.ReplacePattern(this._replaceString,this._searchQuery.contentPattern);var r=this.currentCancelTokenSource=new s.CancellationTokenSource,o=this.searchService.search(this._searchQuery,this.currentCancelTokenSource.token,function(e){n.fire(),i.onSearchProgress(e),t&&t(e)}),a=function(){return r.dispose()};o.then(a,a);var l=c.fromPromise(o),u=c.anyEvent(l,n.event);c.stopwatch(u)(function(e){return i.telemetryService.publicLog("searchResultsFirstRender",{duration:e})})
;var d=c.stopwatch(l),p=Date.now();return d(function(e){return i.telemetryService.publicLog("searchResultsFinished",{duration:e})}),o.then(function(e){return i.onSearchCompleted(e,Date.now()-p)},function(e){return i.onSearchError(e,Date.now()-p)}),o},t.prototype.onSearchCompleted=function(e,t){var i=p.assign({},this._searchQuery.contentPattern);delete i.pattern;var n=e&&e.stats,r=this._searchQuery.folderQueries.every(function(e){return"file"===e.folder.scheme}),o=this._searchQuery.folderQueries.every(function(e){return"file"!==e.folder.scheme}),s=r?"file":o?"other":"mixed";return this.telemetryService.publicLog("searchResultsShown",{count:this._searchResult.count(),fileCount:this._searchResult.fileCount(),options:i,duration:t,useRipgrep:this._searchQuery.useRipgrep,type:n&&n.type,scheme:s}),e},t.prototype.onSearchError=function(e,t){a.isPromiseCanceledError(e)&&this.onSearchCompleted(null,t)},t.prototype.onSearchProgress=function(e){e.resource&&this._searchResult.add([e],!0)},
t.prototype.cancelSearch=function(){return!!this.currentCancelTokenSource&&(this.currentCancelTokenSource.cancel(),!0)},t.prototype.dispose=function(){this.cancelSearch(),this.searchResult.dispose(),e.prototype.dispose.call(this)},t=r([o(0,E.ISearchService),o(1,w.ITelemetryService),o(2,S.IInstantiationService)],t)}(u.Disposable);t.SearchModel=O;var M=function(){function e(e){this.instantiationService=e}return Object.defineProperty(e.prototype,"searchModel",{get:function(){return this._searchModel||(this._searchModel=this.instantiationService.createInstance(O)),this._searchModel},enumerable:!0,configurable:!0}),e=r([o(0,S.IInstantiationService)],e)}();t.SearchWorkbenchService=M,t.ISearchWorkbenchService=S.createDecorator("searchWorkbenchService");var k=function(){function e(e){this._modelService=e,this._decorationId=null,this._model=null,this._modelDisposables=[]}return e.prototype.removeHighlightRange=function(){this._model&&this._decorationId&&this._model.deltaDecorations([this._decorationId],[]),
this._decorationId=null},e.prototype.highlightRange=function(e,t,i){void 0===i&&(i=0);var n;(n=g.URI.isUri(e)?this._modelService.getModel(e):e)&&this.doHighlightRange(n,t)},e.prototype.doHighlightRange=function(t,i){this.removeHighlightRange(),this._decorationId=t.deltaDecorations([],[{range:i,options:e._RANGE_HIGHLIGHT_DECORATION}])[0],this.setModel(t)},e.prototype.setModel=function(e){var t=this;this._model!==e&&(this.disposeModelListeners(),this._model=e,this._modelDisposables.push(this._model.onDidChangeDecorations(function(e){t.disposeModelListeners(),t.removeHighlightRange(),t._model=null})),this._modelDisposables.push(this._model.onWillDispose(function(){t.disposeModelListeners(),t.removeHighlightRange(),t._model=null})))},e.prototype.disposeModelListeners=function(){this._modelDisposables.forEach(function(e){return e.dispose()}),this._modelDisposables=[]},e.prototype.dispose=function(){this._model&&(this.removeHighlightRange(),this.disposeModelListeners(),this._model=null)},
e._RANGE_HIGHLIGHT_DECORATION=m.ModelDecorationOptions.register({stickiness:v.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:!0}),e=r([o(0,y.IModelService)],e)}();t.RangeHighlightDecorations=k,t.editorMatchToTextSearchResult=D}),define(e[121],t([1,0,8,238,2,3]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISnippetsService=o.createDecorator("snippetService");var s={id:"vscode://schemas/snippets",allowComments:!0,defaultSnippets:[{label:r.localize("snippetSchema.json.default","Empty snippet"),body:{"${1:snippetName}":{prefix:"${2:prefix}",body:"${3:snippet}",description:"${4:description}"}}}],type:"object",description:r.localize("snippetSchema.json","User snippet configuration"),additionalProperties:{type:"object",required:["prefix","body"],properties:{prefix:{description:r.localize("snippetSchema.json.prefix","The prefix to used when selecting the snippet in intellisense"),type:["string","array"]},body:{
description:r.localize("snippetSchema.json.body","The snippet content. Use '$1', '${1:defaultText}' to define cursor positions, use '$0' for the final cursor position. Insert variable values with '${varName}' and '${varName:defaultText}', e.g 'This is file: $TM_FILENAME'."),type:["string","array"],items:{type:"string"}},description:{description:r.localize("snippetSchema.json.description","The snippet description."),type:"string"}},additionalProperties:!1}},a={id:"vscode://schemas/global-snippets",allowComments:!0,defaultSnippets:[{label:r.localize("snippetSchema.json.default","Empty snippet"),body:{"${1:snippetName}":{scope:"${2:scope}",prefix:"${3:prefix}",body:"${4:snippet}",description:"${5:description}"}}}],type:"object",description:r.localize("snippetSchema.json","User snippet configuration"),additionalProperties:{type:"object",required:["prefix","body"],properties:{prefix:{description:r.localize("snippetSchema.json.prefix","The prefix to used when selecting the snippet in intellisense"),
type:["string","array"]},scope:{description:r.localize("snippetSchema.json.scope","A list of language names to which this snippet applies, e.g 'typescript,javascript'."),type:"string"},body:{description:r.localize("snippetSchema.json.body","The snippet content. Use '$1', '${1:defaultText}' to define cursor positions, use '$0' for the final cursor position. Insert variable values with '${varName}' and '${varName:defaultText}', e.g 'This is file: $TM_FILENAME'."),type:["string","array"],items:{type:"string"}},description:{description:r.localize("snippetSchema.json.description","The snippet description."),type:"string"}},additionalProperties:!1}},c=i.Registry.as(n.Extensions.JSONContribution);c.registerSchema("vscode://schemas/snippets",s),c.registerSchema("vscode://schemas/global-snippets",a)}),define(e[259],t([1,0,2,38,47,43,45,92,23,17,143,13,121,39,62,21,16]),function(e,t,i,n,r,o,c,l,u,d,p,h,g,f,v,m,y){"use strict";var S=this;Object.defineProperty(t,"__esModule",{value:!0})
;var b,E="workbench.action.openSnippets";!function(e){e.is=function(e){return e&&"string"==typeof e.filepath}}(b||(b={})),n.CommandsRegistry.registerCommand(E,function(e){return s(S,void 0,void 0,function(){var t,n,u,S,E,w,C,I,_,D,A,x,T,R,O;return a(this,function(M){switch(M.label){case 0:return t=e.get(g.ISnippetsService),n=e.get(v.IQuickInputService),u=e.get(p.IOpenerService),S=e.get(c.IWindowService),E=e.get(o.IModeService),w=e.get(r.IEnvironmentService),C=e.get(m.IWorkspaceContextService),I=e.get(y.IFileService),[4,function(e,t,n){return s(this,void 0,void 0,function(){var r,o,s,c,u,d,p,h,g,v,m,y,S,b,E,w,C,I,_;return a(this,function(a){switch(a.label){case 0:return r=[],o=[],s=new Set,c=0,[4,e.getSnippetFiles()];case 1:u=a.sent(),a.label=2;case 2:return c<u.length?3===(d=u[c]).source?[3,5]:d.isGlobalSnippets?[4,d.load()]:[3,4]:[3,6];case 3:a.sent(),p=new Set;e:for(h=0,g=d.data;h<g.length;h++)for(v=g[h],m=0,y=v.scopes;m<y.length;m++){if(S=y[m],b=n.getLanguageName(S),p.size>=4){p.add(b+"...");break e}
p.add(b)}return r.push({label:l.basename(d.location.fsPath),filepath:d.location.fsPath,description:0===p.size?i.localize("global.scope","(global)"):i.localize("global.1","({0})",f.values(p).join(", "))}),[3,5];case 4:I=l.basename(d.location.fsPath,".json"),r.push({label:l.basename(d.location.fsPath),description:"("+n.getLanguageName(I)+")",filepath:d.location.fsPath}),s.add(I),a.label=5;case 5:return c++,[3,2];case 6:for(E=l.join(t.appSettingsHome,"snippets"),w=0,C=n.getRegisteredModes();w<C.length;w++)I=C[w],(_=n.getLanguageName(I))&&!s.has(I)&&o.push({label:I,description:"("+_+")",filepath:l.join(E,I+".json"),hint:!0});return r.sort(function(e,t){var i=l.extname(e.filepath);return i===l.extname(t.filepath)?e.label.localeCompare(t.label):".code-snippets"===i?-1:1}),o.sort(function(e,t){return e.label.localeCompare(t.label)}),[2,{existing:r,future:o}]}})})}(t,w,E)];case 1:for(_=M.sent(),D=_.existing,A=[{label:i.localize("new.global","New Global Snippets file..."),
uri:h.URI.file(l.join(w.appSettingsHome,"snippets"))}],x=0,T=C.getWorkspace().folders;x<T.length;x++)R=T[x],A.push({label:i.localize("new.folder","New Snippets file for '{0}'...",R.name),uri:R.toResource(".vscode")});return D.length>0?(D.unshift({type:"separator",label:i.localize("group.global","Existing Snippets")}),D.push({type:"separator",label:i.localize("new.global.sep","New Snippets")})):D.push({type:"separator",label:i.localize("new.global.sep","New Snippets")}),[4,n.pick([].concat(D,A,_.future),{placeHolder:i.localize("openSnippet.pickLanguage","Select Snippets File or Create Snippets"),matchOnDescription:!0})];case 2:return O=M.sent(),A.indexOf(O)>=0?[2,function(e,t,i,n){return s(this,void 0,void 0,function(){var r,o;return a(this,function(s){switch(s.label){case 0:return[4,i.createFolder(e)];case 1:return s.sent(),[4,d.timeout(100)];case 2:return s.sent(),[4,t.showSaveDialog({defaultPath:e.fsPath,filters:[{name:"Code Snippets",extensions:["code-snippets"]}]})];case 3:
return(r=s.sent())?(o=h.URI.file(r),l.dirname(o.fsPath)!==e.fsPath?[2,void 0]:[4,i.updateContent(o,["{","\t// Place your global snippets here. Each snippet is defined under a snippet name and has a scope, prefix, body and ","\t// description. Add comma separated ids of the languages where the snippet is applicable in the scope field. If scope ","\t// is left empty or omitted, the snippet gets applied to all languages. The prefix is what is ","\t// used to trigger the snippet and the body will be expanded and inserted. Possible variables are: ","\t// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. ","\t// Placeholders with the same ids are connected.","\t// Example:",'\t// "Print to console": {','\t// \t"scope": "javascript,typescript",','\t// \t"prefix": "log",','\t// \t"body": [',"\t// \t\t\"console.log('$1');\",",'\t// \t\t"$2"',"\t// \t],",'\t// \t"description": "Log output to console"',"\t// }","}"].join("\n"))]):[2,void 0];case 4:return s.sent(),
[4,n.open(o)];case 5:return s.sent(),[2]}})})}(O.uri,S,I,u)]:[3,3];case 3:return b.is(O)?O.hint?[4,function(e,t){return s(this,void 0,void 0,function(){var i;return a(this,function(n){switch(n.label){case 0:return[4,t.existsFile(h.URI.file(e.filepath))];case 1:return n.sent()?[2]:(i=["{","\t// Place your snippets for "+e.label+" here. Each snippet is defined under a snippet name and has a prefix, body and ","\t// description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:","\t// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. Placeholders with the ","\t// same ids are connected.","\t// Example:",'\t// "Print to console": {','\t// \t"prefix": "log",','\t// \t"body": [',"\t// \t\t\"console.log('$1');\",",'\t// \t\t"$2"',"\t// \t],",'\t// \t"description": "Log output to console"',"\t// }","}"].join("\n"),[4,t.updateContent(h.URI.file(e.filepath),i)]);case 2:return n.sent(),[2]}})})
}(O,I)]:[3,5]:[3,6];case 4:M.sent(),M.label=5;case 5:return[2,u.open(h.URI.file(O.filepath))];case 6:return[2]}})})}),u.MenuRegistry.appendMenuItem(u.MenuId.CommandPalette,{command:{id:E,title:{value:i.localize("openSnippet.label","Configure User Snippets"),original:"Preferences: Configure User Snippets"},category:i.localize("preferences","Preferences")}}),u.MenuRegistry.appendMenuItem(u.MenuId.MenubarPreferencesMenu,{group:"3_snippets",command:{id:E,title:i.localize({key:"miOpenSnippets",comment:["&& denotes a mnemonic"]},"User &&Snippets")},order:1})}),define(e[180],t([1,0,78,118,2,92,262,454,22]),function(e,t,i,n,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t,i,n,r,o,s){this.scopes=e,this.name=t,this.prefix=i,this.description=n,this.body=r,this.source=o,this.snippetSource=s,this.prefixLow=i?i.toLowerCase():i}return Object.defineProperty(e.prototype,"codeSnippet",{get:function(){return this._ensureCodeSnippet(),this._codeSnippet},enumerable:!0,
configurable:!0}),Object.defineProperty(e.prototype,"isBogous",{get:function(){return this._ensureCodeSnippet(),this._isBogous},enumerable:!0,configurable:!0}),e.prototype._ensureCodeSnippet=function(){if(!this._codeSnippet){var t=e._rewriteBogousVariables(this.body);"string"==typeof t?(this._codeSnippet=t,this._isBogous=!0):(this._codeSnippet=this.body,this._isBogous=!1)}},e.compare=function(e,t){return e.snippetSource<t.snippetSource?-1:e.snippetSource>t.snippetSource?1:e.name>t.name?1:e.name<t.name?-1:0},e._rewriteBogousVariables=function(e){for(var t=(new s.SnippetParser).parse(e,!1),i=new Map,n=0,r=0,o=t.placeholders;r<o.length;r++){var c=o[r];n=Math.max(n,c.index)}for(var l=!1,u=t.children.slice();u.length>0;){var d=u.shift();if(d instanceof s.Variable&&0===d.children.length&&!a.KnownSnippetVariableNames[d.name]){var p=i.has(d.name)?i.get(d.name):++n;i.set(d.name,p);var h=new s.Placeholder(p).appendChild(new s.Text(d.name));t.replace(d,[h]),l=!0}else u.push.apply(u,d.children)}
return!!l&&t.toTextmateString()},e}();t.Snippet=l;var u=function(){function e(e,t,i,n,r){this.source=e,this.location=t,this.defaultScopes=i,this._extension=n,this._fileService=r,this.data=[],this.isGlobalSnippets=".code-snippets"===o.extname(t.path),this.isUserSnippets=!this._extension}return e.prototype.select=function(e,t){this.isGlobalSnippets||!this.isUserSnippets?this._scopeSelect(e,t):this._filepathSelect(e,t)},e.prototype._filepathSelect=function(e,t){e===o.basename(this.location.path,".json")&&t.push.apply(t,this.data)},e.prototype._scopeSelect=function(e,t){for(var i=0,n=this.data;i<n.length;i++){var r=n[i],o=r.scopes.length;if(0===o)t.push(r);else for(var s=0;s<o;s++)if(r.scopes[s]===e){t.push(r);break}}var a=e.lastIndexOf(".");a>=0&&this._scopeSelect(e.substring(0,a),t)},e.prototype.load=function(){var e=this;return this._loadPromise||(this._loadPromise=Promise.resolve(this._fileService.resolveContent(this.location,{encoding:"utf8"})).then(function(t){var r=i.parse(t.value.toString())
;return"object"==typeof r&&n.forEach(r,function(t){var i=t.key,r=t.value;!function(e){return Boolean(e.body)&&Boolean(e.prefix)}(r)?n.forEach(r,function(t){var i=t.key,n=t.value;e._parseSnippet(i,n,e.data)}):e._parseSnippet(i,r,e.data)}),e})),this._loadPromise},e.prototype.reset=function(){this._loadPromise=void 0,this.data.length=0},e.prototype._parseSnippet=function(e,t,i){var n=this,o=t.prefix,s=t.body,a=t.description;if(Array.isArray(s)&&(s=s.join("\n")),("string"==typeof o||Array.isArray(o))&&"string"==typeof s){var u;u=this.defaultScopes?this.defaultScopes:"string"==typeof t.scope?t.scope.split(",").map(function(e){return e.trim()}).filter(function(e){return!c.isFalsyOrWhitespace(e)}):[];var d;d=this._extension?this._extension.displayName||this._extension.name:2===this.source?r.localize("source.workspaceSnippetGlobal","Workspace Snippet"):this.isGlobalSnippets?r.localize("source.userSnippetGlobal","Global User Snippet"):r.localize("source.userSnippet","User Snippet")
;(Array.isArray(o)?o:[o]).forEach(function(t){i.push(new l(u,e,t,a,s,d,n.source))})}},e}();t.SnippetFile=u}),define(e[263],t([1,0,2,58,43,38,121,136,115,180,62]),function(e,t,n,r,o,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(e,t,i){this.snippet=e,this.name=t,this.langId=i}return e.fromUser=function(t){if(!t||"object"!=typeof t)return e._empty;var i=t.snippet,n=t.name,r=t.langId;return"string"!=typeof i&&(i=void 0),"string"!=typeof n&&(n=void 0),"string"!=typeof r&&(r=void 0),new e(i,n,r)},e._empty=new e(void 0,void 0,void 0),e}(),f=function(e){function t(){return e.call(this,{id:"editor.action.insertSnippet",label:n.localize("snippet.suggestions.label","Insert Snippet"),alias:"Insert Snippet",precondition:d.EditorContextKeys.writable})||this}return i(t,e),t.prototype.run=function(e,t,i){var r=this,c=e.get(o.IModeService),d=e.get(l.ISnippetsService);if(t.getModel()){
var f=e.get(h.IQuickInputService),v=t.getPosition(),m=v.lineNumber,y=v.column,S=g.fromUser(i),b=S.snippet,E=S.name,w=S.langId;return new Promise(function(e,i){return s(r,void 0,void 0,function(){var r,o,s,l,u,h,g,v,S,C;return a(this,function(a){switch(a.label){case 0:return b?[2,e(new p.Snippet(void 0,void 0,void 0,void 0,b,void 0,1))]:(w?r=c.getLanguageIdentifier(w).id:(t.getModel().tokenizeIfCheap(m),r=t.getModel().getLanguageIdAtPosition(m,y),o=c.getLanguageIdentifier(r).language,c.getLanguageName(o)||(r=t.getModel().getLanguageIdentifier().id)),E?[4,d.getSnippets(r)]:[3,2]);case 1:return a.sent().every(function(t){return t.name!==E||(e(t),!1)}),[3,4];case 2:return[4,d.getSnippets(r)];case 3:for(s=a.sent().sort(p.Snippet.compare),l=[],u=void 0,h=0,g=s;h<g.length;h++){if(v=g[h],S={label:v.prefix,detail:v.description,snippet:v},!u||u.snippetSource!==v.snippetSource){switch(C="",v.snippetSource){case 1:C=n.localize("sep.userSnippet","User Snippets");break;case 3:
C=n.localize("sep.extSnippet","Extension Snippets");break;case 2:C=n.localize("sep.workspaceSnippet","Workspace Snippets")}l.push({type:"separator",label:C})}l.push(S),u=v}return[2,f.pick(l,{matchOnDetail:!0}).then(function(t){return e(t&&t.snippet)},i)];case 4:return[2]}})})}).then(function(e){e&&u.SnippetController2.get(t).insert(e.codeSnippet,0,0)})}},t}(r.EditorAction);r.registerEditorAction(f),c.CommandsRegistry.registerCommand("editor.action.showSnippets",function(e){return e.get(c.ICommandService).executeCommand("editor.action.insertSnippet")})}),define(e[264],t([1,0,10,3]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TERMINAL_PANEL_ID="workbench.panel.terminal",t.TERMINAL_SERVICE_ID="terminalService",t.KEYBINDING_CONTEXT_TERMINAL_IS_OPEN=new i.RawContextKey("terminalIsOpen",!1),t.KEYBINDING_CONTEXT_TERMINAL_FOCUS=new i.RawContextKey("terminalFocus",void 0),t.KEYBINDING_CONTEXT_TERMINAL_NOT_FOCUSED=t.KEYBINDING_CONTEXT_TERMINAL_FOCUS.toNegated(),
t.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED=new i.RawContextKey("terminalTextSelected",void 0),t.KEYBINDING_CONTEXT_TERMINAL_TEXT_NOT_SELECTED=t.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED.toNegated(),t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_VISIBLE=new i.RawContextKey("terminalFindWidgetVisible",void 0),t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_NOT_VISIBLE=t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_VISIBLE.toNegated(),t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_INPUT_FOCUSED=new i.RawContextKey("terminalFindWidgetInputFocused",!1),t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_FOCUSED=new i.RawContextKey("terminalFindWidgetFocused",!1),t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_INPUT_NOT_FOCUSED=t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_INPUT_FOCUSED.toNegated(),t.IS_WORKSPACE_SHELL_ALLOWED_STORAGE_KEY="terminal.integrated.isWorkspaceShellAllowed",t.NEVER_SUGGEST_SELECT_WINDOWS_SHELL_STORAGE_KEY="terminal.integrated.neverSuggestSelectWindowsShell",
t.NEVER_MEASURE_RENDER_TIME_STORAGE_KEY="terminal.integrated.neverMeasureRenderTime",t.EXT_HOST_CREATION_DELAY=100,t.ITerminalService=n.createDecorator(t.TERMINAL_SERVICE_ID),t.TerminalCursorStyle={BLOCK:"block",LINE:"line",UNDERLINE:"underline"},t.TERMINAL_CONFIG_SECTION="terminal.integrated",t.DEFAULT_LETTER_SPACING=0,t.MINIMUM_LETTER_SPACING=-5,t.DEFAULT_LINE_HEIGHT=1}),define(e[142],t([1,0,3]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.descriptorFn=e}return e.prototype.getDescription=function(){return this.descriptorFn(null)},e}();t.BaseBadge=r;var o=function(e){function t(t,i){var n=e.call(this,i)||this;return n.number=t,n}return i(t,e),t.prototype.getDescription=function(){return this.descriptorFn(this.number)},t}(r);t.NumberBadge=o;var s=function(e){function t(t,i){var n=e.call(this,i)||this;return n.text=t,n}return i(t,e),t}(r);t.TextBadge=s;var a=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(r)
;t.IconBadge=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r);t.ProgressBadge=c,t.IActivityService=n.createDecorator("activityService")}),define(e[120],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IBackupFileService=i.createDecorator("backupFileService"),t.BACKUP_FILE_RESOLVE_OPTIONS={acceptTextOnly:!0,encoding:"utf8"},t.BACKUP_FILE_UPDATE_OPTIONS={encoding:"utf8"}}),define(e[267],t([1,0,6,119,155,16,43,37,5,17,120,85,76]),function(e,t,n,s,a,c,l,u,d,p,h,g,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(e){function t(i,n,r,o,s,a,c,l,u){var h=e.call(this,c,a)||this;return h.modeId=i,h.resource=n,h.hasAssociatedFilePath=r,h.initialValue=o,h.preferredEncoding=s,h.backupFileService=l,h.configurationService=u,h._onDidChangeContent=h._register(new d.Emitter),h._onDidChangeDirty=h._register(new d.Emitter),h._onDidChangeEncoding=h._register(new d.Emitter),h.dirty=!1,h.versionId=0,
h.contentChangeEventScheduler=h._register(new p.RunOnceScheduler(function(){return h._onDidChangeContent.fire()},t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY)),h.registerListeners(),h}return i(t,e),Object.defineProperty(t.prototype,"onDidChangeContent",{get:function(){return this._onDidChangeContent.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeEncoding",{get:function(){return this._onDidChangeEncoding.event},enumerable:!0,configurable:!0}),t.prototype.getOrCreateMode=function(t,i,n){return i&&i!==a.PLAINTEXT_MODE_ID?e.prototype.getOrCreateMode.call(this,t,i,n):t.getOrCreateModeByFilepathOrFirstLine(this.resource.fsPath,n)},t.prototype.registerListeners=function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration(function(t){return e.onConfigurationChange()}))},t.prototype.onConfigurationChange=function(){
var e=this.configurationService.getValue(this.resource,"files.encoding");this.configuredEncoding!==e&&(this.configuredEncoding=e,this.preferredEncoding||this._onDidChangeEncoding.fire())},t.prototype.getVersionId=function(){return this.versionId},t.prototype.getModeId=function(){return this.textEditorModel?this.textEditorModel.getLanguageIdentifier().language:null},t.prototype.getEncoding=function(){return this.preferredEncoding||this.configuredEncoding},t.prototype.setEncoding=function(e){var t=this.getEncoding();this.preferredEncoding=e,t!==this.preferredEncoding&&this._onDidChangeEncoding.fire()},t.prototype.isDirty=function(){return this.dirty},t.prototype.setDirty=function(e){this.dirty!==e&&(this.dirty=e,this._onDidChangeDirty.fire())},t.prototype.getResource=function(){return this.resource},t.prototype.revert=function(){this.setDirty(!1),this.contentChangeEventScheduler.schedule()},t.prototype.load=function(){var e=this;return this.backupFileService.loadBackupResource(this.resource).then(function(t){
return t?e.backupFileService.resolveBackupContent(t):null}).then(function(t){var i=!!t;e.setDirty(e.hasAssociatedFilePath||i);var n;return n=t||f.createTextBufferFactory(e.initialValue||""),e.doLoad(n).then(function(t){return e.configuredEncoding=e.configurationService.getValue(e.resource,"files.encoding"),e._register(e.textEditorModel.onDidChangeContent(function(){return e.onModelContentChanged()})),e._register(e.textEditorModel.onDidChangeLanguage(function(){return e.onConfigurationChange()})),t})})},t.prototype.doLoad=function(e){var t=this;return this.textEditorModel?(this.updateTextEditorModel(e),n.TPromise.as(this)):this.createTextEditorModel(e,this.resource,this.modeId).then(function(e){return t})},t.prototype.onModelContentChanged=function(){this.versionId++,this.hasAssociatedFilePath||1!==this.textEditorModel.getLineCount()||""!==this.textEditorModel.getLineContent(1)?this.setDirty(!0):this.setDirty(!1),this.contentChangeEventScheduler.schedule()},t.prototype.isReadonly=function(){return!1},
t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY=c.CONTENT_CHANGE_EVENT_BUFFER_DELAY,t=r([o(5,l.IModeService),o(6,u.IModelService),o(7,h.IBackupFileService),o(8,g.ITextResourceConfigurationService)],t)}(s.BaseTextEditorModel);t.UntitledEditorModel=v}),define(e[156],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FOLDER_CONFIG_FOLDER_NAME=".vscode",t.FOLDER_SETTINGS_NAME="settings",t.FOLDER_SETTINGS_PATH=t.FOLDER_CONFIG_FOLDER_NAME+"/"+t.FOLDER_SETTINGS_NAME+".json",t.IWorkspaceConfigurationService=i.createDecorator("configurationService"),t.defaultSettingsSchemaId="vscode://schemas/settings/default",t.userSettingsSchemaId="vscode://schemas/settings/user",t.workspaceSettingsSchemaId="vscode://schemas/settings/workspace",t.folderSettingsSchemaId="vscode://schemas/settings/folder",t.launchSchemaId="vscode://schemas/launch",t.TASKS_CONFIGURATION_KEY="tasks",t.LAUNCH_CONFIGURATION_KEY="launch",t.WORKSPACE_STANDALONE_CONFIGURATIONS=Object.create(null),
t.WORKSPACE_STANDALONE_CONFIGURATIONS[t.TASKS_CONFIGURATION_KEY]=t.FOLDER_CONFIG_FOLDER_NAME+"/"+t.TASKS_CONFIGURATION_KEY+".json",t.WORKSPACE_STANDALONE_CONFIGURATIONS[t.LAUNCH_CONFIGURATION_KEY]=t.FOLDER_CONFIG_FOLDER_NAME+"/"+t.LAUNCH_CONFIGURATION_KEY+".json"}),define(e[210],t([1,0,6,19,22,8,93,72,156,47,3,448,4,117,91,57,24]),function(e,t,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w){"use strict";function C(e,t){return t?t+"##"+e:e}Object.defineProperty(t,"__esModule",{value:!0});var I=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.configurationService=t,s.environmentService=i,s.instantiationService=n,s.extensionManagementService=r,s.extensionEnablementService=o,s._installedExtensions=s.extensionManagementService.getInstalled(1).then(function(e){return e.filter(function(e){return s.extensionEnablementService.isEnabled(e)}).filter(function(e){return e.manifest&&e.manifest.contributes&&e.manifest.contributes.configuration}).filter(function(e){return!!e.identifier.uuid})}),s}return i(t,e),
Object.defineProperty(t.prototype,"remoteSearchAllowed",{get:function(){this.configurationService.getValue().workbench.settings;return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_endpoint",{get:function(){var e=this.configurationService.getValue().workbench.settings;return e.naturalLanguageSearchEndpoint?{urlBase:e.naturalLanguageSearchEndpoint,key:e.naturalLanguageSearchKey}:{urlBase:this.environmentService.settingsSearchUrl}},enumerable:!0,configurable:!0}),t.prototype.getRemoteSearchProvider=function(e,t){void 0===t&&(t=!1);var i={filter:e,newExtensionsOnly:t,endpoint:this._endpoint};return this.remoteSearchAllowed&&this.instantiationService.createInstance(D,i,this._installedExtensions)},t.prototype.getLocalSearchProvider=function(e){return this.instantiationService.createInstance(_,e)},t=r([o(0,g.IWorkspaceConfigurationService),o(1,f.IEnvironmentService),o(2,v.IInstantiationService),o(3,S.IExtensionManagementService),o(4,S.IExtensionEnablementService)],t)}(y.Disposable)
;t.PreferencesSearchService=I;var _=function(){function e(e){this._filter=e,this._filter=this._filter.replace(/[":]/g," ").replace(/  /g," ").trim()}return e.prototype.searchModel=function(t,i){var n=this;if(!this._filter)return c.TPromise.wrap(null);var r=e.START_SCORE,o=t.filterSettings(this._filter,this.getGroupFilter(this._filter),function(i){var o=new T(n._filter,i,!0,!0,function(e,i){return t.findValueMatches(e,i)}).matches,s=n._filter===i.key?e.EXACT_MATCH_SCORE:r--;return o&&o.length?{matches:o,score:s}:null});return o[0]&&o[0].score===e.EXACT_MATCH_SCORE?c.TPromise.wrap({filterMatches:o.slice(0,1),exactMatch:!0}):c.TPromise.wrap({filterMatches:o})},e.prototype.getGroupFilter=function(e){var t=u.createRegExp(e,!1,{global:!0});return function(e){return t.test(e.title)}},e.EXACT_MATCH_SCORE=1e4,e.START_SCORE=1e3,e}();t.LocalSearchProvider=_;var D=function(){function e(e,t,i,n){this.options=e,this.installedExtensions=t,this.environmentService=i,this.logService=n,
this._remoteSearchP=this.options.filter?c.TPromise.wrap(this.getSettingsForFilter(this.options.filter)):c.TPromise.wrap(null)}return e.prototype.searchModel=function(t,i){var n=this;return this._remoteSearchP.then(function(r){if(!r)return null;if(i&&i.isCancellationRequested)throw w.canceled();var o=Object.keys(r.scoredResults),s=l.top(o,function(e,t){return r.scoredResults[t].score-r.scoredResults[e].score},1)[0],a=(s?r.scoredResults[s].score:0)/5;if(n.options.newExtensionsOnly)return n.installedExtensions.then(function(t){var i=Math.max(e.NEW_EXTENSIONS_MIN_SCORE,a);return{filterMatches:o.filter(function(e){var i=r.scoredResults[e],n=(i.extensionPublisher+"."+i.extensionName).toLowerCase();return!t.some(function(e){return e.galleryIdentifier.id.toLowerCase()===n})}).filter(function(e){return r.scoredResults[e].score>=i}).map(function(e){var t=r.scoredResults[e];return{setting:function(e){return{description:e.description.split("\n"),descriptionIsMarkdown:!1,descriptionRanges:null,key:e.key,keyRange:null,
value:e.defaultValue,range:null,valueRange:null,overrides:[],extensionName:e.extensionName,extensionPublisher:e.extensionPublisher}}(t),score:t.score,matches:[]}}),metadata:r}});var c=n.getRemoteSettingMatcher(r.scoredResults,a,t);return{filterMatches:t.filterSettings(n.options.filter,function(e){return null},c),metadata:r}})},e.prototype.getSettingsForFilter=function(t){return s(this,void 0,void 0,function(){var i,r,o,s=this;return a(this,function(a){switch(a.label){case 0:i=[],r=0,a.label=1;case 1:return r<e.MAX_REQUESTS?[4,this.prepareRequest(t,r)]:[3,4];case 2:if(o=a.sent(),i.push(o),!o.hasMoreFilters)return[3,4];a.label=3;case 3:return r++,[3,1];case 4:return[2,c.TPromise.join(i.map(function(e){return s.getSettingsFromBing(e)})).then(function(e){var t=e[0];t.requestCount=1;for(var i=0,r=e.slice(1);i<r.length;i++){var o=r[i];t.requestCount++,t.scoredResults=n({},t.scoredResults,o.scoredResults)}return t})]}})})},e.prototype.getSettingsFromBing=function(e){
this.logService.debug("Searching settings via "+e.url),e.body&&this.logService.debug("Body: "+e.body);var t=e.body?"post":"get",i=Date.now();return this.requestService.request({type:t,url:e.url,data:e.body,headers:{"User-Agent":"request","Content-Type":"application/json; charset=utf-8","api-key":this.options.endpoint.key},timeout:5e3},E.CancellationToken.None).then(function(t){if(t.res.statusCode>=300)throw new Error(e+" returned status code: "+t.res.statusCode);return m.asJson(t)}).then(function(t){var n=Date.now(),r=n-i,o=(t.value||[]).map(function(e){var t,i,n,r=JSON.parse(e.setting||e.Setting),o=e.packageid,s=C(r,o),a=e.value,c=a?JSON.parse(a):a,l=e.packagename;return l&&l.indexOf("##")>=0&&(n=(t=l.split("##"))[0],i=t[1]),{key:r,id:s,defaultValue:c,score:e["@search.score"],description:JSON.parse(e.details),packageId:o,extensionName:i,extensionPublisher:n}}),s=Object.create(null);return o.forEach(function(e){s[e.id]=e}),{requestUrl:e.url,requestBody:e.body,duration:r,timestamp:n,scoredResults:s,
context:t["@odata.context"],extensions:e.extensions}})},e.prototype.getRemoteSettingMatcher=function(e,t,i){var n=this;return function(r,o){var s=e[C(r.key,o.id)]||e[C(r.key,"core")]||e[C(r.key)];if(s&&s.score>=t){return{matches:new T(n.options.filter,r,!1,!0,function(e,t){return i.findValueMatches(e,t)}).matches,score:s.score}}return null}},e.prototype.prepareRequest=function(t,i){return void 0===i&&(i=0),s(this,void 0,void 0,function(){var n,r,o,s,c,l,u,d,p,h;return a(this,function(a){switch(a.label){case 0:return n=t,t=function(e){return e.replace(/\./g," ").replace(/[\\/+\-&|!"~*?:(){}\[\]\^]/g,"\\$&").replace(/  /g," ").trim()}(t),r=10,o="("+t+")^"+r,t=t.replace(/\ +/g,"~ ")+"~",s=encodeURIComponent(o+" || "+t),c=""+this.options.endpoint.urlBase,this.options.endpoint.key&&(c+=A+"&"+x),[4,this.installedExtensions];case 1:return l=a.sent(),u=this.options.newExtensionsOnly?["diminish eq 'latest'"]:this.getVersionFilters(l,this.environmentService.settingsSearchBuildId),
d=u.slice(i*e.MAX_REQUEST_FILTERS,(i+1)*e.MAX_REQUEST_FILTERS).join(" or "),p=u.length>(i+1)*e.MAX_REQUEST_FILTERS,h=JSON.stringify({query:s,filters:encodeURIComponent(d),rawQuery:encodeURIComponent(n)}),[2,{url:c,body:h,hasMoreFilters:p,extensions:l}]}})})},e.prototype.getVersionFilters=function(e,t){var i=this,n=e.filter(function(e){return e.manifest.contributes&&e.manifest.contributes.configuration}).map(function(e){return i.getExtensionFilter(e)});return t&&n.push("(packageid eq 'core' and startbuildno le '"+t+"' and endbuildno ge '"+t+"')"),n},e.prototype.getExtensionFilter=function(e){var t=e.identifier.uuid,i=e.manifest.version.split(".").map(function(e){return u.pad(e,10)}).join("");return"(packageid eq '"+t+"' and startbuildno le '"+i+"' and endbuildno ge '"+i+"')"},e.MAX_REQUEST_FILTERS=42,e.MAX_REQUESTS=10,e.NEW_EXTENSIONS_MIN_SCORE=1,e=r([o(2,f.IEnvironmentService),o(3,b.ILogService)],e)}(),A="api-version=2016-09-01-Preview",x="querytype=full",T=function(){function e(e,t,i,n,r){
this.requireFullQueryMatch=i,this.searchDescription=n,this.valuesMatcher=r,this.descriptionMatchingWords=new Map,this.keyMatchingWords=new Map,this.valueMatchingWords=new Map,this.matches=l.distinct(this._findMatchesInSetting(e,t),function(e){return e.startLineNumber+"_"+e.startColumn+"_"+e.endLineNumber+"_"+e.endColumn+"_"})}return e.prototype._findMatchesInSetting=function(t,i){var n=this._doFindMatchesInSetting(t,i);if(i.overrides&&i.overrides.length)for(var r=0,o=i.overrides;r<o.length;r++){
var s=new e(t,o[r],this.requireFullQueryMatch,this.searchDescription,this.valuesMatcher),a=t.split(" "),c=this.getRangesForWords(a,this.descriptionMatchingWords,[s.descriptionMatchingWords,s.keyMatchingWords,s.valueMatchingWords]),l=this.getRangesForWords(a,this.keyMatchingWords,[s.descriptionMatchingWords,s.keyMatchingWords,s.valueMatchingWords]),u=this.getRangesForWords(a,s.keyMatchingWords,[this.descriptionMatchingWords,this.keyMatchingWords,s.valueMatchingWords]),d=this.getRangesForWords(a,s.valueMatchingWords,[this.descriptionMatchingWords,this.keyMatchingWords,s.keyMatchingWords]);n.push.apply(n,c.concat(l,u,d)),n.push.apply(n,s.matches)}return n},e.prototype._doFindMatchesInSetting=function(e,t){for(var i=this,n=d.Registry.as(p.Extensions.Configuration).getConfigurationProperties()[t.key],r=e.split(" "),o=t.key.split(".").join(" "),s=function(e){if(a.searchDescription)for(var r=function(n){var r=h.matchesWords(e,t.description[n],!0);r&&a.descriptionMatchingWords.set(e,r.map(function(e){
return i.toDescriptionRange(t,e,n)}))},s=0;s<t.description.length;s++)r(s);var c=h.or(h.matchesWords,h.matchesCamelCase)(e,o);c&&a.keyMatchingWords.set(e,c.map(function(e){return i.toKeyRange(t,e)}));var l="string"==typeof t.value?h.matchesContiguousSubString(e,t.value):null;l?a.valueMatchingWords.set(e,l.map(function(e){return i.toValueRange(t,e)})):n&&n.enum&&n.enum.some(function(t){return"string"==typeof t&&!!h.matchesContiguousSubString(e,t)})&&a.valueMatchingWords.set(e,[])},a=this,c=0,l=r;c<l.length;c++){s(l[c])}var u=[];if(this.searchDescription){for(var g=function(n){var r=h.or(h.matchesContiguousSubString)(e,t.description[n]||"")||[];u.push.apply(u,r.map(function(e){return i.toDescriptionRange(t,e,n)}))},f=0;f<t.description.length;f++)g(f);0===u.length&&u.push.apply(u,this.getRangesForWords(r,this.descriptionMatchingWords,[this.keyMatchingWords,this.valueMatchingWords]))}var v=h.or(h.matchesPrefix,h.matchesContiguousSubString)(e,t.key),m=v?v.map(function(e){return i.toKeyRange(t,e)
}):this.getRangesForWords(r,this.keyMatchingWords,[this.descriptionMatchingWords,this.valueMatchingWords]),y=[];if(t.value&&"string"==typeof t.value){var S=h.or(h.matchesPrefix,h.matchesContiguousSubString)(e,t.value);y=S?S.map(function(e){return i.toValueRange(t,e)}):this.getRangesForWords(r,this.valueMatchingWords,[this.keyMatchingWords,this.descriptionMatchingWords])}else y=this.valuesMatcher?this.valuesMatcher(e,t):[];return u.concat(m,y)},e.prototype.getRangesForWords=function(e,t,i){for(var n=[],r=function(e){var r=t.get(e);if(r)n.push.apply(n,r);else if(o.requireFullQueryMatch&&i.every(function(t){return!t.has(e)}))return{value:[]}},o=this,s=0,a=e;s<a.length;s++){var c=r(a[s]);if("object"==typeof c)return c.value}return n},e.prototype.toKeyRange=function(e,t){return e.keyRange?{startLineNumber:e.keyRange.startLineNumber,startColumn:e.keyRange.startColumn+t.start,endLineNumber:e.keyRange.startLineNumber,endColumn:e.keyRange.startColumn+t.end}:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}
},e.prototype.toDescriptionRange=function(e,t,i){return e.keyRange?{startLineNumber:e.descriptionRanges[i].startLineNumber,startColumn:e.descriptionRanges[i].startColumn+t.start,endLineNumber:e.descriptionRanges[i].endLineNumber,endColumn:e.descriptionRanges[i].startColumn+t.end}:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}},e.prototype.toValueRange=function(e,t){return e.keyRange?{startLineNumber:e.valueRange.startLineNumber,startColumn:e.valueRange.startColumn+t.start+1,endLineNumber:e.valueRange.startLineNumber,endColumn:e.valueRange.startColumn+t.end+1}:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}},e}()}),define(e[157],t([1,0,3]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IJSONEditingService=n.createDecorator("jsonEditingService");var r=function(e){function t(t,i){var n=e.call(this,t)||this;return n.code=i,n}return i(t,e),t}(Error);t.JSONEditingError=r}),define(e[158],t([1,0,3]),function(e,t,i){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationsService=i.createDecorator("IFileDecorationsService")}),define(e[273],t([1,0,5,39,4,17,462,7,11,146,22,2,24,57]),function(e,t,i,n,s,a,c,l,u,d,p,h,g,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(t){this.data=t,this.itemColorClassName=e._classNames.nextId(),this.itemBadgeClassName=e._classNames.nextId(),this.bubbleBadgeClassName=e._classNames.nextId()}return e.keyOf=function(t){if(Array.isArray(t))return t.map(e.keyOf).join(",");return t.color+"/"+t.letter},e.prototype.appendCSSRules=function(e,t){Array.isArray(this.data)?this._appendForMany(this.data,e,t):this._appendForOne(this.data,e,t)},e.prototype._appendForOne=function(e,t,i){var n=e.color,r=e.letter;l.createCSSRule("."+this.itemColorClassName,"color: "+(i.getColor(n)||"inherit")+";",t),r&&l.createCSSRule("."+this.itemBadgeClassName+"::after",'content: "'+r+'"; color: '+(i.getColor(n)||"inherit")+";",t)},e.prototype._appendForMany=function(e,t,i){
var n=e[0].color;l.createCSSRule("."+this.itemColorClassName,"color: "+(i.getColor(n)||"inherit")+";",t);var r=e.filter(function(e){return!p.isFalsyOrWhitespace(e.letter)}).map(function(e){return e.letter});r.length&&l.createCSSRule("."+this.itemBadgeClassName+"::after",'content: "'+r.join(", ")+'"; color: '+(i.getColor(n)||"inherit")+";",t),l.createCSSRule("."+this.bubbleBadgeClassName+"::after",'content: ""; color: '+(i.getColor(n)||"inherit")+"; font-family: octicons; font-size: 14px; padding-right: 14px; opacity: 0.4;",t)},e.prototype.removeCSSRules=function(e){l.removeCSSRulesContainingSelector(this.itemColorClassName,e),l.removeCSSRulesContainingSelector(this.itemBadgeClassName,e),l.removeCSSRulesContainingSelector(this.bubbleBadgeClassName,e)},e.prototype.isUnused=function(){return!document.querySelector("."+this.itemColorClassName)&&!document.querySelector("."+this.itemBadgeClassName)&&!document.querySelector("."+this.bubbleBadgeClassName)},
e._classNames=new d.IdGenerator("monaco-decorations-style-"),e}(),m=function(){function e(e){this._themeService=e,this._styleElement=l.createStyleSheet(),this._decorationRules=new Map,this._disposables=[this._themeService.onThemeChange(this._onThemeChange,this)]}return e.prototype.dispose=function(){s.dispose(this._disposables),this._styleElement.parentElement.removeChild(this._styleElement)},e.prototype.asDecoration=function(e,t){var i=this;e.sort(function(e,t){return t.weight-e.weight});var n=v.keyOf(e),r=this._decorationRules.get(n);r||(r=new v(e),this._decorationRules.set(n,r),r.appendCSSRules(this._styleElement,this._themeService.getTheme()));var o=r.itemColorClassName,s=r.itemBadgeClassName,a=e.filter(function(e){return!p.isFalsyOrWhitespace(e.tooltip)}).map(function(e){return e.tooltip}).join(" • ");return t&&(s=r.bubbleBadgeClassName,a=h.localize("bubbleTitle","Contains emphasized items")),{labelClassName:o,badgeClassName:s,tooltip:a,update:function(n){
for(var r=e.slice(),o=0;o<r.length;o++)r[o].source===n.source&&(r[o]=n);return i.asDecoration(r,t)}}},e.prototype._onThemeChange=function(){var e=this;this._decorationRules.forEach(function(t){t.removeCSSRules(e._styleElement),t.appendCSSRules(e._styleElement,e._themeService.getTheme())})},e.prototype.cleanUp=function(e){for(var t=this,i=new Set,n=e.next();!n.done;n=e.next())n.value.data.forEach(function(e,t){!e||e instanceof S||i.add(v.keyOf(e))});this._decorationRules.forEach(function(e,n){var r=e.data;if(e.isUnused()){var o=void 0;Array.isArray(r)?o=r.some(function(e){return!i.has(v.keyOf(e))}):i.has(v.keyOf(r))||(o=!0),o&&(e.removeCSSRules(t._styleElement),t._decorationRules.delete(n))}})},e}(),y=function(){function e(){this._data=n.TernarySearchTree.forPaths()}return e.prototype.affectsResource=function(e){return this._data.get(e.toString())||void 0!==this._data.findSuperstr(e.toString())},e.debouncer=function(t,i){if(t||(t=new e),Array.isArray(i))for(var n=0,r=i;n<r.length;n++){var o=r[n]
;t._data.set(o.toString(),!0)}else t._data.set(i.toString(),!0);return t},e}(),S=function(){return function(e,t){this.source=e,this.thenable=t}}(),b=function(){function e(e,t,i){var r=this;this._provider=e,this._uriEmitter=t,this._flushEmitter=i,this.data=n.TernarySearchTree.forPaths(),this._dispoable=this._provider.onDidChange(function(e){if(e)for(var t=0,i=e;t<i.length;t++){var n=i[t];r._fetchData(n)}else r.data.clear(),r._flushEmitter.fire({affectsResource:function(){return!0}})})}return e.prototype.dispose=function(){this._dispoable.dispose(),this.data.clear()},e.prototype.knowsAbout=function(e){return Boolean(this.data.get(e.toString()))||Boolean(this.data.findSuperstr(e.toString()))},e.prototype.getOrRetrieve=function(e,t,i){var n=e.toString(),r=this.data.get(n);if(void 0===r&&(r=this._fetchData(e)),!r||r instanceof S||i(r,!1),t){var o=this.data.findSuperstr(n);if(o)for(var s=o.next();!s.done;s=o.next())!s.value||s.value instanceof S||i(s.value,!0)}},e.prototype._fetchData=function(e){
var t=this,i=this.data.get(e.toString());i instanceof S&&(i.source.cancel(),this.data.delete(e.toString()));var n=new f.CancellationTokenSource,r=this._provider.provideDecorations(e,n.token);if(!a.isThenable(r))return this._keepItem(e,r);var o=new S(n,Promise.resolve(r).then(function(i){t.data.get(e.toString())===o&&t._keepItem(e,i)}).catch(function(i){g.isPromiseCanceledError(i)||t.data.get(e.toString())!==o||t.data.delete(e.toString())}));this.data.set(e.toString(),o)},e.prototype._keepItem=function(e,t){var i=t||null,n=this.data.set(e.toString(),i);return(i||n)&&this._uriEmitter.fire(e),i},e}(),E=function(){function e(e,t){void 0===t&&(t=17);var n=this;this._data=new c.LinkedList,this._onDidChangeDecorationsDelayed=new i.Emitter,this._onDidChangeDecorations=new i.Emitter,this.onDidChangeDecorations=i.anyEvent(this._onDidChangeDecorations.event,i.debounceEvent(this._onDidChangeDecorationsDelayed.event,y.debouncer)),this._decorationStyles=new m(e);var r=0,o=this.onDidChangeDecorations(function(){
++r%t==0&&n._decorationStyles.cleanUp(n._data.iterator())});this._disposables=[o,this._decorationStyles]}return e.prototype.dispose=function(){s.dispose(this._disposables),s.dispose(this._onDidChangeDecorations),s.dispose(this._onDidChangeDecorationsDelayed)},e.prototype.registerDecorationsProvider=function(e){var t=this,i=new b(e,this._onDidChangeDecorationsDelayed,this._onDidChangeDecorations),n=this._data.push(i);return this._onDidChangeDecorations.fire({affectsResource:function(){return!0}}),s.toDisposable(function(){n(),t._onDidChangeDecorations.fire({affectsResource:function(e){return i.knowsAbout(e)}}),i.dispose()})},e.prototype.getDecoration=function(e,t,i){for(var n,r=[],o=this._data.iterator(),s=o.next();!s.done;s=o.next())s.value.getOrRetrieve(e,t,function(e,t){t&&!e.bubble||(r.push(e),n=t||n)});if(0===r.length)return i?this._decorationStyles.asDecoration([i],n):void 0;var a=this._decorationStyles.asDecoration(r,n);return i?a.update(i):a},e=r([o(0,u.IThemeService)],e)}();t.FileDecorationsService=E
}),define(e[12],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEditorService=i.createDecorator("editorService"),t.ACTIVE_GROUP=-1,t.SIDE_GROUP=-2}),define(e[275],t([1,0,88,12,4,15]),function(e,t,i,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){this._codesandboxService=e,this._editorService=t,this._toDispose=[],t.onDidActiveEditorChange(this.updateCurrentFileOpen,this,this._toDispose)}return e.prototype.updateCurrentFileOpen=function(){var e=a.toResource(this._editorService.activeEditor,{supportSideBySide:!0,filter:"file"}),t=(e?e.fsPath:"").replace(/^\/sandbox/,"");t?this._codesandboxService.runSignal("editor.moduleSelected",{path:t}):this._codesandboxService.runSignal("editor.clearModuleSelected",{})},e.prototype.dispose=function(){this._toDispose=s.dispose(this._toDispose)},e=r([o(0,i.ICodeSandboxService),o(1,n.IEditorService)],e)}();t.CodeSandboxEditorConnectorService=c}),
define(e[276],t([1,0,4,5,12,277,76,71]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t){var i=e.call(this)||this;return i.editorService=t,i.rangeHighlightDecorationId=null,i.editor=null,i.editorDisposables=[],i._onHighlightRemoved=i._register(new s.Emitter),i}return i(t,e),Object.defineProperty(t.prototype,"onHighlghtRemoved",{get:function(){return this._onHighlightRemoved.event},enumerable:!0,configurable:!0}),t.prototype.removeHighlightRange=function(){this.editor&&this.editor.getModel()&&this.rangeHighlightDecorationId&&(this.editor.deltaDecorations([this.rangeHighlightDecorationId],[]),this._onHighlightRemoved.fire()),this.rangeHighlightDecorationId=null},t.prototype.highlightRange=function(e,t){(t=t||this.getEditor(e))&&this.doHighlightRange(t,e)},t.prototype.doHighlightRange=function(e,t){var i=this;this.removeHighlightRange(),e.changeDecorations(function(e){
i.rangeHighlightDecorationId=e.addDecoration(t.range,i.createRangeHighlightDecoration(t.isWholeLine))}),this.setEditor(e)},t.prototype.getEditor=function(e){var t=this.editorService.activeEditor,i=t&&t.getResource();return i&&i.toString()===e.resource.toString()?this.editorService.activeTextEditorWidget:null},t.prototype.setEditor=function(e){var t=this;this.editor!==e&&(this.disposeEditorListeners(),this.editor=e,this.editorDisposables.push(this.editor.onDidChangeCursorPosition(function(e){e.reason!==c.CursorChangeReason.NotSet&&e.reason!==c.CursorChangeReason.Explicit&&e.reason!==c.CursorChangeReason.Undo&&e.reason!==c.CursorChangeReason.Redo||t.removeHighlightRange()})),this.editorDisposables.push(this.editor.onDidChangeModel(function(){t.removeHighlightRange()})),this.editorDisposables.push(this.editor.onDidDispose(function(){t.removeHighlightRange(),t.editor=null})))},t.prototype.disposeEditorListeners=function(){this.editorDisposables.forEach(function(e){return e.dispose()}),this.editorDisposables=[]},
t.prototype.createRangeHighlightDecoration=function(e){return void 0===e&&(e=!0),e?t._WHOLE_LINE_RANGE_HIGHLIGHT:t._RANGE_HIGHLIGHT},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.editor&&this.editor.getModel()&&(this.removeHighlightRange(),this.disposeEditorListeners(),this.editor=null)},t._WHOLE_LINE_RANGE_HIGHLIGHT=l.ModelDecorationOptions.register({stickiness:u.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:!0}),t._RANGE_HIGHLIGHT=l.ModelDecorationOptions.register({stickiness:u.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight"}),t=r([o(0,a.IEditorService)],t)}(n.Disposable);t.RangeHighlightDecorations=d}),define(e[278],t([1,0,2,134,7,39,27,342,53,193,33,4,11,8,14,12,140,20,241]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b){"use strict";function E(e){var t=e.mime;return t||e.resource.scheme===l.Schemas.data||(t=s.getMediaMime(e.resource.path)),t||s.MIME_BINARY}Object.defineProperty(t,"__esModule",{value:!0})
;var w=function(){function e(){}return e.formatSize=function(t){return t<e.KB?n.localize("sizeB","{0}B",t):t<e.MB?n.localize("sizeKB","{0}KB",(t/e.KB).toFixed(2)):t<e.GB?n.localize("sizeMB","{0}MB",(t/e.MB).toFixed(2)):t<e.TB?n.localize("sizeGB","{0}GB",(t/e.GB).toFixed(2)):n.localize("sizeTB","{0}TB",(t/e.TB).toFixed(2))},e.KB=1024,e.MB=e.KB*e.KB,e.GB=e.MB*e.KB,e.TB=e.GB*e.KB,e}(),C=function(){function e(){}return e.show=function(t,i,n,r,o,s,a){return n.className="monaco-resource-viewer",e.isImageResource(t)?I.create(n,t,i,r,s,a):t.size>e.MAX_OPEN_INTERNAL_SIZE?D.create(n,t,r,a):A.create(n,t,r,o,a)},e.isImageResource=function(e){var t=E(e);return t.indexOf("image/")>=0&&"image/tiff"!==t},e.MAX_OPEN_INTERNAL_SIZE=200*w.MB,e}();t.ResourceViewer=C;var I=function(){function e(){}return e.create=function(t,i,n,r,o,s){return e.shouldShowImageInline(i)?T.create(t,i,n,r,s):_.create(t,i,o)},e.shouldShowImageInline=function(t){var i;if(t.resource.scheme===l.Schemas.data){var n=t.resource.path.indexOf(e.BASE64_MARKER)
;i=!(n>=0&&t.resource.path.substring(n+e.BASE64_MARKER.length).length>0)||t.size>e.MAX_IMAGE_SIZE||t.resource.path.length>e.MAX_IMAGE_SIZE}else i="number"!=typeof t.size||t.size>e.MAX_IMAGE_SIZE;return!i},e.MAX_IMAGE_SIZE=w.MB,e.BASE64_MARKER="base64,",e}(),_=function(){function e(){}return e.create=function(e,t,i){a.clearNode(e);var r=[],o=document.createElement("p");if(o.textContent=n.localize("largeImageError","The image is not displayed in the editor because it is too large ({0}).",w.formatSize(t.size)),e.appendChild(o),t.resource.scheme!==l.Schemas.data){var s=a.append(o,a.$("a.embedded-link"));s.setAttribute("role","button"),s.textContent=n.localize("resourceOpenExternalButton","Open image using external program?"),r.push(a.addDisposableListener(s,a.EventType.CLICK,function(){return i(t.resource)}))}return g.combinedDisposable(r)},e}(),D=function(){function e(){}return e.create=function(e,t,i,r){a.clearNode(e);var o=w.formatSize(t.size),s=document.createElement("span")
;return s.textContent=n.localize("nativeFileTooLargeError","The file is not displayed in the editor because it is too large ({0}).",o),e.appendChild(s),r&&r(o),i.scanDomNode(),g.Disposable.None},e}(),A=function(){function e(){}return e.create=function(e,t,i,r,o){a.clearNode(e);var s=[],c=document.createElement("p");if(c.textContent=n.localize("nativeBinaryError","The file is not displayed in the editor because it is either binary or uses an unsupported text encoding."),e.appendChild(c),t.resource.scheme!==l.Schemas.data){var u=a.append(c,a.$("a.embedded-link"));u.setAttribute("role","button"),u.textContent=n.localize("openAsText","Do you want to open it anyway?"),s.push(a.addDisposableListener(u,a.EventType.CLICK,function(){return r(t.resource)}))}return o&&o(w.formatSize(t.size)),i.scanDomNode(),g.combinedDisposable(s)},e}(),x=function(e){function t(i,n,r){var o=e.call(this,r)||this;return o.contextMenuService=i,t.instance=o,o._register(n.onDidActiveEditorChange(function(){return o.onActiveEditorChanged()
})),o}return i(t,e),t.prototype.onActiveEditorChanged=function(){this.hide(),this.onSelectScale=void 0},t.prototype.show=function(e,t){var i=this;clearTimeout(this.showTimeout),this.showTimeout=setTimeout(function(){i.onSelectScale=t,i.statusBarItem.style.display="block",i.updateLabel(e)},0)},t.prototype.hide=function(){this.statusBarItem.style.display="none"},t.prototype.render=function(e){var t=this;return!this.statusBarItem&&e&&(this.statusBarItem=a.append(e,a.$("a.zoom-statusbar-item")),this.statusBarItem.setAttribute("role","button"),this.statusBarItem.style.display="none",a.addDisposableListener(this.statusBarItem,a.EventType.CLICK,function(){t.contextMenuService.showContextMenu({getAnchor:function(){return e},getActions:function(){return Promise.resolve(t.zoomActions)}})})),this},t.prototype.updateLabel=function(e){this.statusBarItem.textContent=t.zoomLabel(e)},Object.defineProperty(t.prototype,"zoomActions",{get:function(){var e=this;return[10,5,2,1,.5,.2,"fit"].map(function(i){
return new m.Action("zoom."+i,t.zoomLabel(i),void 0,void 0,function(){e.onSelectScale&&e.onSelectScale(i)})})},enumerable:!0,configurable:!0}),t.zoomLabel=function(e){return"fit"===e?n.localize("zoom.action.fit.label","Whole Image"):Math.round(100*e)+"%"},r([S.memoize],t.prototype,"zoomActions",null),t=r([o(0,h.IContextMenuService),o(1,y.IEditorService),o(2,f.IThemeService)],t)}(d.Themable);v.Registry.as(p.Extensions.Statusbar).registerStatusbarItem(new p.StatusbarItemDescriptor(x,1,101));var T=function(){function e(){}return e.create=function(t,i,r,o,s){function c(t){if(S&&S.parentElement){if("fit"===t)y="fit",a.addClass(S,"scale-to-fit"),a.removeClass(S,"pixelated"),S.style.minWidth="auto",S.style.width="auto",e.imageStateCache.set(h,null);else{var i=S.width,n=S.height;(y=u.clamp(t,e.MIN_SCALE,e.MAX_SCALE))>=e.PIXELATION_THRESHOLD?a.addClass(S,"pixelated"):a.removeClass(S,"pixelated")
;var r=S.parentElement,s=r.scrollTop,l=r.scrollLeft,d=(l+S.parentElement.clientWidth/2)/S.parentElement.scrollWidth,p=(s+S.parentElement.clientHeight/2)/S.parentElement.scrollHeight;a.removeClass(S,"scale-to-fit"),S.style.minWidth=S.naturalWidth*y+"px",S.style.widows=S.naturalWidth*y+"px";var g=(S.width-i)/i,f=i*g*d+l,v=n*g*p+s;o.setScrollPosition({scrollLeft:f,scrollTop:v}),e.imageStateCache.set(h,{scale:y,offsetX:f,offsetY:v})}x.instance.show(y,c),o.scanDomNode()}}function l(){c(y=S.clientWidth/S.naturalWidth)}var d=[],p={layout:function(e){},dispose:function(){return g.combinedDisposable(d).dispose()}},h=i.resource.toString(),f=!1,v=!1,m=e.imageStateCache.get(h)||{scale:"fit",offsetX:0,offsetY:0},y=m.scale,S=null;return d.push(a.addDisposableListener(t,a.EventType.KEY_DOWN,function(e){S&&(f=e.ctrlKey,v=e.altKey,(b.isMacintosh?v:f)&&(a.removeClass(t,"zoom-in"),a.addClass(t,"zoom-out")))})),d.push(a.addDisposableListener(t,a.EventType.KEY_UP,function(e){S&&(f=e.ctrlKey,v=e.altKey,
(b.isMacintosh?v:f)||(a.removeClass(t,"zoom-out"),a.addClass(t,"zoom-in")))})),d.push(a.addDisposableListener(t,a.EventType.CLICK,function(t){if(S&&0===t.button)if("fit"===y&&l(),b.isMacintosh?v:f){for(i=e.zoomLevels.length-1;i>=0&&!(e.zoomLevels[i]<y);--i);c(e.zoomLevels[i]||e.MIN_SCALE)}else{for(var i=0;i<e.zoomLevels.length&&!(e.zoomLevels[i]>y);++i);c(e.zoomLevels[i]||e.MAX_SCALE)}})),d.push(a.addDisposableListener(t,a.EventType.WHEEL,function(t){if(S){var i=b.isMacintosh?v:f;if(i||t.ctrlKey){t.preventDefault(),t.stopPropagation(),"fit"===y&&l();var n=t.deltaY<0?1:-1;t.ctrlKey&&!i&&(n*=-1),c(y*(1-n*e.SCALE_PINCH_FACTOR))}}})),d.push(a.addDisposableListener(t,a.EventType.SCROLL,function(){if(S&&S.parentElement&&"fit"!==y){var t=e.imageStateCache.get(h);if(t){var i=S.parentElement,n=i.scrollTop,r=i.scrollLeft;e.imageStateCache.set(h,{scale:t.scale,offsetX:r,offsetY:n})}}})),a.clearNode(t),a.addClasses(t,"image","zoom-in"),S=a.append(t,a.$("img.scale-to-fit")),S.style.visibility="hidden",
d.push(a.addDisposableListener(S,a.EventType.LOAD,function(e){s(n.localize("imgMeta","{0}x{1} {2}",S.naturalWidth,S.naturalHeight,w.formatSize(i.size))),o.scanDomNode(),S.style.visibility="visible",c(y),"fit"!==m.scale&&o.setScrollPosition({scrollLeft:m.offsetX,scrollTop:m.offsetY})})),e.imageSrc(i,r).then(function(e){var i=t.getElementsByTagName("img");i.length&&(i[0].src=e)}),p},e.imageSrc=function(e,t){return e.resource.scheme===l.Schemas.data?Promise.resolve(e.resource.toString(!0)):t.resolveContent(e.resource,{encoding:"base64"}).then(function(t){return"data:"+E(e)+";base64,"+t.value})},e.SCALE_PINCH_FACTOR=.075,e.MAX_SCALE=20,e.MIN_SCALE=.1,e.zoomLevels=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.5,2,3,5,7,10,15,20],e.PIXELATION_THRESHOLD=3,e.imageStateCache=new c.LRUCache(100),e}()}),define(e[159],t([1,0,2,5,6,75,138,220,132,278,7,16,4]),function(e,t,n,s,a,c,l,u,d,p,h,g,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(e){function t(t,i,n,r,o){var a=e.call(this,t,n,r)||this
;return a._fileService=o,a._onMetadataChanged=a._register(new s.Emitter),a.callbacks=i,a}return i(t,e),Object.defineProperty(t.prototype,"onMetadataChanged",{get:function(){return this._onMetadataChanged.event},enumerable:!0,configurable:!0}),t.prototype.getTitle=function(){return this.input?this.input.getName():n.localize("binaryEditor","Binary Viewer")},t.prototype.createEditor=function(e){this.binaryContainer=document.createElement("div"),this.binaryContainer.className="binary-container",this.binaryContainer.style.outline="none",this.binaryContainer.tabIndex=0,this.scrollbar=this._register(new u.DomScrollableElement(this.binaryContainer,{horizontal:d.ScrollbarVisibility.Auto,vertical:d.ScrollbarVisibility.Auto})),e.appendChild(this.scrollbar.getDomNode())},t.prototype.setInput=function(t,i,n){var r=this;return e.prototype.setInput.call(this,t,i,n).then(function(){return t.resolve().then(function(e){
if(!n.isCancellationRequested)return e instanceof l.BinaryEditorModel?void(r.resourceViewerContext=p.ResourceViewer.show({name:e.getName(),resource:e.getResource(),size:e.getSize(),etag:e.getETag(),mime:e.getMime()},r._fileService,r.binaryContainer,r.scrollbar,function(e){return r.callbacks.openInternal(t,i)},function(e){return r.callbacks.openExternal(e)},function(e){return r.handleMetadataChanged(e)})):a.TPromise.wrapError(new Error("Unable to open file as binary"))})})},t.prototype.handleMetadataChanged=function(e){this.metadata=e,this._onMetadataChanged.fire()},t.prototype.getMetadata=function(){return this.metadata},t.prototype.clearInput=function(){this.handleMetadataChanged(null),h.clearNode(this.binaryContainer),this.resourceViewerContext=f.dispose(this.resourceViewerContext),e.prototype.clearInput.call(this)},t.prototype.layout=function(e){h.size(this.binaryContainer,e.width,e.height),this.scrollbar.scanDomNode(),
this.resourceViewerContext&&this.resourceViewerContext.layout&&this.resourceViewerContext.layout(e)},t.prototype.focus=function(){this.binaryContainer.focus()},t.prototype.dispose=function(){this.binaryContainer.remove(),this.resourceViewerContext=f.dispose(this.resourceViewerContext),e.prototype.dispose.call(this)},t=r([o(4,g.IFileService)],t)}(c.BaseEditor);t.BaseBinaryResourceEditor=v}),define(e[239],t([1,0,2,15,31,11,160,3,159]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,i,n){return e.call(this,t,i,n)||this}return i(t,e),t.prototype.getMetadata=function(){var e=this.masterEditor,t=this.detailsEditor;return e instanceof d.BaseBinaryResourceEditor&&t instanceof d.BaseBinaryResourceEditor?n.localize("metadataDiff","{0} ↔ {1}",t.getMetadata(),e.getMetadata()):null},t.ID=s.BINARY_DIFF_EDITOR_ID,t=r([o(0,a.ITelemetryService),o(1,u.IInstantiationService),o(2,c.IThemeService)],t)}(l.SideBySideEditor);t.BinaryResourceDiffEditor=p}),
define(e[54],t([1,0,2,40,19,22,30,8,14,69,15,49,12]),function(e,t,n,s,a,c,l,u,d,p,h,g,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLOSE_ON_FOCUS_LOST_CONFIG="workbench.quickOpen.closeOnFocusLost",t.PREFILL_CONFIG="workbench.quickOpen.prefill",t.SEARCH_EDITOR_HISTORY="search.quickOpen.includeHistory";var v=function(){function e(){}return e.prototype.getResults=function(e,t){return Promise.resolve(null)},e.prototype.getAriaLabel=function(){return null},e.prototype.getClass=function(){return null},e.prototype.canRun=function(){return!0},e.prototype.hasShortResponseTime=function(){return!1},e.prototype.getAutoFocus=function(e,t){return{}},e.prototype.onOpen=function(){},e.prototype.onClose=function(e){},e.prototype.getGroupLabel=function(){return null},e.prototype.getEmptyLabel=function(e){return e.length>0?n.localize("noResultsMatching","No results matching"):n.localize("noResultsFound2","No results found")},e}();t.QuickOpenHandler=v;var m=function(){function e(e,t,i,n,r,o){
void 0===o&&(o=!1),this.ctor=e,this.id=t,this.prefix=i,this.contextKey=n,this.instantProgress=o,l.isString(r)?this.description=r:this.helpEntries=r}return e.prototype.getId=function(){return this.id},e.prototype.instantiate=function(e){return e.createInstance(this.ctor)},e}();t.QuickOpenHandlerDescriptor=m,t.Extensions={Quickopen:"workbench.contributions.quickopen"};var y=function(){function e(){this.handlers=[]}return e.prototype.registerQuickOpenHandler=function(e){this.handlers.push(e),this.handlers.sort(function(e,t){return t.prefix.length-e.prefix.length})},e.prototype.registerDefaultQuickOpenHandler=function(e){this.defaultHandler=e},e.prototype.getQuickOpenHandlers=function(){return this.handlers.slice(0)},e.prototype.getQuickOpenHandler=function(e){return e?a.first(this.handlers,function(t){return c.startsWith(e,t.prefix)},null):null},e.prototype.getDefaultQuickOpenHandler=function(){return this.defaultHandler},e}();u.Registry.add(t.Extensions.Quickopen,new y);var S=function(e){function t(t){
var i=e.call(this)||this;return i._editorService=t,i}return i(t,e),Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),t.prototype.getInput=function(){return null},t.prototype.getOptions=function(){return null},t.prototype.run=function(e,t){var i=1===e;if(1===e||2===e){var n=t.keymods.ctrlCmd,r=void 0;2===e?r={pinned:!0,preserveFocus:!0}:t.keymods.alt&&(r={pinned:!0});var o=this.getInput();if(o instanceof h.EditorInput){var a=this.getOptions();a?a=s.mixin(a,r,!0):r&&(a=h.EditorOptions.create(r)),this.editorService.openEditor(o,a,n?f.SIDE_GROUP:f.ACTIVE_GROUP)}else{var c=o;r&&(c.options=s.assign(c.options||Object.create(null),r)),this.editorService.openEditor(c,n?f.SIDE_GROUP:f.ACTIVE_GROUP)}}return i},t}(p.QuickOpenEntry);t.EditorQuickOpenEntry=S;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getInput=function(){return null},t.prototype.getOptions=function(){return null},t
}(p.QuickOpenEntryGroup);t.EditorQuickOpenEntryGroup=b;var E=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.quickOpenService=r,o.prefix=n,o.enabled=!!o.quickOpenService,o}return i(t,e),t.prototype.run=function(e){return this.quickOpenService.show(this.prefix),Promise.resolve(null)},t=r([o(3,g.IQuickOpenService)],t)}(d.Action);t.QuickOpenAction=E}),define(e[284],t([1,0,6,2,30,69,54,71,49,175,11,12,51,5]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GOTO_LINE_PREFIX=":";var m=function(e){function n(i,n,r,o){var s=e.call(this,i,n,t.GOTO_LINE_PREFIX,r)||this;return s._quickOpenService=r,s.editorService=o,s}return i(n,e),n.prototype.run=function(){var t=this.editorService.activeTextEditorWidget;f.isDiffEditor(t)&&(t=t.getModifiedEditor());var i=null;if(f.isCodeEditor(t)){2===t.getConfiguration().viewInfo.renderLineNumbers&&(t.updateOptions({lineNumbers:"on"}),i={lineNumbers:"relative"})}var n=e.prototype.run.call(this)
;return i&&v.once(this._quickOpenService.onHide)(function(){t.updateOptions(i)}),n},n.ID="workbench.action.gotoLine",n.LABEL=s.localize("gotoLine","Go to Line..."),n=r([o(2,d.IQuickOpenService),o(3,g.IEditorService)],n)}(l.QuickOpenAction);t.GotoLineAction=m;var y=function(e){function t(t,i,n){var r=e.call(this,i)||this;return r.parseInput(t),r.handler=n,r}return i(t,e),t.prototype.parseInput=function(e){var t=e.split(/,|:|#/).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)});this.line=t[0],this.column=t[1]},t.prototype.getLabel=function(){var e=this.getMaxLineNumber();return this.invalidRange(e)?e>0?s.localize("gotoLineLabelEmptyWithLimit","Type a line number between 1 and {0} to navigate to",e):s.localize("gotoLineLabelEmpty","Type a line number to navigate to"):this.column?s.localize("gotoLineColumnLabel","Go to line {0} and character {1}",this.line,this.column):s.localize("gotoLineLabel","Go to line {0}",this.line)},t.prototype.invalidRange=function(e){
return void 0===e&&(e=this.getMaxLineNumber()),!this.line||!a.isNumber(this.line)||e>0&&a.isNumber(this.line)&&this.line>e},t.prototype.getMaxLineNumber=function(){var e=this.editorService.activeTextEditorWidget.getModel();return e&&e.modified&&e.original&&(e=e.modified),e&&a.isFunction(e.getLineCount)?e.getLineCount():-1},t.prototype.run=function(e,t){return 1===e?this.runOpen(t):this.runPreview()},t.prototype.getInput=function(){return this.editorService.activeEditor},t.prototype.getOptions=function(e){return{selection:this.toSelection(),pinned:e}},t.prototype.runOpen=function(e){if(this.invalidRange())return!1;e.keymods.ctrlCmd&&this.editorService.openEditor(this.getInput(),this.getOptions(e.keymods.alt),g.SIDE_GROUP);var t=this.toSelection(),i=this.editorService.activeTextEditorWidget;return i&&(i.setSelection(t),i.revealRangeInCenter(t,0)),!0},t.prototype.runPreview=function(){if(this.invalidRange())return this.handler.clearDecorations(),!1
;var e=this.toSelection(),t=this.editorService.activeTextEditorWidget;return t&&(t.revealRangeInCenter(e,0),a.isFunction(t.changeDecorations)&&this.handler.decorateOutline(e,t,this.editorService.activeControl.group)),!1},t.prototype.toSelection=function(){return{startLineNumber:this.line,startColumn:this.column||1,endLineNumber:this.line,endColumn:this.column||1}},t}(l.EditorQuickOpenEntry),S=function(e){function t(t){var i=e.call(this)||this;return i.editorService=t,i}return i(t,e),t.prototype.getAriaLabel=function(){return s.localize("gotoLineHandlerAriaLabel","Type a line number to navigate to.")},t.prototype.getResults=function(e,t){if(e=e.trim(),!this.lastKnownEditorViewState){var i=this.editorService.activeTextEditorWidget;this.lastKnownEditorViewState=i.saveViewState()}return n.TPromise.as(new c.QuickOpenModel([new y(e,this.editorService,this)]))},t.prototype.canRun=function(){return!!!!this.editorService.activeTextEditorWidget||s.localize("cannotRunGotoLine","Open a text file first to go to a line")},
t.prototype.decorateOutline=function(e,t,i){var n=this;t.changeDecorations(function(t){var r=[];n.rangeHighlightDecorationId&&(r.push(n.rangeHighlightDecorationId.lineDecorationId),r.push(n.rangeHighlightDecorationId.rangeHighlightId),n.rangeHighlightDecorationId=null);var o=[{range:e,options:{className:"rangeHighlight",isWholeLine:!0}},{range:e,options:{overviewRuler:{color:h.themeColorFromId(p.overviewRulerRangeHighlight),position:u.OverviewRulerLane.Full}}}],s=t.deltaDecorations(r,o),a=s[0],c=s[1];n.rangeHighlightDecorationId={groupId:i.id,rangeHighlightId:a,lineDecorationId:c}})},t.prototype.clearDecorations=function(){var e=this;this.rangeHighlightDecorationId&&(this.editorService.visibleControls.forEach(function(t){if(t.group.id===e.rangeHighlightDecorationId.groupId){t.getControl().changeDecorations(function(t){t.deltaDecorations([e.rangeHighlightDecorationId.lineDecorationId,e.rangeHighlightDecorationId.rangeHighlightId],[])})}}),this.rangeHighlightDecorationId=null)},t.prototype.onClose=function(e){
if(this.clearDecorations(),e&&this.lastKnownEditorViewState){var t=this.editorService.activeTextEditorWidget;t&&t.restoreViewState(this.lastKnownEditorViewState)}this.lastKnownEditorViewState=null},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:e.trim().length>0}},t.ID="workbench.picker.line",t=r([o(0,g.IEditorService)],t)}(l.QuickOpenHandler);t.GotoLineHandler=S}),define(e[286],t([1,0,6,2,30,22,69,54,72,71,49,483,82,11,175,12,17,57,215]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E;t.GOTO_SYMBOL_PREFIX="@",t.SCOPE_PREFIX=":";var w=s.localize("property","properties ({0})"),C=(E={},E[f.SymbolKind.Method]=s.localize("method","methods ({0})"),E[f.SymbolKind.Function]=s.localize("function","functions ({0})"),E[f.SymbolKind.Constructor]=s.localize("_constructor","constructors ({0})"),E[f.SymbolKind.Variable]=s.localize("variable","variables ({0})"),E[f.SymbolKind.Class]=s.localize("class","classes ({0})"),
E[f.SymbolKind.Struct]=s.localize("struct","structs ({0})"),E[f.SymbolKind.Event]=s.localize("event","events ({0})"),E[f.SymbolKind.Operator]=s.localize("operator","operators ({0})"),E[f.SymbolKind.Interface]=s.localize("interface","interfaces ({0})"),E[f.SymbolKind.Namespace]=s.localize("namespace","namespaces ({0})"),E[f.SymbolKind.Package]=s.localize("package","packages ({0})"),E[f.SymbolKind.TypeParameter]=s.localize("typeParameter","type parameters ({0})"),E[f.SymbolKind.Module]=s.localize("modules","modules ({0})"),E[f.SymbolKind.Property]=s.localize("property","properties ({0})"),E[f.SymbolKind.Enum]=s.localize("enum","enumerations ({0})"),E[f.SymbolKind.EnumMember]=s.localize("enumMember","enumeration members ({0})"),E[f.SymbolKind.String]=s.localize("string","strings ({0})"),E[f.SymbolKind.File]=s.localize("file","files ({0})"),E[f.SymbolKind.Array]=s.localize("array","arrays ({0})"),E[f.SymbolKind.Number]=s.localize("number","numbers ({0})"),
E[f.SymbolKind.Boolean]=s.localize("boolean","booleans ({0})"),E[f.SymbolKind.Object]=s.localize("object","objects ({0})"),E[f.SymbolKind.Key]=s.localize("key","keys ({0})"),E[f.SymbolKind.Field]=s.localize("field","fields ({0})"),E[f.SymbolKind.Constant]=s.localize("constant","constants ({0})"),E),I=function(e){function n(i,n,r){return e.call(this,i,n,t.GOTO_SYMBOL_PREFIX,r)||this}return i(n,e),n.ID="workbench.action.gotoSymbol",n.LABEL=s.localize("gotoSymbol","Go to Symbol in File..."),n=r([o(2,h.IQuickOpenService)],n)}(u.QuickOpenAction);t.GotoSymbolAction=I;var _=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.applyFilter=function(e){var i=e;0===e.indexOf(t.SCOPE_PREFIX)&&(i=i.substr(t.SCOPE_PREFIX.length)),this.entries.forEach(function(e){if(e.setGroupLabel(null),e.setShowBorder(!1),e.setHighlights(null),e.setHidden(!1),i){var t=d.matchesFuzzy(i,e.getLabel());t?(e.setHighlights(t),e.setHidden(!1)):e.isHidden()||e.setHidden(!0)}}),
e?0===e.indexOf(t.SCOPE_PREFIX)?this.entries.sort(this.sortScoped.bind(this,e.toLowerCase())):this.entries.sort(this.sortNormal.bind(this,e.toLowerCase())):this.entries.sort(function(e,t){return e.getIndex()-t.getIndex()});var n=this.getEntries(!0);if(n.length>0&&0===e.indexOf(t.SCOPE_PREFIX)){for(var r=null,o=null,a=0,c=0;c<n.length;c++){var l=n[c];r!==l.getKind()?(o&&o.setGroupLabel(this.renderGroupLabel(r,a)),r=l.getKind(),o=l,a=1,l.setShowBorder(c>0)):a++}o&&o.setGroupLabel(this.renderGroupLabel(r,a))}else n.length>0&&n[0].setGroupLabel(s.localize("symbols","symbols ({0})",n.length))},n.prototype.sortNormal=function(e,t,i){if(t.isHidden()&&i.isHidden())return 0;if(t.isHidden())return 1;if(i.isHidden())return-1;var n=t.getLabel().toLowerCase(),r=i.getLabel().toLowerCase(),o=n.localeCompare(r);if(0!==o)return o;var s=t.getRange(),a=i.getRange();return s.startLineNumber-a.startLineNumber},n.prototype.sortScoped=function(e,i,n){if(i.isHidden()&&n.isHidden())return 0;if(i.isHidden())return 1
;if(n.isHidden())return-1;e=e.substr(t.SCOPE_PREFIX.length);var r=C[i.getKind()]||w,o=C[n.getKind()]||w,s=r.localeCompare(o);if(0!==s)return s;if(e){var a=i.getLabel().toLowerCase(),c=n.getLabel().toLowerCase();if(0!==(s=a.localeCompare(c)))return s}var l=i.getRange(),u=n.getRange();return l.startLineNumber-u.startLineNumber},n.prototype.renderGroupLabel=function(e,t){var i=C[e];return i||(i=w),c.format(i,t)},n}(l.QuickOpenModel),D=function(e){function t(t,i,n,r,o,s,a,c,l,u){var d=e.call(this)||this;return d.index=t,d.name=i,d.kind=n,d.icon=o,d.description=r,d.range=s,d.revealRange=a||s,d.setHighlights(c),d.editorService=l,d.handler=u,d}return i(t,e),t.prototype.getIndex=function(){return this.index},t.prototype.getLabel=function(){return this.name},t.prototype.getAriaLabel=function(){return s.localize("entryAriaLabel","{0}, symbols",this.getLabel())},t.prototype.getIcon=function(){return this.icon},t.prototype.getDescription=function(){return this.description},t.prototype.getKind=function(){return this.kind
},t.prototype.getRange=function(){return this.range},t.prototype.getInput=function(){return this.editorService.activeEditor},t.prototype.getOptions=function(e){return{selection:this.toSelection(),pinned:e}},t.prototype.run=function(e,t){return 1===e?this.runOpen(t):this.runPreview()},t.prototype.runOpen=function(e){if(e.keymods.ctrlCmd)this.editorService.openEditor(this.getInput(),this.getOptions(e.keymods.alt),y.SIDE_GROUP);else{var t=this.toSelection(),i=this.editorService.activeTextEditorWidget;i&&(i.setSelection(t),i.revealRangeInCenter(t,0))}return!0},t.prototype.runPreview=function(){var e=this.toSelection(),t=this.editorService.activeTextEditorWidget;return t&&(t.revealRangeInCenter(e,0),a.isFunction(t.changeDecorations)&&this.handler.decorateOutline(this.range,e,t,this.editorService.activeControl.group)),!1},t.prototype.toSelection=function(){return{startLineNumber:this.revealRange.startLineNumber,startColumn:this.revealRange.startColumn||1,endLineNumber:this.revealRange.startLineNumber,
endColumn:this.revealRange.startColumn||1}},t}(u.EditorQuickOpenEntryGroup),A=function(e){function l(t){var i=e.call(this)||this;return i.editorService=t,i.registerListeners(),i}return i(l,e),l.prototype.registerListeners=function(){var e=this;this.editorService.onDidActiveEditorChange(function(){return e.onDidActiveEditorChange()})},l.prototype.onDidActiveEditorChange=function(){this.clearOutlineRequest(),this.lastKnownEditorViewState=void 0,this.rangeHighlightDecorationId=void 0},l.prototype.getResults=function(e,t){if(e=e.trim(),this.pendingOutlineRequest||(this.pendingOutlineRequest=new b.CancellationTokenSource),!this.lastKnownEditorViewState){var i=this.editorService.activeTextEditorWidget;this.lastKnownEditorViewState=i.saveViewState()}return this.getOutline().then(function(i){return t.isCancellationRequested?i:(i.applyFilter(e),i)})},l.prototype.getEmptyLabel=function(e){return e.length>0?s.localize("noSymbolsMatching","No symbols matching"):s.localize("noSymbolsFound","No symbols found")},
l.prototype.getAriaLabel=function(){return s.localize("gotoSymbolHandlerAriaLabel","Type to narrow down symbols of the currently active editor.")},l.prototype.canRun=function(){var e=!1,t=this.editorService.activeTextEditorWidget;if(t){var i=t.getModel();i&&i.modified&&i.original&&(i=i.modified),i&&a.isFunction(i.getLanguageIdentifier)&&(e=f.DocumentSymbolProviderRegistry.has(i))}return!!e||(null!==t?s.localize("cannotRunGotoSymbolInFile","No symbol information for the file"):s.localize("cannotRunGotoSymbol","Open a text file first to go to a symbol"))},l.prototype.getAutoFocus=function(e){return 0===(e=e.trim()).indexOf(t.SCOPE_PREFIX)&&(e=e.substr(t.SCOPE_PREFIX.length)),{autoFocusPrefixMatch:e,autoFocusFirstEntry:!!e}},l.prototype.toQuickOpenEntries=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],r=c.trim(n.name),o=n.containerName,s=f.symbolKindToCssClass(n.kind);t.push(new D(i,r,n.kind,o,"symbol-icon "+s,n.range,n.selectionRange,null,this.editorService,this))}return t},
l.prototype.getOutline=function(){return this.cachedOutlineRequest||(this.cachedOutlineRequest=this.doGetActiveOutline()),this.cachedOutlineRequest},l.prototype.doGetActiveOutline=function(){var e=this,t=this.editorService.activeTextEditorWidget;if(t){var i=t.getModel();if(i&&i.modified&&i.original&&(i=i.modified),i&&a.isFunction(i.getLanguageIdentifier))return n.TPromise.wrap(S.asThenable(function(){return g.getDocumentSymbols(i,!0,e.pendingOutlineRequest.token)}).then(function(t){return new _(e.toQuickOpenEntries(t))}))}return n.TPromise.wrap(null)},l.prototype.decorateOutline=function(e,t,i,n){var r=this;i.changeDecorations(function(i){var o=[];r.rangeHighlightDecorationId&&(o.push(r.rangeHighlightDecorationId.lineDecorationId),o.push(r.rangeHighlightDecorationId.rangeHighlightId),r.rangeHighlightDecorationId=null);var s=[{range:e,options:{className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{overviewRuler:{color:v.themeColorFromId(m.overviewRulerRangeHighlight),position:p.OverviewRulerLane.Full}}
}],a=i.deltaDecorations(o,s),c=a[0],l=a[1];r.rangeHighlightDecorationId={groupId:n.id,rangeHighlightId:c,lineDecorationId:l}})},l.prototype.clearDecorations=function(){var e=this;this.rangeHighlightDecorationId&&(this.editorService.visibleControls.forEach(function(t){if(t.group.id===e.rangeHighlightDecorationId.groupId){t.getControl().changeDecorations(function(t){t.deltaDecorations([e.rangeHighlightDecorationId.lineDecorationId,e.rangeHighlightDecorationId.rangeHighlightId],[])})}}),this.rangeHighlightDecorationId=null)},l.prototype.onClose=function(e){if(this.clearOutlineRequest(),this.clearDecorations(),e&&this.lastKnownEditorViewState){var t=this.editorService.activeTextEditorWidget;t&&t.restoreViewState(this.lastKnownEditorViewState),this.lastKnownEditorViewState=null}},l.prototype.clearOutlineRequest=function(){this.pendingOutlineRequest&&(this.pendingOutlineRequest.cancel(),this.pendingOutlineRequest.dispose(),this.pendingOutlineRequest=void 0),this.cachedOutlineRequest=null},
l.ID="workbench.picker.filesymbols",l=r([o(0,y.IEditorService)],l)}(u.QuickOpenHandler);t.GotoSymbolHandler=A}),define(e[287],t([1,0,6,2,30,8,69,54,49]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HELP_PREFIX="?";var p=function(e){function t(t,i,n,r){var o=e.call(this)||this;return t?o.prefix=o.prefixLabel=t:(o.prefix="",o.prefixLabel="…"),o.description=i,o.quickOpenService=n,o.openOnPreview=r,o}return i(t,e),t.prototype.getLabel=function(){return this.prefixLabel},t.prototype.getAriaLabel=function(){return s.localize("entryAriaLabel","{0}, picker help",this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.run=function(e,t){return(1===e||this.openOnPreview)&&this.quickOpenService.show(this.prefix),!1},t}(l.QuickOpenEntryGroup),h=function(e){function h(t){var i=e.call(this)||this;return i.quickOpenService=t,i}return i(h,e),h.prototype.getResults=function(e,i){var r=this;e=e.trim()
;var o=c.Registry.as(u.Extensions.Quickopen),d=o.getQuickOpenHandlers(),h=o.getDefaultQuickOpenHandler();h&&d.push(h);var g=[],f=[],v=[];return d.sort(function(e,t){return e.prefix.localeCompare(t.prefix)}).forEach(function(i){if(i.prefix!==t.HELP_PREFIX)if(a.isArray(i.helpEntries))for(var n=0;n<i.helpEntries.length;n++){var r=i.helpEntries[n];0===r.prefix.indexOf(e)&&v.push(r)}else 0===i.prefix.indexOf(e)&&v.push(i)}),v.forEach(function(e){if(e instanceof u.QuickOpenHandlerDescriptor)g.push(new p(e.prefix,e.description,r.quickOpenService,1===v.length));else{var t=new p(e.prefix,e.description,r.quickOpenService,1===v.length);e.needsEditor?f.push(t):g.push(t)}}),g.length>0&&g[0].setGroupLabel(s.localize("globalCommands","global commands")),f.length>0&&(f[0].setGroupLabel(s.localize("editorCommands","editor commands")),g.length>0&&f[0].setShowBorder(!0)),n.TPromise.as(new l.QuickOpenModel(g.concat(f)))},h.prototype.getAutoFocus=function(e){return e=e.trim(),{autoFocusFirstEntry:e.length>0,autoFocusPrefixMatch:e
}},h.ID="workbench.picker.help",h=r([o(0,d.IQuickOpenService)],h)}(u.QuickOpenHandler);t.HelpHandler=h}),define(e[176],t([1,0,2,6,24,17,54,69,72,22,50,82,3,9,148,25,12,63,57,27,143]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var I=function(e){function t(t,i,n,r,o,s){var a=e.call(this,r)||this;return a.bearing=t,a.provider=i,a.configurationService=n,a.labelService=o,a.openerService=s,a}return i(t,e),t.prototype.getLabel=function(){return this.bearing.name},t.prototype.getAriaLabel=function(){return n.localize("entryAriaLabel","{0}, symbols picker",this.getLabel())},t.prototype.getDescription=function(){var e=this.bearing.containerName;return this.bearing.location.uri?e?e+" — "+y.basename(this.bearing.location.uri.fsPath):this.labelService.getUriLabel(this.bearing.location.uri,{relative:!0}):e},t.prototype.getIcon=function(){return g.symbolKindToCssClass(this.bearing.kind)},t.prototype.getResource=function(){return this.bearing.location.uri
},t.prototype.run=function(t,i){var n=this;return this.bearingResolve||"function"!=typeof this.provider.resolveWorkspaceSymbol||this.bearing.location.range||(this.bearingResolve=Promise.resolve(this.provider.resolveWorkspaceSymbol(this.bearing,E.CancellationToken.None)).then(function(e){return n.bearing=e||n.bearing,n},a.onUnexpectedError)),s.TPromise.as(this.bearingResolve).then(function(){var r=n.bearing.location.uri?n.bearing.location.uri.scheme:void 0;r===w.Schemas.http||r===w.Schemas.https?n.openerService.open(n.bearing.location.uri):e.prototype.run.call(n,t,i)}),1===t},t.prototype.getInput=function(){var e={resource:this.bearing.location.uri,options:{pinned:!this.configurationService.getValue().workbench.editor.enablePreviewFromQuickOpen}};return this.bearing.location.range&&(e.options.selection=h.Range.collapseToStart(this.bearing.location.range)),e},t.compare=function(e,t,i){if(e.getLabel().toLowerCase()===t.getLabel().toLowerCase()){
var n=g.symbolKindToCssClass(e.bearing.kind),r=g.symbolKindToCssClass(t.bearing.kind);return n.localeCompare(r)}return u.compareEntries(e,t,i)},t=r([o(2,v.IConfigurationService),o(3,S.IEditorService),o(4,b.ILabelService),o(5,C.IOpenerService)],t)}(l.EditorQuickOpenEntry),_=function(e){function t(i){var n=e.call(this)||this;return n.instantiationService=i,n.delayer=new c.ThrottledDelayer(t.TYPING_SEARCH_DELAY),n.options=Object.create(null),n}return i(t,e),t.prototype.setOptions=function(e){this.options=e},t.prototype.canRun=function(){return!0},t.prototype.getResults=function(e,t){var i=this;e=e.trim();return(this.options.skipDelay?this.doGetResults(e,t):this.delayer.trigger(function(){return t.isCancellationRequested?s.TPromise.wrap([]):i.doGetResults(e,t)})).then(function(e){return new u.QuickOpenModel(e)})},t.prototype.doGetResults=function(e,t){var i=this;return m.getWorkspaceSymbols(e,t).then(function(n){if(t.isCancellationRequested)return[];for(var r=[],o=0,s=n;o<s.length;o++){var a=s[o],c=a[0],l=a[1]
;i.fillInSymbolEntries(r,c,l,e)}return i.options.skipSorting?r:(e=e?p.stripWildcards(e.toLowerCase()):e,r.sort(function(t,i){return I.compare(t,i,e)}))})},t.prototype.fillInSymbolEntries=function(e,t,i,n){for(var r=0,o=i;r<o.length;r++){var s=o[r];if(!this.options.skipLocalSymbols||!s.containerName){var a=this.instantiationService.createInstance(I,s,t);a.setHighlights(d.matchesFuzzy(n,a.getLabel())),e.push(a)}}},t.prototype.getGroupLabel=function(){return n.localize("symbols","symbol results")},t.prototype.getEmptyLabel=function(e){return e.length>0?n.localize("noSymbolsMatching","No symbols matching"):n.localize("noSymbolsWithoutInput","Type to search for symbols")},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:e.trim()}},t.ID="workbench.picker.symbols",t.TYPING_SEARCH_DELAY=200,t=r([o(0,f.IInstantiationService)],t)}(l.QuickOpenHandler);t.OpenSymbolHandler=_}),define(e[290],t([1,0,493,51,12,11,6,15]),function(e,t,n,s,a,c,l,u){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,i){var n=e.call(this,i)||this;return n.editorService=t,n}return i(t,e),t.prototype.getActiveCodeEditor=function(){var e=this.editorService.activeTextEditorWidget;return s.isCodeEditor(e)?e:s.isDiffEditor(e)?e.getModifiedEditor():null},t.prototype.openCodeEditor=function(e,t,i){var n=this.editorService.activeTextEditorWidget;if(!i&&s.isDiffEditor(n)&&e.options&&e.resource&&n.getModel()&&t===n.getModifiedEditor()&&e.resource.toString()===n.getModel().modified.uri.toString()){var r=n.getModifiedEditor();return u.TextEditorOptions.create(e.options).apply(r,0),l.TPromise.as(r)}return this.doOpenCodeEditor(e,t,i)},t.prototype.doOpenCodeEditor=function(e,t,i){return this.editorService.openEditor(e,i?a.SIDE_GROUP:a.ACTIVE_GROUP).then(function(e){if(e){var t=e.getControl();if(s.isCodeEditor(t))return t}return null})},t=r([o(0,a.IEditorService),o(1,c.IThemeService)],t)}(n.CodeEditorServiceImpl);t.CodeEditorService=d}),
define(e[68],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IExtensionService=i.createDecorator("extensionService");var n=function(){return function(e,t,i,n,r){this.startup=e,this.codeLoadingTime=t,this.activateCallTime=i,this.activateResolvedTime=n,this.activationEvent=r}}();t.ActivationTimes=n;var r=function(){return function(e,t){this.description=e,this.value=t}}();t.ExtensionPointContribution=r,t.ExtensionHostLogFileName="exthost"}),define(e[292],t([1,0,6,2,19,30,20,14,69,23,10,54,72,3,31,32,49,58,36,60,5,39,9,12,24,28,68]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T){"use strict";function R(e){var t=e.getValue(),i=t.workbench&&t.workbench.commandPalette&&t.workbench.commandPalette.history;return"number"!=typeof i&&(i=P.DEFAULT_COMMANDS_HISTORY_LENGTH),i}Object.defineProperty(t,"__esModule",{value:!0}),t.ALL_COMMANDS_PREFIX=">";var O,M,k=1,P=function(){function e(e,t,i){this.storageService=e,this.lifecycleService=t,this.configurationService=i,
this.updateConfiguration(),this.load(),this.registerListeners()}return e.prototype.updateConfiguration=function(){this.commandHistoryLength=R(this.configurationService),M&&(M.limit=this.commandHistoryLength)},e.prototype.load=function(){var t,i=this.storageService.get(e.PREF_KEY_CACHE);if(i)try{t=JSON.parse(i)}catch(e){}if(M=new I.LRUCache(this.commandHistoryLength,1),t){(t.usesLRU?t.entries:t.entries.sort(function(e,t){return e.value-t.value})).forEach(function(e){return M.set(e.key,e.value)})}k=this.storageService.getInteger(e.PREF_KEY_COUNTER,void 0,k)},e.prototype.registerListeners=function(){var e=this;this.configurationService.onDidChangeConfiguration(function(t){return e.updateConfiguration()}),C.once(this.lifecycleService.onShutdown)(function(t){return e.save()})},e.prototype.save=function(){var t={usesLRU:!0,entries:[]};M.forEach(function(e,i){return t.entries.push({key:i,value:e})}),this.storageService.store(e.PREF_KEY_CACHE,JSON.stringify(t)),this.storageService.store(e.PREF_KEY_COUNTER,k)},
e.prototype.push=function(e){M.set(e,k++)},e.prototype.peek=function(e){return M.peek(e)},e.DEFAULT_COMMANDS_HISTORY_LENGTH=50,e.PREF_KEY_CACHE="commandPalette.mru.cache",e.PREF_KEY_COUNTER="commandPalette.mru.counter",e=r([o(0,E.IStorageService),o(1,w.ILifecycleService),o(2,_.IConfigurationService)],e)}(),L=function(e){function a(t,i,n,r){var o=e.call(this,t,i)||this;return o.quickOpenService=n,o.configurationService=r,o}return i(a,e),a.prototype.run=function(e){var i=this.configurationService.getValue(),r=i.workbench&&i.workbench.commandPalette&&!0===i.workbench.commandPalette.preserveInput,o=t.ALL_COMMANDS_PREFIX;return r&&O&&(o=""+o+O),this.quickOpenService.show(o,{inputSelection:O?{start:1,end:o.length}:void 0}),n.TPromise.as(null)},a.ID="workbench.action.showCommands",a.LABEL=s.localize("showTriggerActions","Show All Commands"),a=r([o(2,S.IQuickOpenService),o(3,_.IConfigurationService)],a)}(u.Action);t.ShowAllCommandsAction=L;var F=function(e){function t(t,i,n){var r=e.call(this,t,i)||this
;return r.configurationService=n,r}return i(t,e),t.prototype.run=function(e){var t=R(this.configurationService);return t>0&&(M=new I.LRUCache(t),k=1),n.TPromise.as(null)},t.ID="workbench.action.clearCommandHistory",t.LABEL=s.localize("clearCommandHistory","Clear Command History"),t=r([o(2,_.IConfigurationService)],t)}(u.Action);t.ClearCommandHistoryAction=F;var N=function(e){function r(){return e.call(this,{id:L.ID,label:s.localize("showCommands.label","Command Palette..."),alias:"Command Palette",precondition:null,menuOpts:{group:"z_commands",order:1}})||this}return i(r,e),r.prototype.run=function(e,i){return e.get(S.IQuickOpenService).show(t.ALL_COMMANDS_PREFIX),n.TPromise.as(null)},r}(b.EditorAction),B=function(e){function t(t,i,n,r,o,s,a,c){var l=e.call(this)||this;return l.commandId=t,l.keybinding=i,l.label=n,l.onBeforeRun=s,l.notificationService=a,l.telemetryService=c,l.labelLowercase=l.label.toLowerCase(),l.keybindingAriaLabel=i?i.getAriaLabel():void 0,l.label!==r?l.alias=r:o.alias=null,
l.setHighlights(o.label,null,o.alias),l}return i(t,e),t.prototype.getCommandId=function(){return this.commandId},t.prototype.getLabel=function(){return this.label},t.prototype.getSortLabel=function(){return this.labelLowercase},t.prototype.getDescription=function(){return this.description},t.prototype.setDescription=function(e){this.description=e},t.prototype.getKeybinding=function(){return this.keybinding},t.prototype.getDetail=function(){return this.alias},t.prototype.getAriaLabel=function(){return this.keybindingAriaLabel?s.localize("entryAriaLabelWithKey","{0}, {1}, commands",this.getLabel(),this.keybindingAriaLabel):s.localize("entryAriaLabel","{0}, commands",this.getLabel())},t.prototype.run=function(e,t){return 1===e&&(this.runAction(this.getAction()),!0)},t.prototype.runAction=function(e){var t=this;this.onBeforeRun(this.commandId),setTimeout(function(){
if(!e||e instanceof u.Action&&!e.enabled)t.notificationService.info(s.localize("actionNotEnabled","Command '{0}' is not enabled in the current context.",t.getLabel()));else try{t.telemetryService.publicLog("workbenchActionExecuted",{id:e.id,from:"quick open"}),(e.run()||n.TPromise.as(null)).then(function(){e instanceof u.Action&&e.dispose()},function(e){return t.onError(e)})}catch(e){t.onError(e)}},50)},t.prototype.onError=function(e){A.isPromiseCanceledError(e)||this.notificationService.error(e||s.localize("canNotRun","Command '{0}' resulted in an error.",this.label))},t=r([o(6,x.INotificationService),o(7,m.ITelemetryService)],t)}(d.QuickOpenEntryGroup),V=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this,t,i,n,r,o,a,c,l)||this;return u.action=s,u}return i(t,e),t.prototype.getAction=function(){return this.action},t=r([o(7,x.INotificationService),o(8,m.ITelemetryService)],t)}(B),W=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this,t,i,n,r,o,a,c,l)||this;return u.action=s,u}return i(t,e),
t.prototype.getAction=function(){return this.action},t=r([o(7,x.INotificationService),o(8,m.ITelemetryService)],t)}(B),G=f.or(f.matchesPrefix,f.matchesWords,f.matchesContiguousSubString),K=function(e){function t(t,i,n,r,o,s){var a=e.call(this)||this;return a.editorService=t,a.instantiationService=i,a.keybindingService=n,a.menuService=r,a.configurationService=o,a.extensionService=s,a.commandsHistory=a.instantiationService.createInstance(P),a.configurationService.onDidChangeConfiguration(function(e){return a.updateConfiguration()}),a.updateConfiguration(),a}return i(t,e),t.prototype.updateConfiguration=function(){this.commandHistoryEnabled=R(this.configurationService)>0},t.prototype.getResults=function(e,t){var i=this;return this.extensionService.whenInstalledExtensionsRegistered().then(function(){if(t.isCancellationRequested)return new d.QuickOpenModel([]);e=e.trim(),O=e;var n=i.editorService.activeTextEditorWidget,r=[];n&&c.isFunction(n.getSupportedActions)&&(r=n.getSupportedActions())
;var o=i.editorActionsToEntries(r,e),l=i.editorService.invokeWithinEditorContext(function(e){return i.menuService.createMenu(p.MenuId.CommandPalette,e.get(h.IContextKeyService))}).getActions().reduce(function(e,t){var i=t[1];return e.concat(i)},[]).filter(function(e){return e instanceof p.MenuItemAction}),u=i.menuItemActionsToEntries(l,e),g=o.concat(u);g=a.distinct(g,function(e){return""+e.getLabel()+e.getGroupLabel()+e.getCommandId()});var f=new Set;g.forEach(function(e){var t=""+e.getLabel()+e.getGroupLabel();f.has(t)?e.setDescription(e.getCommandId()):f.add(t)});var v=(g=g.sort(function(e,t){var n=i.commandsHistory.peek(e.getCommandId()),r=i.commandsHistory.peek(t.getCommandId());return n&&r?n>r?-1:1:n?-1:r?1:e.getSortLabel().localeCompare(t.getSortLabel())}))[0];if(v&&i.commandsHistory.peek(v.getCommandId())){v.setGroupLabel(s.localize("recentlyUsed","recently used"));for(var m=1;m<g.length;m++){var y=g[m];if(!i.commandsHistory.peek(y.getCommandId())){y.setShowBorder(!0),
y.setGroupLabel(s.localize("morecCommands","other commands"));break}}}return new d.QuickOpenModel(g)})},t.prototype.editorActionsToEntries=function(e,t){for(var i=this,n=[],r=0;r<e.length;r++){var o=e[r];if(o.id!==L.ID){var s=o.label;if(s){var a=l.language!==l.LANGUAGE_DEFAULT?o.alias:null,c=G(t,s),u=a?G(t,a):null;(c||u)&&n.push(this.instantiationService.createInstance(V,o.id,this.keybindingService.lookupKeybinding(o.id),s,a,{label:c,alias:u},o,function(e){return i.onBeforeRunCommand(e)}))}}}return n},t.prototype.onBeforeRunCommand=function(e){this.commandsHistory.push(e)},t.prototype.menuItemActionsToEntries=function(e,t){for(var i=this,n=[],r=0,o=e;r<o.length;r++){var a=o[r],c="string"==typeof a.item.title?a.item.title:a.item.title.value,u=void 0,d=c;if(a.item.category&&(u="string"==typeof a.item.category?a.item.category:a.item.category.value,d=s.localize("cat.title","{0}: {1}",u,c)),d){
var p=G(t,d),h=l.language!==l.LANGUAGE_DEFAULT&&"string"!=typeof a.item.title?a.item.title.original:null,g=l.language!==l.LANGUAGE_DEFAULT&&u&&"string"!=typeof a.item.category?a.item.category.original:null,f=void 0;h&&u?f=g?g+": "+h:u+": "+h:h&&(f=h);var v=f?G(t,f):null;(p||v)&&n.push(this.instantiationService.createInstance(W,a.id,this.keybindingService.lookupKeybinding(a.item.id),d,f,{label:p,alias:v},a,function(e){return i.onBeforeRunCommand(e)}))}}return n},t.prototype.getAutoFocus=function(e,t){var i=e.trim();if(i&&this.commandHistoryEnabled){var n=t.model&&t.model.entries[0];n instanceof B&&this.commandsHistory.peek(n.getCommandId())&&(i=void 0)}return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:i}},t.prototype.getEmptyLabel=function(e){return s.localize("noCommandsMatching","No commands matching")},t.ID="workbench.picker.commands",t=r([o(0,D.IEditorService),o(1,v.IInstantiationService),o(2,y.IKeybindingService),o(3,p.IMenuService),o(4,_.IConfigurationService),o(5,T.IExtensionService)],t)
}(g.QuickOpenHandler);t.CommandsHandler=K,b.registerEditorAction(N)}),define(e[179],t([1,0,2,24,166,238,8,117]),function(e,t,i,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=Object.hasOwnProperty,l=s.Registry.as(o.Extensions.JSONContribution),u=function(){function e(e,t,i){this._messageHandler=e,this._extension=t,this._extensionPointId=i}return e.prototype._msg=function(e,t){this._messageHandler({type:e,message:t,extensionId:this._extension.id,extensionPointId:this._extensionPointId})},e.prototype.error=function(e){this._msg(r.default.Error,e)},e.prototype.warn=function(e){this._msg(r.default.Warning,e)},e.prototype.info=function(e){this._msg(r.default.Info,e)},e}();t.ExtensionMessageCollector=u;var d=function(){function e(e){this.name=e,this._handler=null,this._users=null,this._done=!1}return e.prototype.setHandler=function(e){if(null!==this._handler||this._done)throw new Error("Handler already set!");this._handler=e,this._handle()},e.prototype.acceptUsers=function(e){
if(null!==this._users||this._done)throw new Error("Users already set!");this._users=e,this._handle()},e.prototype._handle=function(){if(null!==this._handler&&null!==this._users){this._done=!0;var e=this._handler;this._handler=null;var t=this._users;this._users=null;try{e(t)}catch(e){n.onUnexpectedError(e)}}},e}();t.ExtensionPoint=d;var p="vscode://schemas/vscode-extensions";t.schema={properties:{engines:{type:"object",description:i.localize("vscode.extension.engines","Engine compatibility."),properties:{vscode:{type:"string",description:i.localize("vscode.extension.engines.vscode","For VS Code extensions, specifies the VS Code version that the extension is compatible with. Cannot be *. For example: ^0.10.5 indicates compatibility with a minimum VS Code version of 0.10.5."),default:"^1.22.0"}}},publisher:{description:i.localize("vscode.extension.publisher","The publisher of the VS Code extension."),type:"string"},displayName:{
description:i.localize("vscode.extension.displayName","The display name for the extension used in the VS Code gallery."),type:"string"},categories:{description:i.localize("vscode.extension.categories","The categories used by the VS Code gallery to categorize the extension."),type:"array",uniqueItems:!0,items:{oneOf:[{type:"string",enum:["Programming Languages","Snippets","Linters","Themes","Debuggers","Other","Keymaps","Formatters","Extension Packs","SCM Providers","Azure","Language Packs"]},{type:"string",const:"Languages",deprecationMessage:i.localize("vscode.extension.category.languages.deprecated","Use 'Programming  Languages' instead")}]}},galleryBanner:{type:"object",description:i.localize("vscode.extension.galleryBanner","Banner used in the VS Code marketplace."),properties:{color:{description:i.localize("vscode.extension.galleryBanner.color","The banner color on the VS Code marketplace page header."),type:"string"},theme:{
description:i.localize("vscode.extension.galleryBanner.theme","The color theme for the font used in the banner."),type:"string",enum:["dark","light"]}}},contributes:{description:i.localize("vscode.extension.contributes","All contributions of the VS Code extension represented by this package."),type:"object",properties:{},default:{}},preview:{type:"boolean",description:i.localize("vscode.extension.preview","Sets the extension to be flagged as a Preview in the Marketplace.")},activationEvents:{description:i.localize("vscode.extension.activationEvents","Activation events for the VS Code extension."),type:"array",items:{type:"string",defaultSnippets:[{label:"onLanguage",description:i.localize("vscode.extension.activationEvents.onLanguage","An activation event emitted whenever a file that resolves to the specified language gets opened."),body:"onLanguage:${1:languageId}"},{label:"onCommand",
description:i.localize("vscode.extension.activationEvents.onCommand","An activation event emitted whenever the specified command gets invoked."),body:"onCommand:${2:commandId}"},{label:"onDebug",description:i.localize("vscode.extension.activationEvents.onDebug","An activation event emitted whenever a user is about to start debugging or about to setup debug configurations."),body:"onDebug"},{label:"onDebugInitialConfigurations",description:i.localize("vscode.extension.activationEvents.onDebugInitialConfigurations",'An activation event emitted whenever a "launch.json" needs to be created (and all provideDebugConfigurations methods need to be called).'),body:"onDebugInitialConfigurations"},{label:"onDebugResolve",description:i.localize("vscode.extension.activationEvents.onDebugResolve","An activation event emitted whenever a debug session with the specific type is about to be launched (and a corresponding resolveDebugConfiguration method needs to be called)."),body:"onDebugResolve:${6:type}"},{
label:"workspaceContains",description:i.localize("vscode.extension.activationEvents.workspaceContains","An activation event emitted whenever a folder is opened that contains at least a file matching the specified glob pattern."),body:"workspaceContains:${4:filePattern}"},{label:"onFileSystem",description:i.localize("vscode.extension.activationEvents.onFileSystem","An activation event emitted whenever a file or folder is accessed with the given scheme."),body:"onFileSystem:${1:scheme}"},{label:"onSearch",description:i.localize("vscode.extension.activationEvents.onSearch","An activation event emitted whenever a search is started in the folder with the given scheme."),body:"onSearch:${7:scheme}"},{label:"onView",body:"onView:${5:viewId}",description:i.localize("vscode.extension.activationEvents.onView","An activation event emitted whenever the specified view is expanded.")},{label:"onUri",body:"onUri",
description:i.localize("vscode.extension.activationEvents.onUri","An activation event emitted whenever a system-wide Uri directed towards this extension is open.")},{label:"*",description:i.localize("vscode.extension.activationEvents.star","An activation event emitted on VS Code startup. To ensure a great end user experience, please use this activation event in your extension only when no other activation events combination works in your use-case."),body:"*"}]}},badges:{type:"array",description:i.localize("vscode.extension.badges","Array of badges to display in the sidebar of the Marketplace's extension page."),items:{type:"object",required:["url","href","description"],properties:{url:{type:"string",description:i.localize("vscode.extension.badges.url","Badge image URL.")},href:{type:"string",description:i.localize("vscode.extension.badges.href","Badge link.")},description:{type:"string",description:i.localize("vscode.extension.badges.description","Badge description.")}}}},markdown:{type:"string",
description:i.localize("vscode.extension.markdown","Controls the Markdown rendering engine used in the Marketplace. Either github (default) or standard."),enum:["github","standard"],default:"github"},qna:{default:"marketplace",description:i.localize("vscode.extension.qna","Controls the Q&A link in the Marketplace. Set to marketplace to enable the default Marketplace Q & A site. Set to a string to provide the URL of a custom Q & A site. Set to false to disable Q & A altogether."),anyOf:[{type:["string","boolean"],enum:["marketplace",!1]},{type:"string"}]},extensionDependencies:{description:i.localize("vscode.extension.extensionDependencies","Dependencies to other extensions. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:a.EXTENSION_IDENTIFIER_PATTERN}},extensionPack:{
description:i.localize("vscode.extension.contributes.extensionPack","A set of extensions that can be installed together. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:a.EXTENSION_IDENTIFIER_PATTERN}},scripts:{type:"object",properties:{"vscode:prepublish":{description:i.localize("vscode.extension.scripts.prepublish","Script executed before the package is published as a VS Code extension."),type:"string"},"vscode:uninstall":{description:i.localize("vscode.extension.scripts.uninstall","Uninstall hook for VS Code extension. Script that gets executed when the extension is completely uninstalled from VS Code which is when VS Code is restarted (shutdown and start) after the extension is uninstalled. Only Node scripts are supported."),type:"string"}}},icon:{type:"string",description:i.localize("vscode.extension.icon","The path to a 128x128 pixel icon.")}}};var h=function(){function e(){this._extensionPoints={}}
return e.prototype.registerExtensionPoint=function(e,i,n){if(c.call(this._extensionPoints,e))throw new Error("Duplicate extension point: "+e);var r=new d(e);return this._extensionPoints[e]=r,t.schema.properties.contributes.properties[e]=n,l.registerSchema(p,t.schema),r},e.prototype.getExtensionPoints=function(){var e=this;return Object.keys(this._extensionPoints).map(function(t){return e._extensionPoints[t]})},e}();t.ExtensionsRegistryImpl=h;var g={ExtensionsRegistry:"ExtensionsRegistry"};s.Registry.add(g.ExtensionsRegistry,new h),t.ExtensionsRegistry=s.Registry.as(g.ExtensionsRegistry),l.registerSchema(p,t.schema)}),define(e[294],t([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t,i){this.isMain=t,this.sid=i,this.nid=++e.count}return e.count=0,e}();t.ProxyIdentifier=i;var n=[];t.createMainContextProxyIdentifier=function(e){var t=new i(!0,e);return n[t.nid]=t,t},t.createExtHostContextProxyIdentifier=function(e){var t=new i(!1,e);return n[t.nid]=t,
t},t.getStringIdentifierForProxy=function(e){return n[e].sid}}),define(e[295],t([1,0,13,294]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Default=0]="Default",e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",e[e.AtTop=3]="AtTop"}(t.TextEditorRevealType||(t.TextEditorRevealType={}));!function(e){e.name="$ident",e.mixin=function(t,i){return Object.defineProperty(t,e.name,{value:i,enumerable:!0}),t},e.of=function(t){return t[e.name]}}(t.ObjectIdentifier||(t.ObjectIdentifier={}));var r=function(){function e(){}return e.mixin=function(t){return t._id=e._n++,t},e._n=0,e}();t.IdObject=r,t.reviveWorkspaceEditDto=function(e){if(e&&e.edits)for(var t=0,n=e.edits;t<n.length;t++){var r=n[t];"object"==typeof r.resource?r.resource=i.URI.revive(r.resource):(r.newUri=i.URI.revive(r.newUri),r.oldUri=i.URI.revive(r.oldUri))}return e},t.MainContext={MainThreadCommands:n.createMainContextProxyIdentifier("MainThreadCommands"),
MainThreadComments:n.createMainContextProxyIdentifier("MainThreadComments"),MainThreadConfiguration:n.createMainContextProxyIdentifier("MainThreadConfiguration"),MainThreadDebugService:n.createMainContextProxyIdentifier("MainThreadDebugService"),MainThreadDecorations:n.createMainContextProxyIdentifier("MainThreadDecorations"),MainThreadDiagnostics:n.createMainContextProxyIdentifier("MainThreadDiagnostics"),MainThreadDialogs:n.createMainContextProxyIdentifier("MainThreadDiaglogs"),MainThreadDocuments:n.createMainContextProxyIdentifier("MainThreadDocuments"),MainThreadDocumentContentProviders:n.createMainContextProxyIdentifier("MainThreadDocumentContentProviders"),MainThreadTextEditors:n.createMainContextProxyIdentifier("MainThreadTextEditors"),MainThreadErrors:n.createMainContextProxyIdentifier("MainThreadErrors"),MainThreadTreeViews:n.createMainContextProxyIdentifier("MainThreadTreeViews"),MainThreadLanguageFeatures:n.createMainContextProxyIdentifier("MainThreadLanguageFeatures"),
MainThreadLanguages:n.createMainContextProxyIdentifier("MainThreadLanguages"),MainThreadMessageService:n.createMainContextProxyIdentifier("MainThreadMessageService"),MainThreadOutputService:n.createMainContextProxyIdentifier("MainThreadOutputService"),MainThreadProgress:n.createMainContextProxyIdentifier("MainThreadProgress"),MainThreadQuickOpen:n.createMainContextProxyIdentifier("MainThreadQuickOpen"),MainThreadStatusBar:n.createMainContextProxyIdentifier("MainThreadStatusBar"),MainThreadStorage:n.createMainContextProxyIdentifier("MainThreadStorage"),MainThreadTelemetry:n.createMainContextProxyIdentifier("MainThreadTelemetry"),MainThreadTerminalService:n.createMainContextProxyIdentifier("MainThreadTerminalService"),MainThreadWebviews:n.createMainContextProxyIdentifier("MainThreadWebviews"),MainThreadUrls:n.createMainContextProxyIdentifier("MainThreadUrls"),MainThreadWorkspace:n.createMainContextProxyIdentifier("MainThreadWorkspace"),
MainThreadFileSystem:n.createMainContextProxyIdentifier("MainThreadFileSystem"),MainThreadExtensionService:n.createMainContextProxyIdentifier("MainThreadExtensionService"),MainThreadSCM:n.createMainContextProxyIdentifier("MainThreadSCM"),MainThreadSearch:n.createMainContextProxyIdentifier("MainThreadSearch"),MainThreadTask:n.createMainContextProxyIdentifier("MainThreadTask"),MainThreadWindow:n.createMainContextProxyIdentifier("MainThreadWindow")},t.ExtHostContext={ExtHostCommands:n.createExtHostContextProxyIdentifier("ExtHostCommands"),ExtHostConfiguration:n.createExtHostContextProxyIdentifier("ExtHostConfiguration"),ExtHostDiagnostics:n.createExtHostContextProxyIdentifier("ExtHostDiagnostics"),ExtHostDebugService:n.createExtHostContextProxyIdentifier("ExtHostDebugService"),ExtHostDecorations:n.createExtHostContextProxyIdentifier("ExtHostDecorations"),ExtHostDocumentsAndEditors:n.createExtHostContextProxyIdentifier("ExtHostDocumentsAndEditors"),
ExtHostDocuments:n.createExtHostContextProxyIdentifier("ExtHostDocuments"),ExtHostDocumentContentProviders:n.createExtHostContextProxyIdentifier("ExtHostDocumentContentProviders"),ExtHostDocumentSaveParticipant:n.createExtHostContextProxyIdentifier("ExtHostDocumentSaveParticipant"),ExtHostEditors:n.createExtHostContextProxyIdentifier("ExtHostEditors"),ExtHostTreeViews:n.createExtHostContextProxyIdentifier("ExtHostTreeViews"),ExtHostFileSystem:n.createExtHostContextProxyIdentifier("ExtHostFileSystem"),ExtHostFileSystemEventService:n.createExtHostContextProxyIdentifier("ExtHostFileSystemEventService"),ExtHostHeapService:n.createExtHostContextProxyIdentifier("ExtHostHeapMonitor"),ExtHostLanguageFeatures:n.createExtHostContextProxyIdentifier("ExtHostLanguageFeatures"),ExtHostQuickOpen:n.createExtHostContextProxyIdentifier("ExtHostQuickOpen"),ExtHostExtensionService:n.createExtHostContextProxyIdentifier("ExtHostExtensionService"),ExtHostLogService:n.createExtHostContextProxyIdentifier("ExtHostLogService"),
ExtHostTerminalService:n.createExtHostContextProxyIdentifier("ExtHostTerminalService"),ExtHostSCM:n.createExtHostContextProxyIdentifier("ExtHostSCM"),ExtHostSearch:n.createExtHostContextProxyIdentifier("ExtHostSearch"),ExtHostTask:n.createExtHostContextProxyIdentifier("ExtHostTask"),ExtHostWorkspace:n.createExtHostContextProxyIdentifier("ExtHostWorkspace"),ExtHostWindow:n.createExtHostContextProxyIdentifier("ExtHostWindow"),ExtHostWebviews:n.createExtHostContextProxyIdentifier("ExtHostWebviews"),ExtHostProgress:n.createMainContextProxyIdentifier("ExtHostProgress"),ExtHostComments:n.createMainContextProxyIdentifier("ExtHostComments"),ExtHostUrls:n.createExtHostContextProxyIdentifier("ExtHostUrls"),ExtHostOutputService:n.createMainContextProxyIdentifier("ExtHostOutputService")}}),define(e[296],t([1,0,295,3,86,5,266,17,452]),function(e,t,i,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHeapService=n.createDecorator("heapService");var d=function(){function t(){
this._onGarbageCollection=new a.Emitter,this.onGarbageCollection=this._onGarbageCollection.event,this._activeSignals=new WeakMap,this._activeIds=new Set}return t.prototype.dispose=function(){clearInterval(this._consumeHandle)},t.prototype.trackRecursive=function(e){var t=this;return l.isThenable(e)?e.then(function(e){return t.trackRecursive(e)}):this._doTrackRecursive(e)},t.prototype._doTrackRecursive=function(t){var n=this;return u.isNullOrUndefined(t)?Promise.resolve(t):new Promise(function(t,i){e(["gc-signals"],t,i)}).then(function(e){var r=e.GCSignal,o=e.consumeSignals;void 0===n._consumeHandle&&(n._consumeHandle=setInterval(function(){var e=o();if(e.length>0){for(var t=0,i=e;t<i.length;t++){var r=i[t];n._activeIds.delete(r)}n._onGarbageCollection.fire(e)}},15e3));for(var s=[t];s.length>0;){var a=s.shift();if(a&&"object"==typeof a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var l=a[c]
;"object"==typeof l?s.push(l):c===i.ObjectIdentifier.name&&("number"!=typeof l||n._activeIds.has(l)||(n._activeIds.add(l),n._activeSignals.set(a,new r(l))))}}return t})},t}();t.HeapService=d;var p=function(){function e(e,t){var n=e.getProxy(i.ExtHostContext.ExtHostHeapService);this._toDispose=t.onGarbageCollection(function(e){n.$onGarbageCollection(e)})}return e.prototype.dispose=function(){this._toDispose.dispose()},e=r([c.extHostCustomer,o(1,t.IHeapService)],e)}();t.MainThreadHeapService=p,s.registerSingleton(t.IHeapService,d)}),define(e[297],t([1,0,13,16,20]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFileChangesEvent=function(e){return new n.FileChangesEvent(e.map(function(e){return{type:e.type,resource:i.URI.file(e.path)}}))},t.normalize=function(e){for(var t=new o,i=0;i<e.length;i++){var n=e[i];t.processEvent(n)}return t.normalize()};var o=function(){function e(){this.normalized=[],this.mapPathToChange=Object.create(null)}
return e.prototype.processEvent=function(e){var t=this.mapPathToChange[e.path];if(t){var i=t.type,n=e.type;1===i&&2===n?(delete this.mapPathToChange[e.path],this.normalized.splice(this.normalized.indexOf(t),1)):2===i&&1===n?t.type=0:1===i&&0===n||(t.type=n)}else this.normalized.push(e),this.mapPathToChange[e.path]=e},e.prototype.normalize=function(){var e=[],t=[];return this.normalized.filter(function(t){return 2===t.type||(e.push(t),!1)}).sort(function(e,t){return e.path.length-t.path.length}).filter(function(e){return!t.some(function(t){return n.isParent(e.path,t,!r.isLinux)})&&(t.push(e.path),!0)}).concat(e)},e}()}),define(e[298],t([1,0,455,459,13,16,6,4,5,88,92,27,25,297,39,17,60]),function(e,t,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w){"use strict";function C(e){var t=this;return new p.TPromise(function(i,n){c.stat(e.fsPath,function(r,o){return s(t,void 0,void 0,function(){var t,s,l;return a(this,function(a){switch(a.label){case 0:return r?[2,n(r)]:(t=[],
o.isDirectory()&&(s=c.readdirSync(e.fsPath)).forEach(function(i){var n=y.join(e.fsPath,i);t.push(u.URI.file(n))}),[4,Promise.all(t.map(C))]);case 1:return l=a.sent(),[2,i({isDirectory:o.isDirectory(),mtime:o.mtime.getTime(),size:o.size,resource:e,name:v.basename(e.fsPath),etag:void 0,children:l})]}})})})})}Object.defineProperty(t,"__esModule",{value:!0});var I=function(e,t){return t?{isDirectory:!1,resource:u.URI.file(e),etag:void 0,mtime:new Date(t.updatedAt).getTime(),name:v.basename(e)}:{isDirectory:!0,resource:u.URI.file(e),etag:void 0,mtime:(new Date).getTime(),name:e}},_=function(e){function t(i,n){var r=e.call(this)||this;return r.codesandboxService=i,r.lifecycleService=n,r._onFileChanges=r._register(new g.Emitter),r._onAfterOperation=r._register(new g.Emitter),r._onDidChangeFileSystemProviderRegistrations=r._register(new g.Emitter),r.activeFileChangesWatchers=new b.ResourceMap,r.fileChangesWatchDelayer=new E.ThrottledDelayer(t.FS_EVENT_DELAY),r.undeliveredRawFileChangesEvents=[],r.registerListeners(),
r}return i(t,e),Object.defineProperty(t.prototype,"onFileChanges",{get:function(){return this._onFileChanges.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onAfterOperation",{get:function(){return this._onAfterOperation.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeFileSystemProviderRegistrations",{get:function(){return this._onDidChangeFileSystemProviderRegistrations.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){this.lifecycleService.when(3).then(function(){}),this.lifecycleService.onShutdown(this.dispose,this)},t.prototype.registerProvider=function(e,t){throw new Error("Method not implemented.")},t.prototype.canHandleResource=function(e){return e.scheme===m.Schemas.file},t.prototype.resolveFile=function(e,t){return C(e)},t.prototype.resolveFiles=function(e){return p.TPromise.join(e.map(function(e){return C(e.resource)})).then(function(e){return e.map(function(e){return{success:!0,stat:e}})})},
t.prototype.existsFile=function(e){return new p.TPromise(function(t){c.stat(e.fsPath,function(e,i){t(e?!1:!0)})})},t.prototype.resolveContent=function(e,t){return new p.TPromise(function(i,n){c.stat(e.fsPath,function(r,o){if(r)return n("ENOENT"===r.code?new d.FileOperationError("File not found ("+e.toString(!0)+")",2,t):r);c.readFile(e.fsPath,function(t,n){i({encoding:"utf8",value:n.toString(),name:v.basename(e.fsPath),resource:u.URI.file(e.fsPath),etag:void 0,isReadonly:!1,mtime:o.mtime.getTime()})})})})},t.prototype.resolveStreamContent=function(e,t){return this.resolveContent(e,t).then(function(e){return n({},e,{value:function(e){return{on:function(t,i){"data"===t&&i(e),"end"===t&&i()}}}(e.value)})})},t.prototype.updateContent=function(e,t,i){var n=this;if(0!==e.fsPath.indexOf("/sandbox/")){var r=t.read?t.read():t;return new p.TPromise(function(t,i){c.writeFile(e.fsPath,r,function(n){n&&i(n),c.stat(e.fsPath,function(i,n){t({isDirectory:n.isDirectory(),resource:u.URI.file(e.fsPath),etag:void 0,
mtime:n.mtime.getTime(),name:v.basename(e.fsPath)})})})})}var o=this.codesandboxService.getFilesByPath()[e.fsPath],s=t.read?t.read():t,a="cb-"+Math.floor(1e4*Math.random());return c.writeFileSync(e.fsPath,s),new p.TPromise(function(t,i){var r;window.cbs=window.cbs||{},window.cbs[a]=function(r,o){if(r)return i(null);var s=n.codesandboxService.getFilesByPath()[e.fsPath];t(I(e.fsPath,s))},o?n.codesandboxService.runSignal("editor.codeSaved",{cbID:a,code:s,moduleShortid:o.shortid}):n.codesandboxService.runSignal("files.createModulesByPath",{cbID:a,files:(r={},r[e.fsPath.replace(/^\/sandbox/,"")]={isBinary:!1,content:s},r)})})},t.prototype.moveFile=function(e,t,i){var n=this.codesandboxService.getFilesByPath()[t.fsPath];return p.TPromise.as(I(t.fsPath,n))},t.prototype.copyFile=function(e,t,i){throw new Error("copyFile not implemented.")},t.prototype.createFile=function(e,t,i){
return this.codesandboxService.getFilesByPath()[e.fsPath]&&!i.overwrite?p.TPromise.wrapError(new d.FileOperationError("File to create already exists ("+e.toString()+")",4,i)):this.updateContent(e,t)},t.prototype.createFolder=function(e){if(0===e.fsPath.indexOf("/vscode")){try{c.mkdirSync(e.fsPath)}catch(e){}return C(e)}throw new Error("createFolder not implemented.")},t.prototype.del=function(e,t){throw new Error("del not implemented.")},t.prototype.watchFileChanges=function(e){var i=this;if(e&&e.scheme===m.Schemas.file){var n=this.activeFileChangesWatchers.get(e);if(n)n.count+=1;else{var r=e.fsPath,o=v.basename(e.fsPath),s=l.watch(r,function(n,a){(a&&a!==o||"rename"===n)&&(s.dispose(),i.activeFileChangesWatchers.delete(e),setTimeout(function(){i.existsFile(e).then(function(t){t?i.watchFileChanges(e):i.onRawFileChange({type:2,path:r})})},t.FS_REWATCH_DELAY)),i.onRawFileChange({type:0,path:r})},function(e){return new Error(e)});this.activeFileChangesWatchers.set(e,{count:1,unwatch:function(){return s.dispose()
}})}}},t.prototype.onRawFileChange=function(e){var t=this;this.undeliveredRawFileChangesEvents.push(e),this.fileChangesWatchDelayer.trigger(function(){var e=t.undeliveredRawFileChangesEvents;t.undeliveredRawFileChangesEvents=[];var i=S.normalize(e);return t._onFileChanges.fire(S.toFileChangesEvent(i)),p.TPromise.as(null)})},t.prototype.unwatchFileChanges=function(e){var t=this.activeFileChangesWatchers.get(e);t&&0==--t.count&&(t.unwatch(),this.activeFileChangesWatchers.delete(e))},t.FS_EVENT_DELAY=500,t.FS_REWATCH_DELAY=300,t=r([o(0,f.ICodeSandboxService),o(1,w.ILifecycleService)],t)}(h.Disposable);t.CodeSandboxFileService=_}),define(e[34],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEditorGroupsService=i.createDecorator("editorGroupsService"),t.preferredSideBySideGroupDirection=function(e){return"down"===e.getValue("workbench.editor.openSideBySideDirection")?1:3}}),define(e[300],t([1,0,2,8,14,23,44,4,38,34,367]),function(e,t,n,s,a,c,l,u,d,p){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});var h=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r.toDispose=[],r.class="flip-editor-layout",r.updateEnablement(),r.registerListeners(),r}return i(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.editorGroupService.onDidAddGroup(function(){return e.updateEnablement()})),this.toDispose.push(this.editorGroupService.onDidRemoveGroup(function(){return e.updateEnablement()}))},t.prototype.updateEnablement=function(){this.enabled=this.editorGroupService.count>1},t.prototype.run=function(){var e=1===this.editorGroupService.orientation?0:1;return this.editorGroupService.setGroupOrientation(e),Promise.resolve(null)},t.prototype.dispose=function(){this.toDispose=u.dispose(this.toDispose),e.prototype.dispose.call(this)},t.ID="workbench.action.toggleEditorGroupLayout",t.LABEL=n.localize("flipLayout","Toggle Vertical/Horizontal Editor Layout"),t=r([o(2,p.IEditorGroupsService)],t)}(a.Action)
;t.ToggleEditorLayoutAction=h,d.CommandsRegistry.registerCommand("_workbench.editor.setGroupOrientation",function(e,t){var i=e.get(p.IEditorGroupsService),n=t[0];return i.setGroupOrientation(n),Promise.resolve(null)});var g=s.Registry.as(l.Extensions.WorkbenchActions),f=n.localize("view","View");g.registerWorkbenchAction(new c.SyncActionDescriptor(h,h.ID,h.LABEL,{primary:1557,mac:{primary:2581}}),"View: Flip Editor Group Layout",f),c.MenuRegistry.appendMenuItem(c.MenuId.MenubarLayoutMenu,{group:"z_flip",command:{id:h.ID,title:n.localize({key:"miToggleEditorLayout",comment:["&& denotes a mnemonic"]},"Flip &&Layout")},order:1})}),define(e[103],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHashService=i.createDecorator("hashService")}),define(e[102],t([1,0,6,15,183,64,185,103]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.textModelResolverService=r,
s.hashService=o,s.name=t,s.description=i,s.resource=n,s}return i(t,e),t.prototype.getResource=function(){return this.resource},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.setName=function(e){this.name!==e&&(this.name=e,this._onDidChangeLabel.fire())},t.prototype.getDescription=function(){return this.description},t.prototype.setDescription=function(e){this.description!==e&&(this.description=e,this._onDidChangeLabel.fire())},t.prototype.getTelemetryDescriptor=function(){var t=this,i=e.prototype.getTelemetryDescriptor.call(this);return i.resource=a.telemetryURIDescriptor(this.resource,function(e){return t.hashService.createSHA1(e)}),i},t.prototype.resolve=function(){var e=this;return this.modelReference||(this.modelReference=this.textModelResolverService.createModelReference(this.resource)),this.modelReference.then(function(t){var i=t.object;return i instanceof l.ResourceEditorModel?i:(t.dispose(),e.modelReference=null,
n.TPromise.wrapError(new Error("Unexpected model for ResourceInput: "+e.resource)))})},t.prototype.matches=function(i){if(!0===e.prototype.matches.call(this,i))return!0;if(i instanceof t){return i.resource.toString()===this.resource.toString()}return!1},t.prototype.dispose=function(){this.modelReference&&(this.modelReference.then(function(e){return e.dispose()}),this.modelReference=null),e.prototype.dispose.call(this)},t.ID="workbench.editors.resourceEditorInput",t=r([o(3,c.ITextModelService),o(4,u.IHashService)],t)}(s.EditorInput);t.ResourceEditorInput=d}),define(e[135],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHistoryService=i.createDecorator("historyService")}),define(e[306],t([1,0,10,170]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.writeKeybindingItem=function(e,t,i){var n=JSON.stringify(t.resolvedKeybinding.getUserSettingsLabel());e.write('{ "key": '+function(e,t){
return e.length<t?e+new Array(t-e.length).join(" "):e}(n+",",25)+' "command": ');var r=t.when?JSON.stringify(t.when.serialize()):"",o=JSON.stringify(t.command);r.length>0?(e.write(o+","),e.writeLine(),e.write('                                     "when": '+r+" ")):e.write(o+" "),e.write("}")},e.readUserKeybindingItem=function(e,t){var r="string"==typeof e.key?n.KeybindingParser.parseUserBinding(e.key):[null,null],o=r[0],s=r[1],a="string"==typeof e.when?i.ContextKeyExpr.deserialize(e.when):null;return{firstPart:o,chordPart:s,command:"string"==typeof e.command?e.command:null,commandArgs:void 0!==e.args?e.args:void 0,when:a}},e}();t.KeybindingIO=r;var o=function(){function e(){this._lines=[],this._currentLine=""}return e.prototype.write=function(e){this._currentLine+=e},e.prototype.writeLine=function(e){void 0===e&&(e=""),this._lines.push(this._currentLine+e),this._currentLine=""},e.prototype.toString=function(){return this.writeLine(),this._lines.join("\n")},e}();t.OutputBuilder=o}),
define(e[307],t([1,0,65,308,145]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this._OS=e}return e.prototype.dumpDebugInfo=function(){return"FallbackKeyboardMapper dispatching on keyCode"},e.prototype.resolveKeybinding=function(e){return[new n.USLayoutResolvedKeybinding(e,this._OS)]},e.prototype.resolveKeyboardEvent=function(e){var t=new i.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new n.USLayoutResolvedKeybinding(t,this._OS)},e.prototype._scanCodeToKeyCode=function(e){var t=r.IMMUTABLE_CODE_TO_KEY_CODE[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51
;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0},e.prototype._resolveSimpleUserBinding=function(e){if(!e)return null;if(e instanceof i.SimpleKeybinding)return e;var t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new i.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)},e.prototype.resolveUserBinding=function(e,t){var r=this._resolveSimpleUserBinding(e),o=this._resolveSimpleUserBinding(t);return r&&o?[new n.USLayoutResolvedKeybinding(new i.ChordKeybinding(r,o),this._OS)]:r?[new n.USLayoutResolvedKeybinding(r,this._OS)]:[]},e}()
;t.MacLinuxFallbackKeyboardMapper=o}),define(e[309],t([1,0,10,38,31,28,447,310,67,66,65,20,4,311,308,7,335,451,47,24,306,307,170]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var D=function(e){function t(t,i,n,r,o,s){var a=e.call(this,n,r,o,s)||this;return a._firstTimeComputingResolver=!0,a._cachedResolver=null,a._dynamicKeybindings=[],a._register(y.addDisposableListener(t,y.EventType.KEY_DOWN,function(e){var t=new p.StandardKeyboardEvent(e);a._dispatch(t,t.target)&&t.preventDefault()})),a.userKeybindings=a._register(new b.ConfigWatcher(i.appKeybindingsPath,{defaultConfig:[],onError:function(e){return w.onUnexpectedError(e)}})),a._keyboardMapper=new I.MacLinuxFallbackKeyboardMapper(g.OS),a._register(a.userKeybindings.onDidUpdateConfiguration(function(e){return a.updateResolver({source:2,keybindings:e.config})})),a}return i(t,e),t.prototype.addDynamicKeybinding=function(e,t,i,n){var r=this,o=[];this._dynamicKeybindings.push({
keybinding:h.createKeybinding(t,g.OS),command:e,when:n,weight1:1e3,weight2:0}),o.push(f.toDisposable(function(){for(var t=0;t<r._dynamicKeybindings.length;t++){if(r._dynamicKeybindings[t].command===e)return r._dynamicKeybindings.splice(t,1),void r.updateResolver({source:1})}}));var s=this._commandService;if(!(s instanceof S.CodeSandboxCommandService))throw new Error("Unknown command service!");return o.push(s.addCommand({id:e,handler:i})),this.updateResolver({source:1}),f.combinedDisposable(o)},t.prototype.updateResolver=function(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)},t.prototype._getResolver=function(){if(!this._cachedResolver){var e=this._resolveKeybindingItems(d.KeybindingsRegistry.getDefaultKeybindings(),!0),t=this._resolveUserKeybindingItems(this._getExtraKeybindings(this._firstTimeComputingResolver),!1);this._cachedResolver=new u.KeybindingResolver(e,t),this._firstTimeComputingResolver=!1}return this._cachedResolver},t.prototype._safeGetConfig=function(){
var e=this.userKeybindings.getConfig();return Array.isArray(e)?e:[]},t.prototype._getExtraKeybindings=function(e){var t=this._safeGetConfig();if(!e){var i=t.length;this._telemetryService.publicLog("customKeybindingsChanged",{keyCount:i})}return t.map(function(e){return C.KeybindingIO.readUserKeybindingItem(e,g.OS)})},t.prototype._resolveKeybindingItems=function(e,t){for(var i=[],n=0,r=0,o=e.length;r<o;r++){var s=e[r],a=s.when?s.when.normalize():null,c=s.keybinding;if(c)for(var l=this.resolveKeybinding(c),u=0;u<l.length;u++)i[n++]=new v.ResolvedKeybindingItem(l[u],s.command,s.commandArgs,a,t);else i[n++]=new v.ResolvedKeybindingItem(null,s.command,s.commandArgs,a,t)}return i},t.prototype._resolveUserKeybindingItems=function(e,t){for(var i=[],n=0,r=0,o=e.length;r<o;r++){var s=e[r],a=s.when?s.when.normalize():null,c=s.firstPart,l=s.chordPart
;if(c)for(var u=this._keyboardMapper.resolveUserBinding(c,l),d=0;d<u.length;d++)i[n++]=new v.ResolvedKeybindingItem(u[d],s.command,s.commandArgs,a,t);else i[n++]=new v.ResolvedKeybindingItem(null,s.command,s.commandArgs,a,t)}return i},t._getDefaultKeybindings=function(e){var t=new C.OutputBuilder;t.writeLine("[");var i=e.length-1;return e.forEach(function(e,n){C.KeybindingIO.writeKeybindingItem(t,e,g.OS),n!==i?t.writeLine(","):t.writeLine()}),t.writeLine("]"),t.toString()},t._getAllCommandsAsComment=function(e){return"// Here are other available commands: \n// - "+u.KeybindingResolver.getAllUnboundCommands(e).sort().join("\n// - ")},t.prototype.getDefaultKeybindingsContent=function(){var e=this._getResolver(),i=e.getDefaultKeybindings(),n=e.getDefaultBoundCommands();return t._getDefaultKeybindings(i)+"\n\n"+t._getAllCommandsAsComment(n)},t.prototype._documentHasFocus=function(){return document.hasFocus()},t.prototype._toNormalizedKeybindingItems=function(e,t){for(var i=[],n=0,r=0,o=e.length;r<o;r++){
var s=e[r],a=s.when?s.when.normalize():null,c=s.keybinding;if(c)for(var l=[new m.USLayoutResolvedKeybinding(c,g.OS)],u=0;u<l.length;u++)i[n++]=new v.ResolvedKeybindingItem(l[u],s.command,s.commandArgs,a,t);else i[n++]=new v.ResolvedKeybindingItem(null,s.command,s.commandArgs,a,t)}return i},t.prototype.resolveKeybinding=function(e){return this._keyboardMapper.resolveKeybinding(e)},t.prototype.resolveKeyboardEvent=function(e){return this._keyboardMapper.resolveKeyboardEvent(e)},t.prototype.resolveUserBinding=function(e){var t=_.KeybindingParser.parseUserBinding(e),i=t[0],n=t[1];return this._keyboardMapper.resolveUserBinding(i,n)},t=r([o(1,E.IEnvironmentService),o(2,n.IContextKeyService),o(3,s.ICommandService),o(4,a.ITelemetryService),o(5,c.INotificationService)],t)}(l.AbstractKeybindingService);t.CodeSandboxKeybindingService=D}),define(e[312],t([1,0,65,145,313]),function(e,t,n,r,o){"use strict";function s(e,t){
return!e&&!t||!(!e||!t)&&(e.vkey===t.vkey&&e.value===t.value&&e.withShift===t.withShift&&e.withAltGr===t.withAltGr&&e.withShiftAltGr===t.withShiftAltGr)}function a(e){c&&console.info(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.windowsKeyboardMappingEquals=function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;for(var i=0;i<193;i++){var n=r.ScanCodeUtils.toString(i);if(!s(e[n],t[n]))return!1}return!0};var c=!1,l={VK_BACK:1,VK_TAB:2,VK_CLEAR:0,VK_RETURN:3,VK_SHIFT:4,VK_CONTROL:5,VK_MENU:6,VK_PAUSE:7,VK_CAPITAL:8,VK_KANA:0,VK_HANGUL:0,VK_JUNJA:0,VK_FINAL:0,VK_HANJA:0,VK_KANJI:0,VK_ESCAPE:9,VK_CONVERT:0,VK_NONCONVERT:0,VK_ACCEPT:0,VK_MODECHANGE:0,VK_SPACE:10,VK_PRIOR:11,VK_NEXT:12,VK_END:13,VK_HOME:14,VK_LEFT:15,VK_UP:16,VK_RIGHT:17,VK_DOWN:18,VK_SELECT:0,VK_PRINT:0,VK_EXECUTE:0,VK_SNAPSHOT:0,VK_INSERT:19,VK_DELETE:20,VK_HELP:0,VK_0:21,VK_1:22,VK_2:23,VK_3:24,VK_4:25,VK_5:26,VK_6:27,VK_7:28,VK_8:29,VK_9:30,VK_A:31,VK_B:32,VK_C:33,VK_D:34,VK_E:35,VK_F:36,VK_G:37,VK_H:38,VK_I:39,VK_J:40,VK_K:41,VK_L:42,
VK_M:43,VK_N:44,VK_O:45,VK_P:46,VK_Q:47,VK_R:48,VK_S:49,VK_T:50,VK_U:51,VK_V:52,VK_W:53,VK_X:54,VK_Y:55,VK_Z:56,VK_LWIN:57,VK_COMMAND:57,VK_RWIN:57,VK_APPS:0,VK_SLEEP:0,VK_NUMPAD0:93,VK_NUMPAD1:94,VK_NUMPAD2:95,VK_NUMPAD3:96,VK_NUMPAD4:97,VK_NUMPAD5:98,VK_NUMPAD6:99,VK_NUMPAD7:100,VK_NUMPAD8:101,VK_NUMPAD9:102,VK_MULTIPLY:103,VK_ADD:104,VK_SEPARATOR:105,VK_SUBTRACT:106,VK_DECIMAL:107,VK_DIVIDE:108,VK_F1:59,VK_F2:60,VK_F3:61,VK_F4:62,VK_F5:63,VK_F6:64,VK_F7:65,VK_F8:66,VK_F9:67,VK_F10:68,VK_F11:69,VK_F12:70,VK_F13:71,VK_F14:72,VK_F15:73,VK_F16:74,VK_F17:75,VK_F18:76,VK_F19:77,VK_F20:0,VK_F21:0,VK_F22:0,VK_F23:0,VK_F24:0,VK_NUMLOCK:78,VK_SCROLL:79,VK_LSHIFT:4,VK_RSHIFT:4,VK_LCONTROL:5,VK_RCONTROL:5,VK_LMENU:0,VK_RMENU:0,VK_BROWSER_BACK:0,VK_BROWSER_FORWARD:0,VK_BROWSER_REFRESH:0,VK_BROWSER_STOP:0,VK_BROWSER_SEARCH:0,VK_BROWSER_FAVORITES:0,VK_BROWSER_HOME:0,VK_VOLUME_MUTE:0,VK_VOLUME_DOWN:0,VK_VOLUME_UP:0,VK_MEDIA_NEXT_TRACK:0,VK_MEDIA_PREV_TRACK:0,VK_MEDIA_STOP:0,VK_MEDIA_PLAY_PAUSE:0,VK_MEDIA_LAUNCH_MAIL:0,
VK_MEDIA_LAUNCH_MEDIA_SELECT:0,VK_MEDIA_LAUNCH_APP1:0,VK_MEDIA_LAUNCH_APP2:0,VK_OEM_1:80,VK_OEM_PLUS:81,VK_OEM_COMMA:82,VK_OEM_MINUS:83,VK_OEM_PERIOD:84,VK_OEM_2:85,VK_OEM_3:86,VK_ABNT_C1:110,VK_ABNT_C2:111,VK_OEM_4:87,VK_OEM_5:88,VK_OEM_6:89,VK_OEM_7:90,VK_OEM_8:91,VK_OEM_102:92,VK_PROCESSKEY:0,VK_PACKET:0,VK_DBE_SBCSCHAR:0,VK_DBE_DBCSCHAR:0,VK_ATTN:0,VK_CRSEL:0,VK_EXSEL:0,VK_EREOF:0,VK_PLAY:0,VK_ZOOM:0,VK_NONAME:0,VK_PA1:0,VK_OEM_CLEAR:0,VK_UNKNOWN:0},u=function(e){function t(t,i,n){var r=e.call(this)||this;if(!i)throw new Error("Invalid WindowsNativeResolvedKeybinding firstPart");return r._mapper=t,r._firstPart=i,r._chordPart=n,r}return i(t,e),t.prototype._getUILabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":this._mapper.getUILabelForKeyCode(e.keyCode):null},t.prototype.getLabel=function(){var e=this._getUILabelForKeybinding(this._firstPart),t=this._getUILabelForKeybinding(this._chordPart);return o.UILabelProvider.toLabel(this._firstPart,e,this._chordPart,t,1)},
t.prototype._getUSLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":n.KeyCodeUtils.toString(e.keyCode):null},t.prototype.getUSLabel=function(){var e=this._getUSLabelForKeybinding(this._firstPart),t=this._getUSLabelForKeybinding(this._chordPart);return o.UILabelProvider.toLabel(this._firstPart,e,this._chordPart,t,1)},t.prototype._getAriaLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":this._mapper.getAriaLabelForKeyCode(e.keyCode):null},t.prototype.getAriaLabel=function(){var e=this._getAriaLabelForKeybinding(this._firstPart),t=this._getAriaLabelForKeybinding(this._chordPart);return o.AriaLabelProvider.toLabel(this._firstPart,e,this._chordPart,t,1)},t.prototype._keyCodeToElectronAccelerator=function(e){if(e>=93&&e<=108)return null;switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return n.KeyCodeUtils.toString(e)},t.prototype._getElectronAcceleratorLabelForKeybinding=function(e){
return e?e.isDuplicateModifierCase()?null:this._keyCodeToElectronAccelerator(e.keyCode):null},t.prototype.getElectronAccelerator=function(){if(null!==this._chordPart)return null;var e=this._getElectronAcceleratorLabelForKeybinding(this._firstPart);return o.ElectronAcceleratorLabelProvider.toLabel(this._firstPart,e,null,null,1)},t.prototype._getUserSettingsLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":this._mapper.getUserSettingsLabelForKeyCode(e.keyCode):null},t.prototype.getUserSettingsLabel=function(){var e=this._getUserSettingsLabelForKeybinding(this._firstPart),t=this._getUserSettingsLabelForKeybinding(this._chordPart),i=o.UserSettingsLabelProvider.toLabel(this._firstPart,e,this._chordPart,t,1);return i?i.toLowerCase():i},t.prototype.isWYSIWYG=function(){return!(this._firstPart&&!this._isWYSIWYG(this._firstPart.keyCode))&&!(this._chordPart&&!this._isWYSIWYG(this._chordPart.keyCode))},t.prototype._isWYSIWYG=function(e){if(15===e||16===e||17===e||18===e)return!0
;return this._mapper.getAriaLabelForKeyCode(e)===this._mapper.getUserSettingsLabelForKeyCode(e)},t.prototype.isChord=function(){return!!this._chordPart},t.prototype.getParts=function(){return[this._toResolvedKeybindingPart(this._firstPart),this._toResolvedKeybindingPart(this._chordPart)]},t.prototype._toResolvedKeybindingPart=function(e){return e?new n.ResolvedKeybindingPart(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getUILabelForKeybinding(e),this._getAriaLabelForKeybinding(e)):null},t.prototype.getDispatchParts=function(){return[this._firstPart?this._getDispatchStr(this._firstPart):null,this._chordPart?this._getDispatchStr(this._chordPart):null]},t.prototype._getDispatchStr=function(e){if(e.isModifierKey())return null;var t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=n.KeyCodeUtils.toString(e.keyCode)},t.getProducedCharCode=function(e,t){
return t?e.ctrlKey&&e.shiftKey&&e.altKey?t.withShiftAltGr:e.ctrlKey&&e.altKey?t.withAltGr:e.shiftKey?t.withShift:t.value:null},t.getProducedChar=function(e,t){var i=this.getProducedCharCode(e,t);return null===i||0===i.length?" --- ":"  "+i+"  "},t}(n.ResolvedKeybinding);t.WindowsNativeResolvedKeybinding=u;var d=function(){function e(e,t){var i=this;this._keyCodeToLabel=[],this.isUSStandard=e,this._scanCodeToKeyCode=[],this._keyCodeToLabel=[],this._keyCodeExists=[],this._keyCodeToLabel[0]=n.KeyCodeUtils.toString(0);for(c=0;c<193;c++){-1!==(d=r.IMMUTABLE_CODE_TO_KEY_CODE[c])&&(this._scanCodeToKeyCode[c]=d,this._keyCodeToLabel[d]=n.KeyCodeUtils.toString(d),this._keyCodeExists[d]=!0)}var o=[];this._codeInfo=[];for(var s in t)if(t.hasOwnProperty(s)){var c;if(0===(c=r.ScanCodeUtils.toEnum(s))){a("Unknown scanCode "+s+" in mapping.");continue}var u=t[s],d=r.IMMUTABLE_CODE_TO_KEY_CODE[c];if(-1!==d){var p=l[u.vkey]||0;if(0===p||d===p)continue;if(134!==c)continue}
var h=u.value,g=u.withShift,f=u.withAltGr,v=u.withShiftAltGr,m=l[u.vkey]||0,y={scanCode:c,keyCode:m,value:h,withShift:g,withAltGr:f,withShiftAltGr:v};if(this._codeInfo[c]=y,this._scanCodeToKeyCode[c]=m,0===m)continue;if(this._keyCodeExists[m]=!0,0===h.length)this._keyCodeToLabel[m]=null;else if(h.length>1)this._keyCodeToLabel[m]=h;else{var S=h.charCodeAt(0);if(S>=97&&S<=122){o[S-97+65]=!0,this._keyCodeToLabel[m]=String.fromCharCode(S-97+65)}else S>=65&&S<=90?(o[S]=!0,this._keyCodeToLabel[m]=h):this._keyCodeToLabel[m]=h}}var b=function(e,t){o[e]||(i._keyCodeToLabel[t]=String.fromCharCode(e))};b(65,31),b(66,32),b(67,33),b(68,34),b(69,35),b(70,36),b(71,37),b(72,38),b(73,39),b(74,40),b(75,41),b(76,42),b(77,43),b(78,44),b(79,45),b(80,46),b(81,47),b(82,48),b(83,49),b(84,50),b(85,51),b(86,52),b(87,53),b(88,54),b(89,55),b(90,56)}return e.prototype.dumpDebugInfo=function(){var e=[],t=[88,104],i=0
;e.push("-----------------------------------------------------------------------------------------------------------------------------------------");for(var o=0;o<193;o++)if(-1===r.IMMUTABLE_CODE_TO_KEY_CODE[o]||-1!==t.indexOf(o)){i%6==0&&(e.push("|       HW Code combination      |  Key  |    KeyCode combination    |          UI label         |        User settings       | WYSIWYG |"),e.push("-----------------------------------------------------------------------------------------------------------------------------------------")),i++;for(var s=this._codeInfo[o],a=r.ScanCodeUtils.toString(o),c=[0,2,5,7],l=0;l<c.length;l++){
var d=c[l],p=!!(1&d),h=!!(2&d),g=!!(4&d),f=new r.ScanCodeBinding(p,h,g,!1,o),v=this._resolveSimpleUserBinding(f),m=v?n.KeyCodeUtils.toString(v.keyCode):null,y=v?new u(this,v,null):null,S=(p?"Ctrl+":"")+(h?"Shift+":"")+(g?"Alt+":"")+a,b=y?y.getAriaLabel():null,E=b?b.replace(/Control\+/,"Ctrl+"):null,w=y?y.getUserSettingsLabel():null,C=u.getProducedChar(f,s),I=m?(p?"Ctrl+":"")+(h?"Shift+":"")+(g?"Alt+":"")+m:null,_=!!y&&y.isWYSIWYG()?"       ":"   NO  ";e.push("| "+this._leftPad(S,30)+" | "+C+" | "+this._leftPad(I,25)+" | "+this._leftPad(E,25)+" |  "+this._leftPad(w,25)+" | "+_+" |")}e.push("-----------------------------------------------------------------------------------------------------------------------------------------")}return e.join("\n")},e.prototype._leftPad=function(e,t){for(null===e&&(e="null");e.length<t;)e=" "+e;return e},e.prototype.getUILabelForKeyCode=function(e){return this._getLabelForKeyCode(e)},e.prototype.getAriaLabelForKeyCode=function(e){return this._getLabelForKeyCode(e)},
e.prototype.getUserSettingsLabelForKeyCode=function(e){return this.isUSStandard?n.KeyCodeUtils.toUserSettingsUS(e):n.KeyCodeUtils.toUserSettingsGeneral(e)},e.prototype._getLabelForKeyCode=function(e){return this._keyCodeToLabel[e]||n.KeyCodeUtils.toString(0)},e.prototype.resolveKeybinding=function(e){if(2===e.type){var t=e.firstPart.keyCode,i=e.chordPart.keyCode;return this._keyCodeExists[t]&&this._keyCodeExists[i]?[new u(this,e.firstPart,e.chordPart)]:[]}return this._keyCodeExists[e.keyCode]?[new u(this,e,null)]:[]},e.prototype.resolveKeyboardEvent=function(e){var t=new n.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new u(this,t,null)},e.prototype._resolveSimpleUserBinding=function(e){if(!e)return null;if(e instanceof n.SimpleKeybinding)return this._keyCodeExists[e.keyCode]?e:null;var t=this._scanCodeToKeyCode[e.scanCode]||0;return 0!==t&&this._keyCodeExists[t]?new n.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t):null},e.prototype.resolveUserBinding=function(e,t){
var i=this._resolveSimpleUserBinding(e),n=this._resolveSimpleUserBinding(t);return i&&n?[new u(this,i,n)]:i?[new u(this,i,null)]:[]},e}();t.WindowsKeyboardMapper=d}),define(e[314],t([1,0,2,17,228,65,4,32,3,10,50,58,136,247,219,204,78,145,115,312,11,175,71,170]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D){"use strict";function A(e){var t=e.getModel();if(!t)return!1;var i=t.uri.toString();return R.test(i)}Object.defineProperty(t,"__esModule",{value:!0});var x=n.localize("defineKeybinding.start","Define Keybinding"),T=n.localize("defineKeybinding.kbLayoutErrorMessage","You won't be able to produce this key combination under your current keyboard layout."),R=/keybindings\.json$/,O=function(e){function t(t,i){var n=e.call(this)||this;return n._editor=t,n._instantiationService=i,n._keybindingWidgetRenderer=null,n._keybindingDecorationRenderer=null,n._register(n._editor.onDidChangeModel(function(e){return n._update()})),n._update(),n}return i(t,e),t.get=function(e){return e.getContribution(t.ID)},
t.prototype.getId=function(){return t.ID},Object.defineProperty(t.prototype,"keybindingWidgetRenderer",{get:function(){return this._keybindingWidgetRenderer},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._disposeKeybindingWidgetRenderer(),this._disposeKeybindingDecorationRenderer(),e.prototype.dispose.call(this)},t.prototype._update=function(){if(!A(this._editor))return this._disposeKeybindingWidgetRenderer(),void this._disposeKeybindingDecorationRenderer();this._createKeybindingDecorationRenderer(),this._editor.getConfiguration().readOnly?this._disposeKeybindingWidgetRenderer():this._createKeybindingWidgetRenderer()},t.prototype._createKeybindingWidgetRenderer=function(){this._keybindingWidgetRenderer||(this._keybindingWidgetRenderer=this._instantiationService.createInstance(M,this._editor))},t.prototype._disposeKeybindingWidgetRenderer=function(){this._keybindingWidgetRenderer&&(this._keybindingWidgetRenderer.dispose(),this._keybindingWidgetRenderer=null)},
t.prototype._createKeybindingDecorationRenderer=function(){this._keybindingDecorationRenderer||(this._keybindingDecorationRenderer=this._instantiationService.createInstance(k,this._editor))},t.prototype._disposeKeybindingDecorationRenderer=function(){this._keybindingDecorationRenderer&&(this._keybindingDecorationRenderer.dispose(),this._keybindingDecorationRenderer=null)},t.ID="editor.contrib.defineKeybinding",t=r([o(1,d.IInstantiationService)],t)}(l.Disposable);t.DefineKeybindingController=O;var M=function(e){function t(t,i){var n=e.call(this)||this;return n._editor=t,n._instantiationService=i,n._launchWidget=n._register(n._instantiationService.createInstance(y.FloatingClickWidget,n._editor,x,P.ID)),n._register(n._launchWidget.onClick(function(){return n.showDefineKeybindingWidget()})),n._defineWidget=n._register(n._instantiationService.createInstance(m.DefineKeybindingOverlayWidget,n._editor)),n._launchWidget.render(),n}return i(t,e),t.prototype.showDefineKeybindingWidget=function(){var e=this
;this._defineWidget.start().then(function(t){return e._onAccepted(t)})},t.prototype._onAccepted=function(e){if(this._editor.focus(),e){new RegExp(/\\/g).test(e)&&(e=e.slice(0,-1)+"\\\\");var t=["{",'\t"key": '+JSON.stringify(e)+",",'\t"command": "${1:commandId}",','\t"when": "${2:editorTextFocus}"',"}$0"].join("\n"),i=v.SmartSnippetInserter.insertSnippet(this._editor.getModel(),this._editor.getPosition());t=i.prepend+t+i.append,this._editor.setPosition(i.position),f.SnippetController2.get(this._editor).insert(t,0,0)}},t=r([o(1,d.IInstantiationService)],t)}(l.Disposable);t.KeybindingWidgetRenderer=M;var k=function(e){function t(t,i){var n=e.call(this)||this;n._editor=t,n._keybindingService=i,n._dec=[],n._updateDecorations=n._register(new s.RunOnceScheduler(function(){return n._updateDecorationsNow()},500));var r=n._editor.getModel();return n._register(r.onDidChangeContent(function(){return n._updateDecorations.schedule()})),n._register(n._keybindingService.onDidUpdateKeybindings(function(e){
return n._updateDecorations.schedule()})),n._register({dispose:function(){n._dec=n._editor.deltaDecorations(n._dec,[]),n._updateDecorations.cancel()}}),n._updateDecorations.schedule(),n}return i(t,e),t.prototype._updateDecorationsNow=function(){var e=this._editor.getModel(),t=[],i=S.parseTree(e.getValue());if(i&&Array.isArray(i.children))for(var n=0,r=i.children.length;n<r;n++){var o=i.children[n],s=this._getDecorationForEntry(e,o);null!==s&&t.push(s)}this._dec=this._editor.deltaDecorations(this._dec,t)},t.prototype._getDecorationForEntry=function(e,i){if(!Array.isArray(i.children))return null;for(var n=0,r=i.children.length;n<r;n++){var o=i.children[n];if("property"===o.type&&(Array.isArray(o.children)&&2===o.children.length)){if("key"===o.children[0].value){var s=o.children[1];if("string"===s.type){var a=this._keybindingService.resolveUserBinding(s.value);if(0===a.length)return this._createDecoration(!0,null,null,e,s);var c=a[0],l=null;if(c instanceof w.WindowsNativeResolvedKeybinding&&(l=c.getUSLabel()),
!c.isWYSIWYG()){var u=c.getLabel();return s.value.toLowerCase()===u.toLowerCase()?null:this._createDecoration(!1,c.getLabel(),l,e,s)}if(/abnt_|oem_/.test(s.value))return this._createDecoration(!1,c.getLabel(),l,e,s);var d=c.getUserSettingsLabel();return t._userSettingsFuzzyEquals(s.value,d)?null:this._createDecoration(!1,c.getLabel(),l,e,s)}}}}return null},t._userSettingsFuzzyEquals=function(e,t){if(e=e.trim().toLowerCase(),t=t.trim().toLowerCase(),e===t)return!0;var i=D.KeybindingParser.parseUserBinding(e),n=i[0],r=i[1],o=D.KeybindingParser.parseUserBinding(t),s=o[0],a=o[1];return this._userBindingEquals(n,s)&&this._userBindingEquals(r,a)},t._userBindingEquals=function(e,t){return null===e&&null===t||!(!e||!t)&&(e instanceof c.SimpleKeybinding&&t instanceof c.SimpleKeybinding?e.equals(t):e instanceof b.ScanCodeBinding&&t instanceof b.ScanCodeBinding&&e.equals(t))},t.prototype._createDecoration=function(e,t,i,r,o){var s,c,l,u;e?(s=(new a.MarkdownString).appendText(T),c="keybindingError",
l="inlineKeybindingError",u=C.themeColorFromId(I.overviewRulerError)):(s=i&&t!==i?new a.MarkdownString(n.localize({key:"defineKeybinding.kbLayoutLocalAndUSMessage",comment:["Please translate maintaining the stars (*) around the placeholders such that they will be rendered in bold.","The placeholders will contain a keyboard combination e.g. Ctrl+Shift+/"]},"**{0}** for your current keyboard layout (**{1}** for US standard).",t,i)):new a.MarkdownString(n.localize({key:"defineKeybinding.kbLayoutLocalMessage",comment:["Please translate maintaining the stars (*) around the placeholder such that it will be rendered in bold.","The placeholder will contain a keyboard combination e.g. Ctrl+Shift+/"]},"**{0}** for your current keyboard layout.",t)),c="keybindingInfo",l="inlineKeybindingInfo",u=C.themeColorFromId(I.overviewRulerInfo));var d=r.getPositionAt(o.offset),p=r.getPositionAt(o.offset+o.length);return{range:new h.Range(d.lineNumber,d.column,p.lineNumber,p.column),options:{
stickiness:_.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:c,beforeContentClassName:l,hoverMessage:s,overviewRuler:{color:u,position:_.OverviewRulerLane.Right}}}},t=r([o(1,u.IKeybindingService)],t)}(l.Disposable);t.KeybindingEditorDecorationsRenderer=k;var P=function(e){function t(){return e.call(this,{id:t.ID,precondition:p.ContextKeyExpr.and(E.EditorContextKeys.writable,E.EditorContextKeys.languageId.isEqualTo("jsonc")),kbOpts:{kbExpr:E.EditorContextKeys.editorTextFocus,primary:c.KeyChord(2089,2089),weight:100}})||this}return i(t,e),t.prototype.runEditorCommand=function(e,t){if(A(t)&&!t.getConfiguration().readOnly){var i=O.get(t);i&&i.keybindingWidgetRenderer&&i.keybindingWidgetRenderer.showDefineKeybindingWidget()}},t.ID="editor.action.defineKeybinding",t}(g.EditorCommand);g.registerEditorContribution(O),g.registerEditorCommand(new P)}),define(e[315],t([1,0,2,35,134,16,68,179,155,9,457,47]),function(e,t,n,s,a,c,l,u,d,p,h,g){"use strict";function f(e){
return void 0===e||!!Array.isArray(e)&&e.every(function(e){return"string"==typeof e})}Object.defineProperty(t,"__esModule",{value:!0}),t.languagesExtPoint=u.ExtensionsRegistry.registerExtensionPoint("languages",[],{description:n.localize("vscode.extension.contributes.languages","Contributes language declarations."),type:"array",items:{type:"object",defaultSnippets:[{body:{id:"${1:languageId}",aliases:["${2:label}"],extensions:["${3:extension}"],configuration:"./language-configuration.json"}}],properties:{id:{description:n.localize("vscode.extension.contributes.languages.id","ID of the language."),type:"string"},aliases:{description:n.localize("vscode.extension.contributes.languages.aliases","Name aliases for the language."),type:"array",items:{type:"string"}},extensions:{description:n.localize("vscode.extension.contributes.languages.extensions","File extensions associated to the language."),default:[".foo"],type:"array",items:{type:"string"}},filenames:{
description:n.localize("vscode.extension.contributes.languages.filenames","File names associated to the language."),type:"array",items:{type:"string"}},filenamePatterns:{description:n.localize("vscode.extension.contributes.languages.filenamePatterns","File name glob patterns associated to the language."),type:"array",items:{type:"string"}},mimetypes:{description:n.localize("vscode.extension.contributes.languages.mimetypes","Mime types associated to the language."),type:"array",items:{type:"string"}},firstLine:{description:n.localize("vscode.extension.contributes.languages.firstLine","A regular expression matching the first line of a file of the language."),type:"string"},configuration:{description:n.localize("vscode.extension.contributes.languages.configuration","A relative path to a file containing configuration options for the language."),type:"string",default:"./language-configuration.json"}}}});var v=function(e){function u(i,r,o){var a=e.call(this,o.verbose||o.isExtensionDevelopment||!o.isBuilt)||this
;return a._configurationService=r,a._extensionService=i,t.languagesExtPoint.setHandler(function(e){for(var i=[],r=0,o=e.length;r<o;r++){var a=e[r];if(Array.isArray(a.value))for(var c=0,l=a.value.length;c<l;c++){var u=a.value[c];if(function(e,i){return e?"string"!=typeof e.id?(i.error(n.localize("require.id","property `{0}` is mandatory and must be of type `string`","id")),!1):f(e.extensions)?f(e.filenames)?void 0!==e.firstLine&&"string"!=typeof e.firstLine?(i.error(n.localize("opt.firstLine","property `{0}` can be omitted and must be of type `string`","firstLine")),!1):void 0!==e.configuration&&"string"!=typeof e.configuration?(i.error(n.localize("opt.configuration","property `{0}` can be omitted and must be of type `string`","configuration")),!1):f(e.aliases)?!!f(e.mimetypes)||(i.error(n.localize("opt.mimetypes","property `{0}` can be omitted and must be of type `string[]`","mimetypes")),!1):(i.error(n.localize("opt.aliases","property `{0}` can be omitted and must be of type `string[]`","aliases")),
!1):(i.error(n.localize("opt.filenames","property `{0}` can be omitted and must be of type `string[]`","filenames")),!1):(i.error(n.localize("opt.extensions","property `{0}` can be omitted and must be of type `string[]`","extensions")),!1):(i.error(n.localize("invalid.empty","Empty value for `contributes.{0}`",t.languagesExtPoint.name)),!1)}(u,a.collector)){var p=void 0;u.configuration&&(p=s.joinPath(a.description.extensionLocation,u.configuration)),i.push({id:u.id,extensions:u.extensions,filenames:u.filenames,filenamePatterns:u.filenamePatterns,firstLine:u.firstLine,aliases:u.aliases,mimetypes:u.mimetypes,configuration:p})}}else a.collector.error(n.localize("invalid","Invalid `contributes.{0}`. Expected an array.",t.languagesExtPoint.name))}d.ModesRegistry.registerLanguages(i)}),a._configurationService.onDidChangeConfiguration(function(e){e.affectsConfiguration(c.FILES_ASSOCIATIONS_CONFIG)&&a.updateMime()}),a.onDidCreateMode(function(e){a._extensionService.activateByEvent("onLanguage:"+e.getId())}),a}
return i(u,e),u.prototype._onReady=function(){var e=this;return this._onReadyPromise||(this._onReadyPromise=this._extensionService.whenInstalledExtensionsRegistered().then(function(){return e.updateMime(),!0})),this._onReadyPromise},u.prototype.updateMime=function(){var e=this,t=this._configurationService.getValue();a.clearTextMimes(!0),t.files&&t.files.associations&&Object.keys(t.files.associations).forEach(function(i){var n=t.files.associations[i],r=e.getMimeForMode(n)||"text/x-"+n;a.registerTextMime({id:n,mime:r,filepattern:i,userConfigured:!0})})},u=r([o(0,l.IExtensionService),o(1,p.IConfigurationService),o(2,g.IEnvironmentService)],u)}(h.ModeServiceImpl);t.WorkbenchModeServiceImpl=v}),define(e[186],t([1,0,92,228,4,39,35,22,13,43,262,187,2,47,16,86,60,91,121,180,179,315,21,19,50]),function(e,t,i,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D){"use strict";function A(e,t,i){var n=e.onFileChanges(function(e){for(var n=0,r=e.changes;n<r.length;n++){var o=r[n]
;c.isEqualOrParent(o.resource,t)&&i(o.type,o.resource)}});return e.watchFileChanges(t),{dispose:function(){n.dispose(),e.unwatchFileChanges(t)}}}Object.defineProperty(t,"__esModule",{value:!0});var x;!function(e){e.toValidSnippet=function(e,t,i){if(l.isFalsyOrWhitespace(t.path))return e.collector.error(g.localize("invalid.path.0","Expected string in `contributes.{0}.path`. Provided value: {1}",e.description.name,String(t.path))),null;if(l.isFalsyOrWhitespace(t.language)&&!l.endsWith(t.path,".code-snippets"))return e.collector.error(g.localize("invalid.language.0","When omitting the language, the value of `contributes.{0}.path` must be a `.code-snippets`-file. Provided value: {1}",e.description.name,String(t.path))),null;if(!l.isFalsyOrWhitespace(t.language)&&!i.isRegisteredMode(t.language))return e.collector.error(g.localize("invalid.language","Unknown language in `contributes.{0}.language`. Provided value: {1}",e.description.name,String(t.language))),null
;var n=e.description.extensionLocation,r=c.joinPath(n,t.path);return c.isEqualOrParent(r,n)?{language:t.language,location:r}:(e.collector.error(g.localize("invalid.path.1","Expected `contributes.{0}.path` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.",e.description.name,r.path,n.path)),null)},e.snippetsContribution={description:g.localize("vscode.extension.contributes.snippets","Contributes snippets."),type:"array",defaultSnippets:[{body:[{language:"",path:""}]}],items:{type:"object",defaultSnippets:[{body:{language:"${1:id}",path:"./snippets/${2:id}.json."}}],properties:{language:{description:g.localize("vscode.extension.contributes.snippets-language","Language identifier for which this snippet is contributed to."),type:"string"},path:{description:g.localize("vscode.extension.contributes.snippets-path","Path of the snippets file. The path is relative to the extension folder and typically starts with './snippets/'."),type:"string"}}}}}(x||(x={}))
;var T=function(){function e(e,t,i,n,r,o){var s=this;this._environmentService=e,this._contextService=t,this._modeService=i,this._logService=n,this._fileService=r,this._disposables=[],this._pendingWork=[],this._files=new Map,this._pendingWork.push(Promise.resolve(o.when(3).then(function(){s._initExtensionSnippets(),s._initUserSnippets(),s._initWorkspaceSnippets()}))),h.setSnippetSuggestSupport(new O(this._modeService,this))}return e.prototype.dispose=function(){s.dispose(this._disposables)},e.prototype._joinSnippets=function(){var e=this._pendingWork.slice(0);return this._pendingWork.length=0,Promise.all(e)},e.prototype.getSnippetFiles=function(){var e=this;return this._joinSnippets().then(function(){return a.values(e._files)})},e.prototype.getSnippets=function(e){var t=this;return this._joinSnippets().then(function(){var i=t._modeService.getLanguageIdentifier(e).language,n=[],r=[];return t._files.forEach(function(e){r.push(e.load().then(function(e){return e.select(i,n)}).catch(function(i){
return t._logService.error(i,e.location.toString())}))}),Promise.all(r).then(function(){return n})})},e.prototype.getSnippetsSync=function(e){var t=this._modeService.getLanguageIdentifier(e).language,i=[];return this._files.forEach(function(e){e.load().catch(function(e){}),e.select(t,i)}),i},e.prototype._initExtensionSnippets=function(){var e=this;w.ExtensionsRegistry.registerExtensionPoint("snippets",[C.languagesExtPoint],x.snippetsContribution).setHandler(function(t){for(var i=function(t){for(var i=function(i){var n=x.toValidSnippet(t,i,e._modeService);if(!n)return"continue";if(e._files.has(n.location.toString()))e._files.get(n.location.toString()).defaultScopes.push(n.language);else{var r=new E.SnippetFile(3,n.location,n.language?[n.language]:void 0,t.description,e._fileService);e._files.set(r.location.toString(),r),e._environmentService.isExtensionDevelopment&&r.load().then(function(e){e.data.some(function(e){return e.isBogous
})&&t.collector.warn(g.localize("badVariableUse","One or more snippets from the extension '{0}' very likely confuse snippet-variables and snippet-placeholders (see https://code.visualstudio.com/docs/editor/userdefinedsnippets#_snippet-syntax for more details)",t.description.name))},function(e){t.collector.warn(g.localize("badFile",'The snippet file "{0}" could not be read.',r.location.toString()))})}},n=0,r=t.value;n<r.length;n++){i(r[n])}},n=0,r=t;n<r.length;n++){i(r[n])}})},e.prototype._initWorkspaceSnippets=function(){var e=this,t=[],i=function(){t=s.dispose(t),e._pendingWork.push(e._initWorkspaceFolderSnippets(e._contextService.getWorkspace(),t))};this._disposables.push({dispose:function(){s.dispose(t)}}),this._disposables.push(this._contextService.onDidChangeWorkspaceFolders(i)),this._disposables.push(this._contextService.onDidChangeWorkbenchState(i)),i()},e.prototype._initWorkspaceFolderSnippets=function(e,t){var i=this,n=e.folders.map(function(e){var n=e.toResource(".vscode")
;return i._fileService.existsFile(n).then(function(e){e?i._initFolderSnippets(2,n,t):t.push(A(i._fileService,n,function(e){1===e&&i._initFolderSnippets(2,n,t)}))})});return Promise.all(n)},e.prototype._initUserSnippets=function(){var e=this,t=u.URI.file(i.join(this._environmentService.appSettingsHome,"snippets"));return this._fileService.createFolder(t).then(function(){return e._initFolderSnippets(1,t,e._disposables)})},e.prototype._initFolderSnippets=function(e,t,n){var r=this,o=function(t){var n=i.extname(t.path);if(1===e&&".json"===n){var o=i.basename(t.path,".json");r._files.set(t.toString(),new E.SnippetFile(e,t,[o],void 0,r._fileService))}else".code-snippets"===n&&r._files.set(t.toString(),new E.SnippetFile(e,t,void 0,void 0,r._fileService))};return this._fileService.resolveFile(t).then(function(e){if(!_.isFalsyOrEmpty(e.children))for(var t=0,i=e.children;t<i.length;t++){var n=i[t];o(n.resource)}}).then(function(){n.push(A(r._fileService,t,function(e,t){r._fileService.existsFile(t).then(function(e){
e?r._files.has(t.toString())?r._files.get(t.toString()).reset():o(t):r._files.delete(t.toString())})})),n.push({dispose:function(){r._files.forEach(function(e,i){c.isEqualOrParent(e.location,t)&&r._files.delete(i)})}})}).then(void 0,function(e){r._logService.error("Failed snippets from folder '"+t.toString()+"'",e)})},e=r([o(0,f.IEnvironmentService),o(1,I.IWorkspaceContextService),o(2,d.IModeService),o(3,S.ILogService),o(4,v.IFileService),o(5,y.ILifecycleService)],e)}();m.registerSingleton(b.ISnippetsService,T);var R=function(){function e(e,t){this.snippet=e,this.label=e.prefix,this.detail=g.localize("detail.snippet","{0} ({1})",e.description||e.name,e.source),this.insertText=e.body,this.range=t,this.sortText=(3===e.snippetSource?"z":"a")+"-"+e.prefix,this.noAutoAccept=!0,this.kind=18,this.insertTextIsSnippet=!0}return e.prototype.resolve=function(){return this.documentation=(new n.MarkdownString).appendCodeblock("",(new p.SnippetParser).text(this.snippet.codeSnippet)),
this.insertText=this.snippet.codeSnippet,this},e.compareByLabel=function(e,t){return l.compare(e.label,t.label)},e}();t.SnippetSuggestion=R;var O=function(){function e(e,t){this._modeService=e,this._snippets=t}return e.prototype.provideCompletionItems=function(e,t,i){var n=this._getLanguageIdAtPosition(e,t);return this._snippets.getSnippets(n).then(function(i){for(var n,r=Math.max(0,t.column-100),o={lineNumber:t.lineNumber,column:Math.max(1,t.column-100)},s=[],a=e.getLineContent(t.lineNumber).substr(Math.max(0,t.column-100),t.column-1).toLowerCase();o.column<t.column;){var c=e.getWordAtPosition(o);c?(s.push(c.startColumn-1),o.column=c.endColumn+1,c.endColumn-1<a.length&&!/\s/.test(a[c.endColumn-1])&&s.push(c.endColumn-1)):/\s/.test(a[o.column-1])?o.column+=1:(s.push(o.column-1),o.column+=1)}if(0===s.length)n=i.map(function(e){return new R(e,D.Range.fromPositions(t))});else{var l=new Set;n=[];for(var u=0,d=s;u<d.length;u++){var p=d[u];p-=r;for(var h=0,f=i;h<f.length;h++){var v=f[h]
;!l.has(v)&&function(e,t,i,n){for(;t<e.length&&n<i.length;)e[t]===i[n]&&(t+=1),n+=1;return t===e.length}(a,p,v.prefixLow,0)&&(n.push(new R(v,D.Range.fromPositions(t.delta(0,-(a.length-p)),t))),l.add(v))}}}n.sort(R.compareByLabel);for(var m=0;m<n.length;m++){for(var y=n[m],S=m+1;S<n.length&&y.label===n[S].label;S++)n[S].label=g.localize("snippetSuggest.longLabel","{0}, {1}",n[S].label,n[S].snippet.name);S>m+1&&(n[m].label=g.localize("snippetSuggest.longLabel","{0}, {1}",n[m].label,n[m].snippet.name),m=S)}return{suggestions:n}})},e.prototype.resolveCompletionItem=function(e,t,i){return i instanceof R?i.resolve():i},e.prototype._getLanguageIdAtPosition=function(e,t){e.tokenizeIfCheap(t.lineNumber);var i=e.getLanguageIdAtPosition(t.lineNumber,t.column),n=this._modeService.getLanguageIdentifier(i).language;return this._modeService.getLanguageName(n)||(i=e.getLanguageIdentifier().id),i},e=r([o(0,d.IModeService),o(1,b.ISnippetsService)],e)}();t.SnippetSuggestProvider=O,t.getNonWhitespacePrefix=function(e,t){
for(var i=e.getLineContent(t.lineNumber).substr(0,t.column-1),n=Math.max(0,i.length-100),r=i.length-1;r>=n;r--){var o=i.charAt(r);if(/\s/.test(o))return i.substr(r+1)}return 0===n?i:""}}),define(e[318],t([1,0,10,121,186,22,4,50,58,136,187,115]),function(e,t,i,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(t,i,n){var r=this;this._editor=t,this._snippetService=i,this._activeSnippets=[],this._hasSnippets=e.ContextKey.bindTo(n),this._configListener=this._editor.onDidChangeConfiguration(function(e){e.contribInfo&&r._update()}),this._update()}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){c.dispose(this._configListener),c.dispose(this._selectionListener)},e.prototype._update=function(){var e=this,t="onlySnippets"===this._editor.getConfiguration().contribInfo.tabCompletion;this._enabled!==t&&(this._enabled=t,
this._enabled?(this._selectionListener=this._editor.onDidChangeCursorSelection(function(t){return e._updateSnippets()}),this._editor.getModel()&&this._updateSnippets()):c.dispose(this._selectionListener))},e.prototype._updateSnippets=function(){this._activeSnippets=[];var e=this._editor.getSelection(),t=this._editor.getModel();t.tokenizeIfCheap(e.positionLineNumber);var i=t.getLanguageIdAtPosition(e.positionLineNumber,e.positionColumn),n=this._snippetService.getSnippetsSync(i);if(n){if(l.Range.isEmpty(e)){var r=s.getNonWhitespacePrefix(t,e.getPosition());if(r)for(var o=0,c=n;o<c.length;o++){h=c[o];a.endsWith(r,h.prefix)&&this._activeSnippets.push(h)}}else if(!l.Range.spansMultipleLines(e)&&t.getValueLengthInRange(e)<=100){var u=t.getValueInRange(e);if(u)for(var d=0,p=n;d<p.length;d++){var h;u===(h=p[d]).prefix&&this._activeSnippets.push(h)}}this._hasSnippets.set(this._activeSnippets.length>0)}else this._hasSnippets.set(!1)},e.prototype.performSnippetCompletions=function(){var e=this
;if(1===this._activeSnippets.length){var t=this._activeSnippets[0];d.SnippetController2.get(this._editor).insert(t.codeSnippet,t.prefix.length,0)}else this._activeSnippets.length>1&&p.showSimpleSuggestions(this._editor,this._activeSnippets.map(function(t){var i=e._editor.getPosition(),n=l.Range.fromPositions(i.delta(0,-t.prefix.length),i);return new s.SnippetSuggestion(t,n)}))},e.ID="editor.tabCompletionController",e.ContextKey=new i.RawContextKey("hasSnippetCompletions",void 0),e=r([o(1,n.ISnippetsService),o(2,i.IContextKeyService)],e)}();t.TabCompletionController=g,u.registerEditorContribution(g);var f=u.EditorCommand.bindToContribution(g.get);u.registerEditorCommand(new f({id:"insertSnippet",precondition:g.ContextKey,handler:function(e){return e.performSnippetCompletions()},kbOpts:{weight:100,kbExpr:i.ContextKeyExpr.and(h.EditorContextKeys.editorTextFocus,h.EditorContextKeys.tabDoesNotMoveFocus,d.SnippetController2.InSnippetMode.toNegated()),primary:2}}))}),define(e[79],t([1,0,3]),function(e,t,i){
"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPanelService=i.createDecorator("panelService")}),define(e[42],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PositionToString=function(e){switch(e){case 0:return"LEFT";case 1:return"RIGHT";case 2:return"BOTTOM"}},t.IPartService=i.createDecorator("partService")}),define(e[321],t([1,0,2,8,14,23,44,9,42]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.partService=n,o.configurationService=r,o.enabled=!!o.partService,o}return i(t,e),t.prototype.run=function(){var e=!this.partService.isVisible(0);return this.configurationService.updateValue(t.activityBarVisibleKey,e,1)},t.ID="workbench.action.toggleActivityBarVisibility",t.LABEL=n.localize("toggleActivityBar","Toggle Activity Bar Visibility"),t.activityBarVisibleKey="workbench.activityBar.visible",
t=r([o(2,d.IPartService),o(3,u.IConfigurationService)],t)}(a.Action);t.ToggleActivityBarVisibilityAction=p;s.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(p,p.ID,p.LABEL),"View: Toggle Activity Bar Visibility",n.localize("view","View")),c.MenuRegistry.appendMenuItem(c.MenuId.MenubarAppearanceMenu,{group:"2_workbench_layout",command:{id:p.ID,title:n.localize({key:"miToggleActivityBar",comment:["&& denotes a mnemonic"]},"Toggle &&Activity Bar")},order:4})}),define(e[322],t([1,0,2,8,14,23,44,42,9]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.partService=n,o.configurationService=r,o.enabled=!!o.partService&&!!o.configurationService,o}return i(t,e),t.prototype.run=function(){var e=0===this.partService.getSideBarPosition()?"right":"left";return this.configurationService.updateValue(t.sidebarPositionConfigurationKey,e,1)},t.getLabel=function(e){
return 0===e.getSideBarPosition()?n.localize("moveSidebarRight","Move Side Bar Right"):n.localize("moveSidebarLeft","Move Side Bar Left")},t.ID="workbench.action.toggleSidebarPosition",t.LABEL=n.localize("toggleSidebarPosition","Toggle Side Bar Position"),t.sidebarPositionConfigurationKey="workbench.sideBar.location",t=r([o(2,u.IPartService),o(3,d.IConfigurationService)],t)}(a.Action);t.ToggleSidebarPositionAction=p;s.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(p,p.ID,p.LABEL),"View: Toggle Side Bar Position",n.localize("view","View")),c.MenuRegistry.appendMenuItem(c.MenuId.MenubarAppearanceMenu,{group:"2_workbench_layout",command:{id:p.ID,title:n.localize({key:"miMoveSidebarLeftRight",comment:["&& denotes a mnemonic"]},"&&Move Side Bar Left/Right")},order:2})}),define(e[323],t([1,0,2,8,14,23,44,42]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,i,n){var r=e.call(this,t,i)||this
;return r.partService=n,r.enabled=!!r.partService,r}return i(t,e),t.prototype.run=function(){var e=this.partService.isVisible(1);return this.partService.setSideBarHidden(e)},t.ID="workbench.action.toggleSidebarVisibility",t.LABEL=n.localize("toggleSidebar","Toggle Side Bar Visibility"),t=r([o(2,u.IPartService)],t)}(a.Action);t.ToggleSidebarVisibilityAction=d;s.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(d,d.ID,d.LABEL,{primary:2080}),"View: Toggle Side Bar Visibility",n.localize("view","View")),c.MenuRegistry.appendMenuItem(c.MenuId.MenubarAppearanceMenu,{group:"2_workbench_layout",command:{id:d.ID,title:n.localize({key:"miToggleSidebar",comment:["&& denotes a mnemonic"]},"&&Toggle Side Bar")},order:1})}),define(e[324],t([1,0,2,14,65,8,23,44,42]),function(e,t,n,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.partService=n,r.enabled=!!r.partService,r}
return i(t,e),t.prototype.run=function(){return this.partService.toggleZenMode(),Promise.resolve(null)},t.ID="workbench.action.toggleZenMode",t.LABEL=n.localize("toggleZenMode","Toggle Zen Mode"),t=r([o(2,d.IPartService)],t)}(s.Action);c.Registry.as(u.Extensions.WorkbenchActions).registerWorkbenchAction(new l.SyncActionDescriptor(p,p.ID,p.LABEL,{primary:a.KeyChord(2089,56)}),"View: Toggle Zen Mode",n.localize("view","View")),l.MenuRegistry.appendMenuItem(l.MenuId.MenubarAppearanceMenu,{group:"1_toggle_view",command:{id:p.ID,title:n.localize("miToggleZenMode","Toggle Zen Mode")},order:2})}),define(e[325],t([1,0,4,7,8,106,6,42,3,90,89,5]),function(e,t,n,s,a,c,l,u,d,p,h,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.parent=t,s.groupView=i,s.partService=n,s.instantiationService=r,s._onDidFocus=s._register(new g.Emitter),s._onDidSizeConstraintsChange=s._register(new g.Emitter),s.controls=[],s.activeControlDisposeables=[],
s.editorOperation=s._register(new p.LongRunningOperation(o)),s}return i(t,e),Object.defineProperty(t.prototype,"minimumWidth",{get:function(){return this._activeControl?this._activeControl.minimumWidth:h.DEFAULT_EDITOR_MIN_DIMENSIONS.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumHeight",{get:function(){return this._activeControl?this._activeControl.minimumHeight:h.DEFAULT_EDITOR_MIN_DIMENSIONS.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumWidth",{get:function(){return this._activeControl?this._activeControl.maximumWidth:h.DEFAULT_EDITOR_MAX_DIMENSIONS.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumHeight",{get:function(){return this._activeControl?this._activeControl.maximumHeight:h.DEFAULT_EDITOR_MAX_DIMENSIONS.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidFocus",{get:function(){return this._onDidFocus.event},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"onDidSizeConstraintsChange",{get:function(){return this._onDidSizeConstraintsChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeControl",{get:function(){return this._activeControl},enumerable:!0,configurable:!0}),t.prototype.openEditor=function(e,t){var i=a.Registry.as(c.Extensions.Editors).getEditor(e),n=this.doShowEditorControl(i,t);return this.doSetInput(n,e,t).then(function(e){return{control:n,editorChanged:e}})},t.prototype.doShowEditorControl=function(e,t){if(this._activeControl&&e.describes(this._activeControl))return this._activeControl;this.doHideActiveEditorControl();var i=this.doCreateEditorControl(e);return this.doSetActiveControl(i),this.parent.appendChild(i.getContainer()),s.show(i.getContainer()),i.setVisible(!0,this.groupView),this.dimension&&i.layout(this.dimension),i},t.prototype.doCreateEditorControl=function(e){var t=this.doInstantiateEditorControl(e);if(!t.getContainer()){var i=document.createElement("div")
;s.addClass(i,"editor-instance"),i.id=e.getId(),t.create(i)}return t},t.prototype.doInstantiateEditorControl=function(e){var t=this.controls.filter(function(t){return e.describes(t)})[0];if(t)return t;var i=this._register(e.instantiate(this.instantiationService));return this.controls.push(i),i},t.prototype.doSetActiveControl=function(e){var t=this;this._activeControl=e,this.activeControlDisposeables=n.dispose(this.activeControlDisposeables),e&&(this.activeControlDisposeables.push(e.onDidSizeConstraintsChange(function(e){return t._onDidSizeConstraintsChange.fire(e)})),this.activeControlDisposeables.push(e.onDidFocus(function(){return t._onDidFocus.fire()}))),this._onDidSizeConstraintsChange.fire()},t.prototype.doSetInput=function(e,t,i){var n=i&&i.forceReload,r=e.input&&e.input.matches(t);if(r&&!n){e.setOptions(i);return(!i||!i.preserveFocus)&&e.focus(),l.TPromise.as(!1)}var o=this.editorOperation.start(this.partService.isCreated()?800:3200),s=!r;return l.TPromise.wrap(e.setInput(t,i,o.token)).then(function(){
if(o.isCurrent()){(!i||!i.preserveFocus)&&e.focus()}return o.stop(),s},function(e){return o.stop(),l.TPromise.wrapError(e)})},t.prototype.doHideActiveEditorControl=function(){if(this._activeControl){this.editorOperation.stop();var e=this._activeControl.getContainer();this.parent.removeChild(e),s.hide(e),this._activeControl.clearInput(),this._activeControl.setVisible(!1,this.groupView),this.doSetActiveControl(null)}},t.prototype.closeEditor=function(e){this._activeControl&&e.matches(this._activeControl.input)&&this.doHideActiveEditorControl()},t.prototype.layout=function(e){this.dimension=e,this._activeControl&&this.dimension&&this._activeControl.layout(this.dimension)},t.prototype.shutdown=function(){this.controls.forEach(function(e){return e.shutdown()})},t.prototype.dispose=function(){this.activeControlDisposeables=n.dispose(this.activeControlDisposeables),e.prototype.dispose.call(this)},t=r([o(2,u.IPartService),o(3,d.IInstantiationService),o(4,p.IProgressService)],t)}(n.Disposable);t.EditorControl=f}),
define(e[191],t([1,0,126,62,42,7,3,11,26,53,49,6,57,291,285,66,2,9,54,328,41,47,192,5,125,4,166,34,10,99,46,14,13,32,19,17,199,114,129]),function(e,t,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V,W,G){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var K=l.$,z={iconPath:{dark:F.URI.parse(e.toUrl("vs/workbench/browser/parts/quickinput/media/dark/arrow-left.svg")),light:F.URI.parse(e.toUrl("vs/workbench/browser/parts/quickinput/media/light/arrow-left.svg"))},tooltip:b.localize("quickInput.back","Back"),handle:-1},H=function(){function e(e){this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=new A.Emitter,this.onDidHideEmitter=new A.Emitter,this.visibleDisposables=[],this.disposables=[this.onDidTriggerButtonEmitter,this.onDidHideEmitter],this.onDidTriggerButton=this.onDidTriggerButtonEmitter.event,this.onDidHide=this.onDidHideEmitter.event}
return Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){this._title=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._steps},set:function(e){this._steps=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalSteps",{get:function(){return this._totalSteps},set:function(e){this._totalSteps=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contextKey",{get:function(){return this._contextKey},set:function(e){this._contextKey=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"busy",{get:function(){return this._busy},set:function(e){this._busy=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ignoreFocusOut",{
get:function(){return this._ignoreFocusOut},set:function(e){this._ignoreFocusOut=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buttons",{get:function(){return this._buttons},set:function(e){this._buttons=e,this.buttonsUpdated=!0,this.update()},enumerable:!0,configurable:!0}),e.prototype.show=function(){var e=this;this.visible||(this.visibleDisposables.push(this.ui.onDidTriggerButton(function(t){-1!==e.buttons.indexOf(t)&&e.onDidTriggerButtonEmitter.fire(t)})),this.ui.show(this),this.visible=!0,this.update())},e.prototype.hide=function(){this.visible&&this.ui.hide()},e.prototype.didHide=function(){this.visible=!1,this.visibleDisposables=T.dispose(this.visibleDisposables),this.onDidHideEmitter.fire()},e.prototype.update=function(){var e=this;if(this.visible){var t=this.getTitle();if(this.ui.title.textContent!==t&&(this.ui.title.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new V.TimeoutTimer,this.busyDelay.setIfNotSet(function(){
e.visible&&e.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=null),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();var i=this.buttons.filter(function(e){return e===z});this.ui.leftActionBar.push(i.map(function(t,i){var n=new L.Action("id-"+i,"",t.iconClass||W.getIconClass(t.iconPath),!0,function(){return e.onDidTriggerButtonEmitter.fire(t)});return n.tooltip=t.tooltip,n}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();var n=this.buttons.filter(function(e){return e!==z});this.ui.rightActionBar.push(n.map(function(t,i){var n=new L.Action("id-"+i,"",t.iconClass||W.getIconClass(t.iconPath),!0,function(){return e.onDidTriggerButtonEmitter.fire(t)});return n.tooltip=t.tooltip,n}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey)}},e.prototype.getTitle=function(){
return this.title&&this.step?this.title+" ("+this.getSteps()+")":this.title?this.title:this.step?this.getSteps():""},e.prototype.getSteps=function(){return this.step&&this.totalSteps?b.localize("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""},e.prototype.dispose=function(){this.hide(),this.disposables=T.dispose(this.disposables)},e}(),U=function(e){function t(t){var i=e.call(this,t)||this;return i._value="",i.onDidChangeValueEmitter=new A.Emitter,i.onDidAcceptEmitter=new A.Emitter,i._items=[],i.itemsUpdated=!1,i._canSelectMany=!1,i._matchOnDescription=!1,i._matchOnDetail=!1,i._activeItems=[],i.activeItemsUpdated=!1,i.activeItemsToConfirm=[],i.onDidChangeActiveEmitter=new A.Emitter,i._selectedItems=[],i.selectedItemsUpdated=!1,i.selectedItemsToConfirm=[],i.onDidChangeSelectionEmitter=new A.Emitter,i.onDidTriggerItemButtonEmitter=new A.Emitter,i.onDidChangeValue=i.onDidChangeValueEmitter.event,i.onDidAccept=i.onDidAcceptEmitter.event,
i.onDidChangeActive=i.onDidChangeActiveEmitter.event,i.onDidChangeSelection=i.onDidChangeSelectionEmitter.event,i.onDidTriggerItemButton=i.onDidTriggerItemButtonEmitter.event,i.disposables.push(i.onDidChangeValueEmitter,i.onDidAcceptEmitter,i.onDidChangeActiveEmitter,i.onDidChangeSelectionEmitter,i.onDidTriggerItemButtonEmitter),i}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e||"",this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e,this.itemsUpdated=!0,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canSelectMany",{get:function(){return this._canSelectMany},set:function(e){this._canSelectMany=e,this.update()},enumerable:!0,
configurable:!0}),Object.defineProperty(t.prototype,"matchOnDescription",{get:function(){return this._matchOnDescription},set:function(e){this._matchOnDescription=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matchOnDetail",{get:function(){return this._matchOnDetail},set:function(e){this._matchOnDetail=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeItems",{get:function(){return this._activeItems},set:function(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._selectedItems},set:function(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyMods",{get:function(){return this.ui.keyMods},enumerable:!0,configurable:!0}),t.prototype.show=function(){var t=this
;this.visible||this.visibleDisposables.push(this.ui.inputBox.onDidChange(function(e){e!==t.value&&(t._value=e,t.ui.list.filter(t.ui.inputBox.value),t.ui.isScreenReaderOptimized()||t.canSelectMany||t.ui.list.focus("First"),t.onDidChangeValueEmitter.fire(e))}),this.ui.inputBox.onKeyDown(function(e){switch(e.keyCode){case 18:t.ui.list.focus("Next"),t.canSelectMany&&t.ui.list.domFocus();break;case 16:t.ui.list.getFocusedElements().length?t.ui.list.focus("Previous"):t.ui.list.focus("Last"),t.canSelectMany&&t.ui.list.domFocus();break;case 12:t.ui.list.getFocusedElements().length?t.ui.list.focus("NextPage"):t.ui.list.focus("First"),t.canSelectMany&&t.ui.list.domFocus();break;case 11:t.ui.list.getFocusedElements().length?t.ui.list.focus("PreviousPage"):t.ui.list.focus("Last"),t.canSelectMany&&t.ui.list.domFocus()}}),this.ui.onDidAccept(function(){!t.canSelectMany&&t.activeItems[0]&&(t._selectedItems=[t.activeItems[0]],t.onDidChangeSelectionEmitter.fire(t.selectedItems)),t.onDidAcceptEmitter.fire()
}),this.ui.list.onDidChangeFocus(function(e){t.activeItemsUpdated||t.activeItemsToConfirm!==t._activeItems&&B.equals(e,t._activeItems,function(e,t){return e===t})||(t._activeItems=e,t.onDidChangeActiveEmitter.fire(e))}),this.ui.list.onDidChangeSelection(function(e){t.canSelectMany||t.selectedItemsToConfirm!==t._selectedItems&&B.equals(e,t._selectedItems,function(e,t){return e===t})||(t._selectedItems=e,t.onDidChangeSelectionEmitter.fire(e),t.onDidAcceptEmitter.fire())}),this.ui.list.onChangedCheckedElements(function(e){t.canSelectMany&&(t.selectedItemsToConfirm!==t._selectedItems&&B.equals(e,t._selectedItems,function(e,t){return e===t})||(t._selectedItems=e,t.onDidChangeSelectionEmitter.fire(e)))}),this.ui.list.onButtonTriggered(function(e){return t.onDidTriggerItemButtonEmitter.fire(e)}),this.registerQuickNavigation()),e.prototype.show.call(this)},t.prototype.registerQuickNavigation=function(){var e=this;return l.addDisposableListener(this.ui.container,l.EventType.KEY_UP,function(t){
if(!e.canSelectMany&&e.quickNavigate){var i=new S.StandardKeyboardEvent(t),n=i.keyCode,r=e.quickNavigate.keybindings;(3===n||r.some(function(e){var t=e.getParts(),r=t[0];return!t[1]&&(r.shiftKey&&4===n?!(i.ctrlKey||i.altKey||i.metaKey):!(!r.altKey||6!==n)||(!(!r.ctrlKey||5!==n)||!(!r.metaKey||57!==n)))}))&&e.activeItems[0]&&(e._selectedItems=[e.activeItems[0]],e.onDidChangeSelectionEmitter.fire(e.selectedItems),e.onDidAcceptEmitter.fire())}})},t.prototype.update=function(){e.prototype.update.call(this),this.visible&&(this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.itemsUpdated&&(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.ui.inputBox.value),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),
this.ui.isScreenReaderOptimized()||this.canSelectMany||this.ui.list.focus("First")),this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.ui.isScreenReaderOptimized()||this.ui.list.focus("First")),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.setComboboxAccessibility(!0),this.ui.inputBox.setAttribute("aria-label",t.INPUT_BOX_ARIA_LABEL),
this.ui.setVisibilities(this.canSelectMany?{title:!!this.title||!!this.step,checkAll:!0,inputBox:!0,visibleCount:!0,count:!0,ok:!0,list:!0}:{title:!!this.title||!!this.step,inputBox:!0,visibleCount:!0,list:!0}))},t.INPUT_BOX_ARIA_LABEL=b.localize("quickInputBox.ariaLabel","Type to narrow down results."),t}(H),j=function(e){function t(i){var n=e.call(this,i)||this;return n._value="",n.valueSelectionUpdated=!0,n._password=!1,n.noValidationMessage=t.noPromptMessage,n.onDidValueChangeEmitter=new A.Emitter,n.onDidAcceptEmitter=new A.Emitter,n.onDidChangeValue=n.onDidValueChangeEmitter.event,n.onDidAccept=n.onDidAcceptEmitter.event,n.disposables.push(n.onDidValueChangeEmitter,n.onDidAcceptEmitter),n}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e||"",this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueSelection",{set:function(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()},
enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"password",{get:function(){return this._password},set:function(e){this._password=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prompt",{get:function(){return this._prompt},set:function(e){this._prompt=e,this.noValidationMessage=e?b.localize("inputModeEntryDescription","{0} (Press 'Enter' to confirm or 'Escape' to cancel)",e):t.noPromptMessage,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validationMessage",{get:function(){return this._validationMessage},set:function(e){this._validationMessage=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.show=function(){var t=this;this.visible||(this.visibleDisposables.push(this.ui.inputBox.onDidChange(function(e){e!==t.value&&(t._value=e,
t.onDidValueChangeEmitter.fire(e))}),this.ui.onDidAccept(function(){return t.onDidAcceptEmitter.fire()})),this.valueSelectionUpdated=!0),e.prototype.show.call(this)},t.prototype.update=function(){e.prototype.update.call(this),this.visible&&(this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password),this.validationMessage||this.ui.message.textContent===this.noValidationMessage||(this.ui.message.textContent=this.noValidationMessage,this.ui.inputBox.showDecoration(R.default.Ignore)),this.validationMessage&&this.ui.message.textContent!==this.validationMessage&&(this.ui.message.textContent=this.validationMessage,
this.ui.inputBox.showDecoration(R.default.Error)),this.ui.setVisibilities({title:!!this.title||!!this.step,inputBox:!0,message:!0}))},t.noPromptMessage=b.localize("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel"),t}(H),q=function(e){function t(i,n,r,o,s,a,c,l,u){var d=e.call(this,t.ID,u)||this;return d.environmentService=i,d.configurationService=n,d.instantiationService=r,d.partService=o,d.quickOpenService=s,d.editorGroupService=a,d.keybindingService=c,d.contextKeyService=l,d.idPrefix="quickInput_",d.comboboxAccessibility=!1,d.enabled=!0,d.inQuickOpenWidgets={},d.contexts=Object.create(null),d.onDidAcceptEmitter=d._register(new A.Emitter),d.onDidTriggerButtonEmitter=d._register(new A.Emitter),d.keyMods={ctrlCmd:!1,alt:!1},d.backButton=z,d.inQuickOpenContext=new M.RawContextKey("inQuickOpen",!1).bindTo(l),d._register(d.quickOpenService.onShow(function(){return d.inQuickOpen("quickOpen",!0)})),d._register(d.quickOpenService.onHide(function(){return d.inQuickOpen("quickOpen",!1)})),
d.registerKeyModsListeners(),d}return i(t,e),t.prototype.inQuickOpen=function(e,t){t?this.inQuickOpenWidgets[e]=!0:delete this.inQuickOpenWidgets[e],Object.keys(this.inQuickOpenWidgets).length?this.inQuickOpenContext.get()||this.inQuickOpenContext.set(!0):this.inQuickOpenContext.get()&&this.inQuickOpenContext.reset()},t.prototype.setContextKey=function(e){var t;e&&((t=this.contexts[e])||(t=new M.RawContextKey(e,!1).bindTo(this.contextKeyService),this.contexts[e]=t)),t&&t.get()||(this.resetContextKeys(),t&&t.set(!0))},t.prototype.resetContextKeys=function(){for(var e in this.contexts)this.contexts[e].get()&&this.contexts[e].reset()},t.prototype.registerKeyModsListeners=function(){var e=this,t=this.partService.getWorkbenchElement();this._register(l.addDisposableListener(t,l.EventType.KEY_DOWN,function(t){switch(new S.StandardKeyboardEvent(t).keyCode){case 5:case 57:e.keyMods.ctrlCmd=!0;break;case 6:e.keyMods.alt=!0}})),this._register(l.addDisposableListener(t,l.EventType.KEY_UP,function(t){
switch(new S.StandardKeyboardEvent(t).keyCode){case 5:case 57:e.keyMods.ctrlCmd=!1;break;case 6:e.keyMods.alt=!1}}))},t.prototype.create=function(){var e=this;if(!this.ui){var t=this.partService.getWorkbenchElement(),i=l.append(t,K(".quick-input-widget.show-file-icons"));i.tabIndex=-1,i.style.display="none",this.titleBar=l.append(i,K(".quick-input-titlebar"));var n=this._register(new P.ActionBar(this.titleBar));n.domNode.classList.add("quick-input-left-action-bar");var r=l.append(this.titleBar,K(".quick-input-title")),o=this._register(new P.ActionBar(this.titleBar));o.domNode.classList.add("quick-input-right-action-bar");var s=l.append(i,K(".quick-input-header")),a=l.append(s,K("input.quick-input-check-all"));a.type="checkbox",this._register(l.addStandardDisposableListener(a,l.EventType.CHANGE,function(e){var t=a.checked;g.setAllVisibleChecked(t)})),this._register(l.addDisposableListener(a,l.EventType.CLICK,function(e){(e.x||e.y)&&c.setFocus()})),this.filterContainer=l.append(s,K(".quick-input-filter"))
;var c=this._register(new y.QuickInputBox(this.filterContainer));c.setAttribute("aria-describedby",this.idPrefix+"message"),this.visibleCountContainer=l.append(this.filterContainer,K(".quick-input-visible-count")),this.visibleCountContainer.setAttribute("aria-live","polite"),this.visibleCountContainer.setAttribute("aria-atomic","true");var u=new C.CountBadge(this.visibleCountContainer,{countFormat:b.localize({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")});this.countContainer=l.append(this.filterContainer,K(".quick-input-count")),this.countContainer.setAttribute("aria-live","polite");var d=new C.CountBadge(this.countContainer,{countFormat:b.localize({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")})
;this._register(I.attachBadgeStyler(d,this.themeService)),this.okContainer=l.append(s,K(".quick-input-action")),this.ok=new x.Button(this.okContainer),I.attachButtonStyler(this.ok,this.themeService),this.ok.label=b.localize("ok","OK"),this._register(this.ok.onDidClick(function(t){e.onDidAcceptEmitter.fire()}));var p=l.append(i,K("#"+this.idPrefix+"message.quick-input-message")),h=new D.ProgressBar(i);l.addClass(h.getContainer(),"quick-input-progress"),this._register(I.attachProgressBarStyler(h,this.themeService));var g=this._register(this.instantiationService.createInstance(m.QuickInputList,i,this.idPrefix+"list"));this._register(g.onChangedAllVisibleChecked(function(e){a.checked=e})),this._register(g.onChangedVisibleCount(function(e){u.setCount(e)})),this._register(g.onChangedCheckedCount(function(e){d.setCount(e)})),this._register(g.onLeave(function(){setTimeout(function(){c.setFocus(),e.controller instanceof U&&e.controller.canSelectMany&&g.clearFocus()},0)})),this._register(g.onDidChangeFocus(function(){
e.comboboxAccessibility&&e.ui.inputBox.setAttribute("aria-activedescendant",e.ui.list.getActiveDescendant())}));var f=l.trackFocus(i);this._register(f),this._register(f.onDidBlur(function(){e.ui.ignoreFocusOut||e.environmentService.args["sticky-quickopen"]||!e.configurationService.getValue(w.CLOSE_ON_FOCUS_LOST_CONFIG)||e.hide(!0)})),this._register(l.addDisposableListener(i,l.EventType.KEY_DOWN,function(t){var n=new S.StandardKeyboardEvent(t);switch(n.keyCode){case 3:l.EventHelper.stop(t,!0),e.onDidAcceptEmitter.fire();break;case 9:l.EventHelper.stop(t,!0),e.hide();break;case 2:if(!n.altKey&&!n.ctrlKey&&!n.metaKey){var r=[".action-label.icon"];i.classList.contains("show-checkboxes")?r.push("input"):r.push("input[type=text]"),e.ui.list.isDisplayed()&&r.push(".monaco-list");var o=i.querySelectorAll(r.join(", "));n.shiftKey&&n.target===o[0]?(l.EventHelper.stop(t,!0),o[o.length-1].focus()):n.shiftKey||n.target!==o[o.length-1]||(l.EventHelper.stop(t,!0),o[0].focus())}}})),
this._register(this.quickOpenService.onShow(function(){return e.hide(!0)})),this.ui={container:i,leftActionBar:n,title:r,rightActionBar:o,checkAll:a,inputBox:c,visibleCount:u,count:d,message:p,progressBar:h,list:g,onDidAccept:this.onDidAcceptEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:function(){return e.isScreenReaderOptimized()},show:function(t){return e.show(t)},hide:function(){return e.hide()},setVisibilities:function(t){return e.setVisibilities(t)},setComboboxAccessibility:function(t){return e.setComboboxAccessibility(t)},setEnabled:function(t){return e.setEnabled(t)},setContextKey:function(t){return e.setContextKey(t)}},this.updateStyles()}},t.prototype.pick=function(e,t,i){var r=this;return void 0===t&&(t={}),void 0===i&&(i=v.CancellationToken.None),new f.TPromise(function(o,s){var a=function(e){a=o,t.onKeyMods&&t.onKeyMods(l.keyMods),o(e)};if(i.isCancellationRequested)a(void 0);else{
var c,l=r.createQuickPick(),u=[l,l.onDidAccept(function(){if(l.canSelectMany)a(l.selectedItems.slice()),l.hide();else{var e=l.activeItems[0];e&&(a(e),l.hide())}}),l.onDidChangeActive(function(e){var i=e[0];i&&t.onDidFocus&&t.onDidFocus(i)}),l.onDidChangeSelection(function(e){if(!l.canSelectMany){var t=e[0];t&&(a(t),l.hide())}}),l.onDidTriggerItemButton(function(e){return t.onDidTriggerItemButton&&t.onDidTriggerItemButton(n({},e,{removeItem:function(){var t=l.items.indexOf(e.item);if(-1!==t){var i=l.items.slice();i.splice(t,1),l.items=i}}}))}),l.onDidChangeValue(function(e){!c||e||1===l.activeItems.length&&l.activeItems[0]===c||(l.activeItems=[c])}),i.onCancellationRequested(function(){l.hide()}),l.onDidHide(function(){T.dispose(u),a(void 0)})];l.canSelectMany=t.canPickMany,l.placeholder=t.placeHolder,l.ignoreFocusOut=t.ignoreFocusLost,l.matchOnDescription=t.matchOnDescription,l.matchOnDetail=t.matchOnDetail,l.quickNavigate=t.quickNavigate,l.contextKey=t.contextKey,l.busy=!0,
f.TPromise.join([e,t.activeItem]).then(function(e){var t=e[0],i=e[1];c=i,l.busy=!1,l.items=t,l.canSelectMany&&(l.selectedItems=t.filter(function(e){return"separator"!==e.type&&e.picked})),c&&(l.activeItems=[c])}),l.show(),f.TPromise.wrap(e).then(null,function(e){s(e),l.hide()})}})},t.prototype.input=function(e,t){var i=this;return void 0===e&&(e={}),void 0===t&&(t=v.CancellationToken.None),new f.TPromise(function(n,r){if(t.isCancellationRequested)n(void 0);else{var o=i.createInputBox(),s=e.validateInput||function(){return f.TPromise.as(void 0)},a=A.debounceEvent(o.onDidChangeValue,function(e,t){return t},100),c=e.value||"",l=f.TPromise.wrap(s(c)),u=[o,a(function(e){e!==c&&(l=f.TPromise.wrap(s(e)),c=e),l.then(function(t){e===c&&(o.validationMessage=t)})}),o.onDidAccept(function(){var e=o.value;e!==c&&(l=f.TPromise.wrap(s(e)),c=e),l.then(function(t){t?e===c&&(o.validationMessage=t):(n(e),o.hide())})}),t.onCancellationRequested(function(){o.hide()}),o.onDidHide(function(){T.dispose(u),n(void 0)})]
;o.value=e.value,o.valueSelection=e.valueSelection,o.prompt=e.prompt,o.placeholder=e.placeHolder,o.password=e.password,o.ignoreFocusOut=e.ignoreFocusLost,o.show()}})},t.prototype.createQuickPick=function(){return this.create(),new U(this.ui)},t.prototype.createInputBox=function(){return this.create(),new j(this.ui)},t.prototype.show=function(e){this.create(),this.quickOpenService.close();var t=this.controller;this.controller=e,t&&t.didHide(),this.setEnabled(!0),this.ui.leftActionBar.clear(),this.ui.title.textContent="",this.ui.rightActionBar.clear(),this.ui.checkAll.checked=!1,this.ui.inputBox.placeholder="",this.ui.inputBox.password=!1,this.ui.inputBox.showDecoration(R.default.Ignore),this.ui.visibleCount.setCount(0),this.ui.count.setCount(0),this.ui.message.textContent="",this.ui.progressBar.stop(),this.ui.list.setElements([]),this.ui.list.matchOnDescription=!1,this.ui.list.matchOnDetail=!1,this.ui.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),this.ui.inputBox.removeAttribute("aria-label")
;var i=this.keybindingService.lookupKeybinding(Q.ID);z.tooltip=i?b.localize("quickInput.backWithKeybinding","Back ({0})",i.getLabel()):b.localize("quickInput.back","Back"),this.inQuickOpen("quickInput",!0),this.resetContextKeys(),this.ui.container.style.display="",this.updateLayout(),this.ui.inputBox.setFocus()},t.prototype.setVisibilities=function(e){this.ui.title.style.display=e.title?"":"none",this.ui.checkAll.style.display=e.checkAll?"":"none",this.filterContainer.style.display=e.inputBox?"":"none",this.visibleCountContainer.style.display=e.visibleCount?"":"none",this.countContainer.style.display=e.count?"":"none",this.okContainer.style.display=e.ok?"":"none",this.ui.message.style.display=e.message?"":"none",this.ui.list.display(e.list),this.ui.container.classList[e.checkAll?"add":"remove"]("show-checkboxes"),this.updateLayout()},t.prototype.setComboboxAccessibility=function(e){e!==this.comboboxAccessibility&&(this.comboboxAccessibility=e,
this.comboboxAccessibility?(this.ui.inputBox.setAttribute("role","combobox"),this.ui.inputBox.setAttribute("aria-haspopup","true"),this.ui.inputBox.setAttribute("aria-autocomplete","list"),this.ui.inputBox.setAttribute("aria-activedescendant",this.ui.list.getActiveDescendant())):(this.ui.inputBox.removeAttribute("role"),this.ui.inputBox.removeAttribute("aria-haspopup"),this.ui.inputBox.removeAttribute("aria-autocomplete"),this.ui.inputBox.removeAttribute("aria-activedescendant")))},t.prototype.isScreenReaderOptimized=function(){var e=2===G.getAccessibilitySupport(),t=this.configurationService.getValue("editor").accessibilitySupport;return"on"===t||"auto"===t&&e},t.prototype.setEnabled=function(e){if(e!==this.enabled){this.enabled=e;for(var t=0,i=this.ui.leftActionBar.items;t<i.length;t++){(o=i[t]).getAction().enabled=e}for(var n=0,r=this.ui.rightActionBar.items;n<r.length;n++){var o=r[n];o.getAction().enabled=e}this.ui.checkAll.disabled=!e,this.ok.enabled=e,this.ui.list.enabled=e}},
t.prototype.hide=function(e){var t=this.controller;t&&(this.controller=null,this.inQuickOpen("quickInput",!1),this.resetContextKeys(),this.ui.container.style.display="none",e||this.editorGroupService.activeGroup.focus(),t.didHide())},t.prototype.focus=function(){this.isDisplayed()&&this.ui.inputBox.setFocus()},t.prototype.toggle=function(){this.isDisplayed()&&this.controller instanceof U&&this.controller.canSelectMany&&this.ui.list.toggleCheckbox()},t.prototype.navigate=function(e,t){this.isDisplayed()&&this.ui.list.isDisplayed()&&(this.ui.list.focus(e?"Next":"Previous"),t&&this.controller instanceof U&&(this.controller.quickNavigate=t))},t.prototype.accept=function(){return this.onDidAcceptEmitter.fire(),f.TPromise.as(void 0)},t.prototype.back=function(){return this.onDidTriggerButtonEmitter.fire(this.backButton),f.TPromise.as(void 0)},t.prototype.cancel=function(){return this.hide(),f.TPromise.as(void 0)},t.prototype.layout=function(e){this.layoutDimensions=e,this.updateLayout()},
t.prototype.updateLayout=function(){if(this.layoutDimensions&&this.ui){var e=this.partService.getTitleBarOffset();this.ui.container.style.top=e+"px";var i=this.ui.container.style,n=Math.min(.62*this.layoutDimensions.width,t.MAX_WIDTH);i.width=n+"px",i.marginLeft="-"+n/2+"px",this.ui.inputBox.layout(),this.ui.list.layout()}},t.prototype.updateStyles=function(){var e=this.themeService.getTheme();if(this.ui){var t={dark:"rgba(255, 255, 255, 0.105)",light:"rgba(0,0,0,.06)",hc:"black"}[e.type];this.titleBar.style.backgroundColor=t?t.toString():null,this.ui.inputBox.style(e);var i=e.getColor(h.SIDE_BAR_BACKGROUND);this.ui.container.style.backgroundColor=i?i.toString():null;var n=e.getColor(h.SIDE_BAR_FOREGROUND);this.ui.container.style.color=n?n.toString():null;var r=e.getColor(p.contrastBorder);this.ui.container.style.border=r?"1px solid "+r:null;var o=e.getColor(p.widgetShadow);this.ui.container.style.boxShadow=o?"0 5px 8px "+o:null}},t.prototype.isDisplayed=function(){
return this.ui&&"none"!==this.ui.container.style.display},t.ID="workbench.component.quickinput",t.MAX_WIDTH=600,t=r([o(0,_.IEnvironmentService),o(1,E.IConfigurationService),o(2,u.IInstantiationService),o(3,c.IPartService),o(4,g.IQuickOpenService),o(5,O.IEditorGroupsService),o(6,N.IKeybindingService),o(7,M.IContextKeyService),o(8,d.IThemeService)],t)}(s.Component);t.QuickInputService=q,t.QuickPickManyToggle={id:"workbench.action.quickPickManyToggle",weight:200,when:k.inQuickOpenContext,primary:void 0,handler:function(e){e.get(a.IQuickInputService).toggle()}};var Q=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.quickInputService=n,r}return i(t,e),t.prototype.run=function(){return this.quickInputService.back(),f.TPromise.as(null)},t.ID="workbench.action.quickInputBack",t.LABEL=b.localize("back","Back"),t=r([o(2,a.IQuickInputService)],t)}(L.Action);t.BackAction=Q}),define(e[331],t([1,0,191,67,8,44,23,99]),function(e,t,i,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
n.KeybindingsRegistry.registerCommandAndKeybindingRule(i.QuickPickManyToggle);r.Registry.as(o.Extensions.WorkbenchActions).registerWorkbenchAction(new s.SyncActionDescriptor(i.BackAction,i.BackAction.ID,i.BackAction.LABEL,{primary:null,win:{primary:527},mac:{primary:339},linux:{primary:2643}},a.inQuickOpenContext,250),"Back")}),define(e[332],t([1,0,24,13,15,12,16,108,21,4,36,60,8,5,9,34,45,51,70,3,177,42,10]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var D=function(){function e(e,t){this._editorInput=e,this._selection=t,this.textEditorSelection=u.Selection.isISelection(t)?{startLineNumber:t.startLineNumber,startColumn:t.startColumn}:void 0}return Object.defineProperty(e.prototype,"editorInput",{get:function(){return this._editorInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this.textEditorSelection},enumerable:!0,configurable:!0}),
e.prototype.justifiesNewPushState=function(t,i){if(i&&"api"===i.source)return!0;if(!this._editorInput.matches(t._editorInput))return!0;if(!u.Selection.isISelection(this._selection)||!u.Selection.isISelection(t._selection))return!0;var n=Math.min(this._selection.selectionStartLineNumber,this._selection.positionLineNumber),r=Math.min(t._selection.selectionStartLineNumber,t._selection.positionLineNumber);return!(Math.abs(n-r)<e.EDITOR_SELECTION_THRESHOLD)},e.EDITOR_SELECTION_THRESHOLD=10,e}();t.TextEditorState=D;var A=function(e){function t(t,i,n,r,o,s,c,u,d,p,h){var g=e.call(this)||this;return g.editorService=t,g.editorGroupService=i,g.contextService=n,g.storageService=r,g.configurationService=o,g.lifecycleService=s,g.fileService=c,g.windowService=u,g.instantiationService=d,g.partService=p,g.contextKeyService=h,g.activeEditorListeners=[],g.canNavigateBackContextKey=new _.RawContextKey("canNavigateBack",!1).bindTo(g.contextKeyService),
g.canNavigateForwardContextKey=new _.RawContextKey("canNavigateForward",!1).bindTo(g.contextKeyService),g.fileInputFactory=f.Registry.as(a.Extensions.EditorInputFactories).getFileInputFactory(),g.index=-1,g.lastIndex=-1,g.stack=[],g.recentlyClosedFiles=[],g.loaded=!1,g.resourceFilter=g._register(d.createInstance(C.ResourceGlobMatcher,function(e){return g.getExcludes(e)},function(e){return e.affectsConfiguration(l.FILES_EXCLUDE_CONFIG)||e.affectsConfiguration("search.exclude")})),g.registerListeners(),g}return i(t,e),t.prototype.getExcludes=function(e){var t=e?{resource:e}:void 0;return E.getExcludes(this.configurationService.getValue(t))},t.prototype.registerListeners=function(){var e=this;this._register(this.editorService.onDidActiveEditorChange(function(){return e.onActiveEditorChanged()})),this._register(this.editorService.onDidOpenEditorFail(function(t){return e.remove(t.editor)})),this._register(this.editorService.onDidCloseEditor(function(t){return e.onEditorClosed(t)})),
this._register(this.lifecycleService.onShutdown(function(t){return e.saveHistory()})),this._register(this.fileService.onFileChanges(function(t){return e.onFileChanges(t)})),this._register(this.resourceFilter.onExpressionChange(function(){return e.handleExcludesChange()}))},t.prototype.onActiveEditorChanged=function(){var e=this,t=this.editorService.activeControl;if(!this.lastActiveEditor||!this.matchesEditor(this.lastActiveEditor,t)){this.lastActiveEditor=t?{editor:t.input,groupId:t.group.id}:void 0,p.dispose(this.activeEditorListeners),this.activeEditorListeners=[],this.handleActiveEditorChange(t);var i=b.getCodeEditor(this.editorService.activeTextEditorWidget),n=this.editorService.activeEditor;i&&(this.activeEditorListeners.push(v.debounceEvent(i.onDidChangeCursorPosition,function(e,t){return t},0)(function(i){e.handleEditorSelectionChangeEvent(t,i)})),this.activeEditorListeners.push(v.debounceEvent(i.onDidChangeModelContent,function(e,t){return t},0)(function(t){e.lastEditLocation={input:n}
;var r=i.getPosition();r&&(e.lastEditLocation.selection={startLineNumber:r.lineNumber,startColumn:r.column})})))}},t.prototype.matchesEditor=function(e,t){return!(!t||!t.group)&&(e.groupId===t.group.id&&e.editor.matches(t.input))},t.prototype.onFileChanges=function(e){e.gotDeleted()&&this.remove(e)},t.prototype.onEditorClosed=function(e){if(!e.replaced){var i=e.editor?e.editor.getResource():void 0;i&&this.fileService.canHandleResource(i)&&(this.removeFromRecentlyClosedFiles(e.editor),this.recentlyClosedFiles.push({resource:i,index:e.index}),this.recentlyClosedFiles.length>t.MAX_RECENTLY_CLOSED_EDITORS&&this.recentlyClosedFiles.shift())}},t.prototype.reopenLastClosedEditor=function(){this.ensureHistoryLoaded();for(var e=this.recentlyClosedFiles.pop();e&&this.isFileOpened(e.resource,this.editorGroupService.activeGroup);)e=this.recentlyClosedFiles.pop();e&&this.editorService.openEditor({resource:e.resource,options:{pinned:!0,index:e.index}})},t.prototype.openLastEditLocation=function(){
this.lastEditLocation&&this.doNavigate(this.lastEditLocation,!0)},t.prototype.forward=function(e){this.stack.length>this.index+1&&(e?this.doForwardAcrossEditors():this.doForwardInEditors())},t.prototype.doForwardInEditors=function(){this.setIndex(this.index+1),this.navigate()},t.prototype.setIndex=function(e){this.lastIndex=this.index,this.index=e,this.updateContextKeys()},t.prototype.doForwardAcrossEditors=function(){for(var e=this.index,t=this.stack[this.index];this.stack.length>e+1;){e++;var i=this.stack[e];if(!this.matches(t.input,i.input)){this.setIndex(e),this.navigate(!0);break}}},t.prototype.back=function(e){this.index>0&&(e?this.doBackAcrossEditors():this.doBackInEditors())},t.prototype.last=function(){-1===this.lastIndex?this.back():(this.setIndex(this.lastIndex),this.navigate())},t.prototype.doBackInEditors=function(){this.setIndex(this.index-1),this.navigate()},t.prototype.doBackAcrossEditors=function(){for(var e=this.index,t=this.stack[this.index];e>0;){e--;var i=this.stack[e]
;if(!this.matches(t.input,i.input)){this.setIndex(e),this.navigate(!0);break}}},t.prototype.clear=function(){this.ensureHistoryLoaded(),this.index=-1,this.lastIndex=-1,this.stack.splice(0),this.recentlyClosedFiles=[],this.clearRecentlyOpened(),this.updateContextKeys()},t.prototype.clearRecentlyOpened=function(){this.history=[]},t.prototype.updateContextKeys=function(){this.canNavigateBackContextKey.set(this.stack.length>0&&this.index>0),this.canNavigateForwardContextKey.set(this.stack.length>0&&this.index<this.stack.length-1)},t.prototype.navigate=function(e){var t=this;this.navigatingInStack=!0,this.doNavigate(this.stack[this.index],!e).then(function(){t.navigatingInStack=!1},function(e){t.navigatingInStack=!1,n.onUnexpectedError(e)})},t.prototype.doNavigate=function(e,t){var i={revealIfOpened:!0};return e.selection&&t&&(i.selection=e.selection,i.revealInCenterIfOutsideViewport=!0),e.input instanceof a.EditorInput?this.editorService.openEditor(e.input,i):this.editorService.openEditor({
resource:e.input.resource,options:i})},t.prototype.handleEditorSelectionChangeEvent=function(e,t){this.handleEditorEventInStack(e,t)},t.prototype.handleActiveEditorChange=function(e){this.handleEditorEventInHistory(e),this.handleEditorEventInStack(e)},t.prototype.handleEditorEventInHistory=function(e){var i=this,n=e?e.input:void 0;if(n&&n.getName()&&this.include(n)){this.ensureHistoryLoaded();var r=this.preferResourceInput(n);this.removeFromHistory(n),this.history.unshift(r),this.history.length>t.MAX_HISTORY_ITEMS&&this.history.pop(),r instanceof a.EditorInput&&v.once(r.onDispose)(function(){return i.removeFromHistory(n)})}},t.prototype.include=function(e){if(e instanceof a.EditorInput)return!0;var t=e;return!this.resourceFilter.matches(t.resource)},t.prototype.handleExcludesChange=function(){this.removeExcludedFromHistory()},t.prototype.remove=function(e){this.removeFromHistory(e),this.removeFromStack(e),this.removeFromRecentlyClosedFiles(e),this.removeFromRecentlyOpened(e)},
t.prototype.removeExcludedFromHistory=function(){var e=this;this.ensureHistoryLoaded(),this.history=this.history.filter(function(t){return e.include(t)})},t.prototype.removeFromHistory=function(e){var t=this;this.ensureHistoryLoaded(),this.history=this.history.filter(function(i){return!t.matches(e,i)})},t.prototype.handleEditorEventInStack=function(e,t){var i=e?b.getCodeEditor(e.getControl()):void 0;this.navigatingInStack?i&&e.input?this.currentTextEditorState=new D(e.input,i.getSelection()):this.currentTextEditorState=null:i&&e.input?this.handleTextEditorEvent(e,i,t):(this.currentTextEditorState=null,e&&e.input&&this.handleNonTextEditorEvent(e))},t.prototype.handleTextEditorEvent=function(e,t,i){var n=new D(e.input,t.getSelection());!this.currentTextEditorState||this.currentTextEditorState.justifiesNewPushState(n,i)?this.add(e.input,n.selection):this.replace(e.input,n.selection),this.currentTextEditorState=n},t.prototype.handleNonTextEditorEvent=function(e){var t=this.stack[this.index]
;t&&this.matches(e.input,t.input)||this.add(e.input)},t.prototype.add=function(e,t){this.navigatingInStack||this.addOrReplaceInStack(e,t)},t.prototype.replace=function(e,t){this.navigatingInStack||this.addOrReplaceInStack(e,t,!0)},t.prototype.addOrReplaceInStack=function(e,i,n){var r=this,o=!1,s=this.stack[this.index];s&&(n?o=!0:this.matches(e,s.input)&&this.sameSelection(s.selection,i)&&(o=!0));var c=this.preferResourceInput(e),l={input:c,selection:i};o?this.stack[this.index]=l:(this.stack.length>this.index+1&&(this.stack=this.stack.slice(0,this.index+1)),this.stack.splice(this.index+1,0,l),this.stack.length>t.MAX_STACK_ITEMS?(this.stack.shift(),this.lastIndex>=0&&this.lastIndex--):this.setIndex(this.index+1)),c instanceof a.EditorInput&&v.once(c.onDispose)(function(){return r.removeFromStack(e)}),this.updateContextKeys()},t.prototype.preferResourceInput=function(e){return this.fileInputFactory.isFileInput(e)?{resource:e.getResource()}:e},t.prototype.sameSelection=function(e,t){
return!e&&!t||!(!e&&t||e&&!t)&&e.startLineNumber===t.startLineNumber},t.prototype.removeFromStack=function(e){var t=this;this.stack=this.stack.filter(function(i){return!t.matches(e,i.input)}),this.index=this.stack.length-1,this.lastIndex=-1,this.updateContextKeys()},t.prototype.removeFromRecentlyClosedFiles=function(e){var t=this;this.recentlyClosedFiles=this.recentlyClosedFiles.filter(function(i){return!t.matchesFile(i.resource,e)})},t.prototype.removeFromRecentlyOpened=function(e){if(!(e instanceof a.EditorInput||e instanceof l.FileChangesEvent)){var t=e;this.windowService.removeFromRecentlyOpened([t.resource])}},t.prototype.isFileOpened=function(e,t){var i=this;return!!t&&(!!this.editorService.isOpen({resource:e},t)&&t.editors.some(function(t){return i.matchesFile(e,t)}))},t.prototype.matches=function(e,t){if(e instanceof l.FileChangesEvent){if(t instanceof a.EditorInput)return!1;var i=t;return e.contains(i.resource,2)}if(e instanceof a.EditorInput&&t instanceof a.EditorInput)return e.matches(t)
;if(e instanceof a.EditorInput)return this.matchesFile(t.resource,e);if(t instanceof a.EditorInput)return this.matchesFile(e.resource,t);var n=e,r=t;return n&&r&&n.resource.toString()===r.resource.toString()},t.prototype.matchesFile=function(e,t){if(t instanceof l.FileChangesEvent)return t.contains(e,2);if(t instanceof a.EditorInput){var i=t.getResource();return!!i&&(!(this.partService.isCreated()&&!this.fileService.canHandleResource(i))&&i.toString()===e.toString())}var n=t;return n&&n.resource.toString()===e.toString()},t.prototype.getHistory=function(){return this.ensureHistoryLoaded(),this.history.slice(0)},t.prototype.ensureHistoryLoaded=function(){this.loaded||this.loadHistory(),this.loaded=!0},t.prototype.saveHistory=function(){if(this.history){var e=f.Registry.as(a.Extensions.EditorInputFactories),i=this.history.map(function(t){if(!(t instanceof a.EditorInput))return{resourceJSON:t.resource.toJSON()};var i=e.getEditorInputFactory(t.getTypeId());if(i){var n=i.serialize(t);if(n)return{editorInputJSON:{
typeId:t.getTypeId(),deserialized:n}}}}).filter(function(e){return!!e});this.storageService.store(t.STORAGE_KEY,JSON.stringify(i),1)}},t.prototype.loadHistory=function(){var e=this,i=[],n=this.storageService.get(t.STORAGE_KEY,1);n&&(i=JSON.parse(n).filter(function(e){return!!e}));var r=f.Registry.as(a.Extensions.EditorInputFactories);this.history=i.map(function(t){var i=t;if(i.resourceJSON)return{resource:s.URI.revive(i.resourceJSON)};var n=i.editorInputJSON;if(n&&n.deserialized){var o=r.getEditorInputFactory(n.typeId);if(o){var a=o.deserialize(e.instantiationService,n.deserialized);return a&&v.once(a.onDispose)(function(){return e.removeFromHistory(a)}),a}}}).filter(function(e){return!!e})},t.prototype.getLastActiveWorkspaceRoot=function(e){var t=this.contextService.getWorkspace().folders;if(0!==t.length)if(1!==t.length){for(var i=this.getHistory(),n=0;n<i.length;n++){var r=i[n];if(!(r instanceof a.EditorInput)){var o=r;if(!e||o.resource.scheme===e){var s=this.contextService.getWorkspaceFolder(o.resource)
;if(s)return s.uri}}}for(n=0;n<t.length;n++){c=t[n].uri;if(!e||c.scheme===e)return c}}else{var c=t[0].uri;if(!e||c.scheme===e)return c}},t.prototype.getLastActiveFile=function(e){for(var t=this.getHistory(),i=0;i<t.length;i++){var n=void 0,r=t[i];if((n=r instanceof a.EditorInput?a.toResource(r,{filter:e}):r.resource)&&n.scheme===e)return n}},t.STORAGE_KEY="history.entries",t.MAX_HISTORY_ITEMS=200,t.MAX_STACK_ITEMS=20,t.MAX_RECENTLY_CLOSED_EDITORS=20,t=r([o(0,c.IEditorService),o(1,y.IEditorGroupsService),o(2,d.IWorkspaceContextService),o(3,h.IStorageService),o(4,m.IConfigurationService),o(5,g.ILifecycleService),o(6,l.IFileService),o(7,S.IWindowsService),o(8,w.IInstantiationService),o(9,I.IPartService),o(10,_.IContextKeyService)],t)}(p.Disposable);t.HistoryService=A}),define(e[194],t([1,0,2,19,22,20,72,8,313,23,44,15,68,32,311,310]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEYBINDING_ENTRY_TEMPLATE_ID="keybinding.entry.template",
t.KEYBINDING_HEADER_TEMPLATE_ID="keybinding.header.template";var S=n.localize("default","Default"),b=n.localize("user","User"),E=l.or(l.matchesPrefix,l.matchesWords,l.matchesContiguousSubString),w=function(e){function n(t,i,n){var r=e.call(this)||this;return r.keybindingsService=i,r.extensionService=n,r.modifierLabels={ui:d.UILabelProvider.modifierLabels[t],aria:d.AriaLabelProvider.modifierLabels[t],user:d.UserSettingsLabelProvider.modifierLabels[t]},r}return i(n,e),n.prototype.fetch=function(e,i){void 0===i&&(i=!1);var r=i?this._keybindingItemsSortedByPrecedence:this._keybindingItems;return/@source:\s*(user|default)/i.test(e)&&(r=this.filterBySource(r,e),e=e.replace(/@source:\s*(user|default)/i,"")),(e=e.trim())?this.filterByText(r,e):r.map(function(e){return{id:n.getId(e),keybindingItem:e,templateId:t.KEYBINDING_ENTRY_TEMPLATE_ID}})},n.prototype.filterBySource=function(e,t){return/@source:\s*default/i.test(t)?e.filter(function(e){return e.source===S}):/@source:\s*user/i.test(t)?e.filter(function(e){
return e.source===b}):e},n.prototype.filterByText=function(e,i){var r='"'===i.charAt(0),o='"'===i.charAt(i.length-1),s=r&&o;r&&(i=i.substring(1)),o&&(i=i.substring(0,i.length-1));for(var a=[],c=(i=i.trim()).split(" "),l=this.splitKeybindingWords(c),u=0,d=e;u<d.length;u++){var p=d[u],h=new C(this.modifierLabels,p,i,c,l,s);(h.commandIdMatches||h.commandLabelMatches||h.commandDefaultLabelMatches||h.sourceMatches||h.whenMatches||h.keybindingMatches)&&a.push({id:n.getId(p),templateId:t.KEYBINDING_ENTRY_TEMPLATE_ID,commandLabelMatches:h.commandLabelMatches,commandDefaultLabelMatches:h.commandDefaultLabelMatches,keybindingItem:p,keybindingMatches:h.keybindingMatches,commandIdMatches:h.commandIdMatches,sourceMatches:h.sourceMatches,whenMatches:h.whenMatches})}return a},n.prototype.splitKeybindingWords=function(e){for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i];t.push.apply(t,r.split("+").filter(function(e){return!!e}))}return t},n.prototype.resolve=function(e){var t=this
;return this.extensionService.whenInstalledExtensionsRegistered().then(function(){var i=u.Registry.as(h.Extensions.WorkbenchActions);t._keybindingItemsSortedByPrecedence=[];for(var r=new Map,o=0,s=t.keybindingsService.getKeybindings();o<s.length;o++){var a=s[o];a.command&&(t._keybindingItemsSortedByPrecedence.push(n.toKeybindingEntry(a.command,a,i,e)),r.set(a.command,!0))}for(var c=t.keybindingsService.getDefaultKeybindings().map(function(e){return e.command}),l=0,d=y.KeybindingResolver.getAllUnboundCommands(r);l<d.length;l++){var p=d[l],g=new m.ResolvedKeybindingItem(null,p,null,null,-1===c.indexOf(p));t._keybindingItemsSortedByPrecedence.push(n.toKeybindingEntry(p,g,i,e))}return t._keybindingItems=t._keybindingItemsSortedByPrecedence.slice(0).sort(function(e,t){return n.compareKeybindingData(e,t)}),t})},n.getId=function(e){return e.command+(e.keybinding?e.keybinding.getAriaLabel():"")+e.source+e.when},n.compareKeybindingData=function(e,t){
return e.keybinding&&!t.keybinding?-1:t.keybinding&&!e.keybinding?1:e.commandLabel&&!t.commandLabel?-1:t.commandLabel&&!e.commandLabel?1:e.commandLabel&&t.commandLabel&&e.commandLabel!==t.commandLabel?e.commandLabel.localeCompare(t.commandLabel):e.command===t.command?e.keybindingItem.isDefault?1:-1:e.command.localeCompare(t.command)},n.toKeybindingEntry=function(e,t,i,r){var o=p.MenuRegistry.getCommand(e),s=r[e];return{keybinding:t.resolvedKeybinding,keybindingItem:t,command:e,commandLabel:n.getCommandLabel(o,s),commandDefaultLabel:n.getCommandDefaultLabel(o,i),when:t.when?t.when.serialize():"",source:t.isDefault?S:b}},n.getCommandDefaultLabel=function(e,t){return c.language!==c.LANGUAGE_DEFAULT&&e&&e.title&&e.title.original?e.title.original:null},n.getCommandLabel=function(e,t){return e?"string"==typeof e.title?e.title:e.title.value:t||""},n=r([o(1,v.IKeybindingService),o(2,f.IExtensionService)],n)}(g.EditorModel);t.KeybindingsEditorModel=w;var C=function(){function e(e,t,i,n,r,o){this.modifierLabels=e,
this.commandIdMatches=null,this.commandLabelMatches=null,this.commandDefaultLabelMatches=null,this.sourceMatches=null,this.whenMatches=null,this.keybindingMatches=null,o||(this.commandIdMatches=this.matches(i,t.command,l.or(l.matchesWords,l.matchesCamelCase),n),this.commandLabelMatches=t.commandLabel?this.matches(i,t.commandLabel,function(e,i){return l.matchesWords(e,t.commandLabel,!0)},n):null,this.commandDefaultLabelMatches=t.commandDefaultLabel?this.matches(i,t.commandDefaultLabel,function(e,i){return l.matchesWords(e,t.commandDefaultLabel,!0)},n):null,this.sourceMatches=this.matches(i,t.source,function(e,i){return l.matchesWords(e,t.source,!0)},n),this.whenMatches=t.when?this.matches(i,t.when,l.or(l.matchesWords,l.matchesCamelCase),n):null),this.keybindingMatches=t.keybinding?this.matchesKeybinding(t.keybinding,i,r,o):null}return e.prototype.matches=function(e,t,i,n){var r=E(e,t);return r||(r=this.matchesWords(n,t,i)),r&&(r=this.filterAndSort(r)),r},e.prototype.matchesWords=function(e,t,i){
for(var n=[],r=0,o=e;r<o.length;r++){var s=i(o[r],t);if(!s){n=null;break}n=(n||[]).concat(s)}return n},e.prototype.filterAndSort=function(e){return s.distinct(e,function(e){return e.start+"."+e.end}).filter(function(t){return!e.some(function(e){return!(e.start===t.start&&e.end===t.end)&&e.start<=t.start&&e.end>=t.end})}).sort(function(e,t){return e.start-t.start})},e.prototype.matchesKeybinding=function(e,t,i,n){var r=e.getParts(),o=r[0],s=r[1];if(0===a.compareIgnoreCase(t,e.getAriaLabel())||0===a.compareIgnoreCase(t,e.getLabel()))return{firstPart:this.createCompleteMatch(o),chordPart:this.createCompleteMatch(s)};for(var c={},l={},u=[],d=[],p=[],h=!0,g=0;g<i.length;g++){var f=i[g],v=!1,m=!1;h=h&&!c.keyCode;var y=!l.keyCode;if(h&&(v=this.matchPart(o,c,f,n),c.keyCode)){for(var S=0,b=p;S<b.length;S++){var E=b[S];-1===d.indexOf(E)&&u.splice(u.indexOf(E),1)}l={},p=[],y=!1}y&&(m=this.matchPart(s,l,f,n)),v&&d.push(g),m&&p.push(g),(v||m)&&u.push(g),h=h&&this.isModifier(f)}
return u.length!==i.length?null:(!n||this.isCompleteMatch(o,c)&&this.isCompleteMatch(s,l))&&(this.hasAnyMatch(c)||this.hasAnyMatch(l))?{firstPart:c,chordPart:l}:null},e.prototype.matchPart=function(e,t,i,n){var r=!1;return this.matchesMetaModifier(e,i)&&(r=!0,t.metaKey=!0),this.matchesCtrlModifier(e,i)&&(r=!0,t.ctrlKey=!0),this.matchesShiftModifier(e,i)&&(r=!0,t.shiftKey=!0),this.matchesAltModifier(e,i)&&(r=!0,t.altKey=!0),this.matchesKeyCode(e,i,n)&&(t.keyCode=!0,r=!0),r},e.prototype.matchesKeyCode=function(e,t,i){if(!e)return!1;var n=e.keyAriaLabel;if(i||1===n.length||1===t.length){if(0===a.compareIgnoreCase(n,t))return!0}else if(l.matchesContiguousSubString(t,n))return!0;return!1},e.prototype.matchesMetaModifier=function(e,t){return!!e&&(!!e.metaKey&&this.wordMatchesMetaModifier(t))},e.prototype.wordMatchesMetaModifier=function(e){
return!!l.matchesPrefix(this.modifierLabels.ui.metaKey,e)||(!!l.matchesPrefix(this.modifierLabels.aria.metaKey,e)||(!!l.matchesPrefix(this.modifierLabels.user.metaKey,e)||!!l.matchesPrefix(n.localize("meta","meta"),e)))},e.prototype.matchesCtrlModifier=function(e,t){return!!e&&(!!e.ctrlKey&&this.wordMatchesCtrlModifier(t))},e.prototype.wordMatchesCtrlModifier=function(e){return!!l.matchesPrefix(this.modifierLabels.ui.ctrlKey,e)||(!!l.matchesPrefix(this.modifierLabels.aria.ctrlKey,e)||!!l.matchesPrefix(this.modifierLabels.user.ctrlKey,e))},e.prototype.matchesShiftModifier=function(e,t){return!!e&&(!!e.shiftKey&&this.wordMatchesShiftModifier(t))},e.prototype.wordMatchesShiftModifier=function(e){return!!l.matchesPrefix(this.modifierLabels.ui.shiftKey,e)||(!!l.matchesPrefix(this.modifierLabels.aria.shiftKey,e)||!!l.matchesPrefix(this.modifierLabels.user.shiftKey,e))},e.prototype.matchesAltModifier=function(e,t){return!!e&&(!!e.altKey&&this.wordMatchesAltModifier(t))},
e.prototype.wordMatchesAltModifier=function(e){return!!l.matchesPrefix(this.modifierLabels.ui.altKey,e)||(!!l.matchesPrefix(this.modifierLabels.aria.altKey,e)||(!!l.matchesPrefix(this.modifierLabels.user.altKey,e)||!!l.matchesPrefix(n.localize("option","option"),e)))},e.prototype.hasAnyMatch=function(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||e.keyCode},e.prototype.isCompleteMatch=function(e,t){return!e||!!t.keyCode&&(!(e.metaKey&&!t.metaKey)&&(!(e.altKey&&!t.altKey)&&(!(e.ctrlKey&&!t.ctrlKey)&&!(e.shiftKey&&!t.shiftKey))))},e.prototype.createCompleteMatch=function(e){var t={};return e&&(t.keyCode=!0,e.metaKey&&(t.metaKey=!0),e.altKey&&(t.altKey=!0),e.ctrlKey&&(t.ctrlKey=!0),e.shiftKey&&(t.shiftKey=!0)),t},e.prototype.isModifier=function(e){return!!this.wordMatchesAltModifier(e)||(!!this.wordMatchesCtrlModifier(e)||(!!this.wordMatchesMetaModifier(e)||!!this.wordMatchesShiftModifier(e)))},e}()}),define(e[61],t([1,0,3,15,25,2]),function(e,t,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{
value:!0});!function(e){e.Null="null",e.Enum="enum",e.String="string",e.Integer="integer",e.Number="number",e.Boolean="boolean",e.Exclude="exclude",e.Complex="complex",e.NullableInteger="nullable-integer",e.NullableNumber="nullable-number"}(t.SettingValueType||(t.SettingValueType={}));var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.create=function(e){if(!e)return null;var i=new t;return i.target=e.target,i.folderUri=e.folderUri,i.query=e.query,i.preserveFocus=e.preserveFocus,i.forceReload=e.forceReload,i.revealIfVisible=e.revealIfVisible,i.revealIfOpened=e.revealIfOpened,i.pinned=e.pinned,i.index=e.index,i.inactive=e.inactive,i},t}(r.EditorOptions);t.SettingsEditorOptions=a,t.IPreferencesService=n.createDecorator("preferencesService"),t.getSettingsTargetName=function(e,t,i){switch(e){case 1:return s.localize("userSettingsTarget","User Settings");case 2:return s.localize("workspaceSettingsTarget","Workspace Settings");case 3:var n=i.getWorkspaceFolder(t)
;return n?n.name:""}return""},t.FOLDER_SETTINGS_PATH=o.join(".vscode","settings.json"),t.DEFAULT_SETTINGS_EDITOR_SETTING="workbench.settings.openDefaultSettings"}),define(e[162],t([1,0,19,30,13,2,9,207,61]),function(e,t,n,s,a,c,l,u,d){"use strict";function p(e,t,i){var n=a.URI.isUri(t)?{resource:t}:void 0,r=i.inspect(e,n),o=1===t?"user":2===t?"workspace":"workspaceFolder";return{isConfigured:void 0!==r[o],inspected:r,targetSelector:o}}function h(e,t){void 0===t&&(t="");var i=e.lastIndexOf("."),n="";i>=0&&(n=e.substr(0,i),e=e.substr(i+1));return{category:n=g(n=function(e,t){var i=function(i){for(var n=t.split(".");n.length;){var r=new RegExp("^"+n.join("\\.")+"(\\.|$)","i");if(r.test(e))return e.replace(r,"");i?n.pop():n.shift()}return null},n=i(!0);null===n&&(n=i(!1));null===n&&(n=e);return n}(n,t=t.replace(/\//g,"."))),label:g(e)}}function g(e){return e.replace(/\.([a-z])/g,function(e,t){return" › "+t.toUpperCase()}).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/^[a-z]/g,function(e){return e.toUpperCase()
}).replace(/\b\w+\b/g,function(e){return u.knownAcronyms.has(e.toLowerCase())?e.toUpperCase():e})}function f(e){return"files.exclude"===e.key||"search.exclude"===e.key||"files.watcherExclude"===e.key}Object.defineProperty(t,"__esModule",{value:!0}),t.MODIFIED_SETTING_TAG="modified",t.ONLINE_SERVICES_SETTING_TAG="usesOnlineServices";var v=function(){return function(){}}();t.SettingsTreeElement=v;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},set:function(e){var t=this;this._children=e,this._childSettingKeys=new Set,this._children.forEach(function(e){e instanceof S&&t._childSettingKeys.add(e.setting.key)})},enumerable:!0,configurable:!0}),t.prototype.containsSetting=function(e){return this._childSettingKeys.has(e)},t}(v);t.SettingsTreeGroupElement=m;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(v);t.SettingsTreeNewExtensionsElement=y
;var S=function(e){function n(t,i,n,r){var o=e.call(this)||this;return o.index=n,o.setting=t,o.parent=i,o.id=function(e){return e.replace(/[\.\/]/,"_")}(i.id+"_"+t.key),o.update(r),o}return i(n,e),Object.defineProperty(n.prototype,"displayCategory",{get:function(){return this._displayCategory||this.initLabel(),this._displayCategory},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayLabel",{get:function(){return this._displayLabel||this.initLabel(),this._displayLabel},enumerable:!0,configurable:!0}),n.prototype.initLabel=function(){var e=h(this.setting.key,this.parent.id);this._displayLabel=e.label,this._displayCategory=e.category},n.prototype.update=function(e){var i=this,n=e.isConfigured,r=e.inspected,o=e.targetSelector,a=n?r[o]:r.default,l=[];"user"===o&&void 0!==r.workspace&&l.push(c.localize("workspace","Workspace")),"workspace"===o&&void 0!==r.user&&l.push(c.localize("user","User")),this.value=a,this.scopeValue=n&&r[o],this.defaultValue=r.default,this.isConfigured=n,
(n||this.setting.tags||this.tags)&&(this.tags=new Set,n&&this.tags.add(t.MODIFIED_SETTING_TAG),this.setting.tags&&this.setting.tags.forEach(function(e){return i.tags.add(e)})),this.overriddenScopeList=l,this.description=this.setting.description.join("\n"),!this.setting.enum||this.setting.type&&!function(e){var t=["string","boolean","null","integer","number"];return(s.isArray(e)?e:[e]).every(function(e){return t.indexOf(e)>-1})
}(this.setting.type)?"string"===this.setting.type?this.valueType=d.SettingValueType.String:f(this.setting)?this.valueType=d.SettingValueType.Exclude:"integer"===this.setting.type?this.valueType=d.SettingValueType.Integer:"number"===this.setting.type?this.valueType=d.SettingValueType.Number:"boolean"===this.setting.type?this.valueType=d.SettingValueType.Boolean:s.isArray(this.setting.type)&&this.setting.type.indexOf(d.SettingValueType.Null)>-1&&2===this.setting.type.length?this.setting.type.indexOf(d.SettingValueType.Integer)>-1?this.valueType=d.SettingValueType.NullableInteger:this.setting.type.indexOf(d.SettingValueType.Number)>-1?this.valueType=d.SettingValueType.NullableNumber:this.valueType=d.SettingValueType.Complex:this.valueType=d.SettingValueType.Complex:this.valueType=d.SettingValueType.Enum},n.prototype.matchesAllTags=function(e){var t=this;if(!e||!e.size)return!0;if(this.tags){var i=!0;return e.forEach(function(e){i=i&&t.tags.has(e)}),i}return!1},n.prototype.matchesScope=function(e){
var t=a.URI.isUri(e)?3:e;return 3===t?3===this.setting.scope:2!==t||(2===this.setting.scope||3===this.setting.scope)},n}(v);t.SettingsTreeSettingElement=S;var b=function(){function e(e,t){this._viewState=e,this._configurationService=t,this._treeElementsById=new Map,this._treeElementsBySettingName=new Map}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.update=function(e){void 0===e&&(e=this._tocRoot),this._treeElementsById.clear(),this._treeElementsBySettingName.clear();var t=this.createSettingsTreeGroupElement(e);t.children[0]instanceof m&&(t.children[0].isFirstGroup=!0),this._root?this._root.children=t.children:this._root=t},e.prototype.getElementById=function(e){return this._treeElementsById.get(e)},e.prototype.getElementsByName=function(e){return this._treeElementsBySettingName.get(e)},e.prototype.updateElementsByName=function(e){var t=this
;this._treeElementsBySettingName.has(e)&&this._treeElementsBySettingName.get(e).forEach(function(e){var i=p(e.setting.key,t._viewState.settingsTarget,t._configurationService);e.update(i)})},e.prototype.createSettingsTreeGroupElement=function(e,t){var i=this,n=new m,r=this._treeElementsById.size;n.index=r,n.id=e.id,n.label=e.label,n.parent=t,n.level=this.getDepth(n);var o=[];if(e.settings){var s=e.settings.map(function(e){return i.createSettingsTreeSettingElement(e,n)}).filter(function(e){return!e.setting.deprecationMessage||e.isConfigured});o.push.apply(o,s)}if(e.children){var a=e.children.map(function(e){return i.createSettingsTreeGroupElement(e,n)});o.push.apply(o,a)}return n.children=o,this._treeElementsById.set(n.id,n),n},e.prototype.getDepth=function(e){return e.parent?1+this.getDepth(e.parent):0},e.prototype.createSettingsTreeSettingElement=function(e,t){var i=this._treeElementsById.size,n=p(e.key,this._viewState.settingsTarget,this._configurationService),r=new S(e,t,i,n)
;this._treeElementsById.set(r.id,r);var o=this._treeElementsBySettingName.get(e.key)||[];return o.push(r),this._treeElementsBySettingName.set(e.key,o),r},e=r([o(1,l.IConfigurationService)],e)}();t.SettingsTreeModel=b,t.settingKeyToDisplayFormat=h,t.isExcludeSetting=f;var E=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.id="searchResultModel",n.update({id:"searchResultModel",label:""}),n}return i(t,e),t.prototype.getUniqueResults=function(){if(this.cachedUniqueSearchResults)return this.cachedUniqueSearchResults;if(!this.rawSearchResults)return[];var e=new Set,t=this.rawSearchResults[0];t&&t.filterMatches.forEach(function(t){return e.add(t.setting.key)});var i=this.rawSearchResults[1];return i&&(i.filterMatches=i.filterMatches.filter(function(t){return!e.has(t.setting.key)})),i&&(this.newExtensionSearchResults=this.rawSearchResults[2]),this.cachedUniqueSearchResults=[t,i],this.cachedUniqueSearchResults},t.prototype.getRawResults=function(){return this.rawSearchResults},
t.prototype.setResult=function(e,t){this.cachedUniqueSearchResults=null,this.rawSearchResults=this.rawSearchResults||[],t?(this.rawSearchResults[e]=t,this.updateChildren()):delete this.rawSearchResults[e]},t.prototype.updateChildren=function(){var e=this;if(this.update({id:"searchResultModel",label:"searchResultModel",settings:this.getFlatSettings()}),this.root.children=this.root.children.filter(function(t){return t instanceof S&&t.matchesAllTags(e._viewState.tagFilters)&&t.matchesScope(e._viewState.settingsTarget)}),this.newExtensionSearchResults&&this.newExtensionSearchResults.filterMatches.length){var t=new y;t.index=this._treeElementsById.size,t.parent=this._root,t.id="newExtensions",this._treeElementsById.set(t.id,t);var i=this.newExtensionSearchResults.filterMatches.map(function(e){return e.setting}).filter(function(e){return e.extensionName&&e.extensionPublisher}).map(function(e){return e.extensionPublisher+"."+e.extensionName});t.extensionIds=n.distinct(i),this._root.children.push(t)}},
t.prototype.getFlatSettings=function(){var e=[];return this.getUniqueResults().filter(function(e){return!!e}).forEach(function(t){e.push.apply(e,t.filterMatches.map(function(e){return e.setting}))}),e},t=r([o(1,l.IConfigurationService)],t)}(b);t.SearchResultModel=E;var w=/(^|\s)@tag:("([^"]*)"|[^"]\S*)/g;t.parseQuery=function(e){var i=[];return e=e.replace(w,function(e,t,n,r){return i.push(r||n),""}),e=e.replace("@"+t.MODIFIED_SETTING_TAG,function(){return i.push(t.MODIFIED_SETTING_TAG),""}),e=e.trim(),{tags:i,query:e}}}),define(e[172],t([1,0,7,458,46,337,125,197,133,460,122,14,19,73,24,5,4,22,13,6,198,196,2,81,38,9,33,3,32,52,143,26,41,11,162,163,96]),function(e,t,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V,W){"use strict";function G(e){var t=e.isConfigured?n({},e.defaultValue,e.scopeValue):e.defaultValue;return Object.keys(t).filter(function(e){return!!t[e]}).map(function(e){var i=t[e];return{id:e,pattern:e,sibling:"boolean"==typeof i?void 0:i.when}})}function K(e,t){
var i=function(e){for(var t=new Set,i=0,n=e;i<n.length;i++)for(var r=0,o=n[i].sections;r<o.length;r++)for(var s=0,a=o[r].settings;s<a.length;s++){var c=a[s];c.overrides&&c.overrides.length||t.add(c)}return t}(t);return{tree:H(e,i),leftoverSettings:i}}function z(e){var t=e.sort(function(e,t){return e.title.localeCompare(t.title)}).map(function(e){return function(e){var t=v.flatten(e.sections.map(function(e){return e.settings}));return{id:e.id,label:e.title,settings:t}}(e)});return{id:"extensions",label:D.localize("extensions","Extensions"),children:t}}function H(e,t){var i;e.children&&(i=e.children.map(function(e){return H(e,t)}).filter(function(e){return e.children&&e.children.length||e.settings&&e.settings.length}));var n;return e.settings&&(n=v.flatten(e.settings.map(function(e){return function(e,t){var i=[];return e.forEach(function(n){(function(e,t){var i=X.get(t);return i||(i=function(e){return e=E.escapeRegExpCharacters(e).replace(/\\\*/g,".*"),new RegExp("^"+e,"i")}(t),X.set(t,i)),i.test(e.key)
})(n,t)&&(i.push(n),e.delete(n))}),i.sort(function(e,t){return e.key.localeCompare(t.key)})}(t,e)}))),i||n?{id:e.id,label:e.label,children:i,settings:n}:null}function U(e,t,i,n){if(e.setting.validator){var r=e.setting.validator(t.inputBox.value);if(r){s.addClass(t.containerElement,"invalid-input"),t.validationErrorMessageElement.innerText=r;var o=D.localize("validationError","Validation Error.");return t.inputBox.inputElement.parentElement.setAttribute("aria-label",[n,o,r].join(" ")),void(i||l.alert(o+" "+r))}t.inputBox.inputElement.parentElement.setAttribute("aria-label",n)}s.removeClass(t.containerElement,"invalid-input")}function j(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes.item(t);"img"===(i.tagName&&i.tagName.toLowerCase())?e.removeChild(i):j(i)}}function q(e,t){return void 0===t&&(t=!0),e.replace(/`#([^#]*)#`/g,function(e,i){var n=B.settingKeyToDisplayFormat(i),r=n.category+": "+n.label;return t?"["+r+"](#"+i+")":'"'+r+'"'})}function Q(e){
return e&&e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}Object.defineProperty(t,"__esModule",{value:!0});var Y=s.$;t.resolveSettingsTree=K,t.resolveExtensionsSettings=z;var X=new Map,$=function(){function e(){}return e.prototype.getId=function(e,t){return t.id},e.prototype.hasChildren=function(e,t){return t instanceof B.SettingsTreeGroupElement},e.prototype.getChildren=function(e,t){return C.TPromise.as(this._getChildren(t))},e.prototype._getChildren=function(e){return e instanceof B.SettingsTreeGroupElement?e.children:null},e.prototype.getParent=function(e,t){return C.TPromise.wrap(t&&t.parent)},e.prototype.shouldAutoexpand=function(){return!0},e}();t.SettingsDataSource=$;var J=function(){function e(e){this.realDataSource=e,this.reset()}return e.prototype.reset=function(){this.loadedToIndex=e.SETTINGS_PER_PAGE},e.prototype.pageTo=function(t,i){void 0===i&&(i=!1);var n=i?e.SETTINGS_PER_PAGE:e.BUFFER;return t>this.loadedToIndex-n&&(this.loadedToIndex=(Math.ceil(t/e.SETTINGS_PER_PAGE)+1)*e.SETTINGS_PER_PAGE,!0)},
e.prototype.getId=function(e,t){return this.realDataSource.getId(e,t)},e.prototype.hasChildren=function(e,t){return this.realDataSource.hasChildren(e,t)},e.prototype.getChildren=function(e,t){var i=this;return this.realDataSource.getChildren(e,t).then(function(e){return i._getChildren(e)})},e.prototype._getChildren=function(e){var t=this,i=e[e.length-1];return i&&i.index>this.loadedToIndex?e.filter(function(e){return e.index<t.loadedToIndex}):e},e.prototype.getParent=function(e,t){return this.realDataSource.getParent(e,t)},e.prototype.shouldAutoexpand=function(e,t){return this.realDataSource.shouldAutoexpand(e,t)},e.SETTINGS_PER_PAGE=30,e.BUFFER=5,e}();t.SimplePagedDataSource=J;var Z=function(){function e(e,t,i,n,r,o,a,l){var u=this;this.themeService=t,this.contextViewService=i,this.openerService=n,this.instantiationService=r,this.commandService=o,this.contextMenuService=a,this.keybindingService=l,this._onDidChangeSetting=new S.Emitter,this.onDidChangeSetting=this._onDidChangeSetting.event,
this._onDidOpenSettings=new S.Emitter,this.onDidOpenSettings=this._onDidOpenSettings.event,this._onDidClickSettingLink=new S.Emitter,this.onDidClickSettingLink=this._onDidClickSettingLink.event,this._onDidFocusSetting=new S.Emitter,this.onDidFocusSetting=this._onDidFocusSetting.event,this.longestSingleLineDescription=0,this.rowHeightCache=new Map,this.descriptionMeasureContainer=Y(".setting-item-description"),s.append(e,Y(".setting-measure-container.monaco-tree.settings-editor-tree",void 0,Y(".monaco-scrollable-element",void 0,Y(".monaco-tree-wrapper",void 0,Y(".monaco-tree-rows",void 0,Y(".monaco-tree-row",void 0,Y(".setting-item",void 0,this.descriptionMeasureContainer))))))),this.settingActions=[new f.Action("settings.resetSetting",D.localize("resetSettingLabel","Reset Setting"),void 0,void 0,function(e){return e&&u._onDidChangeSetting.fire({key:e.setting.key,value:void 0,type:e.setting.type}),C.TPromise.wrap(null)
}),new c.Separator,this.instantiationService.createInstance(re),this.instantiationService.createInstance(oe)]}return e.prototype.showContextMenu=function(e,t){var i=this,n=t.querySelector(".toolbar-toggle-more");n&&this.contextMenuService.showContextMenu({getActions:function(){return C.TPromise.wrap(i.settingActions)},getAnchor:function(){return n},getActionsContext:function(){return e}})},e.prototype.updateWidth=function(e){this.lastRenderedWidth!==e&&(this.rowHeightCache=new Map),this.longestSingleLineDescription=0,this.lastRenderedWidth=e},e.prototype.getHeight=function(e,t){if(this.rowHeightCache.has(t.id)&&!(t instanceof B.SettingsTreeSettingElement&&B.isExcludeSetting(t.setting)))return this.rowHeightCache.get(t.id);var i=this._getHeight(e,t);return this.rowHeightCache.set(t.id,i),i},e.prototype._getHeight=function(e,t){
return t instanceof B.SettingsTreeGroupElement?t.isFirstGroup?31:40+7*t.level:t instanceof B.SettingsTreeSettingElement?B.isExcludeSetting(t.setting)?this._getExcludeSettingHeight(t):this.measureSettingElementHeight(e,t):t instanceof B.SettingsTreeNewExtensionsElement?40:0},e.prototype._getExcludeSettingHeight=function(e){return 22*(G(e).length+1)+66+this.measureSettingDescription(e)},e.prototype.measureSettingElementHeight=function(e,t){var i=86;return"boolean"===t.valueType&&(i=60),i+this.measureSettingDescription(t)},e.prototype.measureSettingDescription=function(e){if(e.description.length<.8*this.longestSingleLineDescription)return 18;"boolean"===e.valueType?this.descriptionMeasureContainer.classList.add("measure-bool-description"):this.descriptionMeasureContainer.classList.contains("measure-bool-description")&&this.descriptionMeasureContainer.classList.remove("measure-bool-description")
;for(var t=e.setting.descriptionIsMarkdown&&e.description.indexOf("\n- ")>=0;this.descriptionMeasureContainer.firstChild;)this.descriptionMeasureContainer.removeChild(this.descriptionMeasureContainer.firstChild);if(t){var i=q(e.description),n=a.renderMarkdown({value:i});return n.classList.add("setting-item-description-markdown"),this.descriptionMeasureContainer.appendChild(n),this.descriptionMeasureContainer.offsetHeight}var r=e.setting.descriptionIsMarkdown?q(e.description).replace(/\[(.*)\]\(.*\)/g,"$1").replace(/`([^`]*)`/g,"$1"):e.description;this.descriptionMeasureContainer.innerText=r;var o=this.descriptionMeasureContainer.offsetHeight;return o<20&&r.length>this.longestSingleLineDescription&&(this.longestSingleLineDescription=r.length),o},e.prototype.getTemplateId=function(e,t){
return t instanceof B.SettingsTreeGroupElement?"settings.group.template":t instanceof B.SettingsTreeSettingElement?"boolean"===t.valueType?"settings.bool.template":"integer"===t.valueType||"number"===t.valueType||"nullable-integer"===t.valueType||"nullable-number"===t.valueType?"settings.number.template":"string"===t.valueType?"settings.text.template":"enum"===t.valueType?"settings.enum.template":"exclude"===t.valueType?"settings.exclude.template":"settings.complex.template":t instanceof B.SettingsTreeNewExtensionsElement?"settings.newExtensions.template":""},e.prototype.renderTemplate=function(e,t,i){
return"settings.group.template"===t?this.renderGroupTitleTemplate(i):"settings.text.template"===t?this.renderSettingTextTemplate(e,i):"settings.number.template"===t?this.renderSettingNumberTemplate(e,i):"settings.bool.template"===t?this.renderSettingBoolTemplate(e,i):"settings.enum.template"===t?this.renderSettingEnumTemplate(e,i):"settings.exclude.template"===t?this.renderSettingExcludeTemplate(e,i):"settings.complex.template"===t?this.renderSettingComplexTemplate(e,i):"settings.newExtensions.template"===t?this.renderNewExtensionsTemplate(i):null},e.prototype.renderGroupTitleTemplate=function(e){s.addClass(e,"group-title");return{parent:e,toDispose:[]}},e.prototype.renderCommonTemplate=function(e,t,i){s.addClass(t,"setting-item"),s.addClass(t,"setting-item-"+i)
;var n=s.append(t,Y(".setting-item-title")),r=s.append(n,Y(".setting-item-cat-label-container")),o=s.append(r,Y("span.setting-item-category")),a=s.append(r,Y("span.setting-item-label")),c=s.append(n,Y("span.setting-item-overrides")),l=s.append(t,Y(".setting-item-description"));s.append(t,Y(".setting-item-modified-indicator")).title=D.localize("modified","Modified");var u=s.append(t,Y(".setting-item-value")),d=s.append(u,Y("div.setting-item-control")),p=s.append(t,Y(".setting-item-deprecation-message")),h=[],g=s.append(t,Y(".setting-toolbar-container")),f={toDispose:h,containerElement:t,categoryElement:o,labelElement:a,descriptionElement:l,controlElement:d,deprecationWarningElement:p,otherOverridesElement:c,toolbar:this.renderSettingToolbar(g)};return h.push(s.addDisposableListener(d,"mousedown",function(e){return e.stopPropagation()})),h.push(s.addStandardDisposableListener(u,"keydown",function(t){9===t.keyCode&&(e.domFocus(),t.browserEvent.stopPropagation())})),f},
e.prototype.addSettingElementFocusHandler=function(e){var t=this,i=s.trackFocus(e.containerElement);e.toDispose.push(i),i.onDidBlur(function(){e.containerElement.classList.contains("focused")&&e.containerElement.classList.remove("focused")}),i.onDidFocus(function(){e.containerElement.classList.add("focused"),e.context&&t._onDidFocusSetting.fire(e.context)})},e.prototype.renderSettingTextTemplate=function(t,i,r){void 0===r&&(r="text");var o=this.renderCommonTemplate(t,i,"text"),a=s.append(i,Y(".setting-item-validation-message")),c=new p.InputBox(o.controlElement,this.contextViewService);o.toDispose.push(c),o.toDispose.push(F.attachInputBoxStyler(c,this.themeService,{inputBackground:V.settingsTextInputBackground,inputForeground:V.settingsTextInputForeground,inputBorder:V.settingsTextInputBorder})),o.toDispose.push(c.onDidChange(function(e){l.onChange&&l.onChange(e)})),o.toDispose.push(c),c.inputElement.classList.add(e.CONTROL_CLASS);var l=n({},o,{inputBox:c,validationErrorMessageElement:a})
;return this.addSettingElementFocusHandler(l),l},e.prototype.renderSettingNumberTemplate=function(t,i){var r=this.renderCommonTemplate(t,i,"number"),o=s.append(i,Y(".setting-item-validation-message")),a=new p.InputBox(r.controlElement,this.contextViewService,{type:"number"});r.toDispose.push(a),r.toDispose.push(F.attachInputBoxStyler(a,this.themeService,{inputBackground:V.settingsNumberInputBackground,inputForeground:V.settingsNumberInputForeground,inputBorder:V.settingsNumberInputBorder})),r.toDispose.push(a.onDidChange(function(e){c.onChange&&c.onChange(e)})),r.toDispose.push(a),a.inputElement.classList.add(e.CONTROL_CLASS);var c=n({},r,{inputBox:a,validationErrorMessageElement:o});return this.addSettingElementFocusHandler(c),c},e.prototype.renderSettingToolbar=function(e){var t=this.keybindingService.lookupKeybinding(W.SETTINGS_EDITOR_COMMAND_SHOW_CONTEXT_MENU),i=D.localize("settingsContextMenuTitle","More Actions... ");t&&(i+=" ("+(t&&t.getLabel())+")");var n=new g.ToolBar(e,this.contextMenuService,{
toggleMenuTitle:i});n.setActions([],this.settingActions)();var r=e.querySelector(".toolbar-toggle-more");return r&&(r.tabIndex=-1),n},e.prototype.renderSettingBoolTemplate=function(t,i){s.addClass(i,"setting-item"),s.addClass(i,"setting-item-bool");var n=s.append(i,Y(".setting-item-title")),r=s.append(n,Y("span.setting-item-category")),o=s.append(n,Y("span.setting-item-label")),a=s.append(n,Y("span.setting-item-overrides")),c=s.append(i,Y(".setting-item-value-description")),l=s.append(c,Y(".setting-item-bool-control")),u=s.append(c,Y(".setting-item-description"));s.append(i,Y(".setting-item-modified-indicator")).title=D.localize("modified","Modified");var p=s.append(i,Y(".setting-item-deprecation-message")),h=[],g=new d.Checkbox({actionClassName:"setting-value-checkbox",isChecked:!0,title:"",inputActiveOptionBorder:null});l.appendChild(g.domNode),h.push(g),h.push(g.onChange(function(){m.onChange&&m.onChange(g.checked)})),h.push(s.addDisposableListener(u,s.EventType.MOUSE_DOWN,function(e){
var t=e.toElement,i=u.getAttribute("checkbox_label_target_id");"a"!==t.tagName.toLowerCase()&&i===m.checkbox.domNode.id&&(m.checkbox.checked=!m.checkbox.checked,m.onChange(g.checked)),s.EventHelper.stop(e)})),g.domNode.classList.add(e.CONTROL_CLASS);var f=s.append(i,Y(".setting-toolbar-container")),v=this.renderSettingToolbar(f);h.push(v);var m={toDispose:h,containerElement:i,categoryElement:r,labelElement:o,controlElement:l,checkbox:g,descriptionElement:u,deprecationWarningElement:p,otherOverridesElement:a,toolbar:v};return this.addSettingElementFocusHandler(m),h.push(s.addDisposableListener(l,"mousedown",function(e){return e.stopPropagation()})),h.push(s.addStandardDisposableListener(l,"keydown",function(e){9===e.keyCode&&(t.domFocus(),e.browserEvent.stopPropagation())})),m},e.prototype.cancelSuggesters=function(){this.contextViewService.hideContextView()},e.prototype.renderSettingEnumTemplate=function(t,i){
var r=this.renderCommonTemplate(t,i,"enum"),o=new h.SelectBox([],void 0,this.contextViewService,void 0,{hasDetails:!0});r.toDispose.push(o),r.toDispose.push(F.attachSelectBoxStyler(o,this.themeService,{selectBackground:V.settingsSelectBackground,selectForeground:V.settingsSelectForeground,selectBorder:V.settingsSelectBorder,selectListBorder:V.settingsSelectListBorder})),o.render(r.controlElement);var s=r.controlElement.querySelector("select");s&&s.classList.add(e.CONTROL_CLASS),r.toDispose.push(o.onDidSelect(function(e){c.onChange&&c.onChange(e.index)}));var a=r.containerElement.insertBefore(Y(".setting-item-enumDescription"),r.descriptionElement.nextSibling),c=n({},r,{selectBox:o,enumDescriptionElement:a});return this.addSettingElementFocusHandler(c),c},e.prototype.renderSettingExcludeTemplate=function(t,i){var r=this,o=this.renderCommonTemplate(t,i,"exclude"),s=this.instantiationService.createInstance(V.ExcludeSettingWidget,o.controlElement);s.domNode.classList.add(e.CONTROL_CLASS),o.toDispose.push(s)
;var a=n({},o,{excludeWidget:s});return this.addSettingElementFocusHandler(a),o.toDispose.push(s.onDidChangeExclude(function(e){if(a.context){var t=n({},a.context.scopeValue);e.originalPattern&&(e.originalPattern in a.context.defaultValue?t[e.originalPattern]=!1:delete t[e.originalPattern]),e.pattern&&(e.pattern in a.context.defaultValue&&!e.sibling?delete t[e.pattern]:t[e.pattern]=!e.sibling||{when:e.sibling});r._onDidChangeSetting.fire({key:a.context.setting.key,value:0===Object.keys(t).length?void 0:function(e){var t={};return Object.keys(e).map(function(t){return{key:t,val:e[t]}}).sort(function(e,t){return e.key.localeCompare(t.key)}).forEach(function(e){t[e.key]=e.val}),t}(t),type:a.context.valueType})}})),a},e.prototype.renderSettingComplexTemplate=function(e,t){var i=this.renderCommonTemplate(e,t,"complex"),r=new u.Button(i.controlElement,{title:!0,buttonBackground:null,buttonHoverBackground:null});i.toDispose.push(r),i.toDispose.push(r.onDidClick(function(){return o.onChange(null)})),
r.label=D.localize("editInSettingsJson","Edit in settings.json"),r.element.classList.add("edit-in-settings-button"),i.toDispose.push(F.attachButtonStyler(r,this.themeService,{buttonBackground:m.Color.transparent.toString(),buttonHoverBackground:m.Color.transparent.toString(),buttonForeground:"foreground"}));var o=n({},i,{button:r});return this.addSettingElementFocusHandler(o),o},e.prototype.renderNewExtensionsTemplate=function(e){var t=this,i=[];e.classList.add("setting-item-new-extensions");var n=new u.Button(e,{title:!0,buttonBackground:null,buttonHoverBackground:null});i.push(n),i.push(n.onDidClick(function(){r.context&&t.commandService.executeCommand("workbench.extensions.action.showExtensionsWithIds",r.context.extensionIds)})),n.label=D.localize("newExtensionsButtonLabel","Show matching extensions"),n.element.classList.add("settings-new-extensions-button"),i.push(F.attachButtonStyler(n,this.themeService));var r={button:n,toDispose:i};return r},e.prototype.renderElement=function(e,t,i,n){
return"settings.group.template"===i?this.renderGroupElement(t,n):"settings.newExtensions.template"===i?this.renderNewExtensionsElement(t,n):this.renderSettingElement(e,t,i,n)},e.prototype.renderGroupElement=function(e,t){t.parent.innerHTML="";var i=s.append(t.parent,Y("div.settings-group-title-label"));i.classList.add("settings-group-level-"+e.level),i.textContent=e.label,e.isFirstGroup&&i.classList.add("settings-group-first")},e.prototype.renderNewExtensionsElement=function(e,t){t.context=e},e.prototype.getSettingDOMElementForDOMElement=function(e){var t=s.findParentWithClass(e,"setting-item");return t||null},e.prototype.getDOMElementsForSettingKey=function(t,i){return t.querySelectorAll("["+e.SETTING_KEY_ATTR+'="'+i+'"]')},e.prototype.getKeyForDOMElementInSetting=function(t){var i=this.getSettingDOMElementForDOMElement(t);return i&&i.getAttribute(e.SETTING_KEY_ATTR)},e.prototype.renderSettingElement=function(t,i,n,r){r.context=i,r.toolbar.context=i;var o=i.setting
;s.toggleClass(r.containerElement,"is-configured",i.isConfigured),s.toggleClass(r.containerElement,"is-expanded",!0),r.containerElement.setAttribute(e.SETTING_KEY_ATTR,i.setting.key);var a=o.key+(i.isConfigured?" - Modified":"");if(r.categoryElement.textContent=i.displayCategory&&i.displayCategory+": ",r.categoryElement.title=a,r.labelElement.textContent=i.displayLabel,r.labelElement.title=a,this.renderValue(i,n,r),r.descriptionElement.innerHTML="",i.setting.descriptionIsMarkdown){var c=this.renderDescriptionMarkdown(i,i.description,r.toDispose);r.descriptionElement.appendChild(c)}else r.descriptionElement.innerText=i.description;var l=(i.displayCategory+"_"+i.displayLabel).replace(/ /g,"_").toLowerCase();if(r.descriptionElement.id=l+"_setting_description","settings.bool.template"===n&&r.descriptionElement.setAttribute("checkbox_label_target_id",l+"_setting_item"),i.overriddenScopeList.length){var u=i.isConfigured?D.localize("alsoConfiguredIn","Also modified in"):D.localize("configuredIn","Modified in")
;r.otherOverridesElement.textContent="("+u+": "+i.overriddenScopeList.join(", ")+")"}else r.otherOverridesElement.textContent="";r.containerElement.parentElement.removeAttribute("role"),r.containerElement.parentElement.removeAttribute("aria-level"),r.containerElement.parentElement.removeAttribute("aria-posinset"),r.containerElement.parentElement.removeAttribute("aria-setsize")},e.prototype.renderDescriptionMarkdown=function(e,t,i){var n=this;t=q(t);var r=a.renderMarkdown({value:t},{actionHandler:{callback:function(t){if(E.startsWith(t,"#")){var i={source:e,targetKey:t.substr(1)};n._onDidClickSettingLink.fire(i)}else{var r=void 0;try{r=w.URI.parse(t)}catch(e){}r&&n.openerService.open(r).catch(y.onUnexpectedError)}},disposeables:i}});return r.classList.add("setting-item-description-markdown"),j(r),r},e.prototype.renderValue=function(e,t,i){var n=this,r=function(t){return n._onDidChangeSetting.fire({key:e.setting.key,value:t,type:i.context.valueType})}
;i.deprecationWarningElement.innerText=e.setting.deprecationMessage||"","settings.enum.template"===t?this.renderEnum(e,i,r):"settings.text.template"===t?this.renderText(e,i,r):"settings.number.template"===t?this.renderNumber(e,i,r):"settings.bool.template"===t?this.renderBool(e,i,r):"settings.exclude.template"===t?this.renderExcludeSetting(e,i):"settings.complex.template"===t&&this.renderComplexSetting(e,i)},e.prototype.renderBool=function(e,t,i){t.onChange=null,t.checkbox.checked=e.value,t.onChange=i;var n=(e.displayCategory+"_"+e.displayLabel).replace(/ /g,"_").toLowerCase(),r=e.isConfigured?"Modified":"",o=e.displayCategory+" "+e.displayLabel+" "+r;t.checkbox.domNode.parentElement.id=n+"_setting_label",t.checkbox.domNode.parentElement.setAttribute("aria-label",o),t.checkbox.domNode.id=n+"_setting_item",t.checkbox.domNode.setAttribute("role","checkbox"),t.checkbox.domNode.setAttribute("aria-labelledby",n+"_setting_label"),t.checkbox.domNode.setAttribute("aria-describedby",n+"_setting_description")},
e.prototype.renderEnum=function(e,t,i){var n=e.setting.enum.map(String).map(Q);t.selectBox.setOptions(n);var r=e.setting.enumDescriptions,o=e.setting.enumDescriptionsAreMarkdown;t.selectBox.setDetailsProvider(function(e){return{details:r&&r[e]&&(o?q(r[e],!1):r[e]),isMarkdown:o}});var s=e.isConfigured?"Modified":"",a=e.displayCategory+" "+e.displayLabel+",. "+s,c=(e.displayCategory+"_"+e.displayLabel).replace(/ /g,"_").toLowerCase();t.selectBox.setAriaLabel(a);var l=e.setting.enum.indexOf(e.value);t.onChange=null,t.selectBox.select(l),t.onChange=function(t){return i(e.setting.enum[t])},t.controlElement.firstElementChild&&(t.controlElement.firstElementChild.setAttribute("role","combobox"),t.controlElement.firstElementChild.setAttribute("aria-describedby",c+"_setting_description settings_aria_more_actions_shortcut_label")),t.enumDescriptionElement.innerHTML=""},e.prototype.renderText=function(e,t,i){var n=e.isConfigured?"Modified":"",r=e.displayCategory+" "+e.displayLabel+",. "+n;t.onChange=null,
t.inputBox.value=e.value,t.onChange=function(n){U(e,t,!1,r),i(n)};var o=(e.displayCategory+"_"+e.displayLabel).replace(/ /g,"_").toLowerCase();t.inputBox.inputElement.parentElement.id=o+"_setting_label",t.inputBox.inputElement.parentElement.setAttribute("aria-label",r),t.inputBox.inputElement.id=o+"_setting_item",t.inputBox.inputElement.setAttribute("role","textbox"),t.inputBox.inputElement.setAttribute("aria-labelledby",o+"_setting_label"),t.inputBox.inputElement.setAttribute("aria-describedby",o+"_setting_description settings_aria_more_actions_shortcut_label"),U(e,t,!0,r)},e.prototype.renderNumber=function(e,t,i){var n=e.isConfigured?"Modified":"",r=e.displayCategory+" "+e.displayLabel+" number,. "+n,o="integer"===e.valueType||"nullable-integer"===e.valueType?parseInt:parseFloat,s="nullable-integer"===e.valueType||"nullable-number"===e.valueType?function(e){return""===e?null:o(e)}:o;t.onChange=null,t.inputBox.value=e.value,t.onChange=function(n){U(e,t,!1,r),i(s(n))}
;var a=(e.displayCategory+"_"+e.displayLabel).replace(/ /g,"_").toLowerCase();t.inputBox.inputElement.parentElement.id=a+"_setting_label",t.inputBox.inputElement.parentElement.setAttribute("aria-label",r),t.inputBox.inputElement.id=a+"_setting_item",t.inputBox.inputElement.setAttribute("role","textbox"),t.inputBox.inputElement.setAttribute("aria-labelledby",a+"_setting_label"),t.inputBox.inputElement.setAttribute("aria-describedby",a+"_setting_description settings_aria_more_actions_shortcut_label"),U(e,t,!0,r)},e.prototype.renderExcludeSetting=function(e,t){var i=G(e);t.excludeWidget.setValue(i),t.context=e},e.prototype.renderComplexSetting=function(e,t){var i=this;t.onChange=function(){return i._onDidOpenSettings.fire(e.setting.key)}},e.prototype.disposeTemplate=function(e,t,i){b.dispose(i.toDispose)},e.CONTROL_CLASS="setting-control-focus-target",e.CONTROL_SELECTOR="."+e.CONTROL_CLASS,e.SETTING_KEY_ATTR="data-key",
e=r([o(1,N.IThemeService),o(2,R.IContextViewService),o(3,P.IOpenerService),o(4,O.IInstantiationService),o(5,x.ICommandService),o(6,R.IContextMenuService),o(7,M.IKeybindingService)],e)}();t.SettingsRenderer=Z;var ee=function(){function e(e){this.viewState=e}return e.prototype.isVisible=function(e,t){var i=this;return!(this.viewState.filterToCategory&&t instanceof B.SettingsTreeSettingElement&&!this.settingContainedInGroup(t.setting,this.viewState.filterToCategory))&&(!(t instanceof B.SettingsTreeSettingElement&&1!==this.viewState.settingsTarget&&!t.matchesScope(this.viewState.settingsTarget))&&(!(t instanceof B.SettingsTreeSettingElement&&this.viewState.tagFilters&&!t.matchesAllTags(this.viewState.tagFilters))&&(t instanceof B.SettingsTreeGroupElement?"number"==typeof t.count?t.count>0:t.children.some(function(t){return i.isVisible(e,t)}):!(t instanceof B.SettingsTreeNewExtensionsElement&&(this.viewState.tagFilters&&this.viewState.tagFilters.size||this.viewState.filterToCategory)))))},
e.prototype.settingContainedInGroup=function(e,t){var i=this;return t.children.some(function(t){return t instanceof B.SettingsTreeGroupElement?i.settingContainedInGroup(e,t):t instanceof B.SettingsTreeSettingElement&&t.setting.key===e.key})},e}();t.SettingsTreeFilter=ee;var te=function(e){function t(t){return e.call(this,{},t)||this}return i(t,e),t.prototype.onLeftClick=function(e,t,i,n){return!("a"!==i.target.tagName.toLowerCase()&&"a"!==i.target.parentElement.tagName.toLowerCase()||!s.findParentWithClass(i.target,"setting-item-description-markdown",e.getHTMLElement())&&!s.findParentWithClass(i.target,"select-box-description-markdown"))},t=r([o(0,T.IConfigurationService)],t)}(k.WorkbenchTreeController);t.SettingsTreeController=te;var ie=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){
return t?t instanceof B.SettingsTreeSettingElement?D.localize("settingRowAriaLabel","{0} {1}, Setting",t.displayCategory,t.displayLabel):t instanceof B.SettingsTreeGroupElement?D.localize("groupRowAriaLabel","{0}, group",t.label):"":""},e}();t.SettingsAccessibilityProvider=ie;var ne=function(e){function t(t,i,r,o,a){var c=this,l=a.createInstance(te),u=n({controller:l,accessibilityProvider:a.createInstance(ie),filter:a.createInstance(ee,i),styler:new I.DefaultTreestyler(s.createStyleSheet(t),"settings-editor-tree")},r),d={ariaLabel:D.localize("treeAriaLabel","Settings"),showLoading:!1,indentPixels:0,twistiePixels:20};return c=e.call(this,t,u,d)||this,c.disposables=[],c.disposables.push(l),c.disposables.push(N.registerThemingParticipant(function(e,t){var i=e.getColor(L.focusBorder);i&&t.addRule(".settings-editor > .settings-body > .settings-toc-container .monaco-tree:focus .monaco-tree-row.focused {outline: solid 1px "+i+"; outline-offset: -1px;  }");var n=e.getColor(L.foreground);if(n){
var r=new m.Color(new m.RGBA(n.rgba.r,n.rgba.g,n.rgba.b,.9));t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description { color: "+r+"; }")}var o=e.getColor(L.errorForeground);o&&t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-deprecation-message { color: "+o+"; }");var s=e.getColor(L.inputValidationErrorBackground);s&&t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-validation-message { background-color: "+s+"; }");var a=e.getColor(L.inputValidationErrorForeground);a&&t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-validation-message { color: "+a+"; }");var c=e.getColor(L.inputValidationErrorBorder);c&&(t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-validation-message { border-style:solid; border-width: 1px; border-color: "+c+"; }"),
t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item.invalid-input .setting-item-control .monaco-inputbox.idle { outline-width: 0; border-style:solid; border-width: 1px; border-color: "+c+"; }"));var l=e.getColor(V.settingsHeaderForeground);l&&(t.addRule(".settings-editor > .settings-body > .settings-tree-container .settings-group-title-label { color: "+l+"; }"),t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item-label { color: "+l+"; }"));var u=e.getColor(L.focusBorder);u&&t.addRule(".settings-editor > .settings-body > .settings-tree-container .setting-item .setting-item-description-markdown a:focus { outline-color: "+u+" }")})),c.getHTMLElement().classList.add("settings-editor-tree"),c.disposables.push(F.attachStyler(o,{listActiveSelectionBackground:L.editorBackground,listActiveSelectionForeground:L.foreground,listFocusAndSelectionBackground:L.editorBackground,listFocusAndSelectionForeground:L.foreground,
listFocusBackground:L.editorBackground,listFocusForeground:L.foreground,listHoverForeground:L.foreground,listHoverBackground:L.editorBackground,listHoverOutline:L.editorBackground,listFocusOutline:L.editorBackground,listInactiveSelectionBackground:L.editorBackground,listInactiveSelectionForeground:L.foreground},function(e){c.style(e)})),c}return i(t,e),t.prototype.dispose=function(){this.disposables=b.dispose(this.disposables)},t=r([o(3,N.IThemeService),o(4,O.IInstantiationService)],t)}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.expand=function(){return C.TPromise.wrap(null)},t.prototype.collapse=function(){return C.TPromise.wrap(null)},t.prototype.setFocus=function(e,t){},t.prototype.focusNext=function(e,t){},t.prototype.focusPrevious=function(e,t){},t.prototype.focusParent=function(e){},t.prototype.focusFirstChild=function(e){},t.prototype.focusFirst=function(e,t){},t.prototype.focusNth=function(e,t){},t.prototype.focusLast=function(e,t){},
t.prototype.focusNextPage=function(e){},t.prototype.focusPreviousPage=function(e){},t.prototype.select=function(e,t){},t.prototype.selectRange=function(e,t,i){},t.prototype.selectAll=function(e,t){},t.prototype.setSelection=function(e,t){},t.prototype.toggleSelection=function(e,t){},t}(_.Tree));t.SettingsTree=ne;var re=function(e){function t(i){var n=e.call(this,t.ID,t.LABEL)||this;return n.clipboardService=i,n}return i(t,e),t.prototype.run=function(e){return e&&this.clipboardService.writeText(e.setting.key),C.TPromise.as(null)},t.ID="settings.copySettingId",t.LABEL=D.localize("copySettingIdLabel","Copy Setting ID"),t=r([o(0,A.IClipboardService)],t)}(f.Action),oe=function(e){function t(i){var n=e.call(this,t.ID,t.LABEL)||this;return n.clipboardService=i,n}return i(t,e),t.prototype.run=function(e){if(e){var t='"'+e.setting.key+'": '+JSON.stringify(e.value,void 0,"  ");this.clipboardService.writeText(t)}return C.TPromise.as(null)},t.ID="settings.copySettingAsJSON",
t.LABEL=D.localize("copySettingAsJSONLabel","Copy Setting as JSON"),t=r([o(0,A.IClipboardService)],t)}(f.Action)}),define(e[340],t([1,0,7,132,6,198,9,10,3,52,26,41,11,172,162,163]),function(e,t,s,a,c,l,u,d,p,h,g,f,v,m,y,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=s.$,E=function(){function e(e){this._viewState=e}return Object.defineProperty(e.prototype,"settingsTreeRoot",{get:function(){return this._settingsTreeRoot},set:function(e){this._settingsTreeRoot=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSearchModel",{set:function(e){this._currentSearchModel=e,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._settingsTreeRoot.children},enumerable:!0,configurable:!0}),e.prototype.update=function(){this._settingsTreeRoot&&this.updateGroupCount(this._settingsTreeRoot)},e.prototype.updateGroupCount=function(e){var t=this;e.children.forEach(function(e){
e instanceof y.SettingsTreeGroupElement&&t.updateGroupCount(e)});var i=e.children.filter(function(e){return e instanceof y.SettingsTreeGroupElement}).reduce(function(e,t){return e+t.count},0);e.count=i+this.getGroupCount(e)},e.prototype.getGroupCount=function(e){var t=this;return e.children.filter(function(e){return e instanceof y.SettingsTreeSettingElement&&(!(t._currentSearchModel&&!t._currentSearchModel.root.containsSetting(e.setting.key))&&(e.matchesScope(t._viewState.settingsTarget)&&e.matchesAllTags(t._viewState.tagFilters)))}).length},e}();t.TOCTreeModel=E;var w=function(){function e(e){this._treeFilter=e}return e.prototype.getId=function(e,t){return t.id},e.prototype.hasChildren=function(e,t){var i=this;return t instanceof E||t instanceof y.SettingsTreeGroupElement&&(t.children&&t.children.some(function(t){return t instanceof y.SettingsTreeGroupElement&&i._treeFilter.isVisible(e,t)}))},e.prototype.getChildren=function(e,t){return c.TPromise.as(this._getChildren(t))},
e.prototype._getChildren=function(e){return e.children.filter(function(e){return e instanceof y.SettingsTreeGroupElement})},e.prototype.getParent=function(e,t){return c.TPromise.wrap(t instanceof y.SettingsTreeGroupElement&&t.parent)},e}();t.TOCDataSource=w;var C=function(){function e(){}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(e,t){return"settings.toc.entry"},e.prototype.renderTemplate=function(e,t,i){return{labelElement:s.append(i,b(".settings-toc-entry")),countElement:s.append(i,b(".settings-toc-count"))}},e.prototype.renderElement=function(e,t,i,n){var r=t.count,o=t.label;s.toggleClass(n.labelElement,"no-results",0===r),n.labelElement.textContent=o,n.countElement.textContent=r?" ("+r+")":""},e.prototype.disposeTemplate=function(e,t,i){},e}();t.TOCRenderer=C;var I=function(e){function t(t,i,r,o,c,u,d,p){var v=this,y=d.createInstance(m.SettingsTreeFilter,i),b=n({controller:d.createInstance(h.WorkbenchTreeController,{}),filter:y,
styler:new l.DefaultTreestyler(s.createStyleSheet(t),"settings-toc-tree"),dataSource:d.createInstance(w,y),accessibilityProvider:d.createInstance(m.SettingsAccessibilityProvider)},r),E={showLoading:!1,twistiePixels:15,horizontalScrollMode:a.ScrollbarVisibility.Hidden};return(v=e.call(this,t,b,E,o,c,u,d,p)||this).getHTMLElement().classList.add("settings-toc-tree"),v.disposables.push(f.attachStyler(u,{listActiveSelectionBackground:g.editorBackground,listActiveSelectionForeground:S.settingsHeaderForeground,listFocusAndSelectionBackground:g.editorBackground,listFocusAndSelectionForeground:S.settingsHeaderForeground,listFocusBackground:g.editorBackground,listFocusForeground:S.settingsHeaderForeground,listHoverForeground:S.settingsHeaderForeground,listHoverBackground:g.editorBackground,listInactiveSelectionBackground:g.editorBackground,listInactiveSelectionForeground:S.settingsHeaderForeground},function(e){v.style(e)})),v}return i(t,e),
t=r([o(3,d.IContextKeyService),o(4,h.IListService),o(5,v.IThemeService),o(6,p.IInstantiationService),o(7,u.IConfigurationService)],t)}(h.WorkbenchTree);t.TOCTree=I}),define(e[341],t([1,0,37,43,13,6,238,8,64,61,4,12,22,47,21,9,20,35]),function(e,t,i,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=l.Registry.as(c.Extensions.JSONContribution),E=function(){function e(e,t,i,n,r,o,s,a){var c=this;this.modelService=e,this.textModelResolverService=t,this.preferencesService=i,this.modeService=n,this.editorService=r,this.environmentService=o,this.workspaceService=s,this.configurationService=a,this.settingsListener=this.configurationService.onDidChangeConfiguration(function(e){e.affectsConfiguration(d.DEFAULT_SETTINGS_EDITOR_SETTING)&&c.handleSettingsEditorOverride()}),this.handleSettingsEditorOverride(),this.start()}return e.prototype.handleSettingsEditorOverride=function(){var e=this;this.editorOpeningListener=p.dispose(this.editorOpeningListener),
this.configurationService.getValue(d.DEFAULT_SETTINGS_EDITOR_SETTING)&&(this.editorOpeningListener=this.editorService.overrideOpenEditor(function(t,i,n){return e.onEditorOpening(t,i,n)}))},e.prototype.onEditorOpening=function(e,t,i){var n=e.getResource();if(n&&g.endsWith(n.path,"settings.json")&&this.configurationService.getValue(d.DEFAULT_SETTINGS_EDITOR_SETTING)&&!i.isOpened(e)){if(S.isEqual(n,s.URI.file(this.environmentService.appSettingsPath),!y.isLinux))return{override:this.preferencesService.openGlobalSettings(!0,t,i)};var r=this.workspaceService.getWorkbenchState();if(2===r){o=this.workspaceService.getWorkspace().folders;if(S.isEqual(n,o[0].toResource(d.FOLDER_SETTINGS_PATH)))return{override:this.preferencesService.openWorkspaceSettings(!0,t,i)}}else if(3===r)for(var o=this.workspaceService.getWorkspace().folders,a=0;a<o.length;a++)if(S.isEqual(n,o[a].toResource(d.FOLDER_SETTINGS_PATH)))return{override:this.preferencesService.openFolderSettings(o[a].uri,!0,t,i)}}},e.prototype.start=function(){
var e=this;this.textModelResolverService.registerTextModelContentProvider("vscode",{provideTextContent:function(t){if("vscode"!==t.scheme)return null;if("schemas"===t.authority){var i=e.getSchemaModel(t);if(i)return a.TPromise.as(i)}return e.preferencesService.resolveModel(t)}})},e.prototype.getSchemaModel=function(e){var t=b.getSchemaContributions().schemas[e.toString()];if(t){var i=JSON.stringify(t),n=this.modeService.getOrCreateMode("jsonc"),r=this.modelService.createModel(i,n,e),o=[];return o.push(b.onDidChangeSchema(function(i){i===e.toString()&&(t=b.getSchemaContributions().schemas[e.toString()],r.setValue(JSON.stringify(t)))})),o.push(r.onWillDispose(function(){return p.dispose(o)})),r}return null},e.prototype.dispose=function(){this.editorOpeningListener=p.dispose(this.editorOpeningListener),this.settingsListener=p.dispose(this.settingsListener)},
e=r([o(0,i.IModelService),o(1,u.ITextModelService),o(2,d.IPreferencesService),o(3,n.IModeService),o(4,h.IEditorService),o(5,f.IEnvironmentService),o(6,v.IWorkspaceContextService),o(7,m.IConfigurationService)],e)}();t.PreferencesContribution=E}),define(e[200],t([1,0,20,13,6,64,2,3,15,102,103,194,61]),function(e,t,n,s,a,c,l,u,d,p,h,g,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.getTitle=function(e){return this.master.getTitle(e)},t.ID="workbench.editorinputs.preferencesEditorInput",t}(d.SideBySideEditorInput);t.PreferencesEditorInput=v;var m=function(e){function t(t,i,n){return e.call(this,l.localize("settingsEditorName","Default Settings"),"",t,i,n)||this}return i(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.matches=function(i){return i instanceof t||!!e.prototype.matches.call(this,i)},
t.ID="workbench.editorinputs.defaultpreferences",t=r([o(1,c.ITextModelService),o(2,h.IHashService)],t)}(p.ResourceEditorInput);t.DefaultPreferencesEditorInput=m;var y=function(e){function t(t){var i=e.call(this)||this;return i.keybindingsModel=t.createInstance(g.KeybindingsEditorModel,n.OS),i}return i(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return l.localize("keybindingsInputName","Keyboard Shortcuts")},t.prototype.resolve=function(){return a.TPromise.as(this.keybindingsModel)},t.prototype.matches=function(e){return e instanceof t},t.ID="workbench.input.keybindings",t=r([o(0,u.IInstantiationService)],t)}(d.EditorInput);t.KeybindingsEditorInput=y;var S=function(e){function t(t){var i=e.call(this)||this;return i._settingsModel=t.createSettings2EditorModel(),i}return i(t,e),t.prototype.matches=function(e){return e instanceof t},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return l.localize("settingsEditor2InputName","Settings")},
t.prototype.resolve=function(){return a.TPromise.as(this._settingsModel)},t.prototype.getResource=function(){return s.URI.from({scheme:"vscode-settings",path:"settingseditor"})},t.ID="workbench.input.settings2",t=r([o(0,f.IPreferencesService)],t)}(d.EditorInput);t.SettingsEditor2Input=S}),define(e[153],t([1,0,19,5,78,4,39,40,50,108,2,9,93,32,8,15]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y){"use strict";function S(e,t){function i(t,i,a){if(Array.isArray(s)?s.push(t):o&&(s[o]=t),c.length===l+1||c.length===l+2&&null!==r){var d=c.length===l+1?n[n.length-1]:r.overrides[r.overrides.length-1];if(d){var p=e.getPositionAt(i),h=e.getPositionAt(i+a);d.value=t,d.valueRange={startLineNumber:p.lineNumber,startColumn:p.column,endLineNumber:h.lineNumber,endColumn:h.column},d.range=u.assign(d.range,{endLineNumber:h.lineNumber,endColumn:h.column})}}}var n=[],r=null,o=null,s=[],c=[],l=-1,d={startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0},p={onObjectBegin:function(n,r){if(t(o,c)){l=c.length;var a=e.getPositionAt(n)
;d.startLineNumber=a.lineNumber,d.startColumn=a.column}var u={};i(u,n,r),s=u,o=null,c.push(s)},onObjectProperty:function(t,i,s){if(o=t,c.length===l+1||c.length===l+2&&null!==r){var a=e.getPositionAt(i),u={description:[],descriptionIsMarkdown:!1,key:t,keyRange:{startLineNumber:a.lineNumber,startColumn:a.column+1,endLineNumber:a.lineNumber,endColumn:a.column+s},range:{startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:0,endColumn:0},value:null,valueRange:null,descriptionRanges:null,overrides:[],overrideOf:r};c.length===l+1?(n.push(u),f.OVERRIDE_PROPERTY_PATTERN.test(t)&&(r=u)):r.overrides.push(u)}},onObjectEnd:function(t,i){if(s=c.pop(),c.length===l+1||c.length===l+2&&null!==r){var o=c.length===l+1?n[n.length-1]:r.overrides[r.overrides.length-1];if(o){var a=e.getPositionAt(t+i);o.valueRange=u.assign(o.valueRange,{endLineNumber:a.lineNumber,endColumn:a.column}),o.range=u.assign(o.range,{endLineNumber:a.lineNumber,endColumn:a.column})}c.length===l+1&&(r=null)}if(c.length===l){var p=e.getPositionAt(t)
;d.endLineNumber=p.lineNumber,d.endColumn=p.column}},onArrayBegin:function(e,t){var n=[];i(n,e,t),c.push(s),s=n,o=null},onArrayEnd:function(t,i){if(s=c.pop(),c.length===l+1||c.length===l+2&&null!==r){var o=c.length===l+1?n[n.length-1]:r.overrides[r.overrides.length-1];if(o){var a=e.getPositionAt(t+i);o.valueRange=u.assign(o.valueRange,{endLineNumber:a.lineNumber,endColumn:a.column}),o.range=u.assign(o.range,{endLineNumber:a.lineNumber,endColumn:a.column})}}},onLiteralValue:i,onError:function(e){var t=n[n.length-1];!t||t.range&&t.keyRange&&t.valueRange||n.pop()}};return e.isDisposed()||a.visit(e.getValue(),p),n.length>0?[{sections:[{settings:n}],title:null,titleRange:null,range:d}]:[]}function b(e){return function(t){var i,n;i="boolean"==typeof e.exclusiveMaximum?e.exclusiveMaximum?e.maximum:void 0:e.exclusiveMaximum,n="boolean"==typeof e.exclusiveMinimum?e.exclusiveMinimum?e.minimum:void 0:e.exclusiveMinimum;var r;"string"==typeof e.pattern&&(r=new RegExp(e.pattern))
;var o=Array.isArray(e.type)?e.type:[e.type],s=function(e){return o.indexOf(e)>-1},a=s("null"),c=(s("number")||s("integer"))&&(1===o.length||2===o.length&&a),l=s("integer")&&(1===o.length||2===o.length&&a),u=c?[{enabled:void 0!==i&&(void 0===e.maximum||i<=e.maximum),isValid:function(e){return e<i},message:h.localize("validations.exclusiveMax","Value must be strictly less than {0}.",i)},{enabled:void 0!==n&&(void 0===e.minimum||n>=e.minimum),isValid:function(e){return e>n},message:h.localize("validations.exclusiveMin","Value must be strictly greater than {0}.",n)},{enabled:void 0!==e.maximum&&(void 0===i||i>e.maximum),isValid:function(t){return t<=e.maximum},message:h.localize("validations.max","Value must be less than or equal to {0}.",e.maximum)},{enabled:void 0!==e.minimum&&(void 0===n||n<e.minimum),isValid:function(t){return t>=e.minimum},message:h.localize("validations.min","Value must be greater than or equal to {0}.",e.minimum)},{enabled:void 0!==e.multipleOf,isValid:function(t){return t%e.multipleOf==0
},message:h.localize("validations.multipleOf","Value must be a multiple of {0}.",e.multipleOf)},{enabled:l,isValid:function(e){return e%1==0},message:h.localize("validations.expectedInteger","Value must be an integer.")}].filter(function(e){return e.enabled}):[],d=[{enabled:void 0!==e.maxLength,isValid:function(t){return t.length<=e.maxLength},message:h.localize("validations.maxLength","Value must be fewer than {0} characters long.",e.maxLength)},{enabled:void 0!==e.minLength,isValid:function(t){return t.length>=e.minLength},message:h.localize("validations.minLength","Value must be more than {0} characters long.",e.minLength)},{enabled:void 0!==r,isValid:function(e){return r.test(e)},message:e.patternErrorMessage||h.localize("validations.regex","Value must match regex `{0}`.",e.pattern)}].filter(function(e){return e.enabled});if("string"===e.type&&0===d.length)return null;if(a&&""===t)return"";var p=[]
;return c&&(""===t||isNaN(+t)?p.push(h.localize("validations.expectedNumeric","Value must be a number.")):p.push.apply(p,u.filter(function(e){return!e.isValid(+t)}).map(function(e){return e.message}))),"string"===e.type&&p.push.apply(p,d.filter(function(e){return!e.isValid(""+t)}).map(function(e){return e.message})),p.length?e.errorMessage?[e.errorMessage].concat(p).join(" "):p.join(" "):""}}function E(e){return"// "+h.localize("defaultKeybindingsHeader","Overwrite key bindings by placing them into your key bindings file.")+"\n"+e.getDefaultKeybindingsContent()}Object.defineProperty(t,"__esModule",{value:!0});var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentResultGroups=new Map,t}return i(t,e),t.prototype.updateResultGroup=function(e,t){return t?this._currentResultGroups.set(e,t):this._currentResultGroups.delete(e),this.removeDuplicateResults(),this.update()},t.prototype.removeDuplicateResults=function(){var e=this,t=new Set
;l.keys(this._currentResultGroups).sort(function(t,i){return e._currentResultGroups.get(t).order-e._currentResultGroups.get(i).order}).forEach(function(i){var n=e._currentResultGroups.get(i);n.result.filterMatches=n.result.filterMatches.filter(function(e){return!t.has(e.setting.key)}),n.result.filterMatches.forEach(function(e){return t.add(e.setting.key)})})},t.prototype.filterSettings=function(e,t,i){for(var n=[],r=0,o=this.filterGroups;r<o.length;r++)for(var s=o[r],a=t(s),c=0,l=s.sections;c<l.length;c++)for(var u=0,d=l[c].settings;u<d.length;u++){var p=d[u],h=i(p,s);(a||h)&&n.push({setting:p,matches:h&&h.matches,score:h?h.score:0})}return n.sort(function(e,t){return t.score-e.score})},t.prototype.getPreference=function(e){for(var t=0,i=this.settingsGroups;t<i.length;t++)for(var n=0,r=i[t].sections;n<r.length;n++)for(var o=0,s=r[n].settings;o<s.length;o++){var a=s[o];if(e===a.key)return a}return null},t.prototype.collectMetadata=function(e){var t=Object.create(null),i=!1;return e.forEach(function(e){
e.result.metadata&&(t[e.id]=e.result.metadata,i=!0)}),i?t:null},Object.defineProperty(t.prototype,"filterGroups",{get:function(){return this.settingsGroups},enumerable:!0,configurable:!0}),t}(y.EditorModel);t.AbstractSettingsModel=w;var C=function(e){function t(t,i){var n=e.call(this)||this;return n._configurationTarget=i,n._onDidChangeGroups=n._register(new s.Emitter),n.onDidChangeGroups=n._onDidChangeGroups.event,n.settingsModel=t.object.textEditorModel,n._register(n.onDispose(function(){return t.dispose()})),n._register(n.settingsModel.onDidChangeContent(function(){n._settingsGroups=null,n._onDidChangeGroups.fire()})),n}return i(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this.settingsModel.uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"configurationTarget",{get:function(){return this._configurationTarget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsGroups",{get:function(){return this._settingsGroups||this.parse(),
this._settingsGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.settingsModel.getValue()},enumerable:!0,configurable:!0}),t.prototype.findValueMatches=function(e,t){return this.settingsModel.findMatches(e,t.valueRange,!1,!1,null,!1).map(function(e){return e.range})},t.prototype.isSettingsProperty=function(e,t){return 0===t.length},t.prototype.parse=function(){var e=this;this._settingsGroups=S(this.settingsModel,function(t,i){return e.isSettingsProperty(t,i)})},t.prototype.update=function(){var e=l.values(this._currentResultGroups);if(!e.length)return null;var t=[],i=[];e.forEach(function(e){e.result.filterMatches.forEach(function(e){t.push(e.setting),i.push.apply(i,e.matches)})});var n,r=this.settingsGroups[0];r&&(n={id:r.id,range:r.range,sections:[{settings:t}],title:r.title,titleRange:r.titleRange,contributedByExtension:!!r.contributedByExtension});var o=this.collectMetadata(e);return{allGroups:this.settingsGroups,filteredGroups:n?[n]:[],
matches:i,metadata:o}},t}(w);t.SettingsEditorModel=C;var I=function(e){function t(t,i){var n=e.call(this)||this;return n._defaultSettings=t,n._onDidChangeGroups=n._register(new s.Emitter),n.onDidChangeGroups=n._onDidChangeGroups.event,n.dirty=!1,i.onDidChangeConfiguration(function(e){4===e.source&&(n.dirty=!0,n._onDidChangeGroups.fire())}),n}return i(t,e),Object.defineProperty(t.prototype,"filterGroups",{get:function(){return this.settingsGroups.slice(1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsGroups",{get:function(){var e=this._defaultSettings.getSettingsGroups(this.dirty);return this.dirty=!1,e},enumerable:!0,configurable:!0}),t.prototype.findValueMatches=function(e,t){return[]},t.prototype.update=function(){throw new Error("Not supported")},t=r([o(1,g.IConfigurationService)],t)}(w);t.Settings2EditorModel=I;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"configurationGroups",{get:function(){
return this._configurationGroups},enumerable:!0,configurable:!0}),t.prototype.parse=function(){e.prototype.parse.call(this),this._configurationGroups=S(this.settingsModel,function(e,t){return 0===t.length})},t.prototype.isSettingsProperty=function(e,t){return"settings"===e&&1===t.length},t}(C);t.WorkspaceConfigurationEditorModel=_;var D=function(e){function t(t,i){var n=e.call(this)||this;return n._mostCommonlyUsedSettingsKeys=t,n.target=i,n._onDidChange=n._register(new s.Emitter),n.onDidChange=n._onDidChange.event,n}return i(t,e),t.prototype.getContent=function(e){return void 0===e&&(e=!1),this._content&&!e||(this._content=this.toContent(!0,this.getSettingsGroups(e))),this._content},t.prototype.getSettingsGroups=function(e){return void 0===e&&(e=!1),this._allSettingsGroups&&!e||(this._allSettingsGroups=this.parse()),this._allSettingsGroups},t.prototype.parse=function(){var e=this.getRegisteredGroups();this.initAllSettingsMap(e);return[this.getMostCommonlyUsedSettings(e)].concat(e)},
Object.defineProperty(t.prototype,"raw",{get:function(){return t._RAW||(t._RAW=this.toContent(!1,this.getRegisteredGroups())),t._RAW},enumerable:!0,configurable:!0}),t.prototype.getRegisteredGroups=function(){var e=this,t=m.Registry.as(f.Extensions.Configuration).getConfigurations().slice(),i=this.removeEmptySettingsGroups(t.sort(this.compareConfigurationNodes).reduce(function(t,i,n,r){return e.parseConfig(i,t,r)},[]));return this.sortGroups(i)},t.prototype.sortGroups=function(e){return e.forEach(function(e){e.sections.forEach(function(e){e.settings.sort(function(e,t){return e.key.localeCompare(t.key)})})}),e},t.prototype.initAllSettingsMap=function(e){this._settingsByName=new Map;for(var t=0,i=e;t<i.length;t++)for(var n=0,r=i[t].sections;n<r.length;n++)for(var o=0,s=r[n].settings;o<s.length;o++){var a=s[o];this._settingsByName.set(a.key,a)}},t.prototype.getMostCommonlyUsedSettings=function(e){var t=this,i=this._mostCommonlyUsedSettingsKeys.map(function(e){var i=t._settingsByName.get(e);return i?{
description:i.description,key:i.key,value:i.value,range:null,valueRange:null,overrides:[],scope:3,type:i.type,enum:i.enum,enumDescriptions:i.enumDescriptions}:null}).filter(function(e){return!!e});return{id:"mostCommonlyUsed",range:null,title:h.localize("commonlyUsed","Commonly Used"),titleRange:null,sections:[{settings:i}]}},t.prototype.parseConfig=function(e,t,i,r,o){var s=this;o=o||{};var a=e.title;if(!a){var c=n.find(i,function(t){return t.id===e.id&&t.title});c&&(a=c.title)}if(a&&(r?r.sections[r.sections.length-1].title=a:(r=n.find(t,function(e){return e.title===a}))||(r={sections:[{settings:[]}],id:e.id,title:a,titleRange:null,range:null,contributedByExtension:!!e.contributedByExtension},t.push(r))),e.properties){r||(r={sections:[{settings:[]}],id:e.id,title:e.id,titleRange:null,range:null,contributedByExtension:!!e.contributedByExtension},t.push(r));for(var l=[],u=0,d=r.sections[r.sections.length-1].settings.concat(this.parseSettings(e.properties));u<d.length;u++){var p=d[u];o[p.key]||(l.push(p),
o[p.key]=!0)}l.length&&(r.sections[r.sections.length-1].settings=l)}return e.allOf&&e.allOf.forEach(function(e){return s.parseConfig(e,t,i,r,o)}),t},t.prototype.removeEmptySettingsGroups=function(e){for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i];r.sections=r.sections.filter(function(e){return e.settings.length>0}),r.sections.length&&t.push(r)}return t},t.prototype.parseSettings=function(e){var t=[];for(var i in e){var n=e[i];if(this.matchesScope(n)){var r=n.default,o=(n.description||n.markdownDescription||"").split("\n"),s=f.OVERRIDE_PROPERTY_PATTERN.test(i)?this.parseOverrideSettings(n.default):[];t.push({key:i,value:r,description:o,descriptionIsMarkdown:!n.description,range:null,keyRange:null,valueRange:null,descriptionRanges:[],overrides:s,scope:n.scope,type:n.type,enum:n.enum,enumDescriptions:n.enumDescriptions||n.markdownEnumDescriptions,enumDescriptionsAreMarkdown:!n.enumDescriptions,tags:n.tags,deprecationMessage:n.deprecationMessage,validator:b(n)})}}return t},
t.prototype.parseOverrideSettings=function(e){return Object.keys(e).map(function(t){return{key:t,value:e[t],description:[],descriptionIsMarkdown:!1,range:null,keyRange:null,valueRange:null,descriptionRanges:[],overrides:[]}})},t.prototype.matchesScope=function(e){return 3===this.target?3===e.scope:2!==this.target||(2===e.scope||3===e.scope)},t.prototype.compareConfigurationNodes=function(e,t){if("number"!=typeof e.order)return 1;if("number"!=typeof t.order)return-1;if(e.order===t.order){var i=e.title||"",n=t.title||"";return i.localeCompare(n)}return e.order-t.order},t.prototype.toContent=function(e,t){var i=new x;return e&&i.pushLine("["),t.forEach(function(e,t){i.pushGroup(e),i.pushLine(",")}),e&&i.pushLine("]"),i.getContent()},t}(c.Disposable);t.DefaultSettings=D;var A=function(e){function t(t,i,n){var r=e.call(this)||this;return r._uri=t,r.defaultSettings=n,r._onDidChangeGroups=r._register(new s.Emitter),r.onDidChangeGroups=r._onDidChangeGroups.event,r._register(n.onDidChange(function(){
return r._onDidChangeGroups.fire()})),r._model=i.object.textEditorModel,r._register(r.onDispose(function(){return i.dispose()})),r}return i(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this.defaultSettings.target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsGroups",{get:function(){return this.defaultSettings.getSettingsGroups()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterGroups",{get:function(){return this.settingsGroups.slice(1)},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=l.values(this._currentResultGroups).sort(function(e,t){return e.order-t.order}),t=e.filter(function(e){return e.result.filterMatches.length}),i=n.tail(this.settingsGroups).range.endLineNumber+2,r=this.writeResultGroups(t,i),o=r.settingsGroups,s=r.matches,a=this.collectMetadata(e);return e.length?{allGroups:this.settingsGroups,
filteredGroups:o,matches:s,metadata:a}:null},t.prototype.writeResultGroups=function(e,t){var i=this,n=new x(t-1),r=[],o=[];n.pushLine(","),e.forEach(function(e){var t=i.getGroup(e);r.push(t),o.push.apply(o,i.writeSettingsGroupToBuilder(n,t,e.result.filterMatches))});var s=n.getContent()+"\n",a=this._model.getLineCount(),c=new p.Selection(t,1,t,1),l={text:s,forceMoveMarkers:!0,range:new d.Range(t,1,a,1),identifier:{major:1,minor:0}};this._model.pushEditOperations([c],[l],function(){return[c]});var u=Math.min(t+60,this._model.getLineCount());return this._model.forceTokenization(u),{matches:o,settingsGroups:r}},t.prototype.writeSettingsGroupToBuilder=function(e,t,i){i=i.map(function(e){return{setting:e.setting,score:e.score,matches:e.matches&&e.matches.map(function(t){return new d.Range(t.startLineNumber-e.setting.range.startLineNumber,t.startColumn,t.endLineNumber-e.setting.range.startLineNumber,t.endColumn)})}}),e.pushGroup(t),e.pushLine(",");return n.flatten(i.map(function(e){return e.matches||[]
}).map(function(e,i){var n=t.sections[0].settings[i];return e.map(function(e){return new d.Range(e.startLineNumber+n.range.startLineNumber,e.startColumn,e.endLineNumber+n.range.startLineNumber,e.endColumn)})}))},t.prototype.copySetting=function(e){return{description:e.description,scope:e.scope,type:e.type,enum:e.enum,enumDescriptions:e.enumDescriptions,key:e.key,value:e.value,range:e.range,overrides:[],overrideOf:e.overrideOf,tags:e.tags,deprecationMessage:e.deprecationMessage,keyRange:void 0,valueRange:void 0,descriptionIsMarkdown:void 0,descriptionRanges:void 0}},t.prototype.findValueMatches=function(e,t){return[]},t.prototype.getPreference=function(e){for(var t=0,i=this.settingsGroups;t<i.length;t++)for(var n=0,r=i[t].sections;n<r.length;n++)for(var o=0,s=r[n].settings;o<s.length;o++){var a=s[o];if(a.key===e)return a}return null},t.prototype.getGroup=function(e){var t=this;return{id:e.id,range:null,title:e.label,titleRange:null,sections:[{settings:e.result.filterMatches.map(function(e){
return t.copySetting(e.setting)})}]}},t}(w);t.DefaultSettingsEditorModel=A;var x=function(){function e(e){void 0===e&&(e=0),this._rangeOffset=e,this._contentByLines=[]}return Object.defineProperty(e.prototype,"lineCountWithOffset",{get:function(){return this._contentByLines.length+this._rangeOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastLine",{get:function(){return this._contentByLines[this._contentByLines.length-1]||""},enumerable:!0,configurable:!0}),e.prototype.offsetIndexToIndex=function(e){return e-this._rangeOffset},e.prototype.pushLine=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i;(i=this._contentByLines).push.apply(i,e)},e.prototype.pushGroup=function(e){this._contentByLines.push("{"),this._contentByLines.push(""),this._contentByLines.push("");var t=this._pushGroup(e);if(t){var i=this.offsetIndexToIndex(t.range.endLineNumber),n=this._contentByLines[i-2];this._contentByLines[i-2]=n.substring(0,n.length-1)}this._contentByLines.push("}")},
e.prototype._pushGroup=function(e){for(var t=null,i=this.lineCountWithOffset+1,n=0,r=e.sections;n<r.length;n++){var o=r[n];if(o.title){var s=this.lineCountWithOffset+1;this.addDescription([o.title],"  ",this._contentByLines),o.titleRange={startLineNumber:s,startColumn:1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length}}if(o.settings.length)for(var a=0,c=o.settings;a<c.length;a++){var l=c[a];this.pushSetting(l,"  "),t=l}}return e.range={startLineNumber:i,startColumn:1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length},t},e.prototype.getContent=function(){return this._contentByLines.join("\n")},e.prototype.pushSetting=function(e,t){var i=this.lineCountWithOffset+1;this.pushSettingDescription(e,t);var n=t;n+=JSON.stringify(e.key),e.keyRange={startLineNumber:this.lineCountWithOffset+1,startColumn:n.indexOf(e.key)+1,endLineNumber:this.lineCountWithOffset+1,endColumn:e.key.length},n+=": ";var r=this.lineCountWithOffset+1;this.pushValue(e,n,t),e.valueRange={startLineNumber:r,
startColumn:n.length+1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length+1},this._contentByLines[this._contentByLines.length-1]+=",",this._contentByLines.push(""),e.range={startLineNumber:i,startColumn:1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length}},e.prototype.pushSettingDescription=function(e,t){var i=this,n=function(e){return e.replace(/`#(.*)#`/g,function(e,t){return"`"+t+"`"})};e.descriptionRanges=[];for(var r=t+"// ",o=0,s=e.deprecationMessage?[e.deprecationMessage].concat(e.description):e.description;o<s.length;o++){var a=s[o];a=n(a),this._contentByLines.push(r+a),e.descriptionRanges.push({startLineNumber:this.lineCountWithOffset,startColumn:this.lastLine.indexOf(a)+1,endLineNumber:this.lineCountWithOffset,endColumn:this.lastLine.length})}e.enumDescriptions&&e.enumDescriptions.some(function(e){return!!e})&&e.enumDescriptions.forEach(function(t,r){var o=function(e){return e&&e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(String(e.enum[r])),s=t?o+": "+n(t):o
;i._contentByLines.push("  //  - "+s),e.descriptionRanges.push({startLineNumber:i.lineCountWithOffset,startColumn:i.lastLine.indexOf(s)+1,endLineNumber:i.lineCountWithOffset,endColumn:i.lastLine.length})})},e.prototype.pushValue=function(e,t,i){var n=JSON.stringify(e.value,null,i);if(n&&"object"==typeof e.value)if(e.overrides.length){this._contentByLines.push(t+" {");for(var r=0,o=e.overrides;r<o.length;r++){var s=o[r];this.pushSetting(s,i+i),this._contentByLines.pop()}var a=e.overrides[e.overrides.length-1],c=this._contentByLines[a.range.endLineNumber-2];this._contentByLines[a.range.endLineNumber-2]=c.substring(0,c.length-1),this._contentByLines.push(i+"}")}else{var l=n.split("\n");this._contentByLines.push(t+l[0]);for(var u=1;u<l.length;u++)this._contentByLines.push(i+l[u])}else this._contentByLines.push(t+n)},e.prototype.addDescription=function(e,t,i){for(var n=0,r=e;n<r.length;n++){var o=r[n];i.push(t+"// "+o)}},e}();t.createValidator=b,t.defaultKeybindingsContents=E;var T=function(){function e(e,t){
this._uri=e,this.keybindingService=t}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content||(this._content=E(this.keybindingService)),this._content},enumerable:!0,configurable:!0}),e.prototype.getPreference=function(){return null},e.prototype.dispose=function(){},e=r([o(1,v.IKeybindingService)],e)}();t.DefaultKeybindingsEditorModel=T}),define(e[344],t([1,0,282,7,17,5,4,6,51,151,50,71,76,2,9,93,33,3,8,31,21,276,144,61,153]),function(e,t,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var T=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.editor=t,s.preferencesModel=i,s.preferencesService=n,s.configurationService=r,s.instantiationService=o,s.modelChangeDelayer=new c.Delayer(200),s._onFocusPreference=new l.Emitter,s.onFocusPreference=s._onFocusPreference.event,
s._onClearFocusPreference=new l.Emitter,s.onClearFocusPreference=s._onClearFocusPreference.event,s._onUpdatePreference=new l.Emitter,s.onUpdatePreference=s._onUpdatePreference.event,s.settingHighlighter=s._register(o.createInstance(W,t,s._onFocusPreference,s._onClearFocusPreference)),s.highlightMatchesRenderer=s._register(o.createInstance(B,t)),s.editSettingActionRenderer=s._register(s.instantiationService.createInstance(V,s.editor,s.preferencesModel,s.settingHighlighter)),s._register(s.editSettingActionRenderer.onUpdateSetting(function(e){var t=e.key,i=e.value,n=e.source;return s._updatePreference(t,i,n)})),s._register(s.editor.getModel().onDidChangeContent(function(){return s.modelChangeDelayer.trigger(function(){return s.onModelChanged()})})),s}return i(t,e),t.prototype.getAssociatedPreferencesModel=function(){return this.associatedPreferencesModel},t.prototype.setAssociatedPreferencesModel=function(e){this.associatedPreferencesModel=e,this.editSettingActionRenderer.associatedPreferencesModel=e,
this.createHeader()},t.prototype.createHeader=function(){this._register(new D.SettingsHeaderWidget(this.editor,"")).setMessage(m.localize("emptyUserSettingsHeader","Place your settings here to overwrite the Default Settings."))},t.prototype.render=function(){this.editSettingActionRenderer.render(this.preferencesModel.settingsGroups,this.associatedPreferencesModel),this.filterResult&&this.filterPreferences(this.filterResult)},t.prototype._updatePreference=function(e,t,i){this._onUpdatePreference.fire({key:e,value:t,source:i}),this.updatePreference(e,t,i)},t.prototype.updatePreference=function(e,t,i){var n=this,r=i.overrideOf?y.overrideIdentifierFromKey(i.overrideOf.key):null,o=this.preferencesModel.uri;this.configurationService.updateValue(e,t,{overrideIdentifier:r,resource:o},this.preferencesModel.configurationTarget).then(function(){return n.onSettingUpdated(i)})},t.prototype.onModelChanged=function(){this.editor.getModel()&&this.render()},t.prototype.onSettingUpdated=function(e){this.editor.focus(),
(e=this.getSetting(e))&&(this.editor.setSelection(e.valueRange),this.settingHighlighter.highlight(e,!0))},t.prototype.getSetting=function(e){var t=e.key,i=e.overrideOf;if(i){for(var n=0,r=this.getSetting(i).overrides;n<r.length;n++){var o=r[n];if(o.key===t)return o}return null}return this.preferencesModel.getPreference(t)},t.prototype.filterPreferences=function(e){this.filterResult=e,this.settingHighlighter.clear(!0),this.highlightMatchesRenderer.render(e?e.matches:[])},t.prototype.focusPreference=function(e){var t=this.getSetting(e);t?(this.settingHighlighter.highlight(t,!0),this.editor.setPosition({lineNumber:t.keyRange.startLineNumber,column:t.keyRange.startColumn})):this.settingHighlighter.clear(!0)},t.prototype.clearFocus=function(e){this.settingHighlighter.clear(!0)},t.prototype.editPreference=function(e){var t=this.getSetting(e);return t&&this.editSettingActionRenderer.activateOnSetting(t)},t=r([o(2,A.IPreferencesService),o(3,y.IConfigurationService),o(4,E.IInstantiationService)],t)}(u.Disposable)
;t.UserSettingsRenderer=T;var R=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i,n,o,s)||this;return a.workspaceConfigurationRenderer=a._register(s.createInstance(G,t,i)),a}return i(t,e),t.prototype.createHeader=function(){this._register(new D.SettingsHeaderWidget(this.editor,"")).setMessage(m.localize("emptyWorkspaceSettingsHeader","Place your settings here to overwrite the User Settings."))},t.prototype.setAssociatedPreferencesModel=function(t){e.prototype.setAssociatedPreferencesModel.call(this,t),this.workspaceConfigurationRenderer.render(this.getAssociatedPreferencesModel())},t.prototype.render=function(){e.prototype.render.call(this),this.workspaceConfigurationRenderer.render(this.getAssociatedPreferencesModel())},t=r([o(2,A.IPreferencesService),o(3,C.ITelemetryService),o(4,y.IConfigurationService),o(5,E.IInstantiationService)],t)}(T);t.WorkspaceSettingsRenderer=R;var O=function(e){function t(t,i,n,r,o,s){return e.call(this,t,i,n,o,s)||this}return i(t,e),t.prototype.createHeader=function(){
this._register(new D.SettingsHeaderWidget(this.editor,"")).setMessage(m.localize("emptyFolderSettingsHeader","Place your folder settings here to overwrite those from the Workspace Settings."))},t=r([o(2,A.IPreferencesService),o(3,C.ITelemetryService),o(4,y.IConfigurationService),o(5,E.IInstantiationService)],t)}(T);t.FolderSettingsRenderer=O;var M=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.editor=t,o.preferencesModel=i,o.preferencesService=n,o.instantiationService=r,o._onUpdatePreference=new l.Emitter,o.onUpdatePreference=o._onUpdatePreference.event,o._onFocusPreference=new l.Emitter,o.onFocusPreference=o._onFocusPreference.event,o._onClearFocusPreference=new l.Emitter,o.onClearFocusPreference=o._onClearFocusPreference.event,o.settingHighlighter=o._register(r.createInstance(W,t,o._onFocusPreference,o._onClearFocusPreference)),o.settingsHeaderRenderer=o._register(r.createInstance(P,t)),o.settingsGroupTitleRenderer=o._register(r.createInstance(L,t)),
o.filteredMatchesRenderer=o._register(r.createInstance(N,t)),o.editSettingActionRenderer=o._register(r.createInstance(V,t,i,o.settingHighlighter)),o.bracesHidingRenderer=o._register(r.createInstance(k,t,i)),o.hiddenAreasRenderer=o._register(r.createInstance(F,t,[o.settingsGroupTitleRenderer,o.filteredMatchesRenderer,o.bracesHidingRenderer])),o._register(o.editSettingActionRenderer.onUpdateSetting(function(e){return o._onUpdatePreference.fire(e)})),o._register(o.settingsGroupTitleRenderer.onHiddenAreasChanged(function(){return o.hiddenAreasRenderer.render()})),o._register(i.onDidChangeGroups(function(){return o.render()})),o}return i(t,e),t.prototype.getAssociatedPreferencesModel=function(){return this._associatedPreferencesModel},t.prototype.setAssociatedPreferencesModel=function(e){this._associatedPreferencesModel=e,this.editSettingActionRenderer.associatedPreferencesModel=e},t.prototype.render=function(){this.settingsGroupTitleRenderer.render(this.preferencesModel.settingsGroups),
this.editSettingActionRenderer.render(this.preferencesModel.settingsGroups,this._associatedPreferencesModel),this.settingHighlighter.clear(!0),this.bracesHidingRenderer.render(null,this.preferencesModel.settingsGroups),this.settingsGroupTitleRenderer.showGroup(0),this.hiddenAreasRenderer.render()},t.prototype.filterPreferences=function(e){this.filterResult=e,e?(this.filteredMatchesRenderer.render(e,this.preferencesModel.settingsGroups),this.settingsGroupTitleRenderer.render(null),this.settingsHeaderRenderer.render(e),this.settingHighlighter.clear(!0),this.bracesHidingRenderer.render(e,this.preferencesModel.settingsGroups),this.editSettingActionRenderer.render(e.filteredGroups,this._associatedPreferencesModel)):(this.settingHighlighter.clear(!0),this.filteredMatchesRenderer.render(null,this.preferencesModel.settingsGroups),this.settingsHeaderRenderer.render(null),this.settingsGroupTitleRenderer.render(this.preferencesModel.settingsGroups),this.settingsGroupTitleRenderer.showGroup(0),
this.bracesHidingRenderer.render(null,this.preferencesModel.settingsGroups),this.editSettingActionRenderer.render(this.preferencesModel.settingsGroups,this._associatedPreferencesModel)),this.hiddenAreasRenderer.render()},t.prototype.focusPreference=function(e){var t=this.getSetting(e);t?(this.settingsGroupTitleRenderer.showSetting(t),this.settingHighlighter.highlight(t,!0)):this.settingHighlighter.clear(!0)},t.prototype.getSetting=function(e){var t=e.key,i=e.overrideOf;if(i){for(var n=0,r=this.getSetting(i).overrides;n<r.length;n++){var o=r[n];if(o.key===t)return o}return null}var s=this.filterResult?this.filterResult.filteredGroups:this.preferencesModel.settingsGroups;return this.getPreference(t,s)},t.prototype.getPreference=function(e,t){for(var i=0,n=t;i<n.length;i++)for(var r=0,o=n[i].sections;r<o.length;r++)for(var s=0,a=o[r].settings;s<a.length;s++){var c=a[s];if(c.key===e)return c}return null},t.prototype.clearFocus=function(e){this.settingHighlighter.clear(!0)},
t.prototype.updatePreference=function(e,t,i){},t.prototype.editPreference=function(e){return this.editSettingActionRenderer.activateOnSetting(e)},t=r([o(2,A.IPreferencesService),o(3,E.IInstantiationService)],t)}(u.Disposable);t.DefaultSettingsRenderer=M;var k=function(e){function t(t){var i=e.call(this)||this;return i.editor=t,i}return i(t,e),t.prototype.render=function(e,t){this._result=e,this._settingsGroups=t},Object.defineProperty(t.prototype,"hiddenAreas",{get:function(){var e=[{startLineNumber:1,startColumn:1,endLineNumber:2,endColumn:1}],t=function(t,i){e.push({startLineNumber:t.range.startLineNumber-3,startColumn:1,endLineNumber:t.range.startLineNumber-(i?1:3),endColumn:1}),e.push({startLineNumber:t.range.endLineNumber+1,startColumn:1,endLineNumber:t.range.endLineNumber+4,endColumn:1})};this._settingsGroups.forEach(function(e){return t(e)}),this._result&&this._result.filteredGroups.forEach(function(e,i){return t(e,!0)});var i=this.editor.getModel().getLineCount();return e.push({startLineNumber:i,
startColumn:1,endLineNumber:i,endColumn:1}),e},enumerable:!0,configurable:!0}),t}(u.Disposable);t.BracesHidingRenderer=k;var P=function(e){function t(t){var i=e.call(this)||this;return i.settingsHeaderWidget=i._register(new D.DefaultSettingsHeaderWidget(t,"")),i.onClick=i.settingsHeaderWidget.onClick,i}return i(t,e),t.prototype.render=function(e){var t=!e||e.filteredGroups.length>0;this.settingsHeaderWidget.toggleMessage(t)},t}(u.Disposable),L=function(e){function t(t,i){var n=e.call(this)||this;return n.editor=t,n.instantiationService=i,n._onHiddenAreasChanged=new l.Emitter,n.hiddenGroups=[],n.disposables=[],n}return i(t,e),Object.defineProperty(t.prototype,"onHiddenAreasChanged",{get:function(){return this._onHiddenAreasChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenAreas",{get:function(){for(var e=[],t=0,i=this.hiddenGroups;t<i.length;t++){var n=i[t];e.push(n.range)}return e},enumerable:!0,configurable:!0}),t.prototype.render=function(e){var t=this
;if(this.disposeWidgets(),e){this.settingsGroups=e.slice(),this.settingsGroupTitleWidgets=[];for(var i=function(e){if(e.sections.every(function(e){return 0===e.settings.length}))return"continue";var i=n.instantiationService.createInstance(D.SettingsGroupTitleWidget,n.editor,e);i.render(),n.settingsGroupTitleWidgets.push(i),n.disposables.push(i),n.disposables.push(i.onToggled(function(e){return t.onToggled(e,i.settingsGroup)}))},n=this,r=0,o=this.settingsGroups.slice().reverse();r<o.length;r++){i(o[r])}this.settingsGroupTitleWidgets.reverse()}},t.prototype.showGroup=function(e){var t=this.settingsGroupTitleWidgets[e].settingsGroup;this.hiddenGroups=this.settingsGroups.filter(function(e){return e!==t});for(var i=0,n=this.settingsGroupTitleWidgets.filter(function(e){return e.settingsGroup!==t});i<n.length;i++){n[i].toggleCollapse(!0)}this._onHiddenAreasChanged.fire()},t.prototype.showSetting=function(e){var t=this.settingsGroupTitleWidgets.filter(function(t){
return g.Range.containsRange(t.settingsGroup.range,e.range)})[0];t&&t.isCollapsed()&&(t.toggleCollapse(!1),this.hiddenGroups.splice(this.hiddenGroups.indexOf(t.settingsGroup),1),this._onHiddenAreasChanged.fire())},t.prototype.onToggled=function(e,t){var i=this.hiddenGroups.indexOf(t);if(e){var n=this.editor.getPosition();t.range.startLineNumber<=n.lineNumber&&t.range.endLineNumber>=n.lineNumber&&this.editor.setPosition({lineNumber:t.range.startLineNumber-1,column:1}),this.hiddenGroups.push(t)}else this.hiddenGroups.splice(i,1);this._onHiddenAreasChanged.fire()},t.prototype.disposeWidgets=function(){this.hiddenGroups=[],this.disposables=u.dispose(this.disposables)},t.prototype.dispose=function(){this.disposeWidgets(),e.prototype.dispose.call(this)},t=r([o(1,E.IInstantiationService)],t)}(u.Disposable);t.SettingsGroupTitleRenderer=L;var F=function(e){function t(t,i){var n=e.call(this)||this;return n.editor=t,n.hiddenAreasProviders=i,n}return i(t,e),t.prototype.render=function(){
for(var e=[],t=0,i=this.hiddenAreasProviders;t<i.length;t++){var n=i[t];e.push.apply(e,n.hiddenAreas)}this.editor.setHiddenAreas(e)},t.prototype.dispose=function(){this.editor.setHiddenAreas([]),e.prototype.dispose.call(this)},t}(u.Disposable);t.HiddenAreasRenderer=F;var N=function(e){function t(t){var i=e.call(this)||this;return i.editor=t,i.decorationIds=[],i.hiddenAreas=[],i}return i(t,e),t.prototype.render=function(e,t){var i=this,n=this.editor.getModel();this.hiddenAreas=[],e?(this.hiddenAreas=this.computeHiddenRanges(e.filteredGroups,e.allGroups,n),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,e.matches.map(function(e){return i.createDecoration(e,n)}))):(this.hiddenAreas=this.computeHiddenRanges(null,t,n),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[]))},t.prototype.createDecoration=function(e,i){return{range:e,options:t._FIND_MATCH}},t.prototype.computeHiddenRanges=function(e,t,i){var n=[];return e&&t.forEach(function(e,t){n.push({
startLineNumber:e.range.startLineNumber-1,startColumn:e.range.startColumn,endLineNumber:e.range.endLineNumber,endColumn:e.range.endColumn})}),n},t.prototype.dispose=function(){this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[]),e.prototype.dispose.call(this)},t._FIND_MATCH=v.ModelDecorationOptions.register({stickiness:f.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch"}),t}(u.Disposable);t.FilteredMatchesRenderer=N;var B=function(e){function t(t){var i=e.call(this)||this;return i.editor=t,i.decorationIds=[],i}return i(t,e),t.prototype.render=function(e){var t=this,i=this.editor.getModel();this.decorationIds=this.editor.deltaDecorations(this.decorationIds,e.map(function(e){return t.createDecoration(e,i)}))},t.prototype.createDecoration=function(e,i){return{range:e,options:t._FIND_MATCH}},t.prototype.dispose=function(){this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[]),e.prototype.dispose.call(this)},t._FIND_MATCH=v.ModelDecorationOptions.register({
stickiness:f.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch"}),t}(u.Disposable);t.HighlightMatchesRenderer=B;var V=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.editor=t,s.masterSettingsModel=i,s.settingHighlighter=n,s.instantiationService=r,s.contextMenuService=o,s.settingsGroups=[],s._onUpdateSetting=new l.Emitter,s.onUpdateSetting=s._onUpdateSetting.event,s.editPreferenceWidgetForCursorPosition=s._register(s.instantiationService.createInstance(D.EditPreferenceWidget,t)),s.editPreferenceWidgetForMouseMove=s._register(s.instantiationService.createInstance(D.EditPreferenceWidget,t)),s.toggleEditPreferencesForMouseMoveDelayer=new c.Delayer(75),s._register(s.editPreferenceWidgetForCursorPosition.onClick(function(e){return s.onEditSettingClicked(s.editPreferenceWidgetForCursorPosition,e)})),s._register(s.editPreferenceWidgetForMouseMove.onClick(function(e){return s.onEditSettingClicked(s.editPreferenceWidgetForMouseMove,e)})),
s._register(s.editor.onDidChangeCursorPosition(function(e){return s.onPositionChanged(e)})),s._register(s.editor.onMouseMove(function(e){return s.onMouseMoved(e)})),s._register(s.editor.onDidChangeConfiguration(function(){return s.onConfigurationChanged()})),s}return i(t,e),t.prototype.render=function(e,t){this.editPreferenceWidgetForCursorPosition.hide(),this.editPreferenceWidgetForMouseMove.hide(),this.settingsGroups=e,this.associatedPreferencesModel=t;var i=this.getSettings(this.editor.getPosition().lineNumber);i.length&&this.showEditPreferencesWidget(this.editPreferenceWidgetForCursorPosition,i)},t.prototype.isDefaultSettings=function(){return this.masterSettingsModel instanceof x.DefaultSettingsEditorModel},t.prototype.onConfigurationChanged=function(){this.editor.getConfiguration().viewInfo.glyphMargin||(this.editPreferenceWidgetForCursorPosition.hide(),this.editPreferenceWidgetForMouseMove.hide())},t.prototype.onPositionChanged=function(e){this.editPreferenceWidgetForMouseMove.hide()
;var t=this.getSettings(e.position.lineNumber);t.length?this.showEditPreferencesWidget(this.editPreferenceWidgetForCursorPosition,t):this.editPreferenceWidgetForCursorPosition.hide()},t.prototype.onMouseMoved=function(e){var t=this,i=this.getEditPreferenceWidgetUnderMouse(e);i?this.onMouseOver(i):(this.settingHighlighter.clear(),this.toggleEditPreferencesForMouseMoveDelayer.trigger(function(){return t.toggleEditPreferenceWidgetForMouseMove(e)}))},t.prototype.getEditPreferenceWidgetUnderMouse=function(e){if(e.target.type===p.MouseTargetType.GUTTER_GLYPH_MARGIN){var t=e.target.position.lineNumber;if(this.editPreferenceWidgetForMouseMove.getLine()===t&&this.editPreferenceWidgetForMouseMove.isVisible())return this.editPreferenceWidgetForMouseMove;if(this.editPreferenceWidgetForCursorPosition.getLine()===t&&this.editPreferenceWidgetForCursorPosition.isVisible())return this.editPreferenceWidgetForCursorPosition}return null},t.prototype.toggleEditPreferenceWidgetForMouseMove=function(e){
var t=e.target.position?this.getSettings(e.target.position.lineNumber):null;t&&t.length?this.showEditPreferencesWidget(this.editPreferenceWidgetForMouseMove,t):this.editPreferenceWidgetForMouseMove.hide()},t.prototype.showEditPreferencesWidget=function(e,t){var i=t[0].valueRange.startLineNumber;if(this.editor.getConfiguration().viewInfo.glyphMargin&&this.marginFreeFromOtherDecorations(i)){e.show(i,m.localize("editTtile","Edit"),t);(e===this.editPreferenceWidgetForCursorPosition?this.editPreferenceWidgetForMouseMove:this.editPreferenceWidgetForCursorPosition).hide()}},t.prototype.marginFreeFromOtherDecorations=function(e){var t=this.editor.getLineDecorations(e);if(t)for(var i=0,n=t;i<n.length;i++){var r=n[i].options;if(r.glyphMarginClassName&&-1===r.glyphMarginClassName.indexOf(D.EditPreferenceWidget.GLYPH_MARGIN_CLASS_NAME))return!1}return!0},t.prototype.getSettings=function(e){var t=this,i=this.getConfigurationsMap();return this.getSettingsAtLineNumber(e).filter(function(e){var n=i[e.key];if(n){
if(t.isDefaultSettings())return"launch"!==e.key;if("boolean"===n.type||n.enum){if(3!==t.masterSettingsModel.configurationTarget)return!0;if(3===n.scope)return!0}}return!1})},t.prototype.getSettingsAtLineNumber=function(e){for(var t=0,i=[],r=0,o=this.settingsGroups;r<o.length;r++){var s=o[r];if(s.range.startLineNumber>e)break;if(e>=s.range.startLineNumber&&e<=s.range.endLineNumber)for(var a=0,c=s.sections;a<c.length;a++)for(var l=0,u=c[a].settings;l<u.length;l++){var d=u[l];if(d.range.startLineNumber>e)break;if(e>=d.range.startLineNumber&&e<=d.range.endLineNumber)if(!this.isDefaultSettings()&&d.overrides.length)for(var p=0,h=d.overrides;p<h.length;p++){var g=h[p];e>=g.range.startLineNumber&&e<=g.range.endLineNumber&&i.push(n({},g,{index:t,groupId:s.id}))}else i.push(n({},d,{index:t,groupId:s.id}));t++}}return i},t.prototype.onMouseOver=function(e){this.settingHighlighter.highlight(e.preferences[0])},t.prototype.onEditSettingClicked=function(e,t){var i=this,n={x:t.event.posx,y:t.event.posy+10
},r=1===this.getSettings(e.getLine()).length?this.getActions(e.preferences[0],this.getConfigurationsMap()[e.preferences[0].key]):e.preferences.map(function(e){return new s.ContextSubMenu(e.key,i.getActions(e,i.getConfigurationsMap()[e.key]))});this.contextMenuService.showContextMenu({getAnchor:function(){return n},getActions:function(){return d.TPromise.wrap(r)}})},t.prototype.activateOnSetting=function(e){var t=this,i=e.keyRange.startLineNumber,n=this.getSettings(i);if(!n.length)return!1;this.editPreferenceWidgetForMouseMove.show(i,"",n);var r=this.getActions(this.editPreferenceWidgetForMouseMove.preferences[0],this.getConfigurationsMap()[this.editPreferenceWidgetForMouseMove.preferences[0].key]);return this.contextMenuService.showContextMenu({getAnchor:function(){return t.toAbsoluteCoords(new h.Position(i,1))},getActions:function(){return d.TPromise.wrap(r)}}),!0},t.prototype.toAbsoluteCoords=function(e){var t=this.editor.getScrolledVisiblePosition(e),i=a.getDomNodePagePosition(this.editor.getDomNode())
;return{x:i.left+t.left,y:i.top+t.top+t.height+10}},t.prototype.getConfigurationsMap=function(){return w.Registry.as(S.Extensions.Configuration).getConfigurationProperties()},t.prototype.getActions=function(e,t){var i=this;return"boolean"===t.type?[{id:"truthyValue",label:"true",enabled:!0,run:function(){return i.updateSetting(e.key,!0,e)}},{id:"falsyValue",label:"false",enabled:!0,run:function(){return i.updateSetting(e.key,!1,e)}}]:t.enum?t.enum.map(function(t){return{id:t,label:JSON.stringify(t),enabled:!0,run:function(){return i.updateSetting(e.key,t,e)}}}):this.getDefaultActions(e)},t.prototype.getDefaultActions=function(e){var t=this;if(this.isDefaultSettings()){return[{id:"setDefaultValue",label:this.associatedPreferencesModel.getPreference(e.key)?m.localize("replaceDefaultValue","Replace in Settings"):m.localize("copyDefaultValue","Copy to Settings"),enabled:!0,run:function(){return t.updateSetting(e.key,e.value,e)}}]}return[]},t.prototype.updateSetting=function(e,t,i){this._onUpdateSetting.fire({
key:e,value:t,source:i})},t=r([o(3,E.IInstantiationService),o(4,b.IContextMenuService)],t)}(u.Disposable),W=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.editor=t,o.focusEventEmitter=i,o.clearFocusEventEmitter=n,o.fixedHighlighter=o._register(r.createInstance(_.RangeHighlightDecorations)),o.volatileHighlighter=o._register(r.createInstance(_.RangeHighlightDecorations)),o.fixedHighlighter.onHighlghtRemoved(function(){return o.clearFocusEventEmitter.fire(o.highlightedSetting)}),o.volatileHighlighter.onHighlghtRemoved(function(){return o.clearFocusEventEmitter.fire(o.highlightedSetting)}),o}return i(t,e),t.prototype.highlight=function(e,t){void 0===t&&(t=!1),this.highlightedSetting=e,this.volatileHighlighter.removeHighlightRange(),this.fixedHighlighter.removeHighlightRange();(t?this.fixedHighlighter:this.volatileHighlighter).highlightRange({range:e.valueRange,resource:this.editor.getModel().uri},this.editor),this.editor.revealLineInCenterIfOutsideViewport(e.valueRange.startLineNumber,0),
this.focusEventEmitter.fire(e)},t.prototype.clear=function(e){void 0===e&&(e=!1),this.volatileHighlighter.removeHighlightRange(),e&&this.fixedHighlighter.removeHighlightRange(),this.clearFocusEventEmitter.fire(this.highlightedSetting)},t=r([o(3,E.IInstantiationService)],t)}(u.Disposable),G=function(e){function t(t,i,n){var r=e.call(this)||this;return r.editor=t,r.workspaceSettingsEditorModel=i,r.workspaceContextService=n,r.decorationIds=[],r.renderingDelayer=new c.Delayer(200),r._register(r.editor.getModel().onDidChangeContent(function(){return r.renderingDelayer.trigger(function(){return r.render(r.associatedSettingsEditorModel)})})),r}return i(t,e),t.prototype.render=function(e){var t=this;if(this.associatedSettingsEditorModel=e,this.associatedSettingsEditorModel&&3===this.workspaceContextService.getWorkbenchState()&&this.workspaceSettingsEditorModel instanceof x.WorkspaceConfigurationEditorModel){
for(var i=[],n=0,r=this.workspaceSettingsEditorModel.configurationGroups;n<r.length;n++)for(var o=0,s=r[n].sections;o<s.length;o++)for(var a=0,c=s[o].settings;a<c.length;a++){var l=c[a];"settings"!==l.key&&i.push({startLineNumber:l.keyRange.startLineNumber,startColumn:l.keyRange.startColumn-1,endLineNumber:l.valueRange.endLineNumber,endColumn:l.valueRange.endColumn})}this.decorationIds=this.editor.deltaDecorations(this.decorationIds,i.map(function(e){return t.createDecoration(e,t.editor.getModel())}))}},t.prototype.createDecoration=function(e,i){return{range:e,options:t._DIM_CONFIGURATION_}},t.prototype.dispose=function(){this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[]),e.prototype.dispose.call(this)},t._DIM_CONFIGURATION_=v.ModelDecorationOptions.register({stickiness:f.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"dim-configuration"}),t=r([o(2,I.IWorkspaceContextService)],t)}(u.Disposable)}),
define(e[345],t([1,0,5,78,4,27,40,22,13,6,51,98,151,37,43,64,2,47,16,3,32,63,28,31,21,156,157,12,34,61,200,153]),function(e,t,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var F=function(e){function t(t,i,n,r,o,a,c,u,d,h,g,f,v,m,y){var S=e.call(this)||this;return S.editorService=t,S.editorGroupService=i,S.fileService=n,S.configurationService=r,S.notificationService=o,S.contextService=a,S.instantiationService=c,S.environmentService=u,S.telemetryService=d,S.textModelResolverService=h,S.modelService=f,S.jsonEditingService=v,S.modeService=m,S.labelService=y,S.lastOpenedSettingsInput=null,S._onDispose=new s.Emitter,S._defaultUserSettingsUriCounter=0,S._defaultWorkspaceSettingsUriCounter=0,S._defaultFolderSettingsUriCounter=0,S.defaultKeybindingsResource=p.URI.from({scheme:l.Schemas.vscode,authority:"defaultsettings",path:"/keybindings.json"}),S.defaultSettingsRawResource=p.URI.from({scheme:l.Schemas.vscode,authority:"defaultsettings",
path:"/defaultSettings.json"}),g.onDidUpdateKeybindings(function(){var e=f.getModel(S.defaultKeybindingsResource);e&&f.updateModel(e,L.defaultKeybindingsContents(g))}),S}return i(t,e),Object.defineProperty(t.prototype,"userSettingsResource",{get:function(){return this.getEditableSettingsURI(1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceSettingsResource",{get:function(){return this.getEditableSettingsURI(2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsEditor2Input",{get:function(){return this.instantiationService.createInstance(P.SettingsEditor2Input)},enumerable:!0,configurable:!0}),t.prototype.getFolderSettingsResource=function(e){return this.getEditableSettingsURI(3,e)},t.prototype.resolveModel=function(e){var t=this;if(this.isDefaultSettingsResource(e)){var i,n=this.getConfigurationTargetFromDefaultSettingsResource(e),r=this.modeService.getOrCreateMode("jsonc"),o=this._register(this.modelService.createModel("",r,e))
;return this.configurationService.onDidChangeConfiguration(function(r){if(4===r.source){var o=t.modelService.getModel(e);if(!o)return;i=t.getDefaultSettings(n),t.modelService.updateModel(o,i.getContent(!0)),i._onDidChange.fire()}}),i||(i=this.getDefaultSettings(n),this.modelService.updateModel(o,i.getContent(!0))),h.TPromise.as(o)}if(this.defaultSettingsRawResource.toString()===e.toString()){var s=this.getDefaultSettings(1),r=this.modeService.getOrCreateMode("jsonc"),o=this._register(this.modelService.createModel(s.raw,r,e));return h.TPromise.as(o)}if(this.defaultKeybindingsResource.toString()===e.toString()){var a=this.instantiationService.createInstance(L.DefaultKeybindingsEditorModel,e),r=this.modeService.getOrCreateMode("jsonc"),o=this._register(this.modelService.createModel(a.content,r,e));return h.TPromise.as(o)}return h.TPromise.as(null)},t.prototype.createPreferencesEditorModel=function(e){if(this.isDefaultSettingsResource(e))return this.createDefaultSettingsEditorModel(e)
;if(this.getEditableSettingsURI(1).toString()===e.toString())return this.createEditableSettingsEditorModel(1,e);var t=this.getEditableSettingsURI(2);return t&&t.toString()===e.toString()?this.createEditableSettingsEditorModel(2,t):3===this.contextService.getWorkbenchState()?this.createEditableSettingsEditorModel(3,e):h.TPromise.wrap(null)},t.prototype.openRawDefaultSettings=function(){return this.editorService.openEditor({resource:this.defaultSettingsRawResource})},t.prototype.openRawUserSettings=function(){return this.editorService.openEditor({resource:this.userSettingsResource})},t.prototype.openSettings=function(e){if(!(e=void 0===e?"json"===this.configurationService.getValue("workbench.settings.editor"):e))return this.openSettings2();var t=this.getActiveSettingsEditorInput()||this.lastOpenedSettingsInput,i=t?t.master.getResource():this.userSettingsResource,n=this.getConfigurationTargetFromSettingsResource(i);return this.openOrSwitchSettings(n,i)},t.prototype.openSettings2=function(){
var e=this,t=this.settingsEditor2Input;return this.editorGroupService.activeGroup.openEditor(t).then(function(){return e.editorGroupService.activeGroup.activeControl})},t.prototype.openGlobalSettings=function(e,t,i){return(e=void 0===e?"json"===this.configurationService.getValue("workbench.settings.editor"):e)?this.openOrSwitchSettings(1,this.userSettingsResource,t,i):this.openOrSwitchSettings2(1,void 0,t,i)},t.prototype.openWorkspaceSettings=function(e,t,i){return e=void 0===e?"json"===this.configurationService.getValue("workbench.settings.editor"):e,1===this.contextService.getWorkbenchState()?(this.notificationService.info(b.localize("openFolderFirst","Open a folder first to create workspace settings")),h.TPromise.as(null)):e?this.openOrSwitchSettings(2,this.workspaceSettingsResource,t,i):this.openOrSwitchSettings2(2,void 0,t,i)},t.prototype.openFolderSettings=function(e,t,i,n){
return(t=void 0===t?"json"===this.configurationService.getValue("workbench.settings.editor"):t)?this.openOrSwitchSettings(3,this.getEditableSettingsURI(3,e),i,n):this.openOrSwitchSettings2(3,e,i,n)},t.prototype.switchSettings=function(e,t,i){if(!i)return this.doOpenSettings2(e,t).then(function(){return null});var n=this.editorService.activeControl;return n&&n.input instanceof P.PreferencesEditorInput?this.doSwitchSettings(e,t,n.input,n.group).then(function(){return null}):this.doOpenSettings(e,t).then(function(){return null})},t.prototype.openGlobalKeybindingSettings=function(e){var t=this;if(this.telemetryService.publicLog("openKeybindings",{textual:e}),e){var i="// "+b.localize("emptyKeybindingsHeader","Place your key bindings in this file to overwrite the defaults")+"\n[\n]",n=p.URI.file(this.environmentService.appKeybindingsPath),r=!!this.configurationService.getValue("workbench.settings.openDefaultKeybindings");return this.createIfNotExists(n,i).then(function(){if(r){
var e=t.editorGroupService.activeGroup,i=t.editorGroupService.addGroup(e.id,3);return h.TPromise.join([t.editorService.openEditor({resource:t.defaultKeybindingsResource,options:{pinned:!0,preserveFocus:!0},label:b.localize("defaultKeybindings","Default Keybindings"),description:""}),t.editorService.openEditor({resource:n,options:{pinned:!0}},i.id)]).then(function(e){})}return t.editorService.openEditor({resource:n,options:{pinned:!0}}).then(function(){})})}return this.editorService.openEditor(this.instantiationService.createInstance(P.KeybindingsEditorInput),{pinned:!0}).then(function(){return null})},t.prototype.openDefaultKeybindingsFile=function(){return this.editorService.openEditor({resource:this.defaultKeybindingsResource,label:b.localize("defaultKeybindings","Default Keybindings")})},t.prototype.configureSettingsForLanguage=function(e){var t=this;this.openGlobalSettings().then(function(i){return t.createPreferencesEditorModel(t.userSettingsResource).then(function(n){
var r=g.getCodeEditor(i.getControl());r&&t.getPosition(e,n,r).then(function(e){r&&(r.setPosition(e),r.focus())})})})},t.prototype.openOrSwitchSettings=function(e,t,i,n){void 0===n&&(n=this.editorGroupService.activeGroup);var r=this.getActiveSettingsEditorInput(n);return r&&r.master.getResource().fsPath!==t.fsPath?this.doSwitchSettings(e,t,r,n,i):this.doOpenSettings(e,t,i,n)},t.prototype.openOrSwitchSettings2=function(e,t,i,n){return void 0===n&&(n=this.editorGroupService.activeGroup),this.doOpenSettings2(e,t,i,n)},t.prototype.doOpenSettings=function(e,t,i,n){var r=this,o=!!this.configurationService.getValue(k.DEFAULT_SETTINGS_EDITOR_SETTING);return this.getOrCreateEditableSettingsEditorInput(e,t).then(function(s){if(i=i?u.assign(i,{pinned:!0}):{pinned:!0},o){var a=r.instantiationService.createInstance(P.DefaultPreferencesEditorInput,r.getDefaultSettingsResource(e)),c=new P.PreferencesEditorInput(r.getPreferencesEditorInputName(e,t),s.getDescription(),a,s);return r.lastOpenedSettingsInput=c,
r.editorService.openEditor(c,k.SettingsEditorOptions.create(i),n)}return r.editorService.openEditor(s,k.SettingsEditorOptions.create(i),n)})},t.prototype.createSettings2EditorModel=function(){return this.instantiationService.createInstance(L.Settings2EditorModel,this.getDefaultSettings(1))},t.prototype.doOpenSettings2=function(e,t,i,r){var o=this.settingsEditor2Input,s=n({},i,{target:e,folderUri:t});return this.editorService.openEditor(o,k.SettingsEditorOptions.create(s),r)},t.prototype.doSwitchSettings=function(e,t,i,n,r){var o=this;return this.getOrCreateEditableSettingsEditorInput(e,this.getEditableSettingsURI(e,t)).then(function(s){return n.openEditor(i).then(function(){var a=new P.PreferencesEditorInput(o.getPreferencesEditorInputName(e,t),s.getDescription(),o.instantiationService.createInstance(P.DefaultPreferencesEditorInput,o.getDefaultSettingsResource(e)),s);return n.replaceEditors([{editor:i,replacement:a,options:k.SettingsEditorOptions.create(r)}]).then(function(){
return o.lastOpenedSettingsInput=a,n.activeControl})})})},t.prototype.getActiveSettingsEditorInput=function(e){return void 0===e&&(e=this.editorGroupService.activeGroup),e.editors.filter(function(e){return e instanceof P.PreferencesEditorInput})[0]},t.prototype.getConfigurationTargetFromSettingsResource=function(e){if(this.userSettingsResource.toString()===e.toString())return 1;var t=this.workspaceSettingsResource;if(t&&t.toString()===e.toString())return 2;return this.contextService.getWorkspaceFolder(e)?3:1},t.prototype.getConfigurationTargetFromDefaultSettingsResource=function(e){return this.isDefaultWorkspaceSettingsResource(e)?2:this.isDefaultFolderSettingsResource(e)?3:1},t.prototype.isDefaultSettingsResource=function(e){return this.isDefaultUserSettingsResource(e)||this.isDefaultWorkspaceSettingsResource(e)||this.isDefaultFolderSettingsResource(e)},t.prototype.isDefaultUserSettingsResource=function(e){
return"defaultsettings"===e.authority&&e.scheme===l.Schemas.vscode&&!!e.path.match(/\/(\d+\/)?settings\.json$/)},t.prototype.isDefaultWorkspaceSettingsResource=function(e){return"defaultsettings"===e.authority&&e.scheme===l.Schemas.vscode&&!!e.path.match(/\/(\d+\/)?workspaceSettings\.json$/)},t.prototype.isDefaultFolderSettingsResource=function(e){return"defaultsettings"===e.authority&&e.scheme===l.Schemas.vscode&&!!e.path.match(/\/(\d+\/)?resourceSettings\.json$/)},t.prototype.getDefaultSettingsResource=function(e){switch(e){case 2:return p.URI.from({scheme:l.Schemas.vscode,authority:"defaultsettings",path:"/"+this._defaultWorkspaceSettingsUriCounter+++"/workspaceSettings.json"});case 3:return p.URI.from({scheme:l.Schemas.vscode,authority:"defaultsettings",path:"/"+this._defaultFolderSettingsUriCounter+++"/resourceSettings.json"})}return p.URI.from({scheme:l.Schemas.vscode,authority:"defaultsettings",path:"/"+this._defaultUserSettingsUriCounter+++"/settings.json"})},
t.prototype.getPreferencesEditorInputName=function(e,t){var i=k.getSettingsTargetName(e,t,this.contextService);return 3===e?b.localize("folderSettingsName","{0} (Folder Settings)",i):i},t.prototype.getOrCreateEditableSettingsEditorInput=function(e,t){var i=this;return this.createSettingsIfNotExists(e,t).then(function(){return i.editorService.createInput({resource:t})})},t.prototype.createEditableSettingsEditorModel=function(e,t){var i=this,n=this.getEditableSettingsURI(e,t);if(n){var r=this.contextService.getWorkspace();return r.configuration&&r.configuration.toString()===n.toString()?this.textModelResolverService.createModelReference(n).then(function(t){return i.instantiationService.createInstance(L.WorkspaceConfigurationEditorModel,t,e)}):this.textModelResolverService.createModelReference(n).then(function(t){return i.instantiationService.createInstance(L.SettingsEditorModel,t,e)})}return h.TPromise.wrap(null)},t.prototype.createDefaultSettingsEditorModel=function(e){var t=this
;return this.textModelResolverService.createModelReference(e).then(function(i){var n=t.getConfigurationTargetFromDefaultSettingsResource(e);return t.instantiationService.createInstance(L.DefaultSettingsEditorModel,e,i,t.getDefaultSettings(n))})},t.prototype.getDefaultSettings=function(e){return 2===e?(this._defaultWorkspaceSettingsContentModel||(this._defaultWorkspaceSettingsContentModel=new L.DefaultSettings(this.getMostCommonlyUsedSettings(),e)),this._defaultWorkspaceSettingsContentModel):3===e?(this._defaultFolderSettingsContentModel||(this._defaultFolderSettingsContentModel=new L.DefaultSettings(this.getMostCommonlyUsedSettings(),e)),this._defaultFolderSettingsContentModel):(this._defaultUserSettingsContentModel||(this._defaultUserSettingsContentModel=new L.DefaultSettings(this.getMostCommonlyUsedSettings(),e)),this._defaultUserSettingsContentModel)},t.prototype.getEditableSettingsURI=function(e,t){switch(e){case 1:return p.URI.file(this.environmentService.appSettingsPath);case 2:
if(1===this.contextService.getWorkbenchState())return null;var i=this.contextService.getWorkspace();return i.configuration||i.folders[0].toResource(k.FOLDER_SETTINGS_PATH);case 3:var n=this.contextService.getWorkspaceFolder(t);return n?n.toResource(k.FOLDER_SETTINGS_PATH):null}return null},t.prototype.createSettingsIfNotExists=function(e,t){var i=this;return 3===this.contextService.getWorkbenchState()&&2===e?this.fileService.resolveContent(this.contextService.getWorkspace().configuration).then(function(e){return-1===Object.keys(a.parse(e.value)).indexOf("settings")?i.jsonEditingService.write(t,{key:"settings",value:{}},!0).then(null,function(){}):null}):this.createIfNotExists(t,"{\n}").then(function(){})},t.prototype.createIfNotExists=function(e,t){var i=this;return this.fileService.resolveContent(e,{acceptTextOnly:!0}).then(null,function(n){return 2===n.fileOperationResult?i.fileService.updateContent(e,t).then(null,function(t){
return h.TPromise.wrapError(new Error(b.localize("fail.createSettings","Unable to create '{0}' ({1}).",i.labelService.getUriLabel(e,{relative:!0}),t)))}):h.TPromise.wrapError(n)})},t.prototype.getMostCommonlyUsedSettings=function(){return["files.autoSave","editor.fontSize","editor.fontFamily","editor.tabSize","editor.renderWhitespace","editor.cursorStyle","editor.multiCursorModifier","editor.insertSpaces","editor.wordWrap","files.exclude","files.associations"]},t.prototype.getPosition=function(e,t,i){var n=this,r="["+e+"]",o=t.getPreference(r),s=i.getModel(),a=this.configurationService.getValue(),c=a.files&&a.files.eol;if(o){if(o.overrides.length){var l=o.overrides[o.overrides.length-1],u=void 0;u=l.valueRange.endLineNumber===o.range.endLineNumber?","+c+this.spaces(2,a.editor)+c+this.spaces(1,a.editor):","+c+this.spaces(2,a.editor);var d=f.EditOperation.insert(new v.Position(l.valueRange.endLineNumber,l.valueRange.endColumn),u);return s.pushEditOperations([],[d],function(){return[]}),h.TPromise.as({
lineNumber:l.valueRange.endLineNumber+1,column:s.getLineMaxColumn(l.valueRange.endLineNumber+1)})}return h.TPromise.as({lineNumber:o.valueRange.startLineNumber,column:o.valueRange.startColumn+1})}return this.configurationService.updateValue(r,{},1).then(function(){o=t.getPreference(r);var e=c+n.spaces(2,a.editor)+c+n.spaces(1,a.editor),i=f.EditOperation.insert(new v.Position(o.valueRange.endLineNumber,o.valueRange.endColumn-1),e);s.pushEditOperations([],[i],function(){return[]});var l=o.valueRange.endLineNumber+1;return t.dispose(),{lineNumber:l,column:s.getLineMaxColumn(l)}})},t.prototype.spaces=function(e,t){var i=t.tabSize;return t.insertSpaces?d.repeat(" ",i*e):d.repeat("\t",e)},t.prototype.dispose=function(){this._onDispose.fire(),e.prototype.dispose.call(this)},
t=r([o(0,O.IEditorService),o(1,M.IEditorGroupsService),o(2,w.IFileService),o(3,T.IWorkspaceConfigurationService),o(4,D.INotificationService),o(5,x.IWorkspaceContextService),o(6,C.IInstantiationService),o(7,E.IEnvironmentService),o(8,A.ITelemetryService),o(9,S.ITextModelService),o(10,I.IKeybindingService),o(11,m.IModelService),o(12,R.IJSONEditingService),o(13,y.IModeService),o(14,_.ILabelService)],t)}(c.Disposable);t.PreferencesService=F}),define(e[202],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IProgressService2=i.createDecorator("progressService2")}),define(e[347],t([1,0,5,36]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.storageService=e,this._onDidClearHistory=new i.Emitter,this.onDidClearHistory=this._onDidClearHistory.event}return e.prototype.clearHistory=function(){this.storageService.remove(e.SEARCH_HISTORY_KEY,1),this._onDidClearHistory.fire()},e.prototype.load=function(){
var t,i=this.storageService.get(e.SEARCH_HISTORY_KEY,1);if(i)try{t=JSON.parse(i)}catch(e){}return t||{}},e.prototype.save=function(t){this.storageService.store(e.SEARCH_HISTORY_KEY,JSON.stringify(t),1)},e.SEARCH_HISTORY_KEY="workbench.search.history",e=r([o(0,n.IStorageService)],e)}();t.SearchHistoryService=s}),define(e[29],t([1,0,3,10]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._resource=e.getResource(),this._kind=t}return Object.defineProperty(e.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kind",{get:function(){return this._kind},enumerable:!0,configurable:!0}),e}();t.TextFileModelChangeEvent=r,t.TEXT_FILE_SERVICE_ID="textFileService",t.AutoSaveContext=new n.RawContextKey("config.files.autoSave",void 0),t.ITextFileService=i.createDecorator(t.TEXT_FILE_SERVICE_ID)}),
define(e[128],t([1,0,2,40,30,231,75,36,3,31,11,29,85,51,34,12,45]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b="textEditorViewState",E=function(e){function t(t,i,n,r,o,s,a,c,l,u){var d=e.call(this,t,i,s)||this;return d._instantiationService=n,d._configurationService=o,d.themeService=s,d._textFileService=a,d.editorService=c,d.editorGroupService=l,d.windowService=u,d.editorMemento=d.getEditorMemento(r,l,b,100),d._register(d.configurationService.onDidChangeConfiguration(function(e){return d.handleConfigurationChangeEvent(d.configurationService.getValue(d.getResource()))})),d}return i(t,e),Object.defineProperty(t.prototype,"instantiationService",{get:function(){return this._instantiationService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"configurationService",{get:function(){return this._configurationService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textFileService",{get:function(){
return this._textFileService},enumerable:!0,configurable:!0}),t.prototype.handleConfigurationChangeEvent=function(e){this.isVisible()?this.updateEditorConfiguration(e):this.hasPendingConfigurationChange=!0},t.prototype.consumePendingConfigurationChangeEvent=function(){this.hasPendingConfigurationChange&&(this.updateEditorConfiguration(),this.hasPendingConfigurationChange=!1)},t.prototype.computeConfiguration=function(e){var t=a.isObject(e.editor)?s.deepClone(e.editor):Object.create(null);return s.assign(t,this.getConfigurationOverrides()),t.ariaLabel=this.computeAriaLabel(),t},t.prototype.computeAriaLabel=function(){var e=this.getAriaLabel();return e&&this.group&&(e=n.localize("editorLabelWithGroup","{0}, {1}.",e,this.group.label)),e},t.prototype.getConfigurationOverrides=function(){var e={};return s.assign(e,{overviewRulerLanes:3,lineNumbersMinChars:3,fixedOverflowWidgets:!0}),e},t.prototype.createEditor=function(e){var t=this;this._editorContainer=e,
this.editorControl=this._register(this.createEditorControl(e,this.computeConfiguration(this.configurationService.getValue(this.getResource()))));var i=v.getCodeEditor(this.editorControl);i&&(this._register(i.onDidChangeModelLanguage(function(e){return t.updateEditorConfiguration()})),this._register(i.onDidChangeModel(function(e){return t.updateEditorConfiguration()}))),v.isCodeEditor(this.editorControl)?this._register(this.editorControl.onDidBlurEditorWidget(function(){return t.onEditorFocusLost()})):v.isDiffEditor(this.editorControl)&&(this._register(this.editorControl.getOriginalEditor().onDidBlurEditorWidget(function(){return t.onEditorFocusLost()})),this._register(this.editorControl.getModifiedEditor().onDidBlurEditorWidget(function(){return t.onEditorFocusLost()}))),this._register(this.editorService.onDidActiveEditorChange(function(){return t.onEditorFocusLost()})),this._register(this.windowService.onDidChangeFocus(function(e){return t.onWindowFocusChange(e)}))},t.prototype.onEditorFocusLost=function(){
this.maybeTriggerSaveAll(3)},t.prototype.onWindowFocusChange=function(e){e||this.maybeTriggerSaveAll(4)},t.prototype.maybeTriggerSaveAll=function(e){var t=this.textFileService.getAutoSaveMode();(4===e&&(3===t||4===t)||3===e&&3===t)&&this.textFileService.isDirty()&&this.textFileService.saveAll(void 0,{reason:e})},t.prototype.createEditorControl=function(e,t){return this.instantiationService.createInstance(c.CodeEditorWidget,e,t,{})},t.prototype.setInput=function(t,i,n){var r=this;return e.prototype.setInput.call(this,t,i,n).then(function(){r.updateEditorConfiguration(),r._editorContainer.setAttribute("aria-label",r.computeAriaLabel())})},t.prototype.setEditorVisible=function(t,i){t?(this.consumePendingConfigurationChangeEvent(),this.editorControl.onVisible()):this.editorControl.onHide(),e.prototype.setEditorVisible.call(this,t,i)},t.prototype.focus=function(){this.editorControl.focus()},t.prototype.layout=function(e){this.editorControl.layout(e)},t.prototype.getControl=function(){return this.editorControl},
t.prototype.saveTextEditorViewState=function(e){var t=this.retrieveTextEditorViewState(e);t&&this.editorMemento.saveState(this.group,e,t)},t.prototype.retrieveTextEditorViewState=function(e){var t=this.getControl(),i=t.getModel();if(!i)return null;var n=i.uri;return n?n.toString()!==e.toString()?null:t.saveViewState():null},t.prototype.clearTextEditorViewState=function(e,t){var i=this;e.forEach(function(e){i.editorMemento.clearState(e,t)})},t.prototype.loadTextEditorViewState=function(e){return this.editorMemento.loadState(this.group,e)},t.prototype.updateEditorConfiguration=function(e){if(void 0===e&&(e=this.configurationService.getValue(this.getResource())),this.editorControl){var t=this.computeConfiguration(e),i=t;this.lastAppliedEditorOptions&&(i=s.distinct(this.lastAppliedEditorOptions,i)),Object.keys(i).length>0&&(this.lastAppliedEditorOptions=t,this.editorControl.updateOptions(i))}},t.prototype.getResource=function(){var e=v.getCodeEditor(this.editorControl);if(e){var t=e.getModel();if(t)return t.uri}
return this.input?this.input.getResource():null},t.prototype.dispose=function(){this.lastAppliedEditorOptions=void 0,e.prototype.dispose.call(this)},t=r([o(1,p.ITelemetryService),o(2,d.IInstantiationService),o(3,u.IStorageService),o(4,f.ITextResourceConfigurationService),o(5,h.IThemeService),o(6,g.ITextFileService),o(7,y.IEditorService),o(8,m.IEditorGroupsService),o(9,S.IWindowService)],t)}(l.BaseEditor);t.BaseTextEditor=E}),define(e[205],t([1,0,6,2,40,30,128,15,102,113,351,450,188,31,36,85,3,11,29,4,8,13,5,34,12,75,45]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var R=function(e){function t(i,n,r,o,s,a,c,l,u){var d=e.call(this,t.ID,i,n,r,o,a,l,s,c,u)||this;return d.diffNavigatorDisposables=[],d}return i(t,e),t.prototype.getEditorMemento=function(e,t,i,n){return void 0===n&&(n=10),new x.EditorMemento(this.getId(),i,Object.create(null),n,t)},t.prototype.getTitle=function(){
return this.input?this.input.getName():s.localize("textDiffEditor","Text Diff Editor")},t.prototype.createEditorControl=function(e,t){return this.instantiationService.createInstance(g.DiffEditorWidget,e,t)},t.prototype.setInput=function(t,i,r){var o=this;return this.diffNavigatorDisposables=w.dispose(this.diffNavigatorDisposables),this.saveTextDiffEditorViewState(this.input),e.prototype.setInput.call(this,t,i,r).then(function(){return t.resolve().then(function(e){if(!r.isCancellationRequested&&(e instanceof f.TextDiffEditorModel||!o.openAsBinary(t,i))){var n=o.getControl(),s=e;n.setModel(s.textDiffEditorModel);var a=!1;i&&c.isFunction(i.apply)&&(a=i.apply(n,1));var l=!1;a||(l=o.restoreTextDiffEditorViewState(t)),o.diffNavigator=new h.DiffNavigator(n,{alwaysRevealFirst:!a&&!l}),o.diffNavigatorDisposables.push(o.diffNavigator),n.updateOptions({readOnly:s.isReadonly()})}},function(e){return o.isFileBinaryError(e)&&o.openAsBinary(t,i)?null:n.TPromise.wrapError(e)})})},t.prototype.setOptions=function(e){var t=e
;t&&c.isFunction(t.apply)&&t.apply(this.getControl(),0)},t.prototype.restoreTextDiffEditorViewState=function(e){if(e instanceof p.DiffEditorInput){var t=this.toDiffEditorViewStateResource(e);if(t){var i=this.loadTextEditorViewState(t);if(i)return this.getControl().restoreViewState(i),!0}}return!1},t.prototype.openAsBinary=function(e,t){if(e instanceof p.DiffEditorInput){var i=e.originalInput,n=e.modifiedInput,r=new p.DiffEditorInput(e.getName(),e.getDescription(),i,n,!0),o=C.Registry.as(u.Extensions.EditorInputFactories).getFileInputFactory();return o.isFileInput(i)&&i.setForceOpenAsBinary(),o.isFileInput(n)&&n.setForceOpenAsBinary(),this.editorService.openEditor(r,t,this.group),!0}return!1},t.prototype.computeConfiguration=function(t){var i=e.prototype.computeConfiguration.call(this,t);return c.isObject(t.diffEditor)&&a.mixin(i,t.diffEditor),i},t.prototype.getConfigurationOverrides=function(){var t=e.prototype.getConfigurationOverrides.call(this);return t.readOnly=this.isReadOnly(),
t.lineDecorationsWidth="2ch",t},t.prototype.getAriaLabel=function(){var e=this.input&&this.input.getName();return this.isReadOnly()?e?s.localize("readonlyEditorWithInputAriaLabel","{0}. Readonly text compare editor.",e):s.localize("readonlyEditorAriaLabel","Readonly text compare editor."):e?s.localize("editableEditorWithInputAriaLabel","{0}. Text file compare editor.",e):s.localize("editableEditorAriaLabel","Text file compare editor.")},t.prototype.isReadOnly=function(){var e=this.input;if(e instanceof p.DiffEditorInput){return e.modifiedInput instanceof d.ResourceEditorInput}return!1},t.prototype.isFileBinaryError=function(e){var t=this;if(c.isArray(e)){return e.some(function(e){return t.isFileBinaryError(e)})}return 0===e.fileOperationResult},t.prototype.clearInput=function(){this.diffNavigatorDisposables=w.dispose(this.diffNavigatorDisposables),this.saveTextDiffEditorViewState(this.input),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.getDiffNavigator=function(){
return this.diffNavigator},t.prototype.getControl=function(){return e.prototype.getControl.call(this)},t.prototype.loadTextEditorViewState=function(t){return e.prototype.loadTextEditorViewState.call(this,t)},t.prototype.saveTextDiffEditorViewState=function(t){var i=this;if(t instanceof p.DiffEditorInput){var n=this.toDiffEditorViewStateResource(t);n&&(t.isDisposed()?e.prototype.clearTextEditorViewState.call(this,[n]):(e.prototype.saveTextEditorViewState.call(this,n),_.once(t.onDispose)(function(){e.prototype.clearTextEditorViewState.call(i,[n])})))}},t.prototype.retrieveTextEditorViewState=function(e){return this.retrieveTextDiffEditorViewState(e)},t.prototype.retrieveTextDiffEditorViewState=function(e){var t=this.getControl(),i=t.getModel();if(!i||!i.modified||!i.original)return null;var n=this.toDiffEditorViewStateResource(i);return n?n.toString()!==e.toString()?null:t.saveViewState():null},t.prototype.toDiffEditorViewStateResource=function(e){var t,i
;return e instanceof p.DiffEditorInput?(t=e.originalInput.getResource(),i=e.modifiedInput.getResource()):(t=e.original.uri,i=e.modified.uri),t&&i?I.URI.from({scheme:"diff",path:""+btoa(t.toString())+btoa(i.toString())}):null},t.prototype.dispose=function(){this.diffNavigatorDisposables=w.dispose(this.diffNavigatorDisposables),e.prototype.dispose.call(this)},t.ID=u.TEXT_DIFF_EDITOR_ID,t=r([o(0,v.ITelemetryService),o(1,S.IInstantiationService),o(2,m.IStorageService),o(3,y.ITextResourceConfigurationService),o(4,A.IEditorService),o(5,b.IThemeService),o(6,D.IEditorGroupsService),o(7,E.ITextFileService),o(8,T.IWindowService)],t)}(l.BaseTextEditor);t.TextDiffEditor=R}),define(e[105],t([1,0,2,30,67,15,12,115,205,65,6,13,49,52,428,19,34,10,9,38,23,28]),function(e,t,i,n,r,o,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E){"use strict";function w(){r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.MOVE_ACTIVE_EDITOR_COMMAND_ID,weight:200,when:a.EditorContextKeys.editorTextFocus,primary:null,handler:function(e,t){
return function(e,t){void 0===e&&(e=Object.create(null));e.to=e.to||"right",e.by=e.by||"tab",e.value="number"==typeof e.value?e.value:1;var i=t.get(s.IEditorService).activeControl;if(i)switch(e.by){case"tab":return function(e,t,i){var n=t.group,r=n.getIndexOfEditor(t.input);switch(e.to){case"first":r=0;break;case"last":r=n.count-1;break;case"left":r-=e.value;break;case"right":r+=e.value;break;case"center":r=Math.round(n.count/2)-1;break;case"position":r=e.value-1}r=r<0?0:r>=n.count?n.count-1:r,n.moveEditor(t.input,n,{index:r})}(e,i);case"group":return function(e,t,i){var n,r=i.get(v.IEditorGroupsService),o=i.get(y.IConfigurationService),s=t.group;switch(e.to){case"left":(n=r.findGroup({direction:2},s))||(n=r.addGroup(s,2));break;case"right":(n=r.findGroup({direction:3},s))||(n=r.addGroup(s,3));break;case"up":(n=r.findGroup({direction:0},s))||(n=r.addGroup(s,0));break;case"down":(n=r.findGroup({direction:1},s))||(n=r.addGroup(s,1));break;case"first":n=r.findGroup({location:0},s);break;case"last":
n=r.findGroup({location:1},s);break;case"previous":n=r.findGroup({location:3},s);break;case"next":(n=r.findGroup({location:2},s))||(n=r.addGroup(s,v.preferredSideBySideGroupDirection(o)));break;case"center":n=r.getGroups(2)[r.count/2-1];break;case"position":n=r.getGroups(2)[e.value-1]}n&&(s.moveEditor(t.input,n),n.focus())}(e,i,t)}}(t,e)},description:{description:i.localize("editorCommand.activeEditorMove.description","Move the active editor by tabs or groups"),args:[{name:i.localize("editorCommand.activeEditorMove.arg.name","Active editor move argument"),description:i.localize("editorCommand.activeEditorMove.arg.description","Argument Properties:\n\t* 'to': String value providing where to move.\n\t* 'by': String value providing the unit for move (by tab or by group).\n\t* 'value': Number value providing how many positions or an absolute position to move."),constraint:R}]}})}function C(){function e(e,t){var i=e.get(s.IEditorService),n=[i.activeControl].concat(i.visibleControls).filter(function(e){
return e instanceof c.TextDiffEditor});n.length>0&&(t?n[0].getDiffNavigator().next():n[0].getDiffNavigator().previous())}function n(e){var t=e.get(y.IConfigurationService),i=!t.getValue("diffEditor.renderSideBySide");t.updateValue("diffEditor.renderSideBySide",i,1)}r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.GOTO_NEXT_CHANGE,weight:200,when:o.TextCompareEditorVisibleContext,primary:575,handler:function(t){return e(t,!0)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.GOTO_PREVIOUS_CHANGE,weight:200,when:o.TextCompareEditorVisibleContext,primary:1599,handler:function(t){return e(t,!1)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.TOGGLE_DIFF_SIDE_BY_SIDE,weight:200,when:void 0,primary:void 0,handler:function(e){return n(e)}}),S.CommandsRegistry.registerCommand("toggle.diff.editorMode",function(e){n(e),
e.get(E.INotificationService).warn(i.localize("diffCommandDeprecation","Command 'toggle.diff.editorMode' has been deprecated. Please use '{0}' instead.",t.TOGGLE_DIFF_SIDE_BY_SIDE))}),b.MenuRegistry.appendMenuItem(b.MenuId.CommandPalette,{command:{id:t.TOGGLE_DIFF_SIDE_BY_SIDE,title:{value:i.localize("toggleInlineView","Toggle Inline View"),original:"Compare: Toggle Inline View"},category:i.localize("compare","Compare")},when:m.ContextKeyExpr.has("textCompareEditorActive")}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.TOGGLE_DIFF_IGNORE_TRIM_WHITESPACE,weight:200,when:void 0,primary:void 0,handler:function(e){return function(e){var t=e.get(y.IConfigurationService),i=!t.getValue("diffEditor.ignoreTrimWhitespace");t.updateValue("diffEditor.ignoreTrimWhitespace",i,1)}(e)}})}function I(e,t,i){var n;n=i&&"number"==typeof i.groupId?e.getGroup(i.groupId):e.activeGroup;var r,o=e.addGroup(n,t)
;(r=i&&"number"==typeof i.editorIndex?n.getEditor(i.editorIndex):n.activeEditor)&&r.supportsSplitEditor()&&n.copyEditor(r,o),o.focus()}function _(e,t){return d.URI.isUri(e)?t:e&&"number"==typeof e.groupId?e:t&&"number"==typeof t.groupId?t:void 0}function D(e,t){var i=t&&"number"==typeof t.groupId?e.getGroup(t.groupId):void 0,n=i&&"number"==typeof t.editorIndex?i.getEditor(t.editorIndex):void 0,r=i?i.activeControl:void 0;return i||(n=(i=e.activeGroup).activeEditor,r=i.activeControl),{group:i,editor:n,control:r}}function A(e,t,i){var n=t.lastFocusedList;if(n instanceof g.List&&n.isDOMFocused()){var r=function(e){return x(e)?{groupId:e.id,editorIndex:void 0}:{groupId:e.groupId,editorIndex:i.getGroup(e.groupId).getIndexOfEditor(e.editor)}},o=function(e){return x(e)||function(e){var t=e;return t&&"number"==typeof t.groupId}(e)},s=n.getFocusedElements().filter(o),a=e||(s.length?s.map(r)[0]:void 0);if(a){var c=n.getSelectedElements().filter(o);return c&&c.some(function(e){
return x(e)?e.id===a.groupId:e.groupId===a.groupId&&i.getGroup(e.groupId).getIndexOfEditor(e.editor)===a.editorIndex})?c.map(r):[a]}}return e?[e]:[]}function x(e){var t=e;return t&&"number"==typeof t.id&&Array.isArray(t.editors)}function T(){w(),S.CommandsRegistry.registerCommand(t.LAYOUT_EDITOR_GROUPS_COMMAND_ID,function(e,t){t&&"object"==typeof t&&e.get(v.IEditorGroupsService).applyLayout(t)}),C(),function(){function e(e){switch(e){case 0:return 21;case 1:return 22;case 2:return 23;case 3:return 24;case 4:return 25;case 5:return 26;case 6:return 27;case 7:return 28;case 8:return 29;case 9:return 30}}var i=function(e,t){var i=e.get(s.IEditorService),n=i.activeControl;if(n){var r=n.group.getEditor(t);r&&i.openEditor(r)}};S.CommandsRegistry.registerCommand({id:t.OPEN_EDITOR_AT_INDEX_COMMAND_ID,handler:i});for(var n=function(n){var o=n,s=n+1;r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.OPEN_EDITOR_AT_INDEX_COMMAND_ID+s,weight:200,when:void 0,primary:512|e(s),mac:{primary:256|e(s)},
handler:function(e){return i(e,o)}})},o=0;o<9;o++)n(o)}(),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.CLOSE_SAVED_EDITORS_COMMAND_ID,weight:200,when:void 0,primary:l.KeyChord(2089,51),handler:function(e,t,i){var n=e.get(v.IEditorGroupsService),r=A(_(t,i),e.get(h.IListService),n),o=n.activeGroup;return 0===r.length&&r.push({groupId:o.id}),Promise.all(f.distinct(r.map(function(e){return e.groupId})).map(function(e){return n.getGroup(e).closeEditors({savedOnly:!0})}))}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,weight:200,when:void 0,primary:l.KeyChord(297,53),handler:function(e,t,i){var n=e.get(v.IEditorGroupsService),r=A(_(t,i),e.get(h.IListService),n),o=f.distinct(r.map(function(e){return e.groupId}));return 0===o.length&&o.push(n.activeGroup.id),Promise.all(o.map(function(e){return n.getGroup(e).closeAllEditors()}))}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.CLOSE_EDITOR_COMMAND_ID,weight:200,when:void 0,primary:309,
win:{primary:2110,secondary:[2101]},handler:function(e,t,i){var n=e.get(v.IEditorGroupsService),r=A(_(t,i),e.get(h.IListService),n),o=n.activeGroup;0===r.length&&o.activeEditor&&r.push({groupId:o.id,editorIndex:o.getIndexOfEditor(o.activeEditor)});var s=f.distinct(r.map(function(e){return e.groupId}));return Promise.all(s.map(function(e){var t=n.getGroup(e),i=r.filter(function(t){return t.groupId===e}).map(function(e){return"number"==typeof e.editorIndex?t.getEditor(e.editorIndex):t.activeEditor});return t.closeEditors(i)}))}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.CLOSE_EDITOR_GROUP_COMMAND_ID,weight:200,when:m.ContextKeyExpr.and(o.ActiveEditorGroupEmptyContext,o.MultipleEditorGroupsContext),primary:309,win:{primary:2110,secondary:[2101]},handler:function(e,t,i){var n,r=e.get(v.IEditorGroupsService),o=_(t,i);n=o&&"number"==typeof o.groupId?r.getGroup(o.groupId):r.activeGroup,r.removeGroup(n)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({
id:t.CLOSE_OTHER_EDITORS_IN_GROUP_COMMAND_ID,weight:200,when:void 0,primary:void 0,mac:{primary:2610},handler:function(e,t,i){var n=e.get(v.IEditorGroupsService),r=A(_(t,i),e.get(h.IListService),n),o=n.activeGroup;0===r.length&&o.activeEditor&&r.push({groupId:o.id,editorIndex:o.getIndexOfEditor(o.activeEditor)});var s=f.distinct(r.map(function(e){return e.groupId}));return Promise.all(s.map(function(e){var t=n.getGroup(e),i=r.filter(function(t){return t.groupId===e}).map(function(e){return"number"==typeof e.editorIndex?t.getEditor(e.editorIndex):t.activeEditor}),o=t.editors.filter(function(e){return-1===i.indexOf(e)});return t.closeEditors(o)}))}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.CLOSE_EDITORS_TO_THE_RIGHT_COMMAND_ID,weight:200,when:void 0,primary:void 0,handler:function(e,t,i){var n=D(e.get(v.IEditorGroupsService),_(t,i)),r=n.group,o=n.editor;return r&&o?r.closeEditors({direction:1,except:o}):u.TPromise.as(!1)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({
id:t.KEEP_EDITOR_COMMAND_ID,weight:200,when:void 0,primary:l.KeyChord(2089,3),handler:function(e,t,i){var n=D(e.get(v.IEditorGroupsService),_(t,i)),r=n.group,o=n.editor;return r&&o?r.pinEditor(o):u.TPromise.as(!1)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.SHOW_EDITORS_IN_GROUP,weight:200,when:void 0,primary:void 0,handler:function(e,i,n){var r=e.get(v.IEditorGroupsService),o=e.get(p.IQuickOpenService);if(r.count<=1)return o.show(t.NAVIGATE_ALL_EDITORS_GROUP_PREFIX);var s=_(i,n);return s&&"number"==typeof s.groupId&&r.activateGroup(r.getGroup(s.groupId)),o.show(t.NAVIGATE_IN_ACTIVE_GROUP_PREFIX)}}),S.CommandsRegistry.registerCommand(t.CLOSE_EDITORS_AND_GROUP_COMMAND_ID,function(e,t,i){var n=e.get(v.IEditorGroupsService),r=D(n,_(t,i)).group;if(r)return r.closeAllEditors().then(function(){0===r.count&&n.getGroup(r.id)&&n.removeGroup(r)})}),function(){for(var e=function(e){r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:function(t){switch(e){case 1:
return"workbench.action.focusSecondEditorGroup";case 2:return"workbench.action.focusThirdEditorGroup";case 3:return"workbench.action.focusFourthEditorGroup";case 4:return"workbench.action.focusFifthEditorGroup";case 5:return"workbench.action.focusSixthEditorGroup";case 6:return"workbench.action.focusSeventhEditorGroup";case 7:return"workbench.action.focusEighthEditorGroup"}}(),weight:200,when:void 0,primary:2048|function(t){switch(e){case 1:return 23;case 2:return 24;case 3:return 25;case 4:return 26;case 5:return 27;case 6:return 28;case 7:return 29}}(),handler:function(t){var i=t.get(v.IEditorGroupsService),n=t.get(y.IConfigurationService);if(!(e>i.count)){var r=i.getGroups(2);if(r[e])return r[e].focus();var o=v.preferredSideBySideGroupDirection(n),s=i.findGroup({location:1});i.addGroup(s,o).focus()}}})},t=1;t<8;t++)e(t)}(),[{id:t.SPLIT_EDITOR_UP,direction:0},{id:t.SPLIT_EDITOR_DOWN,direction:1},{id:t.SPLIT_EDITOR_LEFT,direction:2},{id:t.SPLIT_EDITOR_RIGHT,direction:3}].forEach(function(e){
var t=e.id,i=e.direction;S.CommandsRegistry.registerCommand(t,function(e,t,n){I(e.get(v.IEditorGroupsService),i,_(t,n))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.CLOSE_SAVED_EDITORS_COMMAND_ID="workbench.action.closeUnmodifiedEditors",t.CLOSE_EDITORS_IN_GROUP_COMMAND_ID="workbench.action.closeEditorsInGroup",t.CLOSE_EDITORS_AND_GROUP_COMMAND_ID="workbench.action.closeEditorsAndGroup",t.CLOSE_EDITORS_TO_THE_RIGHT_COMMAND_ID="workbench.action.closeEditorsToTheRight",t.CLOSE_EDITOR_COMMAND_ID="workbench.action.closeActiveEditor",t.CLOSE_EDITOR_GROUP_COMMAND_ID="workbench.action.closeGroup",t.CLOSE_OTHER_EDITORS_IN_GROUP_COMMAND_ID="workbench.action.closeOtherEditors",t.MOVE_ACTIVE_EDITOR_COMMAND_ID="moveActiveEditor",t.LAYOUT_EDITOR_GROUPS_COMMAND_ID="layoutEditorGroups",t.KEEP_EDITOR_COMMAND_ID="workbench.action.keepEditor",t.SHOW_EDITORS_IN_GROUP="workbench.action.showEditorsInGroup",t.TOGGLE_DIFF_SIDE_BY_SIDE="toggle.diff.renderSideBySide",
t.GOTO_NEXT_CHANGE="workbench.action.compareEditor.nextChange",t.GOTO_PREVIOUS_CHANGE="workbench.action.compareEditor.previousChange",t.TOGGLE_DIFF_IGNORE_TRIM_WHITESPACE="toggle.diff.ignoreTrimWhitespace",t.SPLIT_EDITOR_UP="workbench.action.splitEditorUp",t.SPLIT_EDITOR_DOWN="workbench.action.splitEditorDown",t.SPLIT_EDITOR_LEFT="workbench.action.splitEditorLeft",t.SPLIT_EDITOR_RIGHT="workbench.action.splitEditorRight",t.NAVIGATE_ALL_EDITORS_GROUP_PREFIX="edt ",t.NAVIGATE_IN_ACTIVE_GROUP_PREFIX="edt active ",t.OPEN_EDITOR_AT_INDEX_COMMAND_ID="workbench.action.openEditorAtIndex";var R=function(e){return!!n.isObject(e)&&(!!n.isString(e.to)&&(!(!n.isUndefined(e.by)&&!n.isString(e.by))&&!(!n.isUndefined(e.value)&&!n.isNumber(e.value))))};t.mergeAllGroups=function(e){var t=e.activeGroup;e.getGroups(1).forEach(function(i){i!==t&&e.mergeGroup(i,t)})},t.splitEditor=I,t.getMultiSelectedEditorContexts=A,t.setup=T}),
define(e[165],t([1,0,6,2,14,40,15,69,54,49,42,135,32,38,29,45,105,34,12,9,4]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C){"use strict";function I(e){if(e instanceof u.QuickOpenEntryGroup){var t=e;t.getEntry()&&(e=t.getEntry())}return e instanceof d.EditorQuickOpenEntry||e instanceof d.EditorQuickOpenEntryGroup?e:null}Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.commandId=n,s.commandService=r,s.commandArgs=o,s}return i(t,e),t.prototype.run=function(){return this.commandService.executeCommand(this.commandId,this.commandArgs)},t}(a.Action);t.ExecuteCommandAction=_;var D=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.editorGroupService=n,o.configurationService=r,o.toDispose=[],o.direction=o.getDirection(),o.registerListeners(),o}return i(t,e),t.prototype.getDirection=function(){return b.preferredSideBySideGroupDirection(this.configurationService)},t.prototype.registerListeners=function(){var e=this
;this.toDispose.push(this.configurationService.onDidChangeConfiguration(function(t){t.affectsConfiguration("workbench.editor.openSideBySideDirection")&&(e.direction=b.preferredSideBySideGroupDirection(e.configurationService))}))},t.prototype.run=function(e){return S.splitEditor(this.editorGroupService,this.direction,e),n.TPromise.as(!0)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose=C.dispose(this.toDispose)},t}(a.Action);t.BaseSplitEditorAction=D;var A=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.ID="workbench.action.splitEditor",t.LABEL=s.localize("splitEditor","Split Editor"),t=r([o(2,b.IEditorGroupsService),o(3,w.IConfigurationService)],t)}(D);t.SplitEditorAction=A;var x=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.getDirection=function(){return 3===b.preferredSideBySideGroupDirection(this.configurationService)?1:3},t.ID="workbench.action.splitEditorOrthogonal",
t.LABEL=s.localize("splitEditorOrthogonal","Split Editor Orthogonal"),t=r([o(2,b.IEditorGroupsService),o(3,w.IConfigurationService)],t)}(D);t.SplitEditorOrthogonalAction=x;var T=function(e){function t(t,i,n){return e.call(this,t,i,S.SPLIT_EDITOR_LEFT,n)||this}return i(t,e),t.ID=S.SPLIT_EDITOR_LEFT,t.LABEL=s.localize("splitEditorGroupLeft","Split Editor Left"),t=r([o(2,v.ICommandService)],t)}(_);t.SplitEditorLeftAction=T;var R=function(e){function t(t,i,n){return e.call(this,t,i,S.SPLIT_EDITOR_RIGHT,n)||this}return i(t,e),t.ID=S.SPLIT_EDITOR_RIGHT,t.LABEL=s.localize("splitEditorGroupRight","Split Editor Right"),t=r([o(2,v.ICommandService)],t)}(_);t.SplitEditorRightAction=R;var O=function(e){function t(t,i,n){return e.call(this,t,i,S.SPLIT_EDITOR_UP,n)||this}return i(t,e),t.ID=S.SPLIT_EDITOR_UP,t.LABEL=s.localize("splitEditorGroupUp","Split Editor Up"),t=r([o(2,v.ICommandService)],t)}(_);t.SplitEditorUpAction=O;var M=function(e){function t(t,i,n){return e.call(this,t,i,S.SPLIT_EDITOR_DOWN,n)||this}
return i(t,e),t.ID=S.SPLIT_EDITOR_DOWN,t.LABEL=s.localize("splitEditorGroupDown","Split Editor Down"),t=r([o(2,v.ICommandService)],t)}(_);t.SplitEditorDownAction=M;var k=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(e){var t;t=e&&"number"==typeof e.groupId?this.editorGroupService.getGroup(e.groupId):this.editorGroupService.activeGroup;for(var i=[3,1,2,0],r=0;r<i.length;r++){var o=this.editorGroupService.findGroup({direction:i[r]},t);if(o&&t!==o)return this.editorGroupService.mergeGroup(t,o),n.TPromise.as(!0)}return n.TPromise.as(!0)},t.ID="workbench.action.joinTwoGroups",t.LABEL=s.localize("joinTwoGroups","Join Editor Group with Next Group"),t=r([o(2,b.IEditorGroupsService)],t)}(a.Action);t.JoinTwoGroupsAction=k;var P=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(e){return S.mergeAllGroups(this.editorGroupService),n.TPromise.as(!0)},
t.ID="workbench.action.joinAllGroups",t.LABEL=s.localize("joinAllGroups","Join All Editor Groups"),t=r([o(2,b.IEditorGroupsService)],t)}(a.Action);t.JoinAllGroupsAction=P;var L=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(){return this.editorGroupService.findGroup({location:2},this.editorGroupService.activeGroup,!0).focus(),n.TPromise.as(!0)},t.ID="workbench.action.navigateEditorGroups",t.LABEL=s.localize("navigateEditorGroups","Navigate Between Editor Groups"),t=r([o(2,b.IEditorGroupsService)],t)}(a.Action);t.NavigateBetweenGroupsAction=L;var F=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(){return this.editorGroupService.activeGroup.focus(),n.TPromise.as(!0)},t.ID="workbench.action.focusActiveEditorGroup",t.LABEL=s.localize("focusActiveEditorGroup","Focus Active Editor Group"),t=r([o(2,b.IEditorGroupsService)],t)}(a.Action)
;t.FocusActiveGroupAction=F;var N=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.scope=n,o.editorGroupService=r,o}return i(t,e),t.prototype.run=function(){var e=this.editorGroupService.findGroup(this.scope,this.editorGroupService.activeGroup,!0);return e&&e.focus(),n.TPromise.as(!0)},t=r([o(3,b.IEditorGroupsService)],t)}(a.Action);t.BaseFocusGroupAction=N;var B=function(e){function t(t,i,n){return e.call(this,t,i,{location:0},n)||this}return i(t,e),t.ID="workbench.action.focusFirstEditorGroup",t.LABEL=s.localize("focusFirstEditorGroup","Focus First Editor Group"),t=r([o(2,b.IEditorGroupsService)],t)}(N);t.FocusFirstGroupAction=B;var V=function(e){function t(t,i,n){return e.call(this,t,i,{location:1},n)||this}return i(t,e),t.ID="workbench.action.focusLastEditorGroup",t.LABEL=s.localize("focusLastEditorGroup","Focus Last Editor Group"),t=r([o(2,b.IEditorGroupsService)],t)}(N);t.FocusLastGroupAction=V;var W=function(e){function t(t,i,n){return e.call(this,t,i,{location:2},n)||this}
return i(t,e),t.ID="workbench.action.focusNextGroup",t.LABEL=s.localize("focusNextGroup","Focus Next Editor Group"),t=r([o(2,b.IEditorGroupsService)],t)}(N);t.FocusNextGroup=W;var G=function(e){function t(t,i,n){return e.call(this,t,i,{location:3},n)||this}return i(t,e),t.ID="workbench.action.focusPreviousGroup",t.LABEL=s.localize("focusPreviousGroup","Focus Previous Editor Group"),t=r([o(2,b.IEditorGroupsService)],t)}(N);t.FocusPreviousGroup=G;var K=function(e){function t(t,i,n){return e.call(this,t,i,{direction:2},n)||this}return i(t,e),t.ID="workbench.action.focusLeftGroup",t.LABEL=s.localize("focusLeftGroup","Focus Left Editor Group"),t=r([o(2,b.IEditorGroupsService)],t)}(N);t.FocusLeftGroup=K;var z=function(e){function t(t,i,n){return e.call(this,t,i,{direction:3},n)||this}return i(t,e),t.ID="workbench.action.focusRightGroup",t.LABEL=s.localize("focusRightGroup","Focus Right Editor Group"),t=r([o(2,b.IEditorGroupsService)],t)}(N);t.FocusRightGroup=z;var H=function(e){function t(t,i,n){
return e.call(this,t,i,{direction:0},n)||this}return i(t,e),t.ID="workbench.action.focusAboveGroup",t.LABEL=s.localize("focusAboveGroup","Focus Above Editor Group"),t=r([o(2,b.IEditorGroupsService)],t)}(N);t.FocusAboveGroup=H;var U=function(e){function t(t,i,n){return e.call(this,t,i,{direction:1},n)||this}return i(t,e),t.ID="workbench.action.focusBelowGroup",t.LABEL=s.localize("focusBelowGroup","Focus Below Editor Group"),t=r([o(2,b.IEditorGroupsService)],t)}(N);t.FocusBelowGroup=U;var j=function(e){function t(i,n){var r=e.call(this,t.OPEN_TO_SIDE_ID,t.OPEN_TO_SIDE_LABEL)||this;return r.editorService=i,r.configurationService=n,r.updateClass(),r}return i(t,e),t.prototype.updateClass=function(){var e=b.preferredSideBySideGroupDirection(this.configurationService);this.class=3===e?"quick-open-sidebyside-vertical":"quick-open-sidebyside-horizontal"},t.prototype.run=function(e){var t=I(e);if(t){var i=t.getInput();if(i instanceof l.EditorInput)return this.editorService.openEditor(i,t.getOptions(),E.SIDE_GROUP)
;var r=i;return r.options=c.mixin(r.options,t.getOptions()),this.editorService.openEditor(r,E.SIDE_GROUP)}return n.TPromise.as(!1)},t.OPEN_TO_SIDE_ID="workbench.action.openToSide",t.OPEN_TO_SIDE_LABEL=s.localize("openToSide","Open to the Side"),t=r([o(0,E.IEditorService),o(1,w.IConfigurationService)],t)}(a.Action);t.OpenToSideFromQuickOpenAction=j,t.toEditorQuickOpenEntry=I;var q=function(e){function t(t,i,n){var r=e.call(this,t,i,"close-editor-action")||this;return r.commandService=n,r}return i(t,e),t.prototype.run=function(e){return this.commandService.executeCommand(S.CLOSE_EDITOR_COMMAND_ID,void 0,e)},t.ID="workbench.action.closeActiveEditor",t.LABEL=s.localize("closeEditor","Close Editor"),t=r([o(2,v.ICommandService)],t)}(a.Action);t.CloseEditorAction=q;var Q=function(e){function t(t,i,n){var r=e.call(this,t,i,"close-editor-action")||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(e){var t,i;if(e&&(t=this.editorGroupService.getGroup(e.groupId))&&(i=e.editorIndex),
t||(t=this.editorGroupService.activeGroup),"number"==typeof i){var r=t.getEditor(i);if(r)return t.closeEditor(r)}return t.activeEditor?t.closeEditor(t.activeEditor):n.TPromise.as(!1)},t.ID="workbench.action.closeActiveEditor",t.LABEL=s.localize("closeOneEditor","Close"),t=r([o(2,b.IEditorGroupsService)],t)}(a.Action);t.CloseOneEditorAction=Q;var Y=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorService=n,r}return i(t,e),t.prototype.run=function(){var e=this.editorService.activeControl;if(e){var t=e.input,i=e.group;return t.revert().then(function(){return i.closeEditor(t)},function(e){return t.revert({soft:!0}).then(function(){return i.closeEditor(t)})})}return n.TPromise.as(!1)},t.ID="workbench.action.revertAndCloseActiveEditor",t.LABEL=s.localize("revertAndCloseActiveEditor","Revert and Close Editor"),t=r([o(2,E.IEditorService)],t)}(a.Action);t.RevertAndCloseEditorAction=Y;var X=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.editorService=n,
o.editorGroupService=r,o}return i(t,e),t.prototype.run=function(e){var t=function(e,t,i){return i?{editor:i.editor,group:t.getGroup(i.groupId)}:{group:t.activeGroup,editor:t.activeGroup.activeEditor}}(this.editorService,this.editorGroupService,e),i=t.group,r=t.editor;return i&&r?i.closeEditors({direction:0,except:r}):n.TPromise.as(!1)},t.ID="workbench.action.closeEditorsToTheLeft",t.LABEL=s.localize("closeEditorsToTheLeft","Close Editors to the Left in Group"),t=r([o(2,E.IEditorService),o(3,b.IEditorGroupsService)],t)}(a.Action);t.CloseLeftEditorsInGroupAction=X;var $=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i,n)||this;return s.textFileService=r,s.editorGroupService=o,s}return i(t,e),Object.defineProperty(t.prototype,"groupsToClose",{get:function(){for(var e=[],t=this.editorGroupService.getGroups(2),i=t.length-1;i>=0;i--)e.push(t[i]);return e},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this
;return this.textFileService.getDirty().length<2?this.doCloseAll():this.textFileService.confirmSave().then(function(t){if(2!==t){return(1===t?e.textFileService.revertAll(null,{soft:!0}).then(function(){return!0}):e.textFileService.saveAll(!0).then(function(e){return e.results.every(function(e){return e.success})})).then(function(t){if(t)return e.doCloseAll()})}})},t}(a.Action);t.BaseCloseAllAction=$;var J=function(e){function t(t,i,n,r){return e.call(this,t,i,"action-close-all-files",n,r)||this}return i(t,e),t.prototype.doCloseAll=function(){return Promise.all(this.groupsToClose.map(function(e){return e.closeAllEditors()}))},t.ID="workbench.action.closeAllEditors",t.LABEL=s.localize("closeAllEditors","Close All Editors"),t=r([o(2,m.ITextFileService),o(3,b.IEditorGroupsService)],t)}($);t.CloseAllEditorsAction=J;var Z=function(e){function t(t,i,n,r){return e.call(this,t,i,void 0,n,r)||this}return i(t,e),t.prototype.doCloseAll=function(){var e=this;return Promise.all(this.groupsToClose.map(function(e){
return e.closeAllEditors()})).then(function(){e.groupsToClose.forEach(function(t){return e.editorGroupService.removeGroup(t)})})},t.ID="workbench.action.closeAllGroups",t.LABEL=s.localize("closeAllGroups","Close All Editor Groups"),t=r([o(2,m.ITextFileService),o(3,b.IEditorGroupsService)],t)}($);t.CloseAllEditorGroupsAction=Z;var ee=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getGroup(e.groupId):this.editorGroupService.activeGroup;return Promise.all(this.editorGroupService.getGroups(1).map(function(e){return e.id===t.id?n.TPromise.as(null):e.closeAllEditors()}))},t.ID="workbench.action.closeEditorsInOtherGroups",t.LABEL=s.localize("closeEditorsInOtherGroups","Close Editors in Other Groups"),t=r([o(2,b.IEditorGroupsService)],t)}(a.Action);t.CloseEditorsInOtherGroupsAction=ee;var te=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.editorGroupService=n,o.editorService=r,o}
return i(t,e),t.prototype.run=function(){var e=this.editorService.activeEditor;return e?Promise.all(this.editorGroupService.getGroups(1).map(function(t){return t.closeEditor(e)})):n.TPromise.as(null)},t.ID="workbench.action.closeEditorInAllGroups",t.LABEL=s.localize("closeEditorInAllGroups","Close Editor in All Groups"),t=r([o(2,b.IEditorGroupsService),o(3,E.IEditorService)],t)}(a.Action);t.CloseEditorInAllGroupsAction=te;var ie=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.direction=n,o.editorGroupService=r,o}return i(t,e),t.prototype.run=function(e){var t;t=e&&"number"==typeof e.groupId?this.editorGroupService.getGroup(e.groupId):this.editorGroupService.activeGroup;var i=this.findTargetGroup(t);return i&&this.editorGroupService.moveGroup(t,i,this.direction),n.TPromise.as(!0)},t.prototype.findTargetGroup=function(e){var t=[this.direction];switch(this.direction){case 2:case 3:t.push(0,1);break;case 0:case 1:t.push(2,3)}for(var i=0;i<t.length;i++){
var n=this.editorGroupService.findGroup({direction:t[i]},e);if(n)return n}},t}(a.Action);t.BaseMoveGroupAction=ie;var ne=function(e){function t(t,i,n){return e.call(this,t,i,2,n)||this}return i(t,e),t.ID="workbench.action.moveActiveEditorGroupLeft",t.LABEL=s.localize("moveActiveGroupLeft","Move Editor Group Left"),t=r([o(2,b.IEditorGroupsService)],t)}(ie);t.MoveGroupLeftAction=ne;var re=function(e){function t(t,i,n){return e.call(this,t,i,3,n)||this}return i(t,e),t.ID="workbench.action.moveActiveEditorGroupRight",t.LABEL=s.localize("moveActiveGroupRight","Move Editor Group Right"),t=r([o(2,b.IEditorGroupsService)],t)}(ie);t.MoveGroupRightAction=re;var oe=function(e){function t(t,i,n){return e.call(this,t,i,0,n)||this}return i(t,e),t.ID="workbench.action.moveActiveEditorGroupUp",t.LABEL=s.localize("moveActiveGroupUp","Move Editor Group Up"),t=r([o(2,b.IEditorGroupsService)],t)}(ie);t.MoveGroupUpAction=oe;var se=function(e){function t(t,i,n){return e.call(this,t,i,1,n)||this}return i(t,e),
t.ID="workbench.action.moveActiveEditorGroupDown",t.LABEL=s.localize("moveActiveGroupDown","Move Editor Group Down"),t=r([o(2,b.IEditorGroupsService)],t)}(ie);t.MoveGroupDownAction=se;var ae=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(){return this.editorGroupService.arrangeGroups(0),n.TPromise.as(!1)},t.ID="workbench.action.minimizeOtherEditors",t.LABEL=s.localize("minimizeOtherEditorGroups","Maximize Editor Group"),t=r([o(2,b.IEditorGroupsService)],t)}(a.Action);t.MinimizeOtherGroupsAction=ae;var ce=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorGroupService=n,r}return i(t,e),t.prototype.run=function(){return this.editorGroupService.arrangeGroups(1),n.TPromise.as(!1)},t.ID="workbench.action.evenEditorWidths",t.LABEL=s.localize("evenEditorGroups","Reset Editor Group Sizes"),t=r([o(2,b.IEditorGroupsService)],t)}(a.Action);t.ResetGroupSizesAction=ce;var le=function(e){function t(t,i,n,r,o){
var s=e.call(this,t,i)||this;return s.editorService=n,s.editorGroupService=r,s.partService=o,s}return i(t,e),t.prototype.run=function(){return this.editorService.activeEditor?(this.editorGroupService.arrangeGroups(0),this.partService.setSideBarHidden(!0)):n.TPromise.as(!1)},t.ID="workbench.action.maximizeEditor",t.LABEL=s.localize("maximizeEditor","Maximize Editor Group and Hide Sidebar"),t=r([o(2,E.IEditorService),o(3,b.IEditorGroupsService),o(4,h.IPartService)],t)}(a.Action);t.MaximizeGroupAction=le;var ue=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.editorGroupService=n,o.editorService=r,o}return i(t,e),t.prototype.run=function(){var e=this.navigate();if(!e)return n.TPromise.as(!1);var t=e.groupId,i=e.editor;if(!i)return n.TPromise.as(!1);return this.editorGroupService.getGroup(t).openEditor(i)},t}(a.Action);t.BaseNavigateEditorAction=ue;var de=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.navigate=function(){
var e=this.editorGroupService.activeGroup,t=e.getEditors(1),i=t.indexOf(e.activeEditor);if(i+1<t.length)return{editor:t[i+1],groupId:e.id};var n=this.editorGroupService.findGroup({location:2},this.editorGroupService.activeGroup,!0);if(n){return{editor:n.getEditors(1)[0],groupId:n.id}}},t.ID="workbench.action.nextEditor",t.LABEL=s.localize("openNextEditor","Open Next Editor"),t=r([o(2,b.IEditorGroupsService),o(3,E.IEditorService)],t)}(ue);t.OpenNextEditor=de;var pe=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.navigate=function(){var e=this.editorGroupService.activeGroup,t=e.getEditors(1),i=t.indexOf(e.activeEditor);if(i>0)return{editor:t[i-1],groupId:e.id};var n=this.editorGroupService.findGroup({location:3},this.editorGroupService.activeGroup,!0);if(n){var r=n.getEditors(1);return{editor:r[r.length-1],groupId:n.id}}},t.ID="workbench.action.previousEditor",t.LABEL=s.localize("openPreviousEditor","Open Previous Editor"),
t=r([o(2,b.IEditorGroupsService),o(3,E.IEditorService)],t)}(ue);t.OpenPreviousEditor=pe;var he=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.navigate=function(){var e=this.editorGroupService.activeGroup,t=e.getEditors(1),i=t.indexOf(e.activeEditor);return{editor:i+1<t.length?t[i+1]:t[0],groupId:e.id}},t.ID="workbench.action.nextEditorInGroup",t.LABEL=s.localize("nextEditorInGroup","Open Next Editor in Group"),t=r([o(2,b.IEditorGroupsService),o(3,E.IEditorService)],t)}(ue);t.OpenNextEditorInGroup=he;var ge=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.navigate=function(){var e=this.editorGroupService.activeGroup,t=e.getEditors(1),i=t.indexOf(e.activeEditor);return{editor:i>0?t[i-1]:t[t.length-1],groupId:e.id}},t.ID="workbench.action.previousEditorInGroup",t.LABEL=s.localize("openPreviousEditorInGroup","Open Previous Editor in Group"),t=r([o(2,b.IEditorGroupsService),o(3,E.IEditorService)],t)}(ue)
;t.OpenPreviousEditorInGroup=ge;var fe=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.navigate=function(){var e=this.editorGroupService.activeGroup;return{editor:e.getEditors(1)[0],groupId:e.id}},t.ID="workbench.action.firstEditorInGroup",t.LABEL=s.localize("firstEditorInGroup","Open First Editor in Group"),t=r([o(2,b.IEditorGroupsService),o(3,E.IEditorService)],t)}(ue);t.OpenFirstEditorInGroup=fe;var ve=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.prototype.navigate=function(){var e=this.editorGroupService.activeGroup,t=e.getEditors(1);return{editor:t[t.length-1],groupId:e.id}},t.ID="workbench.action.lastEditorInGroup",t.LABEL=s.localize("lastEditorInGroup","Open Last Editor in Group"),t=r([o(2,b.IEditorGroupsService),o(3,E.IEditorService)],t)}(ue);t.OpenLastEditorInGroup=ve;var me=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){
return this.historyService.forward(),n.TPromise.as(null)},t.ID="workbench.action.navigateForward",t.LABEL=s.localize("navigateNext","Go Forward"),t=r([o(2,g.IHistoryService)],t)}(a.Action);t.NavigateForwardAction=me;var ye=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.back(),n.TPromise.as(null)},t.ID="workbench.action.navigateBack",t.LABEL=s.localize("navigatePrevious","Go Back"),t=r([o(2,g.IHistoryService)],t)}(a.Action);t.NavigateBackwardsAction=ye;var Se=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.openLastEditLocation(),n.TPromise.as(null)},t.ID="workbench.action.navigateToLastEditLocation",t.LABEL=s.localize("navigateToLastEditLocation","Go to Last Edit Location"),t=r([o(2,g.IHistoryService)],t)}(a.Action);t.NavigateToLastEditLocationAction=Se;var be=function(e){function t(t,i,n){
var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.last(),n.TPromise.as(null)},t.ID="workbench.action.navigateLast",t.LABEL=s.localize("navigateLast","Go Last"),t=r([o(2,g.IHistoryService)],t)}(a.Action);t.NavigateLastAction=be;var Ee=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.reopenLastClosedEditor(),n.TPromise.as(!1)},t.ID="workbench.action.reopenClosedEditor",t.LABEL=s.localize("reopenClosedEditor","Reopen Closed Editor"),t=r([o(2,g.IHistoryService)],t)}(a.Action);t.ReopenClosedEditorAction=Ee;var we=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.windowsService=n,o.historyService=r,o}return i(t,e),t.prototype.run=function(){return this.windowsService.clearRecentlyOpened(),this.historyService.clearRecentlyOpened(),n.TPromise.as(!1)},t.ID="workbench.action.clearRecentFiles",
t.LABEL=s.localize("clearRecentFiles","Clear Recently Opened"),t=r([o(2,y.IWindowsService),o(3,g.IHistoryService)],t)}(a.Action);t.ClearRecentFilesAction=we;var Ce=function(e){function t(t,i,n){return e.call(this,t,i,S.NAVIGATE_IN_ACTIVE_GROUP_PREFIX,n)||this}return i(t,e),t.ID="workbench.action.showEditorsInActiveGroup",t.LABEL=s.localize("showEditorsInActiveGroup","Show Editors in Active Group"),t=r([o(2,p.IQuickOpenService)],t)}(d.QuickOpenAction);t.ShowEditorsInActiveGroupAction=Ce;var Ie=function(e){function t(t,i,n){return e.call(this,t,i,S.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,n)||this}return i(t,e),t.ID="workbench.action.showAllEditors",t.LABEL=s.localize("showAllEditors","Show All Editors"),t=r([o(2,p.IQuickOpenService)],t)}(d.QuickOpenAction);t.ShowAllEditorsAction=Ie;var _e=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.quickOpenService=n,o.keybindingService=r,o}return i(t,e),t.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id)
;return this.quickOpenService.show(S.NAVIGATE_IN_ACTIVE_GROUP_PREFIX,{quickNavigateConfiguration:{keybindings:e}}),n.TPromise.as(!0)},t=r([o(2,p.IQuickOpenService),o(3,f.IKeybindingService)],t)}(a.Action);t.BaseQuickOpenEditorInGroupAction=_e;var De=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.ID="workbench.action.openPreviousRecentlyUsedEditorInGroup",t.LABEL=s.localize("openPreviousRecentlyUsedEditorInGroup","Open Previous Recently Used Editor in Group"),t=r([o(2,p.IQuickOpenService),o(3,f.IKeybindingService)],t)}(_e);t.OpenPreviousRecentlyUsedEditorInGroupAction=De;var Ae=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return i(t,e),t.ID="workbench.action.openNextRecentlyUsedEditorInGroup",t.LABEL=s.localize("openNextRecentlyUsedEditorInGroup","Open Next Recently Used Editor in Group"),t=r([o(2,p.IQuickOpenService),o(3,f.IKeybindingService)],t)}(_e);t.OpenNextRecentlyUsedEditorInGroupAction=Ae;var xe=function(e){function t(t,i,n,r){
var o=e.call(this,t,i)||this;return o.quickOpenService=n,o.keybindingService=r,o}return i(t,e),t.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id);return this.quickOpenService.show(null,{quickNavigateConfiguration:{keybindings:e}}),n.TPromise.as(!0)},t.ID="workbench.action.openPreviousEditorFromHistory",t.LABEL=s.localize("navigateEditorHistoryByInput","Open Previous Editor from History"),t=r([o(2,p.IQuickOpenService),o(3,f.IKeybindingService)],t)}(a.Action);t.OpenPreviousEditorFromHistoryAction=xe;var Te=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.forward(!0),n.TPromise.as(null)},t.ID="workbench.action.openNextRecentlyUsedEditor",t.LABEL=s.localize("openNextRecentlyUsedEditor","Open Next Recently Used Editor"),t=r([o(2,g.IHistoryService)],t)}(a.Action);t.OpenNextRecentlyUsedEditorAction=Te;var Re=function(e){function t(t,i,n){var r=e.call(this,t,i)||this
;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.back(!0),n.TPromise.as(null)},t.ID="workbench.action.openPreviousRecentlyUsedEditor",t.LABEL=s.localize("openPreviousRecentlyUsedEditor","Open Previous Recently Used Editor"),t=r([o(2,g.IHistoryService)],t)}(a.Action);t.OpenPreviousRecentlyUsedEditorAction=Re;var Oe=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.historyService=n,r}return i(t,e),t.prototype.run=function(){return this.historyService.clear(),n.TPromise.as(!0)},t.ID="workbench.action.clearEditorHistory",t.LABEL=s.localize("clearEditorHistory","Clear Editor History"),t=r([o(2,g.IHistoryService)],t)}(a.Action);t.ClearEditorHistoryAction=Oe;var Me=function(e){function t(t,i,n){return e.call(this,t,i,S.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"left"})||this}return i(t,e),t.ID="workbench.action.moveEditorLeftInGroup",t.LABEL=s.localize("moveEditorLeft","Move Editor Left"),t=r([o(2,v.ICommandService)],t)}(_);t.MoveEditorLeftInGroupAction=Me
;var ke=function(e){function t(t,i,n){return e.call(this,t,i,S.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"right"})||this}return i(t,e),t.ID="workbench.action.moveEditorRightInGroup",t.LABEL=s.localize("moveEditorRight","Move Editor Right"),t=r([o(2,v.ICommandService)],t)}(_);t.MoveEditorRightInGroupAction=ke;var Pe=function(e){function t(t,i,n){return e.call(this,t,i,S.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"previous",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToPreviousGroup",t.LABEL=s.localize("moveEditorToPreviousGroup","Move Editor into Previous Group"),t=r([o(2,v.ICommandService)],t)}(_);t.MoveEditorToPreviousGroupAction=Pe;var Le=function(e){function t(t,i,n){return e.call(this,t,i,S.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"next",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToNextGroup",t.LABEL=s.localize("moveEditorToNextGroup","Move Editor into Next Group"),t=r([o(2,v.ICommandService)],t)}(_);t.MoveEditorToNextGroupAction=Le;var Fe=function(e){function t(t,i,n){
return e.call(this,t,i,S.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"up",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToAboveGroup",t.LABEL=s.localize("moveEditorToAboveGroup","Move Editor into Above Group"),t=r([o(2,v.ICommandService)],t)}(_);t.MoveEditorToAboveGroupAction=Fe;var Ne=function(e){function t(t,i,n){return e.call(this,t,i,S.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"down",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToBelowGroup",t.LABEL=s.localize("moveEditorToBelowGroup","Move Editor into Below Group"),t=r([o(2,v.ICommandService)],t)}(_);t.MoveEditorToBelowGroupAction=Ne;var Be=function(e){function t(t,i,n){return e.call(this,t,i,S.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"left",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToLeftGroup",t.LABEL=s.localize("moveEditorToLeftGroup","Move Editor into Left Group"),t=r([o(2,v.ICommandService)],t)}(_);t.MoveEditorToLeftGroupAction=Be;var Ve=function(e){function t(t,i,n){
return e.call(this,t,i,S.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"right",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToRightGroup",t.LABEL=s.localize("moveEditorToRightGroup","Move Editor into Right Group"),t=r([o(2,v.ICommandService)],t)}(_);t.MoveEditorToRightGroupAction=Ve;var We=function(e){function t(t,i,n){return e.call(this,t,i,S.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"first",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToFirstGroup",t.LABEL=s.localize("moveEditorToFirstGroup","Move Editor into First Group"),t=r([o(2,v.ICommandService)],t)}(_);t.MoveEditorToFirstGroupAction=We;var Ge=function(e){function t(t,i,n){return e.call(this,t,i,S.MOVE_ACTIVE_EDITOR_COMMAND_ID,n,{to:"last",by:"group"})||this}return i(t,e),t.ID="workbench.action.moveEditorToLastGroup",t.LABEL=s.localize("moveEditorToLastGroup","Move Editor into Last Group"),t=r([o(2,v.ICommandService)],t)}(_);t.MoveEditorToLastGroupAction=Ge;var Ke=function(e){function t(t,i,n){
return e.call(this,t,i,S.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{}]})||this}return i(t,e),t.ID="workbench.action.editorLayoutSingle",t.LABEL=s.localize("editorLayoutSingle","Single Column Editor Layout"),t=r([o(2,v.ICommandService)],t)}(_);t.EditorLayoutSingleAction=Ke;var ze=function(e){function t(t,i,n){return e.call(this,t,i,S.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{},{}],orientation:0})||this}return i(t,e),t.ID="workbench.action.editorLayoutTwoColumns",t.LABEL=s.localize("editorLayoutTwoColumns","Two Columns Editor Layout"),t=r([o(2,v.ICommandService)],t)}(_);t.EditorLayoutTwoColumnsAction=ze;var He=function(e){function t(t,i,n){return e.call(this,t,i,S.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{},{},{}],orientation:0})||this}return i(t,e),t.ID="workbench.action.editorLayoutThreeColumns",t.LABEL=s.localize("editorLayoutThreeColumns","Three Columns Editor Layout"),t=r([o(2,v.ICommandService)],t)}(_);t.EditorLayoutThreeColumnsAction=He;var Ue=function(e){function t(t,i,n){
return e.call(this,t,i,S.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{},{}],orientation:1})||this}return i(t,e),t.ID="workbench.action.editorLayoutTwoRows",t.LABEL=s.localize("editorLayoutTwoRows","Two Rows Editor Layout"),t=r([o(2,v.ICommandService)],t)}(_);t.EditorLayoutTwoRowsAction=Ue;var je=function(e){function t(t,i,n){return e.call(this,t,i,S.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{},{},{}],orientation:1})||this}return i(t,e),t.ID="workbench.action.editorLayoutThreeRows",t.LABEL=s.localize("editorLayoutThreeRows","Three Rows Editor Layout"),t=r([o(2,v.ICommandService)],t)}(_);t.EditorLayoutThreeRowsAction=je;var qe=function(e){function t(t,i,n){return e.call(this,t,i,S.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{groups:[{},{}]},{groups:[{},{}]}]})||this}return i(t,e),t.ID="workbench.action.editorLayoutTwoByTwoGrid",t.LABEL=s.localize("editorLayoutTwoByTwoGrid","Grid Editor Layout (2x2)"),t=r([o(2,v.ICommandService)],t)}(_);t.EditorLayoutTwoByTwoGridAction=qe;var Qe=function(e){function t(t,i,n){
return e.call(this,t,i,S.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{},{groups:[{},{}]}],orientation:1})||this}return i(t,e),t.ID="workbench.action.editorLayoutTwoColumnsBottom",t.LABEL=s.localize("editorLayoutTwoColumnsBottom","Two Columns Bottom Editor Layout"),t=r([o(2,v.ICommandService)],t)}(_);t.EditorLayoutTwoColumnsBottomAction=Qe;var Ye=function(e){function t(t,i,n){return e.call(this,t,i,S.LAYOUT_EDITOR_GROUPS_COMMAND_ID,n,{groups:[{},{groups:[{},{}]}],orientation:0})||this}return i(t,e),t.ID="workbench.action.editorLayoutTwoRowsRight",t.LABEL=s.localize("editorLayoutTwoRowsRight","Two Rows Right Editor Layout"),t=r([o(2,v.ICommandService)],t)}(_);t.EditorLayoutTwoRowsRightAction=Ye;var Xe=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.direction=n,o.editorGroupService=r,o}return i(t,e),t.prototype.run=function(){return this.editorGroupService.addGroup(this.editorGroupService.activeGroup,this.direction,{activate:!0}),n.TPromise.as(!0)},t}(a.Action)
;t.BaseCreateEditorGroupAction=Xe;var $e=function(e){function t(t,i,n){return e.call(this,t,i,2,n)||this}return i(t,e),t.ID="workbench.action.newGroupLeft",t.LABEL=s.localize("newEditorLeft","New Editor Group to the Left"),t=r([o(2,b.IEditorGroupsService)],t)}(Xe);t.NewEditorGroupLeftAction=$e;var Je=function(e){function t(t,i,n){return e.call(this,t,i,3,n)||this}return i(t,e),t.ID="workbench.action.newGroupRight",t.LABEL=s.localize("newEditorRight","New Editor Group to the Right"),t=r([o(2,b.IEditorGroupsService)],t)}(Xe);t.NewEditorGroupRightAction=Je;var Ze=function(e){function t(t,i,n){return e.call(this,t,i,0,n)||this}return i(t,e),t.ID="workbench.action.newGroupAbove",t.LABEL=s.localize("newEditorAbove","New Editor Group Above"),t=r([o(2,b.IEditorGroupsService)],t)}(Xe);t.NewEditorGroupAboveAction=Ze;var et=function(e){function t(t,i,n){return e.call(this,t,i,1,n)||this}return i(t,e),t.ID="workbench.action.newGroupBelow",t.LABEL=s.localize("newEditorBelow","New Editor Group Below"),
t=r([o(2,b.IEditorGroupsService)],t)}(Xe);t.NewEditorGroupBelowAction=et}),define(e[130],t([1,0,6,134,140,155,25,35,15,267,3,5,29,183,103,63]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this)||this;return u.resource=t,u.modeId=n,u.initialValue=r,u.preferredEncoding=o,u.instantiationService=s,u.textFileService=a,u.hashService=c,u.labelService=l,u._onDidModelChangeContent=u._register(new g.Emitter),u._onDidModelChangeEncoding=u._register(new g.Emitter),u._hasAssociatedFilePath=i,u}return i(t,e),Object.defineProperty(t.prototype,"onDidModelChangeContent",{get:function(){return this._onDidModelChangeContent.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidModelChangeEncoding",{get:function(){return this._onDidModelChangeEncoding.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAssociatedFilePath",{get:function(){
return this._hasAssociatedFilePath},enumerable:!0,configurable:!0}),t.prototype.getTypeId=function(){return t.ID},t.prototype.getResource=function(){return this.resource},t.prototype.getModeId=function(){return this.cachedModel?this.cachedModel.getModeId():this.modeId},t.prototype.getName=function(){return this.hasAssociatedFilePath?u.basenameOrAuthority(this.resource):this.resource.path},Object.defineProperty(t.prototype,"shortDescription",{get:function(){return l.basename(this.labelService.getUriLabel(u.dirname(this.resource)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediumDescription",{get:function(){return this.labelService.getUriLabel(u.dirname(this.resource),{relative:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longDescription",{get:function(){return this.labelService.getUriLabel(u.dirname(this.resource))},enumerable:!0,configurable:!0}),t.prototype.getDescription=function(e){if(void 0===e&&(e=1),!this.hasAssociatedFilePath)return null;var t
;switch(e){case 0:t=this.shortDescription;break;case 2:t=this.longDescription;break;case 1:default:t=this.mediumDescription}return t},Object.defineProperty(t.prototype,"shortTitle",{get:function(){return this.getName()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediumTitle",{get:function(){return this.labelService.getUriLabel(this.resource,{relative:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longTitle",{get:function(){return this.labelService.getUriLabel(this.resource)},enumerable:!0,configurable:!0}),t.prototype.getTitle=function(e){if(!this.hasAssociatedFilePath)return this.getName();var t;switch(e){case 0:t=this.shortTitle;break;case 1:t=this.mediumTitle;break;case 2:t=this.longTitle}return t},t.prototype.isDirty=function(){return this.cachedModel?this.cachedModel.isDirty():!this.isDisposed()&&this.hasAssociatedFilePath},t.prototype.confirmSave=function(){return this.textFileService.confirmSave([this.resource])},t.prototype.save=function(){
return this.textFileService.save(this.resource)},t.prototype.revert=function(){return this.cachedModel&&this.cachedModel.revert(),this.dispose(),n.TPromise.as(!0)},t.prototype.suggestFileName=function(){if(!this.hasAssociatedFilePath&&this.cachedModel){var e=this.cachedModel.getModeId();if(e!==c.PLAINTEXT_MODE_ID)return s.suggestFilename(e,this.getName())}return this.getName()},t.prototype.getEncoding=function(){return this.cachedModel?this.cachedModel.getEncoding():this.preferredEncoding},t.prototype.setEncoding=function(e,t){this.preferredEncoding=e,this.cachedModel&&this.cachedModel.setEncoding(e)},t.prototype.resolve=function(){return this.modelResolve?this.modelResolve:(this.cachedModel=this.createModel(),this.modelResolve=this.cachedModel.load(),this.modelResolve)},t.prototype.createModel=function(){var e=this,t=this._register(this.instantiationService.createInstance(p.UntitledEditorModel,this.modeId,this.resource,this.hasAssociatedFilePath,this.initialValue,this.preferredEncoding))
;return this._register(t.onDidChangeContent(function(){return e._onDidModelChangeContent.fire()})),this._register(t.onDidChangeDirty(function(){return e._onDidChangeDirty.fire()})),this._register(t.onDidChangeEncoding(function(){return e._onDidModelChangeEncoding.fire()})),t},t.prototype.getTelemetryDescriptor=function(){var t=this,i=e.prototype.getTelemetryDescriptor.call(this);return i.resource=v.telemetryURIDescriptor(this.getResource(),function(e){return t.hashService.createSHA1(e)}),i},t.prototype.matches=function(i){if(!0===e.prototype.matches.call(this,i))return!0;if(i instanceof t){return i.resource.toString()===this.resource.toString()}return!1},t.prototype.dispose=function(){this.modelResolve=void 0,e.prototype.dispose.call(this)},t.ID="workbench.editors.untitledEditorInput",r([a.memoize],t.prototype,"shortDescription",null),r([a.memoize],t.prototype,"mediumDescription",null),r([a.memoize],t.prototype,"longDescription",null),r([a.memoize],t.prototype,"shortTitle",null),
r([a.memoize],t.prototype,"mediumTitle",null),r([a.memoize],t.prototype,"longTitle",null),t=r([o(5,h.IInstantiationService),o(6,f.ITextFileService),o(7,m.IHashService),o(8,y.ILabelService)],t)}(d.EditorInput);t.UntitledEditorInput=S}),define(e[355],t([1,0,6,2,30,102,119,130,128,31,36,85,3,11,29,5,34,12,45]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=function(e){function t(t,i,n,r,o,s,a,c,l,u){return e.call(this,t,i,n,r,o,s,c,l,a,u)||this}return i(t,e),t.prototype.getTitle=function(){return this.input?this.input.getName():s.localize("textEditor","Text Editor")},t.prototype.setInput=function(t,i,r){var o=this;return this.saveTextResourceEditorViewState(this.input),e.prototype.setInput.call(this,t,i,r).then(function(){return t.resolve().then(function(e){if(!r.isCancellationRequested){if(!(e instanceof l.BaseTextEditorModel))return n.TPromise.wrapError(new Error("Unable to open file as text"));var s=o.getControl(),c=e.textEditorModel
;s.setModel(c);var u=!1,d=i;d&&a.isFunction(d.apply)&&(u=d.apply(s,1)),u||o.restoreTextResourceEditorViewState(t)}})})},t.prototype.restoreTextResourceEditorViewState=function(e){if(e instanceof u.UntitledEditorInput||e instanceof c.ResourceEditorInput){var t=this.loadTextEditorViewState(e.getResource());t&&this.getControl().restoreViewState(t)}},t.prototype.setOptions=function(e){var t=e;t&&a.isFunction(t.apply)&&t.apply(this.getControl(),0)},t.prototype.getConfigurationOverrides=function(){var t=e.prototype.getConfigurationOverrides.call(this);return t.readOnly=!(this.input instanceof u.UntitledEditorInput),t},t.prototype.getAriaLabel=function(){var e=this.input,t=!(this.input instanceof u.UntitledEditorInput),i=e&&e.getName()
;return t?i?s.localize("readonlyEditorWithInputAriaLabel","{0}. Readonly text editor.",i):s.localize("readonlyEditorAriaLabel","Readonly text editor."):i?s.localize("untitledFileEditorWithInputAriaLabel","{0}. Untitled file text editor.",i):s.localize("untitledFileEditorAriaLabel","Untitled file text editor.")},t.prototype.revealLastLine=function(e){var t=this.getControl(),i=t.getModel();if(i){var n=i.getLineCount();e&&t.getPosition().lineNumber!==n||t.revealPosition({lineNumber:n,column:i.getLineMaxColumn(n)},0)}},t.prototype.clearInput=function(){this.saveTextResourceEditorViewState(this.input),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.shutdown=function(){this.input instanceof u.UntitledEditorInput&&this.saveTextResourceEditorViewState(this.input),e.prototype.shutdown.call(this)},t.prototype.saveTextResourceEditorViewState=function(t){var i=this;if(t instanceof u.UntitledEditorInput||t instanceof c.ResourceEditorInput){var n=t.getResource()
;t.isDisposed()?e.prototype.clearTextEditorViewState.call(this,[n]):(e.prototype.saveTextEditorViewState.call(this,n),y.once(t.onDispose)(function(){e.prototype.clearTextEditorViewState.call(i,[n])}))}},t=r([o(1,p.ITelemetryService),o(2,f.IInstantiationService),o(3,h.IStorageService),o(4,g.ITextResourceConfigurationService),o(5,v.IThemeService),o(6,S.IEditorGroupsService),o(7,m.ITextFileService),o(8,b.IEditorService),o(9,E.IWindowService)],t)}(d.BaseTextEditor);t.AbstractTextResourceEditor=w;var C=function(e){function t(i,n,r,o,s,a,c,l,u){return e.call(this,t.ID,i,n,r,o,s,l,a,c,u)||this}return i(t,e),t.ID="workbench.editors.textResourceEditor",t=r([o(0,p.ITelemetryService),o(1,f.IInstantiationService),o(2,h.IStorageService),o(3,g.ITextResourceConfigurationService),o(4,v.IThemeService),o(5,m.ITextFileService),o(6,b.IEditorService),o(7,S.IEditorGroupsService),o(8,E.IWindowService)],t)}(w);t.TextResourceEditor=C}),define(e[56],t([1,0,13,16,111,10,4,37,43,29,456,8,109]),function(e,t,i,n,s,a,c,l,u,d,p,h,g){
"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEWLET_ID="workbench.view.explorer",t.VIEW_CONTAINER=h.Registry.as(g.Extensions.ViewContainersRegistry).registerViewContainer(t.VIEWLET_ID);t.ExplorerViewletVisibleContext=new a.RawContextKey("explorerViewletVisible",!0),t.ExplorerFolderContext=new a.RawContextKey("explorerResourceIsFolder",!1),t.ExplorerResourceReadonlyContext=new a.RawContextKey("explorerResourceReadonly",!1),t.ExplorerResourceNotReadonlyContext=t.ExplorerResourceReadonlyContext.toNegated(),t.ExplorerRootContext=new a.RawContextKey("explorerResourceIsRoot",!1),t.FilesExplorerFocusedContext=new a.RawContextKey("filesExplorerFocus",!0),t.OpenEditorsVisibleContext=new a.RawContextKey("openEditorsVisible",!1),t.OpenEditorsFocusedContext=new a.RawContextKey("openEditorsFocus",!0),t.ExplorerFocusedContext=new a.RawContextKey("explorerViewletFocus",!0),t.OpenEditorsVisibleCondition=a.ContextKeyExpr.has("openEditorsVisible"),
t.FilesExplorerFocusCondition=a.ContextKeyExpr.and(a.ContextKeyExpr.has("explorerViewletVisible"),a.ContextKeyExpr.has("filesExplorerFocus"),a.ContextKeyExpr.not(p.InputFocusedContextKey)),t.ExplorerFocusCondition=a.ContextKeyExpr.and(a.ContextKeyExpr.has("explorerViewletVisible"),a.ContextKeyExpr.has("explorerViewletFocus"),a.ContextKeyExpr.not(p.InputFocusedContextKey)),t.PREFERENCES_EDITOR_ID="workbench.editor.preferencesEditor",t.TEXT_FILE_EDITOR_ID="workbench.editors.files.textFileEditor",t.FILE_EDITOR_INPUT_ID="workbench.editors.files.fileEditorInput",t.BINARY_FILE_EDITOR_ID="workbench.editors.files.binaryFileEditor",t.explorerItemToFileResource=function(e){if(e instanceof s.ExplorerItem){var t=e;return{resource:t.resource,isDirectory:t.isDirectory}}if(e instanceof s.OpenEditor){var i=e.getResource();if(i)return{resource:i}}return null},t.SortOrderConfiguration={DEFAULT:"default",MIXED:"mixed",FILES_FIRST:"filesFirst",TYPE:"type",MODIFIED:"modified"};var f=function(){function e(e,t,i,n){
this.textFileService=e,this.fileService=t,this.modeService=i,this.modelService=n}return e.prototype.provideTextContent=function(e){var t=this,n=i.URI.file(e.fsPath);return this.resolveEditorModel(e).then(function(i){if(!t.fileWatcher){t.fileWatcher=t.fileService.onFileChanges(function(i){i.contains(n,0)&&t.resolveEditorModel(e,!1)});var r=i.onWillDispose(function(){r.dispose(),t.fileWatcher=c.dispose(t.fileWatcher)})}return i})},e.prototype.resolveEditorModel=function(e,t){var n=this;void 0===t&&(t=!0);var r=i.URI.file(e.fsPath);return this.textFileService.resolveTextContent(r).then(function(i){var o=n.modelService.getModel(e);if(o)n.modelService.updateModel(o,i.value);else if(t){var s=n.modelService.getModel(r),a=void 0;a=s?n.modeService.getOrCreateMode(s.getModeId()):n.modeService.getOrCreateModeByFilepathOrFirstLine(r.fsPath),o=n.modelService.createModel(i.value,a,e)}return o})},e.prototype.dispose=function(){this.fileWatcher=c.dispose(this.fileWatcher)},
e=r([o(0,d.ITextFileService),o(1,n.IFileService),o(2,u.IModeService),o(3,l.IModelService)],e)}();t.FileOnDiskContentProvider=f}),define(e[141],t([1,0,2,140,25,35,15,138,29,3,183,64,103,56,63]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=function(e){function t(t,i,n,r,o,s,a){var c=e.call(this)||this;return c.resource=t,c.instantiationService=n,c.textFileService=r,c.textModelResolverService=o,c.hashService=s,c.labelService=a,c.setPreferredEncoding(i),c.registerListeners(),c}return i(t,e),t.prototype.registerListeners=function(){var e=this;this._register(this.textFileService.models.onModelDirty(function(t){return e.onDirtyStateChange(t)})),this._register(this.textFileService.models.onModelSaveError(function(t){return e.onDirtyStateChange(t)})),this._register(this.textFileService.models.onModelSaved(function(t){return e.onDirtyStateChange(t)})),this._register(this.textFileService.models.onModelReverted(function(t){return e.onDirtyStateChange(t)})),
this._register(this.textFileService.models.onModelOrphanedChanged(function(t){return e.onModelOrphanedChanged(t)}))},t.prototype.onDirtyStateChange=function(e){e.resource.toString()===this.resource.toString()&&this._onDidChangeDirty.fire()},t.prototype.onModelOrphanedChanged=function(e){e.resource.toString()===this.resource.toString()&&this._onDidChangeLabel.fire()},t.prototype.getResource=function(){return this.resource},t.prototype.getEncoding=function(){var e=this.textFileService.models.get(this.resource);return e?e.getEncoding():this.preferredEncoding},t.prototype.getPreferredEncoding=function(){return this.preferredEncoding},t.prototype.setEncoding=function(e,t){this.preferredEncoding=e;var i=this.textFileService.models.get(this.resource);i&&i.setEncoding(e,t)},t.prototype.setPreferredEncoding=function(e){this.preferredEncoding=e,e&&(this.forceOpenAsText=!0)},t.prototype.setForceOpenAsText=function(){this.forceOpenAsText=!0,this.forceOpenAsBinary=!1},t.prototype.setForceOpenAsBinary=function(){
this.forceOpenAsBinary=!0,this.forceOpenAsText=!1},t.prototype.getTypeId=function(){return v.FILE_EDITOR_INPUT_ID},t.prototype.getName=function(){return this.name||(this.name=c.basenameOrAuthority(this.resource)),this.decorateLabel(this.name)},Object.defineProperty(t.prototype,"shortDescription",{get:function(){return a.basename(this.labelService.getUriLabel(c.dirname(this.resource)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediumDescription",{get:function(){return this.labelService.getUriLabel(c.dirname(this.resource),{relative:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longDescription",{get:function(){return this.labelService.getUriLabel(c.dirname(this.resource),{relative:!0})},enumerable:!0,configurable:!0}),t.prototype.getDescription=function(e){void 0===e&&(e=1);var t;switch(e){case 0:t=this.shortDescription;break;case 2:t=this.longDescription;break;case 1:default:t=this.mediumDescription}return t},Object.defineProperty(t.prototype,"shortTitle",{
get:function(){return this.getName()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediumTitle",{get:function(){return this.labelService.getUriLabel(this.resource,{relative:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longTitle",{get:function(){return this.labelService.getUriLabel(this.resource)},enumerable:!0,configurable:!0}),t.prototype.getTitle=function(e){var t;switch(e){case 0:t=this.shortTitle;break;case 1:t=this.mediumTitle;break;case 2:t=this.longTitle}return this.decorateLabel(t)},t.prototype.decorateLabel=function(e){var t=this.textFileService.models.get(this.resource);return t&&t.hasState(4)?n.localize("orphanedFile","{0} (deleted from disk)",e):t&&t.isReadonly()?n.localize("readonlyFile","{0} (read-only)",e):e},t.prototype.isDirty=function(){var e=this.textFileService.models.get(this.resource);return!!e&&(!(!e.hasState(3)&&!e.hasState(5))||1!==this.textFileService.getAutoSaveMode()&&e.isDirty())},t.prototype.confirmSave=function(){
return this.textFileService.confirmSave([this.resource])},t.prototype.save=function(){return this.textFileService.save(this.resource)},t.prototype.revert=function(e){return this.textFileService.revert(this.resource,e)},t.prototype.getPreferredEditorId=function(e){return this.forceOpenAsBinary?v.BINARY_FILE_EDITOR_ID:v.TEXT_FILE_EDITOR_ID},t.prototype.resolve=function(){return this.forceOpenAsBinary?this.doResolveAsBinary():this.doResolveAsText()},t.prototype.doResolveAsText=function(){var e=this;return this.textFileService.models.loadOrCreate(this.resource,{encoding:this.preferredEncoding,reload:{async:!0},allowBinary:this.forceOpenAsText,reason:1}).then(function(t){return e.textModelReference||(e.textModelReference=e.textModelResolverService.createModelReference(e.resource)),e.textModelReference.then(function(e){return e.object})},function(t){return 0===t.fileOperationResult||8===t.fileOperationResult?e.doResolveAsBinary():Promise.reject(t)})},t.prototype.doResolveAsBinary=function(){
return this.instantiationService.createInstance(u.BinaryEditorModel,this.resource,this.getName()).load().then(function(e){return e})},t.prototype.isResolved=function(){return!!this.textFileService.models.get(this.resource)},t.prototype.getTelemetryDescriptor=function(){var t=this,i=e.prototype.getTelemetryDescriptor.call(this);return i.resource=h.telemetryURIDescriptor(this.getResource(),function(e){return t.hashService.createSHA1(e)}),i},t.prototype.dispose=function(){this.textModelReference&&(this.textModelReference.then(function(e){return e.dispose()}),this.textModelReference=null),e.prototype.dispose.call(this)},t.prototype.matches=function(i){return!0===e.prototype.matches.call(this,i)||!!i&&(i instanceof t&&i.resource.toString()===this.resource.toString())},r([s.memoize],t.prototype,"shortDescription",null),r([s.memoize],t.prototype,"mediumDescription",null),r([s.memoize],t.prototype,"longDescription",null),r([s.memoize],t.prototype,"shortTitle",null),r([s.memoize],t.prototype,"mediumTitle",null),
r([s.memoize],t.prototype,"longTitle",null),t=r([o(2,p.IInstantiationService),o(3,d.ITextFileService),o(4,g.ITextModelService),o(5,f.IHashService),o(6,m.ILabelService)],t)}(l.EditorInput);t.FileEditorInput=y}),define(e[358],t([1,0,2,159,31,11,45,141,56,16,12]),function(e,t,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(i,n,r,o,s){var a=e.call(this,t.ID,{openInternal:function(e,t){return a.openInternal(e,t)},openExternal:function(e){return a.openExternal(e)}},i,n,r)||this;return a.windowsService=o,a.editorService=s,a}return i(t,e),t.prototype.openInternal=function(e,t){e instanceof u.FileEditorInput&&(e.setForceOpenAsText(),this.editorService.openEditor(e,t,this.group))},t.prototype.openExternal=function(e){var t=this;this.windowsService.openExternal(e.toString()).then(function(i){if(!i)return t.windowsService.showItemInFolder(e.fsPath)})},t.prototype.getTitle=function(){
return this.input?this.input.getName():n.localize("binaryFileEditor","Binary File Viewer")},t.ID=d.BINARY_FILE_EDITOR_ID,t=r([o(0,a.ITelemetryService),o(1,c.IThemeService),o(2,p.IFileService),o(3,l.IWindowsService),o(4,h.IEditorService)],t)}(s.BaseBinaryResourceEditor);t.BinaryFileEditor=g}),define(e[359],t([1,0,35,15,29,16,141,60,4,19,47,9,20,39,21,51,160,45,56,12,34,17,24]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var D=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this)||this;return u.editorService=t,u.textFileService=i,u.lifecycleService=n,u.editorGroupService=r,u.fileService=o,u.environmentService=s,u.configurationService=a,u.contextService=c,u.windowService=l,u.modelLoadQueue=new I.ResourceQueue,u.activeOutOfWorkspaceWatchers=new v.ResourceMap,u.onConfigurationUpdated(a.getValue()),u.registerListeners(),u}return i(t,e),t.prototype.registerListeners=function(){var e=this
;this._register(this.fileService.onAfterOperation(function(t){return e.onFileOperation(t)})),this._register(this.fileService.onFileChanges(function(t){return e.onFileChanges(t)})),this._register(this.editorService.onDidVisibleEditorsChange(function(){return e.handleOutOfWorkspaceWatchers()})),this._register(this.windowService.onDidChangeFocus(function(t){return e.onWindowFocusChange(t)})),this.lifecycleService.onShutdown(this.dispose,this),this._register(this.configurationService.onDidChangeConfiguration(function(t){return e.onConfigurationUpdated(e.configurationService.getValue())}))},t.prototype.onConfigurationUpdated=function(e){e.workbench&&e.workbench.editor&&"boolean"==typeof e.workbench.editor.closeOnFileDelete?this.closeOnFileDelete=e.workbench.editor.closeOnFileDelete:this.closeOnFileDelete=!1},t.prototype.onWindowFocusChange=function(e){var t=this;e&&p.distinct(this.editorService.visibleEditors.map(function(e){var i=s.toResource(e,{supportSideBySide:!0})
;return i?t.textFileService.models.get(i):void 0}).filter(function(e){return e&&!e.isDirty()}),function(e){return e.getResource().toString()}).forEach(function(e){return t.queueModelLoad(e)})},t.prototype.onFileOperation=function(e){2===e.operation&&this.handleMovedFileInOpenedEditors(e.resource,e.target.resource),1!==e.operation&&2!==e.operation||this.handleDeletes(e.resource,!1,e.target?e.target.resource:void 0)},t.prototype.onFileChanges=function(e){(e.gotAdded()||e.gotUpdated())&&this.handleUpdates(e),e.gotDeleted()&&this.handleDeletes(e,!0)},t.prototype.handleDeletes=function(e,t,i){var r=this;this.getOpenedFileEditors(!1).forEach(function(o){var s=o.getResource();if(r.closeOnFileDelete||!t||!o.isResolved()){if(i&&n.isEqualOrParent(s,i))return;if(!(e instanceof c.FileChangesEvent?e.contains(s,2):n.isEqualOrParent(s,e)))return;(t?I.timeout(100).then(function(){return r.fileService.existsFile(s)}):Promise.resolve(!1)).then(function(e){
e||o.isDisposed()?r.environmentService.verbose&&console.warn("File exists even though we received a delete event: "+s.toString()):o.dispose()})}})},t.prototype.getOpenedFileEditors=function(e){var t=[];return this.editorService.editors.forEach(function(i){if(i instanceof l.FileEditorInput)!!i.isDirty()===e&&t.push(i);else if(i instanceof s.SideBySideEditorInput){var n=i.master,r=i.details;n instanceof l.FileEditorInput&&!!n.isDirty()===e&&t.push(n),r instanceof l.FileEditorInput&&!!r.isDirty()===e&&t.push(r)}}),t},t.prototype.handleMovedFileInOpenedEditors=function(e,t){var i=this;this.editorGroupService.groups.forEach(function(r){r.editors.forEach(function(o){if(o instanceof l.FileEditorInput){var s=o.getResource();if(n.isEqualOrParent(s,e)){var a=void 0;if(e.toString()===s.toString())a=t;else{var c=i.getIndexOfPath(s.path,e.path);a=n.joinPath(t,s.path.substr(c+e.path.length+1))}i.editorService.replaceEditors([{editor:{resource:s},replacement:{resource:a,options:{preserveFocus:!0,pinned:r.isPinned(o),
index:r.getIndexOfEditor(o),inactive:!r.isActive(o),viewState:i.getViewStateFor(e,r)}}}],r)}}})})},t.prototype.getIndexOfPath=function(e,t){return t.length>e.length?-1:e===t?0:(f.isLinux||(e=e.toLowerCase(),t=t.toLowerCase()),e.indexOf(t))},t.prototype.getViewStateFor=function(e,t){for(var i=this.editorService.visibleControls,n=0;n<i.length;n++){var r=i[n];if(r&&r.input&&r.group===t){var o=r.input.getResource();if(o&&e.toString()===o.toString()){var s=r.getControl();if(y.isCodeEditor(s))return s.saveViewState()}}}},t.prototype.handleUpdates=function(e){this.handleUpdatesToTextModels(e),this.handleUpdatesToVisibleBinaryEditors(e)},t.prototype.handleUpdatesToTextModels=function(e){var t=this;p.distinct(e.getUpdated().concat(e.getAdded()).map(function(e){return t.textFileService.models.get(e.resource)}).filter(function(e){return e&&!e.isDirty()}),function(e){return e.getResource().toString()}).forEach(function(e){return t.queueModelLoad(e)})},t.prototype.queueModelLoad=function(e){
var t=this.modelLoadQueue.queueFor(e.getResource());t.size<=1&&t.queue(function(){return e.load().then(null,_.onUnexpectedError)})},t.prototype.handleUpdatesToVisibleBinaryEditors=function(e){var t=this;this.editorService.visibleControls.forEach(function(i){var n=s.toResource(i.input,{supportSideBySide:!0}),r=!1;r=i instanceof S.SideBySideEditor?i.getMasterEditor().getId()===E.BINARY_FILE_EDITOR_ID:i.getId()===E.BINARY_FILE_EDITOR_ID,n&&r&&(e.contains(n,0)||e.contains(n,1))&&t.editorService.openEditor(i.input,{forceReload:!0,preserveFocus:!0},i.group)})},t.prototype.handleOutOfWorkspaceWatchers=function(){var e=this,t=new v.ResourceMap;this.editorService.visibleEditors.map(function(e){return s.toResource(e,{supportSideBySide:!0})}).filter(function(t){return!!t&&e.fileService.canHandleResource(t)&&!e.contextService.isInsideWorkspace(t)}).forEach(function(e){t.set(e,e)}),this.activeOutOfWorkspaceWatchers.forEach(function(i){t.get(i)||(e.fileService.unwatchFileChanges(i),e.activeOutOfWorkspaceWatchers.delete(i))
}),t.forEach(function(t){e.activeOutOfWorkspaceWatchers.get(t)||(e.fileService.watchFileChanges(t),e.activeOutOfWorkspaceWatchers.set(t,t))})},t.prototype.dispose=function(){var t=this;e.prototype.dispose.call(this),this.activeOutOfWorkspaceWatchers.forEach(function(e){return t.fileService.unwatchFileChanges(e)}),this.activeOutOfWorkspaceWatchers.clear()},t=r([o(0,w.IEditorService),o(1,a.ITextFileService),o(2,u.ILifecycleService),o(3,C.IEditorGroupsService),o(4,c.IFileService),o(5,h.IEnvironmentService),o(6,g.IConfigurationService),o(7,m.IWorkspaceContextService),o(8,b.IWindowService)],t)}(d.Disposable);t.FileEditorTracker=D}),define(e[211],t([1,0,7,110,87,19,17,57,24,5,461,4,22,13,6,58,231,85,361,477,481,482,2,10,3,91,90,8,36,31,26,41,11,21,106,75,128,56,344,144,96,12,34,61,153,29,45]),function(e,t,n,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V,W,G,K,z,H,U,j,q,Q,Y,X,$){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var J=function(e){function t(i,n,r,o,s,a,c){
var l=e.call(this,t.ID,n,a)||this;return l.preferencesService=i,l.editorService=r,l.contextKeyService=o,l.instantiationService=s,l.progressService=c,l.lastFocusedWidget=null,l.minimumHeight=260,l._onDidCreateWidget=new g.Emitter,l.onDidSizeConstraintsChange=l._onDidCreateWidget.event,l.defaultSettingsEditorContextKey=U.CONTEXT_SETTINGS_EDITOR.bindTo(l.contextKeyService),l.searchFocusContextKey=U.CONTEXT_SETTINGS_SEARCH_FOCUS.bindTo(l.contextKeyService),l.delayedFilterLogging=new d.Delayer(1e3),l.localSearchDelayer=new d.Delayer(100),l.remoteSearchThrottle=new d.ThrottledDelayer(200),l}return i(t,e),Object.defineProperty(t.prototype,"minimumWidth",{get:function(){return this.sideBySidePreferencesWidget?this.sideBySidePreferencesWidget.minimumWidth:0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumWidth",{get:function(){return this.sideBySidePreferencesWidget?this.sideBySidePreferencesWidget.maximumWidth:Number.POSITIVE_INFINITY},set:function(e){},enumerable:!0,
configurable:!0}),t.prototype.createEditor=function(e){var t=this;n.addClass(e,"preferences-editor"),this.headerContainer=n.append(e,n.$(".preferences-header")),this.searchWidget=this._register(this.instantiationService.createInstance(H.SearchWidget,this.headerContainer,{ariaLabel:A.localize("SearchSettingsWidget.AriaLabel","Search settings"),placeholder:A.localize("SearchSettingsWidget.Placeholder","Search Settings"),focusKey:this.searchFocusContextKey,showResultCount:!0,ariaLive:"assertive"})),this._register(this.searchWidget.onDidChange(function(e){return t.onInputChanged()})),this._register(this.searchWidget.onFocus(function(){return t.lastFocusedWidget=t.searchWidget})),this.lastFocusedWidget=this.searchWidget;var i=n.append(e,n.$(".preferences-editors-container"));this.sideBySidePreferencesWidget=this._register(this.instantiationService.createInstance(te,i)),this._onDidCreateWidget.fire(),this._register(this.sideBySidePreferencesWidget.onFocus(function(){
return t.lastFocusedWidget=t.sideBySidePreferencesWidget})),this._register(this.sideBySidePreferencesWidget.onDidSettingsTargetChange(function(e){return t.switchSettings(e)})),this.preferencesRenderers=this._register(this.instantiationService.createInstance(ee)),this._register(this.preferencesRenderers.onDidFilterResultsCountChange(function(e){return t.showSearchResultsMessage(e)}))},t.prototype.clearSearchResults=function(){this.searchWidget&&this.searchWidget.clear()},t.prototype.focusNextResult=function(){this.preferencesRenderers&&this.preferencesRenderers.focusNextPreference(!0)},t.prototype.focusPreviousResult=function(){this.preferencesRenderers&&this.preferencesRenderers.focusNextPreference(!1)},t.prototype.editFocusedPreference=function(){this.preferencesRenderers.editFocusedPreference()},t.prototype.setInput=function(t,i,n){var r=this;return this.defaultSettingsEditorContextKey.set(!0),i&&i.query&&this.focusSearch(i.query),e.prototype.setInput.call(this,t,i,n).then(function(){
return r.updateInput(t,i,n)})},t.prototype.layout=function(e){this.searchWidget.layout(e);var t=n.getTotalHeight(this.headerContainer);this.sideBySidePreferencesWidget.layout(new n.Dimension(e.width,e.height-t))},t.prototype.getControl=function(){return this.sideBySidePreferencesWidget.getControl()},t.prototype.focus=function(){this.lastFocusedWidget&&this.lastFocusedWidget.focus()},t.prototype.focusSearch=function(e){e&&this.searchWidget.setValue(e),this.searchWidget.focus()},t.prototype.focusSettingsFileEditor=function(){this.sideBySidePreferencesWidget&&this.sideBySidePreferencesWidget.focus()},t.prototype.clearInput=function(){this.defaultSettingsEditorContextKey.set(!1),this.sideBySidePreferencesWidget.clearInput(),this.preferencesRenderers.onHidden(),e.prototype.clearInput.call(this)},t.prototype.setEditorVisible=function(t,i){this.sideBySidePreferencesWidget.setEditorVisible(t,i),e.prototype.setEditorVisible.call(this,t,i)},t.prototype.updateInput=function(e,t,i){var n=this
;return this.sideBySidePreferencesWidget.setInput(e.details,e.master,t,i).then(function(e){var t=e.defaultPreferencesRenderer,r=e.editablePreferencesRenderer;i.isCancellationRequested||(n.preferencesRenderers.defaultPreferencesRenderer=t,n.preferencesRenderers.editablePreferencesRenderer=r,n.onInputChanged())})},t.prototype.onInputChanged=function(){var e=this,t=this.searchWidget.getValue().trim();this.delayedFilterLogging.cancel(),this.triggerSearch(t).then(function(){e.preferencesRenderers.lastFilterResult&&e.delayedFilterLogging.trigger(function(){return e.reportFilteringUsed(t,e.preferencesRenderers.lastFilterResult)})})},t.prototype.triggerSearch=function(e){var t=this;return e?S.TPromise.join([this.localSearchDelayer.trigger(function(){return t.preferencesRenderers.localFilterPreferences(e).then(function(){})}),this.remoteSearchThrottle.trigger(function(){return S.TPromise.wrap(t.progressService.showWhile(t.preferencesRenderers.remoteSearchPreferences(e),500))})]):(this.localSearchDelayer.cancel(),
this.preferencesRenderers.localFilterPreferences(e),this.remoteSearchThrottle.cancel(),this.preferencesRenderers.remoteSearchPreferences(e))},t.prototype.switchSettings=function(e){var t=this;this.editorService.activeControl!==this&&this.focus();(this.input&&this.input.isDirty()?this.input.save():S.TPromise.as(!0)).then(function(i){1===e?t.preferencesService.switchSettings(1,t.preferencesService.userSettingsResource,!0):2===e?t.preferencesService.switchSettings(2,t.preferencesService.workspaceSettingsResource,!0):e instanceof y.URI&&t.preferencesService.switchSettings(3,e,!0)})},t.prototype.showSearchResultsMessage=function(e){var t=e.count
;e.target?this.sideBySidePreferencesWidget.setResultCount(e.target,e.count):this.searchWidget.getValue()?0===t?this.searchWidget.showMessage(A.localize("noSettingsFound","No Results"),t):1===t?this.searchWidget.showMessage(A.localize("oneSettingFound","1 Setting Found"),t):this.searchWidget.showMessage(A.localize("settingsFound","{0} Settings Found",t),t):this.searchWidget.showMessage(A.localize("totalSettingsMessage","Total {0} Settings",t),t)},t.prototype._countById=function(e){for(var t={},i=0,n=e;i<n.length;i++){for(var r=n[i],o=0,s=0,a=r.sections;s<a.length;s++){o+=a[s].settings.length}t[r.id]=o}return t},t.prototype.reportFilteringUsed=function(e,t){if(e&&e!==this._lastReportedFilter){var i,n=t&&t.metadata,r=t&&this._countById(t.filteredGroups);n&&(i=Object.create(null),Object.keys(n).forEach(function(e){return i[e]=n[e].duration}));var o={filter:e,durations:i,counts:r,requestCount:n&&n.nlpResult&&n.nlpResult.requestCount};this.telemetryService.publicLog("defaultSettings.filter",o),
this._lastReportedFilter=e}},t.prototype.dispose=function(){this._onDidCreateWidget.dispose(),e.prototype.dispose.call(this)},t.ID=K.PREFERENCES_EDITOR_ID,t=r([o(0,Q.IPreferencesService),o(1,P.ITelemetryService),o(2,j.IEditorService),o(3,x.IContextKeyService),o(4,T.IInstantiationService),o(5,N.IThemeService),o(6,O.IProgressService)],t)}(W.BaseEditor);t.PreferencesEditor=J;var Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.next=function(){return e.prototype.next.call(this)||e.prototype.first.call(this)},t.prototype.previous=function(){return e.prototype.previous.call(this)||e.prototype.last.call(this)},t.prototype.reset=function(){this.index=this.start-1},t}(f.ArrayNavigator),ee=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.preferencesSearchService=t,s.telemetryService=i,s.preferencesService=n,s.workspaceContextService=r,s.logService=o,s._defaultPreferencesRendererDisposables=[],s._editablePreferencesRendererDisposables=[],
s._prefsModelsForSearch=new Map,s._onDidFilterResultsCountChange=s._register(new g.Emitter),s.onDidFilterResultsCountChange=s._onDidFilterResultsCountChange.event,s}return i(t,e),Object.defineProperty(t.prototype,"lastFilterResult",{get:function(){return this._lastFilterResult},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultPreferencesRenderer",{get:function(){return this._defaultPreferencesRenderer},set:function(e){var t=this;this._defaultPreferencesRenderer!==e&&(this._defaultPreferencesRenderer=e,this._defaultPreferencesRendererDisposables=v.dispose(this._defaultPreferencesRendererDisposables),this._defaultPreferencesRenderer&&(this._defaultPreferencesRenderer.onUpdatePreference(function(e){var i=e.key,n=e.value,r=e.source;t._editablePreferencesRenderer.updatePreference(i,n,r),t._updatePreference(i,n,r)},this,this._defaultPreferencesRendererDisposables),this._defaultPreferencesRenderer.onFocusPreference(function(e){return t._focusPreference(e,t._editablePreferencesRenderer)
},this,this._defaultPreferencesRendererDisposables),this._defaultPreferencesRenderer.onClearFocusPreference(function(e){return t._clearFocus(e,t._editablePreferencesRenderer)},this,this._defaultPreferencesRendererDisposables)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editablePreferencesRenderer",{get:function(){return this._editablePreferencesRenderer},set:function(e){var t=this;this._editablePreferencesRenderer!==e&&(this._editablePreferencesRenderer=e,this._editablePreferencesRendererDisposables=v.dispose(this._editablePreferencesRendererDisposables),this._editablePreferencesRenderer&&(this._editablePreferencesRenderer.preferencesModel.onDidChangeGroups(this._onEditableContentDidChange,this,this._editablePreferencesRendererDisposables),this._editablePreferencesRenderer.onUpdatePreference(function(e){var i=e.key,n=e.value,r=e.source;return t._updatePreference(i,n,r,!0)},this,this._defaultPreferencesRendererDisposables)))},enumerable:!0,configurable:!0}),
t.prototype._onEditableContentDidChange=function(){return s(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,this.localFilterPreferences(this._lastQuery,!0)];case 1:return(e=t.sent())?[3,3]:[4,this.remoteSearchPreferences(this._lastQuery,!0)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.onHidden=function(){this._prefsModelsForSearch.forEach(function(e){return e.dispose()}),this._prefsModelsForSearch=new Map},t.prototype.remoteSearchPreferences=function(e,t){var i=this;return this.lastFilterResult&&this.lastFilterResult.exactMatch&&(e=""),this._remoteFilterCancelToken&&(this._remoteFilterCancelToken.cancel(),this._remoteFilterCancelToken.dispose(),this._remoteFilterCancelToken=null),this._currentRemoteSearchProvider=t&&this._currentRemoteSearchProvider||this.preferencesSearchService.getRemoteSearchProvider(e),this._remoteFilterCancelToken=new p.CancellationTokenSource,
this.filterOrSearchPreferences(e,this._currentRemoteSearchProvider,"nlpResult",A.localize("nlpResult","Natural Language Results"),1,this._remoteFilterCancelToken.token,t).then(function(){i._remoteFilterCancelToken&&(i._remoteFilterCancelToken.dispose(),i._remoteFilterCancelToken=null)},function(e){if(h.isPromiseCanceledError(e))return null;h.onUnexpectedError(e)})},t.prototype.localFilterPreferences=function(e,t){return this._settingsNavigator&&this._settingsNavigator.reset(),this._currentLocalSearchProvider=t&&this._currentLocalSearchProvider||this.preferencesSearchService.getLocalSearchProvider(e),this.filterOrSearchPreferences(e,this._currentLocalSearchProvider,"filterResult",A.localize("filterResult","Filtered Results"),0,void 0,t)},t.prototype.filterOrSearchPreferences=function(e,t,i,n,r,o,s){var a=this;this._lastQuery=e;var c=[this._filterOrSearchPreferences(e,this.editablePreferencesRenderer,t,i,n,r,o)];return s||(c.push(this._filterOrSearchPreferences(e,this.defaultPreferencesRenderer,t,i,n,r,o)),
c.push(this.searchAllSettingsTargets(e,t,i,n,r,o).then(function(){return null}))),S.TPromise.join(c).then(function(e){var t=e[0],i=e[1];return!i&&s&&(i=a.lastFilterResult),a.consolidateAndUpdate(i,t),a._lastFilterResult=i,i&&i.exactMatch})},t.prototype.searchAllSettingsTargets=function(e,t,i,n,r,o){for(var s=[this.searchSettingsTarget(e,t,2,i,n,r,o),this.searchSettingsTarget(e,t,1,i,n,r,o)],a=0,c=this.workspaceContextService.getWorkspace().folders;a<c.length;a++){var l=c[a],u=this.preferencesService.getFolderSettingsResource(l.uri);s.push(this.searchSettingsTarget(e,t,u,i,n,r,o))}return S.TPromise.join(s).then(function(){})},t.prototype.searchSettingsTarget=function(e,t,i,n,r,o,s){var a=this;return e?this.getPreferencesEditorModel(i).then(function(e){return e&&a._filterOrSearchPreferencesModel("",e,t,n,r,o,s)}).then(function(e){var t=e?a._flatten(e.filteredGroups).length:0;a._onDidFilterResultsCountChange.fire({target:i,count:t})},function(e){return h.isPromiseCanceledError(e)?null:S.TPromise.wrapError(e)
}):(this._onDidFilterResultsCountChange.fire({target:i,count:0}),Promise.resolve(null))},t.prototype.getPreferencesEditorModel=function(e){return s(this,void 0,void 0,function(){var t,i,n,r,o;return a(this,function(s){switch(s.label){case 0:if(!(t=1===e?this.preferencesService.userSettingsResource:2===e?this.preferencesService.workspaceSettingsResource:e))return[2,null];if(i=t.toString(),this._prefsModelsForSearch.has(i))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),r=this._register,[4,this.preferencesService.createPreferencesEditorModel(t)];case 2:return n=r.apply(this,[s.sent()]),this._prefsModelsForSearch.set(i,n),[3,4];case 3:return o=s.sent(),[2,null];case 4:return[2,this._prefsModelsForSearch.get(i)]}})})},t.prototype.focusNextPreference=function(e){if(void 0===e&&(e=!0),this._settingsNavigator){var t=e?this._settingsNavigator.next():this._settingsNavigator.previous();this._focusPreference(t,this._defaultPreferencesRenderer),this._focusPreference(t,this._editablePreferencesRenderer)}},
t.prototype.editFocusedPreference=function(){if(this._settingsNavigator&&this._settingsNavigator.current()){var e=this._settingsNavigator.current();this._editablePreferencesRenderer.editPreference(e)||this.defaultPreferencesRenderer.editPreference(e)}},t.prototype._filterOrSearchPreferences=function(e,t,i,n,r,o,s){if(!t)return S.TPromise.wrap(null);var a=t.preferencesModel;return this._filterOrSearchPreferencesModel(e,a,i,n,r,o,s).then(function(e){return t.filterPreferences(e),e})},t.prototype._filterOrSearchPreferencesModel=function(e,t,i,n,r,o,s){var a=this;return(i?i.searchModel(t,s):S.TPromise.wrap(null)).then(null,function(t){if(h.isPromiseCanceledError(t))return S.TPromise.wrapError(t);var i=h.getErrorMessage(t).trim();return i&&"Error"!==i&&(a.telemetryService.publicLog("defaultSettings.searchError",{message:i,filter:e}),a.logService.info("Setting search error: "+i)),null}).then(function(i){s&&s.isCancellationRequested&&(i=null);var a=i?t.updateResultGroup(n,{id:n,label:r,result:i,order:o
}):t.updateResultGroup(n,null);return a&&(a.query=e,a.exactMatch=i&&i.exactMatch),a})},t.prototype.consolidateAndUpdate=function(e,t){var i=e?e.filteredGroups:this._getAllPreferences(this._defaultPreferencesRenderer),n=t?t.filteredGroups:this._getAllPreferences(this._editablePreferencesRenderer),r=this._consolidateSettings(n,i),o=this._settingsNavigator&&this._settingsNavigator.current(),s=this._lastQuery?r:[],a=o?u.firstIndex(s,function(e){return e.key===o.key}):-1;if(this._settingsNavigator=new Z(s,Math.max(a,0)),a>=0){this._settingsNavigator.next();var c=this._settingsNavigator.current();this._focusPreference(c,this._defaultPreferencesRenderer),this._focusPreference(c,this._editablePreferencesRenderer)}var l=r.length;this._onDidFilterResultsCountChange.fire({count:l})},t.prototype._getAllPreferences=function(e){return e?e.preferencesModel.settingsGroups:[]},t.prototype._focusPreference=function(e,t){e&&t&&t.focusPreference(e)},t.prototype._clearFocus=function(e,t){e&&t&&t.clearFocus(e)},
t.prototype._updatePreference=function(e,t,i,n){var r={userConfigurationKeys:[e]};if(this.lastFilterResult){r.query=this.lastFilterResult.query,r.editableSide=!!n;var o=this.lastFilterResult.metadata&&this.lastFilterResult.metadata.nlpResult;if(o){var s=Object.keys(o.scoredResults).sort(function(e,t){return o.scoredResults[t].score-o.scoredResults[e].score}),a="##"+e;r.nlpIndex=u.firstIndex(s,function(e){return m.endsWith(e,a)})}var c=this._findSetting(this.lastFilterResult,e);c&&(r.groupId=this.lastFilterResult.filteredGroups[c.groupIdx].id,r.displayIdx=c.overallSettingIdx)}this.telemetryService.publicLog("defaultSettingsActions.copySetting",r)},t.prototype._findSetting=function(e,t){for(var i=0,n=0;n<e.filteredGroups.length;n++)for(var r=e.filteredGroups[n],o=0;o<r.sections[0].settings.length;o++){if(t===r.sections[0].settings[o].key)return{groupIdx:n,settingIdx:o,overallSettingIdx:i};i++}return null},t.prototype._consolidateSettings=function(e,t){
var i=this._flatten(t),n=this._flatten(e).filter(function(e){return i.every(function(t){return t.key!==e.key})});return i.concat(n)},t.prototype._flatten=function(e){for(var t=[],i=0,n=e;i<n.length;i++)for(var r=0,o=n[i].sections;r<o.length;r++){var s=o[r];t.push.apply(t,s.settings)}return t},t.prototype.dispose=function(){v.dispose(this._defaultPreferencesRendererDisposables),v.dispose(this._editablePreferencesRendererDisposables),e.prototype.dispose.call(this)},t=r([o(0,U.IPreferencesSearchService),o(1,P.ITelemetryService),o(2,Q.IPreferencesService),o(3,B.IWorkspaceContextService),o(4,R.ILogService)],t)}(v.Disposable),te=function(e){function t(t,i,r,o,s){var a=e.call(this)||this;a.instantiationService=i,a.themeService=r,a.workspaceContextService=o,a.preferencesService=s,a.dimension=new n.Dimension(0,0),a._onFocus=new g.Emitter,a.onFocus=a._onFocus.event,a._onDidSettingsTargetChange=new g.Emitter,a.onDidSettingsTargetChange=a._onDidSettingsTargetChange.event,n.addClass(t,"side-by-side-preferences-editor"),
a.splitview=new c.SplitView(t,{orientation:1}),a._register(a.splitview),a._register(a.splitview.onDidSashReset(function(){return a.splitview.distributeViewSizes()})),a.defaultPreferencesEditorContainer=n.$(".default-preferences-editor-container");var l=n.append(a.defaultPreferencesEditorContainer,n.$(".preferences-header-container"));a.defaultPreferencesHeader=n.append(l,n.$("div.default-preferences-header")),a.defaultPreferencesHeader.textContent=A.localize("defaultSettings","Default Settings"),a.defaultPreferencesEditor=a._register(a.instantiationService.createInstance(ie)),a.defaultPreferencesEditor.create(a.defaultPreferencesEditorContainer),a.defaultPreferencesEditor.getControl().onDidFocusEditorWidget(function(){return a.lastFocusedEditor=a.defaultPreferencesEditor}),a.splitview.addView({element:a.defaultPreferencesEditorContainer,layout:function(e){return a.defaultPreferencesEditor.layout(new n.Dimension(e,a.dimension.height-34))},minimumSize:220,maximumSize:Number.POSITIVE_INFINITY,
onDidChange:g.Event.None},c.Sizing.Distribute),a.editablePreferencesEditorContainer=n.$(".editable-preferences-editor-container");var u=n.append(a.editablePreferencesEditorContainer,n.$(".preferences-header-container"));a.settingsTargetsWidget=a._register(a.instantiationService.createInstance(H.SettingsTargetsWidget,u)),a._register(a.settingsTargetsWidget.onDidTargetChange(function(e){return a._onDidSettingsTargetChange.fire(e)})),a._register(F.attachStylerCallback(a.themeService,{scrollbarShadow:L.scrollbarShadow},function(e){var t=e.scrollbarShadow?e.scrollbarShadow.toString():null;a.editablePreferencesEditorContainer.style.boxShadow=t?"-6px 0 5px -5px "+t:null})),a.splitview.addView({element:a.editablePreferencesEditorContainer,layout:function(e){return a.editablePreferencesEditor&&a.editablePreferencesEditor.layout(new n.Dimension(e,a.dimension.height-34))},minimumSize:220,maximumSize:Number.POSITIVE_INFINITY,onDidChange:g.Event.None},c.Sizing.Distribute);var d=a._register(n.trackFocus(t))
;return a._register(d.onDidFocus(function(){return a._onFocus.fire()})),a}return i(t,e),Object.defineProperty(t.prototype,"minimumWidth",{get:function(){return this.splitview.minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumWidth",{get:function(){return this.splitview.maximumSize},enumerable:!0,configurable:!0}),t.prototype.setInput=function(e,t,i,n){var r=this;return this.getOrCreateEditablePreferencesEditor(t),this.settingsTargetsWidget.settingsTarget=this.getSettingsTarget(t.getResource()),S.TPromise.join([this.updateInput(this.defaultPreferencesEditor,e,re.ID,t.getResource(),i,n),this.updateInput(this.editablePreferencesEditor,t,oe.ID,e.getResource(),i,n)]).then(function(e){var t=e[0],i=e[1];return n.isCancellationRequested?{}:(r.defaultPreferencesHeader.textContent=t&&r.getDefaultPreferencesHeaderText(t.preferencesModel.target),{defaultPreferencesRenderer:t,editablePreferencesRenderer:i})})},t.prototype.getDefaultPreferencesHeaderText=function(e){switch(e){case 1:
return A.localize("defaultUserSettings","Default User Settings");case 2:return A.localize("defaultWorkspaceSettings","Default Workspace Settings");case 3:return A.localize("defaultFolderSettings","Default Folder Settings")}return""},t.prototype.setResultCount=function(e,t){this.settingsTargetsWidget.setResultCount(e,t)},t.prototype.layout=function(e){void 0===e&&(e=this.dimension),this.dimension=e,this.splitview.layout(e.width)},t.prototype.focus=function(){this.lastFocusedEditor&&this.lastFocusedEditor.focus()},t.prototype.getControl=function(){return this.editablePreferencesEditor?this.editablePreferencesEditor.getControl():null},t.prototype.clearInput=function(){this.defaultPreferencesEditor&&this.defaultPreferencesEditor.clearInput(),this.editablePreferencesEditor&&this.editablePreferencesEditor.clearInput()},t.prototype.setEditorVisible=function(e,t){this.isVisible=e,this.group=t,this.defaultPreferencesEditor&&this.defaultPreferencesEditor.setVisible(this.isVisible,this.group),
this.editablePreferencesEditor&&this.editablePreferencesEditor.setVisible(this.isVisible,this.group)},t.prototype.getOrCreateEditablePreferencesEditor=function(e){var t=this;if(this.editablePreferencesEditor)return this.editablePreferencesEditor;var i=M.Registry.as(V.Extensions.Editors).getEditor(e).instantiate(this.instantiationService);return this.editablePreferencesEditor=i,this.editablePreferencesEditor.create(this.editablePreferencesEditorContainer),this.editablePreferencesEditor.setVisible(this.isVisible,this.group),this.editablePreferencesEditor.getControl().onDidFocusEditorWidget(function(){return t.lastFocusedEditor=t.editablePreferencesEditor}),this.lastFocusedEditor=this.editablePreferencesEditor,this.layout(),i},t.prototype.updateInput=function(e,t,i,n,r,o){return e.setInput(t,r,o).then(function(){if(!o.isCancellationRequested)return e.getControl().getContribution(i).updatePreferencesRenderer(n)})},t.prototype.getSettingsTarget=function(e){
if(this.preferencesService.userSettingsResource.toString()===e.toString())return 1;var t=this.preferencesService.workspaceSettingsResource;if(t&&t.toString()===e.toString())return 2;var i=this.workspaceContextService.getWorkspaceFolder(e);return i?i.uri:1},t.prototype.disposeEditors=function(){this.defaultPreferencesEditor&&(this.defaultPreferencesEditor.dispose(),this.defaultPreferencesEditor=null),this.editablePreferencesEditor&&(this.editablePreferencesEditor.dispose(),this.editablePreferencesEditor=null)},t.prototype.dispose=function(){this.disposeEditors(),e.prototype.dispose.call(this)},t=r([o(1,T.IInstantiationService),o(2,N.IThemeService),o(3,B.IWorkspaceContextService),o(4,Q.IPreferencesService)],t)}(l.Widget),ie=function(e){function t(i,n,r,o,s,a,c,l,u){return e.call(this,t.ID,i,n,r,o,s,a,l,c,u)||this}return i(t,e),t._getContributions=function(){
var e=[I.FoldingController.prototype,D.SelectionHighlighter.prototype,C.FindController.prototype],t=b.EditorExtensionsRegistry.getEditorContributions().filter(function(t){return-1===e.indexOf(t.prototype)});return t.push(re),t},t.prototype.createEditorControl=function(e,i){var n=this,r=this.instantiationService.createInstance(E.CodeEditorWidget,e,i,{contributions:t._getContributions()});return this._register(r.onDidType(function(){return n.showReadonlyHint(r)})),this._register(r.onDidPaste(function(){return n.showReadonlyHint(r)})),r},t.prototype.showReadonlyHint=function(e){var t=_.MessageController.get(e);t.isVisible()||t.showMessage(A.localize("defaultEditorReadonly","Edit in the right hand side editor to override defaults."),e.getSelection().getPosition())},t.prototype.getConfigurationOverrides=function(){var t=e.prototype.getConfigurationOverrides.call(this);return t.readOnly=!0,this.input&&(t.lineNumbers="off",t.renderLineHighlight="none",t.scrollBeyondLastLine=!1,t.folding=!1,t.renderWhitespace="none",
t.wordWrap="on",t.renderIndentGuides=!1,t.rulers=[],t.glyphMargin=!0,t.minimap={enabled:!1}),t},t.prototype.setInput=function(t,i,n){var r=this;return e.prototype.setInput.call(this,t,i,n).then(function(){return r.input.resolve().then(function(e){if(!n.isCancellationRequested)return e.load()}).then(function(e){n.isCancellationRequested||r.getControl().setModel(e.textEditorModel)})})},t.prototype.clearInput=function(){this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.layout=function(e){this.getControl().layout(e)},t.prototype.getAriaLabel=function(){return A.localize("preferencesAriaLabel","Default preferences. Readonly text editor.")},t.ID="workbench.editor.defaultPreferences",t=r([o(0,P.ITelemetryService),o(1,T.IInstantiationService),o(2,k.IStorageService),o(3,w.ITextResourceConfigurationService),o(4,N.IThemeService),o(5,X.ITextFileService),o(6,q.IEditorGroupsService),o(7,j.IEditorService),o(8,$.IWindowService)],t)}(G.BaseTextEditor);t.DefaultPreferencesEditor=ie
;var ne=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.editor=t,o.instantiationService=i,o.preferencesService=n,o.workspaceContextService=r,o._register(o.editor.onDidChangeModel(function(){return o._onModelChanged()})),o}return i(t,e),t.prototype.updatePreferencesRenderer=function(e){var t=this;return this.preferencesRendererCreationPromise||(this.preferencesRendererCreationPromise=this._createPreferencesRenderer()),this.preferencesRendererCreationPromise?this._hasAssociatedPreferencesModelChanged(e).then(function(i){return i?t._updatePreferencesRenderer(e):t.preferencesRendererCreationPromise}):S.TPromise.as(null)},t.prototype._onModelChanged=function(){var e=this.editor.getModel();this.disposePreferencesRenderer(),e&&(this.preferencesRendererCreationPromise=this._createPreferencesRenderer())},t.prototype._hasAssociatedPreferencesModelChanged=function(e){return this.preferencesRendererCreationPromise.then(function(t){
return!(t&&t.getAssociatedPreferencesModel()&&t.getAssociatedPreferencesModel().uri.toString()===e.toString())})},t.prototype._updatePreferencesRenderer=function(e){var t=this;return this.preferencesService.createPreferencesEditorModel(e).then(function(e){return t.preferencesRendererCreationPromise.then(function(t){if(t){var i=t.getAssociatedPreferencesModel();i&&i.dispose(),t.setAssociatedPreferencesModel(e)}return t})})},t.prototype.disposePreferencesRenderer=function(){this.preferencesRendererCreationPromise&&(this.preferencesRendererCreationPromise.then(function(e){if(e){var t=e.getAssociatedPreferencesModel();t&&t.dispose(),e.preferencesModel.dispose(),e.dispose()}}),this.preferencesRendererCreationPromise=S.TPromise.as(null))},t.prototype.dispose=function(){this.disposePreferencesRenderer(),e.prototype.dispose.call(this)},t=r([o(1,T.IInstantiationService),o(2,Q.IPreferencesService),o(3,B.IWorkspaceContextService)],t)}(v.Disposable),re=function(e){function t(){
return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getId=function(){return t.ID},t.prototype._createPreferencesRenderer=function(){var e=this;return this.preferencesService.createPreferencesEditorModel(this.editor.getModel().uri).then(function(t){if(t instanceof Y.DefaultSettingsEditorModel&&e.editor.getModel()){var i=e.instantiationService.createInstance(z.DefaultSettingsRenderer,e.editor,t);return i.render(),i}return null})},t.ID="editor.contrib.defaultsettings",t}(ne),oe=function(e){function t(t,i,n,r){var o=e.call(this,t,i,n,r)||this;return o._register(o.workspaceContextService.onDidChangeWorkbenchState(function(){return o._onModelChanged()})),o}return i(t,e),t.prototype.getId=function(){return t.ID},t.prototype._createPreferencesRenderer=function(){var e=this;return this.isSettingsModel()?this.preferencesService.createPreferencesEditorModel(this.editor.getModel().uri).then(function(t){if(t instanceof Y.SettingsEditorModel&&e.editor.getModel())switch(t.configurationTarget){case 1:
return e.instantiationService.createInstance(z.UserSettingsRenderer,e.editor,t);case 2:return e.instantiationService.createInstance(z.WorkspaceSettingsRenderer,e.editor,t);case 3:return e.instantiationService.createInstance(z.FolderSettingsRenderer,e.editor,t)}return null}).then(function(e){return e&&e.render(),e}):null},t.prototype.isSettingsModel=function(){var e=this.editor.getModel();if(!e)return!1;if(this.preferencesService.userSettingsResource&&this.preferencesService.userSettingsResource.toString()===e.uri.toString())return!0;if(this.preferencesService.workspaceSettingsResource&&this.preferencesService.workspaceSettingsResource.toString()===e.uri.toString())return!0;for(var t=0,i=this.workspaceContextService.getWorkspace().folders;t<i.length;t++){var n=i[t],r=this.preferencesService.getFolderSettingsResource(n.uri);if(r&&r.toString()===e.uri.toString())return!0}return!1},t.ID="editor.contrib.settings",t=r([o(1,T.IInstantiationService),o(2,Q.IPreferencesService),o(3,B.IWorkspaceContextService)],t)}(ne)
;b.registerEditorContribution(oe)}),define(e[362],t([1,0,7,46,122,14,19,30,17,57,118,24,13,6,299,2,9,10,33,47,3,32,91,28,36,31,26,41,11,75,382,211,144,207,172,162,163,340,96,61,270]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V,W,G,K){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var z=n.$,H=function(e){function t(i,n,r,o,s,a,c,l,u,p,h,g,f){var v=e.call(this,t.ID,i,r)||this;return v.configurationService=n,v.preferencesService=o,v.instantiationService=s,v.preferencesSearchService=a,v.logService=c,v.environmentService=l,v.contextMenuService=p,v.storageService=h,v.notificationService=g,v.keybindingService=f,v.delayedFilterLogging=new d.Delayer(1e3),v.localSearchDelayer=new d.Delayer(300),v.remoteSearchThrottle=new d.ThrottledDelayer(200),v.viewState={settingsTarget:1},v.delayRefreshOnLayout=new d.Delayer(100),v.settingFastUpdateDelayer=new d.Delayer(t.SETTING_UPDATE_FAST_DEBOUNCE),v.settingSlowUpdateDelayer=new d.Delayer(t.SETTING_UPDATE_SLOW_DEBOUNCE),
v.inSettingsEditorContextKey=G.CONTEXT_SETTINGS_EDITOR.bindTo(u),v.searchFocusContextKey=G.CONTEXT_SETTINGS_SEARCH_FOCUS.bindTo(u),v.tocRowFocused=G.CONTEXT_TOC_ROW_FOCUS.bindTo(u),v.scheduledRefreshes=new Map,v._register(n.onDidChangeConfiguration(function(e){4!==e.source&&v.onConfigUpdate(e.affectedKeys)})),v}return i(t,e),t.shouldSettingUpdateFast=function(e){return!u.isArray(e)&&(e===K.SettingValueType.Enum||e===K.SettingValueType.Complex)},Object.defineProperty(t.prototype,"currentSettingsModel",{get:function(){return this.searchResultModel||this.settingsTreeModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchResultModel",{get:function(){return this._searchResultModel},set:function(e){this._searchResultModel=e,n.toggleClass(this.rootElement,"search-mode",!!this._searchResultModel)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSettingsContextMenuKeyBindingLabel",{get:function(){
return this.keybindingService.lookupKeybinding(G.SETTINGS_EDITOR_COMMAND_SHOW_CONTEXT_MENU).getAriaLabel()},enumerable:!0,configurable:!0}),t.prototype.createEditor=function(e){e.setAttribute("tabindex","-1"),this.rootElement=n.append(e,z(".settings-editor")),this.createHeader(this.rootElement),this.createBody(this.rootElement),this.updateStyles()},t.prototype.setInput=function(t,i,n){var r=this;return this.inSettingsEditorContextKey.set(!0),e.prototype.setInput.call(this,t,i,n).then(function(){return new Promise(process.nextTick)}).then(function(){i?i.target||(i.target=1):r.viewState.settingsTarget||(i=K.SettingsEditorOptions.create({target:1})),r._setOptions(i),r.render(n)}).then(function(){r.updateTreeScrollSync()})},t.prototype.setOptions=function(t){e.prototype.setOptions.call(this,t),this._setOptions(t)},t.prototype._setOptions=function(e){if(e){e.query&&this.searchWidget.setValue(e.query);var t=e.folderUri||e.target;this.settingsTargetsWidget.settingsTarget=t,this.viewState.settingsTarget=t}},
t.prototype.clearInput=function(){this.inSettingsEditorContextKey.set(!1),e.prototype.clearInput.call(this)},t.prototype.layout=function(e){var t=this,i=this.settingsTree.getFirstVisibleElement(),r=this.settingsTree.getRelativeTop(i);this.layoutTrees(e);var o=e.width-48,s=(o>1e3?1e3:o)-10;this.searchWidget.layout({height:20,width:s}),n.toggleClass(this.rootElement,"narrow",e.width<600),e.width!==this.lastLayedoutWidth&&(this.lastLayedoutWidth=e.width,this.delayRefreshOnLayout.trigger(function(){t.renderTree(void 0,!0).then(function(){t.settingsTree.reveal(i,r)})}))},t.prototype.focus=function(){if(this.lastFocusedSettingElement){var e=this.settingsTreeRenderer.getDOMElementsForSettingKey(this.settingsTree.getHTMLElement(),this.lastFocusedSettingElement);if(e.length){var t=e[0].querySelector(N.SettingsRenderer.CONTROL_SELECTOR);if(t)return void t.focus()}}this.focusSearch()},t.prototype.focusSettings=function(){
var e=this.settingsAriaExtraLabelsContainer.querySelector("#settings_aria_more_actions_shortcut_label");if(e){var t=this.currentSettingsContextMenuKeyBindingLabel;t&&e.setAttribute("aria-label",y.localize("settingsContextMenuAriaShortcut","For more actions, Press {0}.",t))}var i=this.settingsTree.getHTMLElement().querySelector(N.SettingsRenderer.CONTROL_SELECTOR);i&&i.focus()},t.prototype.showContextMenu=function(){var e=this.settingsTreeRenderer.getSettingDOMElementForDOMElement(this.getActiveElementInSettingsTree());if(e){var t=this.settingsTreeRenderer.getKeyForDOMElementInSetting(e);if(t){var i=this.currentSettingsModel.getElementsByName(t);i&&i[0]&&this.settingsTreeRenderer.showContextMenu(i[0],e)}}},t.prototype.focusSearch=function(e,t){void 0===t&&(t=!0),e&&this.searchWidget&&this.searchWidget.setValue(e),this.searchWidget.focus(t)},t.prototype.clearSearchResults=function(){this.searchWidget.setValue("")},t.prototype.createHeader=function(e){var i=this
;this.headerContainer=n.append(e,z(".settings-header"));var r=n.append(this.headerContainer,z(".search-container")),o=y.localize("SearchSettings.AriaLabel","Search settings");this.searchWidget=this._register(this.instantiationService.createInstance(k.SuggestEnabledInput,t.ID+".searchbox",r,{triggerCharacters:["@"],provideResults:function(e){return t.SUGGESTIONS.filter(function(t){return-1===e.indexOf(t)}).map(function(e){return e+" "})}},o,"settingseditor:searchinput"+t.NUM_INSTANCES++,{placeholderText:o,focusContextKey:this.searchFocusContextKey})),this._register(k.attachSuggestEnabledInputBoxStyler(this.searchWidget,this.themeService,{inputBorder:V.settingsTextInputBorder})),this.countElement=n.append(r,n.$(".settings-count-widget")),this._register(R.attachStylerCallback(this.themeService,{badgeBackground:T.badgeBackground,contrastBorder:T.contrastBorder,badgeForeground:T.badgeForeground},function(e){
var t=e.badgeBackground?e.badgeBackground.toString():null,n=e.contrastBorder?e.contrastBorder.toString():null;i.countElement.style.backgroundColor=t,i.countElement.style.color=e.badgeForeground.toString(),i.countElement.style.borderWidth=n?"1px":null,i.countElement.style.borderStyle=n?"solid":null,i.countElement.style.borderColor=n})),this._register(this.searchWidget.onInputDidChange(function(){return i.onSearchInputChanged()}));var s=n.append(this.headerContainer,z(".settings-header-controls")),a=n.append(s,z(".settings-target-container"));this.settingsTargetsWidget=this._register(this.instantiationService.createInstance(L.SettingsTargetsWidget,a)),this.settingsTargetsWidget.settingsTarget=1,this.settingsTargetsWidget.onDidTargetChange(function(e){return i.onDidSettingsTargetChange(e)}),this.createHeaderControls(s)},t.prototype.onDidSettingsTargetChange=function(e){this.viewState.settingsTarget=e,this.onConfigUpdate(void 0,!0)},t.prototype.createHeaderControls=function(e){
var t=this,i=n.append(e,z(".settings-header-controls-right"));this.toolbar=this._register(new a.ToolBar(i,this.contextMenuService,{ariaLabel:y.localize("settingsToolbarLabel","Settings Editor Actions"),actionRunner:this.actionRunner}));var r=[this.instantiationService.createInstance(U,y.localize("filterModifiedLabel","Show modified settings"),B.MODIFIED_SETTING_TAG,this)];"stable"!==this.environmentService.appQuality&&(r.push(this.instantiationService.createInstance(U,y.localize("filterOnlineServicesLabel","Show settings for online services"),B.ONLINE_SERVICES_SETTING_TAG,this)),r.push(new s.Separator)),r.push(new c.Action("settings.openSettingsJson",y.localize("openSettingsJsonLabel","Open settings.json"),void 0,void 0,function(){return t.openSettingsFile().then(function(e){var i=B.parseQuery(t.searchWidget.getValue());e instanceof P.PreferencesEditor&&i&&e.focusSearch(i.query)})})),this.toolbar.setActions([],r)(),this.toolbar.context={target:this.settingsTargetsWidget.settingsTarget}},
t.prototype.onDidClickSetting=function(e,t){var i=this,n=this.currentSettingsModel.getElementsByName(e.targetKey);if(n&&n[0]){var r=this.settingsTree.getRelativeTop(e.source);r<0&&(r=.5),this.settingsTree.reveal(n[0],r);var o=this.settingsTreeRenderer.getDOMElementsForSettingKey(this.settingsTree.getHTMLElement(),e.targetKey);if(o&&o[0]){var s=o[0].querySelector(N.SettingsRenderer.CONTROL_SELECTOR);s&&s.focus()}}else if(!t){this.triggerSearch("").then(function(){i.searchWidget.setValue(""),i.onDidClickSetting(e,!0)})}},t.prototype.openSettingsFile=function(e){var t=this.settingsTargetsWidget.settingsTarget,i={query:e};return 1===t?this.preferencesService.openGlobalSettings(!0,i):2===t?this.preferencesService.openWorkspaceSettings(!0,i):this.preferencesService.openFolderSettings(t,!0,i)},t.prototype.createBody=function(e){var t=this,i=n.append(e,z(".settings-body"));this.noResultsMessage=n.append(i,z(".no-results")),this.noResultsMessage.innerText=y.localize("noResults","No Settings Found"),
this._register(R.attachStylerCallback(this.themeService,{editorForeground:T.editorForeground},function(e){t.noResultsMessage.style.color=e.editorForeground?e.editorForeground.toString():null})),this.createTOC(i),this.createFocusSink(i,function(e){if(n.findParentWithClass(e.relatedTarget,"settings-editor-tree")){if(t.settingsTree.getScrollPosition()>0){var i=t.settingsTree.getFirstVisibleElement();return t.settingsTree.reveal(i,.1),!0}}else{var r=t.settingsTree.getHTMLElement().querySelector(N.SettingsRenderer.CONTROL_SELECTOR);r&&r.focus()}return!1},"settings list focus helper"),this.createSettingsTree(i),this.createFocusSink(i,function(e){if(n.findParentWithClass(e.relatedTarget,"settings-editor-tree")&&t.settingsTree.getScrollPosition()<1){var i=t.settingsTree.getLastVisibleElement();return t.settingsTree.reveal(i,.9),!0}return!1},"settings list focus helper")},t.prototype.createFocusSink=function(e,t,i){var r=n.append(e,z(".settings-tree-focus-sink"));return r.setAttribute("aria-label",i),r.tabIndex=0,
this._register(n.addDisposableListener(r,"focus",function(e){e.relatedTarget&&t(e)&&e.relatedTarget.focus()})),r},t.prototype.createTOC=function(e){var t=this;this.tocTreeModel=new W.TOCTreeModel(this.viewState),this.tocTreeContainer=n.append(e,z(".settings-toc-container"));var i=this.instantiationService.createInstance(W.TOCRenderer);this.tocTree=this._register(this.instantiationService.createInstance(W.TOCTree,n.append(this.tocTreeContainer,z(".settings-toc-wrapper")),this.viewState,{renderer:i})),this._register(this.tocTree.onDidChangeFocus(function(e){var i=e.focus;if(t.searchResultModel&&(t.viewState.filterToCategory=i,t.renderTree()),i&&(!e.payload||!e.payload.fromScroll)){var n=v.TPromise.wrap(null);t.settingsTreeDataSource.pageTo(i.index,!0)&&(n=t.renderTree()),n.then(function(){return t.settingsTree.reveal(i,0)})}})),this._register(this.tocTree.onDidFocus(function(){t.tocRowFocused.set(!0)})),this._register(this.tocTree.onDidBlur(function(){t.tocRowFocused.set(!1)}))},
t.prototype.createSettingsTree=function(e){var t=this;this.settingsTreeContainer=n.append(e,z(".settings-tree-container")),this.settingsAriaExtraLabelsContainer=n.append(this.settingsTreeContainer,z(".settings-aria-extra-labels")),this.settingsAriaExtraLabelsContainer.id="settings_aria_extra_labels";var i=n.append(this.settingsAriaExtraLabelsContainer,z(".settings-aria-extra-label"));i.id="settings_aria_more_actions_shortcut_label",i.setAttribute("aria-label",""),this.settingsTreeRenderer=this.instantiationService.createInstance(N.SettingsRenderer,this.settingsTreeContainer),this._register(this.settingsTreeRenderer.onDidChangeSetting(function(e){return t.onDidChangeSetting(e.key,e.value,e.type)})),this._register(this.settingsTreeRenderer.onDidOpenSettings(function(e){t.openSettingsFile(e)})),this._register(this.settingsTreeRenderer.onDidClickSettingLink(function(e){return t.onDidClickSetting(e)})),this._register(this.settingsTreeRenderer.onDidFocusSetting(function(e){t.lastFocusedSettingElement=e.setting.key,
t.settingsTree.reveal(e)})),this.settingsTreeDataSource=this.instantiationService.createInstance(N.SimplePagedDataSource,this.instantiationService.createInstance(N.SettingsDataSource,this.viewState)),this.settingsTree=this._register(this.instantiationService.createInstance(N.SettingsTree,this.settingsTreeContainer,this.viewState,{renderer:this.settingsTreeRenderer,dataSource:this.settingsTreeDataSource})),this.settingsTree.getHTMLElement().attributes.removeNamedItem("tabindex"),this.settingsTree.getHTMLElement().setAttribute("role","form"),this._register(this.settingsTree.onDidScroll(function(){t.updateTreeScrollSync()}))},t.prototype.notifyNoSaveNeeded=function(e){void 0===e&&(e=!0),!e&&this.storageService.getBoolean("hasNotifiedOfSettingsAutosave",0,!1)||(this.storageService.store("hasNotifiedOfSettingsAutosave",!0,0),this.notificationService.info(y.localize("settingsNoSaveNeeded","Your changes are automatically saved as you edit.")))},t.prototype.onDidChangeSetting=function(e,i,n){var r=this
;this.notifyNoSaveNeeded(!1),this.pendingSettingUpdate&&this.pendingSettingUpdate.key!==e&&this.updateChangedSetting(e,i),this.pendingSettingUpdate={key:e,value:i},t.shouldSettingUpdateFast(n)?this.settingFastUpdateDelayer.trigger(function(){return r.updateChangedSetting(e,i)}):this.settingSlowUpdateDelayer.trigger(function(){return r.updateChangedSetting(e,i)})},t.prototype.updateTreeScrollSync=function(){if(this.settingsTreeRenderer.cancelSuggesters(),!this.searchResultModel&&this.tocTree.getInput()){this.updateTreePagingByScroll();var e=this.settingsTree.getFirstVisibleElement(),t=e instanceof B.SettingsTreeSettingElement?e.parent:e instanceof B.SettingsTreeGroupElement?e:null;if(t&&this.tocTree.getSelection()[0]!==t){this.tocTree.reveal(t);var i=this.tocTree.getRelativeTop(t);m.collapseAll(this.tocTree,t),i<0||i>1?this.tocTree.reveal(t):this.tocTree.reveal(t,i),this.tocTree.expand(t),this.tocTree.setSelection([t]),this.tocTree.setFocus(t,{fromScroll:!0})}}},t.prototype.updateTreePagingByScroll=function(){
var e=this.settingsTree.getLastVisibleElement();e&&this.settingsTreeDataSource.pageTo(e.index)&&this.renderTree()},t.prototype.updateChangedSetting=function(e,t){var i=this,n=this.settingsTargetsWidget.settingsTarget,r=f.URI.isUri(n)?n:void 0,o=r?3:n,s={resource:r},a=void 0===t;return this.configurationService.inspect(e,s).default===t&&(t=void 0),this.configurationService.updateValue(e,t,s,o).then(function(){return i.renderTree(e,a)}).then(function(){var n={key:e,query:i.searchWidget.getValue(),searchResults:i.searchResultModel&&i.searchResultModel.getUniqueResults(),rawResults:i.searchResultModel&&i.searchResultModel.getRawResults(),showConfiguredOnly:i.viewState.tagFilters&&i.viewState.tagFilters.has(B.MODIFIED_SETTING_TAG),isReset:void 0===t,settingsTarget:i.settingsTargetsWidget.settingsTarget};return i.reportModifiedSetting(n)})},t.prototype.reportModifiedSetting=function(e){this.pendingSettingUpdate=null
;var t=e.searchResults&&e.searchResults[1],i=e.searchResults&&e.searchResults[0],n=void 0,r=void 0,o=void 0;if(e.searchResults){var s=l.firstIndex(i.filterMatches,function(t){return t.setting.key===e.key});if(n=s>=0?"local":"remote",o=s>=0?s:t&&l.firstIndex(t.filterMatches,function(t){return t.setting.key===e.key})+i.filterMatches.length,this.searchResultModel){var a=this.searchResultModel.getRawResults();if(a[1]){var c=l.firstIndex(a[1].filterMatches,function(t){return t.setting.key===e.key});r=c>=0?c:void 0}}}var u=1===e.settingsTarget?"user":2===e.settingsTarget?"workspace":"folder",d={key:e.key,query:e.query,groupId:n,nlpIndex:r,displayIndex:o,showConfiguredOnly:e.showConfiguredOnly,isReset:e.isReset,target:u};this.telemetryService.publicLog("settingsEditor.settingModified",d);var p={key:e.key,groupId:n,nlpIndex:r,displayIndex:o,showConfiguredOnly:e.showConfiguredOnly,isReset:e.isReset,target:u};this.telemetryService.publicLog("settingsEditor.settingModified2",p)},t.prototype.render=function(e){var t=this
;return this.input?this.input.resolve().then(function(i){if(!e.isCancellationRequested)return t._register(i.onDidChangeGroups(function(){return t.onConfigUpdate()})),t.defaultSettingsEditorModel=i,t.onConfigUpdate()}):v.TPromise.as(null)},t.prototype.onSearchModeToggled=function(){n.removeClass(this.rootElement,"no-toc-search"),"hide"===this.configurationService.getValue("workbench.settings.settingsSearchTocBehavior")&&n.toggleClass(this.rootElement,"no-toc-search",!!this.searchResultModel),this.searchResultModel?this.settingsTreeDataSource.pageTo(Number.MAX_VALUE):this.settingsTreeDataSource.reset()},t.prototype.scheduleRefresh=function(e,t){var i=this;if(void 0===t&&(t=""),!t||!this.scheduledRefreshes.has(t)){t||(this.scheduledRefreshes.forEach(function(e){return e.dispose()}),this.scheduledRefreshes.clear());var r=n.trackFocus(e);this.scheduledRefreshes.set(t,r),r.onDidBlur(function(){r.dispose(),i.scheduledRefreshes.delete(t),i.onConfigUpdate([t])})}},t.prototype.onConfigUpdate=function(e,t){
if(void 0===t&&(t=!1),e&&this.settingsTreeModel)return this.updateElementsByKey(e);var i=this.defaultSettingsEditorModel.settingsGroups.slice(1),n=h.groupBy(i,function(e){return e.contributedByExtension?"extension":"core"}),r=N.resolveSettingsTree(F.tocData,n.core),o=r.tree;if(r.leftoverSettings.size&&!this.hasWarnedMissingSettings){var s=[];r.leftoverSettings.forEach(function(e){s.push(e.key)}),this.logService.warn("SettingsEditor2: Settings not included in settingsLayout.ts: "+s.join(", ")),this.hasWarnedMissingSettings=!0}var a=N.resolveSettingsTree(F.commonlyUsedData,n.core);return o.children.unshift(a.tree),o.children.push(N.resolveExtensionsSettings(n.extension||[])),this.searchResultModel&&this.searchResultModel.updateChildren(),this.settingsTreeModel?(this.settingsTreeModel.update(o),this.renderTree(void 0,t)):(this.settingsTreeModel=this.instantiationService.createInstance(B.SettingsTreeModel,this.viewState),this.settingsTreeModel.update(o),this.settingsTree.setInput(this.settingsTreeModel.root),
this.tocTreeModel.settingsTreeRoot=this.settingsTreeModel.root,this.tocTree.getInput()?this.tocTree.refresh():this.tocTree.setInput(this.tocTreeModel),v.TPromise.wrap(null))},t.prototype.updateElementsByKey=function(e){var t=this;return e.length?(this.searchResultModel&&e.forEach(function(e){return t.searchResultModel.updateElementsByName(e)}),this.settingsTreeModel&&e.forEach(function(e){return t.settingsTreeModel.updateElementsByName(e)}),v.TPromise.join(e.map(function(e){return t.renderTree(e)})).then(function(){})):this.renderTree()},t.prototype.getActiveElementInSettingsTree=function(){return document.activeElement&&n.isAncestor(document.activeElement,this.settingsTree.getHTMLElement())?document.activeElement:null},t.prototype.renderTree=function(e,t){var i=this;if(void 0===t&&(t=!1),!t&&e&&this.scheduledRefreshes.has(e))return this.updateModifiedLabelForKey(e),v.TPromise.wrap(null);var r=this.settingsTreeRenderer.getSettingDOMElementForDOMElement(this.getActiveElementInSettingsTree());if(r&&!t){
if(!e)return this.scheduleRefresh(r),v.TPromise.wrap(null);if(r.getAttribute(N.SettingsRenderer.SETTING_KEY_ATTR)===e&&!n.hasClass(r,"setting-item-exclude"))return this.updateModifiedLabelForKey(e),this.scheduleRefresh(r,e),v.TPromise.wrap(null)}var o;if(e){var s=this.currentSettingsModel.getElementsByName(e);if(!s||!s.length)return v.TPromise.wrap(null);o=this.settingsTree.refresh()}else o=this.settingsTree.refresh();return o.then(function(){return i.tocTreeModel.update(),i.renderResultCountMessages(),i.tocTree.refresh()}).then(function(){})},t.prototype.updateModifiedLabelForKey=function(e){var t=this.currentSettingsModel.getElementsByName(e),i=t&&t[0]&&t[0].isConfigured,r=this.settingsTreeRenderer.getDOMElementsForSettingKey(this.settingsTree.getHTMLElement(),e);r&&r[0]&&n.toggleClass(r[0],"is-configured",i)},t.prototype.onSearchInputChanged=function(){var e=this,t=this.searchWidget.getValue().trim();this.delayedFilterLogging.cancel(),this.triggerSearch(t.replace(/›/g," ")).then(function(){
t&&e.searchResultModel&&e.delayedFilterLogging.trigger(function(){return e.reportFilteringUsed(t,e.searchResultModel.getUniqueResults())})})},t.prototype.parseSettingFromJSON=function(e){var t=e.match(/"([a-zA-Z.]+)": /);return t&&t[1]},t.prototype.triggerSearch=function(e){var t=this;if(this.viewState.tagFilters=new Set,e){var i=B.parseQuery(e);e=i.query,i.tags.forEach(function(e){return t.viewState.tagFilters.add(e)})}return e&&"@"!==e?(e=this.parseSettingFromJSON(e)||e,this.triggerFilterPreferences(e)):(this.viewState.tagFilters&&this.viewState.tagFilters.size?this.searchResultModel=this.createFilterModel():this.searchResultModel=null,this.localSearchDelayer.cancel(),this.remoteSearchThrottle.cancel(),this.searchInProgress&&(this.searchInProgress.cancel(),this.searchInProgress.dispose(),this.searchInProgress=null),this.viewState.filterToCategory=null,this.tocTreeModel.currentSearchModel=this.searchResultModel,this.tocTree.refresh(),this.onSearchModeToggled(),
this.searchResultModel?(this.tocTree.setSelection([]),m.expandAll(this.tocTree),this.settingsTree.setInput(this.searchResultModel.root).then(function(){t.renderResultCountMessages()})):(m.collapseAll(this.tocTree),this.settingsTree.setInput(this.settingsTreeModel.root).then(function(){return t.renderResultCountMessages()})))},t.prototype.createFilterModel=function(){for(var e=this.instantiationService.createInstance(B.SearchResultModel,this.viewState),t={filterMatches:[]},i=0,n=this.defaultSettingsEditorModel.settingsGroups.slice(1);i<n.length;i++)for(var r=0,o=n[i].sections;r<o.length;r++)for(var s=0,a=o[r].settings;s<a.length;s++){var c=a[s];t.filterMatches.push({setting:c,matches:[],score:0})}return e.setResult(0,t),e},t.prototype.reportFilteringUsed=function(e,t){var i=t[1],n=i&&i.metadata,r={};r.nlpResult=n&&n.duration;var o={},s=t[0];s&&(o.filterResult=s.filterMatches.length),i&&(o.nlpResult=i.filterMatches.length);var a=n&&n.requestCount,c={query:e,durations:r,counts:o,requestCount:a}
;this.telemetryService.publicLog("settingsEditor.filter",c);var l={durations:r,counts:o,requestCount:a};this.telemetryService.publicLog("settingsEditor.filter2",l)},t.prototype.triggerFilterPreferences=function(e){var t=this;this.searchInProgress&&(this.searchInProgress.cancel(),this.searchInProgress=null);var i=this.searchInProgress=new p.CancellationTokenSource;return this.localSearchDelayer.trigger(function(){return i&&!i.token.isCancellationRequested?t.localFilterPreferences(e).then(function(n){n.exactMatch||t.remoteSearchThrottle.trigger(function(){return i&&!i.token.isCancellationRequested?t.remoteSearchPreferences(e,t.searchInProgress.token):v.TPromise.wrap(null)})}):v.TPromise.wrap(null)})},t.prototype.localFilterPreferences=function(e,t){var i=this.preferencesSearchService.getLocalSearchProvider(e);return this.filterOrSearchPreferences(e,0,i,t)},t.prototype.remoteSearchPreferences=function(e,t){
var i=this,n=this.preferencesSearchService.getRemoteSearchProvider(e),r=this.preferencesSearchService.getRemoteSearchProvider(e,!0);return v.TPromise.join([this.filterOrSearchPreferences(e,1,n,t),this.filterOrSearchPreferences(e,2,r,t)]).then(function(){i.renderResultCountMessages()})},t.prototype.filterOrSearchPreferences=function(e,t,i,n){var r=this;return this._filterOrSearchPreferencesModel(e,this.defaultSettingsEditorModel,i,n).then(function(e){return n&&n.isCancellationRequested?null:(r.searchResultModel?(r.searchResultModel.setResult(t,e),r.tocTreeModel.update()):(r.searchResultModel=r.instantiationService.createInstance(B.SearchResultModel,r.viewState),r.searchResultModel.setResult(t,e),r.tocTreeModel.currentSearchModel=r.searchResultModel,r.onSearchModeToggled(),r.settingsTree.setInput(r.searchResultModel.root)),r.tocTree.setSelection([]),r.viewState.filterToCategory=null,m.expandAll(r.tocTree),r.renderTree().then(function(){return e}))})},t.prototype.renderResultCountMessages=function(){
if(this.settingsTree.getInput()&&this.tocTreeModel&&this.tocTreeModel.settingsTreeRoot){var e=this.tocTreeModel.settingsTreeRoot.count;switch(e){case 0:this.countElement.innerText=y.localize("noResults","No Settings Found");break;case 1:this.countElement.innerText=y.localize("oneResult","1 Setting Found");break;default:this.countElement.innerText=y.localize("moreThanOneResult","{0} Settings Found",e)}this.countElement.style.display="block",this.noResultsMessage.style.display=0===e?"block":"none"}},t.prototype._filterOrSearchPreferencesModel=function(e,t,i,n){var r=this;return(i?i.searchModel(t,n):v.TPromise.wrap(null)).then(null,function(t){if(g.isPromiseCanceledError(t))return v.TPromise.wrapError(t);var i=g.getErrorMessage(t).trim();return i&&"Error"!==i&&(r.telemetryService.publicLog("settingsEditor.searchError",{message:i,filter:e}),r.logService.info("Setting search error: "+i)),null})},t.prototype.layoutTrees=function(e){var t=e.height-87,i=t-14;this.settingsTreeContainer.style.height=i+"px",
this.settingsTree.layout(i,800);var n=t-16;this.tocTreeContainer.style.height=n+"px",this.tocTree.layout(n,175),this.settingsTreeRenderer.updateWidth(e.width)},t.ID="workbench.editor.settings2",t.NUM_INSTANCES=0,t.SETTING_UPDATE_FAST_DEBOUNCE=200,t.SETTING_UPDATE_SLOW_DEBOUNCE=1e3,t.SUGGESTIONS=["@modified","@tag:usesOnlineServices"],t=r([o(0,x.ITelemetryService),o(1,S.IConfigurationService),o(2,O.IThemeService),o(3,K.IPreferencesService),o(4,C.IInstantiationService),o(5,G.IPreferencesSearchService),o(6,_.ILogService),o(7,w.IEnvironmentService),o(8,b.IContextKeyService),o(9,E.IContextMenuService),o(10,A.IStorageService),o(11,D.INotificationService),o(12,I.IKeybindingService)],t)}(M.BaseEditor);t.SettingsEditor2=H;var U=function(e){function t(i,n,r){var o=e.call(this,t.ID,i,"toggle-filter-tag")||this;return o.tag=n,o.settingsEditor=r,o}return i(t,e),t.prototype.run=function(){return this.settingsEditor.focusSearch(this.tag===B.MODIFIED_SETTING_TAG?"@"+this.tag+" ":"@tag:"+this.tag+" ",!1),v.TPromise.as(null)},
t.ID="settings.filterByTag",t}(c.Action)}),define(e[363],t([1,0,2,24,6,27,4,124,12,37,43,97,64,3,76,29,364,50,98,19]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var C=function(e){return e.with({scheme:c.Schemas.internal,fragment:"replacePreview",query:JSON.stringify({scheme:e.scheme})})},I=function(){function e(e,t){this.instantiationService=e,this.textModelResolverService=t,this.textModelResolverService.registerTextModelContentProvider(c.Schemas.internal,this)}return e.prototype.provideTextContent=function(e){return"replacePreview"===e.fragment?this.instantiationService.createInstance(_).resolve(e):null},e=r([o(0,v.IInstantiationService),o(1,f.ITextModelService)],e)}();t.ReplacePreviewContentProvider=I;var _=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.modelService=t,s.modeService=i,s.textModelResolverService=n,s.replaceService=r,s.searchWorkbenchService=o,s}return i(t,e),t.prototype.resolve=function(e){
var t=this,i=function(e){return e.with({scheme:JSON.parse(e.query).scheme,fragment:"",query:""})}(e),n=this.searchWorkbenchService.searchModel.searchResult.matches().filter(function(e){return e.resource().toString()===i.toString()})[0];return this.textModelResolverService.createModelReference(i).then(function(i){var r=(i=t._register(i)).object.textEditorModel,o=r.getLanguageIdentifier().language,s=t.modelService.createModel(m.createTextBufferFactoryFromSnapshot(r.createSnapshot()),t.modeService.getOrCreateMode(o),e);return t._register(n.onChange(function(e){return t.update(r,s,n,e)})),t._register(t.searchWorkbenchService.searchModel.onReplaceTermChanged(function(){return t.update(r,s,n)})),t._register(n.onDispose(function(){return s.dispose()})),t._register(s.onWillDispose(function(){return t.dispose()})),t._register(r.onWillDispose(function(){return t.dispose()})),s})},t.prototype.update=function(e,t,i,n){void 0===n&&(n=!1),e.isDisposed()||t.isDisposed()||this.replaceService.updateReplacePreview(i,n)},
t=r([o(0,p.IModelService),o(1,h.IModeService),o(2,f.ITextModelService),o(3,u.IReplaceService),o(4,g.ISearchWorkbenchService)],t)}(l.Disposable),D=function(){function e(e,t,i,n){this.textFileService=e,this.editorService=t,this.textModelResolverService=i,this.bulkEditorService=n}return e.prototype.replace=function(e,t,i){var n=this;void 0===t&&(t=null),void 0===i&&(i=null);var r=this.createEdits(e,i);return this.bulkEditorService.apply({edits:r},{progress:t}).then(function(){return n.textFileService.saveAll(r.map(function(e){return e.resource}))})},e.prototype.openReplacePreview=function(e,t,i,r){var o=this,a=e instanceof g.Match?e.parent():e;return this.editorService.openEditor({leftResource:a.resource(),rightResource:C(a.resource()),label:n.localize("fileReplaceChanges","{0} ↔ {1} (Replace Preview)",a.name(),a.name()),options:{preserveFocus:t,pinned:r,revealIfVisible:!0}}).then(function(t){var i=a.onDispose(function(){t&&t.input&&t.input.dispose(),i.dispose()});o.updateReplacePreview(a).then(function(){
var i=t.getControl();e instanceof g.Match&&i.revealLineInCenter(e.range().startLineNumber,1)})},s.onUnexpectedError)},e.prototype.updateReplacePreview=function(e,t){var i=this;void 0===t&&(t=!1);var n=C(e.resource());return a.TPromise.join([this.textModelResolverService.createModelReference(e.resource()),this.textModelResolverService.createModelReference(n)]).then(function(n){var r=n[0],o=n[1],s=r.object.textEditorModel,c=o.object.textEditorModel,l=a.TPromise.wrap(null);return s&&c&&(t?c.setValue(s.getValue()):c.undo(),i.applyEditsToPreview(e,c)),l.then(function(){r.dispose(),o.dispose()})})},e.prototype.applyEditsToPreview=function(e,t){for(var i=[],n=0,r=this.createEdits(e,t.uri);n<r.length;n++)for(var o=0,s=r[n].edits;o<s.length;o++){var a=s[o],c=b.Range.lift(a.range);i.push(E.EditOperation.replaceMove(c,a.text))}t.pushEditOperations([],w.mergeSort(i,function(e,t){return b.Range.compareRangesUsingStarts(e.range,t.range)}),function(){return[]})},e.prototype.createEdits=function(e,t){var i=this
;void 0===t&&(t=null);var n=[];if(e instanceof g.Match){var r=e;n.push(this.createEdit(r,r.replaceString,t))}return e instanceof g.FileMatch&&(e=[e]),e instanceof Array&&e.forEach(function(e){var r=e;r.count()>0&&n.push.apply(n,r.matches().map(function(e){return i.createEdit(e,e.replaceString,t)}))}),n},e.prototype.createEdit=function(e,t,i){void 0===i&&(i=null);var n=e.parent();return{resource:null!==i?i:n.resource(),edits:[{range:e.range(),text:t}]}},e=r([o(0,y.ITextFileService),o(1,d.IEditorService),o(2,f.ITextModelService),o(3,S.IBulkEditService)],e)}();t.ReplaceService=D}),define(e[365],t([1,0,86,124,363,8,107]),function(e,t,i,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerContributions=function(){i.registerSingleton(n.IReplaceService,r.ReplaceService),o.Registry.as(s.Extensions.Workbench).registerWorkbenchContribution(r.ReplacePreviewContentProvider,1)}}),define(e[366],t([1,0,2,6,78,492,22,235,17,98,50,108,29,16,64,157]),function(e,t,i,n,s,a,c,l,u,d,p,h,g,f,v,m){
"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function e(e,t,i){this.fileService=e,this.textModelResolverService=t,this.textFileService=i,this.queue=new u.Queue}return e.prototype.write=function(e,t,i){var n=this;return this.queue.queue(function(){return n.doWriteConfiguration(e,t,i)})},e.prototype.doWriteConfiguration=function(e,t,i){var n=this;return this.resolveAndValidate(e,i).then(function(e){return n.writeToBuffer(e.object.textEditorModel,t).then(function(){return e.dispose()})})},e.prototype.writeToBuffer=function(e,t){var i=this.getEdits(e,t)[0];return this.applyEditsToBuffer(i,e)?this.textFileService.save(e.uri):n.TPromise.as(null)},e.prototype.applyEditsToBuffer=function(e,t){var i=t.getPositionAt(e.offset),n=t.getPositionAt(e.offset+e.length),r=new p.Range(i.lineNumber,i.column,n.lineNumber,n.column),o=t.getValueInRange(r);if(e.content!==o){var s=o?d.EditOperation.replace(r,e.content):d.EditOperation.insert(i,e.content)
;return t.pushEditOperations([new h.Selection(i.lineNumber,i.column,i.lineNumber,i.column)],[s],function(){return[]}),!0}return!1},e.prototype.getEdits=function(e,t){var i=e.getOptions(),n=i.tabSize,r=i.insertSpaces,o=e.getEOL(),s=t.key,a=t.value;if(!s){var u=JSON.stringify(a,null,r?c.repeat(" ",n):"\t");return[{content:u,length:u.length,offset:0}]}return l.setProperty(e.getValue(),[s],a,{tabSize:n,insertSpaces:r,eol:o})},e.prototype.resolveModelReference=function(e){var t=this;return this.fileService.existsFile(e).then(function(i){return(i?n.TPromise.as(null):t.fileService.updateContent(e,"{}",{encoding:a.UTF8})).then(function(){return t.textModelResolverService.createModelReference(e)})})},e.prototype.hasParseErrors=function(e){var t=[];return s.parse(e.getValue(),t),t.length>0},e.prototype.resolveAndValidate=function(e,t){var i=this;return this.resolveModelReference(e).then(function(n){var r=n.object.textEditorModel;return i.hasParseErrors(r)?i.wrapError(1):t&&i.textFileService.isDirty(e)?i.wrapError(0):n
})},e.prototype.wrapError=function(e){var t=this.toErrorMessage(e);return n.TPromise.wrapError(new m.JSONEditingError(t,e))},e.prototype.toErrorMessage=function(e){switch(e){case 1:return i.localize("errorInvalidFile","Unable to write into the file. Please open the file to correct errors/warnings in the file and try again.");case 0:return i.localize("errorFileDirty","Unable to write into the file because the file is dirty. Please save the file and try again.")}},e=r([o(0,f.IFileService),o(1,v.ITextModelService),o(2,g.ITextFileService)],e)}();t.JSONEditingService=y}),define(e[212],t([1,0,2,13,6,30,17,4,78,235,10,9,98,50,108,47,64,29,16,3]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IKeybindingEditingService=w.createDecorator("keybindingEditingService");var C=function(e){function t(t,i,n,r,o){var a=e.call(this)||this;return a.textModelResolverService=t,a.textFileService=i,a.fileService=n,a.configurationService=r,a.environmentService=o,
a.resource=s.URI.file(a.environmentService.appKeybindingsPath),a.queue=new l.Queue,a}return i(t,e),t.prototype.editKeybinding=function(e,t){var i=this;return this.queue.queue(function(){return i.doEditKeybinding(e,t)})},t.prototype.resetKeybinding=function(e){var t=this;return this.queue.queue(function(){return t.doResetKeybinding(e)})},t.prototype.removeKeybinding=function(e){var t=this;return this.queue.queue(function(){return t.doRemoveKeybinding(e)})},t.prototype.doEditKeybinding=function(e,t){var i=this;return this.resolveAndValidate().then(function(n){var r=n.object.textEditorModel,o=d.parse(r.getValue()),s=i.findUserKeybindingEntryIndex(t,o);return i.updateKeybinding(e,t,r,s),t.isDefault&&t.resolvedKeybinding&&i.removeDefaultKeybinding(t,r),i.save().then(function(){return n.dispose()})})},t.prototype.doRemoveKeybinding=function(e){var t=this;return this.resolveAndValidate().then(function(i){var n=i.object.textEditorModel;return e.isDefault?t.removeDefaultKeybinding(e,n):t.removeUserKeybinding(e,n),
t.save().then(function(){return i.dispose()})})},t.prototype.doResetKeybinding=function(e){var t=this;return this.resolveAndValidate().then(function(i){var n=i.object.textEditorModel;return e.isDefault||(t.removeUserKeybinding(e,n),t.removeUnassignedDefaultKeybinding(e,n)),t.save().then(function(){return i.dispose()})})},t.prototype.save=function(){return this.textFileService.save(this.resource)},t.prototype.updateKeybinding=function(e,t,i,n){var r=i.getOptions(),o=r.tabSize,s=r.insertSpaces,a=i.getEOL();-1!==n?this.applyEditsToBuffer(p.setProperty(i.getValue(),[n,"key"],e,{tabSize:o,insertSpaces:s,eol:a})[0],i):this.applyEditsToBuffer(p.setProperty(i.getValue(),[-1],this.asObject(e,t.command,t.when,!1),{tabSize:o,insertSpaces:s,eol:a})[0],i)},t.prototype.removeUserKeybinding=function(e,t){var i=t.getOptions(),n=i.tabSize,r=i.insertSpaces,o=t.getEOL(),s=d.parse(t.getValue()),a=this.findUserKeybindingEntryIndex(e,s);-1!==a&&this.applyEditsToBuffer(p.setProperty(t.getValue(),[a],void 0,{tabSize:n,
insertSpaces:r,eol:o})[0],t)},t.prototype.removeDefaultKeybinding=function(e,t){var i=t.getOptions(),n=i.tabSize,r=i.insertSpaces,o=t.getEOL();this.applyEditsToBuffer(p.setProperty(t.getValue(),[-1],this.asObject(e.resolvedKeybinding.getUserSettingsLabel(),e.command,e.when,!0),{tabSize:n,insertSpaces:r,eol:o})[0],t)},t.prototype.removeUnassignedDefaultKeybinding=function(e,t){for(var i=t.getOptions(),n=i.tabSize,r=i.insertSpaces,o=t.getEOL(),s=d.parse(t.getValue()),a=0,c=this.findUnassignedDefaultKeybindingEntryIndex(e,s).reverse();a<c.length;a++){var l=c[a];this.applyEditsToBuffer(p.setProperty(t.getValue(),[l],void 0,{tabSize:n,insertSpaces:r,eol:o})[0],t)}},t.prototype.findUserKeybindingEntryIndex=function(e,t){for(var i=0;i<t.length;i++){var n=t[i];if(n.command===e.command){if(!n.when&&!e.when)return i;if(n.when&&e.when&&h.ContextKeyExpr.deserialize(n.when).serialize()===e.when.serialize())return i}}return-1},t.prototype.findUnassignedDefaultKeybindingEntryIndex=function(e,t){
for(var i=[],n=0;n<t.length;n++)t[n].command==="-"+e.command&&i.push(n);return i},t.prototype.asObject=function(e,t,i,n){var r={key:e};return r.command=n?"-"+t:t,i&&(r.when=i.serialize()),r},t.prototype.applyEditsToBuffer=function(e,t){var i=t.getPositionAt(e.offset),n=t.getPositionAt(e.offset+e.length),r=new v.Range(i.lineNumber,i.column,n.lineNumber,n.column),o=t.getValueInRange(r)?f.EditOperation.replace(r,e.content):f.EditOperation.insert(i,e.content);t.pushEditOperations([new m.Selection(i.lineNumber,i.column,i.lineNumber,i.column)],[o],function(){return[]})},t.prototype.resolveModelReference=function(){var e=this;return this.fileService.existsFile(this.resource).then(function(t){var i=e.configurationService.getValue("files",{overrideIdentifier:"json"}).eol;return(t?a.TPromise.as(null):e.fileService.updateContent(e.resource,e.getEmptyContent(i),{encoding:"utf8"})).then(function(){return e.textModelResolverService.createModelReference(e.resource)})})},t.prototype.resolveAndValidate=function(){var e=this
;return this.textFileService.isDirty(this.resource)?a.TPromise.wrapError(new Error(n.localize("errorKeybindingsFileDirty","Unable to write because the keybindings configuration file is dirty. Please save it first and then try again."))):this.resolveModelReference().then(function(t){var i=t.object.textEditorModel,r=i.getEOL();if(i.getValue()){var o=e.parse(i);if(o.parseErrors.length)return a.TPromise.wrapError(new Error(n.localize("parseErrors","Unable to write to the keybindings configuration file. Please open it to correct errors/warnings in the file and try again.")));if(o.result){if(!c.isArray(o.result))return a.TPromise.wrapError(new Error(n.localize("errorInvalidConfiguration","Unable to write to the keybindings configuration file. It has an object which is not of type Array. Please open the file to clean up and try again.")))}else{s=r+"[]";e.applyEditsToBuffer({content:s,length:s.length,offset:i.getValue().length},i)}}else{var s=e.getEmptyContent(r);e.applyEditsToBuffer({content:s,length:s.length,
offset:0},i)}return t})},t.prototype.parse=function(e){var t=[];return{result:d.parse(e.getValue(),t),parseErrors:t}},t.prototype.getEmptyContent=function(e){return"// "+n.localize("emptyKeybindingsHeader","Place your key bindings in this file to overwrite the defaults")+e+"[]"},t=r([o(0,S.ITextModelService),o(1,b.ITextFileService),o(2,E.IFileService),o(3,g.IConfigurationService),o(4,y.IEnvironmentService)],t)}(u.Disposable);t.KeybindingsEditingService=C}),define(e[368],t([1,0,2,6,17,7,20,4,197,208,242,14,46,75,31,81,194,3,32,219,96,33,212,11,10,66,26,12,58,52,28,57,41,265]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var F=c.$,N=function(e){function t(i,n,r,o,s,c,l,u,d,p){var h=e.call(this,t.ID,i,n)||this;return h.keybindingsService=r,h.contextMenuService=o,h.keybindingEditingService=s,h.contextKeyService=c,h.notificationService=l,h.clipboardService=u,h.instantiationService=d,h.editorService=p,
h.latestEmptyFilters=[],h.delayedFiltering=new a.Delayer(300),h._register(r.onDidUpdateKeybindings(function(){return h.render(!1,P.CancellationToken.None)})),h.keybindingsEditorContextKey=C.CONTEXT_KEYBINDINGS_EDITOR.bindTo(h.contextKeyService),h.searchFocusContextKey=C.CONTEXT_KEYBINDINGS_SEARCH_FOCUS.bindTo(h.contextKeyService),h.searchValueContextKey=C.CONTEXT_KEYBINDINGS_SEARCH_VALUE.bindTo(h.contextKeyService),h.keybindingFocusContextKey=C.CONTEXT_KEYBINDING_FOCUS.bindTo(h.contextKeyService),h.delayedFilterLogging=new a.Delayer(1e3),h}return i(t,e),t.prototype.createEditor=function(e){var t=this,i=c.append(e,F("div",{class:"keybindings-editor"}));this.createAriaLabelElement(i),this.createOverlayContainer(i),this.createHeader(i),this.createBody(i);var n=this._register(c.trackFocus(e));this._register(n.onDidFocus(function(){return t.keybindingsEditorContextKey.set(!0)})),this._register(n.onDidBlur(function(){return t.keybindingsEditorContextKey.reset()}))},t.prototype.setInput=function(t,i,n){var r=this
;return e.prototype.setInput.call(this,t,i,n).then(function(){return r.render(i&&i.preserveFocus,n)})},t.prototype.clearInput=function(){e.prototype.clearInput.call(this),this.keybindingsEditorContextKey.reset(),this.keybindingFocusContextKey.reset()},t.prototype.layout=function(e){this.dimension=e,this.layoutSearchWidget(e),this.overlayContainer.style.width=e.width+"px",this.overlayContainer.style.height=e.height+"px",this.defineKeybindingWidget.layout(this.dimension),this.layoutKebindingsList()},t.prototype.focus=function(){var e=this.activeKeybindingEntry;e?this.selectEntry(e):this.searchWidget.focus()},Object.defineProperty(t.prototype,"activeKeybindingEntry",{get:function(){var e=this.keybindingsList.getFocusedElements()[0];return e&&e.templateId===S.KEYBINDING_ENTRY_TEMPLATE_ID?e:null},enumerable:!0,configurable:!0}),t.prototype.defineKeybinding=function(e){var t=this;return this.selectEntry(e),this.showOverlayContainer(),this.defineKeybindingWidget.define().then(function(i){if(i){
if((e.keybindingItem.keybinding?e.keybindingItem.keybinding.getUserSettingsLabel():"")!==i)return t.reportKeybindingAction(C.KEYBINDINGS_EDITOR_COMMAND_DEFINE,e.keybindingItem.command,i),t.keybindingEditingService.editKeybinding(i,e.keybindingItem.keybindingItem).then(function(){e.keybindingItem.keybinding||(t.unAssignedKeybindingItemToRevealAndFocus=e)})}return null}).then(function(){t.hideOverlayContainer(),t.selectEntry(e)},function(i){return t.hideOverlayContainer(),t.onKeybindingEditingError(i),t.selectEntry(e),i})},t.prototype.removeKeybinding=function(e){var t=this;return this.selectEntry(e),e.keybindingItem.keybinding?(this.reportKeybindingAction(C.KEYBINDINGS_EDITOR_COMMAND_REMOVE,e.keybindingItem.command,e.keybindingItem.keybinding),this.keybindingEditingService.removeKeybinding(e.keybindingItem.keybindingItem).then(function(){return t.focus()},function(i){t.onKeybindingEditingError(i),t.selectEntry(e)})):s.TPromise.as(null)},t.prototype.resetKeybinding=function(e){var t=this
;return this.selectEntry(e),this.reportKeybindingAction(C.KEYBINDINGS_EDITOR_COMMAND_RESET,e.keybindingItem.command,e.keybindingItem.keybinding),this.keybindingEditingService.resetKeybinding(e.keybindingItem.keybindingItem).then(function(){e.keybindingItem.keybinding||(t.unAssignedKeybindingItemToRevealAndFocus=e),t.selectEntry(e)},function(i){t.onKeybindingEditingError(i),t.selectEntry(e)})},t.prototype.copyKeybinding=function(e){this.selectEntry(e),this.reportKeybindingAction(C.KEYBINDINGS_EDITOR_COMMAND_COPY,e.keybindingItem.command,e.keybindingItem.keybinding);var t={key:e.keybindingItem.keybinding?e.keybindingItem.keybinding.getUserSettingsLabel():"",command:e.keybindingItem.command};return e.keybindingItem.when&&(t.when=e.keybindingItem.when),this.clipboardService.writeText(JSON.stringify(t,null,"  ")),s.TPromise.as(null)},t.prototype.copyKeybindingCommand=function(e){return this.selectEntry(e),
this.reportKeybindingAction(C.KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND,e.keybindingItem.command,e.keybindingItem.keybinding),this.clipboardService.writeText(e.keybindingItem.command),s.TPromise.as(null)},t.prototype.focusSearch=function(){this.searchWidget.focus()},t.prototype.search=function(e){this.focusSearch(),this.searchWidget.setValue(e)},t.prototype.clearSearchResults=function(){this.searchWidget.clear()},t.prototype.showSimilarKeybindings=function(e){var t='"'+e.keybindingItem.keybinding.getAriaLabel()+'"';return t!==this.searchWidget.getValue()&&this.searchWidget.setValue(t),s.TPromise.as(null)},t.prototype.createAriaLabelElement=function(e){this.ariaLabelElement=c.append(e,c.$("")),this.ariaLabelElement.setAttribute("id","keybindings-editor-aria-label-element"),this.ariaLabelElement.setAttribute("aria-live","assertive")},t.prototype.createOverlayContainer=function(e){var t=this;this.overlayContainer=c.append(e,F(".overlay-container")),this.overlayContainer.style.position="absolute",
this.overlayContainer.style.zIndex="10",this.defineKeybindingWidget=this._register(this.instantiationService.createInstance(w.DefineKeybindingWidget,this.overlayContainer)),this._register(this.defineKeybindingWidget.onDidChange(function(e){return t.defineKeybindingWidget.printExisting(t.keybindingsEditorModel.fetch('"'+e+'"').length)})),this._register(this.defineKeybindingWidget.onShowExistingKeybidings(function(e){return t.searchWidget.setValue('"'+e+'"')})),this.hideOverlayContainer()},t.prototype.showOverlayContainer=function(){this.overlayContainer.style.display="block"},t.prototype.hideOverlayContainer=function(){this.overlayContainer.style.display="none"},t.prototype.createHeader=function(e){var t=this;this.headerContainer=c.append(e,F(".keybindings-header"))
;var i=n.localize("SearchKeybindings.FullTextSearchPlaceholder","Type to search in keybindings"),r=n.localize("SearchKeybindings.KeybindingsSearchPlaceholder","Recording Keys. Press Escape to exit"),o=c.append(this.headerContainer,F(".search-container"));this.searchWidget=this._register(this.instantiationService.createInstance(w.KeybindingsSearchWidget,o,{ariaLabel:i,placeholder:i,focusKey:this.searchFocusContextKey,ariaLabelledBy:"keybindings-editor-aria-label-element",recordEnter:!0})),this._register(this.searchWidget.onDidChange(function(e){t.searchValueContextKey.set(!!e),t.delayedFiltering.trigger(function(){return t.filterKeybindings()})})),this._register(this.searchWidget.onEscape(function(){return t.recordKeysAction.checked=!1}));var s=c.append(o,c.$(".keybindings-search-actions-container")),a=this.createRecordingBadge(s),l=this.keybindingsService.lookupKeybinding(C.KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE),u=n.localize("sortByPrecedeneLabel","Sort by Precedence")
;this.sortByPrecedenceAction=new g.Action("keybindings.editor.sortByPrecedence",l?n.localize("sortByPrecedeneLabelWithKeybinding","{0} ({1})",u,l.getLabel()):u,"sort-by-precedence"),this.sortByPrecedenceAction.checked=!1,this._register(this.sortByPrecedenceAction.onDidChange(function(e){void 0!==e.checked&&t.renderKeybindingsEntries(!1)}));var p=this.keybindingsService.lookupKeybinding(C.KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS),h=n.localize("recordKeysLabel","Record Keys");this.recordKeysAction=new g.Action(C.KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS,p?n.localize("recordKeysLabelWithKeybinding","{0} ({1})",h,p.getLabel()):h,"octicon octicon-keyboard"),this.recordKeysAction.checked=!1,this._register(this.recordKeysAction.onDidChange(function(e){void 0!==e.checked&&(c.toggleClass(a,"disabled",!e.checked),e.checked?(t.searchWidget.inputBox.setPlaceHolder(r),t.searchWidget.inputBox.setAriaLabel(r),t.searchWidget.startRecordingKeys(),t.searchWidget.focus()):(t.searchWidget.inputBox.setPlaceHolder(i),
t.searchWidget.inputBox.setAriaLabel(i),t.searchWidget.stopRecordingKeys(),t.searchWidget.focus()))})),this.actionBar=this._register(new f.ActionBar(s,{animated:!1,actionItemProvider:function(e){return e.id===t.sortByPrecedenceAction.id?new d.CheckboxActionItem(null,e):e.id===t.recordKeysAction.id?new d.CheckboxActionItem(null,e):null}})),this.actionBar.push([this.recordKeysAction,this.sortByPrecedenceAction])},t.prototype.createRecordingBadge=function(e){var t=c.append(e,c.$(".recording-badge.disabled"));return t.textContent=n.localize("recording","Recording Keys"),this._register(L.attachStylerCallback(this.themeService,{badgeBackground:T.badgeBackground,contrastBorder:T.contrastBorder,badgeForeground:T.badgeForeground},function(e){var i=e.badgeBackground?e.badgeBackground.toString():null,n=e.contrastBorder?e.contrastBorder.toString():null,r=e.badgeForeground?e.badgeForeground.toString():null;t.style.backgroundColor=i,t.style.borderWidth=n?"1px":null,t.style.borderStyle=n?"solid":null,t.style.borderColor=n,
t.style.color=r?r.toString():null})),t},t.prototype.layoutSearchWidget=function(e){this.searchWidget.layout(e),c.toggleClass(this.headerContainer,"small",e.width<400),this.searchWidget.inputBox.inputElement.style.paddingRight="60px",e.width>400&&this.recordKeysAction.checked&&(this.searchWidget.inputBox.inputElement.style.paddingRight="180px")},t.prototype.createBody=function(e){var t=c.append(e,F(".keybindings-body"));this.createList(t)},t.prototype.createList=function(e){var t=this;this.keybindingsListContainer=c.append(e,F(".keybindings-list-container")),this.keybindingsList=this._register(this.instantiationService.createInstance(M.WorkbenchList,this.keybindingsListContainer,new B,[new V,new W(this,this.keybindingsService)],{identityProvider:function(e){return e.id},mouseSupport:!0,ariaLabel:n.localize("keybindingsLabel","Keybindings")})),this._register(this.keybindingsList.onContextMenu(function(e){return t.onContextMenu(e)})),this._register(this.keybindingsList.onFocusChange(function(e){
return t.onFocusChange(e)})),this._register(this.keybindingsList.onDidFocus(function(){c.addClass(t.keybindingsList.getHTMLElement(),"focused")})),this._register(this.keybindingsList.onDidBlur(function(){c.removeClass(t.keybindingsList.getHTMLElement(),"focused"),t.keybindingFocusContextKey.reset()})),this._register(this.keybindingsList.onMouseDblClick(function(){return t.defineKeybinding(t.activeKeybindingEntry)})),this._register(this.keybindingsList.onKeyDown(function(e){if(3===new x.StandardKeyboardEvent(e).keyCode){t.activeKeybindingEntry&&t.defineKeybinding(t.activeKeybindingEntry),e.stopPropagation()}}))},t.prototype.render=function(e,t){var i=this;return this.input?this.input.resolve().then(function(e){if(!t.isCancellationRequested){i.keybindingsEditorModel=e;var n=O.EditorExtensionsRegistry.getEditorActions().reduce(function(e,t){return e[t.id]=t.label,e},{});return i.keybindingsEditorModel.resolve(n)}}).then(function(){t.isCancellationRequested||i.renderKeybindingsEntries(!1,e)}):s.TPromise.as(null)
},t.prototype.filterKeybindings=function(){var e=this;this.renderKeybindingsEntries(this.searchWidget.hasFocus()),this.delayedFilterLogging.trigger(function(){return e.reportFilteringUsed(e.searchWidget.getValue())})},t.prototype.renderKeybindingsEntries=function(e,t){if(this.keybindingsEditorModel){var i=this.searchWidget.getValue(),n=this.keybindingsEditorModel.fetch(i,this.sortByPrecedenceAction.checked);this.ariaLabelElement.setAttribute("aria-label",this.getAriaLabel(n)),0===n.length&&this.latestEmptyFilters.push(i);var r=this.keybindingsList.getSelection()[0];if(this.listEntries=[{id:"keybinding-header-entry",templateId:S.KEYBINDING_HEADER_TEMPLATE_ID}].concat(n),this.keybindingsList.splice(0,this.keybindingsList.length,this.listEntries),this.layoutKebindingsList(),e)this.keybindingsList.setSelection([]),this.keybindingsList.setFocus([]);else if(this.unAssignedKeybindingItemToRevealAndFocus){var o=this.getNewIndexOfUnassignedKeybinding(this.unAssignedKeybindingItemToRevealAndFocus)
;-1!==o&&(this.keybindingsList.reveal(o,.2),this.selectEntry(o)),this.unAssignedKeybindingItemToRevealAndFocus=null}else-1!==r&&r<this.listEntries.length?this.selectEntry(r):this.editorService.activeControl!==this||t||this.focus()}},t.prototype.getAriaLabel=function(e){return this.sortByPrecedenceAction.checked?n.localize("show sorted keybindings","Showing {0} Keybindings in precedence order",e.length):n.localize("show keybindings","Showing {0} Keybindings in alphabetical order",e.length)},t.prototype.layoutKebindingsList=function(){var e=this.dimension.height-(c.getDomNodePagePosition(this.headerContainer).height+12);this.keybindingsListContainer.style.height=e+"px",this.keybindingsList.layout(e)},t.prototype.getIndexOf=function(e){var t=this.listEntries.indexOf(e);if(-1===t)for(var i=0;i<this.listEntries.length;i++)if(this.listEntries[i].id===e.id)return i;return t},t.prototype.getNewIndexOfUnassignedKeybinding=function(e){for(var t=0;t<this.listEntries.length;t++){var i=this.listEntries[t]
;if(i.templateId===S.KEYBINDING_ENTRY_TEMPLATE_ID){if(i.keybindingItem.command===e.keybindingItem.command)return t}}return-1},t.prototype.selectEntry=function(e){var t="number"==typeof e?e:this.getIndexOf(e);-1!==t&&(this.keybindingsList.getHTMLElement().focus(),this.keybindingsList.setFocus([t]),this.keybindingsList.setSelection([t]))},t.prototype.focusKeybindings=function(){this.keybindingsList.getHTMLElement().focus();var e=this.keybindingsList.getFocus();this.keybindingsList.setFocus([e.length?e[0]:0])},t.prototype.recordSearchKeys=function(){this.recordKeysAction.checked=!0},t.prototype.toggleSortByPrecedence=function(){this.sortByPrecedenceAction.checked=!this.sortByPrecedenceAction.checked},t.prototype.onContextMenu=function(e){var t=this;e.element.templateId===S.KEYBINDING_ENTRY_TEMPLATE_ID&&(this.selectEntry(e.element),this.contextMenuService.showContextMenu({getAnchor:function(){return e.anchor},getActions:function(){
return s.TPromise.as([t.createCopyAction(e.element),t.createCopyCommandAction(e.element),new f.Separator,t.createDefineAction(e.element),t.createRemoveAction(e.element),t.createResetAction(e.element),new f.Separator,t.createShowConflictsAction(e.element)])}}))},t.prototype.onFocusChange=function(e){this.keybindingFocusContextKey.reset();var t=e.elements[0];t&&(t.templateId!==S.KEYBINDING_HEADER_TEMPLATE_ID?t.templateId===S.KEYBINDING_ENTRY_TEMPLATE_ID&&this.keybindingFocusContextKey.set(!0):this.keybindingsList.focusNext())},t.prototype.createDefineAction=function(e){var t=this;return{label:e.keybindingItem.keybinding?n.localize("changeLabel","Change Keybinding"):n.localize("addLabel","Add Keybinding"),enabled:!0,id:C.KEYBINDINGS_EDITOR_COMMAND_DEFINE,run:function(){return t.defineKeybinding(e)}}},t.prototype.createRemoveAction=function(e){var t=this;return{label:n.localize("removeLabel","Remove Keybinding"),enabled:!!e.keybindingItem.keybinding,id:C.KEYBINDINGS_EDITOR_COMMAND_REMOVE,run:function(){
return t.removeKeybinding(e)}}},t.prototype.createResetAction=function(e){var t=this;return{label:n.localize("resetLabel","Reset Keybinding"),enabled:!e.keybindingItem.keybindingItem.isDefault,id:C.KEYBINDINGS_EDITOR_COMMAND_RESET,run:function(){return t.resetKeybinding(e)}}},t.prototype.createShowConflictsAction=function(e){var t=this;return{label:n.localize("showSameKeybindings","Show Same Keybindings"),enabled:!!e.keybindingItem.keybinding,id:C.KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR,run:function(){return t.showSimilarKeybindings(e)}}},t.prototype.createCopyAction=function(e){var t=this;return{label:n.localize("copyLabel","Copy"),enabled:!0,id:C.KEYBINDINGS_EDITOR_COMMAND_COPY,run:function(){return t.copyKeybinding(e)}}},t.prototype.createCopyCommandAction=function(e){var t=this;return{label:n.localize("copyCommandLabel","Copy Command"),enabled:!0,id:C.KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND,run:function(){return t.copyKeybindingCommand(e)}}},t.prototype.reportFilteringUsed=function(e){if(e){var t={
filter:e,emptyFilters:this.getLatestEmptyFiltersForTelemetry()};this.latestEmptyFilters=[],this.telemetryService.publicLog("keybindings.filter",t)}},t.prototype.getLatestEmptyFiltersForTelemetry=function(){var e=0;return this.latestEmptyFilters.filter(function(t){return(e+=t.length)<=8192})},t.prototype.reportKeybindingAction=function(e,t,i){this.telemetryService.publicLog(e,{command:t,keybinding:i?"string"==typeof i?i:i.getUserSettingsLabel():""})},t.prototype.onKeybindingEditingError=function(e){this.notificationService.error("string"==typeof e?e:n.localize("error","Error '{0}' while editing the keybinding. Please open 'keybindings.json' file and check for errors.",""+e))},t.ID="workbench.editor.keybindings",t=r([o(0,m.ITelemetryService),o(1,D.IThemeService),o(2,E.IKeybindingService),o(3,I.IContextMenuService),o(4,_.IKeybindingEditingService),o(5,A.IContextKeyService),o(6,k.INotificationService),o(7,y.IClipboardService),o(8,b.IInstantiationService),o(9,R.IEditorService)],t)}(v.BaseEditor)
;t.KeybindingsEditor=N;var B=function(){function e(){}return e.prototype.getHeight=function(e){if(e.templateId===S.KEYBINDING_ENTRY_TEMPLATE_ID){var t=e.keybindingItem.commandLabel&&e.commandIdMatches,i=!!e.commandDefaultLabelMatches;if(t&&i)return 60;if(t||i)return 40}return e.templateId===S.KEYBINDING_HEADER_TEMPLATE_ID?30:24},e.prototype.getTemplateId=function(e){return e.templateId},e}(),V=function(){function e(){}return Object.defineProperty(e.prototype,"templateId",{get:function(){return S.KEYBINDING_HEADER_TEMPLATE_ID},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){return c.addClass(e,"keybindings-list-header"),c.append(e,F(".header.actions"),F(".header.command",null,n.localize("command","Command")),F(".header.keybinding",null,n.localize("keybinding","Keybinding")),F(".header.source",null,n.localize("source","Source")),F(".header.when",null,n.localize("when","When"))),{}},e.prototype.renderElement=function(e,t,i){},e.prototype.disposeElement=function(){},
e.prototype.disposeTemplate=function(e){},e}(),W=function(){function e(e,t){this.keybindingsEditor=e,this.keybindingsService=t}return Object.defineProperty(e.prototype,"templateId",{get:function(){return S.KEYBINDING_ENTRY_TEMPLATE_ID},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){c.addClass(e,"keybinding-item");var t=new K(e,this.keybindingsEditor,this.keybindingsService),i=new z(e,this.keybindingsEditor),n=new H(e,this.keybindingsEditor),r=new U(e,this.keybindingsEditor),o=new j(e,this.keybindingsEditor);return e.setAttribute("aria-labelledby",[i.id,n.id,r.id,o.id].join(" ")),{parent:e,actions:t,command:i,keybinding:n,source:r,when:o}},e.prototype.renderElement=function(e,t,i){c.toggleClass(i.parent,"odd",t%2==1),i.actions.render(e),i.command.render(e),i.keybinding.render(e),i.source.render(e),i.when.render(e)},e.prototype.disposeElement=function(){},e.prototype.disposeTemplate=function(e){e.actions.dispose()},e}(),G=function(){function e(e,t){this.parent=e,this.keybindingsEditor=t,
this.element=this.create(e),this.id=this.element.getAttribute("id")}return e.COUNTER=0,e}(),K=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.keybindingsService=n,r}return i(t,e),t.prototype.create=function(e){var t=c.append(e,F(".column.actions",{id:"actions_"+ ++G.COUNTER}));return this.actionBar=new f.ActionBar(t,{animated:!1}),t},t.prototype.render=function(e){this.actionBar.clear();var t=[];e.keybindingItem.keybinding?t.push(this.createEditAction(e)):t.push(this.createAddAction(e)),this.actionBar.push(t,{icon:!0})},t.prototype.createEditAction=function(e){var t=this,i=this.keybindingsService.lookupKeybinding(C.KEYBINDINGS_EDITOR_COMMAND_DEFINE);return{class:"edit",enabled:!0,id:"editKeybinding",tooltip:i?n.localize("editKeybindingLabelWithKey","Change Keybinding {0}","("+i.getLabel()+")"):n.localize("editKeybindingLabel","Change Keybinding"),run:function(){return t.keybindingsEditor.defineKeybinding(e)}}},t.prototype.createAddAction=function(e){
var t=this,i=this.keybindingsService.lookupKeybinding(C.KEYBINDINGS_EDITOR_COMMAND_DEFINE);return{class:"add",enabled:!0,id:"addKeybinding",tooltip:i?n.localize("addKeybindingLabelWithKey","Add Keybinding {0}","("+i.getLabel()+")"):n.localize("addKeybindingLabel","Add Keybinding"),run:function(){return t.keybindingsEditor.defineKeybinding(e)}}},t.prototype.dispose=function(){this.actionBar=u.dispose(this.actionBar)},t}(G),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.create=function(e){return this.commandColumn=c.append(e,F(".column.command",{id:"command_"+ ++G.COUNTER})),this.commandColumn},t.prototype.render=function(e){c.clearNode(this.commandColumn);var t=e.keybindingItem,i=!(!t.commandLabel||!e.commandIdMatches),r=!!e.commandDefaultLabelMatches;c.toggleClass(this.commandColumn,"vertical-align-column",i||r),this.commandColumn.setAttribute("aria-label",this.getAriaLabel(e));var o
;t.commandLabel&&(o=new p.HighlightedLabel(this.commandColumn)).set(t.commandLabel,e.commandLabelMatches),e.commandDefaultLabelMatches&&(o=new p.HighlightedLabel(c.append(this.commandColumn,F(".command-default-label")))).set(t.commandDefaultLabel,e.commandDefaultLabelMatches),!e.commandIdMatches&&t.commandLabel||(o=new p.HighlightedLabel(c.append(this.commandColumn,F(".code")))).set(t.command,e.commandIdMatches),o&&(o.element.title=t.commandLabel?n.localize("title","{0} ({1})",t.commandLabel,t.command):t.command)},t.prototype.getAriaLabel=function(e){return n.localize("commandAriaLabel","Command is {0}.",e.keybindingItem.commandLabel?e.keybindingItem.commandLabel:e.keybindingItem.command)},t}(G),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.create=function(e){return this.keybindingColumn=c.append(e,F(".column.keybinding",{id:"keybinding_"+ ++G.COUNTER})),this.keybindingColumn},t.prototype.render=function(e){c.clearNode(this.keybindingColumn),
this.keybindingColumn.setAttribute("aria-label",this.getAriaLabel(e)),e.keybindingItem.keybinding&&new h.KeybindingLabel(this.keybindingColumn,l.OS).set(e.keybindingItem.keybinding,e.keybindingMatches)},t.prototype.getAriaLabel=function(e){return e.keybindingItem.keybinding?n.localize("keybindingAriaLabel","Keybinding is {0}.",e.keybindingItem.keybinding.getAriaLabel()):n.localize("noKeybinding","No Keybinding assigned.")},t}(G),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.create=function(e){return this.sourceColumn=c.append(e,F(".column.source",{id:"source_"+ ++G.COUNTER})),this.sourceColumn},t.prototype.render=function(e){c.clearNode(this.sourceColumn),this.sourceColumn.setAttribute("aria-label",this.getAriaLabel(e)),new p.HighlightedLabel(this.sourceColumn).set(e.keybindingItem.source,e.sourceMatches)},t.prototype.getAriaLabel=function(e){return n.localize("sourceAriaLabel","Source is {0}.",e.keybindingItem.source)},t}(G),j=function(e){function t(){
return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.create=function(e){var t=c.append(e,F(".column.when"));return this.whenColumn=c.append(t,F("div",{id:"when_"+ ++G.COUNTER})),this.whenColumn},t.prototype.render=function(e){if(c.clearNode(this.whenColumn),this.whenColumn.setAttribute("aria-label",this.getAriaLabel(e)),c.toggleClass(this.whenColumn,"code",!!e.keybindingItem.when),c.toggleClass(this.whenColumn,"empty",!e.keybindingItem.when),e.keybindingItem.when){var t=new p.HighlightedLabel(this.whenColumn);t.set(e.keybindingItem.when,e.whenMatches),this.whenColumn.title=e.keybindingItem.when,t.element.title=e.keybindingItem.when}else this.whenColumn.textContent="—"},t.prototype.getAriaLabel=function(e){return e.keybindingItem.when?n.localize("whenAriaLabel","When is {0}.",e.keybindingItem.when):n.localize("noWhen","No when context.")},t}(G);D.registerThemingParticipant(function(e,t){var i=e.getColor(T.listHighlightForeground)
;i&&t.addRule(".keybindings-editor > .keybindings-body > .keybindings-list-container .monaco-list-row > .column .highlight { color: "+i+"; }")})}),define(e[127],t([1,0,25,2,5,6,134,100,13,30,21,47,29,119,120,16,3,43,37,31,17,103,76,28,20,4,91,35]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var O=function(e){function t(i,n,r,o,s,c,l,u,d,p,h,g,f,v){var m=e.call(this,s,o)||this;return m.notificationService=r,m.fileService=c,m.instantiationService=l,m.telemetryService=u,m.textFileService=d,m.backupFileService=p,m.environmentService=h,m.contextService=g,m.hashService=f,m.logService=v,m._onDidContentChange=m._register(new a.Emitter),m._onDidStateChange=m._register(new a.Emitter),m.resource=i,m.preferredEncoding=n,m.inOrphanMode=!1,m.dirty=!1,m.versionId=0,m.lastSaveAttemptTime=0,m.saveSequentializer=new M,m.contentChangeEventScheduler=m._register(new C.RunOnceScheduler(function(){return m._onDidContentChange.fire(6)
},t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY)),m.orphanedChangeEventScheduler=m._register(new C.RunOnceScheduler(function(){return m._onDidStateChange.fire(7)},t.DEFAULT_ORPHANED_CHANGE_BUFFER_DELAY)),m.updateAutoSaveConfiguration(d.getAutoSaveConfiguration()),m.registerListeners(),m}return i(t,e),t.setSaveErrorHandler=function(e){t.saveErrorHandler=e},t.setSaveParticipant=function(e){t.saveParticipant=e},Object.defineProperty(t.prototype,"onDidContentChange",{get:function(){return this._onDidContentChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidStateChange",{get:function(){return this._onDidStateChange.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this._register(this.fileService.onFileChanges(function(t){return e.onFileChanges(t)})),this._register(this.textFileService.onAutoSaveConfigurationChange(function(t){return e.updateAutoSaveConfiguration(t)})),this._register(this.textFileService.onFilesAssociationChange(function(t){
return e.onFilesAssociationChange()})),this._register(this.onDidStateChange(function(t){return e.onStateChange(t)}))},t.prototype.onStateChange=function(e){4===e&&(this.contentChangeEventScheduler.cancel(),this._onDidContentChange.fire(4))},t.prototype.onFileChanges=function(e){var t,i=this,n=!1;if(this.inOrphanMode){e.contains(this.resource,1)&&(t=!1,n=!0)}else{e.contains(this.resource,2)&&(t=!0,n=!0)}if(n&&this.inOrphanMode!==t){(t?C.timeout(100).then(function(){return!!i.disposed||i.fileService.existsFile(i.resource).then(function(e){return!e})}):Promise.resolve(!1)).then(function(e){i.inOrphanMode===e||i.disposed||i.setOrphaned(e)})}},t.prototype.setOrphaned=function(e){this.inOrphanMode!==e&&(this.inOrphanMode=e,this.orphanedChangeEventScheduler.schedule())},t.prototype.updateAutoSaveConfiguration=function(e){var t="number"==typeof e.autoSaveDelay&&e.autoSaveDelay>0;this.autoSaveAfterMilliesEnabled=t,this.autoSaveAfterMillies=t?e.autoSaveDelay:void 0},t.prototype.onFilesAssociationChange=function(){
if(this.textEditorModel){var e=this.getFirstLineText(this.textEditorModel),t=this.getOrCreateMode(this.modeService,void 0,e);this.modelService.setMode(this.textEditorModel,t)}},t.prototype.getVersionId=function(){return this.versionId},t.prototype.revert=function(e){var t=this;if(!this.isResolved())return c.TPromise.wrap(null);this.cancelPendingAutoSave();var i=this.setDirty(!1);return(e?c.TPromise.as(this):this.load({forceReadFromDisk:!0})).then(function(){t._onDidStateChange.fire(4)},function(e){return i(),c.TPromise.wrapError(e)})},t.prototype.load=function(e){return this.logService.trace("load() - enter",this.resource),this.dirty||this.saveSequentializer.hasPendingSave()?(this.logService.trace("load() - exit - without loading because model is dirty or being saved",this.resource),c.TPromise.as(this)):this.textEditorModel||this.createTextEditorModelPromise?this.loadFromFile(e):this.loadFromBackup(e)},t.prototype.loadFromBackup=function(e){var t=this
;return this.backupFileService.loadBackupResource(this.resource).then(function(i){if(t.createTextEditorModelPromise||t.textEditorModel)return t.createTextEditorModelPromise||c.TPromise.as(t);if(i){var r={resource:t.resource,name:n.basename(t.resource.fsPath),mtime:Date.now(),etag:void 0,value:_.createTextBufferFactory(""),encoding:t.fileService.encoding.getWriteEncoding(t.resource,t.preferredEncoding),isReadonly:!1};return t.loadWithContent(r,e,i)}return t.loadFromFile(e)})},t.prototype.loadFromFile=function(e){var t,i=this,n=e&&e.forceReadFromDisk,r=this.isResolved()||e&&e.allowBinary;n?t=void 0:this.lastResolvedDiskStat&&(t=this.lastResolvedDiskStat.etag);var o=this.versionId;return this.textFileService.resolveTextContent(this.resource,{acceptTextOnly:!r,etag:t,encoding:this.preferredEncoding}).then(function(t){return i.setOrphaned(!1),o===i.versionId?i.loadWithContent(t,e):i},function(e){var t=e.fileOperationResult;return i.setOrphaned(2===t),3===t?(o===i.versionId&&i.setDirty(!1),
c.TPromise.as(i)):i.isResolved()&&2===t?c.TPromise.as(i):c.TPromise.wrapError(e)})},t.prototype.loadWithContent=function(e,t,i){var n=this;return this.doLoadWithContent(e,i).then(function(e){var i=n.getTypeIfSettings();return i?n.telemetryService.publicLog("settingsRead",{settingsType:i}):n.telemetryService.publicLog("fileGet",n.getTelemetryData(t&&t.reason?t.reason:3)),e})},t.prototype.doLoadWithContent=function(e,t){this.logService.trace("load() - resolved content",this.resource),this.updateLastResolvedDiskStat({resource:this.resource,name:e.name,mtime:e.mtime,etag:e.etag,isDirectory:!1,isSymbolicLink:!1,children:void 0,isReadonly:e.isReadonly});var i=this.contentEncoding;return this.contentEncoding=e.encoding,this.preferredEncoding?this.updatePreferredEncoding(this.contentEncoding):i!==this.contentEncoding&&this._onDidStateChange.fire(5),
this.textEditorModel?this.doUpdateTextModel(e.value):this.createTextEditorModelPromise?(this.logService.trace("load() - join existing text editor model promise",this.resource),this.createTextEditorModelPromise):this.doCreateTextModel(e.resource,e.value,t)},t.prototype.doUpdateTextModel=function(e){this.logService.trace("load() - updated text editor model",this.resource),this.setDirty(!1),this.blockModelContentChange=!0;try{this.updateTextEditorModel(e)}finally{this.blockModelContentChange=!1}return this.updateSavedVersionId(),c.TPromise.as(this)},t.prototype.doCreateTextModel=function(e,t,i){var n=this;return this.logService.trace("load() - created text editor model",this.resource),this.createTextEditorModelPromise=this.doLoadBackup(i).then(function(i){var r=!!i;return n.createTextEditorModel(r?i:t,e).then(function(){return n.createTextEditorModelPromise=null,r?(n.makeDirty(),n.autoSaveAfterMilliesEnabled&&n.doAutoSave(n.versionId)):n.setDirty(!1),n.installModelListeners(),n},function(e){
return n.createTextEditorModelPromise=null,c.TPromise.wrapError(e)})}),this.createTextEditorModelPromise},t.prototype.installModelListeners=function(){var e=this;this._register(this.textEditorModel.onDidChangeContent(function(){return e.onModelContentChanged()}))},t.prototype.doLoadBackup=function(e){return e?this.backupFileService.resolveBackupContent(e).then(function(e){return e},function(e){return null}):c.TPromise.as(null)},t.prototype.getOrCreateMode=function(e,t,i){return e.getOrCreateModeByFilepathOrFirstLine(this.resource.fsPath,i)},t.prototype.onModelContentChanged=function(){if(this.logService.trace("onModelContentChanged() - enter",this.resource),this.versionId++,this.logService.trace("onModelContentChanged() - new versionId "+this.versionId,this.resource),!this.blockModelContentChange){if(!this.autoSaveAfterMilliesEnabled&&this.textEditorModel.getAlternativeVersionId()===this.bufferSavedVersionId){
this.logService.trace("onModelContentChanged() - model content changed back to last saved version",this.resource);var e=this.dirty;return this.setDirty(!1),void(e&&this._onDidStateChange.fire(4))}this.logService.trace("onModelContentChanged() - model content changed and marked as dirty",this.resource),this.makeDirty(),this.autoSaveAfterMilliesEnabled&&(this.inConflictMode?this.logService.trace("makeDirty() - prevented save because we are in conflict resolution mode",this.resource):this.doAutoSave(this.versionId)),this.contentChangeEventScheduler.schedule()}},t.prototype.makeDirty=function(){var e=this.dirty;this.setDirty(!0),e||this._onDidStateChange.fire(0)},t.prototype.doAutoSave=function(e){var t=this;this.logService.trace("doAutoSave() - enter for versionId "+e,this.resource),this.cancelPendingAutoSave();var i=setTimeout(function(){e===t.versionId&&t.doSave(e,{reason:2})},this.autoSaveAfterMillies);this.autoSaveDisposable=x.toDisposable(function(){return clearTimeout(i)})},
t.prototype.cancelPendingAutoSave=function(){this.autoSaveDisposable&&(this.autoSaveDisposable.dispose(),this.autoSaveDisposable=void 0)},t.prototype.save=function(e){return void 0===e&&(e=Object.create(null)),this.isResolved()?(this.logService.trace("save() - enter",this.resource),this.cancelPendingAutoSave(),this.doSave(this.versionId,e)):c.TPromise.wrap(null)},t.prototype.doSave=function(e,i){var n=this;if(p.isUndefinedOrNull(i.reason)&&(i.reason=1),this.logService.trace("doSave("+e+") - enter with versionId ' + versionId",this.resource),this.saveSequentializer.hasPendingSave(e))return this.logService.trace("doSave("+e+") - exit - found a pending save for versionId "+e,this.resource),this.saveSequentializer.pendingSave;if(!i.force&&!this.dirty||e!==this.versionId)return this.logService.trace("doSave("+e+") - exit - because not dirty and/or versionId is different (this.isDirty: "+this.dirty+", this.versionId: "+this.versionId+")",this.resource),c.TPromise.wrap(null)
;if(this.saveSequentializer.hasPendingSave())return this.logService.trace("doSave("+e+") - exit - because busy saving",this.resource),this.saveSequentializer.setNext(function(){return n.doSave(n.versionId,i)});this.autoSaveAfterMilliesEnabled||this.textEditorModel.pushStackElement();var r=c.TPromise.as(e);if(t.saveParticipant&&!i.skipSaveParticipants){var o=function(){return n.blockModelContentChange=!1,n.versionId};r=c.TPromise.as(void 0).then(function(){return n.blockModelContentChange=!0,t.saveParticipant.participate(n,{reason:i.reason})}).then(o,o)}return this.saveSequentializer.setPending(e,r.then(function(t){if(!n.disposed)return!i.force||n.dirty||n.inOrphanMode||1!==i.reason||e!==t?(e=t,n.inErrorMode=!1,n.lastSaveAttemptTime=Date.now(),n.logService.trace("doSave("+e+") - before updateContent()",n.resource),n.saveSequentializer.setPending(t,n.fileService.updateContent(n.lastResolvedDiskStat.resource,n.createSnapshot(),{overwriteReadonly:i.overwriteReadonly,overwriteEncoding:i.overwriteEncoding,
mtime:n.lastResolvedDiskStat.mtime,encoding:n.getEncoding(),etag:n.lastResolvedDiskStat.etag,writeElevated:i.writeElevated}).then(function(t){n.logService.trace("doSave("+e+") - after updateContent()",n.resource);var r=n.getTypeIfSettings();r?n.telemetryService.publicLog("settingsWritten",{settingsType:r}):n.telemetryService.publicLog("filePUT",n.getTelemetryData(i.reason)),e===n.versionId?(n.logService.trace("doSave("+e+") - setting dirty to false because versionId did not change",n.resource),n.setDirty(!1)):n.logService.trace("doSave("+e+") - not setting dirty to false because versionId did change meanwhile",n.resource),n.updateLastResolvedDiskStat(t),n.contentChangeEventScheduler.cancel(),n._onDidStateChange.fire(3)},function(t){t||(t=new Error("Unknown Save Error")),n.logService.error("doSave("+e+") - exit - resulted in a save error: "+t.toString(),n.resource),n.inErrorMode=!0,4===t.fileOperationResult&&(n.inConflictMode=!0),n.onSaveError(t),n._onDidStateChange.fire(2)}))):n.doTouch(t)}))},
t.prototype.getTypeIfSettings=function(){if(".json"!==n.extname(this.resource.fsPath))return"";if(R.isEqual(this.resource,d.URI.file(this.environmentService.appSettingsPath),!A.isLinux))return"global-settings";if(R.isEqual(this.resource,d.URI.file(this.environmentService.appKeybindingsPath),!A.isLinux))return"keybindings";if(R.isEqual(this.resource,d.URI.file(n.join(this.environmentService.appSettingsHome,"locale.json")),!A.isLinux))return"locale";if(R.isEqualOrParent(this.resource,d.URI.file(n.join(this.environmentService.appSettingsHome,"snippets"))))return"snippets";for(var e=this.contextService.getWorkspace().folders,i=0;i<e.length;i++)if(R.isEqualOrParent(this.resource,e[i].toResource(".vscode"))){var r=n.basename(this.resource.fsPath);if(t.WHITELIST_WORKSPACE_JSON.indexOf(r)>-1)return".vscode/"+r}return""},t.prototype.getTelemetryData=function(e){var i=n.extname(this.resource.fsPath),r=n.basename(this.resource.fsPath),o={mimeType:l.guessMimeTypes(this.resource.fsPath).join(", "),ext:i,
path:this.hashService.createSHA1(this.resource.fsPath),reason:e};return".json"===i&&t.WHITELIST_JSON.indexOf(r)>-1&&(o.whitelistedjson=r),o},t.prototype.doTouch=function(e){var t=this;return this.saveSequentializer.setPending(e,this.fileService.updateContent(this.lastResolvedDiskStat.resource,this.createSnapshot(),{mtime:this.lastResolvedDiskStat.mtime,encoding:this.getEncoding(),etag:this.lastResolvedDiskStat.etag}).then(function(e){t.updateLastResolvedDiskStat(e)},function(){}))},t.prototype.setDirty=function(e){var t=this,i=this.dirty,n=this.inConflictMode,r=this.inErrorMode,o=this.bufferSavedVersionId;return e?this.dirty=!0:(this.dirty=!1,this.inConflictMode=!1,this.inErrorMode=!1,this.updateSavedVersionId()),function(){t.dirty=i,t.inConflictMode=n,t.inErrorMode=r,t.bufferSavedVersionId=o}},t.prototype.updateSavedVersionId=function(){this.textEditorModel&&(this.bufferSavedVersionId=this.textEditorModel.getAlternativeVersionId())},t.prototype.updateLastResolvedDiskStat=function(e){
this.lastResolvedDiskStat?this.lastResolvedDiskStat.mtime<=e.mtime&&(this.lastResolvedDiskStat=e):this.lastResolvedDiskStat=e},t.prototype.onSaveError=function(e){t.saveErrorHandler||t.setSaveErrorHandler(this.instantiationService.createInstance(k)),t.saveErrorHandler.onSaveError(e,this)},t.prototype.isDirty=function(){return this.dirty},t.prototype.getLastSaveAttemptTime=function(){return this.lastSaveAttemptTime},t.prototype.getETag=function(){return this.lastResolvedDiskStat?this.lastResolvedDiskStat.etag:null},t.prototype.hasState=function(e){switch(e){case 3:return this.inConflictMode;case 1:return this.dirty;case 5:return this.inErrorMode;case 4:return this.inOrphanMode;case 2:return this.saveSequentializer.hasPendingSave();case 0:return!this.dirty}},t.prototype.getEncoding=function(){return this.preferredEncoding||this.contentEncoding},t.prototype.setEncoding=function(e,t){if(this.isNewEncoding(e))if(0===t)this.updatePreferredEncoding(e),this.isDirty()||(this.versionId++,this.makeDirty()),
this.inConflictMode||this.save({overwriteEncoding:!0});else{if(this.isDirty())return void this.notificationService.info(s.localize("saveFileFirst","The file is dirty. Please save it first before reopening it with another encoding."));this.updatePreferredEncoding(e),this.load({forceReadFromDisk:!0})}},t.prototype.updatePreferredEncoding=function(e){this.isNewEncoding(e)&&(this.preferredEncoding=e,this._onDidStateChange.fire(5))},t.prototype.isNewEncoding=function(e){return this.preferredEncoding!==e&&!(!this.preferredEncoding&&this.contentEncoding===e)},t.prototype.isResolved=function(){return!p.isUndefinedOrNull(this.lastResolvedDiskStat)},t.prototype.isReadonly=function(){return this.lastResolvedDiskStat&&this.lastResolvedDiskStat.isReadonly},t.prototype.isDisposed=function(){return this.disposed},t.prototype.getResource=function(){return this.resource},t.prototype.getStat=function(){return this.lastResolvedDiskStat},t.prototype.dispose=function(){this.disposed=!0,this.inConflictMode=!1,this.inOrphanMode=!1,
this.inErrorMode=!1,this.createTextEditorModelPromise=null,this.cancelPendingAutoSave(),e.prototype.dispose.call(this)},t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY=y.CONTENT_CHANGE_EVENT_BUFFER_DELAY,t.DEFAULT_ORPHANED_CHANGE_BUFFER_DELAY=100,t.WHITELIST_JSON=["package.json","package-lock.json","tsconfig.json","jsconfig.json","bower.json",".eslintrc.json","tslint.json","composer.json"],t.WHITELIST_WORKSPACE_JSON=["settings.json","extensions.json","tasks.json","launch.json"],t=r([o(2,D.INotificationService),o(3,b.IModeService),o(4,E.IModelService),o(5,y.IFileService),o(6,S.IInstantiationService),o(7,w.ITelemetryService),o(8,f.ITextFileService),o(9,m.IBackupFileService),o(10,g.IEnvironmentService),o(11,h.IWorkspaceContextService),o(12,I.IHashService),o(13,T.ILogService)],t)}(v.BaseTextEditorModel);t.TextFileEditorModel=O;var M=function(){function e(){}return e.prototype.hasPendingSave=function(e){return!!this._pendingSave&&("number"==typeof e?this._pendingSave.versionId===e:!!this._pendingSave)},
Object.defineProperty(e.prototype,"pendingSave",{get:function(){return this._pendingSave?this._pendingSave.promise:void 0},enumerable:!0,configurable:!0}),e.prototype.setPending=function(e,t){var i=this;return this._pendingSave={versionId:e,promise:t},t.then(function(){return i.donePending(e)},function(){return i.donePending(e)}),t},e.prototype.donePending=function(e){this._pendingSave&&e===this._pendingSave.versionId&&(this._pendingSave=void 0,this.triggerNextSave())},e.prototype.triggerNextSave=function(){if(this._nextSave){var e=this._nextSave;this._nextSave=void 0,e.run().then(e.promiseValue,e.promiseError)}},e.prototype.setNext=function(e){if(this._nextSave)this._nextSave.run=e;else{var t,i,n=new c.TPromise(function(e,n){t=e,i=n});this._nextSave={run:e,promise:n,promiseValue:t,promiseError:i}}return this._nextSave.promise},e}();t.SaveSequentializer=M;var k=function(){function e(e){this.notificationService=e}return e.prototype.onSaveError=function(e,t){
this.notificationService.error(s.localize("genericSaveError","Failed to save '{0}': {1}",n.basename(t.getResource().fsPath),u.toErrorMessage(e,!1)))},e=r([o(0,D.INotificationService)],e)}()}),define(e[370],t([1,0,17,22,94,3,50,108,151,497,498,499,9,127,98,371,202,2,19,91,136,38,444,445,446,364,57]),function(e,t,i,n,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R){"use strict";function O(e,t){var i=null;if(e.isAttachedToEditor())for(var n=0,r=t.listCodeEditors();n<r.length;n++){var o=r[n];if(o.getModel()===e){if(o.hasTextFocus())return o;i=o}}return i}Object.defineProperty(t,"__esModule",{value:!0});var M=function(){function e(e,t){this.configurationService=e,this.codeEditorService=t}return e.prototype.participate=function(e,t){this.configurationService.getValue("files.trimTrailingWhitespace",{overrideIdentifier:e.textEditorModel.getLanguageIdentifier().language,resource:e.getResource()})&&this.doTrimTrailingWhitespace(e.textEditorModel,2===t.reason)},e.prototype.doTrimTrailingWhitespace=function(e,t){
var i=[],n=[],r=O(e,this.codeEditorService);if(r&&(i=r.getSelections(),t)){n=i.map(function(e){return e.getPosition()});var o=I.SnippetController2.get(r).getSessionEnclosingRange();if(o)for(var s=o.startLineNumber;s<=o.endLineNumber;s++)n.push(new p.Position(s,e.getLineMaxColumn(s)))}var a=h.trimTrailingWhitespace(e,n);a.length&&e.pushEditOperations(i,a,function(e){return i})},e=r([o(0,v.IConfigurationService),o(1,c.ICodeEditorService)],e)}(),k=function(){function e(e,t){this.configurationService=e,this.codeEditorService=t}return e.prototype.participate=function(e,t){this.configurationService.getValue("files.insertFinalNewline",{overrideIdentifier:e.textEditorModel.getLanguageIdentifier().language,resource:e.getResource()})&&this.doInsertFinalNewLine(e.textEditorModel)},e.prototype.doInsertFinalNewLine=function(e){var t=e.getLineCount(),i=e.getLineContent(t),r=-1===n.lastNonWhitespaceIndex(i);if(t&&!r){var o=[],s=O(e,this.codeEditorService);s&&(o=s.getSelections()),
e.pushEditOperations(o,[y.EditOperation.insert(new p.Position(t,e.getLineMaxColumn(t)),e.getEOL())],function(e){return o}),s&&s.setSelections(o)}},e=r([o(0,v.IConfigurationService),o(1,c.ICodeEditorService)],e)}();t.FinalNewLineParticipant=k;var P=function(){function e(e,t){this.configurationService=e,this.codeEditorService=t}return e.prototype.participate=function(e,t){this.configurationService.getValue("files.trimFinalNewlines",{overrideIdentifier:e.textEditorModel.getLanguageIdentifier().language,resource:e.getResource()})&&this.doTrimFinalNewLines(e.textEditorModel,2===t.reason)},e.prototype.findLastLineWithContent=function(e){for(var t=e.getLineCount();t>=1;t--){var i=e.getLineContent(t);if(-1!==n.lastNonWhitespaceIndex(i))return t}return 0},e.prototype.doTrimFinalNewLines=function(e,t){var i=e.getLineCount();if(1!==i){var n=[],r=0,o=O(e,this.codeEditorService);if(o&&(n=o.getSelections(),t))for(var s=0,a=n.length;s<a;s++){var c=n[s].positionLineNumber;c>r&&(r=c)}
var l=this.findLastLineWithContent(e),d=Math.max(l+1,r+1),p=e.validateRange(new u.Range(d,1,i,e.getLineMaxColumn(i)));p.isEmpty()||(e.pushEditOperations(n,[y.EditOperation.delete(p)],function(e){return n}),o&&o.setSelections(n))}},e=r([o(0,v.IConfigurationService),o(1,c.ICodeEditorService)],e)}();t.TrimFinalNewLinesParticipant=P;var L=function(){function e(e,t,i){this._editorService=e,this._editorWorkerService=t,this._configurationService=i}return e.prototype.participate=function(e,t){var i=this,n=e.textEditorModel;if(2!==t.reason&&this._configurationService.getValue("editor.formatOnSave",{overrideIdentifier:n.getLanguageIdentifier().language,resource:e.getResource()})){var r=n.getVersionId(),o=n.getOptions(),s=o.tabSize,a=o.insertSpaces,c=this._configurationService.getValue("editor.formatOnSaveTimeout",{overrideIdentifier:n.getLanguageIdentifier().language,resource:e.getResource()});return new Promise(function(e,t){var r=new R.CancellationTokenSource,o=g.getDocumentFormattingEdits(n,{tabSize:s,insertSpaces:a
},r.token);setTimeout(function(){t(E.localize("timeout.formatOnSave","Aborted format on save after {0}ms",c)),r.cancel()},c),o.then(function(e){return i._editorWorkerService.computeMoreMinimalEdits(n.uri,e)}).then(e,function(i){i instanceof Error&&i.name===g.NoProviderError.Name?e():t(i)})}).then(function(e){if(!w.isFalsyOrEmpty(e)&&r===n.getVersionId()){var t=O(n,i._editorService);t?i._editsWithEditor(t,e):i._editWithModel(n,e)}})}},e.prototype._editsWithEditor=function(e,t){f.FormattingEdit.execute(e,t)},e.prototype._editWithModel=function(t,i){var n=i[0].range,r=new d.Selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn);t.pushEditOperations([r],i.map(e._asIdentEdit),function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t].range;if(u.Range.areIntersectingOrTouching(n,r))return[new d.Selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn)]}})},e._asIdentEdit=function(e){var t=e.text,i=e.range;return{text:t,range:u.Range.lift(i),forceMoveMarkers:!0}},
e=r([o(0,c.ICodeEditorService),o(1,S.IEditorWorkerService),o(2,v.IConfigurationService)],e)}(),F=function(){function e(e,t,i){this._bulkEditService=e,this._commandService=t,this._configurationService=i}return e.prototype.participate=function(e,t){return s(this,void 0,void 0,function(){var i,n,r,o,s,c=this;return a(this,function(a){return 2===t.reason?[2,void 0]:(i=e.textEditorModel,n={overrideIdentifier:i.getLanguageIdentifier().language,resource:e.getResource()},(r=this._configurationService.getValue("editor.codeActionsOnSave",n))&&(o=Object.keys(r).filter(function(e){return r[e]}).map(function(e){return new D.CodeActionKind(e)})).length?(s=this._configurationService.getValue("editor.codeActionsOnSaveTimeout",n),[2,new Promise(function(e,t){setTimeout(function(){return t(E.localize("codeActionsOnSave.didTimeout","Aborted codeActionsOnSave after {0}ms",s))},s),c.getActionsToRun(i,o).then(e)}).then(function(e){return c.applyCodeActions(e)})]):[2,void 0])})})},e.prototype.applyCodeActions=function(e){
return s(this,void 0,void 0,function(){var t,i,n;return a(this,function(r){switch(r.label){case 0:t=0,i=e,r.label=1;case 1:return t<i.length?(n=i[t],[4,A.applyCodeAction(n,this._bulkEditService,this._commandService)]):[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.getActionsToRun=function(e,t){return s(this,void 0,void 0,function(){var i,n;return a(this,function(r){switch(r.label){case 0:return[4,x.getCodeActions(e,e.getFullModelRange(),{type:"auto",filter:{kind:D.CodeActionKind.Source,includeSourceActions:!0}})];case 1:return i=r.sent(),n=i.filter(function(e){return e.kind&&t.some(function(t){return t.contains(e.kind)})}),[2,n]}})})},e=r([o(0,T.IBulkEditService),o(1,_.ICommandService),o(2,v.IConfigurationService)],e)}(),N=function(){function e(e,t,n){this._progressService=t,this._logService=n,this._saveParticipants=new i.IdleValue(function(){return[e.createInstance(M),e.createInstance(F),e.createInstance(L),e.createInstance(k),e.createInstance(P)]}),
m.TextFileEditorModel.setSaveParticipant(this)}return e.prototype.dispose=function(){m.TextFileEditorModel.setSaveParticipant(void 0),this._saveParticipants.dispose()},e.prototype.participate=function(e,t){var n=this;return this._progressService.withProgress({location:10},function(r){r.report({message:E.localize("saveParticipants","Running Save Participants...")});var o=n._saveParticipants.getValue().map(function(i){return function(){return Promise.resolve(i.participate(e,t))}});return i.sequence(o).then(function(){},function(e){return n._logService.warn(e)})})},e=r([o(0,l.IInstantiationService),o(1,b.IProgressService2),o(2,C.ILogService)],e)}();t.SaveParticipant=N}),define(e[372],t([1,0,5,6,127,4,29,60,3,39,24]),function(e,t,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(t,i){var r=e.call(this)||this;return r.lifecycleService=t,r.instantiationService=i,r._onModelDisposed=r._register(new n.Emitter),
r._onModelContentChanged=r._register(new n.Emitter),r._onModelDirty=r._register(new n.Emitter),r._onModelSaveError=r._register(new n.Emitter),r._onModelSaved=r._register(new n.Emitter),r._onModelReverted=r._register(new n.Emitter),r._onModelEncodingChanged=r._register(new n.Emitter),r._onModelOrphanedChanged=r._register(new n.Emitter),r.mapResourceToModel=new p.ResourceMap,r.mapResourceToDisposeListener=new p.ResourceMap,r.mapResourceToStateChangeListener=new p.ResourceMap,r.mapResourceToModelContentChangeListener=new p.ResourceMap,r.mapResourceToPendingModelLoaders=new p.ResourceMap,r.registerListeners(),r}return i(t,e),Object.defineProperty(t.prototype,"onModelDisposed",{get:function(){return this._onModelDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelContentChanged",{get:function(){return this._onModelContentChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelDirty",{get:function(){return this._onModelDirty.event},
enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelSaveError",{get:function(){return this._onModelSaveError.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelSaved",{get:function(){return this._onModelSaved.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelReverted",{get:function(){return this._onModelReverted.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelEncodingChanged",{get:function(){return this._onModelEncodingChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelOrphanedChanged",{get:function(){return this._onModelOrphanedChanged.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){this.lifecycleService.onShutdown(this.dispose,this)},Object.defineProperty(t.prototype,"onModelsDirty",{get:function(){return this._onModelsDirtyEvent||(this._onModelsDirtyEvent=this.debounce(this.onModelDirty)),this._onModelsDirtyEvent},
enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelsSaveError",{get:function(){return this._onModelsSaveError||(this._onModelsSaveError=this.debounce(this.onModelSaveError)),this._onModelsSaveError},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelsSaved",{get:function(){return this._onModelsSaved||(this._onModelsSaved=this.debounce(this.onModelSaved)),this._onModelsSaved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onModelsReverted",{get:function(){return this._onModelsReverted||(this._onModelsReverted=this.debounce(this.onModelReverted)),this._onModelsReverted},enumerable:!0,configurable:!0}),t.prototype.debounce=function(e){return n.debounceEvent(e,function(e,t){return e?e.push(t):e=[t],e},this.debounceDelay())},t.prototype.debounceDelay=function(){return 250},t.prototype.get=function(e){return this.mapResourceToModel.get(e)},t.prototype.loadOrCreate=function(e,t){var i=this,n=this.mapResourceToPendingModelLoaders.get(e);if(n)return n
;var r,o=this.get(e);return o?t&&t.reload?t.reload.async?(r=s.TPromise.as(o),o.load(t).then(null,h.onUnexpectedError)):r=o.load(t):r=s.TPromise.as(o):(r=(o=this.instantiationService.createInstance(a.TextFileEditorModel,e,t?t.encoding:void 0)).load(t),this.mapResourceToStateChangeListener.set(e,o.onDidStateChange(function(e){var t=new l.TextFileModelChangeEvent(o,e);switch(e){case 0:i._onModelDirty.fire(t);break;case 2:i._onModelSaveError.fire(t);break;case 3:i._onModelSaved.fire(t);break;case 4:i._onModelReverted.fire(t);break;case 5:i._onModelEncodingChanged.fire(t);break;case 7:i._onModelOrphanedChanged.fire(t)}})),this.mapResourceToModelContentChangeListener.set(e,o.onDidContentChange(function(e){i._onModelContentChanged.fire(new l.TextFileModelChangeEvent(o,e))}))),this.mapResourceToPendingModelLoaders.set(e,r),r.then(function(t){return i.add(e,t),t.isDirty()&&i._onModelDirty.fire(new l.TextFileModelChangeEvent(t,0)),i.mapResourceToPendingModelLoaders.delete(e),t},function(t){return o.dispose(),
i.mapResourceToPendingModelLoaders.delete(e),s.TPromise.wrapError(t)})},t.prototype.getAll=function(e,t){if(e){var i=this.mapResourceToModel.get(e);return i?[i]:[]}var n=[];return this.mapResourceToModel.forEach(function(e){t&&!t(e)||n.push(e)}),n},t.prototype.add=function(e,t){var i=this;if(this.mapResourceToModel.get(e)!==t){var n=this.mapResourceToDisposeListener.get(e);n&&n.dispose(),this.mapResourceToModel.set(e,t),this.mapResourceToDisposeListener.set(e,t.onDispose(function(){i.remove(e),i._onModelDisposed.fire(e)}))}},t.prototype.remove=function(e){this.mapResourceToModel.delete(e);var t=this.mapResourceToDisposeListener.get(e);t&&(c.dispose(t),this.mapResourceToDisposeListener.delete(e));var i=this.mapResourceToStateChangeListener.get(e);i&&(c.dispose(i),this.mapResourceToStateChangeListener.delete(e));var n=this.mapResourceToModelContentChangeListener.get(e);n&&(c.dispose(n),this.mapResourceToModelContentChangeListener.delete(e))},t.prototype.clear=function(){this.mapResourceToModel.clear(),
this.mapResourceToPendingModelLoaders.clear(),this.mapResourceToDisposeListener.forEach(function(e){return e.dispose()}),this.mapResourceToDisposeListener.clear(),this.mapResourceToStateChangeListener.forEach(function(e){return e.dispose()}),this.mapResourceToStateChangeListener.clear(),this.mapResourceToModelContentChangeListener.forEach(function(e){return e.dispose()}),this.mapResourceToModelContentChangeListener.clear()},t.prototype.disposeModel=function(e){e&&(e.isDisposed()||this.mapResourceToPendingModelLoaders.has(e.getResource())||e.isDirty()||e.dispose())},t=r([o(0,u.ILifecycleService),o(1,d.IInstantiationService)],t)}(c.Disposable);t.TextFileEditorModelManager=g}),define(e[373],t([1,0,2,6,13,25,24,40,5,20,29,16,4,372,39,27,76,35]),function(e,t,n,r,o,c,l,u,d,p,h,g,f,v,m,y,S,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E=function(e){function t(t,i,n,r,o,s,a,c,l,u,p,g,f,m){var y=e.call(this)||this;y.lifecycleService=t,y.contextService=i,y.configurationService=n,y.fileService=r,
y.untitledEditorService=o,y.instantiationService=s,y.notificationService=a,y.environmentService=c,y.backupFileService=l,y.windowsService=u,y.windowService=p,y.historyService=g,y.modelService=m,y._onAutoSaveConfigurationChange=y._register(new d.Emitter),y._onFilesAssociationChange=y._register(new d.Emitter),y._onWillMove=y._register(new d.Emitter),y._models=y.instantiationService.createInstance(v.TextFileEditorModelManager),y.autoSaveContext=h.AutoSaveContext.bindTo(f);var S=y.configurationService.getValue();return y.currentFilesAssociationConfig=S&&S.files&&S.files.associations,y.onFilesConfigurationChange(S),y.registerListeners(),y}return i(t,e),Object.defineProperty(t.prototype,"onAutoSaveConfigurationChange",{get:function(){return this._onAutoSaveConfigurationChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onFilesAssociationChange",{get:function(){return this._onFilesAssociationChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onWillMove",{
get:function(){return this._onWillMove.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"models",{get:function(){return this._models},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this.lifecycleService.onWillShutdown(function(t){return t.veto(e.beforeShutdown(t.reason))}),this.lifecycleService.onShutdown(this.dispose,this),this._register(this.configurationService.onDidChangeConfiguration(function(t){t.affectsConfiguration("files")&&e.onFilesConfigurationChange(e.configurationService.getValue())}))},t.prototype.beforeShutdown=function(e){var t=this,i=this.getDirty();if(i.length){return(0!==this.getAutoSaveMode()?this.saveAll(!1,{skipSaveParticipants:!0}).then(function(){return t.getDirty()}):r.TPromise.as(i)).then(function(i){if(i.length)return t.isHotExitEnabled?t.backupBeforeShutdown(i,t.models,e).then(function(e){return e.didBackup?t.noVeto({cleanUpBackups:!1}):t.confirmBeforeShutdown()},function(e){var i=e[0]
;return t.notificationService.error(n.localize("files.backup.failSave","Files that are dirty could not be written to the backup location (Error: {0}). Try saving your files first and then exit.",i.message)),!0}):t.confirmBeforeShutdown()})}return this.noVeto({cleanUpBackups:!0})},t.prototype.backupBeforeShutdown=function(e,t,i){var n=this;return this.windowsService.getWindowCount().then(function(o){var s;switch(i){case 1:s=1!==n.contextService.getWorkbenchState()&&n.configuredHotExit===g.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE||!(o>1||p.isMacintosh);break;case 2:case 3:s=!0;break;case 4:s=1!==n.contextService.getWorkbenchState()&&n.configuredHotExit===g.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE}return s?n.backupAll(e,t).then(function(){return{didBackup:!0}}):r.TPromise.as({didBackup:!1})})},t.prototype.backupAll=function(e,t){var i=this,n=[],r=[];return e.forEach(function(e){i.fileService.canHandleResource(e)?n.push(t.get(e)):e.scheme===y.Schemas.untitled&&r.push(e)}),this.doBackupAll(n,r)},
t.prototype.doBackupAll=function(e,t){var i=this;return r.TPromise.join(e.map(function(e){return i.backupFileService.backupResource(e.getResource(),e.createSnapshot(),e.getVersionId())})).then(function(e){var n=t.filter(function(e){return i.untitledEditorService.exists(e)}).map(function(e){return i.untitledEditorService.loadOrCreate({resource:e})});return r.TPromise.join(n).then(function(e){var t=e.map(function(e){return i.backupFileService.backupResource(e.getResource(),e.createSnapshot(),e.getVersionId())});return r.TPromise.join(t).then(function(){})})})},t.prototype.confirmBeforeShutdown=function(){var e=this;return this.confirmSave().then(function(t){return 0===t?e.saveAll(!0,{skipSaveParticipants:!0}).then(function(t){return!!t.results.some(function(e){return!e.success})||e.noVeto({cleanUpBackups:!0})}):1===t?(e.untitledEditorService.revertAll(),e.noVeto({cleanUpBackups:!0})):2===t||void 0})},t.prototype.noVeto=function(e){return!!e.cleanUpBackups&&this.cleanupBackupsBeforeShutdown().then(function(){
return!1},function(){return!1})},t.prototype.cleanupBackupsBeforeShutdown=function(){return this.environmentService.isExtensionDevelopment?r.TPromise.as(void 0):this.backupFileService.discardAllWorkspaceBackups()},t.prototype.onFilesConfigurationChange=function(e){var t=0!==this.getAutoSaveMode(),i=e&&e.files&&e.files.autoSave||g.AutoSaveConfiguration.OFF;switch(this.autoSaveContext.set(i),i){case g.AutoSaveConfiguration.AFTER_DELAY:this.configuredAutoSaveDelay=e&&e.files&&e.files.autoSaveDelay,this.configuredAutoSaveOnFocusChange=!1,this.configuredAutoSaveOnWindowChange=!1;break;case g.AutoSaveConfiguration.ON_FOCUS_CHANGE:this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!0,this.configuredAutoSaveOnWindowChange=!1;break;case g.AutoSaveConfiguration.ON_WINDOW_CHANGE:this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!1,this.configuredAutoSaveOnWindowChange=!0;break;default:this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!1,
this.configuredAutoSaveOnWindowChange=!1}this._onAutoSaveConfigurationChange.fire(this.getAutoSaveConfiguration()),t||0===this.getAutoSaveMode()||this.saveAll();var n=e&&e.files&&e.files.associations;u.equals(this.currentFilesAssociationConfig,n)||(this.currentFilesAssociationConfig=n,this._onFilesAssociationChange.fire());var r=e&&e.files&&e.files.hotExit;r===g.HotExitConfiguration.OFF||r===g.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE?this.configuredHotExit=r:this.configuredHotExit=g.HotExitConfiguration.ON_EXIT},t.prototype.getDirty=function(e){var t=this.getDirtyFileModels(e).map(function(e){return e.getResource()});return t.push.apply(t,this.untitledEditorService.getDirty(e)),t},t.prototype.isDirty=function(e){return!!this._models.getAll(e).some(function(e){return e.isDirty()})||this.untitledEditorService.getDirty().some(function(t){return!e||t.toString()===e.toString()})},t.prototype.save=function(e,t){if(t&&t.force&&this.fileService.canHandleResource(e)&&!this.isDirty(e)){var i=this._models.get(e)
;if(i)return t||(t=Object.create(null)),t.reason=1,i.save(t).then(function(){return!i.isDirty()})}return this.saveAll([e],t).then(function(e){return 1===e.results.length&&e.results[0].success})},t.prototype.saveAll=function(e,t){var i=[],n=[];return(Array.isArray(e)?this.getDirty(e):this.getDirty()).forEach(function(t){!Array.isArray(e)&&!0!==e||t.scheme!==y.Schemas.untitled?i.push(t):n.push(t)}),this.doSaveAll(i,n,t)},t.prototype.doSaveAll=function(e,t,i){var n=this;return this.doSaveAllFiles(e,i).then(function(i){return s(n,void 0,void 0,function(){var n,o,s,c,l,u,d=this;return a(this,function(a){switch(a.label){case 0:n=[],o=0,a.label=1;case 1:return o<t.length?(s=t[o],this.untitledEditorService.exists(s)?(c=void 0,this.untitledEditorService.hasAssociatedFilePath(s)?(c=s.with({scheme:y.Schemas.file}),[3,4]):[3,2]):[3,5]):[3,6];case 2:return[4,this.promptForPath(s,this.suggestFileName(s))];case 3:if(!(l=a.sent()))return[2,r.TPromise.as({results:e.concat(t).map(function(e){return{source:e}})})];c=l,a.label=4
;case 4:n.push(c),a.label=5;case 5:return o++,[3,1];case 6:return u=[],n.forEach(function(e,n){var r=d.saveAs(t[n],e).then(function(e){i.results.push({source:t[n],target:e,success:!!e})});u.push(r)}),[2,r.TPromise.join(u).then(function(){return i})]}})})})},t.prototype.doSaveAllFiles=function(e,t){void 0===t&&(t=Object.create(null));var i=this.getDirtyFileModels(Array.isArray(e)?e:void 0).filter(function(e){return!e.hasState(3)&&!e.hasState(5)||2!==t.reason&&3!==t.reason&&4!==t.reason}),n=new m.ResourceMap;return i.forEach(function(e){n.set(e.getResource(),{source:e.getResource()})}),r.TPromise.join(i.map(function(e){return e.save(t).then(function(){e.isDirty()||(n.get(e.getResource()).success=!0)})})).then(function(e){return{results:n.values()}})},t.prototype.getFileModels=function(e){var t=this;if(Array.isArray(e)){var i=[];return e.forEach(function(e){i.push.apply(i,t.getFileModels(e))}),i}return this._models.getAll(e)},t.prototype.getDirtyFileModels=function(e){
return this.getFileModels(e).filter(function(e){return e.isDirty()})},t.prototype.saveAs=function(e,t,i){var n,o=this;if(t)n=r.TPromise.wrap(t);else{var s=e;e.scheme===y.Schemas.untitled&&(s=this.suggestFileName(e)),n=this.promptForPath(e,s)}return n.then(function(t){return t?e.toString()===t.toString()?o.save(e,i).then(function(){return e}):o.doSaveAs(e,t,i):r.TPromise.as(null)})},t.prototype.doSaveAs=function(e,t,i){var n=this,o=r.TPromise.as(null);return this.fileService.canHandleResource(e)?o=r.TPromise.as(this._models.get(e)):e.scheme===y.Schemas.untitled&&this.untitledEditorService.exists(e)&&(o=this.untitledEditorService.loadOrCreate({resource:e})),o.then(function(r){return r?n.doSaveTextFileAs(r,e,t,i):n.fileService.copyFile(e,t)}).then(function(){return n.revert(e).then(function(){return t})})},t.prototype.doSaveTextFileAs=function(e,t,i,n){var o=this,s=this.models.get(i);return(s&&s.isResolved()?r.TPromise.as(s):this.fileService.resolveFile(i).then(function(e){return e},function(){return null
}).then(function(e){return e||o.fileService.updateContent(i,"")}).then(function(e){return o.models.loadOrCreate(i)})).then(function(t){return t.updatePreferredEncoding(e.getEncoding()),o.modelService.updateModel(t.textEditorModel,S.createTextBufferFactoryFromSnapshot(e.createSnapshot())),t.save(n)},function(s){return 0===s.fileOperationResult||8===s.fileOperationResult?o.fileService.del(i).then(function(){return o.doSaveTextFileAs(e,t,i,n)}):r.TPromise.wrapError(s)})},t.prototype.suggestFileName=function(e){var t=this.untitledEditorService.suggestFileName(e),i=y.Schemas.file,n=this.historyService.getLastActiveFile(i);if(n)return b.joinPath(n,t);var r=this.historyService.getLastActiveWorkspaceRoot(i);return r?b.joinPath(r,t):o.URI.file(t)},t.prototype.revert=function(e,t){return this.revertAll([e],t).then(function(e){return 1===e.results.length&&e.results[0].success})},t.prototype.revertAll=function(e,t){var i=this;return this.doRevertAllFiles(e,t).then(function(t){
return i.untitledEditorService.revertAll(e).forEach(function(e){return t.results.push({source:e,success:!0})}),t})},t.prototype.doRevertAllFiles=function(e,t){var i=t&&t.force?this.getFileModels(e):this.getDirtyFileModels(e),n=new m.ResourceMap;return i.forEach(function(e){n.set(e.getResource(),{source:e.getResource()})}),r.TPromise.join(i.map(function(e){return e.revert(t&&t.soft).then(function(){e.isDirty()||(n.get(e.getResource()).success=!0)},function(t){if(2!==t.fileOperationResult)return r.TPromise.wrapError(t);n.get(e.getResource()).success=!0})})).then(function(e){return{results:n.values()}})},t.prototype.create=function(e,t,i){var n=this.models.get(e);return this.fileService.createFile(e,t,i).then(function(){if(n&&!n.isDisposed())return n.revert()})},t.prototype.delete=function(e,t){var i=this,n=this.getDirty().filter(function(t){return b.isEqualOrParent(t,e,!p.isLinux)});return this.revertAll(n,{soft:!0}).then(function(){return i.fileService.del(e,t)})},t.prototype.move=function(e,t,i){
var n=this,o=[];return this._onWillMove.fire({oldResource:e,newResource:t,waitUntil:function(e){o.push(r.TPromise.wrap(e).then(void 0,l.onUnexpectedError))}}),Object.freeze(o),r.TPromise.join(o).then(function(){var o=r.TPromise.as(void 0),s=n.getDirtyFileModels().filter(function(e){return b.isEqualOrParent(e.getResource(),t,!1)});return s.length&&(o=n.revertAll(s.map(function(e){return e.getResource()}),{soft:!0})),o.then(function(){var o=n.getDirtyFileModels().filter(function(t){return b.isEqualOrParent(t.getResource(),e,!p.isLinux)}),s=[];return(o.length?r.TPromise.join(o.map(function(i){var r,o=i.getResource();return r=b.isEqual(o,e,!p.isLinux)?t:o.with({path:c.join(t.path,o.path.substr(e.path.length+1))}),s.push(r),n.backupFileService.backupResource(r,i.createSnapshot(),i.getVersionId())})):r.TPromise.as(void 0)).then(function(){return n.revertAll(o.map(function(e){return e.getResource()}),{soft:!0}).then(function(){return n.fileService.moveFile(e,t,i).then(function(){
return r.TPromise.join(s.map(function(e){return n.models.loadOrCreate(e)})).then(function(){})},function(e){return r.TPromise.join(s.map(function(e){return n.backupFileService.discardResourceBackup(e)})).then(function(){return r.TPromise.wrapError(e)})})})})})})},t.prototype.getAutoSaveMode=function(){return this.configuredAutoSaveOnFocusChange?3:this.configuredAutoSaveOnWindowChange?4:this.configuredAutoSaveDelay&&this.configuredAutoSaveDelay>0?this.configuredAutoSaveDelay<=1e3?1:2:0},t.prototype.getAutoSaveConfiguration=function(){return{autoSaveDelay:this.configuredAutoSaveDelay&&this.configuredAutoSaveDelay>0?this.configuredAutoSaveDelay:void 0,autoSaveFocusChange:this.configuredAutoSaveOnFocusChange,autoSaveApplicationChange:this.configuredAutoSaveOnWindowChange}},Object.defineProperty(t.prototype,"isHotExitEnabled",{get:function(){return!this.environmentService.isExtensionDevelopment&&this.configuredHotExit!==g.HotExitConfiguration.OFF},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){
this._models.clear(),e.prototype.dispose.call(this)},t}(f.Disposable);t.TextFileService=E}),define(e[214],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWorkbenchThemeService=i.createDecorator("themeService"),t.VS_LIGHT_THEME="vs",t.VS_DARK_THEME="vs-dark",t.VS_HC_THEME="hc-black",t.HC_THEME_ID="Default High Contrast",t.COLOR_THEME_SETTING="workbench.colorTheme",t.DETECT_HC_SETTING="window.autoDetectHighContrast",t.ICON_THEME_SETTING="workbench.iconTheme",t.CUSTOM_WORKBENCH_COLORS_SETTING="workbench.colorCustomizations",t.CUSTOM_EDITOR_COLORS_SETTING="editor.tokenColorCustomizations",t.CUSTOM_EDITOR_SCOPE_COLORS_SETTING="textMateRules"}),define(e[55],t([1,0,13,3,19,130,9,5,39,27,4]),function(e,t,n,s,a,c,l,u,d,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IUntitledEditorService=s.createDecorator("untitledEditorService");var g=function(e){function t(t,i){var n=e.call(this)||this;return n.instantiationService=t,n.configurationService=i,
n.mapResourceToInput=new d.ResourceMap,n.mapResourceToAssociatedFilePath=new d.ResourceMap,n._onDidChangeContent=n._register(new u.Emitter),n._onDidChangeDirty=n._register(new u.Emitter),n._onDidChangeEncoding=n._register(new u.Emitter),n._onDidDisposeModel=n._register(new u.Emitter),n}return i(t,e),Object.defineProperty(t.prototype,"onDidChangeContent",{get:function(){return this._onDidChangeContent.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeEncoding",{get:function(){return this._onDidChangeEncoding.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidDisposeModel",{get:function(){return this._onDidDisposeModel.event},enumerable:!0,configurable:!0}),t.prototype.get=function(e){return this.mapResourceToInput.get(e)},t.prototype.getAll=function(e){var t=this;return e?a.coalesce(e.map(function(e){
return t.get(e)})):this.mapResourceToInput.values()},t.prototype.exists=function(e){return this.mapResourceToInput.has(e)},t.prototype.revertAll=function(e,t){var i=[];return this.getAll(e).forEach(function(e){e&&(e.revert(),e.dispose(),i.push(e.getResource()))}),i},t.prototype.isDirty=function(e){var t=this.get(e);return t&&t.isDirty()},t.prototype.getDirty=function(e){var t=this;return(e?e.map(function(e){return t.get(e)}).filter(function(e){return!!e}):this.mapResourceToInput.values()).filter(function(e){return e.isDirty()}).map(function(e){return e.getResource()})},t.prototype.loadOrCreate=function(e){return void 0===e&&(e=Object.create(null)),this.createOrGet(e.resource,e.modeId,e.initialValue,e.encoding,e.useResourcePath).resolve()},t.prototype.createOrGet=function(e,t,i,n,r){return void 0===r&&(r=!1),e&&(e.scheme===p.Schemas.file&&(r=!0,e=e.with({scheme:p.Schemas.untitled})),r&&this.mapResourceToAssociatedFilePath.set(e,!0)),
e&&this.mapResourceToInput.has(e)?this.mapResourceToInput.get(e):this.doCreate(e,r,t,i,n)},t.prototype.doCreate=function(e,t,i,r,o){var s=this;if(!e){var a=this.mapResourceToInput.size+1;do{e=n.URI.from({scheme:p.Schemas.untitled,path:"Untitled-"+a}),a++}while(this.mapResourceToInput.has(e))}if(!i&&!t){var l=this.configurationService.getValue();l.files&&l.files.defaultLanguage&&(i=l.files.defaultLanguage)}var d=this.instantiationService.createInstance(c.UntitledEditorInput,e,t,i,r,o),h=d.onDidModelChangeContent(function(){s._onDidChangeContent.fire(e)}),g=d.onDidChangeDirty(function(){s._onDidChangeDirty.fire(e)}),f=d.onDidModelChangeEncoding(function(){s._onDidChangeEncoding.fire(e)}),v=d.onDispose(function(){s._onDidDisposeModel.fire(e)});return u.once(d.onDispose)(function(){s.mapResourceToInput.delete(d.getResource()),s.mapResourceToAssociatedFilePath.delete(d.getResource()),h.dispose(),g.dispose(),f.dispose(),v.dispose()}),this.mapResourceToInput.set(e,d),d},t.prototype.hasAssociatedFilePath=function(e){
return this.mapResourceToAssociatedFilePath.has(e)},t.prototype.suggestFileName=function(e){var t=this.get(e);return t?t.suggestFileName():void 0},t.prototype.getEncoding=function(e){var t=this.get(e);return t?t.getEncoding():void 0},t=r([o(0,s.IInstantiationService),o(1,l.IConfigurationService)],t)}(h.Disposable);t.UntitledEditorService=g}),define(e[376],t([1,0,4,6,27,40,22,70,37,55,47,9,39,88,13,97,12]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=function(e){function t(t,i,n,r,o,s){var a=e.call(this)||this;return a.codesandboxService=t,a.modelService=i,a.editorService=n,a.untitledEditorService=r,a.configurationService=s,a.fileSearchProviders=new Map,a.textSearchProviders=new Map,a.fileIndexProviders=new Map,a.diskSearch=new E,a}return i(t,e),t.prototype.search=function(e){this.getLocalResults(e);var t=this.codesandboxService.getFilesByPath();return new s.TPromise(function(e){return e({results:Object.keys(t).map(function(e){return{
resource:m.URI.file(e)}})})})},t.prototype.extendQuery=function(e){var t=this.configurationService.getValue();if(!e.fileEncoding){var i=t&&t.files&&t.files.encoding;e.fileEncoding=i}if(!e.disregardExcludeSettings){var n=c.deepClone(t&&t.files&&t.files.exclude);n&&(e.excludePattern?c.mixin(e.excludePattern,n,!1):e.excludePattern=n)}},t.prototype.clearCache=function(e){var t=[this.diskSearch].concat(f.values(this.fileIndexProviders)).map(function(t){return t&&t.clearCache(e)});return s.TPromise.join(t).then(function(){})},t.prototype.registerSearchResultProvider=function(e,t,i){var r;return 0===t?r=this.fileSearchProviders:2===t?r=this.textSearchProviders:1===t&&(r=this.fileIndexProviders),r.set(e,i),n.toDisposable(function(){r.delete(e)})},t.prototype.getLocalResults=function(e){var t=this,i=new f.ResourceMap;if(2===e.type){this.modelService.getModels().forEach(function(n){var r=n.uri;if(r&&t.editorService.isOpen({resource:r})){if(r.scheme===a.Schemas.untitled){if(!t.untitledEditorService.exists(r))return
}else if(r.scheme!==a.Schemas.file)return;if(t.matches(r,e)){var o=n.findMatches(e.contentPattern.pattern,!1,e.contentPattern.isRegExp,e.contentPattern.isCaseSensitive,e.contentPattern.isWordMatch?e.contentPattern.wordSeparators:null,!1,e.maxResults);if(o.length){var s=new u.FileMatch(r);i.set(r,s),o.forEach(function(t){s.matches.push(y.editorMatchToTextSearchResult(t,n,e.previewOptions))})}else i.set(r,null)}}})}return i},t.prototype.matches=function(e,t){if(t.filePattern){if(e.scheme!==a.Schemas.file)return!1;if(!l.fuzzyContains(e.fsPath,l.stripWildcards(t.filePattern).toLowerCase()))return!1}return(!t.includePattern||e.scheme===a.Schemas.file)&&u.pathIncludedInQuery(t,e.fsPath)},t=r([o(0,v.ICodeSandboxService),o(1,d.IModelService),o(2,S.IEditorService),o(3,p.IUntitledEditorService),o(4,h.IEnvironmentService),o(5,g.IConfigurationService)],t)}(n.Disposable);t.CodeSandboxSearchService=b;var E=function(){function e(){}return e.prototype.search=function(e,t){e.folderQueries;return new s.TPromise(function(e){e({
results:[],limitHit:!1})})},e.prototype.clearCache=function(e){return new s.TPromise(function(e){return e(void 0)})},e}();t.DiskSearch=E}),define(e[74],t([1,0,164,25,16,45,13,29,120,27,55,71,9,149,198,80,134,20,19,3,51,35,12,4,7]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A){"use strict";function x(e,i){var n=[];if(e.dataTransfer.types.length>0){if(!i){var r=e.dataTransfer.getData(t.CodeDataTransfers.EDITORS);if(r)try{JSON.parse(r).forEach(function(e){n.push({resource:l.URI.parse(e.resource),backupResource:e.backupResource?l.URI.parse(e.backupResource):void 0,viewState:e.viewState,isExternal:!1})})}catch(e){}else try{var o=e.dataTransfer.getData(v.DataTransfers.RESOURCES);if(o){var s=JSON.parse(o);n.push.apply(n,s.map(function(e){return{resource:l.URI.parse(e),isExternal:!1}}))}}catch(e){}}if(e.dataTransfer&&e.dataTransfer.files)for(var a=function(t){var i=e.dataTransfer.files[t];if(i&&i.path&&!n.some(function(e){return e.resource.fsPath===i.path}))try{n.push({resource:l.URI.file(i.path),
isExternal:!0})}catch(e){}},c=0;c<e.dataTransfer.files.length;c++)a(c);var u=e.dataTransfer.getData(t.CodeDataTransfers.FILES);if(u)try{JSON.parse(u).forEach(function(e){n.some(function(t){return t.resource.fsPath===e})||n.push({resource:l.URI.file(e),isExternal:!0})})}catch(e){}}return n}function T(e,i,n){if(0!==i.length){var r=i.map(function(e){return l.URI.isUri(e)?{resource:e,isDirectory:!1}:e}),o=r[0],a=b.isWindows?"\r\n":"\n";n.dataTransfer.setData(v.DataTransfers.TEXT,r.map(function(e){return e.resource.scheme===p.Schemas.file?s.normalize(y.normalizeDriveLetter(e.resource.fsPath),!0):e.resource.toString()}).join(a)),o.resource.scheme===p.Schemas.file&&n.dataTransfer.setData(v.DataTransfers.DOWNLOAD_URL,[S.MIME_BINARY,s.basename(o.resource.fsPath),o.resource.toString()].join(":"));var c=r.filter(function(e){return!e.isDirectory});c.length&&n.dataTransfer.setData(v.DataTransfers.RESOURCES,JSON.stringify(c.map(function(e){return e.resource.toString()})))
;var h=e.get(u.ITextFileService),g=e.get(d.IBackupFileService),f=e.get(_.IEditorService),m=[];c.forEach(function(e){for(var t,i=f.visibleTextEditorWidgets,n=0;n<i.length;n++){var r=i[n];if(C.isCodeEditor(r)){var o=r.getModel();if(o&&o.uri&&o.uri.toString()===e.resource.toString()){t=r.saveViewState();break}}}m.push({resource:e.resource.toString(),backupResource:h.isDirty(e.resource)?g.toBackupResource(e.resource).toString():void 0,viewState:t})}),m.length&&n.dataTransfer.setData(t.CodeDataTransfers.EDITORS,JSON.stringify(m))}}Object.defineProperty(t,"__esModule",{value:!0});var R=function(){function e(e){this._identifier=e}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this._identifier},enumerable:!0,configurable:!0}),e}();t.DraggedEditorIdentifier=R;var O=function(){function e(e){this._identifier=e}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this._identifier},enumerable:!0,configurable:!0}),e}();t.DraggedEditorGroupIdentifier=O,
t.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"},t.extractResources=x;var M=function(){function e(e,t,i,n,r,o,s,a,c,l){this.options=e,this.fileService=t,this.windowsService=i,this.windowService=n,this.workspacesService=r,this.textFileService=o,this.backupFileService=s,this.untitledEditorService=a,this.editorService=c,this.configurationService=l}return e.prototype.handleDrop=function(e,t,i,n){var r=this,o=x(e).filter(function(e){return r.fileService.canHandleResource(e.resource)||e.resource.scheme===p.Schemas.untitled});o.length&&this.windowService.focusWindow().then(function(){return r.doHandleDrop(o).then(function(e){if(!e){var s=o.filter(function(e){return e.isExternal&&e.resource.scheme===p.Schemas.file}).map(function(e){return e.resource});s.length&&r.windowsService.addRecentlyOpened(s);var a=o.map(function(e){return{resource:e.resource,options:{pinned:!0,index:n,viewState:e.viewState}}}),c=t();return r.editorService.openEditors(a,c).then(function(){i(c)})}})})},
e.prototype.doHandleDrop=function(e){var t=this,i=e.filter(function(e){return!e.isExternal&&!!e.backupResource});if(i.length>0)return Promise.all(i.map(function(e){return t.handleDirtyEditorDrop(e)})).then(function(){return!1});if(this.options.allowWorkspaceOpen){var n=e.filter(function(e){return e.isExternal&&e.resource.scheme===p.Schemas.file}).map(function(e){return e.resource});if(n.length>0)return this.handleWorkspaceFileDrop(n)}return Promise.resolve(!1)},e.prototype.handleDirtyEditorDrop=function(e){var t=this;return e.resource.scheme===p.Schemas.untitled&&(e.resource=this.untitledEditorService.createOrGet().getResource()),this.textFileService.isDirty(e.resource)||this.editorService.isOpen({resource:e.resource})?Promise.resolve(!1):this.backupFileService.resolveBackupContent(e.backupResource).then(function(i){return t.backupFileService.backupResource(e.resource,i.create(t.getDefaultEOL()).createSnapshot(!0))}).then(function(){return!1},function(){return!1})},e.prototype.getDefaultEOL=function(){
return"\r\n"===this.configurationService.getValue("files.eol")?g.DefaultEndOfLine.CRLF:g.DefaultEndOfLine.LF},e.prototype.handleWorkspaceFileDrop=function(e){var t=this,i={workspaces:[],folders:[]};return Promise.all(e.map(function(e){if(s.extname(e.fsPath)!=="."+n.WORKSPACE_EXTENSION)return t.fileService.resolveFile(e).then(function(e){e.isDirectory&&i.folders.push(e.resource)},function(e){});i.workspaces.push(e)})).then(function(e){var n=i.workspaces,r=i.folders;if(0===n.length&&0===r.length)return!1;t.windowService.focusWindow();var o;return n.length>0||1===r.length?o=Promise.resolve(n.concat(r).map(function(e){return e})):r.length>1&&(o=t.workspacesService.createWorkspace(r.map(function(e){return{uri:e}})).then(function(e){return[l.URI.file(e.configPath)]})),o.then(function(e){t.windowService.openWindow(e,{forceReuseWindow:!0})}),!0})},
e=r([o(1,a.IFileService),o(2,c.IWindowsService),o(3,c.IWindowService),o(4,n.IWorkspacesService),o(5,u.ITextFileService),o(6,d.IBackupFileService),o(7,h.IUntitledEditorService),o(8,_.IEditorService),o(9,f.IConfigurationService)],e)}();t.ResourcesDropHandler=M;var k=function(e){function t(t,i){var n=e.call(this)||this;return n.toResource=t,n.instantiationService=i,n}return i(t,e),t.prototype.getDragURI=function(e,t){var i=this.toResource(t);if(i)return i.toString()},t.prototype.getDragLabel=function(e,t){if(t.length>1)return String(t.length);var i=this.toResource(t[0]);return i?I.basenameOrAuthority(i):void 0},t.prototype.onDragStart=function(e,t,i){var n=this,r=t.getData().map(function(e){return n.toResource(e)});r&&this.instantiationService.invokeFunction(T,E.coalesce(r),i)},t=r([o(1,w.IInstantiationService)],t)}(m.DefaultDragAndDrop);t.SimpleFileResourceDragAndDrop=k,t.fillResourceDataTransfers=T;var P=function(){function e(){}return e.getInstance=function(){return e.INSTANCE},
e.prototype.hasData=function(e){return e&&e===this.proto},e.prototype.clearData=function(e){this.hasData(e)&&(this.proto=void 0,this.data=void 0)},e.prototype.getData=function(e){if(this.hasData(e))return this.data},e.prototype.setData=function(e,t){t&&(this.data=e,this.proto=t)},e.INSTANCE=new e,e}();t.LocalSelectionTransfer=P;var L=function(e){function t(t,i){var n=e.call(this)||this;return n.element=t,n.callbacks=i,n.counter=0,n.registerListeners(),n}return i(t,e),t.prototype.registerListeners=function(){var e=this;this._register(A.addDisposableListener(this.element,A.EventType.DRAG_ENTER,function(t){e.counter++,e.callbacks.onDragEnter(t)})),this._register(A.addDisposableListener(this.element,A.EventType.DRAG_OVER,function(t){t.preventDefault(),t.stopPropagation(),e.callbacks.onDragOver&&e.callbacks.onDragOver(t)})),this._register(A.addDisposableListener(this.element,A.EventType.DRAG_LEAVE,function(t){e.counter--,0===e.counter&&e.callbacks.onDragLeave(t)})),
this._register(A.addDisposableListener(this.element,A.EventType.DRAG_END,function(t){e.counter=0,e.callbacks.onDragEnd(t)})),this._register(A.addDisposableListener(this.element,A.EventType.DROP,function(t){e.counter=0,e.callbacks.onDrop(t)}))},t}(D.Disposable);t.DragAndDropObserver=L}),define(e[59],t([1,0,35,195,68,43,15,155,21,9,37,55,158,27,16,11,5,83,63]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E){"use strict";function w(e,t,i,r){var o=r===m.FileKind.ROOT_FOLDER?["rootfolder-icon"]:r===m.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(i){var s,a=void 0;if(i.scheme===v.Schemas.data){a=s=b.DataUri.parseMetaData(i).get(b.DataUri.META_DATA_LABEL)}else s=I(n.basenameOrAuthority(i).toLowerCase()),a=i.path.toLowerCase();if(r===m.FileKind.FOLDER)o.push(s+"-name-folder-icon");else{if(s){o.push(s+"-name-file-icon");for(var c=s.split("."),l=1;l<c.length;l++)o.push(c.slice(l).join(".")+"-ext-file-icon");o.push("ext-file-icon")}var u=C(e,i)
;(u=u||t.getModeIdByFilepathOrFirstLine(a))&&o.push(I(u)+"-lang-file-icon")}}return o}function C(e,t){var i;if(t){var n=e.getModel(t);if(n){var r=n.getLanguageIdentifier().language;r&&r!==u.PLAINTEXT_MODE_ID&&(i=r)}}return i}function I(e){return e.replace(/\s/g,"\\$&")}Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this,t,i)||this;return u.extensionService=n,u.configurationService=r,u.modeService=o,u.modelService=s,u.decorationsService=a,u.themeService=c,u.labelService=l,u._onDidRender=u._register(new S.Emitter),u.registerListeners(),u}return i(t,e),Object.defineProperty(t.prototype,"onDidRender",{get:function(){return this._onDidRender.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this._register(this.extensionService.onDidRegisterExtensions(function(){return e.render(!0)})),this._register(this.modelService.onModelModeChanged(function(t){return e.onModelModeChanged(t)})),
this._register(this.decorationsService.onDidChangeDecorations(this.onFileDecorationsChanges,this)),this._register(this.themeService.onThemeChange(function(){return e.render(!1)})),this._register(this.configurationService.onDidChangeConfiguration(function(t){t.affectsConfiguration(m.FILES_ASSOCIATIONS_CONFIG)&&e.render(!0)}))},t.prototype.onModelModeChanged=function(e){this.label&&this.label.resource&&e.model.uri&&(e.model.uri.scheme===v.Schemas.file&&e.oldModeId===u.PLAINTEXT_MODE_ID||e.model.uri.toString()===this.label.resource.toString()&&this.lastKnownConfiguredLangId!==e.model.getLanguageIdentifier().language&&this.render(!0))},t.prototype.onFileDecorationsChanges=function(e){this.options&&this.label&&this.label.resource&&this.options.fileDecorations&&e.affectsResource(this.label.resource)&&this.render(!1)},t.prototype.setLabel=function(e,t){var i=this.hasResourceChanged(e,t);this.label=e,this.options=t,i&&(this.computedPathLabel=void 0),this.render(i)},t.prototype.hasResourceChanged=function(e,t){
var i=e?e.resource:void 0,n=this.label?this.label.resource:void 0;return(t?t.fileKind:void 0)!==(this.options?this.options.fileKind:void 0)||(!(!i||this.computedPathLabel===this.labelService.getUriLabel(i))||(i&&n?i.toString()!==n.toString():!(!i&&!n)))},t.prototype.clear=function(){this.label=void 0,this.options=void 0,this.lastKnownConfiguredLangId=void 0,this.computedIconClasses=void 0,this.computedPathLabel=void 0,this.setValue()},t.prototype.render=function(e){var t;if(this.label){var i=C(this.modelService,this.label.resource);this.lastKnownConfiguredLangId!==i&&(e=!0,this.lastKnownConfiguredLangId=i)}if(e&&(this.computedIconClasses=void 0),this.label){var n={title:"",italic:this.options&&this.options.italic,matches:this.options&&this.options.matches,extraClasses:[]},r=this.label.resource,o=this.label.name;if(this.options&&"string"==typeof this.options.title?n.title=this.options.title:r&&r.scheme!==v.Schemas.data&&(this.computedPathLabel||(this.computedPathLabel=this.labelService.getUriLabel(r)),
n.title=this.computedPathLabel),this.options&&!this.options.hideIcon&&(this.computedIconClasses||(this.computedIconClasses=w(this.modelService,this.modeService,r,this.options&&this.options.fileKind)),n.extraClasses=this.computedIconClasses.slice(0)),this.options&&this.options.extraClasses&&(t=n.extraClasses).push.apply(t,this.options.extraClasses),this.options&&this.options.fileDecorations&&r){var s=this.decorationsService.getDecoration(r,this.options.fileKind!==m.FileKind.FILE,this.options.fileDecorations.data);s&&(s.tooltip&&(n.title=n.title+" • "+s.tooltip),this.options.fileDecorations.colors&&n.extraClasses.push(s.labelClassName),this.options.fileDecorations.badges&&n.extraClasses.push(s.badgeClassName))}this.setValue(o,this.label.description,n),this._onDidRender.fire()}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.label=void 0,this.options=void 0,this.lastKnownConfiguredLangId=void 0,this.computedIconClasses=void 0,this.computedPathLabel=void 0},
t=r([o(2,a.IExtensionService),o(3,p.IConfigurationService),o(4,c.IModeService),o(5,h.IModelService),o(6,f.IDecorationsService),o(7,y.IThemeService),o(8,E.ILabelService)],t)}(s.IconLabel);t.ResourceLabel=_;var D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.setEditor=function(e,t){this.setLabel({resource:l.toResource(e,{supportSideBySide:!0}),name:e.getName(),description:e.getDescription()},t)},t}(_);t.EditorLabel=D;var A=function(e){function t(t,i,n,r,o,s,a,c,l,u,d){var p=e.call(this,t,i,n,o,s,a,c,l,d)||this;return p.contextService=r,p.untitledEditorService=u,p}return i(t,e),t.prototype.setFile=function(e,t){var i;if(!(t&&t.hideLabel)){if(t&&t.fileKind===m.FileKind.ROOT_FOLDER){var r=this.contextService.getWorkspaceFolder(e);r&&(i=r.name)}i||(i=n.basenameOrAuthority(e))}var o;t&&t.hidePath||e.scheme===v.Schemas.untitled&&!this.untitledEditorService.hasAssociatedFilePath(e)||(o=this.labelService.getUriLabel(n.dirname(e),{relative:!0})),this.setLabel({
resource:e,name:i,description:o},t)},t=r([o(2,a.IExtensionService),o(3,d.IWorkspaceContextService),o(4,p.IConfigurationService),o(5,c.IModeService),o(6,h.IModelService),o(7,f.IDecorationsService),o(8,y.IThemeService),o(9,g.IUntitledEditorService),o(10,E.ILabelService)],t)}(_);t.FileLabel=A,t.getIconClasses=w}),define(e[167],t([1,0,2,14,7,46,38,4,33,11,142,3,26,149,32,5,74]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=function(e){function t(t){var i=e.call(this,t.id,t.name,t.cssClass)||this;return i._activity=t,i._onDidChangeActivity=new y.Emitter,i._onDidChangeBadge=new y.Emitter,i.badge=null,i}return i(t,e),Object.defineProperty(t.prototype,"onDidChangeActivity",{get:function(){return this._onDidChangeActivity.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeBadge",{get:function(){return this._onDidChangeBadge.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activity",{
get:function(){return this._activity},set:function(e){this._activity=e,this._onDidChangeActivity.fire(this)},enumerable:!0,configurable:!0}),t.prototype.activate=function(){this.checked||this._setChecked(!0)},t.prototype.deactivate=function(){this.checked&&this._setChecked(!1)},t.prototype.getBadge=function(){return this.badge},t.prototype.getClass=function(){return this.clazz},t.prototype.setBadge=function(e,t){this.badge=e,this.clazz=t,this._onDidChangeBadge.fire(this)},t.prototype.dispose=function(){this._onDidChangeActivity.dispose(),this._onDidChangeBadge.dispose(),e.prototype.dispose.call(this)},t}(s.Action);t.ActivityAction=b;var E=function(e){function t(t,i,n){var r=e.call(this,null,t,i)||this;return r.themeService=n,r.badgeDisposable=u.Disposable.None,r._register(r.themeService.onThemeChange(r.onThemeChange,r)),r._register(t.onDidChangeActivity(r.updateActivity,r)),r._register(t.onDidChangeBadge(r.updateBadge,r)),r}return i(t,e),Object.defineProperty(t.prototype,"activity",{get:function(){
return this._action.activity},enumerable:!0,configurable:!0}),t.prototype.updateStyles=function(){var e=this.themeService.getTheme(),t=this.options.colors(e);if(this.label)if(this.options.icon){i=this._action.checked?t.activeBackgroundColor||t.activeForegroundColor:t.inactiveBackgroundColor||t.inactiveForegroundColor;this.label.style.backgroundColor=i?i.toString():null}else{var i=this._action.checked?t.activeForegroundColor:t.inactiveForegroundColor,n=this._action.checked?t.activeBorderBottomColor:null;this.label.style.color=i?i.toString():null,this.label.style.borderBottomColor=n?n.toString():null}if(this.badgeContent){var r=t.badgeForeground,o=t.badgeBackground,s=e.getColor(f.contrastBorder);this.badgeContent.style.color=r?r.toString():null,this.badgeContent.style.backgroundColor=o?o.toString():null,this.badgeContent.style.borderStyle=s?"solid":null,this.badgeContent.style.borderWidth=s?"1px":null,this.badgeContent.style.borderColor=s?s.toString():null}},t.prototype.render=function(t){var i=this
;e.prototype.render.call(this,t),this.container=t,this.container.tabIndex=0,this.container.setAttribute("role",this.options.icon?"button":"tab"),this._register(a.addDisposableListener(this.container,a.EventType.MOUSE_DOWN,function(){a.addClass(i.container,"clicked")})),this._register(a.addDisposableListener(this.container,a.EventType.MOUSE_UP,function(){i.mouseUpTimeout&&clearTimeout(i.mouseUpTimeout),i.mouseUpTimeout=setTimeout(function(){a.removeClass(i.container,"clicked")},800)})),this.label=a.append(this.element,a.$("a.action-label")),this.badge=a.append(this.element,a.$(".badge")),this.badgeContent=a.append(this.badge,a.$(".badge-content")),a.hide(this.badge),this.updateActivity(),this.updateStyles()},t.prototype.onThemeChange=function(e){this.updateStyles()},t.prototype.updateActivity=function(){this.updateLabel(),this.updateTitle(this.activity.name),this.updateBadge()},t.prototype.updateBadge=function(){var e=this,t=this.getAction();if(this.badge&&this.badgeContent&&t instanceof b){
var i=t.getBadge(),r=t.getClass();if(this.badgeDisposable.dispose(),this.badgeDisposable=u.Disposable.None,a.clearNode(this.badgeContent),a.hide(this.badge),i){if(i instanceof h.NumberBadge){if(i.number){var o=i.number.toString();i.number>9999?o=n.localize("largeNumberBadge","10k+"):i.number>999&&(o=o.charAt(0)+"k"),this.badgeContent.textContent=o,a.show(this.badge)}}else i instanceof h.TextBadge?(this.badgeContent.textContent=i.text,a.show(this.badge)):i instanceof h.IconBadge?a.show(this.badge):i instanceof h.ProgressBadge&&a.show(this.badge);r&&(a.addClasses(this.badge,r),this.badgeDisposable=u.toDisposable(function(){return a.removeClasses(e.badge,r)}))}var s;s=i&&i.getDescription()?this.activity.name?n.localize("badgeTitle","{0} - {1}",this.activity.name,i.getDescription()):i.getDescription():this.activity.name,this.updateTitle(s)}},t.prototype.updateLabel=function(){this.activity.cssClass&&a.addClasses(this.label,this.activity.cssClass),this.options.icon||(this.label.textContent=this.getAction().label)
},t.prototype.updateTitle=function(e){[this.label,this.badge,this.container].forEach(function(t){t&&(t.setAttribute("aria-label",e),t.title=e)})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.badge.remove()},t=r([o(2,p.IThemeService)],t)}(c.BaseActionItem);t.ActivityActionItem=E;var w=function(e){function t(t){var i=e.call(this,{id:"additionalComposites.action",name:n.localize("additionalViews","Additional Views"),cssClass:"toggle-more"})||this;return i.showMenu=t,i}return i(t,e),t.prototype.run=function(e){return this.showMenu(),Promise.resolve(!0)},t}(b);t.CompositeOverflowActivityAction=w;var C=function(e){function t(t,i,n,r,o,s,a,c){var l=e.call(this,t,{icon:!0,colors:s},c)||this;return l.getOverflowingComposites=i,l.getActiveCompositeId=n,l.getBadge=r,l.getCompositeOpenAction=o,l.contextMenuService=a,l}return i(t,e),t.prototype.showMenu=function(){var e=this;this.actions&&u.dispose(this.actions),this.actions=this.getActions(),
this.contextMenuService.showContextMenu({getAnchor:function(){return e.element},getActions:function(){return Promise.resolve(e.actions)},onHide:function(){return u.dispose(e.actions)}})},t.prototype.getActions=function(){var e=this;return this.getOverflowingComposites().map(function(t){var i=e.getCompositeOpenAction(t.id);i.radio=e.getActiveCompositeId()===i.id;var r,o=e.getBadge(t.id);return o instanceof h.NumberBadge?r=o.number:o instanceof h.TextBadge&&(r=o.text),i.label=r?n.localize("numberBadge","{0} ({1})",t.name,r):t.name,i})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.actions=u.dispose(this.actions)},t=r([o(6,d.IContextMenuService),o(7,p.IThemeService)],t)}(E);t.CompositeOverflowActivityActionItem=C;var I=function(e){function t(t){var i=e.call(this,"activitybar.manage.extension",n.localize("manageExtension","Manage Extension"))||this;return i.commandService=t,i}return i(t,e),t.prototype.run=function(e){return this.commandService.executeCommand("_extensions.manage",e)},
t=r([o(0,l.ICommandService)],t)}(s.Action),_=function(){function e(e){this._compositeId=e}return Object.defineProperty(e.prototype,"id",{get:function(){return this._compositeId},enumerable:!0,configurable:!0}),e}();t.DraggedCompositeIdentifier=_;var D=function(e){function t(i,n,r,o,s,a,c,l,u,d){var p=e.call(this,i,{draggable:!0,colors:o,icon:s},d)||this;return p.compositeActivityAction=i,p.toggleCompositePinnedAction=n,p.contextMenuActionsProvider=r,p.compositeBar=a,p.contextMenuService=c,p.keybindingService=l,p.cssClass=i.class,p.compositeTransfer=S.LocalSelectionTransfer.getInstance(),t.manageExtensionAction||(t.manageExtensionAction=u.createInstance(I)),p._register(i.onDidChangeActivity(function(){p.compositeActivity=null,p.updateActivity()},p)),p}return i(t,e),Object.defineProperty(t.prototype,"activity",{get:function(){if(!this.compositeActivity){var e=void 0,t=this.getKeybindingLabel(this.compositeActivityAction.activity.keybindingId)
;e=t?n.localize("titleKeybinding","{0} ({1})",this.compositeActivityAction.activity.name,t):this.compositeActivityAction.activity.name,this.compositeActivity={id:this.compositeActivityAction.activity.id,cssClass:this.cssClass,name:e}}return this.compositeActivity},enumerable:!0,configurable:!0}),t.prototype.getKeybindingLabel=function(e){var t=this.keybindingService.lookupKeybinding(e);return t?t.getLabel():null},t.prototype.render=function(t){var i=this;e.prototype.render.call(this,t),this.updateChecked(),this.updateEnabled(),this._register(a.addDisposableListener(this.container,a.EventType.CONTEXT_MENU,function(e){a.EventHelper.stop(e,!0),i.showContextMenu(t)})),this._register(a.addDisposableListener(this.container,a.EventType.DRAG_START,function(e){e.dataTransfer.effectAllowed="move",i.compositeTransfer.setData([new _(i.activity.id)],_.prototype),i.getAction().checked||i.getAction().run()})),this._register(new S.DragAndDropObserver(this.container,{onDragEnter:function(e){
i.compositeTransfer.hasData(_.prototype)&&i.compositeTransfer.getData(_.prototype)[0].id!==i.activity.id&&i.updateFromDragging(t,!0)},onDragLeave:function(e){i.compositeTransfer.hasData(_.prototype)&&i.updateFromDragging(t,!1)},onDragEnd:function(e){i.compositeTransfer.hasData(_.prototype)&&(i.updateFromDragging(t,!1),i.compositeTransfer.clearData(_.prototype))},onDrop:function(e){if(a.EventHelper.stop(e,!0),i.compositeTransfer.hasData(_.prototype)){var n=i.compositeTransfer.getData(_.prototype)[0].id;n!==i.activity.id&&(i.updateFromDragging(t,!1),i.compositeTransfer.clearData(_.prototype),i.compositeBar.move(n,i.activity.id))}}})),[this.badge,this.label].forEach(function(e){return new v.DelayedDragHandler(e,function(){i.compositeTransfer.hasData(_.prototype)||i.getAction().checked||i.getAction().run()})}),this.updateStyles()},t.prototype.updateFromDragging=function(e,t){var i=this.themeService.getTheme(),n=this.options.colors(i).dragAndDropBackground;e.style.backgroundColor=t&&n?n.toString():null},
t.prototype.showContextMenu=function(e){var i=this,r=[this.toggleCompositePinnedAction];this.compositeActivityAction.activity.extensionId&&(r.push(new c.Separator),r.push(t.manageExtensionAction));this.compositeBar.isPinned(this.activity.id)?(this.toggleCompositePinnedAction.label=n.localize("hide","Hide"),this.toggleCompositePinnedAction.checked=!1):this.toggleCompositePinnedAction.label=n.localize("keep","Keep");var o=this.contextMenuActionsProvider();o.length&&(r.push(new c.Separator),r.push.apply(r,o));var s=a.getDomNodePagePosition(e),l={x:Math.floor(s.left+s.width/2),y:s.top+s.height};this.contextMenuService.showContextMenu({getAnchor:function(){return l},getActionsContext:function(){return i.activity.id},getActions:function(){return Promise.resolve(r)}})},t.prototype.focus=function(){this.container.focus()},t.prototype.updateClass=function(){this.cssClass&&a.removeClasses(this.label,this.cssClass),this.cssClass=this.getAction().class,this.cssClass&&a.addClasses(this.label,this.cssClass)},
t.prototype.updateChecked=function(){this.getAction().checked?(a.addClass(this.container,"checked"),this.container.setAttribute("aria-label",n.localize("compositeActive","{0} active",this.container.title))):(a.removeClass(this.container,"checked"),this.container.setAttribute("aria-label",this.container.title)),this.updateStyles()},t.prototype.updateEnabled=function(){this.getAction().enabled?a.removeClass(this.element,"disabled"):a.addClass(this.element,"disabled")},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.compositeTransfer.clearData(_.prototype),this.label.remove()},t=r([o(6,d.IContextMenuService),o(7,m.IKeybindingService),o(8,g.IInstantiationService),o(9,p.IThemeService)],t)}(E);t.CompositeActionItem=D;var A=function(e){function t(t,i){var r=e.call(this,"show.toggleCompositePinned",t?t.name:n.localize("toggle","Toggle View Pinned"))||this;return r.activity=t,r.compositeBar=i,r.checked=r.activity&&r.compositeBar.isPinned(r.activity.id),r}return i(t,e),t.prototype.run=function(e){
var t=this.activity?this.activity.id:e;return this.compositeBar.isPinned(t)?this.compositeBar.unpin(t):this.compositeBar.pin(t),Promise.resolve(!0)},t}(s.Action);t.ToggleCompositePinnedAction=A}),define(e[381],t([1,0,2,24,19,4,36,3,46,167,7,84,33,87,30,74]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.options=t,o.instantiationService=i,o.contextMenuService=r,o.model=new b(t,n),o.visibleComposites=[],o.compositeSizeInBar=new Map,o.compositeTransfer=y.LocalSelectionTransfer.getInstance(),o}return i(t,e),t.prototype.getComposites=function(){return this.model.items},t.prototype.create=function(e){var t=this,i=e.appendChild(h.$(".composite-bar"));return this.compositeSwitcherBar=this._register(new d.ActionBar(i,{actionItemProvider:function(e){if(e instanceof p.CompositeOverflowActivityAction)return t.compositeOverflowActionItem;var i=t.model.findItem(e.id)
;return i&&t.instantiationService.createInstance(p.CompositeActionItem,e,i.pinnedAction,function(){return t.getContextMenuActions()},t.options.colors,t.options.icon,t)},orientation:this.options.orientation,ariaLabel:n.localize("activityBarAriaLabel","Active View Switcher"),animated:!1})),this._register(h.addDisposableListener(e,h.EventType.CONTEXT_MENU,function(e){return t.showContextMenu(e)})),this._register(h.addDisposableListener(e,h.EventType.DROP,function(e){if(t.compositeTransfer.hasData(p.DraggedCompositeIdentifier.prototype)){h.EventHelper.stop(e,!0);var i=t.compositeTransfer.getData(p.DraggedCompositeIdentifier.prototype)[0].id;t.compositeTransfer.clearData(p.DraggedCompositeIdentifier.prototype);var n=t.model.visibleItems[t.model.visibleItems.length-1];n&&n.id!==i&&t.move(i,n.id)}})),i},t.prototype.layout=function(e){this.dimension=e,0!==e.height&&0!==e.width&&(0===this.compositeSizeInBar.size&&this.computeSizes(this.model.visibleItems),this.updateCompositeSwitcher())},
t.prototype.addComposite=function(e){var t=e.id,i=e.name,n=e.order;this.model.add(t,i,n)&&(this.computeSizes([this.model.findItem(t)]),this.updateCompositeSwitcher())},t.prototype.removeComposite=function(e){this.isPinned(e)&&this.unpin(e),this.model.remove(e)&&this.updateCompositeSwitcher()},t.prototype.hideComposite=function(e){this.model.hide(e)&&(this.resetActiveComposite(e),this.updateCompositeSwitcher())},t.prototype.activateComposite=function(e){var t=this.model.activeItem;this.model.activate(e)&&(-1===this.visibleComposites.indexOf(e)||!this.model.activeItem.pinned||t&&!t.pinned)&&this.updateCompositeSwitcher()},t.prototype.deactivateComposite=function(e){var t=this.model.activeItem;this.model.deactivate()&&t&&!t.pinned&&this.updateCompositeSwitcher()},t.prototype.showActivity=function(e,t,i,n){var r=this;if(!t)throw s.illegalArgument("badge");"number"!=typeof n&&(n=0);var o={badge:t,clazz:i,priority:n};return this.model.addActivity(e,o),c.toDisposable(function(){return r.model.removeActivity(e,o)})},
t.prototype.pin=function(e,t){var i=this;this.model.setPinned(e,!0)&&(this.updateCompositeSwitcher(),t&&this.options.openComposite(e).then(function(){return i.activateComposite(e)}))},t.prototype.unpin=function(e){this.model.setPinned(e,!1)&&(this.updateCompositeSwitcher(),this.resetActiveComposite(e))},t.prototype.resetActiveComposite=function(e){var t=this.options.getDefaultCompositeId();this.model.activeItem&&this.model.activeItem.id===e&&(this.deactivateComposite(e),t!==e&&this.isPinned(t)?this.options.openComposite(t):1===this.visibleComposites.length?this.options.hidePart():this.options.openComposite(this.visibleComposites.filter(function(t){return t!==e})[0]))},t.prototype.isPinned=function(e){var t=this.model.findItem(e);return t&&t.pinned},t.prototype.move=function(e,t){var i=this;this.model.move(e,t)&&setTimeout(function(){return i.updateCompositeSwitcher()},0)},t.prototype.getAction=function(e){var t=this.model.findItem(e);return t&&t.activityAction},t.prototype.computeSizes=function(e){
var t=this,i=this.options.compositeSize;if(i)e.forEach(function(e){return t.compositeSizeInBar.set(e.id,i)});else if(this.dimension&&0!==this.dimension.height&&0!==this.dimension.width){var n=this.compositeSwitcherBar.items.length;this.compositeSwitcherBar.push(e.map(function(e){return e.activityAction})),e.map(function(e,i){return t.compositeSizeInBar.set(e.id,2===t.options.orientation?t.compositeSwitcherBar.getHeight(n+i):t.compositeSwitcherBar.getWidth(n+i))}),e.forEach(function(){return t.compositeSwitcherBar.pull(t.compositeSwitcherBar.items.length-1)})}},t.prototype.updateCompositeSwitcher=function(){var e=this;if(this.compositeSwitcherBar&&this.dimension){for(var t=this.model.visibleItems.filter(function(t){return t.pinned||e.model.activeItem&&e.model.activeItem.id===t.id}).map(function(e){return e.id}),i=!1,n=t.length,r=0,o=2===this.options.orientation?this.dimension.height:this.dimension.width,s=0;s<t.length&&r<=o;s++)(r+=this.compositeSizeInBar.get(t[s]))>o&&(n=s)
;if((i=t.length>n)&&(r-=this.compositeSizeInBar.get(t[n]),t=t.slice(0,n),r+=this.options.overflowActionSize),r>o&&(r-=this.compositeSizeInBar.get(t.pop())),this.model.activeItem&&t.every(function(t){return t!==e.model.activeItem.id})){var c=t.pop();r=r-this.compositeSizeInBar.get(c)+this.compositeSizeInBar.get(this.model.activeItem.id),t.push(this.model.activeItem.id)}r>o&&(t.length?t.splice(t.length-2,1):t.pop());var l=!a.equals(t,this.visibleComposites);this.compositeOverflowAction&&l&&(this.compositeSwitcherBar.pull(this.compositeSwitcherBar.length()-1),this.compositeOverflowAction.dispose(),this.compositeOverflowAction=null,this.compositeOverflowActionItem.dispose(),this.compositeOverflowActionItem=null);var u=[];this.visibleComposites.forEach(function(e,i){-1===t.indexOf(e)&&u.push(i)}),u.reverse().forEach(function(t){var i=e.compositeSwitcherBar.items[t];e.compositeSwitcherBar.pull(t),i.dispose(),e.visibleComposites.splice(t,1)}),t.forEach(function(t,i){var n=e.visibleComposites.indexOf(t);if(i!==n){
if(-1!==n){var r=e.compositeSwitcherBar.items[n];e.compositeSwitcherBar.pull(n),r.dispose(),e.visibleComposites.splice(n,1)}e.compositeSwitcherBar.push(e.model.findItem(t).activityAction,{label:!0,icon:e.options.icon,index:i}),e.visibleComposites.splice(i,0,t)}}),(l&&i||0===this.compositeSwitcherBar.length())&&(this.compositeOverflowAction=this.instantiationService.createInstance(p.CompositeOverflowActivityAction,function(){return e.compositeOverflowActionItem.showMenu()}),this.compositeOverflowActionItem=this.instantiationService.createInstance(p.CompositeOverflowActivityActionItem,this.compositeOverflowAction,function(){return e.getOverflowingComposites()},function(){return e.model.activeItem?e.model.activeItem.id:void 0},function(t){var i=e.model.findItem(t);return i&&i.activity[0]&&i.activity[0].badge},this.options.getOnCompositeClickAction,this.options.colors),this.compositeSwitcherBar.push(this.compositeOverflowAction,{label:!1,icon:!0})),this.model.saveState()}},
t.prototype.getOverflowingComposites=function(){var e=this,t=this.model.visibleItems.filter(function(e){return e.pinned}).map(function(e){return e.id});return this.model.activeItem&&!this.model.activeItem.pinned&&t.push(this.model.activeItem.id),t=t.filter(function(t){return-1===e.visibleComposites.indexOf(t)}),this.model.visibleItems.filter(function(e){return-1!==t.indexOf(e.id)})},t.prototype.showContextMenu=function(e){var t=this;h.EventHelper.stop(e,!0);var i=new g.StandardMouseEvent(e);this.contextMenuService.showContextMenu({getAnchor:function(){return{x:i.posx,y:i.posy}},getActions:function(){return Promise.resolve(t.getContextMenuActions())}})},t.prototype.getContextMenuActions=function(){var e=this,t=this.model.visibleItems.map(function(t){var i=t.id,n=t.name,r=t.activityAction;return{id:i,label:n||i,checked:e.isPinned(i),enabled:r.enabled,run:function(){e.isPinned(i)?e.unpin(i):e.pin(i,!0)}}}),i=this.options.getContextMenuActions();return i.length&&(t.push(new d.Separator),t.push.apply(t,i)),t},
t=r([o(1,u.IInstantiationService),o(2,l.IStorageService),o(3,f.IContextMenuService)],t)}(v.Widget);t.CompositeBar=S;var b=function(){function e(e,t){this.storageService=t,this.options=e,this.items=this.loadItemStates()}return Object.defineProperty(e.prototype,"visibleItems",{get:function(){return this.items.filter(function(e){return e.visible})},enumerable:!0,configurable:!0}),e.prototype.createCompositeBarItem=function(e,t,i,n,r){var o=this.options;return{id:e,name:t,pinned:n,order:i,visible:r,activity:[],get activityAction(){return o.getActivityAction(e)},get pinnedAction(){return o.getCompositePinnedAction(e)}}},e.prototype.add=function(e,t,i){var n=this.findItem(e);if(n){var r=!1;return n.name=t,m.isUndefinedOrNull(i)||(r=n.order!==i,n.order=i),n.visible||(n.visible=!0,r=!0),r}var o=this.createCompositeBarItem(e,t,i,!0,!0);if(m.isUndefinedOrNull(i))this.items.push(o);else{for(var s=0;s<this.items.length&&this.items[s].order<i;)s++;this.items.splice(s,0,o)}return!0},e.prototype.remove=function(e){
for(var t=0;t<this.items.length;t++)if(this.items[t].id===e)return this.items.splice(t,1),!0;return!1},e.prototype.hide=function(e){for(var t=0,i=this.items;t<i.length;t++){var n=i[t];if(n.id===e)return!!n.visible&&(n.visible=!1,!0)}return!1},e.prototype.move=function(e,t){var i=this.findIndex(e),n=this.findIndex(t);if(-1===i||-1===n)return!1;var r=this.items.splice(i,1)[0];return this.items.splice(n,0,r),r.pinned=!0,!0},e.prototype.setPinned=function(e,t){for(var i=0;i<this.items.length;i++){var n=this.items[i];if(n.id===e)return n.pinned!==t&&(n.pinned=t,!0)}return!1},e.prototype.addActivity=function(e,t){var i=this.findItem(e);if(i){for(var n=i.activity,r=0;r<=n.length;r++){if(r===n.length){n.push(t);break}if(n[r].priority<=t.priority){n.splice(r,0,t);break}}return this.updateActivity(e),!0}return!1},e.prototype.removeActivity=function(e,t){var i=this.findItem(e);if(i){var n=i.activity.indexOf(t);if(-1!==n)return i.activity.splice(n,1),this.updateActivity(e),!0}return!1},
e.prototype.updateActivity=function(e){var t=this.findItem(e);if(t)if(t.activity.length){var i=t.activity[0],n=i.badge,r=i.clazz;t.activityAction.setBadge(n,r)}else t.activityAction.setBadge(void 0)},e.prototype.activate=function(e){if(!this.activeItem||this.activeItem.id!==e){this.activeItem&&this.deactivate();for(var t=0;t<this.items.length;t++){var i=this.items[t];if(i.id===e)return this.activeItem=i,this.activeItem.activityAction.activate(),!0}}return!1},e.prototype.deactivate=function(){return!!this.activeItem&&(this.activeItem.activityAction.deactivate(),this.activeItem=void 0,!0)},e.prototype.findItem=function(e){return this.items.filter(function(t){return t.id===e})[0]},e.prototype.findIndex=function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].id===e)return t;return-1},e.prototype.loadItemStates=function(){var e=this;return JSON.parse(this.storageService.get(this.options.storageId,0,"[]")).map(function(t){var i="string"==typeof t?{id:t,pinned:!0,order:void 0,visible:!0}:t
;return e.createCompositeBarItem(i.id,void 0,i.order,i.pinned,!!m.isUndefinedOrNull(i.visible)||i.visible)})},e.prototype.saveState=function(){var e=this.items.map(function(e){return{id:e.id,pinned:e.pinned,order:e.order,visible:e.visible}});this.storageService.store(this.options.storageId,JSON.stringify(e),0)},e}()}),define(e[383],t([1,0,114,7,168,24,5,72,139,4,25,35,13,131,253,2,9,16,3,52,26,21,59,104,206,214,213]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBreadcrumbsPicker=function(e,t,i){var n=i instanceof A.FileElement?L:N;return e.createInstance(n,t)};var T=function(){function e(e,t,i,r){var o=this;this._instantiationService=t,this._themeService=i,this._configurationService=r,this._disposables=new Array,this._onDidPickElement=new l.Emitter,this.onDidPickElement=this._onDidPickElement.event,this._onDidFocusElement=new l.Emitter,this.onDidFocusElement=this._onDidFocusElement.event,
this._domNode=document.createElement("div"),this._domNode.className="monaco-breadcrumbs-picker show-file-icons",e.appendChild(this._domNode),this._focus=s.trackFocus(this._domNode),this._focus.onDidBlur(function(e){return o._onDidPickElement.fire({target:void 0,payload:void 0})},void 0,this._disposables),this._disposables.push(n.onDidChangeZoomLevel(function(e){return o._onDidPickElement.fire({target:void 0,payload:void 0})}));var a=this._themeService.getTheme().getColor(C.breadcrumbsPickerBackground);this._arrow=document.createElement("div"),this._arrow.className="arrow",this._arrow.style.borderColor="transparent transparent "+a.toString(),this._domNode.appendChild(this._arrow),this._treeContainer=document.createElement("div"),this._treeContainer.style.background=a.toString(),this._treeContainer.style.paddingTop="2px",this._treeContainer.style.boxShadow="0px 5px 8px "+this._themeService.getTheme().getColor(C.widgetShadow),this._domNode.appendChild(this._treeContainer)
;var c=D.BreadcrumbsConfig.FilterOnType.bindTo(this._configurationService);this._disposables.push(c);var u=this._completeTreeConfiguration({dataSource:void 0,renderer:void 0,highlighter:void 0});this._tree=this._instantiationService.createInstance(w.HighlightingWorkbenchTree,this._treeContainer,u,{useShadows:!1,filterOnType:c.getValue(),showTwistie:!1,twistiePixels:12},{placeholder:y.localize("placeholder","Find")}),this._disposables.push(this._tree.onDidChangeSelection(function(e){if(e.payload!==o._tree){var t=o._getTargetFromEvent(e.selection[0],e.payload);t&&setTimeout(function(i){o._onDidPickElement.fire({target:t,payload:e.payload})},0)}})),this._disposables.push(this._tree.onDidChangeFocus(function(e){var t=o._getTargetFromEvent(e.focus,e.payload);t&&o._onDidFocusElement.fire({target:t,payload:e.payload})})),this._disposables.push(this._tree.onDidStartFiltering(function(){o._layoutInfo.inputHeight=36,o._layout()})),this._disposables.push(this._tree.onDidExpandItem(function(){o._layout()})),
this._disposables.push(this._tree.onDidCollapseItem(function(){o._layout()})),s.addClass(this._treeContainer,"file-icon-themable-tree"),s.addClass(this._treeContainer,"show-file-icons");var d=function(e){s.toggleClass(o._treeContainer,"align-icons-and-twisties",e.hasFileIcons&&!e.hasFolderIcons),s.toggleClass(o._treeContainer,"hide-arrows",!0===e.hidesExplorerArrows)};this._disposables.push(i.onDidFileIconThemeChange(d)),d(i.getFileIconTheme()),this._domNode.focus()}return e.prototype.dispose=function(){p.dispose(this._disposables),this._onDidPickElement.dispose(),this._tree.dispose(),this._focus.dispose()},e.prototype.setInput=function(e,t,i,n,r){var o=this,s=this._getInput(e);this._tree.setInput(s).then(function(){o._layoutInfo={maxHeight:t,width:i,arrowSize:n,arrowOffset:r,inputHeight:0},o._layout();var s=o._getInitialSelection(o._tree,e);return s?o._tree.reveal(s,.5).then(function(){o._tree.setSelection([s],o._tree),o._tree.setFocus(s),o._tree.domFocus()}):(o._tree.focusFirst(),
o._tree.setSelection([o._tree.getFocus()],o._tree),o._tree.domFocus(),Promise.resolve(null))},c.onUnexpectedError)},e.prototype._layout=function(e){void 0===e&&(e=this._layoutInfo);for(var t=0,i=this._tree.getNavigator(void 0,!1);i.next()&&t<13;)t+=1;var n=2*e.arrowSize,r=Math.min(e.maxHeight-n,22*t),o=r+n;this._domNode.style.height=o+"px",this._domNode.style.width=e.width+"px",this._arrow.style.top="-"+2*e.arrowSize+"px",this._arrow.style.borderWidth=e.arrowSize+"px",this._arrow.style.marginLeft=e.arrowOffset+"px",this._treeContainer.style.height=r+"px",this._treeContainer.style.width=e.width+"px",this._tree.layout(),this._layoutInfo=e},e=r([o(1,E.IInstantiationService),o(2,x.IWorkbenchThemeService),o(3,S.IConfigurationService)],e)}();t.BreadcrumbsPicker=T;var R=function(){function e(e){this._fileService=e,this._parents=new WeakMap}return e.prototype.getId=function(e,t){
return f.URI.isUri(t)?t.toString():I.IWorkspace.isIWorkspace(t)?t.id:I.IWorkspaceFolder.isIWorkspaceFolder(t)?t.uri.toString():t.resource.toString()},e.prototype.hasChildren=function(e,t){return f.URI.isUri(t)||I.IWorkspace.isIWorkspace(t)||I.IWorkspaceFolder.isIWorkspaceFolder(t)||t.isDirectory},e.prototype.getChildren=function(e,t){var i=this;if(I.IWorkspace.isIWorkspace(t))return Promise.resolve(t.folders).then(function(e){for(var n=0,r=e;n<r.length;n++){var o=r[n];i._parents.set(t,o)}return e});var n;return n=I.IWorkspaceFolder.isIWorkspaceFolder(t)?t.uri:f.URI.isUri(t)?t:t.resource,this._fileService.resolveFile(n).then(function(e){for(var t=0,n=e.children;t<n.length;t++){var r=n[t];i._parents.set(e,r)}return e.children})},e.prototype.getParent=function(e,t){return Promise.resolve(this._parents.get(t))},e=r([o(0,b.IFileService)],e)}();t.FileDataSource=R;var O=function(){function e(e,t){var i=this;this._workspaceService=e,this._cachedExpressions=new Map,this._disposables=[]
;var n=D.BreadcrumbsConfig.FileExcludes.bindTo(t),r=function(){e.getWorkspace().folders.forEach(function(e){var t=n.getValue({resource:e.uri});if(t){var r={};for(var o in t)if("boolean"==typeof t[o]){r[0!==o.indexOf("**/")?h.join(e.uri.path,o):o]=t[o]}i._cachedExpressions.set(e.uri.toString(),d.parse(r))}})};r(),this._disposables.push(n,n.onDidChange(r),e.onDidChangeWorkspaceFolders(r))}return e.prototype.dispose=function(){p.dispose(this._disposables)},e.prototype.isVisible=function(e,t){if(I.IWorkspaceFolder.isIWorkspaceFolder(t))return!0;var i=this._workspaceService.getWorkspaceFolder(t.resource);if(!i||!this._cachedExpressions.has(i.uri.toString()))return!0;return!this._cachedExpressions.get(i.uri.toString())(t.resource.path,g.basename(t.resource))},e=r([o(0,I.IWorkspaceContextService),o(1,S.IConfigurationService)],e)}();t.FileFilter=O;var M=function(){function e(){}return e.prototype.getHighlightsStorageKey=function(e){return I.IWorkspaceFolder.isIWorkspaceFolder(e)?e.uri.toString():e.resource.toString()
},e.prototype.getHighlights=function(e,t,i){return u.fuzzyScore(i,t.name,void 0,!0)},e}();t.FileHighlighter=M;var k=function(){function e(e,t){this._instantiationService=e,this._configService=t}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(e,t){return"FileStat"},e.prototype.renderTemplate=function(e,t,i){return this._instantiationService.createInstance(_.FileLabel,i,{supportHighlights:!0})},e.prototype.renderElement=function(e,t,i,n){var r,o,s=this._configService.getValue("explorer.decorations");I.IWorkspaceFolder.isIWorkspaceFolder(t)?(r=t.uri,o=b.FileKind.ROOT_FOLDER):(r=t.resource,o=t.isDirectory?b.FileKind.FOLDER:b.FileKind.FILE),n.setFile(r,{fileKind:o,hidePath:!0,fileDecorations:s,matches:u.createMatches(e.getHighlighterScore(t)),extraClasses:["picker-item"]})},e.prototype.disposeTemplate=function(e,t,i){i.dispose()},e=r([o(0,E.IInstantiationService),o(1,S.IConfigurationService)],e)}();t.FileRenderer=k;var P=function(){function e(){}
return e.prototype.compare=function(e,t,i){return I.IWorkspaceFolder.isIWorkspaceFolder(t)&&I.IWorkspaceFolder.isIWorkspaceFolder(i)?t.index-i.index:t.isDirectory===i.isDirectory?a.compareFileNames(t.name,i.name):t.isDirectory?-1:1},e}();t.FileSorter=P;var L=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i,n,r)||this;return s._workspaceService=o,s}return i(t,e),t.prototype._getInput=function(e){var t=e,i=t.uri;return t.kind===b.FileKind.ROOT_FOLDER?this._workspaceService.getWorkspace():g.dirname(i)},t.prototype._getInitialSelection=function(e,t){for(var i=t.uri,n=e.getNavigator();n.next();){var r=n.current(),o=I.IWorkspaceFolder.isIWorkspaceFolder(r)?r.uri:r.resource;if(g.isEqual(i,o))return r}},t.prototype._completeTreeConfiguration=function(e){var t=this._instantiationService.createInstance(O);return this._disposables.push(t),e.dataSource=this._instantiationService.createInstance(R),e.renderer=this._instantiationService.createInstance(k),e.sorter=new P,e.highlighter=new M,e.filter=t,e},
t.prototype._getTargetFromEvent=function(e,t){if(e&&!I.IWorkspaceFolder.isIWorkspaceFolder(e)&&!e.isDirectory)return new A.FileElement(e.resource,b.FileKind.FILE)},t=r([o(1,E.IInstantiationService),o(2,x.IWorkbenchThemeService),o(3,S.IConfigurationService),o(4,I.IWorkspaceContextService)],t)}(T);t.BreadcrumbsFilePicker=L;var F=function(){function e(){}return e.prototype.getHighlights=function(e,t,i){return v.OutlineModel.get(t).updateMatches(i),t.score},e}(),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._getInput=function(e){var t=e,i=v.OutlineModel.get(t);return i.updateMatches(""),i},t.prototype._getInitialSelection=function(e,t){return t instanceof v.OutlineModel?void 0:t},t.prototype._completeTreeConfiguration=function(e){return e.dataSource=this._instantiationService.createInstance(m.OutlineDataSource),e.renderer=this._instantiationService.createInstance(m.OutlineRenderer),e.sorter=new m.OutlineItemComparator,e.highlighter=new F,e},
t.prototype._getTargetFromEvent=function(e,t){if(!t||!t.didClickOnTwistie)return e instanceof v.OutlineElement?e:void 0},t}(T);t.BreadcrumbsOutlinePicker=N}),define(e[221],t([1,0,7,84,326,195,19,17,4,27,35,13,51,50,82,131,2,23,38,9,10,33,16,3,67,52,49,41,11,21,59,104,206,383,15,12,34,31,94,213]),function(e,t,n,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V,W,G,K,z){"use strict";function H(e,t){var i=e.get(G.IEditorGroupsService),n=e.get(F.IBreadcrumbsService).getWidget(i.activeGroup.id);if(n){var r=d.tail(n.getItems());n.setFocused(r),t&&n.setSelection(r,q.Payload_Pick)}}var U=this;Object.defineProperty(t,"__esModule",{value:!0});var j=function(e){function t(t,i,n){var r=e.call(this)||this;return r.element=t,r.options=i,r._instantiationService=n,r._disposables=[],r}return i(t,e),t.prototype.dispose=function(){h.dispose(this._disposables)},t.prototype.equals=function(e){
return e instanceof t&&(this.element instanceof N.FileElement&&e.element instanceof N.FileElement?f.isEqual(this.element.uri,e.element.uri):this.element instanceof b.TreeElement&&e.element instanceof b.TreeElement&&this.element.id===e.element.id)},t.prototype.render=function(e){if(this.element instanceof N.FileElement){(i=this._instantiationService.createInstance(L.FileLabel,e,{})).setFile(this.element.uri,{hidePath:!0,hideIcon:this.element.kind===A.FileKind.FOLDER||!this.options.showFileIcons,fileKind:this.element.kind,fileDecorations:{colors:this.options.showDecorationColors,badges:!1}}),n.addClass(e,A.FileKind[this.element.kind].toLowerCase()),this._disposables.push(i)}else if(this.element instanceof b.OutlineModel){(i=document.createElement("div")).innerHTML="&hellip;",i.className="hint-more",e.appendChild(i)}else if(this.element instanceof b.OutlineGroup){(i=new u.IconLabel(e)).setValue(this.element.provider.displayName),this._disposables.push(i)}else if(this.element instanceof b.OutlineElement){
if(this.options.showSymbolIcons){var t=document.createElement("div");t.className=S.symbolKindToCssClass(this.element.symbol.kind),e.appendChild(t),n.addClass(e,"shows-symbol-icon")}var i=new u.IconLabel(e),r=this.element.symbol.name.replace(/\r|\n|\r\n/g,"⏎");i.setValue(r),this._disposables.push(i)}},t=r([o(2,x.IInstantiationService)],t)}(l.BreadcrumbsItem),q=function(){function e(t,i,r,o,s,a,c,u,d,p,h,g,f,v,m){this._options=i,this._editorGroup=r,this._contextKeyService=o,this._contextViewService=s,this._editorService=a,this._codeEditorService=c,this._workspaceService=u,this._instantiationService=d,this._themeService=p,this._quickOpenService=h,this._configurationService=g,this._fileService=f,this._telemetryService=v,this._disposables=new Array,this._breadcrumbsDisposables=new Array,this._breadcrumbsPickerShowing=!1,this.domNode=document.createElement("div"),n.addClass(this.domNode,"breadcrumbs-control"),n.append(t,this.domNode),this._widget=new l.BreadcrumbsWidget(this.domNode),
this._widget.onDidSelectItem(this._onSelectEvent,this,this._disposables),this._widget.onDidFocusItem(this._onFocusEvent,this,this._disposables),this._widget.onDidChangeFocus(this._updateCkBreadcrumbsActive,this,this._disposables),this._disposables.push(M.attachBreadcrumbsStyler(this._widget,this._themeService,{breadcrumbsBackground:i.breadcrumbsBackground})),this._ckBreadcrumbsPossible=e.CK_BreadcrumbsPossible.bindTo(this._contextKeyService),this._ckBreadcrumbsVisible=e.CK_BreadcrumbsVisible.bindTo(this._contextKeyService),this._ckBreadcrumbsActive=e.CK_BreadcrumbsActive.bindTo(this._contextKeyService),this._cfUseQuickPick=F.BreadcrumbsConfig.UseQuickPick.bindTo(g),this._disposables.push(m.register(this._editorGroup.id,this._widget))}return e.prototype.dispose=function(){this._disposables=h.dispose(this._disposables),this._breadcrumbsDisposables=h.dispose(this._breadcrumbsDisposables),this._ckBreadcrumbsPossible.reset(),this._ckBreadcrumbsVisible.reset(),this._ckBreadcrumbsActive.reset(),
this._cfUseQuickPick.dispose(),this._widget.dispose(),this.domNode.remove()},e.prototype.layout=function(e){this._widget.layout(e)},e.prototype.isHidden=function(){return n.hasClass(this.domNode,"hidden")},e.prototype.hide=function(){this._breadcrumbsDisposables=h.dispose(this._breadcrumbsDisposables),this._ckBreadcrumbsVisible.set(!1),n.toggleClass(this.domNode,"hidden",!0)},e.prototype.update=function(){var e=this;this._breadcrumbsDisposables=h.dispose(this._breadcrumbsDisposables);var t=this._editorGroup.activeEditor;if(t instanceof V.SideBySideEditorInput&&(t=t.master),!t||!t.getResource()||t.getResource().scheme!==g.Schemas.untitled&&!this._fileService.canHandleResource(t.getResource()))return this._ckBreadcrumbsPossible.set(!1),!this.isHidden()&&(this.hide(),!0);n.toggleClass(this.domNode,"hidden",!1),this._ckBreadcrumbsVisible.set(!0),this._ckBreadcrumbsPossible.set(!0);var i=this._getActiveCodeEditor(),r=new N.EditorBreadcrumbsModel(t.getResource(),i,this._workspaceService,this._configurationService)
;n.toggleClass(this.domNode,"relative-path",r.isRelative());var o=function(){var t=r.getElements().map(function(t){return new j(t,e._options,e._instantiationService)});e._widget.setItems(t),e._widget.reveal(t[t.length-1])},s=r.onDidUpdate(o);return o(),this._breadcrumbsDisposables=[r,s],this._breadcrumbsDisposables.push({dispose:function(){e._breadcrumbsPickerShowing&&e._contextViewService.hideContextView(e)}}),!0},e.prototype._getActiveCodeEditor=function(){var e,t=this._editorGroup.activeControl.getControl();return m.isCodeEditor(t)?e=t:m.isDiffEditor(t)&&(e=t.getModifiedEditor()),e},e.prototype._onFocusEvent=function(e){if(e.item&&this._breadcrumbsPickerShowing)return this._widget.setSelection(e.item)},e.prototype._onSelectEvent=function(e){var t=this;if(e.item){var i=e.item.element;this._editorGroup.focus(),this._telemetryService.publicLog("breadcrumbs/select",{type:i instanceof b.TreeElement?"symbol":"file"});var r=this._getEditorGroup(e.payload);if(void 0!==r)return this._widget.setFocused(void 0),
this._widget.setSelection(void 0),void this._revealInEditor(e,i,r);if(this._cfUseQuickPick.getValue())return this._widget.setFocused(void 0),this._widget.setSelection(void 0),void this._quickOpenService.show(i instanceof b.TreeElement?"@":"");var o,s,a=this._getActiveCodeEditor(),l=[];this._contextViewService.showContextView({render:function(n){var r=(o=B.createBreadcrumbsPicker(t._instantiationService,n,i)).onDidPickElement(function(i){i.target&&(s=void 0),t._contextViewService.hideContextView(t),t._revealInEditor(e,i.target,t._getEditorGroup(i.payload&&i.payload.originalEvent)),t._telemetryService.publicLog("breadcrumbs/open",{type:i?i.target instanceof b.TreeElement?"symbol":"file":"nothing"})}),c=o.onDidFocusElement(function(e){if(a&&e.target instanceof b.OutlineElement){s||(s=a.saveViewState());var t=e.target.symbol;a.revealRangeInCenter(t.range,0),l=a.deltaDecorations(l,[{range:t.range,options:{className:"rangeHighlight",isWholeLine:!0}}])}});return t._breadcrumbsPickerShowing=!0,
t._updateCkBreadcrumbsActive(),h.combinedDisposable([r,c,o])},getAnchor:function(){var t,r=window.innerWidth-8,s=Math.min(.7*window.innerHeight,300),a=Math.min(r,Math.max(240,r/4.17)),l=n.getDomNodePagePosition(e.node.firstChild),u=l.top+l.height+8;u+s>=window.innerHeight&&(s=window.innerHeight-u-30);var d=l.left;if(d+a>=r&&(d=r-a),e.payload instanceof c.StandardMouseEvent){var p=a-16;(t=e.payload.posx-d)>p&&(d=Math.min(r-a,d+t-p),t=p)}else t=l.left+.3*l.width-d;return o.setInput(i,s,a,8,Math.max(0,t)),{x:d,y:u}},onHide:function(e){a&&(a.deltaDecorations(l,[]),s&&a.restoreViewState(s)),t._breadcrumbsPickerShowing=!1,t._updateCkBreadcrumbsActive(),e===t&&(t._widget.setFocused(void 0),t._widget.setSelection(void 0))}})}},e.prototype._updateCkBreadcrumbsActive=function(){var e=this._widget.isDOMFocused()||this._breadcrumbsPickerShowing;this._ckBreadcrumbsActive.set(e)},e.prototype._revealInEditor=function(t,i,n){if(i instanceof N.FileElement)if(i.kind===A.FileKind.FILE)this._editorService.openEditor({
resource:i.uri},n);else{var r=this._widget.getItems(),o=r.indexOf(t.item);this._widget.setFocused(r[o+1]),this._widget.setSelection(r[o+1],e.Payload_Pick)}else if(i instanceof b.OutlineElement){var s=b.OutlineModel.get(i);this._codeEditorService.openCodeEditor({resource:s.textModel.uri,options:{selection:y.Range.collapseToStart(i.symbol.selectionRange),revealInCenterIfOutsideViewport:!0}},this._getActiveCodeEditor(),n===W.SIDE_GROUP)}},e.prototype._getEditorGroup=function(t){return t===e.Payload_RevealAside||t instanceof c.StandardMouseEvent&&t.altKey?W.SIDE_GROUP:t===e.Payload_Reveal||t instanceof c.StandardMouseEvent&&t.metaKey?W.ACTIVE_GROUP:void 0},e.HEIGHT=22,e.Payload_Reveal={},e.Payload_RevealAside={},e.Payload_Pick={},e.CK_BreadcrumbsPossible=new _.RawContextKey("breadcrumbsPossible",!1),e.CK_BreadcrumbsVisible=new _.RawContextKey("breadcrumbsVisible",!1),e.CK_BreadcrumbsActive=new _.RawContextKey("breadcrumbsActive",!1),
e=r([o(3,_.IContextKeyService),o(4,D.IContextViewService),o(5,W.IEditorService),o(6,z.ICodeEditorService),o(7,P.IWorkspaceContextService),o(8,x.IInstantiationService),o(9,k.IThemeService),o(10,O.IQuickOpenService),o(11,I.IConfigurationService),o(12,A.IFileService),o(13,K.ITelemetryService),o(14,F.IBreadcrumbsService)],e)}();t.BreadcrumbsControl=q,w.MenuRegistry.appendMenuItem(w.MenuId.CommandPalette,{command:{id:"breadcrumbs.toggle",title:{value:E.localize("cmd.toggle","Toggle Breadcrumbs"),original:"Toggle Breadcrumbs"},category:E.localize("cmd.category","View")}}),w.MenuRegistry.appendMenuItem(w.MenuId.MenubarViewMenu,{group:"5_editor",order:99,command:{id:"breadcrumbs.toggle",title:E.localize("miToggleBreadcrumbs","Toggle &&Breadcrumbs")}}),C.CommandsRegistry.registerCommand("breadcrumbs.toggle",function(e){var t=e.get(I.IConfigurationService),i=F.BreadcrumbsConfig.IsEnabled.bindTo(t).getValue();F.BreadcrumbsConfig.IsEnabled.bindTo(t).updateValue(!i)}),
w.MenuRegistry.appendMenuItem(w.MenuId.CommandPalette,{command:{id:"breadcrumbs.focusAndSelect",title:{value:E.localize("cmd.focus","Focus Breadcrumbs"),original:"Focus Breadcrumbs"},precondition:q.CK_BreadcrumbsVisible}}),T.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.focusAndSelect",weight:200,primary:3156,when:q.CK_BreadcrumbsPossible,handler:function(e){return H(e,!0)}}),T.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.focus",weight:200,primary:3152,when:q.CK_BreadcrumbsPossible,handler:function(e){return H(e,!1)}}),T.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.toggleToOn",weight:200,primary:3156,when:_.ContextKeyExpr.not("config.breadcrumbs.enabled"),handler:function(e){return s(U,void 0,void 0,function(){var t,i,n;return a(this,function(r){switch(r.label){case 0:return t=e.get(x.IInstantiationService),i=e.get(I.IConfigurationService),(n=F.BreadcrumbsConfig.IsEnabled.bindTo(i)).getValue()?[3,3]:[4,n.updateValue(!0)];case 1:
return r.sent(),[4,p.timeout(50)];case 2:r.sent(),r.label=3;case 3:return[2,t.invokeFunction(H,!0)]}})})}}),T.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.focusNext",weight:200,primary:17,secondary:[2065],mac:{primary:17,secondary:[529]},when:_.ContextKeyExpr.and(q.CK_BreadcrumbsVisible,q.CK_BreadcrumbsActive),handler:function(e){var t=e.get(G.IEditorGroupsService);e.get(F.IBreadcrumbsService).getWidget(t.activeGroup.id).focusNext()}}),T.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.focusPrevious",weight:200,primary:15,secondary:[2063],mac:{primary:15,secondary:[527]},when:_.ContextKeyExpr.and(q.CK_BreadcrumbsVisible,q.CK_BreadcrumbsActive),handler:function(e){var t=e.get(G.IEditorGroupsService);e.get(F.IBreadcrumbsService).getWidget(t.activeGroup.id).focusPrev()}}),T.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.selectFocused",weight:200,primary:3,secondary:[18],when:_.ContextKeyExpr.and(q.CK_BreadcrumbsVisible,q.CK_BreadcrumbsActive),
handler:function(e){var t=e.get(G.IEditorGroupsService),i=e.get(F.IBreadcrumbsService).getWidget(t.activeGroup.id);i.setSelection(i.getFocused(),q.Payload_Pick)}}),T.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.revealFocused",weight:200,primary:10,secondary:[2051],when:_.ContextKeyExpr.and(q.CK_BreadcrumbsVisible,q.CK_BreadcrumbsActive),handler:function(e){var t=e.get(G.IEditorGroupsService),i=e.get(F.IBreadcrumbsService).getWidget(t.activeGroup.id);i.setSelection(i.getFocused(),q.Payload_Reveal)}}),T.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"breadcrumbs.selectEditor",weight:201,primary:9,when:_.ContextKeyExpr.and(q.CK_BreadcrumbsVisible,q.CK_BreadcrumbsActive),handler:function(e){var t=e.get(G.IEditorGroupsService),i=e.get(F.IBreadcrumbsService);i.getWidget(t.activeGroup.id).setFocused(void 0),i.getWidget(t.activeGroup.id).setSelection(void 0),t.activeGroup.activeControl.focus()}}),T.KeybindingsRegistry.registerCommandAndKeybindingRule({
id:"breadcrumbs.revealFocusedFromTreeAside",weight:200,primary:2051,when:_.ContextKeyExpr.and(q.CK_BreadcrumbsVisible,q.CK_BreadcrumbsActive,R.WorkbenchListFocusContextKey),handler:function(e){var t=e.get(W.IEditorService),i=e.get(R.IListService).lastFocusedList.getFocus();return i instanceof b.OutlineElement?t.openEditor({resource:b.OutlineModel.get(i).textModel.uri,options:{selection:y.Range.collapseToStart(i.symbol.selectionRange)}},W.SIDE_GROUP):v.URI.isUri(i.resource)?t.openEditor({resource:i.resource},W.SIDE_GROUP):void 0}})}),define(e[385],t([1,0,74,7,89,53,11,26,15,20,4,3,17,389]),function(e,t,n,s,a,c,l,u,d,p,h,g,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(e){function t(t,i,r,o){var s=e.call(this,r)||this;return s.accessor=t,s.groupView=i,s.instantiationService=o,s.editorTransfer=n.LocalSelectionTransfer.getInstance(),s.groupTransfer=n.LocalSelectionTransfer.getInstance(),s.cleanupOverlayScheduler=s._register(new f.RunOnceScheduler(function(){return s.dispose()
},300)),s.create(),s}return i(t,e),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.create=function(){var e=this,i=this.getOverlayOffsetHeight();this.container=document.createElement("div"),this.container.id=t.OVERLAY_ID,this.container.style.top=i+"px",this.groupView.element.appendChild(this.container),s.addClass(this.groupView.element,"dragged-over"),this._register(h.toDisposable(function(){e.groupView.element.removeChild(e.container),s.removeClass(e.groupView.element,"dragged-over")})),this.overlay=document.createElement("div"),s.addClass(this.overlay,"editor-group-overlay-indicator"),this.container.appendChild(this.overlay),this.registerListeners(),this.updateStyles()},t.prototype.updateStyles=function(){this.overlay.style.backgroundColor=this.getColor(c.EDITOR_DRAG_AND_DROP_BACKGROUND);var e=this.getColor(u.activeContrastBorder);this.overlay.style.outlineColor=e,this.overlay.style.outlineOffset=e?"-2px":null,
this.overlay.style.outlineStyle=e?"dashed":null,this.overlay.style.outlineWidth=e?"2px":null},t.prototype.registerListeners=function(){var e=this;this._register(new n.DragAndDropObserver(this.container,{onDragEnter:function(e){},onDragOver:function(t){var i=e.groupTransfer.hasData(n.DraggedEditorGroupIdentifier.prototype),r=e.editorTransfer.hasData(n.DraggedEditorIdentifier.prototype);r||i||(t.dataTransfer.dropEffect="copy");if(!(i?e.isCopyOperation(t):!r||e.isCopyOperation(t,e.editorTransfer.getData(n.DraggedEditorIdentifier.prototype)[0].identifier))){var o=e.findSourceGroupView();if(o===e.groupView&&(i||r&&o.count<2))return void e.hideOverlay()}e.positionOverlay(t.offsetX,t.offsetY,i),e.cleanupOverlayScheduler.isScheduled()&&e.cleanupOverlayScheduler.cancel()},onDragLeave:function(t){return e.dispose()},onDragEnd:function(t){return e.dispose()},onDrop:function(t){s.EventHelper.stop(t,!0),e.dispose(),e.currentDropOperation&&e.handleDrop(t,e.currentDropOperation.splitDirection)}})),
this._register(s.addDisposableListener(this.container,s.EventType.MOUSE_OVER,function(){e.cleanupOverlayScheduler.isScheduled()||e.cleanupOverlayScheduler.schedule()}))},t.prototype.findSourceGroupView=function(){return this.groupTransfer.hasData(n.DraggedEditorGroupIdentifier.prototype)?this.accessor.getGroup(this.groupTransfer.getData(n.DraggedEditorGroupIdentifier.prototype)[0].identifier):this.editorTransfer.hasData(n.DraggedEditorIdentifier.prototype)?this.accessor.getGroup(this.editorTransfer.getData(n.DraggedEditorIdentifier.prototype)[0].identifier.groupId):void 0},t.prototype.handleDrop=function(e,t){var i=this,r=function(){return"number"==typeof t?i.accessor.addGroup(i.groupView,t):i.groupView};if(this.groupTransfer.hasData(n.DraggedEditorGroupIdentifier.prototype)){var o=this.groupTransfer.getData(n.DraggedEditorGroupIdentifier.prototype)[0].identifier,s=this.accessor.getGroup(o);if("number"!=typeof t&&s===this.groupView)return;l=void 0
;l="number"==typeof t?this.isCopyOperation(e)?this.accessor.copyGroup(s,this.groupView,t):this.accessor.moveGroup(s,this.groupView,t):this.isCopyOperation(e)?this.accessor.mergeGroup(s,this.groupView,{mode:0}):this.accessor.mergeGroup(s,this.groupView),this.accessor.activateGroup(l),this.groupTransfer.clearData(n.DraggedEditorGroupIdentifier.prototype)}else if(this.editorTransfer.hasData(n.DraggedEditorIdentifier.prototype)){var c=this.editorTransfer.getData(n.DraggedEditorIdentifier.prototype)[0].identifier,l=r();if((s=this.accessor.getGroup(c.groupId))===l)return;var u=a.getActiveTextEditorOptions(s,c.editor,d.EditorOptions.create({pinned:!0}));l.openEditor(c.editor,u),l.focus();this.isCopyOperation(e,c)||s.closeEditor(c.editor),this.editorTransfer.clearData(n.DraggedEditorIdentifier.prototype)}else{this.instantiationService.createInstance(n.ResourcesDropHandler,{allowWorkspaceOpen:!0}).handleDrop(e,function(){return r()},function(e){return e.focus()})}},t.prototype.isCopyOperation=function(e,t){
return!(t&&!t.editor.supportsSplitEditor())&&(e.ctrlKey&&!p.isMacintosh||e.altKey&&p.isMacintosh)},t.prototype.positionOverlay=function(e,t,i){var n,r,o,a=this,c="right"===this.accessor.partOptions.openSideBySideDirection,l=this.groupView.element.clientWidth,u=this.groupView.element.clientHeight-this.getOverlayOffsetHeight(),d=l*(n=i&&c?.3:.1),p=u*(r=i?c?.1:.3:.1),h=l/3,g=u/3;switch(o=e>d&&e<l-d&&t>p&&t<u-p?void 0:c?e<h?2:e>2*h?3:t<u/2?0:1:t<g?0:t>2*g?1:e<l/2?2:3){case 0:this.doPositionOverlay({top:"0",left:"0",width:"100%",height:"50%"});break;case 1:this.doPositionOverlay({top:"50%",left:"0",width:"100%",height:"50%"});break;case 2:this.doPositionOverlay({top:"0",left:"0",width:"50%",height:"100%"});break;case 3:this.doPositionOverlay({top:"0",left:"50%",width:"50%",height:"100%"});break;default:this.doPositionOverlay({top:"0",left:"0",width:"100%",height:"100%"})}this.overlay.style.opacity="1",setTimeout(function(){return s.addClass(a.overlay,"overlay-move-transition")},0),this.currentDropOperation={
splitDirection:o}},t.prototype.doPositionOverlay=function(e){var t=this.getOverlayOffsetHeight();this.container.style.height=t?"calc(100% - "+t+"px)":"100%",this.overlay.style.top=e.top,this.overlay.style.left=e.left,this.overlay.style.width=e.width,this.overlay.style.height=e.height},t.prototype.getOverlayOffsetHeight=function(){return!this.groupView.isEmpty()&&this.accessor.partOptions.showTabs?a.EDITOR_TITLE_HEIGHT:0},t.prototype.hideOverlay=function(){this.doPositionOverlay({top:"0",left:"0",width:"100%",height:"100%"}),this.overlay.style.opacity="0",s.removeClass(this.overlay,"overlay-move-transition"),this.currentDropOperation=void 0},t.prototype.contains=function(e){return e===this.container||e===this.overlay},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._disposed=!0},t.OVERLAY_ID="monaco-workbench-editor-drop-overlay",t}(c.Themable),m=function(e){function t(t,i,r,o){var s=e.call(this,r)||this;return s.accessor=t,s.container=i,s.instantiationService=o,s.counter=0,
s.editorTransfer=n.LocalSelectionTransfer.getInstance(),s.groupTransfer=n.LocalSelectionTransfer.getInstance(),s.registerListeners(),s}return i(t,e),Object.defineProperty(t.prototype,"overlay",{get:function(){if(this._overlay&&!this._overlay.disposed)return this._overlay},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this._register(s.addDisposableListener(this.container,s.EventType.DRAG_ENTER,function(t){return e.onDragEnter(t)})),this._register(s.addDisposableListener(this.container,s.EventType.DRAG_LEAVE,function(){return e.onDragLeave()})),[this.container,window].forEach(function(t){return e._register(s.addDisposableListener(t,s.EventType.DRAG_END,function(){return e.onDragEnd()}))})},t.prototype.onDragEnter=function(e){if(this.counter++,this.editorTransfer.hasData(n.DraggedEditorIdentifier.prototype)||this.groupTransfer.hasData(n.DraggedEditorGroupIdentifier.prototype)||e.dataTransfer.types.length){this.updateContainer(!0);var t=e.target
;if(t&&(this.overlay&&!this.overlay.contains(t)&&this.disposeOverlay(),!this.overlay)){var i=this.findTargetGroupView(t);i&&(this._overlay=new v(this.accessor,i,this.themeService,this.instantiationService))}}else e.dataTransfer.dropEffect="none"},t.prototype.onDragLeave=function(){this.counter--,0===this.counter&&this.updateContainer(!1)},t.prototype.onDragEnd=function(){this.counter=0,this.updateContainer(!1),this.disposeOverlay()},t.prototype.findTargetGroupView=function(e){for(var t=this.accessor.groups,i=0;i<t.length;i++){var n=t[i];if(s.isAncestor(e,n.element))return n}},t.prototype.updateContainer=function(e){s.toggleClass(this.container,"dragged-over",e)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposeOverlay()},t.prototype.disposeOverlay=function(){this.overlay&&(this.overlay.dispose(),this._overlay=void 0)},t=r([o(2,l.IThemeService),o(3,g.IInstantiationService)],t)}(c.Themable);t.EditorDropTarget=m}),
define(e[222],t([1,0,6,2,69,43,59,37,54,12,34,3,15,147,411]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o.editor=t,o._group=i,o.modeService=n,o.modelService=r,o}return i(t,e),t.prototype.getLabelOptions=function(){return{extraClasses:l.getIconClasses(this.modelService,this.modeService,this.getResource()),italic:!this._group.isPinned(this.editor)}},t.prototype.getLabel=function(){return this.editor.getName()},t.prototype.getIcon=function(){return this.editor.isDirty()?"dirty":""},Object.defineProperty(t.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),t.prototype.getResource=function(){return f.toResource(this.editor,{supportSideBySide:!0})},t.prototype.getAriaLabel=function(){return s.localize("entryAriaLabel","{0}, editor group picker",this.getLabel())},t.prototype.getDescription=function(){return this.editor.getDescription()},
t.prototype.run=function(t,i){return 1===t?this.runOpen(i):e.prototype.run.call(this,t,i)},t.prototype.runOpen=function(e){return this._group.openEditor(this.editor),!0},t=r([o(2,c.IModeService),o(3,u.IModelService)],t)}(a.QuickOpenEntryGroup);t.EditorPickerEntry=m;var y=function(e){function t(t,i,n){var r=e.call(this)||this;return r.instantiationService=t,r.editorService=i,r.editorGroupService=n,r.scorerCache=Object.create(null),r}return i(t,e),t.prototype.getResults=function(e,t){var i=this,r=this.getEditorEntries();if(!r.length)return n.TPromise.as(null);var o=v.prepareQuery(e),s=r.filter(function(e){if(!o.value)return!0;var t=v.scoreItem(e,o,!0,a.QuickOpenItemAccessor,i.scorerCache);return!!t.score&&(e.setHighlights(t.labelMatch,t.descriptionMatch),!0)});if(o.value){var c=this.editorGroupService.getGroups(2);s.sort(function(e,t){return e.group!==t.group?c.indexOf(e.group)-c.indexOf(t.group):v.compareItemsByScore(e,t,o,!0,a.QuickOpenItemAccessor,i.scorerCache)})}if(this.editorGroupService.count>1){var l
;s.forEach(function(e){l&&l===e.group||(e.setGroupLabel(e.group.label),e.setShowBorder(!!l),l=e.group)})}return n.TPromise.as(new a.QuickOpenModel(s))},t.prototype.onClose=function(e){this.scorerCache=Object.create(null)},t=r([o(0,g.IInstantiationService),o(1,p.IEditorService),o(2,h.IEditorGroupsService)],t)}(d.QuickOpenHandler);t.BaseEditorPicker=y;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getEditorEntries=function(){var e=this;return this.group.getEditors(0).map(function(t,i){return e.instantiationService.createInstance(m,t,e.group)})},Object.defineProperty(t.prototype,"group",{get:function(){return this.editorGroupService.activeGroup},enumerable:!0,configurable:!0}),t.prototype.getEmptyLabel=function(e){return e?s.localize("noResultsFoundInGroup","No matching opened editor found in group"):s.localize("noOpenedEditors","List of opened editors is currently empty in group")},t.prototype.getAutoFocus=function(e,t){
if(e||!t.quickNavigateConfiguration)return{autoFocusFirstEntry:!0};if(t.quickNavigateConfiguration&&t.quickNavigateConfiguration.keybindings.some(function(e){var t=e.getParts(),i=t[0];return!t[1]&&i.shiftKey}))return{autoFocusLastEntry:!0};var i=this.group.count;return{autoFocusFirstEntry:1===i,autoFocusSecondEntry:i>1}},t.ID="workbench.picker.activeEditors",t}(y);t.ActiveEditorGroupPicker=S;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getEditorEntries=function(){var e=this,t=[];return this.editorGroupService.getGroups(2).forEach(function(i){i.editors.forEach(function(n){t.push(e.instantiationService.createInstance(m,n,i))})}),t},t.prototype.getEmptyLabel=function(e){return e?s.localize("noResultsFound","No matching opened editor found"):s.localize("noOpenedEditorsAllGroups","List of opened editors is currently empty")},t.prototype.getAutoFocus=function(t,i){return t?{autoFocusFirstEntry:!0}:e.prototype.getAutoFocus.call(this,t,i)},
t.ID="workbench.picker.editors",t}(y);t.AllEditorsPicker=b}),define(e[387],t([1,0,2,6,7,22,25,30,13,14,20,114,130,15,4,55,71,463,434,159,239,12,49,156,16,3,43,37,50,108,465,38,117,29,85,40,51,27,61,62,59,17,28,5,416]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V,W,G,K,z,H,U,j){"use strict";function q(e){if(e instanceof f.UntitledEditorInput)return e;if(e instanceof v.SideBySideEditorInput){var t=q(e.master),i=q(e.details);return t&&i?new J(t,i):t}var n=e;return u.areFunctions(n.setEncoding,n.getEncoding)?n:null}function Q(e,t){e.style.display!==t&&(e.style.display=t)}function Y(e){Q(e,"")}function X(e){Q(e,"none")}function $(e){if(!e)return!1;return!e.getConfiguration().readOnly}Object.defineProperty(t,"__esModule",{value:!0});var J=function(){function e(e,t){this.master=e,this.details=t}return e.prototype.getEncoding=function(){return this.master.getEncoding()},e.prototype.setEncoding=function(e,t){[this.master,this.details].forEach(function(i){return i.setEncoding(e,t)
})},e}(),Z=function(){function e(){this.indentation=!1,this.selectionStatus=!1,this.mode=!1,this.encoding=!1,this.EOL=!1,this.tabFocusMode=!1,this.screenReaderMode=!1,this.metadata=!1}return e.prototype.combine=function(e){this.indentation=this.indentation||e.indentation,this.selectionStatus=this.selectionStatus||e.selectionStatus,this.mode=this.mode||e.mode,this.encoding=this.encoding||e.encoding,this.EOL=this.EOL||e.EOL,this.tabFocusMode=this.tabFocusMode||e.tabFocusMode,this.screenReaderMode=this.screenReaderMode||e.screenReaderMode,this.metadata=this.metadata||e.metadata},e}(),ee=function(){function e(){this._selectionStatus=null,this._mode=null,this._encoding=null,this._EOL=null,this._tabFocusMode=!1,this._screenReaderMode=!1,this._metadata=null}return Object.defineProperty(e.prototype,"selectionStatus",{get:function(){return this._selectionStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"encoding",{get:function(){return this._encoding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EOL",{get:function(){return this._EOL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indentation",{get:function(){return this._indentation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabFocusMode",{get:function(){return this._tabFocusMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenReaderMode",{get:function(){return this._screenReaderMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._metadata},enumerable:!0,configurable:!0}),e.prototype.update=function(e){var t=new Z,i=!1;return void 0!==e.selectionStatus&&this._selectionStatus!==e.selectionStatus&&(this._selectionStatus=e.selectionStatus,i=!0,t.selectionStatus=!0),void 0!==e.indentation&&this._indentation!==e.indentation&&(this._indentation=e.indentation,i=!0,
t.indentation=!0),void 0!==e.mode&&this._mode!==e.mode&&(this._mode=e.mode,i=!0,t.mode=!0),void 0!==e.encoding&&this._encoding!==e.encoding&&(this._encoding=e.encoding,i=!0,t.encoding=!0),void 0!==e.EOL&&this._EOL!==e.EOL&&(this._EOL=e.EOL,i=!0,t.EOL=!0),void 0!==e.tabFocusMode&&this._tabFocusMode!==e.tabFocusMode&&(this._tabFocusMode=e.tabFocusMode,i=!0,t.tabFocusMode=!0),void 0!==e.screenReaderMode&&this._screenReaderMode!==e.screenReaderMode&&(this._screenReaderMode=e.screenReaderMode,i=!0,t.screenReaderMode=!0),void 0!==e.metadata&&this._metadata!==e.metadata&&(this._metadata=e.metadata,i=!0,t.metadata=!0),i?t:null},e
}(),te=n.localize("singleSelectionRange","Ln {0}, Col {1} ({2} selected)"),ie=n.localize("singleSelection","Ln {0}, Col {1}"),ne=n.localize("multiSelectionRange","{0} selections ({1} characters selected)"),re=n.localize("multiSelection","{0} selections"),oe=n.localize("endOfLineLineFeed","LF"),se=n.localize("endOfLineCarriageReturnLineFeed","CRLF"),ae=n.localize("tabFocusModeEnabled","Tab Moves Focus"),ce=n.localize("screenReaderDetected","Screen Reader Optimized"),le=n.localize("screenReaderDetectedExtra",'If you are not using a Screen Reader, please change the setting `editor.accessibilitySupport` to "off".'),ue=function(){function e(e,t,i,n,r,o,s,a){this.editorService=e,this.quickOpenService=t,this.instantiationService=i,this.untitledEditorService=n,this.modeService=r,this.textFileService=o,this.configurationService=s,this.notificationService=a,this._promptedScreenReader=!1,this.toDispose=[],this.activeEditorListeners=[],this.state=new ee}return e.prototype.render=function(e){var t=this
;return this.element=a.append(e,a.$(".editor-statusbar-item")),this.tabFocusModeElement=a.append(this.element,a.$("a.editor-status-tabfocusmode.status-bar-info")),this.tabFocusModeElement.title=n.localize("disableTabMode","Disable Accessibility Mode"),this.tabFocusModeElement.onclick=function(){return t.onTabFocusModeClick()},this.tabFocusModeElement.textContent=ae,X(this.tabFocusModeElement),this.screenRedearModeElement=a.append(this.element,a.$("a.editor-status-screenreadermode.status-bar-info")),this.screenRedearModeElement.textContent=ce,this.screenRedearModeElement.title=le,this.screenRedearModeElement.onclick=function(){return t.onScreenReaderModeClick()},X(this.screenRedearModeElement),this.selectionElement=a.append(this.element,a.$("a.editor-status-selection")),this.selectionElement.title=n.localize("gotoLine","Go to Line"),this.selectionElement.onclick=function(){return t.onSelectionClick()},X(this.selectionElement),this.indentationElement=a.append(this.element,a.$("a.editor-status-indentation")),
this.indentationElement.title=n.localize("selectIndentation","Select Indentation"),this.indentationElement.onclick=function(){return t.onIndentationClick()},X(this.indentationElement),this.encodingElement=a.append(this.element,a.$("a.editor-status-encoding")),this.encodingElement.title=n.localize("selectEncoding","Select Encoding"),this.encodingElement.onclick=function(){return t.onEncodingClick()},X(this.encodingElement),this.eolElement=a.append(this.element,a.$("a.editor-status-eol")),this.eolElement.title=n.localize("selectEOL","Select End of Line Sequence"),this.eolElement.onclick=function(){return t.onEOLClick()},X(this.eolElement),this.modeElement=a.append(this.element,a.$("a.editor-status-mode")),this.modeElement.title=n.localize("selectLanguageMode","Select Language Mode"),this.modeElement.onclick=function(){return t.onModeClick()},X(this.modeElement),this.metadataElement=a.append(this.element,a.$("span.editor-status-metadata")),this.metadataElement.title=n.localize("fileInfo","File Information"),
X(this.metadataElement),this.delayedRender=null,this.toRender=null,this.toDispose.push({dispose:function(){t.delayedRender&&(t.delayedRender.dispose(),t.delayedRender=null)}},this.editorService.onDidActiveEditorChange(function(){return t.updateStatusBar()}),this.untitledEditorService.onDidChangeEncoding(function(e){return t.onResourceEncodingChange(e)}),this.textFileService.models.onModelEncodingChanged(function(e){return t.onResourceEncodingChange(e.resource)}),k.TabFocus.onDidChangeTabFocus(function(e){return t.onTabFocusModeChange()})),m.combinedDisposable(this.toDispose)},e.prototype.updateState=function(e){var t=this,i=this.state.update(e);i&&(this.toRender?this.toRender.combine(i):(this.toRender=i,this.delayedRender=a.runAtThisOrScheduleAtNextAnimationFrame(function(){t.delayedRender=null;var e=t.toRender;t.toRender=null,t._renderNow(e)})))},e.prototype._renderNow=function(e){e.tabFocusMode&&(this.state.tabFocusMode&&!0===this.state.tabFocusMode?Y(this.tabFocusModeElement):X(this.tabFocusModeElement)),
e.screenReaderMode&&(this.state.screenReaderMode&&!0===this.state.screenReaderMode?Y(this.screenRedearModeElement):X(this.screenRedearModeElement)),e.indentation&&(this.state.indentation?(this.indentationElement.textContent=this.state.indentation,Y(this.indentationElement)):X(this.indentationElement)),e.selectionStatus&&(this.state.selectionStatus&&!this.state.screenReaderMode?(this.selectionElement.textContent=this.state.selectionStatus,Y(this.selectionElement)):X(this.selectionElement)),e.encoding&&(this.state.encoding?(this.encodingElement.textContent=this.state.encoding,Y(this.encodingElement)):X(this.encodingElement)),e.EOL&&(this.state.EOL?(this.eolElement.textContent="\r\n"===this.state.EOL?se:oe,Y(this.eolElement)):X(this.eolElement)),e.mode&&(this.state.mode?(this.modeElement.textContent=this.state.mode,Y(this.modeElement)):X(this.modeElement)),e.metadata&&(this.state.metadata?(this.metadataElement.textContent=this.state.metadata,Y(this.metadataElement)):X(this.metadataElement))},
e.prototype.getSelectionLabel=function(e){return e&&e.selections?1===e.selections.length?e.charactersSelected?c.format(te,e.selections[0].positionLineNumber,e.selections[0].positionColumn,e.charactersSelected):c.format(ie,e.selections[0].positionLineNumber,e.selections[0].positionColumn):e.charactersSelected?c.format(ne,e.selections.length,e.charactersSelected):e.selections.length>0?c.format(re,e.selections.length):null:null},e.prototype.onModeClick=function(){var e=this.instantiationService.createInstance(pe,pe.ID,pe.LABEL);e.run(),e.dispose()},e.prototype.onIndentationClick=function(){var e=this.instantiationService.createInstance(he,he.ID,he.LABEL);e.run(),e.dispose()},e.prototype.onScreenReaderModeClick=function(){var e=this;this.screenReaderNotification||(this.screenReaderNotification=this.notificationService.prompt(U.Severity.Info,n.localize("screenReaderDetectedExplanation.question","Are you using a screen reader to operate VS Code?"),[{
label:n.localize("screenReaderDetectedExplanation.answerYes","Yes"),run:function(){e.configurationService.updateValue("editor.accessibilitySupport","on",1)}},{label:n.localize("screenReaderDetectedExplanation.answerNo","No"),run:function(){e.configurationService.updateValue("editor.accessibilitySupport","off",1)}}]),j.once(this.screenReaderNotification.onDidClose)(function(){e.screenReaderNotification=null}))},e.prototype.onSelectionClick=function(){this.quickOpenService.show(":")},e.prototype.onEOLClick=function(){var e=this.instantiationService.createInstance(ge,ge.ID,ge.LABEL);e.run(),e.dispose()},e.prototype.onEncodingClick=function(){var e=this.instantiationService.createInstance(fe,fe.ID,fe.LABEL);e.run(),e.dispose()},e.prototype.onTabFocusModeClick=function(){k.TabFocus.setTabFocusMode(!1)},e.prototype.updateStatusBar=function(){var e=this,t=this.editorService.activeControl,i=t?V.getCodeEditor(t.getControl()):void 0;if(this.onScreenReaderModeChange(i),this.onSelectionChange(i),this.onModeChange(i),
this.onEOLChange(i),this.onEncodingChange(t),this.onIndentationChange(i),this.onMetadataChange(t),m.dispose(this.activeEditorListeners),i)this.activeEditorListeners.push(i.onDidChangeConfiguration(function(t){t.accessibilitySupport&&e.onScreenReaderModeChange(i)})),this.activeEditorListeners.push(i.onDidChangeCursorPosition(function(t){e.onSelectionChange(i)})),this.activeEditorListeners.push(i.onDidChangeModelLanguage(function(t){e.onModeChange(i)})),this.activeEditorListeners.push(i.onDidChangeModelContent(function(t){e.onEOLChange(i);for(var n=i.getSelections(),r=function(r){if(n.some(function(e){return O.Range.areIntersecting(e,t.changes[r].range)}))return e.onSelectionChange(i),"break"},o=0;o<t.changes.length;o++){if("break"===r(o))break}})),this.activeEditorListeners.push(i.onDidChangeModelOptions(function(t){e.onIndentationChange(i)}));else if(t instanceof w.BaseBinaryResourceEditor||t instanceof C.BinaryResourceDiffEditor){var n=[];if(t instanceof C.BinaryResourceDiffEditor){var r=t.getDetailsEditor()
;r instanceof w.BaseBinaryResourceEditor&&n.push(r);var o=t.getMasterEditor();o instanceof w.BaseBinaryResourceEditor&&n.push(o)}else n.push(t);n.forEach(function(i){e.activeEditorListeners.push(i.onMetadataChanged(function(i){e.onMetadataChange(t)}))})}},e.prototype.onModeChange=function(e){var t={mode:null};if(e){var i=e.getModel();if(i){var n=i.getLanguageIdentifier().language;t={mode:this.modeService.getLanguageName(n)}}}this.updateState(t)},e.prototype.onIndentationChange=function(e){var t={indentation:null};if(e){var i=e.getModel();if(i){var r=i.getOptions();t.indentation=r.insertSpaces?n.localize("spacesSize","Spaces: {0}",r.tabSize):n.localize({key:"tabSize",comment:["Tab corresponds to the tab key"]},"Tab Size: {0}",r.tabSize)}}this.updateState(t)},e.prototype.onMetadataChange=function(e){var t={metadata:null};(e instanceof w.BaseBinaryResourceEditor||e instanceof C.BinaryResourceDiffEditor)&&(t.metadata=e.getMetadata()),this.updateState(t)},e.prototype.onScreenReaderModeChange=function(e){
var t=this,i=!1;if(e){if(2===g.getAccessibilitySupport()){"auto"===this.configurationService.getValue("editor").accessibilitySupport&&(this._promptedScreenReader||(this._promptedScreenReader=!0,setTimeout(function(){t.onScreenReaderModeClick()},100)))}i=2===e.getConfiguration().accessibilitySupport}!1===i&&this.screenReaderNotification&&this.screenReaderNotification.close(),this.updateState({screenReaderMode:i})},e.prototype.onSelectionChange=function(e){var t={};if(e){t.selections=e.getSelections()||[],t.charactersSelected=0;var i=e.getModel();if(i&&t.selections.forEach(function(e){t.charactersSelected+=i.getValueLengthInRange(e)}),1===t.selections.length){var n=e.getVisibleColumnFromPosition(e.getPosition()),r=t.selections[0].clone();r=new M.Selection(r.selectionStartLineNumber,r.selectionStartColumn,r.positionLineNumber,n),t.selections[0]=r}}this.updateState({selectionStatus:this.getSelectionLabel(t)})},e.prototype.onEOLChange=function(e){var t={EOL:null};if(e&&!e.getConfiguration().readOnly){
var i=e.getModel();i&&(t.EOL=i.getEOL())}this.updateState(t)},e.prototype.onEncodingChange=function(e){if(!e||this.isActiveEditor(e)){var t={encoding:null};if(e&&(V.isCodeEditor(e.getControl())||V.isDiffEditor(e.getControl()))){var i=q(e.input);if(i){var n=i.getEncoding(),r=A.SUPPORTED_ENCODINGS[n];t.encoding=r?r.labelShort:n}}this.updateState(t)}},e.prototype.onResourceEncodingChange=function(e){var t=this.editorService.activeControl;if(t){var i=v.toResource(t.input,{supportSideBySide:!0});if(i&&i.toString()===e.toString())return this.onEncodingChange(t)}},e.prototype.onTabFocusModeChange=function(){var e={tabFocusMode:k.TabFocus.getTabFocusMode()};this.updateState(e)},e.prototype.isActiveEditor=function(e){var t=this.editorService.activeControl;return t&&t===e},e=r([o(0,I.IEditorService),o(1,_.IQuickOpenService),o(2,x.IInstantiationService),o(3,y.IUntitledEditorService),o(4,T.IModeService),o(5,F.ITextFileService),o(6,D.IWorkspaceConfigurationService),o(7,U.INotificationService)],e)}();t.EditorStatus=ue
;var de=function(e){function t(i,r,o){var s=e.call(this,t.ID,n.localize("showLanguageExtensions","Search Marketplace Extensions for '{0}'...",i))||this;return s.fileExtension=i,s.commandService=r,s.enabled=o.isEnabled(),s}return i(t,e),t.prototype.run=function(){return this.commandService.executeCommand("workbench.extensions.action.showExtensionsForLanguage",this.fileExtension).then(function(){})},t.ID="workbench.action.showLanguageExtensions",t=r([o(1,P.ICommandService),o(2,L.IExtensionGalleryService)],t)}(p.Action);t.ShowLanguageExtensionsAction=de;var pe=function(e){function t(t,i,n,r,o,s,a,c,l,u){var d=e.call(this,t,i)||this;return d.modeService=n,d.modelService=r,d.editorService=o,d.configurationService=s,d.quickInputService=a,d.preferencesService=c,d.instantiationService=l,d.untitledEditorService=u,d}return i(t,e),t.prototype.run=function(){var e=this,t=V.getCodeEditor(this.editorService.activeTextEditorWidget);if(!t)return this.quickInputService.pick([{
label:n.localize("noEditor","No text editor active at this time")}]);var i=t.getModel(),r=v.toResource(this.editorService.activeEditor,{supportSideBySide:!0}),o=!!r;r.scheme!==W.Schemas.untitled||this.untitledEditorService.hasAssociatedFilePath(r)||(o=!1);var s,a;i&&(a=i.getLanguageIdentifier().language,s=this.modeService.getLanguageName(a));var c=this.modeService.getRegisteredLanguageNames().sort().map(function(t,i){var r;r=s===t?n.localize("languageDescription","({0}) - Configured Language",e.modeService.getModeIdForLanguageName(t.toLowerCase())):n.localize("languageDescriptionConfigured","({0})",e.modeService.getModeIdForLanguageName(t.toLowerCase()));var o,a=e.modeService.getExtensions(t);if(a&&a.length)o=d.URI.file(a[0]);else{var c=e.modeService.getFilenames(t);c&&c.length&&(o=d.URI.file(c[0]))}return{label:t,iconClasses:z.getIconClasses(e.modelService,e.modeService,o),description:r}});o&&c.unshift({type:"separator",label:n.localize("languagesPicks","languages (identifier)")});var u,p,h;if(o){
var g=l.extname(r.fsPath)||l.basename(r.fsPath);(h=this.instantiationService.createInstance(de,g)).enabled&&c.unshift(h),p={label:n.localize("configureModeSettings","Configure '{0}' language based settings...",s)},c.unshift(p),u={label:n.localize("configureAssociationsExt","Configure File Association for '{0}'...",g)},c.unshift(u)}var f={label:n.localize("autoDetect","Auto Detect")};return o&&c.unshift(f),this.quickInputService.pick(c,{placeHolder:n.localize("pickLanguage","Select Language Mode"),matchOnDescription:!0}).then(function(t){if(t)if(t!==h)if(t!==u)if(t!==p){var n=e.editorService.activeEditor,o=e.editorService.activeTextEditorWidget,s=[];if(V.isCodeEditor(o)){var c=o.getModel();c&&s.push(c)}else if(V.isDiffEditor(o)){var l=o.getModel();l&&(l.original&&s.push(l.original),l.modified&&s.push(l.modified))}var d;d=t===f?e.modeService.getOrCreateModeByFilepathOrFirstLine(v.toResource(n,{supportSideBySide:!0}).fsPath,i.getLineContent(1)):e.modeService.getOrCreateModeByLanguageName(t.label),
s.forEach(function(t){e.modelService.setMode(t,d)})}else e.preferencesService.configureSettingsForLanguage(a);else e.configureFileAssociation(r);else h.run()})},t.prototype.configureFileAssociation=function(e){var t=this,i=l.extname(e.fsPath),r=l.basename(e.fsPath),o=this.modeService.getModeIdByFilepathOrFirstLine(r),s=this.modeService.getRegisteredLanguageNames().sort().map(function(e,i){var r=t.modeService.getModeIdForLanguageName(e.toLowerCase());return{id:r,label:e,description:r===o?n.localize("currentAssociation","Current Association"):void 0}});setTimeout(function(){t.quickInputService.pick(s,{placeHolder:n.localize("pickLanguageToConfigure","Select Language Mode to Associate with '{0}'",i||r)}).then(function(e){if(e){var n=t.configurationService.inspect(A.FILES_ASSOCIATIONS_CONFIG),o=void 0;o=i&&"."!==r[0]?"*"+i:r;var s=1;n.workspace&&n.workspace[o]&&(s=2);var a=B.deepClone(2===s?n.workspace:n.user);a||(a=Object.create(null)),a[o]=e.id,t.configurationService.updateValue(A.FILES_ASSOCIATIONS_CONFIG,a,s)
}})},50)},t.ID="workbench.action.editor.changeLanguageMode",t.LABEL=n.localize("changeMode","Change Language Mode"),t=r([o(2,T.IModeService),o(3,R.IModelService),o(4,I.IEditorService),o(5,D.IWorkspaceConfigurationService),o(6,K.IQuickInputService),o(7,G.IPreferencesService),o(8,x.IInstantiationService),o(9,y.IUntitledEditorService)],t)}(p.Action);t.ChangeModeAction=pe;var he=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.editorService=n,o.quickInputService=r,o}return i(t,e),t.prototype.run=function(){var e=V.getCodeEditor(this.editorService.activeTextEditorWidget);if(!e)return this.quickInputService.pick([{label:n.localize("noEditor","No text editor active at this time")}]);if(!$(e))return this.quickInputService.pick([{label:n.localize("noWritableCodeEditor","The active code editor is read-only.")}])
;var t=[e.getAction(E.IndentUsingSpaces.ID),e.getAction(E.IndentUsingTabs.ID),e.getAction(E.DetectIndentation.ID),e.getAction(E.IndentationToSpacesAction.ID),e.getAction(E.IndentationToTabsAction.ID),e.getAction(b.TrimTrailingWhitespaceAction.ID)].map(function(t){return{id:t.id,label:t.label,detail:h.language===h.LANGUAGE_DEFAULT?null:t.alias,run:function(){e.focus(),t.run()}}});return t.splice(3,0,{type:"separator",label:n.localize("indentConvert","convert file")}),t.unshift({type:"separator",label:n.localize("indentView","change view")}),this.quickInputService.pick(t,{placeHolder:n.localize("pickAction","Select Action"),matchOnDetail:!0}).then(function(e){return e&&e.run()})},t.ID="workbench.action.editor.changeIndentation",t.LABEL=n.localize("changeIndentation","Change Indentation"),t=r([o(2,I.IEditorService),o(3,K.IQuickInputService)],t)}(p.Action),ge=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.editorService=n,o.quickInputService=r,o}return i(t,e),t.prototype.run=function(){
var e=this,t=V.getCodeEditor(this.editorService.activeTextEditorWidget);if(!t)return this.quickInputService.pick([{label:n.localize("noEditor","No text editor active at this time")}]);if(!$(t))return this.quickInputService.pick([{label:n.localize("noWritableCodeEditor","The active code editor is read-only.")}]);var i=t.getModel(),r=[{label:oe,eol:S.EndOfLineSequence.LF},{label:se,eol:S.EndOfLineSequence.CRLF}],o=i&&"\n"===i.getEOL()?0:1;return this.quickInputService.pick(r,{placeHolder:n.localize("pickEndOfLine","Select End of Line Sequence"),activeItem:r[o]}).then(function(t){if(t){var i=V.getCodeEditor(e.editorService.activeTextEditorWidget);if(i&&$(i)){i.getModel().pushEOL(t.eol)}}})},t.ID="workbench.action.editor.changeEOL",t.LABEL=n.localize("changeEndOfLine","Change End of Line Sequence"),t=r([o(2,I.IEditorService),o(3,K.IQuickInputService)],t)}(p.Action);t.ChangeEOLAction=ge;var fe=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i)||this;return a.editorService=n,a.quickInputService=r,
a.textResourceConfigurationService=o,a.fileService=s,a}return i(t,e),t.prototype.run=function(){var e=this;if(!V.getCodeEditor(this.editorService.activeTextEditorWidget))return this.quickInputService.pick([{label:n.localize("noEditor","No text editor active at this time")}]);var t=this.editorService.activeControl,i=q(t.input);if(!i)return this.quickInputService.pick([{label:n.localize("noFileEditor","No file active at this time")}]);var r,o;return h.language===h.LANGUAGE_DEFAULT?(r={label:n.localize("saveWithEncoding","Save with Encoding")},o={label:n.localize("reopenWithEncoding","Reopen with Encoding")}):(r={label:n.localize("saveWithEncoding","Save with Encoding"),detail:"Save with Encoding"},o={label:n.localize("reopenWithEncoding","Reopen with Encoding"),detail:"Reopen with Encoding"}),(i instanceof f.UntitledEditorInput?s.TPromise.as(r):function(e){return e&&$(V.getCodeEditor(e.getControl()))}(t)?this.quickInputService.pick([o,r],{placeHolder:n.localize("pickAction","Select Action"),matchOnDetail:!0
}):s.TPromise.as(o)).then(function(r){if(r){var a=v.toResource(t.input,{supportSideBySide:!0});return H.timeout(50).then(function(){return a&&e.fileService.canHandleResource(a)?e.fileService.resolveContent(a,{autoGuessEncoding:!0,acceptTextOnly:!0}).then(function(e){return e.encoding},function(e){return null}):s.TPromise.as(null)}).then(function(s){var c,l,u=r===o,d=e.textResourceConfigurationService.getValue(a,"files.encoding"),p=Object.keys(A.SUPPORTED_ENCODINGS).sort(function(e,t){return e===d?-1:t===d?1:A.SUPPORTED_ENCODINGS[e].order-A.SUPPORTED_ENCODINGS[t].order}).filter(function(e){return(e!==s||s===d)&&(!u||!A.SUPPORTED_ENCODINGS[e].encodeOnly)}).map(function(e,t){return e===i.getEncoding()?c=t:A.SUPPORTED_ENCODINGS[e].alias===i.getEncoding()&&(l=t),{id:e,label:A.SUPPORTED_ENCODINGS[e].labelLong,description:e}});s&&d!==s&&A.SUPPORTED_ENCODINGS[s]&&(p.unshift({type:"separator"}),p.unshift({id:s,label:A.SUPPORTED_ENCODINGS[s].labelLong,description:n.localize("guessedEncoding","Guessed from content")}))
;var h=p.filter(function(e){return"separator"!==e.type});return e.quickInputService.pick(p,{placeHolder:u?n.localize("pickEncodingForReopen","Select File Encoding to Reopen File"):n.localize("pickEncodingForSave","Select File Encoding to Save with"),activeItem:h["number"==typeof c?c:"number"==typeof l?l:-1]}).then(function(n){n&&(t=e.editorService.activeControl,(i=q(t.input))&&i.getEncoding()!==n.id&&i.setEncoding(n.id,u?1:0))})})}})},t.ID="workbench.action.editor.changeEncoding",t.LABEL=n.localize("changeEncoding","Change File Encoding"),t=r([o(2,I.IEditorService),o(3,K.IQuickInputService),o(4,N.ITextResourceConfigurationService),o(5,A.IFileService)],t)}(p.Action);t.ChangeEncodingAction=fe}),define(e[388],t([1,0,8,2,13,54,193,106,15,355,160,113,130,102,3,205,29,239,387,44,101,23,112,65,165,105,12,99,67,10,20,222,27,58,204]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N){"use strict";function B(t,i,n,r){var o={command:{id:t.id,title:t.title,iconLocation:{
dark:a.URI.parse(e.toUrl("vs/workbench/browser/parts/editor/media/"+t.iconDark)),light:a.URI.parse(e.toUrl("vs/workbench/browser/parts/editor/media/"+t.iconLight))}},group:"navigation",when:i,order:n};r&&(o.alt={id:r.id,title:r.title,iconLocation:{dark:a.URI.parse(e.toUrl("vs/workbench/browser/parts/editor/media/"+r.iconDark)),light:a.URI.parse(e.toUrl("vs/workbench/browser/parts/editor/media/"+r.iconLight))}}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitle,o)}Object.defineProperty(t,"__esModule",{value:!0}),n.Registry.as(u.Extensions.Editors).registerEditor(new u.EditorDescriptor(p.TextResourceEditor,p.TextResourceEditor.ID,s.localize("textEditor","Text Editor")),[new _.SyncDescriptor(f.UntitledEditorInput),new _.SyncDescriptor(v.ResourceEditorInput)]),n.Registry.as(u.Extensions.Editors).registerEditor(new u.EditorDescriptor(y.TextDiffEditor,y.TextDiffEditor.ID,s.localize("textDiffEditor","Text Diff Editor")),[new _.SyncDescriptor(g.DiffEditorInput)]),
n.Registry.as(u.Extensions.Editors).registerEditor(new u.EditorDescriptor(b.BinaryResourceDiffEditor,b.BinaryResourceDiffEditor.ID,s.localize("binaryDiffEditor","Binary Diff Editor")),[new _.SyncDescriptor(g.DiffEditorInput)]),n.Registry.as(u.Extensions.Editors).registerEditor(new u.EditorDescriptor(h.SideBySideEditor,h.SideBySideEditor.ID,s.localize("sideBySideEditor","Side by Side Editor")),[new _.SyncDescriptor(d.SideBySideEditorInput)]);var V=function(){function e(e){this.textFileService=e}return e.prototype.serialize=function(e){if(!this.textFileService.isHotExitEnabled)return null;var t=e,i=t.getResource();t.hasAssociatedFilePath&&(i=i.with({scheme:L.Schemas.file}));var n={resource:i.toString(),resourceJSON:i.toJSON(),modeId:t.getModeId(),encoding:t.getEncoding()};return JSON.stringify(n)},e.prototype.deserialize=function(e,t){return e.invokeFunction(function(e){
var i=JSON.parse(t),n=i.resourceJSON?a.URI.revive(i.resourceJSON):a.URI.parse(i.resource),r=n.scheme===L.Schemas.file?n.fsPath:void 0,o=i.modeId,s=i.encoding;return e.get(T.IEditorService).createInput({resource:n,filePath:r,language:o,encoding:s})})},e=r([o(0,S.ITextFileService)],e)}();n.Registry.as(d.Extensions.EditorInputFactories).registerEditorInputFactory(f.UntitledEditorInput.ID,V);var W=function(){function e(){}return e.prototype.serialize=function(e){var t=e;if(t.details&&t.master){var i=n.Registry.as(d.Extensions.EditorInputFactories),r=i.getEditorInputFactory(t.details.getTypeId()),o=i.getEditorInputFactory(t.master.getTypeId());if(r&&o){var s=r.serialize(t.details),a=o.serialize(t.master);if(s&&a)return JSON.stringify({name:t.getName(),description:t.getDescription(),detailsSerialized:s,masterSerialized:a,detailsTypeId:t.details.getTypeId(),masterTypeId:t.master.getTypeId()})}}return null},e.prototype.deserialize=function(e,t){
var i=JSON.parse(t),r=n.Registry.as(d.Extensions.EditorInputFactories),o=r.getEditorInputFactory(i.detailsTypeId),s=r.getEditorInputFactory(i.masterTypeId);if(o&&s){var a=o.deserialize(e,i.detailsSerialized),c=s.deserialize(e,i.masterSerialized);if(a&&c)return new d.SideBySideEditorInput(i.name,i.description,a,c)}return null},e}();n.Registry.as(d.Extensions.EditorInputFactories).registerEditorInputFactory(d.SideBySideEditorInput.ID,W),F.registerEditorContribution(N.OpenWorkspaceButtonContribution);n.Registry.as(l.Extensions.Statusbar).registerStatusbarItem(new l.StatusbarItemDescriptor(E.EditorStatus,1,100));var G=n.Registry.as(w.Extensions.WorkbenchActions);G.registerWorkbenchAction(new I.SyncActionDescriptor(E.ChangeModeAction,E.ChangeModeAction.ID,E.ChangeModeAction.LABEL,{primary:D.KeyChord(2089,43)}),"Change Language Mode"),G.registerWorkbenchAction(new I.SyncActionDescriptor(E.ChangeEOLAction,E.ChangeEOLAction.ID,E.ChangeEOLAction.LABEL),"Change End of Line Sequence"),
G.registerWorkbenchAction(new I.SyncActionDescriptor(E.ChangeEncodingAction,E.ChangeEncodingAction.ID,E.ChangeEncodingAction.LABEL),"Change File Encoding");var K=function(e){function t(t){var i=e.call(this)||this;return i.instantiationService=t,i}return i(t,e),t.prototype.hasActions=function(e){return!!this.getEntry(e)},t.prototype.getActions=function(e){var t=[];return this.getEntry(e)&&(this.openToSideActionInstance?this.openToSideActionInstance.updateClass():this.openToSideActionInstance=this.instantiationService.createInstance(A.OpenToSideFromQuickOpenAction),t.push(this.openToSideActionInstance)),t},t.prototype.getEntry=function(e){return e&&e.element?A.toEditorQuickOpenEntry(e.element):null},t=r([o(0,m.IInstantiationService)],t)}(C.ActionBarContributor);t.QuickOpenActionContributor=K;n.Registry.as(C.Extensions.Actionbar).registerActionBarContributor(C.Scope.VIEWER,K);var z=M.ContextKeyExpr.and(R.inQuickOpenContext,M.ContextKeyExpr.has("inEditorsPicker"))
;n.Registry.as(c.Extensions.Quickopen).registerQuickOpenHandler(new c.QuickOpenHandlerDescriptor(P.ActiveEditorGroupPicker,P.ActiveEditorGroupPicker.ID,x.NAVIGATE_IN_ACTIVE_GROUP_PREFIX,"inEditorsPicker",[{prefix:x.NAVIGATE_IN_ACTIVE_GROUP_PREFIX,needsEditor:!1,description:s.localize("groupOnePicker","Show Editors in Active Group")}])),n.Registry.as(c.Extensions.Quickopen).registerQuickOpenHandler(new c.QuickOpenHandlerDescriptor(P.AllEditorsPicker,P.AllEditorsPicker.ID,x.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,"inEditorsPicker",[{prefix:x.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,needsEditor:!1,description:s.localize("allEditorsPicker","Show All Opened Editors")}]));var H=s.localize("view","View");G.registerWorkbenchAction(new I.SyncActionDescriptor(A.OpenNextEditorInGroup,A.OpenNextEditorInGroup.ID,A.OpenNextEditorInGroup.LABEL),"View: Open Next Editor in Group",H),
G.registerWorkbenchAction(new I.SyncActionDescriptor(A.OpenPreviousEditorInGroup,A.OpenPreviousEditorInGroup.ID,A.OpenPreviousEditorInGroup.LABEL),"View: Open Previous Editor in Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.OpenLastEditorInGroup,A.OpenLastEditorInGroup.ID,A.OpenLastEditorInGroup.LABEL,{primary:533,secondary:[2078],mac:{primary:277,secondary:[2078]}}),"View: Open Last Editor in Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.OpenFirstEditorInGroup,A.OpenFirstEditorInGroup.ID,A.OpenFirstEditorInGroup.LABEL),"View: Open First Editor in Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.OpenNextRecentlyUsedEditorAction,A.OpenNextRecentlyUsedEditorAction.ID,A.OpenNextRecentlyUsedEditorAction.LABEL),"View: Open Next Recently Used Editor",H),
G.registerWorkbenchAction(new I.SyncActionDescriptor(A.OpenPreviousRecentlyUsedEditorAction,A.OpenPreviousRecentlyUsedEditorAction.ID,A.OpenPreviousRecentlyUsedEditorAction.LABEL),"View: Open Previous Recently Used Editor",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.ShowAllEditorsAction,A.ShowAllEditorsAction.ID,A.ShowAllEditorsAction.LABEL,{primary:D.KeyChord(2089,2094),mac:{primary:2562}}),"View: Show All Editors",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.ShowEditorsInActiveGroupAction,A.ShowEditorsInActiveGroupAction.ID,A.ShowEditorsInActiveGroupAction.LABEL),"View: Show Editors in Active Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.OpenNextEditor,A.OpenNextEditor.ID,A.OpenNextEditor.LABEL,{primary:2060,mac:{primary:2577,secondary:[3161]}}),"View: Open Next Editor",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.OpenPreviousEditor,A.OpenPreviousEditor.ID,A.OpenPreviousEditor.LABEL,{primary:2059,mac:{primary:2575,secondary:[3159]}
}),"View: Open Previous Editor",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.ReopenClosedEditorAction,A.ReopenClosedEditorAction.ID,A.ReopenClosedEditorAction.LABEL,{primary:3122}),"View: Reopen Closed Editor",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.ClearRecentFilesAction,A.ClearRecentFilesAction.ID,A.ClearRecentFilesAction.LABEL),"File: Clear Recently Opened",s.localize("file","File")),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.CloseAllEditorsAction,A.CloseAllEditorsAction.ID,A.CloseAllEditorsAction.LABEL,{primary:D.KeyChord(2089,2101)}),"View: Close All Editors",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.CloseAllEditorGroupsAction,A.CloseAllEditorGroupsAction.ID,A.CloseAllEditorGroupsAction.LABEL,{primary:D.KeyChord(2089,3125)}),"View: Close All Editor Groups",H),
G.registerWorkbenchAction(new I.SyncActionDescriptor(A.CloseLeftEditorsInGroupAction,A.CloseLeftEditorsInGroupAction.ID,A.CloseLeftEditorsInGroupAction.LABEL),"View: Close Editors in Group to the Left",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.CloseEditorsInOtherGroupsAction,A.CloseEditorsInOtherGroupsAction.ID,A.CloseEditorsInOtherGroupsAction.LABEL),"View: Close Editors in Other Groups",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.CloseEditorInAllGroupsAction,A.CloseEditorInAllGroupsAction.ID,A.CloseEditorInAllGroupsAction.LABEL),"View: Close Editor in All Groups",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.SplitEditorAction,A.SplitEditorAction.ID,A.SplitEditorAction.LABEL,{primary:2136}),"View: Split Editor",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.SplitEditorOrthogonalAction,A.SplitEditorOrthogonalAction.ID,A.SplitEditorOrthogonalAction.LABEL,{primary:D.KeyChord(2089,2136)}),"View: Split Editor Orthogonal",H),
G.registerWorkbenchAction(new I.SyncActionDescriptor(A.SplitEditorLeftAction,A.SplitEditorLeftAction.ID,A.SplitEditorLeftAction.LABEL),"View: Split Editor Left",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.SplitEditorRightAction,A.SplitEditorRightAction.ID,A.SplitEditorRightAction.LABEL),"View: Split Editor Right",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.SplitEditorUpAction,A.SplitEditorUpAction.ID,A.SplitEditorUpAction.LABEL),"Split Editor Up",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.SplitEditorDownAction,A.SplitEditorDownAction.ID,A.SplitEditorDownAction.LABEL),"View: Split Editor Down",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.JoinTwoGroupsAction,A.JoinTwoGroupsAction.ID,A.JoinTwoGroupsAction.LABEL),"View: Join Editors of Two Groups",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.JoinAllGroupsAction,A.JoinAllGroupsAction.ID,A.JoinAllGroupsAction.LABEL),"View: Join Editors of All Groups",H),
G.registerWorkbenchAction(new I.SyncActionDescriptor(A.NavigateBetweenGroupsAction,A.NavigateBetweenGroupsAction.ID,A.NavigateBetweenGroupsAction.LABEL),"View: Navigate Between Editor Groups",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.ResetGroupSizesAction,A.ResetGroupSizesAction.ID,A.ResetGroupSizesAction.LABEL),"View: Reset Editor Group Sizes",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MaximizeGroupAction,A.MaximizeGroupAction.ID,A.MaximizeGroupAction.LABEL),"View: Maximize Editor Group and Hide Sidebar",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MinimizeOtherGroupsAction,A.MinimizeOtherGroupsAction.ID,A.MinimizeOtherGroupsAction.LABEL),"View: Maximize Editor Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveEditorLeftInGroupAction,A.MoveEditorLeftInGroupAction.ID,A.MoveEditorLeftInGroupAction.LABEL,{primary:3083,mac:{primary:D.KeyChord(2089,3087)}}),"View: Move Editor Left",H),
G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveEditorRightInGroupAction,A.MoveEditorRightInGroupAction.ID,A.MoveEditorRightInGroupAction.LABEL,{primary:3084,mac:{primary:D.KeyChord(2089,3089)}}),"View: Move Editor Right",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveGroupLeftAction,A.MoveGroupLeftAction.ID,A.MoveGroupLeftAction.LABEL,{primary:D.KeyChord(2089,15)}),"View: Move Editor Group Left",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveGroupRightAction,A.MoveGroupRightAction.ID,A.MoveGroupRightAction.LABEL,{primary:D.KeyChord(2089,17)}),"View: Move Editor Group Right",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveGroupUpAction,A.MoveGroupUpAction.ID,A.MoveGroupUpAction.LABEL,{primary:D.KeyChord(2089,16)}),"View: Move Editor Group Up",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveGroupDownAction,A.MoveGroupDownAction.ID,A.MoveGroupDownAction.LABEL,{primary:D.KeyChord(2089,18)}),"View: Move Editor Group Down",H),
G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveEditorToPreviousGroupAction,A.MoveEditorToPreviousGroupAction.ID,A.MoveEditorToPreviousGroupAction.LABEL,{primary:2575,mac:{primary:2319}}),"View: Move Editor into Previous Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveEditorToNextGroupAction,A.MoveEditorToNextGroupAction.ID,A.MoveEditorToNextGroupAction.LABEL,{primary:2577,mac:{primary:2321}}),"View: Move Editor into Next Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveEditorToFirstGroupAction,A.MoveEditorToFirstGroupAction.ID,A.MoveEditorToFirstGroupAction.LABEL,{primary:1558,mac:{primary:2326}}),"View: Move Editor into First Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveEditorToLastGroupAction,A.MoveEditorToLastGroupAction.ID,A.MoveEditorToLastGroupAction.LABEL,{primary:1566,mac:{primary:2334}}),"View: Move Editor into Last Group",H),
G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveEditorToLeftGroupAction,A.MoveEditorToLeftGroupAction.ID,A.MoveEditorToLeftGroupAction.LABEL),"View: Move Editor into Left Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveEditorToRightGroupAction,A.MoveEditorToRightGroupAction.ID,A.MoveEditorToRightGroupAction.LABEL),"View: Move Editor into Right Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveEditorToAboveGroupAction,A.MoveEditorToAboveGroupAction.ID,A.MoveEditorToAboveGroupAction.LABEL),"View: Move Editor into Above Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.MoveEditorToBelowGroupAction,A.MoveEditorToBelowGroupAction.ID,A.MoveEditorToBelowGroupAction.LABEL),"View: Move Editor into Below Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.FocusActiveGroupAction,A.FocusActiveGroupAction.ID,A.FocusActiveGroupAction.LABEL),"View: Focus Active Editor Group",H),
G.registerWorkbenchAction(new I.SyncActionDescriptor(A.FocusFirstGroupAction,A.FocusFirstGroupAction.ID,A.FocusFirstGroupAction.LABEL,{primary:2070}),"View: Focus First Editor Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.FocusLastGroupAction,A.FocusLastGroupAction.ID,A.FocusLastGroupAction.LABEL),"View: Focus Last Editor Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.FocusPreviousGroup,A.FocusPreviousGroup.ID,A.FocusPreviousGroup.LABEL),"View: Focus Previous Editor Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.FocusNextGroup,A.FocusNextGroup.ID,A.FocusNextGroup.LABEL),"View: Focus Next Editor Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.FocusLeftGroup,A.FocusLeftGroup.ID,A.FocusLeftGroup.LABEL,{primary:D.KeyChord(2089,2063)}),"View: Focus Left Editor Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.FocusRightGroup,A.FocusRightGroup.ID,A.FocusRightGroup.LABEL,{primary:D.KeyChord(2089,2065)
}),"View: Focus Right Editor Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.FocusAboveGroup,A.FocusAboveGroup.ID,A.FocusAboveGroup.LABEL,{primary:D.KeyChord(2089,2064)}),"View: Focus Above Editor Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.FocusBelowGroup,A.FocusBelowGroup.ID,A.FocusBelowGroup.LABEL,{primary:D.KeyChord(2089,2066)}),"View: Focus Below Editor Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.NewEditorGroupLeftAction,A.NewEditorGroupLeftAction.ID,A.NewEditorGroupLeftAction.LABEL),"View: New Editor Group to the Left",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.NewEditorGroupRightAction,A.NewEditorGroupRightAction.ID,A.NewEditorGroupRightAction.LABEL),"View: New Editor Group to the Right",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.NewEditorGroupAboveAction,A.NewEditorGroupAboveAction.ID,A.NewEditorGroupAboveAction.LABEL),"View: New Editor Group Above",H),
G.registerWorkbenchAction(new I.SyncActionDescriptor(A.NewEditorGroupBelowAction,A.NewEditorGroupBelowAction.ID,A.NewEditorGroupBelowAction.LABEL),"View: New Editor Group Below",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.NavigateForwardAction,A.NavigateForwardAction.ID,A.NavigateForwardAction.LABEL,{primary:null,win:{primary:529},mac:{primary:1363},linux:{primary:3155}}),"Go Forward"),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.NavigateBackwardsAction,A.NavigateBackwardsAction.ID,A.NavigateBackwardsAction.LABEL,{primary:null,win:{primary:527},mac:{primary:339},linux:{primary:2643}}),"Go Back"),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.NavigateToLastEditLocationAction,A.NavigateToLastEditLocationAction.ID,A.NavigateToLastEditLocationAction.LABEL,{primary:D.KeyChord(2089,2095)}),"Go to Last Edit Location"),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.NavigateLastAction,A.NavigateLastAction.ID,A.NavigateLastAction.LABEL),"Go Last"),
G.registerWorkbenchAction(new I.SyncActionDescriptor(A.OpenPreviousEditorFromHistoryAction,A.OpenPreviousEditorFromHistoryAction.ID,A.OpenPreviousEditorFromHistoryAction.LABEL),"Open Previous Editor from History"),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.ClearEditorHistoryAction,A.ClearEditorHistoryAction.ID,A.ClearEditorHistoryAction.LABEL),"Clear Editor History"),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.RevertAndCloseEditorAction,A.RevertAndCloseEditorAction.ID,A.RevertAndCloseEditorAction.LABEL),"View: Revert and Close Editor",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.EditorLayoutSingleAction,A.EditorLayoutSingleAction.ID,A.EditorLayoutSingleAction.LABEL),"View: Single Column Editor Layout",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.EditorLayoutTwoColumnsAction,A.EditorLayoutTwoColumnsAction.ID,A.EditorLayoutTwoColumnsAction.LABEL),"View: Two Columns Editor Layout",H),
G.registerWorkbenchAction(new I.SyncActionDescriptor(A.EditorLayoutThreeColumnsAction,A.EditorLayoutThreeColumnsAction.ID,A.EditorLayoutThreeColumnsAction.LABEL),"View: Three Columns Editor Layout",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.EditorLayoutTwoRowsAction,A.EditorLayoutTwoRowsAction.ID,A.EditorLayoutTwoRowsAction.LABEL),"View: Two Rows Editor Layout",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.EditorLayoutThreeRowsAction,A.EditorLayoutThreeRowsAction.ID,A.EditorLayoutThreeRowsAction.LABEL),"View: Three Rows Editor Layout",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.EditorLayoutTwoByTwoGridAction,A.EditorLayoutTwoByTwoGridAction.ID,A.EditorLayoutTwoByTwoGridAction.LABEL),"View: Grid Editor Layout (2x2)",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.EditorLayoutTwoRowsRightAction,A.EditorLayoutTwoRowsRightAction.ID,A.EditorLayoutTwoRowsRightAction.LABEL),"View: Two Rows Right Editor Layout",H),
G.registerWorkbenchAction(new I.SyncActionDescriptor(A.EditorLayoutTwoColumnsBottomAction,A.EditorLayoutTwoColumnsBottomAction.ID,A.EditorLayoutTwoColumnsBottomAction.LABEL),"View: Two Columns Bottom Editor Layout",H);var U={primary:2050,mac:{primary:258}},j={primary:3074,mac:{primary:1282}};G.registerWorkbenchAction(new I.SyncActionDescriptor(A.OpenNextRecentlyUsedEditorInGroupAction,A.OpenNextRecentlyUsedEditorInGroupAction.ID,A.OpenNextRecentlyUsedEditorInGroupAction.LABEL,U),"View: Open Next Recently Used Editor in Group",H),G.registerWorkbenchAction(new I.SyncActionDescriptor(A.OpenPreviousRecentlyUsedEditorInGroupAction,A.OpenPreviousRecentlyUsedEditorInGroupAction.ID,A.OpenPreviousRecentlyUsedEditorInGroupAction.LABEL,j),"View: Open Previous Recently Used Editor in Group",H);O.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigateNextInEditorPicker",weight:250,handler:R.getQuickNavigateHandler("workbench.action.quickOpenNavigateNextInEditorPicker",!0),when:z,
primary:U.primary,mac:U.mac});O.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigatePreviousInEditorPicker",weight:250,handler:R.getQuickNavigateHandler("workbench.action.quickOpenNavigatePreviousInEditorPicker",!1),when:z,primary:j.primary,mac:j.mac}),x.setup(),k.isMacintosh&&(I.MenuRegistry.appendMenuItem(I.MenuId.TouchBarContext,{command:{id:A.NavigateBackwardsAction.ID,title:A.NavigateBackwardsAction.LABEL,iconLocation:{dark:a.URI.parse(e.toUrl("vs/workbench/browser/parts/editor/media/back-tb.png"))}},group:"navigation"}),I.MenuRegistry.appendMenuItem(I.MenuId.TouchBarContext,{command:{id:A.NavigateForwardAction.ID,title:A.NavigateForwardAction.LABEL,iconLocation:{dark:a.URI.parse(e.toUrl("vs/workbench/browser/parts/editor/media/forward-tb.png"))}},group:"navigation"})),I.MenuRegistry.appendMenuItem(I.MenuId.EmptyEditorGroupContext,{command:{id:x.SPLIT_EDITOR_UP,title:s.localize("splitUp","Split Up")},group:"2_split",order:10}),
I.MenuRegistry.appendMenuItem(I.MenuId.EmptyEditorGroupContext,{command:{id:x.SPLIT_EDITOR_DOWN,title:s.localize("splitDown","Split Down")},group:"2_split",order:20}),I.MenuRegistry.appendMenuItem(I.MenuId.EmptyEditorGroupContext,{command:{id:x.SPLIT_EDITOR_LEFT,title:s.localize("splitLeft","Split Left")},group:"2_split",order:30}),I.MenuRegistry.appendMenuItem(I.MenuId.EmptyEditorGroupContext,{command:{id:x.SPLIT_EDITOR_RIGHT,title:s.localize("splitRight","Split Right")},group:"2_split",order:40}),I.MenuRegistry.appendMenuItem(I.MenuId.EmptyEditorGroupContext,{command:{id:x.CLOSE_EDITOR_GROUP_COMMAND_ID,title:s.localize("close","Close")},group:"3_close",order:10,when:M.ContextKeyExpr.has("multipleEditorGroups")}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitleContext,{command:{id:x.CLOSE_EDITOR_COMMAND_ID,title:s.localize("close","Close")},group:"1_close",order:10}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitleContext,{command:{id:x.CLOSE_OTHER_EDITORS_IN_GROUP_COMMAND_ID,
title:s.localize("closeOthers","Close Others")},group:"1_close",order:20}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitleContext,{command:{id:x.CLOSE_EDITORS_TO_THE_RIGHT_COMMAND_ID,title:s.localize("closeRight","Close to the Right")},group:"1_close",order:30,when:M.ContextKeyExpr.has("config.workbench.editor.showTabs")}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitleContext,{command:{id:x.CLOSE_SAVED_EDITORS_COMMAND_ID,title:s.localize("closeAllSaved","Close Saved")},group:"1_close",order:40}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitleContext,{command:{id:x.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,title:s.localize("closeAll","Close All")},group:"1_close",order:50}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitleContext,{command:{id:x.KEEP_EDITOR_COMMAND_ID,title:s.localize("keepOpen","Keep Open")},group:"3_preview",order:10,when:M.ContextKeyExpr.has("config.workbench.editor.enablePreview")}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitleContext,{command:{id:x.SPLIT_EDITOR_UP,
title:s.localize("splitUp","Split Up")},group:"5_split",order:10}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitleContext,{command:{id:x.SPLIT_EDITOR_DOWN,title:s.localize("splitDown","Split Down")},group:"5_split",order:20}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitleContext,{command:{id:x.SPLIT_EDITOR_LEFT,title:s.localize("splitLeft","Split Left")},group:"5_split",order:30}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitleContext,{command:{id:x.SPLIT_EDITOR_RIGHT,title:s.localize("splitRight","Split Right")},group:"5_split",order:40}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitle,{command:{id:x.TOGGLE_DIFF_SIDE_BY_SIDE,title:s.localize("toggleSideBySideView","Toggle Side By Side View")},group:"1_diff",order:10,when:M.ContextKeyExpr.has("isInDiffEditor")}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitle,{command:{id:x.SHOW_EDITORS_IN_GROUP,title:s.localize("showOpenedEditors","Show Opened Editors")},group:"3_open",order:10,when:M.ContextKeyExpr.has("config.workbench.editor.showTabs")}),
I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitle,{command:{id:x.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,title:s.localize("closeAll","Close All")},group:"5_close",order:10,when:M.ContextKeyExpr.has("config.workbench.editor.showTabs")}),I.MenuRegistry.appendMenuItem(I.MenuId.EditorTitle,{command:{id:x.CLOSE_SAVED_EDITORS_COMMAND_ID,title:s.localize("closeAllSaved","Close Saved")},group:"5_close",order:20,when:M.ContextKeyExpr.has("config.workbench.editor.showTabs")}),B({id:A.SplitEditorAction.ID,title:s.localize("splitEditorRight","Split Editor Right"),iconDark:"split-editor-horizontal-inverse.svg",iconLight:"split-editor-horizontal.svg"},M.ContextKeyExpr.not("splitEditorsVertically"),1e5,{id:x.SPLIT_EDITOR_DOWN,title:s.localize("splitEditorDown","Split Editor Down"),iconDark:"split-editor-vertical-inverse.svg",iconLight:"split-editor-vertical.svg"}),B({id:A.SplitEditorAction.ID,title:s.localize("splitEditorDown","Split Editor Down"),iconDark:"split-editor-vertical-inverse.svg",iconLight:"split-editor-vertical.svg"
},M.ContextKeyExpr.has("splitEditorsVertically"),1e5,{id:x.SPLIT_EDITOR_RIGHT,title:s.localize("splitEditorRight","Split Editor Right"),iconDark:"split-editor-horizontal-inverse.svg",iconLight:"split-editor-horizontal.svg"}),B({id:x.CLOSE_EDITOR_COMMAND_ID,title:s.localize("close","Close"),iconDark:"close-big-inverse-alt.svg",iconLight:"close-big-alt.svg"},M.ContextKeyExpr.and(M.ContextKeyExpr.not("config.workbench.editor.showTabs"),M.ContextKeyExpr.not("groupActiveEditorDirty")),1e6,{id:x.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,title:s.localize("closeAll","Close All"),iconDark:"closeall-editors-inverse.svg",iconLight:"closeall-editors.svg"}),B({id:x.CLOSE_EDITOR_COMMAND_ID,title:s.localize("close","Close"),iconDark:"close-dirty-inverse-alt.svg",iconLight:"close-dirty-alt.svg"},M.ContextKeyExpr.and(M.ContextKeyExpr.not("config.workbench.editor.showTabs"),M.ContextKeyExpr.has("groupActiveEditorDirty")),1e6,{id:x.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,title:s.localize("closeAll","Close All"),
iconDark:"closeall-editors-inverse.svg",iconLight:"closeall-editors.svg"}),B({id:x.GOTO_PREVIOUS_CHANGE,title:s.localize("navigate.prev.label","Previous Change"),iconDark:"previous-diff-inverse.svg",iconLight:"previous-diff.svg"},d.TextCompareEditorActiveContext,10),B({id:x.GOTO_NEXT_CHANGE,title:s.localize("navigate.next.label","Next Change"),iconDark:"next-diff-inverse.svg",iconLight:"next-diff.svg"},d.TextCompareEditorActiveContext,11),B({id:x.TOGGLE_DIFF_IGNORE_TRIM_WHITESPACE,title:s.localize("ignoreTrimWhitespace.label","Ignore Trim Whitespace"),iconDark:"paragraph-inverse.svg",iconLight:"paragraph.svg"},M.ContextKeyExpr.and(d.TextCompareEditorActiveContext,M.ContextKeyExpr.notEquals("config.diffEditor.ignoreTrimWhitespace",!0)),20),B({id:x.TOGGLE_DIFF_IGNORE_TRIM_WHITESPACE,title:s.localize("showTrimWhitespace.label","Show Trim Whitespace"),iconDark:"paragraph-disabled-inverse.svg",iconLight:"paragraph-disabled.svg"
},M.ContextKeyExpr.and(d.TextCompareEditorActiveContext,M.ContextKeyExpr.notEquals("config.diffEditor.ignoreTrimWhitespace",!1)),20),I.MenuRegistry.appendMenuItem(I.MenuId.CommandPalette,{command:{id:x.KEEP_EDITOR_COMMAND_ID,title:{value:s.localize("keepEditor","Keep Editor"),original:"View: Keep Editor"},category:H},when:M.ContextKeyExpr.has("config.workbench.editor.enablePreview")}),I.MenuRegistry.appendMenuItem(I.MenuId.CommandPalette,{command:{id:x.CLOSE_EDITORS_IN_GROUP_COMMAND_ID,title:{value:s.localize("closeEditorsInGroup","Close All Editors in Group"),original:"View: Close All Editors in Group"},category:H}}),I.MenuRegistry.appendMenuItem(I.MenuId.CommandPalette,{command:{id:x.CLOSE_SAVED_EDITORS_COMMAND_ID,title:{value:s.localize("closeSavedEditors","Close Saved Editors in Group"),original:"View: Close Saved Editors in Group"},category:H}}),I.MenuRegistry.appendMenuItem(I.MenuId.CommandPalette,{command:{id:x.CLOSE_OTHER_EDITORS_IN_GROUP_COMMAND_ID,title:{
value:s.localize("closeOtherEditors","Close Other Editors in Group"),original:"View: Close Other Editors in Group"},category:H}}),I.MenuRegistry.appendMenuItem(I.MenuId.CommandPalette,{command:{id:x.CLOSE_EDITORS_TO_THE_RIGHT_COMMAND_ID,title:{value:s.localize("closeRightEditors","Close Editors to the Right in Group"),original:"View: Close Editors to the Right in Group"},category:H}}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarRecentMenu,{group:"1_editor",command:{id:A.ReopenClosedEditorAction.ID,title:s.localize({key:"miReopenClosedEditor",comment:["&& denotes a mnemonic"]},"&&Reopen Closed Editor")},order:1}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarRecentMenu,{group:"z_clear",command:{id:A.ClearRecentFilesAction.ID,title:s.localize({key:"miClearRecentOpen",comment:["&& denotes a mnemonic"]},"&&Clear Recently Opened")},order:1}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarViewMenu,{group:"2_appearance",title:s.localize({key:"miEditorLayout",comment:["&& denotes a mnemonic"]},"Editor &&Layout"),
submenu:I.MenuId.MenubarLayoutMenu,order:2}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarLayoutMenu,{group:"1_split",command:{id:x.SPLIT_EDITOR_UP,title:s.localize({key:"miSplitEditorUp",comment:["&& denotes a mnemonic"]},"Split &&Up")},order:1}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarLayoutMenu,{group:"1_split",command:{id:x.SPLIT_EDITOR_DOWN,title:s.localize({key:"miSplitEditorDown",comment:["&& denotes a mnemonic"]},"Split &&Down")},order:2}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarLayoutMenu,{group:"1_split",command:{id:x.SPLIT_EDITOR_LEFT,title:s.localize({key:"miSplitEditorLeft",comment:["&& denotes a mnemonic"]},"Split &&Left")},order:3}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarLayoutMenu,{group:"1_split",command:{id:x.SPLIT_EDITOR_RIGHT,title:s.localize({key:"miSplitEditorRight",comment:["&& denotes a mnemonic"]},"Split &&Right")},order:4}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarLayoutMenu,{group:"2_layouts",command:{id:A.EditorLayoutSingleAction.ID,title:s.localize({
key:"miSingleColumnEditorLayout",comment:["&& denotes a mnemonic"]},"&&Single")},order:1}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarLayoutMenu,{group:"2_layouts",command:{id:A.EditorLayoutTwoColumnsAction.ID,title:s.localize({key:"miTwoColumnsEditorLayout",comment:["&& denotes a mnemonic"]},"&&Two Columns")},order:3}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarLayoutMenu,{group:"2_layouts",command:{id:A.EditorLayoutThreeColumnsAction.ID,title:s.localize({key:"miThreeColumnsEditorLayout",comment:["&& denotes a mnemonic"]},"T&&hree Columns")},order:4}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarLayoutMenu,{group:"2_layouts",command:{id:A.EditorLayoutTwoRowsAction.ID,title:s.localize({key:"miTwoRowsEditorLayout",comment:["&& denotes a mnemonic"]},"T&&wo Rows")},order:5}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarLayoutMenu,{group:"2_layouts",command:{id:A.EditorLayoutThreeRowsAction.ID,title:s.localize({key:"miThreeRowsEditorLayout",comment:["&& denotes a mnemonic"]},"Three &&Rows")},order:6}),
I.MenuRegistry.appendMenuItem(I.MenuId.MenubarLayoutMenu,{group:"2_layouts",command:{id:A.EditorLayoutTwoByTwoGridAction.ID,title:s.localize({key:"miTwoByTwoGridEditorLayout",comment:["&& denotes a mnemonic"]},"&&Grid (2x2)")},order:7}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarLayoutMenu,{group:"2_layouts",command:{id:A.EditorLayoutTwoRowsRightAction.ID,title:s.localize({key:"miTwoRowsRightEditorLayout",comment:["&& denotes a mnemonic"]},"Two R&&ows Right")},order:8}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarLayoutMenu,{group:"2_layouts",command:{id:A.EditorLayoutTwoColumnsBottomAction.ID,title:s.localize({key:"miTwoColumnsBottomEditorLayout",comment:["&& denotes a mnemonic"]},"Two &&Columns Bottom")},order:9}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarGoMenu,{group:"1_fwd_back",command:{id:"workbench.action.navigateBack",title:s.localize({key:"miBack",comment:["&& denotes a mnemonic"]},"&&Back"),precondition:M.ContextKeyExpr.has("canNavigateBack")},order:1}),
I.MenuRegistry.appendMenuItem(I.MenuId.MenubarGoMenu,{group:"1_fwd_back",command:{id:"workbench.action.navigateForward",title:s.localize({key:"miForward",comment:["&& denotes a mnemonic"]},"&&Forward"),precondition:M.ContextKeyExpr.has("canNavigateForward")},order:2}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchEditorMenu,{group:"1_any",command:{id:"workbench.action.nextEditor",title:s.localize({key:"miNextEditor",comment:["&& denotes a mnemonic"]},"&&Next Editor")},order:1}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchEditorMenu,{group:"1_any",command:{id:"workbench.action.previousEditor",title:s.localize({key:"miPreviousEditor",comment:["&& denotes a mnemonic"]},"&&Previous Editor")},order:2}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchEditorMenu,{group:"2_used",command:{id:"workbench.action.openNextRecentlyUsedEditorInGroup",title:s.localize({key:"miNextEditorInGroup",comment:["&& denotes a mnemonic"]},"&&Next Used Editor in Group")},order:1}),
I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchEditorMenu,{group:"2_used",command:{id:"workbench.action.openPreviousRecentlyUsedEditorInGroup",title:s.localize({key:"miPreviousEditorInGroup",comment:["&& denotes a mnemonic"]},"&&Previous Used Editor in Group")},order:2}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarGoMenu,{group:"2_switch",title:s.localize({key:"miSwitchEditor",comment:["&& denotes a mnemonic"]},"Switch &&Editor"),submenu:I.MenuId.MenubarSwitchEditorMenu,order:1}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusFirstEditorGroup",title:s.localize({key:"miFocusFirstGroup",comment:["&& denotes a mnemonic"]},"Group &&1")},order:1}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusSecondEditorGroup",title:s.localize({key:"miFocusSecondGroup",comment:["&& denotes a mnemonic"]},"Group &&2")},order:2}),
I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusThirdEditorGroup",title:s.localize({key:"miFocusThirdGroup",comment:["&& denotes a mnemonic"]},"Group &&3")},order:3}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusFourthEditorGroup",title:s.localize({key:"miFocusFourthGroup",comment:["&& denotes a mnemonic"]},"Group &&4")},order:4}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusFifthEditorGroup",title:s.localize({key:"miFocusFifthGroup",comment:["&& denotes a mnemonic"]},"Group &&5")},order:5}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchGroupMenu,{group:"2_next_prev",command:{id:"workbench.action.focusNextGroup",title:s.localize({key:"miNextGroup",comment:["&& denotes a mnemonic"]},"&&Next Group")},order:1}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchGroupMenu,{
group:"2_next_prev",command:{id:"workbench.action.focusPreviousGroup",title:s.localize({key:"miPreviousGroup",comment:["&& denotes a mnemonic"]},"&&Previous Group")},order:2}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchGroupMenu,{group:"3_directional",command:{id:"workbench.action.focusLeftGroup",title:s.localize({key:"miFocusLeftGroup",comment:["&& denotes a mnemonic"]},"Group &&Left")},order:1}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchGroupMenu,{group:"3_directional",command:{id:"workbench.action.focusRightGroup",title:s.localize({key:"miFocusRightGroup",comment:["&& denotes a mnemonic"]},"Group &&Right")},order:2}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchGroupMenu,{group:"3_directional",command:{id:"workbench.action.focusAboveGroup",title:s.localize({key:"miFocusAboveGroup",comment:["&& denotes a mnemonic"]},"Group &&Above")},order:3}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarSwitchGroupMenu,{group:"3_directional",command:{id:"workbench.action.focusBelowGroup",
title:s.localize({key:"miFocusBelowGroup",comment:["&& denotes a mnemonic"]},"Group &&Below")},order:4}),I.MenuRegistry.appendMenuItem(I.MenuId.MenubarGoMenu,{group:"2_switch",title:s.localize({key:"miSwitchGroup",comment:["&& denotes a mnemonic"]},"Switch &&Group"),submenu:I.MenuId.MenubarSwitchGroupMenu,order:2})}),define(e[223],t([1,0,149,7,84,122,19,4,51,2,116,23,9,10,33,3,32,28,49,31,26,11,101,74,75,104,221,89,15,83,53,68,244]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var L=function(e){function t(t,i,n,r,o,s,a,c,l,u,d,p,h,f){var v=e.call(this,p)||this;return v.accessor=i,v.group=n,v.contextMenuService=r,v.instantiationService=o,v.contextKeyService=s,v.keybindingService=a,v.telemetryService=c,v.notificationService=l,v.menuService=u,v.quickOpenService=d,v.extensionService=h,v.configurationService=f,v.groupTransfer=D.LocalSelectionTransfer.getInstance(),v.editorTransfer=D.LocalSelectionTransfer.getInstance(),
v.currentPrimaryEditorActionIds=[],v.currentSecondaryEditorActionIds=[],v.editorToolBarMenuDisposables=[],v.resourceContext=o.createInstance(M.ResourceContextKey),v.contextMenu=v._register(v.menuService.createMenu(g.MenuId.EditorTitleContext,v.contextKeyService)),v.create(t),v.registerListeners(),v}return i(t,e),t.prototype.registerListeners=function(){var e=this;this._register(this.extensionService.onDidRegisterExtensions(function(){return e.updateEditorActionsToolbar()}))},t.prototype.createBreadcrumbsControl=function(e,t){var i=this,n=this._register(x.BreadcrumbsConfig.IsEnabled.bindTo(this.configurationService));this._register(n.onDidChange(function(){var r=n.getValue();!r&&i.breadcrumbsControl?(i.breadcrumbsControl.dispose(),i.breadcrumbsControl=void 0,i.handleBreadcrumbsEnablementChange()):r&&!i.breadcrumbsControl&&(i.breadcrumbsControl=i.instantiationService.createInstance(T.BreadcrumbsControl,e,t,i.group),i.breadcrumbsControl.update(),i.handleBreadcrumbsEnablementChange())})),
n.getValue()&&(this.breadcrumbsControl=this.instantiationService.createInstance(T.BreadcrumbsControl,e,t,this.group))},t.prototype.createEditorActionsToolBar=function(e){var t=this,i={groupId:this.group.id};this.editorActionsToolbar=this._register(new c.ToolBar(e,this.contextMenuService,{actionItemProvider:function(e){return t.actionItemProvider(e)},orientation:0,ariaLabel:p.localize("araLabelEditorActions","Editor actions"),getKeyBinding:function(e){return t.getKeybinding(e)},actionRunner:this._register(new O.EditorCommandsContextActionRunner(i))})),this.editorActionsToolbar.context=i,this._register(this.editorActionsToolbar.actionRunner.onDidRun(function(e){t.notificationService.error(e.error),t.telemetryService&&t.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"editorPart"})}))},t.prototype.actionItemProvider=function(e){var t,i=this.group.activeControl;return i instanceof A.BaseEditor&&(t=i.getActionItem(e)),
t||(t=h.createActionItem(e,this.keybindingService,this.notificationService,this.contextMenuService)),t},t.prototype.updateEditorActionsToolbar=function(){var e=this.prepareEditorActions(this.getEditorActions()),t=e.primaryEditorActions,i=e.secondaryEditorActions,n=t.map(function(e){return e.id}),r=i.map(function(e){return e.id});l.equals(n,this.currentPrimaryEditorActionIds)&&l.equals(r,this.currentSecondaryEditorActionIds)&&!t.some(function(e){return e instanceof g.ExecuteCommandAction})&&!i.some(function(e){return e instanceof g.ExecuteCommandAction})||(this.editorActionsToolbar.setActions(t,i)(),this.currentPrimaryEditorActionIds=n,this.currentSecondaryEditorActionIds=r)},t.prototype.prepareEditorActions=function(e){var t,i;return t=this.accessor.activeGroup===this.group?_.prepareActions(e.primary):[],i=_.prepareActions(e.secondary),{primaryEditorActions:t,secondaryEditorActions:i}},t.prototype.getEditorActions=function(){var e=this,t=[],i=[]
;this.editorToolBarMenuDisposables=u.dispose(this.editorToolBarMenuDisposables),this.resourceContext.set(O.toResource(this.group.activeEditor,{supportSideBySide:!0}));var n=this.group.activeControl;if(n instanceof A.BaseEditor){var r=d.getCodeEditor(n.getControl()),o=r&&r.invokeWithinContext(function(e){return e.get(v.IContextKeyService)})||this.contextKeyService,s=this.menuService.createMenu(g.MenuId.EditorTitle,o);this.editorToolBarMenuDisposables.push(s),this.editorToolBarMenuDisposables.push(s.onDidChange(function(){e.updateEditorActionsToolbar()})),h.fillInActionBarActions(s,{arg:this.resourceContext.get(),shouldForwardArgs:!0},{primary:t,secondary:i})}return{primary:t,secondary:i}},t.prototype.clearEditorActionsToolbar=function(){this.editorActionsToolbar.setActions([],[])(),this.currentPrimaryEditorActionIds=[],this.currentSecondaryEditorActionIds=[]},t.prototype.enableGroupDragging=function(e){var t=this;this._register(s.addDisposableListener(e,s.EventType.DRAG_START,function(i){if(i.target===e){
if(t.groupTransfer.setData([new D.DraggedEditorGroupIdentifier(t.group.id)],D.DraggedEditorGroupIdentifier.prototype),i.dataTransfer.effectAllowed="copyMove",!t.accessor.partOptions.showTabs){var r=O.toResource(t.group.activeEditor,{supportSideBySide:!0});r&&t.instantiationService.invokeFunction(D.fillResourceDataTransfers,[r],i)}var o=t.group.activeEditor.getName();t.accessor.partOptions.showTabs&&t.group.count>1&&(o=p.localize("draggedEditorGroup","{0} (+{1})",o,t.group.count-1)),n.applyDragImage(i,o,"monaco-editor-group-drag-image")}})),this._register(s.addDisposableListener(e,s.EventType.DRAG_END,function(){t.groupTransfer.clearData(D.DraggedEditorGroupIdentifier.prototype)}))},t.prototype.onContextMenu=function(e,t,i){var n=this,r=this.resourceContext.get();this.resourceContext.set(O.toResource(e,{supportSideBySide:!0}));var o=i;if(t instanceof MouseEvent){var s=new a.StandardMouseEvent(t);o={x:s.posx,y:s.posy}}var c=[];h.fillInContextMenuActions(this.contextMenu,{shouldForwardArgs:!0,
arg:this.resourceContext.get()},c,this.contextMenuService),this.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return Promise.resolve(c)},getActionsContext:function(){return{groupId:n.group.id,editorIndex:n.group.getIndexOfEditor(e)}},getKeyBinding:function(e){return n.getKeybinding(e)},onHide:function(){n.resourceContext.set(r),n.accessor.activeGroup.focus()}})},t.prototype.getKeybinding=function(e){return this.keybindingService.lookupKeybinding(e.id)},t.prototype.getKeybindingLabel=function(e){var t=this.getKeybinding(e);return t?t.getLabel():void 0},t.prototype.layout=function(e){this.breadcrumbsControl&&this.breadcrumbsControl.layout(void 0)},t.prototype.getPreferredHeight=function(){return R.EDITOR_TITLE_HEIGHT+(this.breadcrumbsControl&&!this.breadcrumbsControl.isHidden()?T.BreadcrumbsControl.HEIGHT:0)},t.prototype.dispose=function(){this.breadcrumbsControl=u.dispose(this.breadcrumbsControl),
this.editorToolBarMenuDisposables=u.dispose(this.editorToolBarMenuDisposables),e.prototype.dispose.call(this)},t=r([o(3,m.IContextMenuService),o(4,y.IInstantiationService),o(5,v.IContextKeyService),o(6,S.IKeybindingService),o(7,w.ITelemetryService),o(8,b.INotificationService),o(9,g.IMenuService),o(10,E.IQuickOpenService),o(11,I.IThemeService),o(12,P.IExtensionService),o(13,f.IConfigurationService)],t)}(k.Themable);t.TitleControl=L,I.registerThemingParticipant(function(e,t){var i=e.getColor(C.listActiveSelectionBackground),n=e.getColor(C.listActiveSelectionForeground);t.addRule("\n\t\t.monaco-editor-group-drag-image {\n\t\t\tbackground: "+i+";\n\t\t\tcolor: "+n+";\n\t\t}\n\t")})}),define(e[390],t([1,0,15,223,59,53,123,7,89,105,73,427]),function(e,t,n,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeLabel=Object.create(null),t}return i(t,e),t.prototype.create=function(e){var t=this
;this.titleContainer=e,this.titleContainer.draggable=!0,this.registerContainerListeners(),a.Gesture.addTarget(this.titleContainer);var i=document.createElement("div");c.addClass(i,"label-container"),this.titleContainer.appendChild(i),this.editorLabel=this._register(this.instantiationService.createInstance(o.ResourceLabel,i,void 0)),this._register(this.editorLabel.onClick(function(e){return t.onTitleLabelClick(e)})),this.createBreadcrumbsControl(i,{showFileIcons:!1,showSymbolIcons:!0,showDecorationColors:!1,breadcrumbsBackground:function(){return d.Color.transparent}}),c.toggleClass(this.titleContainer,"breadcrumbs",Boolean(this.breadcrumbsControl)),this.toDispose.push({dispose:function(){return c.removeClass(t.titleContainer,"breadcrumbs")}});var n=document.createElement("div");c.addClass(n,"title-actions"),this.titleContainer.appendChild(n),this.createEditorActionsToolBar(n)},t.prototype.registerContainerListeners=function(){var e=this;this.enableGroupDragging(this.titleContainer),
this._register(c.addDisposableListener(this.titleContainer,c.EventType.DBLCLICK,function(t){return e.onTitleDoubleClick(t)})),this._register(c.addDisposableListener(this.titleContainer,c.EventType.CLICK,function(t){return e.onTitleClick(t)})),this._register(c.addDisposableListener(this.titleContainer,a.EventType.Tap,function(t){return e.onTitleClick(t)})),this._register(c.addDisposableListener(this.titleContainer,c.EventType.CONTEXT_MENU,function(t){return e.onContextMenu(e.group.activeEditor,t,e.titleContainer)})),this._register(c.addDisposableListener(this.titleContainer,a.EventType.Contextmenu,function(t){return e.onContextMenu(e.group.activeEditor,t,e.titleContainer)}))},t.prototype.onTitleLabelClick=function(e){var t=this;c.EventHelper.stop(e,!1),setTimeout(function(){return t.quickOpenService.show()})},t.prototype.onTitleDoubleClick=function(e){c.EventHelper.stop(e),this.group.pinEditor()},t.prototype.onTitleClick=function(e){e instanceof MouseEvent&&1===e.button&&(c.EventHelper.stop(e,!0),
this.group.closeEditor(this.group.activeEditor))},t.prototype.getPreferredHeight=function(){return l.EDITOR_TITLE_HEIGHT},t.prototype.openEditor=function(e){var t=this;this.ifActiveEditorChanged(function(){return t.redraw()})||this.ifActiveEditorPropertiesChanged(function(){return t.redraw()})},t.prototype.closeEditor=function(e){var t=this;this.ifActiveEditorChanged(function(){return t.redraw()})},t.prototype.closeEditors=function(e){var t=this;this.ifActiveEditorChanged(function(){return t.redraw()})},t.prototype.closeAllEditors=function(){this.redraw()},t.prototype.moveEditor=function(e,t,i){var n=this;this.ifActiveEditorChanged(function(){return n.redraw()})},t.prototype.pinEditor=function(e){var t=this;this.ifEditorIsActive(e,function(){return t.redraw()})},t.prototype.setActive=function(e){this.redraw()},t.prototype.updateEditorLabel=function(e){var t=this;this.ifEditorIsActive(e,function(){return t.redraw()})},t.prototype.updateEditorDirty=function(e){var t=this;this.ifEditorIsActive(e,function(){
e.isDirty()?c.addClass(t.titleContainer,"dirty"):c.removeClass(t.titleContainer,"dirty")})},t.prototype.updateOptions=function(e,t){e.labelFormat!==t.labelFormat&&this.redraw()},t.prototype.updateStyles=function(){this.redraw()},t.prototype.handleBreadcrumbsEnablementChange=function(){c.toggleClass(this.titleContainer,"breadcrumbs",Boolean(this.breadcrumbsControl)),this.redraw()},t.prototype.ifActiveEditorChanged=function(e){return!(!(!this.activeLabel.editor&&this.group.activeEditor||this.activeLabel.editor&&!this.group.activeEditor)&&this.group.isActive(this.activeLabel.editor))&&(e(),!0)},t.prototype.ifActiveEditorPropertiesChanged=function(e){this.activeLabel.editor&&this.group.activeEditor&&this.activeLabel.pinned!==this.group.isPinned(this.group.activeEditor)&&e()},t.prototype.ifEditorIsActive=function(e,t){this.group.isActive(e)&&t()},t.prototype.redraw=function(){var e=this.group.activeEditor,t=this.group.isPinned(this.group.activeEditor),i=this.accessor.activeGroup===this.group;if(this.activeLabel={
editor:e,pinned:t},this.breadcrumbsControl&&(i?(this.breadcrumbsControl.update(),c.toggleClass(this.breadcrumbsControl.domNode,"preview",!t)):this.breadcrumbsControl.hide()),e){this.updateEditorDirty(e);var r=n.toResource(e,{supportSideBySide:!0}),o=e.getName()||"",a=this.accessor.partOptions.labelFormat,l=void 0;l=this.breadcrumbsControl&&!this.breadcrumbsControl.isHidden()?"":"default"!==a||i?e.getDescription(this.getVerbosity(a))||"":"";var u=e.getTitle(2);l===u&&(u=""),this.editorLabel.setLabel({name:o,description:l,resource:r},{title:u,italic:!t,extraClasses:["no-tabs","title-label"]}),this.editorLabel.element.style.color=i?this.getColor(s.TAB_ACTIVE_FOREGROUND):this.getColor(s.TAB_UNFOCUSED_ACTIVE_FOREGROUND),this.updateEditorActionsToolbar()}else c.removeClass(this.titleContainer,"dirty"),this.editorLabel.clear(),this.clearEditorActionsToolbar()},t.prototype.getVerbosity=function(e){switch(e){case"short":return 0;case"long":return 2;default:return 1}},t.prototype.prepareEditorActions=function(t){
return this.accessor.activeGroup===this.group?e.prototype.prepareEditorActions.call(this,t):{primaryEditorActions:t.primary.filter(function(e){return e.id===u.CLOSE_EDITOR_COMMAND_ID}),secondaryEditorActions:[]}},t}(r.TitleControl);t.NoTabsTitleControl=p}),define(e[391],t([1,0,20,80,15,66,123,59,46,33,31,3,32,10,23,223,49,4,220,132,39,11,53,26,74,28,68,55,7,2,165,9,221,243]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var F=function(e){function t(t,i,n,r,o,s,a,c,l,u,d,p,h,g,f){var v=e.call(this,t,i,n,r,o,a,c,l,u,d,p,h,g,f)||this;return v.untitledEditorService=s,v.tabLabelWidgets=[],v.tabLabels=[],v.tabDisposeables=[],v}return i(t,e),t.prototype.create=function(e){this.titleContainer=e,this.tabsContainer=document.createElement("div"),this.tabsContainer.setAttribute("role","tablist"),this.tabsContainer.draggable=!0,O.addClass(this.tabsContainer,"tabs-container"),this.registerContainerListeners(),this.createScrollbar(),
this.editorToolbarContainer=document.createElement("div"),O.addClass(this.editorToolbarContainer,"editor-actions"),this.titleContainer.appendChild(this.editorToolbarContainer),this.createEditorActionsToolBar(this.editorToolbarContainer),this.closeOneEditorAction=this._register(this.instantiationService.createInstance(k.CloseOneEditorAction,k.CloseOneEditorAction.ID,k.CloseOneEditorAction.LABEL));var t=document.createElement("div");O.addClass(t,"tabs-breadcrumbs"),this.titleContainer.appendChild(t),this.createBreadcrumbsControl(t,{showFileIcons:!0,showSymbolIcons:!0,showDecorationColors:!1,breadcrumbsBackground:D.breadcrumbsBackground})},t.prototype.createScrollbar=function(){var e=this;this.scrollbar=new E.ScrollableElement(this.tabsContainer,{horizontal:w.ScrollbarVisibility.Auto,vertical:w.ScrollbarVisibility.Hidden,scrollYToX:!0,useShadows:!1,horizontalScrollbarSize:3}),this.scrollbar.onScroll(function(t){e.tabsContainer.scrollLeft=t.scrollLeft}),this.titleContainer.appendChild(this.scrollbar.getDomNode())
},t.prototype.updateBreadcrumbsControl=function(){this.breadcrumbsControl&&this.breadcrumbsControl.update()&&this.group.relayout()},t.prototype.handleBreadcrumbsEnablementChange=function(){this.group.relayout()},t.prototype.registerContainerListeners=function(){var e=this;this.enableGroupDragging(this.tabsContainer),this._register(O.addDisposableListener(this.tabsContainer,O.EventType.SCROLL,function(){O.hasClass(e.tabsContainer,"scroll")&&e.scrollbar.setScrollPosition({scrollLeft:e.tabsContainer.scrollLeft})})),this._register(O.addDisposableListener(this.tabsContainer,O.EventType.DBLCLICK,function(t){t.target===e.tabsContainer&&(O.EventHelper.stop(t),e.group.openEditor(e.untitledEditorService.createOrGet(),{pinned:!0,index:e.group.count}))})),this._register(O.addDisposableListener(this.tabsContainer,O.EventType.MOUSE_DOWN,function(e){1===e.button&&e.preventDefault()})),this._register(new A.DragAndDropObserver(this.tabsContainer,{onDragEnter:function(t){if(O.addClass(e.tabsContainer,"scroll"),
t.target===e.tabsContainer)if(e.isSupportedDropTransfer(t)){var i=!1;if(e.editorTransfer.hasData(A.DraggedEditorIdentifier.prototype)){i=!0;var n=e.editorTransfer.getData(A.DraggedEditorIdentifier.prototype)[0].identifier;if(e.group.id===n.groupId&&e.group.getIndexOfEditor(n.editor)===e.group.count-1)return void(t.dataTransfer.dropEffect="none")}i||(t.dataTransfer.dropEffect="copy"),e.updateDropFeedback(e.tabsContainer,!0)}else t.dataTransfer.dropEffect="none";else e.updateDropFeedback(e.tabsContainer,!1)},onDragLeave:function(t){e.updateDropFeedback(e.tabsContainer,!1),O.removeClass(e.tabsContainer,"scroll")},onDragEnd:function(t){e.updateDropFeedback(e.tabsContainer,!1),O.removeClass(e.tabsContainer,"scroll")},onDrop:function(t){e.updateDropFeedback(e.tabsContainer,!1),O.removeClass(e.tabsContainer,"scroll"),t.target===e.tabsContainer&&e.onDrop(t,e.group.count)}}))},t.prototype.updateEditorActionsToolbar=function(){e.prototype.updateEditorActionsToolbar.call(this),this.layout(this.dimension)},
t.prototype.openEditor=function(e){for(var t=this.tabsContainer.children.length;t<this.group.count;t++)this.tabsContainer.appendChild(this.createTab(t));this.computeTabLabels(),this.redraw(),this.updateBreadcrumbsControl()},t.prototype.closeEditor=function(e){this.handleClosedEditors()},t.prototype.closeEditors=function(e){this.handleClosedEditors()},t.prototype.closeAllEditors=function(){this.handleClosedEditors()},t.prototype.handleClosedEditors=function(){if(this.group.activeEditor){for(;this.tabsContainer.children.length>this.group.count;)this.tabsContainer.lastChild.remove(),this.tabLabelWidgets.pop(),this.tabDisposeables.pop().dispose();this.computeTabLabels(),this.redraw()}else O.clearNode(this.tabsContainer),this.tabDisposeables=b.dispose(this.tabDisposeables),this.tabLabelWidgets=[],this.tabLabels=[],this.clearEditorActionsToolbar();this.updateBreadcrumbsControl()},t.prototype.moveEditor=function(e,t,i){var n=this,r=this.tabLabels[t];this.tabLabels.splice(t,1),this.tabLabels.splice(i,0,r),
this.forEachTab(function(e,t,i,r,o){n.redrawTab(e,t,i,r,o)}),this.layout(this.dimension)},t.prototype.pinEditor=function(e){var t=this;this.withTab(e,function(i,n,r){return t.redrawLabel(e,i,n,r)})},t.prototype.setActive=function(e){var t=this;this.forEachTab(function(i,n,r,o,s){t.redrawEditorActive(e,i,r,o)}),this.updateEditorActionsToolbar(),this.layout(this.dimension)},t.prototype.updateEditorLabel=function(e){var t=this;this.computeTabLabels(),this.forEachTab(function(e,i,n,r,o){t.redrawLabel(e,n,r,o)}),this.layout(this.dimension)},t.prototype.updateEditorDirty=function(e){var t=this;this.withTab(e,function(i){return t.redrawEditorDirty(e,i)})},t.prototype.updateOptions=function(e,t){e.labelFormat!==t.labelFormat&&this.computeTabLabels(),e.labelFormat===t.labelFormat&&e.tabCloseButton===t.tabCloseButton&&e.tabSizing===t.tabSizing&&e.showIcons===t.showIcons&&e.iconTheme===t.iconTheme||this.redraw()},t.prototype.updateStyles=function(){this.redraw()},t.prototype.withTab=function(e,t){
var i=this.group.getIndexOfEditor(e),n=this.tabsContainer.children[i];n&&t(n,this.tabLabelWidgets[i],this.tabLabels[i])},t.prototype.createTab=function(e){var t=this,i=document.createElement("div");i.draggable=!0,i.tabIndex=0,i.setAttribute("role","presentation"),O.addClass(i,"tab"),l.Gesture.addTarget(i);var n=document.createElement("div");O.addClass(n,"tab-border-top-container"),i.appendChild(n);var r=this.instantiationService.createInstance(u.ResourceLabel,i,void 0);this.tabLabelWidgets.push(r);var o=document.createElement("div");O.addClass(o,"tab-close"),i.appendChild(o);var s=document.createElement("div");O.addClass(s,"tab-border-bottom-container"),i.appendChild(s);var c=new a.EditorCommandsContextActionRunner({groupId:this.group.id,editorIndex:e}),p=new d.ActionBar(o,{ariaLabel:M.localize("araLabelTabActions","Tab actions"),actionRunner:c});p.push(this.closeOneEditorAction,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(this.closeOneEditorAction)}),p.onDidBeforeRun(function(){
return t.blockRevealActiveTabOnce()});var h=this.registerTabListeners(i,e);return this.tabDisposeables.push(b.combinedDisposable([h,p,c,r])),i},t.prototype.registerTabListeners=function(e,t){var i=this,n=[],r=function(n){e.blur(),n instanceof MouseEvent&&0!==n.button?1===n.button&&n.preventDefault():i.originatesFromTabActionBar(n)||i.group.openEditor(i.group.getEditor(t))},o=function(n){O.EventHelper.stop(n),i.onContextMenu(i.group.getEditor(t),n,e)};return n.push(O.addDisposableListener(e,O.EventType.MOUSE_DOWN,function(e){return r(e)})),n.push(O.addDisposableListener(e,l.EventType.Tap,function(e){return r(e)})),n.push(O.addDisposableListener(e,l.EventType.Change,function(e){i.scrollbar.setScrollPosition({scrollLeft:i.scrollbar.getScrollPosition().scrollLeft-e.translationX})})),n.push(O.addDisposableListener(e,O.EventType.MOUSE_UP,function(n){O.EventHelper.stop(n),e.blur(),1!==n.button||i.originatesFromTabActionBar(n)||(n.stopPropagation(),i.blockRevealActiveTabOnce(),i.closeOneEditorAction.run({
groupId:i.group.id,editorIndex:t}))})),n.push(O.addDisposableListener(e,O.EventType.KEY_DOWN,function(e){var t=new c.StandardKeyboardEvent(e);t.shiftKey&&68===t.keyCode&&o(e)})),n.push(O.addDisposableListener(e,l.EventType.Contextmenu,function(e){o(e)})),n.push(O.addDisposableListener(e,O.EventType.KEY_UP,function(e){var n=new c.StandardKeyboardEvent(e),r=!1;if(n.equals(3)||n.equals(10))r=!0,i.group.openEditor(i.group.getEditor(t));else if([15,17,16,18,14,13].some(function(e){return n.equals(e)})){var o=void 0;o=n.equals(15)||n.equals(16)?t-1:n.equals(17)||n.equals(18)?t+1:n.equals(14)?0:i.group.count-1;var s=i.group.getEditor(o);s&&(r=!0,i.group.openEditor(s,{preserveFocus:!0}),i.tabsContainer.childNodes[o].focus())}r&&O.EventHelper.stop(e,!0),i.scrollbar.setScrollPosition({scrollLeft:i.tabsContainer.scrollLeft})})),n.push(O.addDisposableListener(e,O.EventType.DBLCLICK,function(e){O.EventHelper.stop(e),i.group.pinEditor(i.group.getEditor(t))})),
n.push(O.addDisposableListener(e,O.EventType.CONTEXT_MENU,function(n){O.EventHelper.stop(n,!0),i.onContextMenu(i.group.getEditor(t),n,e)},!0)),n.push(O.addDisposableListener(e,O.EventType.DRAG_START,function(n){var r=i.group.getEditor(t);i.editorTransfer.setData([new A.DraggedEditorIdentifier({editor:r,groupId:i.group.id})],A.DraggedEditorIdentifier.prototype),n.dataTransfer.effectAllowed="copyMove";var o=a.toResource(r,{supportSideBySide:!0});o&&i.instantiationService.invokeFunction(A.fillResourceDataTransfers,[o],n),O.addClass(e,"dragged"),O.scheduleAtNextAnimationFrame(function(){return O.removeClass(e,"dragged")})})),n.push(new A.DragAndDropObserver(e,{onDragEnter:function(n){if(O.addClass(e,"dragged-over"),i.isSupportedDropTransfer(n)){var r=!1;if(i.editorTransfer.hasData(A.DraggedEditorIdentifier.prototype)){r=!0;var o=i.editorTransfer.getData(A.DraggedEditorIdentifier.prototype)[0].identifier;if(o.editor===i.group.getEditor(t)&&o.groupId===i.group.id)return void(n.dataTransfer.dropEffect="none")}
r||(n.dataTransfer.dropEffect="copy"),i.updateDropFeedback(e,!0,t)}else n.dataTransfer.dropEffect="none"},onDragLeave:function(n){O.removeClass(e,"dragged-over"),i.updateDropFeedback(e,!1,t)},onDragEnd:function(n){O.removeClass(e,"dragged-over"),i.updateDropFeedback(e,!1,t),i.editorTransfer.clearData(A.DraggedEditorIdentifier.prototype)},onDrop:function(n){O.removeClass(e,"dragged-over"),i.updateDropFeedback(e,!1,t),i.onDrop(n,t)}})),b.combinedDisposable(n)},t.prototype.isSupportedDropTransfer=function(e){if(this.groupTransfer.hasData(A.DraggedEditorGroupIdentifier.prototype)){return this.groupTransfer.getData(A.DraggedEditorGroupIdentifier.prototype)[0].identifier!==this.group.id}return!!this.editorTransfer.hasData(A.DraggedEditorIdentifier.prototype)||e.dataTransfer.types.length>0},t.prototype.updateDropFeedback=function(e,t,i){var n="number"==typeof i,r=n&&this.group.isActive(this.group.getEditor(i)),o=n?this.getColor(r?_.TAB_ACTIVE_BACKGROUND:_.TAB_INACTIVE_BACKGROUND):null
;e.style.backgroundColor=t?this.getColor(_.EDITOR_DRAG_AND_DROP_BACKGROUND):o;var s=this.getColor(D.activeContrastBorder);s&&t?(e.style.outlineWidth="2px",e.style.outlineStyle="dashed",e.style.outlineColor=s,e.style.outlineOffset=n?"-5px":"-3px"):(e.style.outlineWidth=null,e.style.outlineStyle=null,e.style.outlineColor=s,e.style.outlineOffset=null)},t.prototype.computeTabLabels=function(){var e=this.accessor.partOptions.labelFormat,t=this.getLabelConfigFlags(e),i=t.verbosity,n=t.shortenDuplicates,r=this.group.editors.map(function(e){return{editor:e,name:e.getName(),description:e.getDescription(i),title:e.getTitle(2)}});n&&this.shortenTabLabels(r),this.tabLabels=r},t.prototype.shortenTabLabels=function(e){for(var t=new Map,i=0,n=e;i<n.length;i++){var r=n[i];"string"==typeof r.description?C.getOrSet(t,r.name,[]).push(r):r.description=""}t.forEach(function(e){if(1!==e.length){for(var t=new Map,i=0,n=e;i<n.length;i++){u=n[i];C.getOrSet(t,u.description,[]).push(u)}var r=!1;t.forEach(function(e,t){
if(!r&&e.length>1){var i=e.map(function(e){return e.editor.getDescription(2)}),n=i[0],o=i.slice(1);r=o.some(function(e){return e!==n})}}),r&&(t.clear(),e.forEach(function(e){e.description=e.editor.getDescription(2),C.getOrSet(t,e.description,[]).push(e)}));var o=[];if(t.forEach(function(e,t){return o.push(t)}),1!==o.length){var a=s.shorten(o);o.forEach(function(e,i){for(var n=0,r=t.get(e);n<r.length;n++){r[n].description=a[i]}})}else for(var c=0,l=t.get(o[0]);c<l.length;c++){var u;(u=l[c]).description=""}}else e[0].description=""})},t.prototype.getLabelConfigFlags=function(e){switch(e){case"short":return{verbosity:0,shortenDuplicates:!1};case"medium":return{verbosity:1,shortenDuplicates:!1};case"long":return{verbosity:2,shortenDuplicates:!1};default:return{verbosity:1,shortenDuplicates:!0}}},t.prototype.redraw=function(){var e=this;this.forEachTab(function(t,i,n,r,o){e.redrawTab(t,i,n,r,o)}),this.updateEditorActionsToolbar(),this.layout(this.dimension)},t.prototype.forEachTab=function(e){var t=this
;this.group.editors.forEach(function(i,n){var r=t.tabsContainer.children[n];r&&e(i,n,r,t.tabLabelWidgets[n],t.tabLabels[n])})},t.prototype.redrawTab=function(e,t,i,n,r){this.redrawLabel(e,i,n,r);var o=this.getColor(_.TAB_BORDER)||this.getColor(D.contrastBorder);i.style.borderRight=o?"1px solid "+o:null,i.style.outlineColor=this.getColor(D.activeContrastBorder);var s=this.accessor.partOptions;["off","left","right"].forEach(function(e){(s.tabCloseButton===e?O.addClass:O.removeClass)(i,"close-button-"+e)}),["fit","shrink"].forEach(function(e){(s.tabSizing===e?O.addClass:O.removeClass)(i,"sizing-"+e)}),s.showIcons&&s.iconTheme?O.addClass(i,"has-icon-theme"):O.removeClass(i,"has-icon-theme"),this.redrawEditorActive(this.accessor.activeGroup===this.group,e,i,n),this.redrawEditorDirty(e,i)},t.prototype.redrawLabel=function(e,t,i,n){var r=n.name,o=n.description||"",s=n.title||"";t.setAttribute("aria-label",r+", tab"),t.title=s,i.setLabel({name:r,description:o,resource:a.toResource(e,{supportSideBySide:!0})},{title:s,
extraClasses:["tab-label"],italic:!this.group.isPinned(e)})},t.prototype.redrawEditorActive=function(e,t,i,n){if(this.group.isActive(t)){O.addClass(i,"active"),i.setAttribute("aria-selected","true"),i.style.backgroundColor=this.getColor(_.TAB_ACTIVE_BACKGROUND);var r=this.getColor(e?_.TAB_ACTIVE_BORDER:_.TAB_UNFOCUSED_ACTIVE_BORDER);r?(O.addClass(i,"tab-border-bottom"),i.style.setProperty("--tab-border-bottom-color",r.toString())):(O.removeClass(i,"tab-border-bottom"),i.style.removeProperty("--tab-border-bottom-color"));var o=this.getColor(e?_.TAB_ACTIVE_BORDER_TOP:_.TAB_UNFOCUSED_ACTIVE_BORDER_TOP);o?(O.addClass(i,"tab-border-top"),i.style.setProperty("--tab-border-top-color",o.toString())):(O.removeClass(i,"tab-border-top"),i.style.removeProperty("--tab-border-top-color")),n.element.style.color=this.getColor(e?_.TAB_ACTIVE_FOREGROUND:_.TAB_UNFOCUSED_ACTIVE_FOREGROUND)}else O.removeClass(i,"active"),i.setAttribute("aria-selected","false"),i.style.backgroundColor=this.getColor(_.TAB_INACTIVE_BACKGROUND),
i.style.boxShadow=null,n.element.style.color=this.getColor(e?_.TAB_INACTIVE_FOREGROUND:_.TAB_UNFOCUSED_INACTIVE_FOREGROUND)},t.prototype.redrawEditorDirty=function(e,t){e.isDirty()?O.addClass(t,"dirty"):O.removeClass(t,"dirty")},t.prototype.layout=function(e){var t=this;this.getTab(this.group.activeEditor)&&e&&(this.dimension=e,this.layoutScheduled||(this.layoutScheduled=O.scheduleAtNextAnimationFrame(function(){t.doLayout(t.dimension),t.layoutScheduled=void 0})))},t.prototype.doLayout=function(e){var t=this.getTab(this.group.activeEditor);if(t){this.breadcrumbsControl&&!this.breadcrumbsControl.isHidden()&&(this.breadcrumbsControl.layout({width:e.width,height:L.BreadcrumbsControl.HEIGHT}),this.scrollbar.getDomNode().style.height=e.height-L.BreadcrumbsControl.HEIGHT+"px");var i,n,r=this.tabsContainer.offsetWidth,o=this.tabsContainer.scrollWidth;if(this.blockRevealActiveTab||(i=t.offsetLeft,n=t.offsetWidth),this.scrollbar.setScrollDimensions({width:r,scrollWidth:o}),
this.blockRevealActiveTab)this.blockRevealActiveTab=!1;else{var s=this.scrollbar.getScrollPosition().scrollLeft,a=n<=r;a&&s+r<i+n?this.scrollbar.setScrollPosition({scrollLeft:s+(i+n-(s+r))}):(s>i||!a)&&this.scrollbar.setScrollPosition({scrollLeft:i})}}},t.prototype.getTab=function(e){var t=this.group.getIndexOfEditor(e);if(t>=0)return this.tabsContainer.children[t]},t.prototype.blockRevealActiveTabOnce=function(){this.blockRevealActiveTab=!0},t.prototype.originatesFromTabActionBar=function(e){var t;return t=e instanceof MouseEvent?e.target||e.srcElement:e.initialTarget,!!O.findParentWithClass(t,"monaco-action-bar","tab")},t.prototype.onDrop=function(e,t){var i=this;if(O.EventHelper.stop(e,!0),this.updateDropFeedback(this.tabsContainer,!1),O.removeClass(this.tabsContainer,"scroll"),this.editorTransfer.hasData(A.DraggedEditorIdentifier.prototype)){var n=this.editorTransfer.getData(A.DraggedEditorIdentifier.prototype)[0].identifier,r=this.accessor.getGroup(n.groupId)
;this.isMoveOperation(e,n.groupId)?r.moveEditor(n.editor,this.group,{index:t}):r.copyEditor(n.editor,this.group,{index:t}),this.group.focus(),this.editorTransfer.clearData(A.DraggedEditorIdentifier.prototype)}else if(this.groupTransfer.hasData(A.DraggedEditorGroupIdentifier.prototype)){var r=this.accessor.getGroup(this.groupTransfer.getData(A.DraggedEditorGroupIdentifier.prototype)[0].identifier),o={index:t};this.isMoveOperation(e,r.id)||(o.mode=0),this.accessor.mergeGroup(r,this.group,o),this.group.focus(),this.groupTransfer.clearData(A.DraggedEditorGroupIdentifier.prototype)}else{this.instantiationService.createInstance(A.ResourcesDropHandler,{allowWorkspaceOpen:!1}).handleDrop(e,function(){return i.group},function(){return i.group.focus()},t)}},t.prototype.isMoveOperation=function(e,t){return!(e.ctrlKey&&!n.isMacintosh||e.altKey&&n.isMacintosh)||t===this.group.id},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.layoutScheduled=b.dispose(this.layoutScheduled)},
t=r([o(3,p.IContextMenuService),o(4,g.IInstantiationService),o(5,R.IUntitledEditorService),o(6,v.IContextKeyService),o(7,f.IKeybindingService),o(8,h.ITelemetryService),o(9,x.INotificationService),o(10,m.IMenuService),o(11,S.IQuickOpenService),o(12,I.IThemeService),o(13,T.IExtensionService),o(14,P.IConfigurationService)],t)}(y.TitleControl);t.TabsTitleControl=F,I.registerThemingParticipant(function(e,t){
e.getColor(D.activeContrastBorder)&&t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active,\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active:hover  {\n\t\t\t\toutline: 1px solid;\n\t\t\t\toutline-offset: -5px;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover  {\n\t\t\t\toutline: 1px dashed;\n\t\t\t\toutline-offset: -5px;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active > .tab-close .action-label,\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab.active:hover > .tab-close .action-label,\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab.dirty > .tab-close .action-label,\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover > .tab-close .action-label {\n\t\t\t\topacity: 1 !important;\n\t\t\t}\n\t\t")
;var i=e.getColor(_.TAB_HOVER_BACKGROUND);i&&t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab:hover  {\n\t\t\t\tbackground-color: "+i+" !important;\n\t\t\t}\n\t\t");var n=e.getColor(_.TAB_UNFOCUSED_HOVER_BACKGROUND);n&&t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover  {\n\t\t\t\tbackground-color: "+n+" !important;\n\t\t\t}\n\t\t");var r=e.getColor(_.TAB_HOVER_BORDER);r&&t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container.active > .title .tabs-container > .tab:hover  {\n\t\t\t\tbox-shadow: "+r+" 0 -1px inset !important;\n\t\t\t}\n\t\t");var o=e.getColor(_.TAB_UNFOCUSED_HOVER_BORDER);if(o&&t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container > .title .tabs-container > .tab:hover  {\n\t\t\t\tbox-shadow: "+o+" 0 -1px inset !important;\n\t\t\t}\n\t\t"),"hc"!==e.type){
var s=_.WORKBENCH_BACKGROUND(e),a=e.getColor(D.editorBackground),c=e.getColor(_.EDITOR_GROUP_HEADER_TABS_BACKGROUND),l=e.getColor(_.EDITOR_DRAG_AND_DROP_BACKGROUND),u=void 0;c&&a&&(u=c.flatten(a,a,s));var d=void 0;if(c&&a&&l&&a&&(d=c.flatten(a,l,a,s)),i&&u&&d){var p=i.flatten(u),h=i.flatten(d);t.addRule("\n\t\t\t\t.monaco-workbench > .part.editor > .content:not(.dragged-over) .editor-group-container.active > .title .tabs-container > .tab.sizing-shrink:not(.dragged):hover > .tab-label::after {\n\t\t\t\t\tbackground: linear-gradient(to left, "+p+", transparent) !important;\n\t\t\t\t}\n\n\n\t\t\t\t.monaco-workbench > .part.editor > .content.dragged-over .editor-group-container.active > .title .tabs-container > .tab.sizing-shrink:not(.dragged):hover > .tab-label::after {\n\t\t\t\t\tbackground: linear-gradient(to left, "+h+", transparent) !important;\n\t\t\t\t}\n\t\t\t")}if(n&&u&&d){var p=n.flatten(u),h=n.flatten(d)
;t.addRule("\n\t\t\t\t.monaco-workbench > .part.editor > .content:not(.dragged-over) .editor-group-container > .title .tabs-container > .tab.sizing-shrink:not(.dragged):hover > .tab-label::after {\n\t\t\t\t\tbackground: linear-gradient(to left, "+p+", transparent) !important;\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench > .part.editor > .content.dragged-over .editor-group-container > .title .tabs-container > .tab.sizing-shrink:not(.dragged):hover > .tab-label::after {\n\t\t\t\t\tbackground: linear-gradient(to left, "+h+", transparent) !important;\n\t\t\t\t}\n\t\t\t")}if(l&&d){h=l.flatten(d)
;t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content.dragged-over .editor-group-container.active > .title .tabs-container > .tab.sizing-shrink.dragged-over:not(.active):not(.dragged) > .tab-label::after,\n\t\t\t.monaco-workbench > .part.editor > .content.dragged-over .editor-group-container:not(.active) > .title .tabs-container > .tab.sizing-shrink.dragged-over:not(.dragged) > .tab-label::after {\n\t\t\t\tbackground: linear-gradient(to left, "+h+", transparent) !important;\n\t\t\t}\n\t\t")}var g=e.getColor(_.TAB_ACTIVE_BACKGROUND);if(g&&u&&d){var p=g.flatten(u),h=g.flatten(d)
;t.addRule("\n\t\t\t\t.monaco-workbench > .part.editor > .content:not(.dragged-over) .editor-group-container > .title .tabs-container > .tab.sizing-shrink.active:not(.dragged) > .tab-label::after {\n\t\t\t\t\tbackground: linear-gradient(to left, "+p+", transparent);\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench > .part.editor > .content.dragged-over .editor-group-container > .title .tabs-container > .tab.sizing-shrink.active:not(.dragged) > .tab-label::after {\n\t\t\t\t\tbackground: linear-gradient(to left, "+h+", transparent);\n\t\t\t\t}\n\t\t\t")}var f=e.getColor(_.TAB_INACTIVE_BACKGROUND);if(f&&u&&d){var p=f.flatten(u),h=f.flatten(d)
;t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content:not(.dragged-over) .editor-group-container > .title .tabs-container > .tab.sizing-shrink:not(.dragged) > .tab-label::after {\n\t\t\t\tbackground: linear-gradient(to left, "+p+", transparent);\n\t\t\t}\n\n\t\t\t.monaco-workbench > .part.editor > .content.dragged-over .editor-group-container > .title .tabs-container > .tab.sizing-shrink:not(.dragged) > .tab-label::after {\n\t\t\t\tbackground: linear-gradient(to left, "+h+", transparent);\n\t\t\t}\n\t\t")}}})}),define(e[224],t([1,0,6,2,114,22,35,30,14,69,485,101,29,8,43,59,37,15,126,5,42,54,24,9,3,10,135,11,53,41,47,16,147,52,27,28,7,12,34,63,17,62,57,249]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V,W,G,K,z,H,U){"use strict";function j(e,t){var i=e?e.getResource():void 0;if(i&&(t.canHandleResource(i)||i.scheme===N.Schemas.untitled))return i}Object.defineProperty(t,"__esModule",{value:!0});var q=function(e){function t(i,n,r,o,s,a,c,l){
var u=e.call(this,t.ID,l)||this;return u.editorGroupService=i,u.notificationService=n,u.contextKeyService=r,u.configurationService=o,u.instantiationService=s,u.partService=a,u.environmentService=c,u._onShow=u._register(new w.Emitter),u._onHide=u._register(new w.Emitter),u.mapResolvedHandlersToPrefix=Object.create(null),u.mapContextKeyToContext=Object.create(null),u.handlerOnOpenCalled=Object.create(null),u.promisesToCompleteOnHide=[],u.actionProvider=new g.ContributableActionProvider,u.editorHistoryHandler=u.instantiationService.createInstance(Y),u.updateConfiguration(),u.registerListeners(),u}return i(t,e),Object.defineProperty(t.prototype,"onShow",{get:function(){return this._onShow.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onHide",{get:function(){return this._onHide.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration(function(){return e.updateConfiguration()})),
this._register(this.partService.onTitleBarVisibilityChange(function(){return e.positionQuickOpenWidget()})),this._register(a.onDidChangeZoomLevel(function(){return e.positionQuickOpenWidget()}))},t.prototype.updateConfiguration=function(){this.environmentService.args["sticky-quickopen"]?this.closeOnFocusLost=!1:this.closeOnFocusLost=this.configurationService.getValue(I.CLOSE_ON_FOCUS_LOST_CONFIG),this.prefill=this.configurationService.getValue(I.PREFILL_CONFIG),this.searchInEditorHistory=this.configurationService.getValue(I.SEARCH_EDITOR_HISTORY)},t.prototype.navigate=function(e,t){this.quickOpenWidget&&this.quickOpenWidget.navigate(e,t)},t.prototype.accept=function(){this.quickOpenWidget&&this.quickOpenWidget.isVisible()&&this.quickOpenWidget.accept()},t.prototype.focus=function(){this.quickOpenWidget&&this.quickOpenWidget.isVisible()&&this.quickOpenWidget.focus()},t.prototype.close=function(){this.quickOpenWidget&&this.quickOpenWidget.isVisible()&&this.quickOpenWidget.hide(2)},
t.prototype.emitQuickOpenVisibilityChange=function(e){e?this._onShow.fire():this._onHide.fire()},t.prototype.show=function(e,t){var i=this,r=t?t.quickNavigateConfiguration:void 0,o=t?t.inputSelection:void 0,a=t?t.autoFocus:void 0,c=new n.TPromise(function(e){i.promisesToCompleteOnHide.push(e)}),l=v.Registry.as(I.Extensions.Quickopen),u=l.getQuickOpenHandler(e)||l.getDefaultQuickOpenHandler();if(this.resolveHandler(u),!this.quickOpenWidget){this.quickOpenWidget=this._register(new h.QuickOpenWidget(this.partService.getWorkbenchElement(),{onOk:function(){return i.onOk()},onCancel:function(){},onType:function(e){return i.onType(e||"")},onShow:function(){return i.handleOnShow()},onHide:function(e){return i.handleOnHide(e)},onFocusLost:function(){return!i.closeOnFocusLost}},{inputPlaceHolder:this.hasHandler("?")?s.localize("quickOpenInput","Type '?' to get help on the actions you can take from here"):"",keyboardSupport:!1,treeCreator:function(e,t,n){
return i.instantiationService.createInstance(F.WorkbenchTree,e,t,n)}})),this._register(M.attachQuickOpenStyler(this.quickOpenWidget,this.themeService,{background:O.SIDE_BAR_BACKGROUND,foreground:O.SIDE_BAR_FOREGROUND}));var d=this.quickOpenWidget.create();V.addClass(d,"show-file-icons"),this.positionQuickOpenWidget()}if(this.dimension&&this.quickOpenWidget.layout(this.dimension),!this.quickOpenWidget.isVisible()||r)if(e)this.quickOpenWidget.show(e,{quickNavigateConfiguration:r,inputSelection:o,autoFocus:a});else{var p=this.getEditorHistoryWithGroupLabel();if(p.getEntries().length<2&&(r=null),!a)if(r){var g=0===this.editorGroupService.activeGroup.count;a={autoFocusFirstEntry:g,autoFocusSecondEntry:!g}}else a={autoFocusFirstEntry:!0};var f=v.Registry.as(I.Extensions.Quickopen);this.setQuickOpenContextKey(f.getDefaultQuickOpenHandler().contextKey),this.prefill?this.quickOpenWidget.show(p,{value:this.lastSubmittedInputValue,quickNavigateConfiguration:r,autoFocus:a,inputSelection:o}):this.quickOpenWidget.show(p,{
quickNavigateConfiguration:r,autoFocus:a,inputSelection:o})}else this.quickOpenWidget.show(e||"",{inputSelection:o});return c},t.prototype.positionQuickOpenWidget=function(){var e=this.partService.getTitleBarOffset();this.quickOpenWidget&&(this.quickOpenWidget.getElement().style.top=e+"px")},t.prototype.handleOnShow=function(){this.emitQuickOpenVisibilityChange(!0)},t.prototype.handleOnHide=function(e){var t=this;this.previousActiveHandlerDescriptor=null,this.cancelPendingGetResultsInvocation();var i=function(i){n.mapResolvedHandlersToPrefix[i].then(function(n){t.handlerOnOpenCalled[i]=!1,n.onClose(2===e)})},n=this;for(var r in this.mapResolvedHandlersToPrefix)i(r);for(;this.promisesToCompleteOnHide.length;)this.promisesToCompleteOnHide.pop()(!0);1!==e&&this.editorGroupService.activeGroup.focus(),this.resetQuickOpenContextKeys(),this.emitQuickOpenVisibilityChange(!1)},t.prototype.cancelPendingGetResultsInvocation=function(){this.pendingGetResultsInvocation&&(this.pendingGetResultsInvocation.cancel(),
this.pendingGetResultsInvocation.dispose(),this.pendingGetResultsInvocation=null)},t.prototype.resetQuickOpenContextKeys=function(){var e=this;Object.keys(this.mapContextKeyToContext).forEach(function(t){return e.mapContextKeyToContext[t].reset()})},t.prototype.setQuickOpenContextKey=function(e){var t;e&&((t=this.mapContextKeyToContext[e])||(t=new x.RawContextKey(e,!1).bindTo(this.contextKeyService),this.mapContextKeyToContext[e]=t)),t&&t.get()||(this.resetQuickOpenContextKeys(),t&&t.set(!0))},t.prototype.hasHandler=function(e){return!!v.Registry.as(I.Extensions.Quickopen).getQuickOpenHandler(e)},t.prototype.getEditorHistoryWithGroupLabel=function(){var e=this.editorHistoryHandler.getResults();return e.length>0&&(e[0]=new Z(e[0],s.localize("historyMatches","recently opened"),!1)),new p.QuickOpenModel(e,this.actionProvider)},t.prototype.onOk=function(){this.isQuickOpen&&(this.lastSubmittedInputValue=this.lastInputValue)},t.prototype.onType=function(e){var t=this;this.cancelPendingGetResultsInvocation()
;var i=new U.CancellationTokenSource,n=i.token;this.pendingGetResultsInvocation=i;var r=v.Registry.as(I.Extensions.Quickopen),o=r.getQuickOpenHandler(e),s=r.getDefaultQuickOpenHandler(),a=o&&o.instantProgress,l=o?o.contextKey:s.contextKey;a||this.quickOpenWidget.getProgressBar().stop().hide(),this.quickOpenWidget.setExtraClass(null),this.setQuickOpenContextKey(l);var d=c.trim(e);if(!d)return this.resolveHandler(o||s),this.quickOpenWidget.setInput(this.getEditorHistoryWithGroupLabel(),{autoFocusFirstEntry:!0}),this.lastInputValue="",void(this.isQuickOpen=!0);var p,h=!1;o?(this.isQuickOpen=!1,p=this.handleSpecificHandler(o,e,n)):(this.isQuickOpen=!0,this.lastInputValue=d,p=this.handleDefaultHandler(s,e,n)),this.previousActiveHandlerDescriptor=o,setTimeout(function(){h||n.isCancellationRequested||t.quickOpenWidget.getProgressBar().infinite().show()},a?0:800),p.then(function(){h=!0,n.isCancellationRequested||t.quickOpenWidget.getProgressBar().hide(),i.dispose()},function(e){h=!0,i.dispose(),
_.onUnexpectedError(e),t.notificationService.error(u.isString(e)?new Error(e):e)})},t.prototype.handleDefaultHandler=function(e,i,n){var r,o=this;return(r=i&&!this.searchInEditorHistory?[]:this.editorHistoryHandler.getResults(i,n)).length>0&&(r[0]=new Z(r[0],s.localize("historyMatches","recently opened"),!1)),this.resolveHandler(e).then(function(e){var s=new p.QuickOpenModel(r,o.actionProvider),a=!1,c=o.quickOpenWidget.getInput();if(c&&c.entries&&c.entries.some(function(e){return e instanceof ee||e instanceof Z})||r.length>0){(e.hasShortResponseTime()?z.timeout(t.MAX_SHORT_RESPONSE_TIME):Promise.resolve(void 0)).then(function(){n.isCancellationRequested||a||(o.quickOpenWidget.setInput(s,{autoFocusFirstEntry:!0}),a=!0)})}return e.getResults(i,n).then(function(t){if(!n.isCancellationRequested){a||(o.quickOpenWidget.setInput(s,{autoFocusFirstEntry:!0}),a=!0);var i=t&&t.entries||[];o.mergeResults(s,i,e.getGroupLabel())}})})},t.prototype.mergeResults=function(e,t,i){
for(var n=this.mapEntriesToResource(e),r=[],o=0;o<t.length;o++){var a=t[o],c=a.getResource();a.mergeWithEditorHistory()&&c&&n[c.toString()]||r.push(a)}if(r.length>0){var l=0===e.getEntries().length,u=e.getEntries().length>0;r[0]=new p.QuickOpenEntryGroup(r[0],i,u),e.addEntries(r),this.quickOpenWidget.refresh(e,{autoFocusFirstEntry:l})}else 0===e.getEntries().length&&(e.addEntries([new Q(s.localize("noResultsFound1","No results found"))]),this.quickOpenWidget.refresh(e,{autoFocusFirstEntry:!0}))},t.prototype.handleSpecificHandler=function(e,t,i){var n=this;return this.resolveHandler(e).then(function(r){t=t.substr(e.prefix.length);var o=r.canRun();if(u.isUndefinedOrNull(o)||"boolean"==typeof o&&!o||"string"==typeof o){var a="string"==typeof o?o:s.localize("canNotRunPlaceholder","This quick open handler can not be used in the current context"),c=new p.QuickOpenModel([new Q(a)],n.actionProvider);return n.showModel(c,r.getAutoFocus(t,{model:c,
quickNavigateConfiguration:n.quickOpenWidget.getQuickNavigateConfiguration()}),r.getAriaLabel()),Promise.resolve(null)}var l=r.getClass();return l&&n.quickOpenWidget.setExtraClass(l),n.previousActiveHandlerDescriptor!==e&&n.clearModel(),r.getResults(t,i).then(function(e){if(!i.isCancellationRequested)if(e&&e.entries.length)n.showModel(e,r.getAutoFocus(t,{model:e,quickNavigateConfiguration:n.quickOpenWidget.getQuickNavigateConfiguration()}),r.getAriaLabel());else{var o=new p.QuickOpenModel([new Q(r.getEmptyLabel(t))]);n.showModel(o,r.getAutoFocus(t,{model:o,quickNavigateConfiguration:n.quickOpenWidget.getQuickNavigateConfiguration()}),r.getAriaLabel())}})})},t.prototype.showModel=function(e,t,i){this.quickOpenWidget.getInput()!==e?this.quickOpenWidget.setInput(e,t,i):this.quickOpenWidget.refresh(e,t)},t.prototype.clearModel=function(){this.showModel(new p.QuickOpenModel,null)},t.prototype.mapEntriesToResource=function(e){var t={};return e.getEntries().forEach(function(e){
e.getResource()&&(t[e.getResource().toString()]=e)}),t},t.prototype.resolveHandler=function(e){var t=this,i=this._resolveHandler(e),r=e.getId();if(!this.handlerOnOpenCalled[r]){var o=i;this.handlerOnOpenCalled[r]=!0,i=this.mapResolvedHandlersToPrefix[r]=o.then(function(e){return t.mapResolvedHandlersToPrefix[r]=o,e.onOpen(),e})}return i.then(null,function(i){return delete t.mapResolvedHandlersToPrefix[r],n.TPromise.wrapError(new Error("Unable to instantiate quick open handler "+e.getId()+": "+JSON.stringify(i)))})},t.prototype._resolveHandler=function(e){var t=e.getId();return this.mapResolvedHandlersToPrefix[t]?this.mapResolvedHandlersToPrefix[t]:this.mapResolvedHandlersToPrefix[t]=Promise.resolve(e.instantiate(this.instantiationService))},t.prototype.layout=function(e){this.dimension=e,this.quickOpenWidget&&this.quickOpenWidget.layout(this.dimension)},t.MAX_SHORT_RESPONSE_TIME=500,t.ID="workbench.component.quickopen",
t=r([o(0,G.IEditorGroupsService),o(1,B.INotificationService),o(2,x.IContextKeyService),o(3,D.IConfigurationService),o(4,A.IInstantiationService),o(5,C.IPartService),o(6,k.IEnvironmentService),o(7,R.IThemeService)],t)}(E.Component);t.QuickOpenController=q;var Q=function(e){function t(t){var i=e.call(this)||this;return i.placeHolderLabel=t,i}return i(t,e),t.prototype.getLabel=function(){return this.placeHolderLabel},t}(p.QuickOpenEntryGroup),Y=function(){function e(e,t,i){this.historyService=e,this.instantiationService=t,this.fileService=i,this.scorerCache=Object.create(null)}return e.prototype.getResults=function(e,t){var i=this,n=L.prepareQuery(e),r=this.historyService.getHistory();if(!n.value)return r.map(function(e){return i.instantiationService.createInstance(ee,e)});var o=n.containsPathSeparator?$:J;return r.filter(function(e){return!!(e instanceof b.EditorInput?j(e,i.fileService):e.resource)}).map(function(e){return i.instantiationService.createInstance(ee,e)}).filter(function(e){
var t=L.scoreItem(e,n,!1,o,i.scorerCache);return!!t.score&&(e.setHighlights(t.labelMatch,t.descriptionMatch),!0)}).sort(function(e,t){return L.compareItemsByScore(e,t,n,!1,o,i.scorerCache,function(){return-1})})},e=r([o(0,T.IHistoryService),o(1,A.IInstantiationService),o(2,P.IFileService)],e)}(),X=function(e){function t(t){var i=e.call(this)||this;return i.allowMatchOnDescription=t,i}return i(t,e),t.prototype.getItemDescription=function(e){return this.allowMatchOnDescription?e.getDescription():void 0},t}(p.QuickOpenItemAccessorClass),$=new X(!0),J=new X(!1),Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(p.QuickOpenEntryGroup);t.EditorHistoryEntryGroup=Z;var ee=function(e){function t(t,i,n,r,o,s,a,c){var u=e.call(this,i)||this;if(u.modeService=n,u.modelService=r,u.textFileService=o,u.configurationService=s,u.input=t,t instanceof b.EditorInput)u.resource=j(t,c),u.label=t.getName(),u.description=t.getDescription(),u.dirty=t.isDirty();else{var d=t;u.resource=d.resource,
u.label=l.basenameOrAuthority(d.resource),u.description=a.getUriLabel(l.dirname(u.resource),{relative:!0}),u.dirty=u.resource&&u.textFileService.isDirty(u.resource),u.dirty&&1===u.textFileService.getAutoSaveMode()&&(u.dirty=!1)}return u}return i(t,e),t.prototype.getIcon=function(){return this.dirty?"dirty":""},t.prototype.getLabel=function(){return this.label},t.prototype.getLabelOptions=function(){return{extraClasses:y.getIconClasses(this.modelService,this.modeService,this.resource)}},t.prototype.getAriaLabel=function(){return s.localize("entryAriaLabel","{0}, recently opened",this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.getResource=function(){return this.resource},t.prototype.getInput=function(){return this.input},t.prototype.run=function(t,i){if(1===t){var n=!i.quickNavigateConfiguration&&(i.keymods.alt||i.keymods.ctrlCmd),r=!this.configurationService.getValue().workbench.editor.enablePreviewFromQuickOpen||i.keymods.alt
;return this.input instanceof b.EditorInput?this.editorService.openEditor(this.input,{pinned:r},n?W.SIDE_GROUP:W.ACTIVE_GROUP):this.editorService.openEditor({resource:this.input.resource,options:{pinned:r}},n?W.SIDE_GROUP:W.ACTIVE_GROUP),!0}return e.prototype.run.call(this,t,i)},t=r([o(1,W.IEditorService),o(2,m.IModeService),o(3,S.IModelService),o(4,f.ITextFileService),o(5,D.IConfigurationService),o(6,K.ILabelService),o(7,P.IFileService)],t)}(I.EditorQuickOpenEntry);t.EditorHistoryEntry=ee;var te=function(e){function t(t,i,n,r,o,s,a){var c=e.call(this,t,i)||this;return c.quickInputService=n,c.modelService=r,c.modeService=o,c.instantiationService=s,c.historyService=a,c}return i(t,e),t.prototype.run=function(){var e=this,t=this.historyService.getHistory().map(function(t){var i=e.instantiationService.createInstance(ee,t);return{input:t,iconClasses:y.getIconClasses(e.modelService,e.modeService,i.getResource()),label:i.getLabel(),description:i.getDescription()}});return this.quickInputService.pick(t,{
placeHolder:s.localize("pickHistory","Select an editor entry to remove from history"),matchOnDescription:!0}).then(function(t){t&&e.historyService.remove(t.input)})},t.ID="workbench.action.removeFromEditorHistory",t.LABEL=s.localize("removeFromEditorHistory","Remove From History"),t=r([o(2,H.IQuickInputService),o(3,S.IModelService),o(4,m.IModeService),o(5,A.IInstantiationService),o(6,T.IHistoryService)],t)}(d.Action);t.RemoveFromEditorHistoryAction=te}),define(e[393],t([1,0,8,49,23,44,67,224,99,62]),function(e,t,i,n,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.closeQuickOpen",weight:200,when:c.inQuickOpenContext,primary:9,secondary:[1033],handler:function(e){e.get(n.IQuickOpenService).close();return e.get(l.IQuickInputService).cancel()}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.acceptSelectedQuickOpenItem",weight:200,when:c.inQuickOpenContext,primary:null,
handler:function(e){e.get(n.IQuickOpenService).accept();return e.get(l.IQuickInputService).accept()}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.focusQuickOpen",weight:200,when:c.inQuickOpenContext,primary:null,handler:function(e){e.get(n.IQuickOpenService).focus();e.get(l.IQuickInputService).focus()}});var u=i.Registry.as(o.Extensions.WorkbenchActions),d={primary:2094,secondary:[2083],mac:{primary:2094,secondary:null}};s.KeybindingsRegistry.registerKeybindingRule({id:c.QUICKOPEN_ACTION_ID,weight:200,when:void 0,primary:d.primary,secondary:d.secondary,mac:d.mac}),r.MenuRegistry.appendMenuItem(r.MenuId.CommandPalette,{command:{id:c.QUICKOPEN_ACTION_ID,title:{value:c.QUICKOPEN_ACION_LABEL,original:"Go to File..."}}}),u.registerWorkbenchAction(new r.SyncActionDescriptor(c.QuickOpenSelectNextAction,c.QuickOpenSelectNextAction.ID,c.QuickOpenSelectNextAction.LABEL,{primary:null,mac:{primary:300}},c.inQuickOpenContext,250),"Select Next in Quick Open"),
u.registerWorkbenchAction(new r.SyncActionDescriptor(c.QuickOpenSelectPreviousAction,c.QuickOpenSelectPreviousAction.ID,c.QuickOpenSelectPreviousAction.LABEL,{primary:null,mac:{primary:302}},c.inQuickOpenContext,250),"Select Previous in Quick Open"),u.registerWorkbenchAction(new r.SyncActionDescriptor(c.QuickOpenNavigateNextAction,c.QuickOpenNavigateNextAction.ID,c.QuickOpenNavigateNextAction.LABEL),"Navigate Next in Quick Open"),u.registerWorkbenchAction(new r.SyncActionDescriptor(c.QuickOpenNavigatePreviousAction,c.QuickOpenNavigatePreviousAction.ID,c.QuickOpenNavigatePreviousAction.LABEL),"Navigate Previous in Quick Open"),u.registerWorkbenchAction(new r.SyncActionDescriptor(a.RemoveFromEditorHistoryAction,a.RemoveFromEditorHistoryAction.ID,a.RemoveFromEditorHistoryAction.LABEL),"Remove From History");s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigateNextInFilePicker",weight:250,
handler:c.getQuickNavigateHandler("workbench.action.quickOpenNavigateNextInFilePicker",!0),when:c.defaultQuickOpenContext,primary:d.primary,secondary:d.secondary,mac:d.mac});s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigatePreviousInFilePicker",weight:250,handler:c.getQuickNavigateHandler("workbench.action.quickOpenNavigatePreviousInFilePicker",!1),when:c.defaultQuickOpenContext,primary:1024|d.primary,secondary:[1024|d.secondary[0]],mac:{primary:1024|d.mac.primary,secondary:null}})}),define(e[394],t([1,0,2,56,29,20,45,60,4,142,55,19,12]),function(e,t,n,s,a,c,l,u,d,p,h,g,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(e){function t(t,i,n,r,o,s){var a=e.call(this)||this;return a.textFileService=t,a.lifecycleService=i,a.editorService=n,a.activityService=r,a.windowService=o,a.untitledEditorService=s,a.isDocumentedEdited=!1,a.registerListeners(),a}return i(t,e),t.prototype.registerListeners=function(){var e=this
;this._register(this.untitledEditorService.onDidChangeDirty(function(t){return e.onUntitledDidChangeDirty(t)})),this._register(this.textFileService.models.onModelsDirty(function(t){return e.onTextFilesDirty(t)})),this._register(this.textFileService.models.onModelsSaved(function(t){return e.onTextFilesSaved(t)})),this._register(this.textFileService.models.onModelsSaveError(function(t){return e.onTextFilesSaveError(t)})),this._register(this.textFileService.models.onModelsReverted(function(t){return e.onTextFilesReverted(t)})),this.lifecycleService.onShutdown(this.dispose,this)},t.prototype.onUntitledDidChangeDirty=function(e){var t=this.untitledEditorService.isDirty(e);(!this.isDocumentedEdited&&t||this.isDocumentedEdited&&!t)&&this.updateDocumentEdited(),(t||this.lastDirtyCount>0)&&this.updateActivityBadge()},t.prototype.onTextFilesDirty=function(e){var t=this;1===this.textFileService.getAutoSaveMode()||this.isDocumentedEdited||this.updateDocumentEdited(),
1!==this.textFileService.getAutoSaveMode()&&this.updateActivityBadge(),this.doOpenDirtyResources(g.distinct(e.filter(function(e){var i=t.textFileService.models.get(e.resource);return i&&i.isDirty()&&!i.hasState(2)&&!t.editorService.isOpen({resource:e.resource})}).map(function(e){return e.resource}),function(e){return e.toString()}))},t.prototype.doOpenDirtyResources=function(e){var t=this.editorService.activeControl;this.editorService.openEditors(e.map(function(e){return{resource:e,options:{inactive:!0,pinned:!0,preserveFocus:!0}}}),t?t.group:f.ACTIVE_GROUP)},t.prototype.onTextFilesSaved=function(e){this.isDocumentedEdited&&this.updateDocumentEdited(),this.lastDirtyCount>0&&this.updateActivityBadge()},t.prototype.onTextFilesSaveError=function(e){this.isDocumentedEdited||this.updateDocumentEdited(),this.updateActivityBadge()},t.prototype.onTextFilesReverted=function(e){this.isDocumentedEdited&&this.updateDocumentEdited(),this.lastDirtyCount>0&&this.updateActivityBadge()},
t.prototype.updateActivityBadge=function(){var e=this.textFileService.getDirty().length;this.lastDirtyCount=e,d.dispose(this.badgeHandle),e>0&&(this.badgeHandle=this.activityService.showActivity(s.VIEWLET_ID,new p.NumberBadge(e,function(t){return 1===t?n.localize("dirtyFile","1 unsaved file"):n.localize("dirtyFiles","{0} unsaved files",e)}),"explorer-viewlet-label"))},t.prototype.updateDocumentEdited=function(){if(1===c.platform){var e=this.textFileService.isDirty();this.isDocumentedEdited=e,this.windowService.setDocumentEdited(e)}},t=r([o(0,a.ITextFileService),o(1,u.ILifecycleService),o(2,f.IEditorService),o(3,p.IActivityService),o(4,l.IWindowService),o(5,h.IUntitledEditorService)],t)}(d.Disposable);t.DirtyFilesTracker=v}),define(e[395],t([1,0,6,24,2,25,40,146,13,35,43,59,37,214,69,54,203,9,3,70,21,47,148,12,147,16,63,80]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var O=function(e){function t(t,i){
return e.call(this,t)||this}return i(t,e),t}(m.QuickOpenModel);t.FileQuickOpenModel=O;var M=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this,o)||this;return u.resource=t,u.name=i,u.description=n,u.icon=r,u.modeService=s,u.modelService=a,u.configurationService=c,u}return i(t,e),t.prototype.getLabel=function(){return this.name},t.prototype.getLabelOptions=function(){return{extraClasses:g.getIconClasses(this.modelService,this.modeService,this.resource)}},t.prototype.getAriaLabel=function(){return a.localize("entryAriaLabel","{0}, file picker",this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.getIcon=function(){return this.icon},t.prototype.getResource=function(){return this.resource},t.prototype.setRange=function(e){this.range=e},t.prototype.mergeWithEditorHistory=function(){return!0},t.prototype.getInput=function(){var e={resource:this.resource,options:{pinned:!this.configurationService.getValue().workbench.editor.enablePreviewFromQuickOpen}}
;return this.range&&(e.options.selection=this.range),e},t=r([o(4,D.IEditorService),o(5,h.IModeService),o(6,f.IModelService),o(7,b.IConfigurationService),o(8,C.IWorkspaceContextService)],t)}(y.EditorQuickOpenEntry);t.FileEntry=M;var k=function(e){function t(t,i,n,r,o,s,a,c){var l=e.call(this)||this;return l.editorService=t,l.instantiationService=i,l.themeService=n,l.contextService=r,l.searchService=o,l.environmentService=s,l.fileService=a,l.labelService=c,l.queryBuilder=l.instantiationService.createInstance(S.QueryBuilder),l}return i(t,e),t.prototype.setOptions=function(e){this.options=e},t.prototype.getResults=function(e,t,i){var r=A.prepareQuery(e);return r.value?(r.value=R.untildify(r.value,this.environmentService.userHome),this.doFindResults(r,t,this.cacheState.cacheKey,i)):n.TPromise.as(new O([]))},t.prototype.doFindResults=function(e,t,i,r){var o,s=this,a=this.doResolveQueryOptions(e,i,r);return this.options&&this.options.forceUseIcons&&!this.themeService.getFileIconTheme()&&(o="file"),
this.getAbsolutePathResult(e).then(function(e){return t.isCancellationRequested?n.TPromise.wrap({results:[]}):e?n.TPromise.wrap({results:[{resource:e}]}):s.searchService.search(s.queryBuilder.file(s.contextService.getWorkspace().folders.map(function(e){return e.uri}),a),t)}).then(function(e){var i=[];if(!t.isCancellationRequested)for(var n=0;n<e.results.length;n++){var r=e.results[n],a=c.basename(r.resource.fsPath),l=s.labelService.getUriLabel(p.dirname(r.resource),{relative:!0});i.push(s.instantiationService.createInstance(M,r.resource,a,l,o))}return new O(i,e.stats)})},t.prototype.getAbsolutePathResult=function(e){if(c.isAbsolute(e.original)){var t=d.URI.file(e.original);return this.fileService.resolveFile(t).then(function(e){return e.isDirectory?void 0:t},function(e){})}return n.TPromise.as(null)},t.prototype.doResolveQueryOptions=function(e,t,i){var n={extraFileResources:_.getOutOfWorkspaceEditorResources(this.editorService,this.contextService),filePattern:e.value,cacheKey:t}
;return"number"==typeof i&&(n.maxResults=i,n.sortByScore=!0),n},t.prototype.hasShortResponseTime=function(){return this.isCacheLoaded},t.prototype.onOpen=function(){var e=this;this.cacheState=new L(function(t){return e.cacheQuery(t)},function(t){return e.searchService.search(t)},function(t){return e.searchService.clearCache(t)},this.cacheState),this.cacheState.load()},t.prototype.cacheQuery=function(e){var t={extraFileResources:_.getOutOfWorkspaceEditorResources(this.editorService,this.contextService),filePattern:"",cacheKey:e,maxResults:0,sortByScore:!0},i=this.contextService.getWorkspace().folders.map(function(e){return e.uri});return this.queryBuilder.file(i,t)},Object.defineProperty(t.prototype,"isCacheLoaded",{get:function(){return this.cacheState&&this.cacheState.isLoaded},enumerable:!0,configurable:!0}),t.prototype.getGroupLabel=function(){return a.localize("searchResults","search results")},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},
t=r([o(0,D.IEditorService),o(1,E.IInstantiationService),o(2,v.IWorkbenchThemeService),o(3,C.IWorkspaceContextService),o(4,w.ISearchService),o(5,I.IEnvironmentService),o(6,x.IFileService),o(7,T.ILabelService)],t)}(y.QuickOpenHandler);t.OpenFileHandler=k;var P;!function(e){e[e.Created=1]="Created",e[e.Loading=2]="Loading",e[e.Loaded=3]="Loaded",e[e.Errored=4]="Errored",e[e.Disposed=5]="Disposed"}(P||(P={}));var L=function(){function e(e,t,i,n){if(this.doLoad=t,this.doDispose=i,this.previous=n,this._cacheKey=u.defaultGenerator.nextId(),this.loadingPhase=P.Created,this.query=e(this._cacheKey),this.previous){var r=l.assign({},this.query,{cacheKey:null}),o=l.assign({},this.previous.query,{cacheKey:null});l.equals(r,o)||(this.previous.dispose(),this.previous=null)}}return Object.defineProperty(e.prototype,"cacheKey",{get:function(){return this.loadingPhase!==P.Loaded&&this.previous?this.previous.cacheKey:this._cacheKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){
var e=this.loadingPhase===P.Loaded;return e||!this.previous?e:this.previous.isLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUpdating",{get:function(){var e=this.loadingPhase===P.Loading;return e||!this.previous?e:this.previous.isUpdating},enumerable:!0,configurable:!0}),e.prototype.load=function(){var e=this;this.isUpdating||(this.loadingPhase=P.Loading,this.promise=this.doLoad(this.query).then(function(){e.loadingPhase=P.Loaded,e.previous&&(e.previous.dispose(),e.previous=null)},function(t){e.loadingPhase=P.Errored,s.onUnexpectedError(t)}))},e.prototype.dispose=function(){var e=this;this.promise?this.promise.then(null,function(){}).then(function(){return e.loadingPhase=P.Disposed,e.doDispose(e._cacheKey)}).then(null,function(e){s.onUnexpectedError(e)}):this.loadingPhase=P.Disposed,this.previous&&(this.previous.dispose(),this.previous=null)},e}();t.CacheState=L}),define(e[396],t([1,0,19,6,2,17,30,69,54,395,176,3,9,147,28,24]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y){
"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenSymbolHandler=h.OpenSymbolHandler;var S=function(e){function d(i,n,r){var o=e.call(this)||this;return o.notificationService=i,o.configurationService=r,o.scorerCache=Object.create(null),o.searchDelayer=new c.ThrottledDelayer(d.TYPING_SEARCH_DELAY),o.openSymbolHandler=n.createInstance(t.OpenSymbolHandler),o.openFileHandler=n.createInstance(p.OpenFileHandler),o.updateHandlers(o.configurationService.getValue()),o.registerListeners(),o}return i(d,e),d.prototype.registerListeners=function(){var e=this;this.configurationService.onDidChangeConfiguration(function(t){return e.updateHandlers(e.configurationService.getValue())})},d.prototype.updateHandlers=function(e){this.includeSymbols=e&&e.search&&e.search.quickOpen&&e.search.quickOpen.includeSymbols,this.openFileHandler.setOptions({forceUseIcons:this.includeSymbols}),this.openSymbolHandler.setOptions({skipDelay:!0,skipLocalSymbols:!0,skipSorting:!0})},d.prototype.getResults=function(e,t){var i=this
;this.isClosed=!1;var r=this.extractRange(e);r&&(e=r.search);var o=v.prepareQuery(e);if(!o.value)return s.TPromise.as(new u.QuickOpenModel);var a=function(){var e=[],a=i.openFileHandler.getResults(o.original,t,d.MAX_DISPLAYED_RESULTS);return e.push(a),i.includeSymbols&&!r&&e.push(i.openSymbolHandler.getResults(o.original,t)),s.TPromise.join(e).then(function(e){if(i.isClosed||t.isCancellationRequested)return s.TPromise.as(new u.QuickOpenModel);var a=[].concat.apply([],e.map(function(e){return e.entries})),c=n.top(a,function(e,t){return v.compareItemsByScore(e,t,o,!0,u.QuickOpenItemAccessor,i.scorerCache)},d.MAX_DISPLAYED_RESULTS);return c.forEach(function(e){if(e instanceof p.FileEntry){e.setRange(r?r.range:null);var t=v.scoreItem(e,o,!0,u.QuickOpenItemAccessor,i.scorerCache);e.setHighlights(t.labelMatch,t.descriptionMatch)}}),s.TPromise.as(new u.QuickOpenModel(c))},function(e){
return y.isPromiseCanceledError(e)||(e&&e[0]&&e[0].message?i.notificationService.error(e[0].message.replace(/[\*_\[\]]/g,"\\$&")):i.notificationService.error(e)),null})};return this.hasShortResponseTime()?a():this.searchDelayer.trigger(a,d.TYPING_SEARCH_DELAY)},d.prototype.hasShortResponseTime=function(){return this.includeSymbols?this.openFileHandler.hasShortResponseTime()&&this.openSymbolHandler.hasShortResponseTime():this.openFileHandler.hasShortResponseTime()},d.prototype.extractRange=function(e){if(!e)return null;var t=null,i=d.LINE_COLON_PATTERN.exec(e);if(i&&i.length>1){var n=parseInt(i[1],10);if(l.isNumber(n)){if(t={startLineNumber:n,startColumn:1,endLineNumber:n,endColumn:1},i.length>3){var r=parseInt(i[3],10);l.isNumber(r)&&(t={startLineNumber:t.startLineNumber,startColumn:r,endLineNumber:t.endLineNumber,endColumn:r})}}else""===i[1]&&(t={startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1})}return t?{search:e.substr(0,i.index),range:t}:null},d.prototype.getGroupLabel=function(){
return this.includeSymbols?a.localize("fileAndTypeResults","file and symbol results"):a.localize("fileResults","file results")},d.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},d.prototype.onOpen=function(){this.openSymbolHandler.onOpen(),this.openFileHandler.onOpen()},d.prototype.onClose=function(e){this.isClosed=!0,this.scorerCache=Object.create(null),this.openSymbolHandler.onClose(e),this.openFileHandler.onClose(e)},d.ID="workbench.picker.anything",d.LINE_COLON_PATTERN=/[#|:|\(](\d*)([#|:|,](\d*))?\)?$/,d.TYPING_SEARCH_DELAY=200,d.MAX_DISPLAYED_RESULTS=512,d=r([o(0,m.INotificationService),o(1,g.IInstantiationService),o(2,f.IConfigurationService)],d)}(d.QuickOpenHandler);t.OpenAnythingHandler=S}),define(e[225],t([1,0,3,15,102,184,8,39,55,16,27,5,13,25,113,2,6,34,12,9,4,19,51,63]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=function(e){function t(t,i,n,r,o,a){var c=e.call(this)||this
;return c.editorGroupService=t,c.untitledEditorService=i,c.instantiationService=n,c.labelService=r,c.fileService=o,c.configurationService=a,c._onDidActiveEditorChange=c._register(new g.Emitter),c._onDidVisibleEditorsChange=c._register(new g.Emitter),c._onDidCloseEditor=c._register(new g.Emitter),c._onDidOpenEditorFail=c._register(new g.Emitter),c.openEditorHandlers=[],c.fileInputFactory=l.Registry.as(s.Extensions.EditorInputFactories).getFileInputFactory(),c.registerListeners(),c}return i(t,e),Object.defineProperty(t.prototype,"onDidActiveEditorChange",{get:function(){return this._onDidActiveEditorChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidVisibleEditorsChange",{get:function(){return this._onDidVisibleEditorsChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidCloseEditor",{get:function(){return this._onDidCloseEditor.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidOpenEditorFail",{get:function(){
return this._onDidOpenEditorFail.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this.editorGroupService.whenRestored.then(function(){return e.onEditorsRestored()}),this.editorGroupService.onDidActiveGroupChange(function(t){return e.handleActiveEditorChange(t)}),this.editorGroupService.onDidAddGroup(function(t){return e.registerGroupListeners(t)})},t.prototype.onEditorsRestored=function(){var e=this;this.editorGroupService.groups.forEach(function(t){return e.registerGroupListeners(t)}),this.activeEditor&&(this.doEmitActiveEditorChangeEvent(),this._onDidVisibleEditorsChange.fire())},t.prototype.handleActiveEditorChange=function(e){e===this.editorGroupService.activeGroup&&(this.lastActiveEditor||e.activeEditor)&&(this.lastActiveGroupId===e.id&&this.lastActiveEditor===e.activeEditor||this.doEmitActiveEditorChangeEvent())},t.prototype.doEmitActiveEditorChangeEvent=function(){var e=this.editorGroupService.activeGroup;this.lastActiveGroupId=e.id,
this.lastActiveEditor=e.activeEditor,this._onDidActiveEditorChange.fire()},t.prototype.registerGroupListeners=function(e){var t=this,i=[];i.push(e.onDidGroupChange(function(i){5===i.kind&&(t.handleActiveEditorChange(e),t._onDidVisibleEditorsChange.fire())})),i.push(e.onDidCloseEditor(function(e){t._onDidCloseEditor.fire(e)})),i.push(e.onWillOpenEditor(function(i){t.onGroupWillOpenEditor(e,i)})),i.push(e.onDidOpenEditorFail(function(i){t._onDidOpenEditorFail.fire({editor:i,groupId:e.id})})),g.once(e.onWillDispose)(function(){C.dispose(i)})},t.prototype.onGroupWillOpenEditor=function(e,t){for(var i=function(i){var r=(0,n.openEditorHandlers[i])(t.editor,t.options,e);if(r&&r.override)return t.prevent(function(){return r.override}),"break"},n=this,r=0;r<this.openEditorHandlers.length;r++){if("break"===i(r))break}},Object.defineProperty(t.prototype,"activeControl",{get:function(){var e=this.editorGroupService.activeGroup;return e?e.activeControl:void 0},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"activeTextEditorWidget",{get:function(){var e=this.activeControl;if(e){var t=e.getControl();if(_.isCodeEditor(t)||_.isDiffEditor(t))return t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editors",{get:function(){var e=[];return this.editorGroupService.groups.forEach(function(t){e.push.apply(e,t.editors)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEditor",{get:function(){var e=this.editorGroupService.activeGroup;return e?e.activeEditor:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleControls",{get:function(){return I.coalesce(this.editorGroupService.groups.map(function(e){return e.activeControl}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleTextEditorWidgets",{get:function(){return this.visibleControls.map(function(e){return e.getControl()}).filter(function(e){return _.isCodeEditor(e)||_.isDiffEditor(e)})},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"visibleEditors",{get:function(){return I.coalesce(this.editorGroupService.groups.map(function(e){return e.activeEditor}))},enumerable:!0,configurable:!0}),t.prototype.overrideOpenEditor=function(e){var t=this;return this.openEditorHandlers.push(e),C.toDisposable(function(){var i=t.openEditorHandlers.indexOf(e);i>=0&&t.openEditorHandlers.splice(i,1)})},t.prototype.openEditor=function(e,t,i){if(e instanceof s.EditorInput){var n=this.toOptions(t),r=this.findTargetGroup(e,n,i);return this.doOpenEditor(r,e,n)}var o=e,a=this.createInput(o);if(a){var n=s.TextEditorOptions.from(o),r=this.findTargetGroup(a,n,t);return this.doOpenEditor(r,a,n)}return S.TPromise.wrap(null)},t.prototype.doOpenEditor=function(e,t,i){return e.openEditor(t,i).then(function(){return e.activeControl})},t.prototype.findTargetGroup=function(e,t,i){var n;if(i&&"number"!=typeof i)return i
;if(i===E.SIDE_GROUP)n=this.findSideBySideGroup();else if("number"==typeof i&&i>=0)n=this.editorGroupService.getGroup(i);else if(!t||"number"!=typeof t.index){var r=this.editorGroupService.getGroups(1);if(t&&t.revealIfVisible)for(s=0;s<r.length;s++){var o=r[s];if(e.matches(o.activeEditor)){n=o;break}}if(t&&t.revealIfOpened||this.configurationService.getValue("workbench.editor.revealIfOpen"))for(var s=0;s<r.length;s++){var a=r[s];if(a.isOpened(e)){n=a;break}}}return n||(n=this.editorGroupService.activeGroup),n},t.prototype.findSideBySideGroup=function(){var e=b.preferredSideBySideGroupDirection(this.configurationService),t=this.editorGroupService.findGroup({direction:e});return t||(t=this.editorGroupService.addGroup(this.editorGroupService.activeGroup,e)),t},t.prototype.toOptions=function(e){if(!e||e instanceof s.EditorOptions)return e;return e.selection?s.TextEditorOptions.create(e):s.EditorOptions.create(e)},t.prototype.openEditors=function(e,t){var i=this,n=[];e.forEach(function(e){
s.isEditorInputWithOptions(e)?n.push(e):n.push({editor:i.createInput(e),options:s.TextEditorOptions.from(e)})});var r=new Map;t===E.SIDE_GROUP?r.set(this.findSideBySideGroup(),n):n.forEach(function(e){var n=i.findTargetGroup(e.editor,e.options,t),o=r.get(n);o||(o=[],r.set(n,o)),o.push(e)});var o=[];return r.forEach(function(e,t){o.push(t.openEditors(e).then(function(){return t.activeControl}))}),S.TPromise.join(o)},t.prototype.isOpen=function(e,t){return!!this.doGetOpened(e)},t.prototype.getOpened=function(e,t){return this.doGetOpened(e)},t.prototype.doGetOpened=function(e,t){if(!(e instanceof s.EditorInput)){if(!(l=e).resource)return}var i=[];"number"==typeof t?i.push(this.editorGroupService.getGroup(t)):t?i.push(t):i=this.editorGroupService.groups.slice();for(var n=0;n<i.length;n++){var r=i[n];if(e instanceof s.EditorInput){if(r.isOpened(e))return e}else for(var o=0;o<r.editors.length;o++){var a=r.editors[o],c=s.toResource(a,{supportSideBySide:!0});if(c){var l=e
;if(c.toString()===l.resource.toString())return a}}}},t.prototype.replaceEditors=function(e,t){var i=this,n=[];e.forEach(function(e){if(e.editor instanceof s.EditorInput)n.push(e);else{var t=e.editor,r=i.createInput(t),o=i.createInput(e.replacement);n.push({editor:r,replacement:o,options:i.toOptions(t.options)})}});return("number"==typeof t?this.editorGroupService.getGroup(t):t).replaceEditors(n)},t.prototype.invokeWithinEditorContext=function(e){var t=this.activeTextEditorWidget;if(_.isCodeEditor(t))return t.invokeWithinContext(e);var i=this.editorGroupService.activeGroup;return i?i.invokeWithinContext(e):this.instantiationService.invokeFunction(e)},t.prototype.createInput=function(e){if(e instanceof s.EditorInput)return e;var t=e;if(t.editor instanceof s.EditorInput)return t.editor;var i=e;if(i.masterResource&&i.detailResource){var n=this.createInput({resource:i.masterResource,forceFile:i.forceFile}),r=this.createInput({resource:i.detailResource,forceFile:i.forceFile})
;return new s.SideBySideEditorInput(i.label||n.getName(),"string"==typeof i.description?i.description:n.getDescription(),r,n)}var o=e;if(o.leftResource&&o.rightResource){var a=this.createInput({resource:o.leftResource,forceFile:o.forceFile}),c=this.createInput({resource:o.rightResource,forceFile:o.forceFile}),l=o.label||y.localize("compareLabels","{0} ↔ {1}",this.toDiffLabel(a),this.toDiffLabel(c));return new m.DiffEditorInput(l,o.description,a,c)}var u=e;if(!u.resource||"string"==typeof u.filePath||u.resource instanceof f.URI&&u.resource.scheme===h.Schemas.untitled)return this.untitledEditorService.createOrGet(u.filePath?f.URI.file(u.filePath):u.resource,u.language,u.contents,u.encoding);var d=e;if(d.resource instanceof f.URI){return(l=d.label)||d.resource.scheme===h.Schemas.data||(l=v.basename(d.resource.fsPath)),this.createOrGet(d.resource,this.instantiationService,l,d.description,d.encoding,d.forceFile)}return null},t.prototype.createOrGet=function(e,i,n,r,o,s){if(t.CACHE.has(e)){var l=t.CACHE.get(e)
;return l instanceof a.ResourceEditorInput?(l.setName(n),l.setDescription(r)):l instanceof c.DataUriEditorInput||l.setPreferredEncoding(o),l}var u;return u=s||this.fileService.canHandleResource(e)?this.fileInputFactory.createFileInput(e,o,i):e.scheme===h.Schemas.data?i.createInstance(c.DataUriEditorInput,n,r,e):i.createInstance(a.ResourceEditorInput,n,r,e),t.CACHE.set(e,u),g.once(u.onDispose)(function(){t.CACHE.delete(e)}),u},t.prototype.toDiffLabel=function(e){var t=e.getResource();return t.scheme!==h.Schemas.untitled||this.untitledEditorService.hasAssociatedFilePath(t)?this.labelService.getUriLabel(t,{relative:!0}):e.getName()},t.CACHE=new u.ResourceMap,t=r([o(0,b.IEditorGroupsService),o(1,d.IUntitledEditorService),o(2,n.IInstantiationService),o(3,D.ILabelService),o(4,p.IFileService),o(5,w.IConfigurationService)],t)}(C.Disposable);t.EditorService=A;var x=function(e){function t(t,i,n,r,o,s){return e.call(this,t,i,n,r,o,s)||this}return i(t,e),t.prototype.setEditorOpenHandler=function(e){
this.editorOpenHandler=e},t.prototype.doOpenEditor=function(t,i,n){var r=this;return(this.editorOpenHandler?this.editorOpenHandler(t,i,n):S.TPromise.as(void 0)).then(function(o){return o?S.TPromise.as(o):e.prototype.doOpenEditor.call(r,t,i,n)})},t=r([o(0,b.IEditorGroupsService),o(1,d.IUntitledEditorService),o(2,n.IInstantiationService),o(3,D.ILabelService),o(4,p.IFileService),o(5,w.IConfigurationService)],t)}(A);t.DelegatingEditorService=x}),define(e[398],t([1,0,2,6,25,22,20,373,55,16,21,60,9,43,76,47,3,120,45,135,10,37,28,95,12]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x=function(e){function t(t,i,n,r,o,s,a,c,l,u,d,p,h,g,f,v,m,y){var S=e.call(this,r,t,s,i,n,o,d,u,p,h,l,g,f,c)||this;return S.modeService=a,S.dialogService=v,S.fileDialogService=m,S.editorService=y,S}return i(t,e),t.prototype.resolveTextContent=function(e,t){return this.fileService.resolveStreamContent(e,t).then(function(e){
return m.createTextBufferFactoryFromStream(e.value).then(function(t){return{resource:e.resource,name:e.name,mtime:e.mtime,etag:e.etag,encoding:e.encoding,isReadonly:e.isReadonly,value:t}})})},t.prototype.confirmSave=function(e){if(this.environmentService.isExtensionDevelopment)return s.TPromise.wrap(1);var t=this.getDirty(e);if(0===t.length)return s.TPromise.wrap(1);var i=1===t.length?n.localize("saveChangesMessage","Do you want to save the changes you made to {0}?",a.basename(t[0].fsPath)):D.getConfirmMessage(n.localize("saveChangesMessages","Do you want to save the changes to the following {0} files?",t.length),t),r=[t.length>1?n.localize({key:"saveAll",comment:["&& denotes a mnemonic"]},"&&Save All"):n.localize({key:"save",comment:["&& denotes a mnemonic"]},"&&Save"),n.localize({key:"dontSave",comment:["&& denotes a mnemonic"]},"Do&&n't Save"),n.localize("cancel","Cancel")];return this.dialogService.show(_.Severity.Warning,i,r,{cancelId:2,
detail:n.localize("saveChangesDetail","Your changes will be lost if you don't save them.")}).then(function(e){switch(e){case 0:return 0;case 1:return 1;default:return 2}})},t.prototype.promptForPath=function(e,t){var i=this;return this.editorService.openEditor({resource:e,options:{revealIfOpened:!0,preserveFocus:!0}}).then(function(){return i.fileDialogService.showSaveDialog(i.getSaveDialogOptions(t))})},t.prototype.getSaveDialogOptions=function(e){var t=this,i={defaultUri:e,title:n.localize("saveAsTitle","Save As")};if(!l.isWindows)return i;var r,o=e?a.extname(e.path):void 0,s=this.modeService.getRegisteredLanguageNames().map(function(e){var i=t.modeService.getExtensions(e);if(!i||!i.length)return null;var n={name:e,extensions:i.slice(0,10).map(function(e){return c.trim(e,".")})};return o&&i.indexOf(o)>=0?(r=n,null):n}).filter(function(e){return!!e}),u={name:n.localize("allFiles","All Files"),extensions:["*"]};return r?(s.unshift(r),s.unshift(u)):s.unshift(u),s.push({name:n.localize("noExt","No Extension"),
extensions:[""]}),i.filters=s,i},t=r([o(0,h.IWorkspaceContextService),o(1,p.IFileService),o(2,d.IUntitledEditorService),o(3,g.ILifecycleService),o(4,S.IInstantiationService),o(5,f.IConfigurationService),o(6,v.IModeService),o(7,I.IModelService),o(8,E.IWindowService),o(9,y.IEnvironmentService),o(10,_.INotificationService),o(11,b.IBackupFileService),o(12,E.IWindowsService),o(13,w.IHistoryService),o(14,C.IContextKeyService),o(15,D.IDialogService),o(16,D.IFileDialogService),o(17,A.IEditorService)],t)}(u.TextFileService);t.TextFileService=x}),define(e[400],t([1,0,6,13,17,3,4,37,185,29,27,55,127,16]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(e){function t(t,i,n){var r=e.call(this)||this;return r.instantiationService=t,r.textFileService=i,r.fileService=n,r.providers=Object.create(null),r}return i(t,e),t.prototype.createReferencedObject=function(e){var t=this,i=s.URI.parse(e)
;return this.fileService.canHandleResource(i)?this.textFileService.models.loadOrCreate(i,{reason:2}):this.resolveTextModelContent(e).then(function(){return t.instantiationService.createInstance(d.ResourceEditorModel,i)})},t.prototype.destroyReferencedObject=function(e){var t=this;e.then(function(e){e instanceof f.TextFileEditorModel?t.textFileService.models.disposeModel(e):e.dispose()},function(e){})},t.prototype.registerTextModelContentProvider=function(e,t){var i=this.providers;return(i[e]||(i[e]=[])).unshift(t),l.toDisposable(function(){var n=i[e];if(n){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete i[e])}})},t.prototype.resolveTextModelContent=function(e){var t=s.URI.parse(e),i=(this.providers[t.scheme]||[]).map(function(e){return function(){return n.TPromise.wrap(e.provideTextContent(t))}});return a.first(i).then(function(e){return e||n.TPromise.wrapError(new Error("resource is not available"))})},t=r([o(0,c.IInstantiationService),o(1,p.ITextFileService),o(2,v.IFileService)],t)
}(l.ReferenceCollection),y=function(){function e(e,t,i){this.untitledEditorService=e,this.instantiationService=t,this.modelService=i,this.resourceModelCollection=t.createInstance(m)}return e.prototype.createModelReference=function(e){return this._createModelReference(e)},e.prototype._createModelReference=function(e){if(e.scheme===h.Schemas.untitled)return this.untitledEditorService.loadOrCreate({resource:e}).then(function(e){return new l.ImmortalReference(e)});if(e.scheme===h.Schemas.inMemory){return this.modelService.getModel(e)?n.TPromise.as(new l.ImmortalReference(this.instantiationService.createInstance(d.ResourceEditorModel,e))):n.TPromise.wrapError(new Error("Cant resolve inmemory resource"))}var t=this.resourceModelCollection.acquire(e.toString());return t.object.then(function(e){return{object:e,dispose:function(){return t.dispose()}}},function(e){return t.dispose(),n.TPromise.wrapError(e)})},e.prototype.registerTextModelContentProvider=function(e,t){
return this.resourceModelCollection.registerTextModelContentProvider(e,t)},e=r([o(0,g.IUntitledEditorService),o(1,c.IInstantiationService),o(2,u.IModelService)],e)}();t.TextModelResolverService=y}),define(e[48],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IViewletService=i.createDecorator("viewletService")}),define(e[402],t([1,0,7,123,14,33,4,48,42,11,26,84,66,167,31,53,374]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o.viewletService=i,o.partService=n,o.telemetryService=r,o.lastRun=0,o}return i(t,e),t.prototype.run=function(e){var i=this;if(e instanceof MouseEvent&&2===e.button)return Promise.resolve(!1);var n=Date.now();if(n>this.lastRun&&n-this.lastRun<t.preventDoubleClickDelay)return Promise.resolve(!0);this.lastRun=n;var r=this.partService.isVisible(1),o=this.viewletService.getActiveViewlet()
;return r&&o&&o.getId()===this.activity.id?(this.logAction("hide"),this.partService.setSideBarHidden(!0)):(this.logAction("show"),this.viewletService.openViewlet(this.activity.id,!0).then(function(){return i.activate()}))},t.prototype.logAction=function(e){this.telemetryService.publicLog("activityBarAction",{viewletId:this.activity.id,action:e})},t.preventDoubleClickDelay=300,t=r([o(1,u.IViewletService),o(2,d.IPartService),o(3,m.ITelemetryService)],t)}(v.ActivityAction);t.ViewletActivityAction=S;var b=function(e){function t(t,i,n){var r=e.call(this,t.id,t.name)||this;return r._viewlet=t,r.partService=i,r.viewletService=n,r}return i(t,e),t.prototype.run=function(){var e=this.partService.isVisible(1),t=this.viewletService.getActiveViewlet();return e&&t&&t.getId()===this._viewlet.id?this.partService.setSideBarHidden(!0):this.viewletService.openViewlet(this._viewlet.id,!0)},t=r([o(1,d.IPartService),o(2,u.IViewletService)],t)}(a.Action);t.ToggleViewletAction=b;var E=function(e){function t(t){
return e.call(this,t)||this}return i(t,e),t}(v.ActivityAction);t.GlobalActivityAction=E;var w=function(e){function t(t,i,n,r){var o=e.call(this,t,{draggable:!1,colors:i,icon:!0},n)||this;return o.contextMenuService=r,o}return i(t,e),t.prototype.render=function(t){var i=this;e.prototype.render.call(this,t),this._register(n.addDisposableListener(this.container,n.EventType.MOUSE_DOWN,function(e){n.EventHelper.stop(e,!0);var t=new g.StandardMouseEvent(e);i.showContextMenu({x:t.posx,y:t.posy})})),this._register(n.addDisposableListener(this.container,n.EventType.KEY_UP,function(e){var t=new f.StandardKeyboardEvent(e);(t.equals(3)||t.equals(10))&&(n.EventHelper.stop(e,!0),i.showContextMenu(i.container))})),this._register(n.addDisposableListener(this.container,s.EventType.Tap,function(e){n.EventHelper.stop(e,!0);var t=new g.StandardMouseEvent(e);i.showContextMenu({x:t.posx,y:t.posy})}))},t.prototype.showContextMenu=function(e){var t=this._action.activity.getActions();this.contextMenuService.showContextMenu({
getAnchor:function(){return e},getActions:function(){return Promise.resolve(t)},onHide:function(){return l.dispose(t)}})},t=r([o(2,p.IThemeService),o(3,c.IContextMenuService)],t)}(v.ActivityActionItem);t.GlobalActivityActionItem=w;var C=function(e){function t(t,i,r,o,s){var a=e.call(this,{id:t,name:t,cssClass:"extensionViewlet-placeholder-"+t.replace(/\./g,"-")},r,o,s)||this,c=".monaco-workbench > .activitybar .monaco-action-bar .action-label."+a.class;return n.createCSSRule(c,"-webkit-mask: url('"+(i||"")+"') no-repeat 50% 50%"),a}return i(t,e),t.prototype.setActivity=function(e){this.activity=e},t=r([o(2,u.IViewletService),o(3,d.IPartService),o(4,m.ITelemetryService)],t)}(S);t.PlaceHolderViewletActivityAction=C;var I=function(e){function t(t,i){return e.call(this,{id:t,name:t,cssClass:void 0},i)||this}return i(t,e),t.prototype.setActivity=function(e){this.label=e.name},t}(v.ToggleCompositePinnedAction);t.PlaceHolderToggleCompositePinnedAction=I,p.registerThemingParticipant(function(e,t){
var i=e.getColor(y.ACTIVITY_BAR_FOREGROUND);i&&t.addRule("\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active .action-label,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:focus .action-label,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:hover .action-label {\n\t\t\t\tbackground-color: "+i+" !important;\n\t\t\t}\n\t\t");var n=e.getColor(h.activeContrastBorder)
;if(n)t.addRule('\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:before {\n\t\t\t\tcontent: "";\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 9px;\n\t\t\t\tleft: 9px;\n\t\t\t\theight: 32px;\n\t\t\t\twidth: 32px;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active:hover:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked:hover:before {\n\t\t\t\toutline: 1px solid;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:hover:before {\n\t\t\t\toutline: 1px dashed;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:focus:before {\n\t\t\t\tborder-left-color: '+n+";\n\t\t\t}\n\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active:hover:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked:hover:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:hover:before {\n\t\t\t\toutline-color: "+n+";\n\t\t\t}\n\t\t");else{
var r=e.getColor(h.focusBorder);r&&t.addRule("\n\t\t\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:focus:before {\n\t\t\t\t\t\tborder-left-color: "+r+";\n\t\t\t\t\t}\n\t\t\t\t")}})}),define(e[403],t([1,0,2,24,46,319,8,161,402,48,42,3,4,321,11,53,26,381,20,60,7,73,36,68,13,167,379]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var T=function(e){function t(i,r,o,s,a,c,l,u){var p=e.call(this,i,{hasTitle:!1},a)||this;p.viewletService=r,p.instantiationService=o,p.partService=s,p.lifecycleService=c,p.storageService=l,p.extensionService=u,p.globalActivityIdToActions=Object.create(null),p.placeholderComposites=[],p.compositeActions=Object.create(null),p.compositeBar=p._register(p.instantiationService.createInstance(b.CompositeBar,{icon:!0,storageId:t.PINNED_VIEWLETS,orientation:2,openComposite:function(e){return p.viewletService.openViewlet(e,!0)},getActivityAction:function(e){
return p.getCompositeActions(e).activityAction},getCompositePinnedAction:function(e){return p.getCompositeActions(e).pinnedAction},getOnCompositeClickAction:function(e){return p.instantiationService.createInstance(d.ToggleViewletAction,p.viewletService.getViewlet(e))},getContextMenuActions:function(){return[p.instantiationService.createInstance(v.ToggleActivityBarVisibilityAction,v.ToggleActivityBarVisibilityAction.ID,n.localize("hideActivitBar","Hide Activity Bar"))]},getDefaultCompositeId:function(){return p.viewletService.getDefaultViewletId()},hidePart:function(){return p.partService.setSideBarHidden(!0)},compositeSize:50,colors:function(e){return p.getActivitybarItemColors(e)},overflowActionSize:t.ACTION_HEIGHT}));var h=p.storageService.get(t.PLACEHOLDER_VIEWLETS,0,"[]");return p.placeholderComposites=JSON.parse(h),p.placeholderComposites.forEach(function(e){"object"==typeof e.iconUrl?e.iconUrl=A.URI.revive(e.iconUrl):e.iconUrl=void 0}),p.registerListeners(),p.updateCompositebar(),p}return i(t,e),
t.prototype.registerListeners=function(){var e=this;this._register(this.viewletService.onDidViewletRegister(function(){return e.updateCompositebar()})),this._register(this.viewletService.onDidViewletOpen(function(t){return e.compositeBar.activateComposite(t.getId())})),this._register(this.viewletService.onDidViewletClose(function(t){return e.compositeBar.deactivateComposite(t.getId())})),this._register(this.viewletService.onDidViewletEnablementChange(function(t){var i=t.id;t.enabled?e.compositeBar.addComposite(e.viewletService.getViewlet(i)):e.removeComposite(i,!0)})),this._register(this.extensionService.onDidRegisterExtensions(function(){return e.onDidRegisterExtensions()}))},t.prototype.onDidRegisterExtensions=function(){this.removeNotExistingComposites(),this.updateCompositebar()},t.prototype.showActivity=function(e,t,i,n){return this.viewletService.getViewlet(e)?this.compositeBar.showActivity(e,t,i,n):this.showGlobalActivity(e,t,i)},t.prototype.showGlobalActivity=function(e,t,i){
if(!t)throw s.illegalArgument("badge");var n=this.globalActivityIdToActions[e];if(!n)throw s.illegalArgument("globalActivityId");return n.setBadge(t,i),f.toDisposable(function(){return n.setBadge(void 0)})},t.prototype.createContentArea=function(e){var t=document.createElement("div");C.addClass(t,"content"),e.appendChild(t),this.compositeBar.create(t);var i=document.createElement("div");return C.addClass(i,"global-activity"),t.appendChild(i),this.createGlobalActivityActionBar(i),E.isMacintosh&&this.lifecycleService.when(3).then(function(){C.scheduleAtNextAnimationFrame(function(){C.scheduleAtNextAnimationFrame(function(){m.registerThemingParticipant(function(e,t){var i=e.getColor(y.ACTIVITY_BAR_FOREGROUND);i&&!i.equals(I.Color.white)&&t.addRule(".monaco-workbench .activitybar > .content .monaco-action-bar .action-label { will-change: transform; }")})})})}),t},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this);var t=this.getContainer(),i=this.getColor(y.ACTIVITY_BAR_BACKGROUND)
;t.style.backgroundColor=i;var n=this.getColor(y.ACTIVITY_BAR_BORDER)||this.getColor(S.contrastBorder),r=0===this.partService.getSideBarPosition();t.style.boxSizing=n&&r?"border-box":null,t.style.borderRightWidth=n&&r?"1px":null,t.style.borderRightStyle=n&&r?"solid":null,t.style.borderRightColor=r?n:null,t.style.borderLeftWidth=n&&!r?"1px":null,t.style.borderLeftStyle=n&&!r?"solid":null,t.style.borderLeftColor=r?null:n},t.prototype.getActivitybarItemColors=function(e){return{activeForegroundColor:e.getColor(y.ACTIVITY_BAR_FOREGROUND),inactiveForegroundColor:e.getColor(y.ACTIVITY_BAR_INACTIVE_FOREGROUND),badgeBackground:e.getColor(y.ACTIVITY_BAR_BADGE_BACKGROUND),badgeForeground:e.getColor(y.ACTIVITY_BAR_BADGE_FOREGROUND),dragAndDropBackground:e.getColor(y.ACTIVITY_BAR_DRAG_AND_DROP_BACKGROUND),activeBackgroundColor:null,inactiveBackgroundColor:null,activeBorderBottomColor:null}},t.prototype.createGlobalActivityActionBar=function(e){
var t=this,i=l.Registry.as(c.GlobalActivityExtensions).getActivities().map(function(e){return t.instantiationService.createInstance(e)}).map(function(e){return new d.GlobalActivityAction(e)});this.globalActionBar=this._register(new a.ActionBar(e,{actionItemProvider:function(e){return t.instantiationService.createInstance(d.GlobalActivityActionItem,e,function(e){return t.getActivitybarItemColors(e)})},orientation:2,ariaLabel:n.localize("globalActions","Global Actions"),animated:!1})),i.forEach(function(e){t.globalActivityIdToActions[e.id]=e,t.globalActionBar.push(e)})},t.prototype.getCompositeActions=function(e){var t=this.compositeActions[e];if(!t){var i=this.viewletService.getViewlet(e);if(i)t={activityAction:this.instantiationService.createInstance(d.ViewletActivityAction,i),pinnedAction:new x.ToggleCompositePinnedAction(i,this.compositeBar)};else{var n=this.placeholderComposites.filter(function(t){return t.id===e})[0];t={
activityAction:this.instantiationService.createInstance(d.PlaceHolderViewletActivityAction,e,n&&n.iconUrl),pinnedAction:new d.PlaceHolderToggleCompositePinnedAction(e,this.compositeBar)}}this.compositeActions[e]=t}return t},t.prototype.updateCompositebar=function(){for(var e=function(e){t.compositeBar.addComposite(e),t.placeholderComposites.every(function(t){return t.id!==e.id})&&t.compositeBar.pin(e.id),t.enableCompositeActions(e);var i=t.viewletService.getActiveViewlet();i&&i.getId()===e.id&&(t.compositeBar.pin(e.id),t.compositeBar.activateComposite(e.id))},t=this,i=0,n=this.viewletService.getViewlets();i<n.length;i++){e(n[i])}},t.prototype.removeNotExistingComposites=function(){for(var e=this.viewletService.getAllViewlets(),t=function(t){e.every(function(e){return e.id!==t})&&i.removeComposite(t,!1)},i=this,n=0,r=this.compositeBar.getComposites();n<r.length;n++){t(r[n].id)}},t.prototype.removeComposite=function(e,t){t?this.compositeBar.hideComposite(e):this.compositeBar.removeComposite(e)
;var i=this.compositeActions[e];i&&(i.activityAction.dispose(),i.pinnedAction.dispose(),delete this.compositeActions[e])},t.prototype.enableCompositeActions=function(e){var t=this.getCompositeActions(e.id),i=t.activityAction,n=t.pinnedAction;i instanceof d.PlaceHolderViewletActivityAction&&i.setActivity(e),n instanceof d.PlaceHolderToggleCompositePinnedAction&&n.setActivity(e)},t.prototype.getPinned=function(){var e=this;return this.viewletService.getViewlets().map(function(e){return e.id}).filter(function(t){return e.compositeBar.isPinned(t)})},t.prototype.layout=function(i){if(!this.partService.isVisible(0))return[i];var n=e.prototype.layout.call(this,i);this.dimension=n[1];var r=this.dimension.height;return this.globalActionBar&&(r-=this.globalActionBar.items.length*t.ACTION_HEIGHT),this.compositeBar.layout(new C.Dimension(i.width,r)),n},t.prototype.shutdown=function(){var i=this.viewletService.getAllViewlets().map(function(e){return{id:e.id,iconUrl:e.iconUrl}})
;this.storageService.store(t.PLACEHOLDER_VIEWLETS,JSON.stringify(i),0),e.prototype.shutdown.call(this)},t.ACTION_HEIGHT=50,t.PINNED_VIEWLETS="workbench.activity.pinnedViewlets",t.PLACEHOLDER_VIEWLETS="workbench.activity.placeholderViewlets",t=r([o(1,p.IViewletService),o(2,g.IInstantiationService),o(3,h.IPartService),o(4,m.IThemeService),o(5,w.ILifecycleService),o(6,_.IStorageService),o(7,D.IExtensionService)],t)}(u.Part);t.ActivitybarPart=T}),define(e[77],t([1,0,2,7,8,14,48,182,323,42,34,322]),function(e,t,n,s,a,c,l,u,d,p,h,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(t,i,n,r,o){var s=e.call(this,t,r,o)||this;return s.configurationService=i,s.partService=n,s}return i(t,e),t.prototype.getOptimalWidth=function(){return null},t.prototype.getContextMenuActions=function(){var e=this;return[new g.ToggleSidebarPositionAction(g.ToggleSidebarPositionAction.ID,g.ToggleSidebarPositionAction.getLabel(this.partService),this.partService,this.configurationService),{
id:d.ToggleSidebarVisibilityAction.ID,label:n.localize("compositePart.hideSideBarLabel","Hide Side Bar"),enabled:!0,run:function(){return e.partService.setSideBarHidden(!0)}}]},t}(u.Composite);t.Viewlet=f;var v=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i,n,r,o,i)||this;return a._iconUrl=s,a}return i(t,e),Object.defineProperty(t.prototype,"iconUrl",{get:function(){return this._iconUrl},enumerable:!0,configurable:!0}),t}(u.CompositeDescriptor);t.ViewletDescriptor=v,t.Extensions={Viewlets:"workbench.contributions.viewlets"};var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.registerViewlet=function(t){e.prototype.registerComposite.call(this,t)},t.prototype.getViewlet=function(e){return this.getComposite(e)},t.prototype.getViewlets=function(){return this.getComposites()},t.prototype.setDefaultViewletId=function(e){this.defaultViewletId=e},t.prototype.getDefaultViewletId=function(){return this.defaultViewletId},t}(u.CompositeRegistry)
;t.ViewletRegistry=m,a.Registry.add(t.Extensions.Viewlets,new m);var y=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i)||this;return a.viewletService=r,a.editorGroupService=o,a.partService=s,a.viewletId=n,a.enabled=!!a.viewletService&&!!a.editorGroupService,a}return i(t,e),t.prototype.run=function(){return this.otherViewletShowing()||!this.sidebarHasFocus()?this.viewletService.openViewlet(this.viewletId,!0):(this.editorGroupService.activeGroup.focus(),Promise.resolve(!0))},t.prototype.otherViewletShowing=function(){var e=this.viewletService.getActiveViewlet();return!e||e.getId()!==this.viewletId},t.prototype.sidebarHasFocus=function(){var e=this.viewletService.getActiveViewlet(),t=document.activeElement;return e&&t&&s.isAncestor(t,this.partService.getContainer(1))},t=r([o(3,l.IViewletService),o(4,h.IEditorGroupsService),o(5,p.IPartService)],t)}(c.Action);t.ShowViewletAction=y;var S=function(e){function t(t,i,r){
return e.call(this,"workbench.action.collapse",n.localize("collapse","Collapse All"),r,i,function(e){return t.getHighlight()?Promise.resolve(null):(t.collapseAll(),t.clearSelection(),t.clearFocus(),t.domFocus(),t.focusFirst(),Promise.resolve(null))})||this}return i(t,e),t}(c.Action);t.CollapseAction=S}),define(e[169],t([1,0,2,6,5,41,53,7,4,19,8,101,77,122,32,33,31,11,216,9,42,84,254]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o.keybindingService=i,o.contextMenuService=n,o.configurationService=r,o._onDidFocus=new a.Emitter,o.onDidFocus=o._onDidFocus.event,o._onDidBlur=new a.Emitter,o.onDidBlur=o._onDidBlur.event,o._onDidChangeTitleArea=new a.Emitter,o.onDidChangeTitleArea=o._onDidChangeTitleArea.event,o.id=t.id,o.title=t.title,o.actionRunner=t.actionRunner,o}return i(t,e),t.prototype.setVisible=function(e){return this._isVisible!==e&&(this._isVisible=e),
s.TPromise.wrap(null)},t.prototype.isVisible=function(){return this._isVisible},t.prototype.render=function(){var t=this;e.prototype.render.call(this);var i=u.trackFocus(this.element);this.disposables.push(i),this.disposables.push(i.onDidFocus(function(){return t._onDidFocus.fire()})),this.disposables.push(i.onDidBlur(function(){return t._onDidBlur.fire()}))},t.prototype.renderHeader=function(e){var i=this;this.headerContainer=e,this.renderHeaderTitle(e,this.title);var r=u.append(e,u.$(".actions"));this.toolbar=new v.ToolBar(r,this.contextMenuService,{orientation:0,actionItemProvider:function(e){return i.getActionItem(e)},ariaLabel:n.localize("viewToolbarAriaLabel","{0} actions",this.title),getKeyBinding:function(e){return i.keybindingService.lookupKeybinding(e.id)},actionRunner:this.actionRunner}),this.disposables.push(this.toolbar),this.setActions();a.filterEvent(this.configurationService.onDidChangeConfiguration,function(e){return e.affectsConfiguration(t.AlwaysShowActionsConfig)
})(this.updateActionsVisibility,this,this.disposables),this.updateActionsVisibility()},t.prototype.renderHeaderTitle=function(e,t){u.append(e,u.$("h3.title",null,t))},t.prototype.focus=function(){this.element&&(this.element.focus(),this._onDidFocus.fire())},t.prototype.setActions=function(){this.toolbar.setActions(g.prepareActions(this.getActions()),g.prepareActions(this.getSecondaryActions()))(),this.toolbar.context=this.getActionsContext()},t.prototype.updateActionsVisibility=function(){var e=this.configurationService.getValue("workbench.view.alwaysShowHeaderActions");u.toggleClass(this.headerContainer,"actions-always-visible",e)},t.prototype.updateActions=function(){this.setActions(),this._onDidChangeTitleArea.fire()},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.getActionsContext=function(){},t.prototype.getOptimalWidth=function(){return 0},t.prototype.shutdown=function(){},
t.AlwaysShowActionsConfig="workbench.view.alwaysShowHeaderActions",t=r([o(1,m.IKeybindingService),o(2,y.IContextMenuService),o(3,w.IConfigurationService)],t)}(E.Panel);t.ViewletPanel=_;var D=function(e){function t(t,i,n,r,o,s,a){var c=e.call(this,t,n,r,s,a)||this;return c.options=i,c.contextMenuService=o,c.panelItems=[],c}return i(t,e),Object.defineProperty(t.prototype,"onDidSashChange",{get:function(){return this.panelview.onDidSashChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panels",{get:function(){return this.panelItems.map(function(e){return e.panel})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.panelItems.length},enumerable:!0,configurable:!0}),t.prototype.create=function(t){var i=this;return e.prototype.create.call(this,t).then(function(){i.panelview=i._register(new E.PanelView(t,i.options)),i._register(i.panelview.onDidDrop(function(e){var t=e.from,n=e.to;return i.movePanel(t,n)})),
i._register(u.addDisposableListener(t,u.EventType.CONTEXT_MENU,function(e){return i.showContextMenu(new I.StandardMouseEvent(e))}))})},t.prototype.showContextMenu=function(e){for(var t=this,i=0,n=this.panelItems;i<n.length;i++){var r=n[i];if(u.isAncestor(e.target,r.panel.element))return}e.stopPropagation(),e.preventDefault();var o={x:e.posx,y:e.posy};this.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return Promise.resolve(t.getContextMenuActions())}})},t.prototype.getTitle=function(){var e=h.Registry.as(f.Extensions.Viewlets).getViewlet(this.getId()).name;return this.isSingleView()&&(e+=": "+this.panelItems[0].panel.title),e},t.prototype.getActions=function(){return this.isSingleView()?this.panelItems[0].panel.getActions():[]},t.prototype.getSecondaryActions=function(){return this.isSingleView()?this.panelItems[0].panel.getSecondaryActions():[]},t.prototype.getActionItem=function(t){
return this.isSingleView()?this.panelItems[0].panel.getActionItem(t):e.prototype.getActionItem.call(this,t)},t.prototype.focus=function(){if(e.prototype.focus.call(this),this.lastFocusedPanel)this.lastFocusedPanel.focus();else if(this.panelItems.length>0)for(var t=0,i=this.panelItems;t<i.length;t++){var n=i[t].panel;if(n.isExpanded())return void n.focus()}},t.prototype.layout=function(e){this.panelview.layout(e.height)},t.prototype.getOptimalWidth=function(){var e=this.panelItems.map(function(e){return e.panel.getOptimalWidth()||0});return Math.max.apply(Math,e)},t.prototype.addPanels=function(e){for(var t=this.isSingleView(),i=0,n=e;i<n.length;i++){var r=n[i],o=r.panel,s=r.size,a=r.index;this.addPanel(o,s,a)}this.updateViewHeaders(),this.isSingleView()!==t&&this.updateTitleArea()},t.prototype.addPanel=function(e,t,i){var n=this;void 0===i&&(i=this.panelItems.length-1);var r=[],o=e.onDidFocus(function(){return n.lastFocusedPanel=e},null,r),s=e.onDidChangeTitleArea(function(){
n.isSingleView()&&n.updateTitleArea()},null,r),a=e.onDidChange(function(){e!==n.lastFocusedPanel||e.isExpanded()||(n.lastFocusedPanel=void 0)},null,r),u=c.attachStyler(this.themeService,{headerForeground:l.SIDE_BAR_SECTION_HEADER_FOREGROUND,headerBackground:l.SIDE_BAR_SECTION_HEADER_BACKGROUND,headerBorder:0===i?null:l.SIDE_BAR_SECTION_HEADER_BORDER,dropBackground:l.SIDE_BAR_DRAG_AND_DROP_BACKGROUND},e),p=d.combinedDisposable([o,s,u,a]),h={panel:e,disposable:p};this.panelItems.splice(i,0,h),this.panelview.addPanel(e,t,i)},t.prototype.removePanels=function(e){var t=this,i=this.isSingleView();e.forEach(function(e){return t.removePanel(e)}),this.updateViewHeaders(),i!==this.isSingleView()&&this.updateTitleArea()},t.prototype.removePanel=function(e){var t=p.firstIndex(this.panelItems,function(t){return t.panel===e});if(-1!==t){this.lastFocusedPanel===e&&(this.lastFocusedPanel=void 0),this.panelview.removePanel(e);this.panelItems.splice(t,1)[0].disposable.dispose()}},t.prototype.movePanel=function(e,t){
var i=p.firstIndex(this.panelItems,function(t){return t.panel===e}),n=p.firstIndex(this.panelItems,function(e){return e.panel===t});if(!(i<0||i>=this.panelItems.length||n<0||n>=this.panelItems.length)){var r=this.panelItems.splice(i,1)[0];this.panelItems.splice(n,0,r),this.panelview.movePanel(e,t)}},t.prototype.resizePanel=function(e,t){this.panelview.resizePanel(e,t)},t.prototype.getPanelSize=function(e){return this.panelview.getPanelSize(e)},t.prototype.updateViewHeaders=function(){this.isSingleView()?(this.panelItems[0].panel.setExpanded(!0),this.panelItems[0].panel.headerVisible=!1):this.panelItems.forEach(function(e){return e.panel.headerVisible=!0})},t.prototype.isSingleView=function(){return this.options.showHeaderInTitleWhenSingleView&&1===this.panelItems.length},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.panelItems.forEach(function(e){return e.disposable.dispose()}),this.panelview.dispose()},
t=r([o(2,w.IConfigurationService),o(3,C.IPartService),o(4,y.IContextMenuService),o(5,S.ITelemetryService),o(6,b.IThemeService)],t)}(f.Viewlet);t.PanelViewlet=D}),define(e[406],t([1,0,4,109,8,77,36,60,48,10,5,19,21,30,23,38,2,67,255]),function(e,t,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E){"use strict";function w(e,t){return g.chain(t).map(function(t){return t.filter(function(t){return t.container===e})}).filter(function(e){return e.length>0}).event}Object.defineProperty(t,"__esModule",{value:!0});var C=function(){function e(){this.map=new Map}return e.prototype.add=function(e){return this.map.set(e,(this.map.get(e)||0)+1),this},e.prototype.delete=function(e){var t=this.map.get(e)||0;return 0!==t&&(0===--t?this.map.delete(e):this.map.set(e,t),!0)},e.prototype.has=function(e){return this.map.has(e)},e}(),I=function(e){function t(t,i){var n=e.call(this)||this;n.contextKeyService=i,n.contextKeys=new C,n.items=[],n._onDidChange=n._register(new g.Emitter),n.onDidChangeActiveViews=n._onDidChange.event
;var r=w(t,a.ViewsRegistry.onViewsRegistered);n._register(r(n.onViewsRegistered,n));var o=w(t,a.ViewsRegistry.onViewsDeregistered);n._register(o(n.onViewsDeregistered,n));var s=g.filterEvent(i.onDidChangeContext,function(e){return e.affectsSome(n.contextKeys)});return n._register(s(n.onContextChanged,n)),n.onViewsRegistered(a.ViewsRegistry.getViews(t)),n}return i(t,e),Object.defineProperty(t.prototype,"activeViewDescriptors",{get:function(){return this.items.filter(function(e){return e.active}).map(function(e){return e.viewDescriptor})},enumerable:!0,configurable:!0}),t.prototype.onViewsRegistered=function(e){for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i],o={viewDescriptor:r,active:this.isViewDescriptorActive(r)};if(this.items.push(o),r.when)for(var s=0,a=r.when.keys();s<a.length;s++){var c=a[s];this.contextKeys.add(c)}o.active&&t.push(r)}t.length&&this._onDidChange.fire({added:t,removed:[]})},t.prototype.onViewsDeregistered=function(e){for(var t=[],i=function(e){var i=f.firstIndex(n.items,function(t){
return t.viewDescriptor.id===e.id});if(-1===i)return"continue";var r=n.items[i];if(n.items.splice(i,1),e.when)for(var o=0,s=e.when.keys();o<s.length;o++){var a=s[o];n.contextKeys.delete(a)}r.active&&t.push(e)},n=this,r=0,o=e;r<o.length;r++){i(o[r])}t.length&&this._onDidChange.fire({added:[],removed:t})},t.prototype.onContextChanged=function(e){for(var t=[],i=[],n=0,r=this.items;n<r.length;n++){var o=r[n],s=this.isViewDescriptorActive(o.viewDescriptor);o.active!==s&&(s?i.push(o.viewDescriptor):t.push(o.viewDescriptor)),o.active=s}(i.length||t.length)&&this._onDidChange.fire({added:i,removed:t})},t.prototype.isViewDescriptorActive=function(e){return!e.when||this.contextKeyService.contextMatchesRules(e.when)},t=r([o(1,h.IContextKeyService)],t)}(s.Disposable),_=function(e){function t(t,i,n){void 0===n&&(n=new Map);var r=e.call(this)||this;r.viewStates=n,r.viewDescriptors=[],r._onDidAdd=r._register(new g.Emitter),r.onDidAdd=r._onDidAdd.event,r._onDidRemove=r._register(new g.Emitter),
r.onDidRemove=r._onDidRemove.event,r._onDidMove=r._register(new g.Emitter),r.onDidMove=r._onDidMove.event;var o=i.getViewDescriptors(t);return r._register(o.onDidChangeActiveViews(function(){return r.onDidChangeViewDescriptors(o.activeViewDescriptors)})),r.onDidChangeViewDescriptors(o.activeViewDescriptors),r}return i(t,e),Object.defineProperty(t.prototype,"visibleViewDescriptors",{get:function(){var e=this;return this.viewDescriptors.filter(function(t){return e.viewStates.get(t.id).visible})},enumerable:!0,configurable:!0}),t.prototype.isVisible=function(e){var t=this.viewStates.get(e);if(!t)throw new Error("Unknown view "+e);return t.visible},t.prototype.setVisible=function(e,t){var i=this.find(e),n=i.visibleIndex,r=i.viewDescriptor,o=i.state;if(!r.canToggleVisibility)throw new Error("Can't toggle this view's visibility");o.visible!==t&&(o.visible=t,t?this._onDidAdd.fire([{index:n,viewDescriptor:r,size:o.size,collapsed:o.collapsed}]):this._onDidRemove.fire([{index:n,viewDescriptor:r}]))},
t.prototype.isCollapsed=function(e){var t=this.viewStates.get(e);if(!t)throw new Error("Unknown view "+e);return t.collapsed},t.prototype.setCollapsed=function(e,t){this.find(e).state.collapsed=t},t.prototype.getSize=function(e){var t=this.viewStates.get(e);if(!t)throw new Error("Unknown view "+e);return t.size},t.prototype.setSize=function(e,t){this.find(e).state.size=t},t.prototype.move=function(e,t){var i=f.firstIndex(this.viewDescriptors,function(t){return t.id===e}),n=f.firstIndex(this.viewDescriptors,function(e){return e.id===t}),r=this.viewDescriptors[i],o=this.viewDescriptors[n];f.move(this.viewDescriptors,i,n);for(var s=0;s<this.viewDescriptors.length;s++){this.viewStates.get(this.viewDescriptors[s].id).order=s}this._onDidMove.fire({from:{index:i,viewDescriptor:r},to:{index:n,viewDescriptor:o}})},t.prototype.find=function(e){for(var t=0,i=0;t<this.viewDescriptors.length;t++){var n=this.viewDescriptors[t],r=this.viewStates.get(n.id);if(n.id===e)return{index:t,visibleIndex:i,viewDescriptor:n,state:r}
;r.visible&&i++}throw new Error("view descriptor "+e+" not found")},t.prototype.compareViewDescriptors=function(e,t){return e.id===t.id?0:this.getViewOrder(e)-this.getViewOrder(t)||(e.id<t.id?-1:1)},t.prototype.getViewOrder=function(e){var t=this.viewStates.get(e.id),i=t&&"number"==typeof t.order?t.order:e.order;return"number"==typeof i?i:Number.MAX_VALUE},t.prototype.onDidChangeViewDescriptors=function(e){for(var t,i=new Set,n=0,r=this.viewDescriptors;n<r.length;n++){a=r[n];i.add(a.id)}for(var o=0,s=e=e.sort(this.compareViewDescriptors.bind(this));o<s.length;o++){var a=s[o],c=this.viewStates.get(a.id);c?(c.visible=m.isUndefinedOrNull(c.visible)?!a.hideByDefault:c.visible,c.collapsed=m.isUndefinedOrNull(c.collapsed)?!!a.collapsed:c.collapsed):this.viewStates.set(a.id,{visible:!a.hideByDefault,collapsed:a.collapsed})}for(var l=[],u=[],d=0,p=f.sortedDiff(this.viewDescriptors,e,this.compareViewDescriptors.bind(this)).reverse();d<p.length;d++){
for(var h=p[d],g=this.viewDescriptors[h.start],v=g?this.find(g.id).visibleIndex:this.viewDescriptors.length,y=0;y<h.deleteCount;y++){a=this.viewDescriptors[h.start+y];(S=this.find(a.id).state).visible&&l.push({index:v++,viewDescriptor:a})}for(y=0;y<h.toInsert.length;y++){var a=h.toInsert[y],S=this.viewStates.get(a.id);S.visible&&u.push({index:v++,viewDescriptor:a,size:S.size,collapsed:S.collapsed})}}(t=this.viewDescriptors).splice.apply(t,[0,this.viewDescriptors.length].concat(e)),l.length&&this._onDidRemove.fire(l),u.length&&this._onDidAdd.fire(u)},t}(s.Disposable);t.ContributableViewsModel=_;var D=function(e){function t(i,n,r,o,s){var a=this,c=n+".hidden",l=t.loadViewsStates(n,c,o,s);return a=e.call(this,i,r,l)||this,a.viewletStateStorageId=n,a.hiddenViewsStorageId=c,a.storageService=o,a.contextService=s,a._register(a.onDidAdd(function(e){return a.saveVisibilityStates(e.map(function(e){return e.viewDescriptor}))})),a._register(a.onDidRemove(function(e){return a.saveVisibilityStates(e.map(function(e){
return e.viewDescriptor}))})),a}return i(t,e),t.prototype.saveViewsStates=function(){for(var e={},t=0,i=this.viewDescriptors;t<i.length;t++){var n=i[t],r=this.viewStates.get(n.id);r&&(e[n.id]={collapsed:r.collapsed,size:r.size,order:r.order})}this.storageService.store(this.viewletStateStorageId,JSON.stringify(e),1!==this.contextService.getWorkbenchState()?1:0)},t.prototype.saveVisibilityStates=function(e){for(var i=t.loadViewsVisibilityState(this.hiddenViewsStorageId,this.storageService,this.contextService),n=0,r=e;n<r.length;n++){var o=r[n];if(o.canToggleVisibility){var s=this.viewStates.get(o.id);i.push({id:o.id,isHidden:s?!s.visible:void 0})}}this.storageService.store(this.hiddenViewsStorageId,JSON.stringify(i),0)},t.loadViewsStates=function(e,i,r,o){for(var s=new Map,a=JSON.parse(r.get(e,1!==o.getWorkbenchState()?1:0,"{}")),c=0,l=t.loadViewsVisibilityState(i,r,o);c<l.length;c++){var u=l[c],d=u.id,p=u.isHidden,h=a[d];h?s.set(d,n({},h,{visible:!p})):s.set(d,n({visible:!p}))}
for(var g=0,f=Object.keys(a);g<f.length;g++){d=f[g];s.has(d)||s.set(d,n({},a[d]))}return s},t.loadViewsVisibilityState=function(e,t,i){return JSON.parse(t.get(e,0,"[]")).map(function(e){return"string"==typeof e?{id:e,isHidden:!0}:e})},t.prototype.dispose=function(){this.saveViewsStates(),e.prototype.dispose.call(this)},t=r([o(2,a.IViewsService),o(3,u.IStorageService),o(4,v.IWorkspaceContextService)],t)}(_);t.PersistentContributableViewsModel=D;var A=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;s.lifecycleService=t,s.viewletService=i,s.storageService=n,s.workspaceContextService=r,s.contextKeyService=o,s.viewDescriptorCollections=new Map,s.activeViewContextKeys=new Map,s.onDidRegisterViews(a.ViewsRegistry.getAllViews()),s._register(a.ViewsRegistry.onViewsRegistered(function(e){return s.onDidRegisterViews(e)}));var u=c.Registry.as(a.Extensions.ViewContainersRegistry);return u.all.forEach(function(e){return s.onDidRegisterViewContainer(e)}),s._register(u.onDidRegister(function(e){
return s.onDidRegisterViewContainer(e)})),s._register(c.Registry.as(l.Extensions.Viewlets).onDidRegister(function(e){return s.viewletService.setViewletEnablement(e.id,s.storageService.getBoolean("viewservice."+e.id+".enablement",s.getStorageScope(),e.id!==a.TEST_VIEW_CONTAINER_ID))})),s}return i(t,e),t.prototype.getViewDescriptors=function(e){return this.viewDescriptorCollections.get(e)},t.prototype.openView=function(e,t){var i=a.ViewsRegistry.getView(e);if(i){var n=this.viewletService.getViewlet(i.container.id);if(n)return this.viewletService.openViewlet(n.id).then(function(i){return i&&i.openView?i.openView(e,t):null})}return Promise.resolve(null)},t.prototype.onDidRegisterViewContainer=function(e){var t=this,i=this.registerViewDescriptorCollection(e);"workbench.view.scm"!==e.id&&(this._register(i.onDidChangeActiveViews(function(){return t.updateViewletEnablement(e,i)})),this.lifecycleService.when(4).then(function(){return t.updateViewletEnablement(e,i)}))},
t.prototype.registerViewDescriptorCollection=function(e){var t=this,i=this._register(new I(e,this.contextKeyService));return this.onDidChangeActiveViews({added:i.activeViewDescriptors,removed:[]}),this._register(i.onDidChangeActiveViews(function(e){return t.onDidChangeActiveViews(e)})),this.viewDescriptorCollections.set(e,i),i},t.prototype.onDidChangeActiveViews=function(e){var t=this,i=e.added,n=e.removed;i.forEach(function(e){return t.getOrCreateActiveViewContextKey(e).set(!0)}),n.forEach(function(e){return t.getOrCreateActiveViewContextKey(e).set(!1)})},t.prototype.onDidRegisterViews=function(e){for(var t=this,i=function(e){var i=n.viewletService.getViewlet(e.container.id),r={id:e.focusCommand?e.focusCommand.id:e.id+".focus",title:{original:"Focus on "+e.name+" View",value:b.localize("focus view","Focus on {0} View",e.name)},category:i?i.name:b.localize("view category","View")},o=h.ContextKeyExpr.has(e.id+".active");S.CommandsRegistry.registerCommand(r.id,function(){return t.openView(e.id,!0)}),
y.MenuRegistry.appendMenuItem(y.MenuId.CommandPalette,{command:r,when:o}),e.focusCommand&&e.focusCommand.keybindings&&E.KeybindingsRegistry.registerKeybindingRule({id:r.id,when:o,weight:200,primary:e.focusCommand.keybindings.primary,secondary:e.focusCommand.keybindings.secondary,linux:e.focusCommand.keybindings.linux,mac:e.focusCommand.keybindings.mac,win:e.focusCommand.keybindings.win})},n=this,r=0,o=e;r<o.length;r++){i(o[r])}},t.prototype.getOrCreateActiveViewContextKey=function(e){var t=e.id+".active",i=this.activeViewContextKeys.get(t);return i||(i=new h.RawContextKey(t,!1).bindTo(this.contextKeyService),this.activeViewContextKeys.set(t,i)),i},t.prototype.updateViewletEnablement=function(e,t){var i=t.activeViewDescriptors.length>0;this.viewletService.setViewletEnablement(e.id,i),this.storageService.store("viewservice."+e.id+".enablement",i,this.getStorageScope())},t.prototype.getStorageScope=function(){return 1===this.workspaceContextService.getWorkbenchState()?0:1},
t=r([o(0,d.ILifecycleService),o(1,p.IViewletService),o(2,u.IStorageService),o(3,v.IWorkspaceContextService),o(4,h.IContextKeyService)],t)}(s.Disposable);t.ViewsService=A}),define(e[230],t([1,0,6,7,4,46,19,68,33,109,31,11,3,36,21,10,84,169,216,52,5,9,42,2,406,8]),function(e,t,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.setExpanded=function(t){this.isExpanded()!==t&&(this.updateTreeVisibility(this.tree,t),e.prototype.setExpanded.call(this,t))},t.prototype.setVisible=function(t){var i=this;return this.isVisible()!==t?e.prototype.setVisible.call(this,t).then(function(){return i.updateTreeVisibility(i.tree,t&&i.isExpanded())}):s.TPromise.wrap(null)},t.prototype.focus=function(){e.prototype.focus.call(this),this.focusTree()},t.prototype.layoutBody=function(e){this.tree&&this.tree.layout(e)},t.prototype.updateTreeVisibility=function(e,t){
e&&(t?a.show(e.getHTMLElement()):a.hide(e.getHTMLElement()),t?e.onVisible():e.onHidden())},t.prototype.focusTree=function(){if(this.tree){var e=this.tree.getSelection()[0];e&&this.tree.reveal(e,.5),this.tree.domFocus()}},t.prototype.dispose=function(){this.tree&&this.tree.dispose(),e.prototype.dispose.call(this)},t}(E.ViewletPanel);t.TreeViewsViewletPanel=R;var O=function(e){function t(t,i,n,r,o,s,a,l,u,d,p,g){var f=e.call(this,t,{showHeaderInTitleWhenSingleView:n,dnd:new w.DefaultPanelDndController},r,o,d,s,u)||this;f.storageService=a,f.instantiationService=l,f.contextMenuService=d,f.extensionService=p,f.contextService=g,f.didLayout=!1,f.areExtensionsReady=!1,f.viewDisposables=[];var v=T.Registry.as(h.Extensions.ViewContainersRegistry).get(t);return f.viewsModel=f._register(f.instantiationService.createInstance(x.PersistentContributableViewsModel,v,i)),f.viewletSettings=f.getMemento(a,1),f.visibleViewsStorageId=t+".numberOfVisibleViews",
f.visibleViewsCountFromCache=f.storageService.getInteger(f.visibleViewsStorageId,1===f.contextService.getWorkbenchState()?0:1,0),f._register(c.toDisposable(function(){return f.viewDisposables=c.dispose(f.viewDisposables)})),f}return i(t,e),t.prototype.create=function(t){var i=this;return e.prototype.create.call(this,t).then(function(){i._register(i.onDidSashChange(function(){return i.saveViewSizes()})),i.viewsModel.onDidAdd(function(e){return i.onDidAddViews(e)}),i.viewsModel.onDidRemove(function(e){return i.onDidRemoveViews(e)});var e=i.viewsModel.visibleViewDescriptors.map(function(e,t){return{viewDescriptor:e,index:t,size:i.viewsModel.getSize(e.id),collapsed:i.viewsModel.isCollapsed(e.id)}});e.length&&i.onDidAddViews(e),i.extensionService.whenInstalledExtensionsRegistered().then(function(){i.areExtensionsReady=!0,i.panels.length&&(i.updateTitleArea(),i.updateViewHeaders())}),i.focus()})},t.prototype.getContextMenuActions=function(){var t=this,i=[],n=this.viewsModel.viewDescriptors.map(function(e){return{
id:e.id+".toggleVisibility",label:e.name,checked:t.viewsModel.isVisible(e.id),enabled:e.canToggleVisibility,run:function(){return t.toggleViewVisibility(e.id)}}});i.push.apply(i,n);var r=e.prototype.getContextMenuActions.call(this);return n.length&&r.length&&i.push(new l.Separator),i.push.apply(i,r),i},t.prototype.setVisible=function(t){var i=this;return e.prototype.setVisible.call(this,t).then(function(){return Promise.all(i.panels.filter(function(e){return e.isVisible()!==t}).map(function(e){return e.setVisible(t)}))}).then(function(){})},t.prototype.openView=function(e,t){t&&this.focus();var i=this.getView(e);return i||this.toggleViewVisibility(e),(i=this.getView(e)).setExpanded(!0),t&&i.focus(),Promise.resolve(i)},t.prototype.movePanel=function(t,i){var n=u.firstIndex(this.panels,function(e){return e===t}),r=u.firstIndex(this.panels,function(e){return e===i}),o=this.viewsModel.visibleViewDescriptors[n],s=this.viewsModel.visibleViewDescriptors[r];e.prototype.movePanel.call(this,t,i),
this.viewsModel.move(o.id,s.id)},t.prototype.layout=function(t){e.prototype.layout.call(this,t),this.dimension=t,this.didLayout?this.saveViewSizes():(this.didLayout=!0,this.restoreViewSizes())},t.prototype.getOptimalWidth=function(){return Math.max.apply(Math,this.panels.map(function(e){return e.getOptimalWidth()||0}))+16},t.prototype.shutdown=function(){this.panels.forEach(function(e){return e.shutdown()}),this.storageService.store(this.visibleViewsStorageId,this.length,1!==this.contextService.getWorkbenchState()?1:0),this.viewsModel.saveViewsStates(),e.prototype.shutdown.call(this)},t.prototype.isSingleView=function(){return!!e.prototype.isSingleView.call(this)&&(!!this.areExtensionsReady||1===this.visibleViewsCountFromCache)},t.prototype.createView=function(e,t){return this.instantiationService.createInstance(e.ctor,t)},t.prototype.getView=function(e){return this.panels.filter(function(t){return t.id===e})[0]},t.prototype.onDidAddViews=function(e){for(var t=this,i=[],n=function(e,n,o,s){
var l=r.createView(e,{id:e.id,title:e.name,actionRunner:r.getActionRunner(),expanded:!n,viewletSettings:r.viewletSettings});l.render(),l.setVisible(!0);var u=a.addDisposableListener(l.draggableElement,"contextmenu",function(i){i.stopPropagation(),i.preventDefault(),t.onContextMenu(new b.StandardMouseEvent(i),e)}),d=I.latch(I.mapEvent(l.onDidChange,function(){return!l.isExpanded()}))(function(i){t.viewsModel.setCollapsed(e.id,i)});r.viewDisposables.splice(o,0,c.combinedDisposable([u,d])),i.push({panel:l,size:s||l.minimumSize,index:o})},r=this,o=0,s=e;o<s.length;o++){var l=s[o];n(l.viewDescriptor,l.collapsed,l.index,l.size)}return this.addPanels(i),this.restoreViewSizes(),i.map(function(e){return e.panel})},t.prototype.onDidRemoveViews=function(e){for(var t=[],i=0,n=e=e.sort(function(e,t){return t.index-e.index});i<n.length;i++){var r=n[i].index;this.viewDisposables.splice(r,1)[0].dispose(),t.push(this.panels[r])}this.removePanels(t),c.dispose(t)},t.prototype.onContextMenu=function(e,t){var i=this
;e.stopPropagation(),e.preventDefault();var n=[];n.push({id:t.id+".removeView",label:A.localize("hideView","Hide"),enabled:t.canToggleVisibility,run:function(){return i.toggleViewVisibility(t.id)}});var r=this.getContextMenuActions();r.length&&n.push.apply(n,[new l.Separator].concat(r));var o={x:e.posx,y:e.posy};this.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return Promise.resolve(n)}})},t.prototype.toggleViewVisibility=function(e){var t=!this.viewsModel.isVisible(e);this.telemetryService.publicLog("views.toggledVisibility",{viewId:e,visible:t}),this.viewsModel.setVisible(e,t)},t.prototype.saveViewSizes=function(){if(this.didLayout)for(var e=0,t=this.panels;e<t.length;e++){var i=t[e];this.viewsModel.setSize(i.id,this.getPanelSize(i))}},t.prototype.restoreViewSizes=function(){if(this.didLayout)for(var e=void 0,t=0;t<this.viewsModel.visibleViewDescriptors.length;t++){var i=this.panels[t],n=this.viewsModel.visibleViewDescriptors[t],r=this.viewsModel.getSize(n.id)
;"number"==typeof r?this.resizePanel(i,r):(e=e||this.computeInitialSizes(),this.resizePanel(i,e[i.id]||200))}},t.prototype.computeInitialSizes=function(){var e={};if(this.dimension)for(var t=this.viewsModel.visibleViewDescriptors.reduce(function(e,t){return e+(t.weight||20)},0),i=0,n=this.viewsModel.visibleViewDescriptors;i<n.length;i++){var r=n[i];e[r.id]=this.dimension.height*(r.weight||20)/t}return e},t=r([o(3,_.IConfigurationService),o(4,D.IPartService),o(5,g.ITelemetryService),o(6,m.IStorageService),o(7,v.IInstantiationService),o(8,f.IThemeService),o(9,p.IContextMenuService),o(10,d.IExtensionService),o(11,y.IWorkspaceContextService)],t)}(E.PanelViewlet);t.ViewContainerViewlet=O;var M=function(e){function t(t,i,r,o,s,c,l,u){var d=e.call(this,t,i,n({},r,{showTwistie:!1,twistiePixels:12}),o,s,c,u,l)||this;a.addClass(t,"file-icon-themable-tree"),a.addClass(t,"show-file-icons");var p=function(e){a.toggleClass(t,"align-icons-and-twisties",e.hasFileIcons&&!e.hasFolderIcons),
a.toggleClass(t,"hide-arrows",!0===e.hidesExplorerArrows)};return d.disposables.push(c.onDidFileIconThemeChange(p)),p(c.getFileIconTheme()),d}return i(t,e),t=r([o(3,S.IContextKeyService),o(4,C.IListService),o(5,f.IThemeService),o(6,_.IConfigurationService),o(7,v.IInstantiationService)],t)}(C.WorkbenchTree);t.FileIconThemableWorkbenchTree=M}),define(e[408],t([1,0,2,24,100,30,25,14,56,29,128,138,48,16,31,21,36,85,3,61,11,45,12,34]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=function(e){function t(i,n,r,o,s,a,c,l,u,d,p,h,g,f){var v=e.call(this,t.ID,i,o,a,c,u,p,l,d,f)||this;return v.fileService=n,v.viewletService=r,v.contextService=s,v.windowsService=h,v.preferencesService=g,v.updateRestoreViewStateConfiguration(),v._register(v.fileService.onFileChanges(function(e){return v.onFilesChanged(e)})),v}return i(t,e),t.prototype.onFilesChanged=function(e){var t=e.getDeleted();t&&t.length&&this.clearTextEditorViewState(t.map(function(e){
return e.resource}))},t.prototype.handleConfigurationChangeEvent=function(t){e.prototype.handleConfigurationChangeEvent.call(this,t),this.updateRestoreViewStateConfiguration()},t.prototype.updateRestoreViewStateConfiguration=function(){this.restoreViewState=this.configurationService.getValue(null,"workbench.editor.restoreViewState")},t.prototype.getTitle=function(){return this.input?this.input.getName():n.localize("textFileEditor","Text File Editor")},Object.defineProperty(t.prototype,"input",{get:function(){return this._input},enumerable:!0,configurable:!0}),t.prototype.setEditorVisible=function(t,i){var n=this;e.prototype.setEditorVisible.call(this,t,i),this._register(i.onWillCloseEditor(function(e){e.editor===n.input&&n.doSaveOrClearTextEditorViewState(n.input)}))},t.prototype.setOptions=function(e){var t=e;t&&c.isFunction(t.apply)&&t.apply(this.getControl(),0)},t.prototype.setInput=function(t,i,r){var o=this;return this.doSaveOrClearTextEditorViewState(this.input),
e.prototype.setInput.call(this,t,i,r).then(function(){return t.resolve().then(function(e){if(!r.isCancellationRequested){if(e instanceof g.BinaryEditorModel)return o.openAsBinary(t,i);var n=e,s=!!o.input,a=n.isDisposed(),l=s&&o.input.getResource().toString()!==n.getResource().toString();if(s&&!a&&!l){var u=o.getControl();u.setModel(n.textEditorModel);var d=o.loadTextEditorViewState(o.input.getResource());d&&u.restoreViewState(d),i&&c.isFunction(i.apply)&&i.apply(u,1),u.updateOptions({readOnly:n.isReadonly()})}}},function(e){if(0===e.fileOperationResult)return o.openAsBinary(t,i);if(1===e.fileOperationResult)return o.openAsFolder(t),Promise.reject(new Error(n.localize("openFolderError","File is a directory")));if(2===e.fileOperationResult&&l.isValidBasename(l.basename(t.getResource().fsPath)))return Promise.reject(s.create(a.toErrorMessage(e),{actions:[new u.Action("workbench.files.action.createMissingFile",n.localize("createFile","Create File"),null,!0,function(){
return o.fileService.updateContent(t.getResource(),"").then(function(){return o.editorService.openEditor({resource:t.getResource(),options:{pinned:!0}})})})]}));if(10===e.fileOperationResult){var r=Math.max(v.MIN_MAX_MEMORY_SIZE_MB,+o.configurationService.getValue(null,"files.maxMemoryForLargeFilesMB")||v.FALLBACK_MAX_MEMORY_SIZE_MB);return Promise.reject(s.create(a.toErrorMessage(e),{actions:[new u.Action("workbench.window.action.relaunchWithIncreasedMemoryLimit",n.localize("relaunchWithIncreasedMemoryLimit","Restart with {0} MB",r),null,!0,function(){return o.windowsService.relaunch({addArgs:["--max-memory="+r]})}),new u.Action("workbench.window.action.configureMemoryLimit",n.localize("configureMemoryLimit","Configure Memory Limit"),null,!0,function(){return o.preferencesService.openGlobalSettings(void 0,{query:"files.maxMemoryForLargeFilesMB"})})]}))}return Promise.reject(e)})})},t.prototype.openAsBinary=function(e,t){e.setForceOpenAsBinary(),this.editorService.openEditor(e,t,this.group)},
t.prototype.openAsFolder=function(e){var t=this;this.group.closeEditor(this.input).then(function(){t.contextService.isInsideWorkspace(e.getResource())&&t.viewletService.openViewlet(d.VIEWLET_ID,!0).then(function(t){return t.getExplorerView().select(e.getResource(),!0)})})},t.prototype.getAriaLabel=function(){var e=this.input,t=e&&e.getName();return t?n.localize("fileEditorWithInputAriaLabel","{0}. Text file editor.",t):n.localize("fileEditorAriaLabel","Text file editor.")},t.prototype.clearInput=function(){this.doSaveOrClearTextEditorViewState(this.input),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.shutdown=function(){this.doSaveOrClearTextEditorViewState(this.input),e.prototype.shutdown.call(this)},t.prototype.doSaveOrClearTextEditorViewState=function(e){e&&(this.restoreViewState||this.group&&this.group.isOpened(e)?e.isDisposed()||this.saveTextEditorViewState(e.getResource()):this.clearTextEditorViewState([e.getResource()],this.group))},t.ID=d.TEXT_FILE_EDITOR_ID,
t=r([o(0,m.ITelemetryService),o(1,v.IFileService),o(2,f.IViewletService),o(3,E.IInstantiationService),o(4,y.IWorkspaceContextService),o(5,S.IStorageService),o(6,b.ITextResourceConfigurationService),o(7,_.IEditorService),o(8,C.IThemeService),o(9,D.IEditorGroupsService),o(10,p.ITextFileService),o(11,I.IWindowsService),o(12,w.IPreferencesService),o(13,I.IWindowService)],t)}(h.BaseTextEditor);t.TextFileEditor=A}),define(e[409],t([1,0,6,2,69,54,48,178,264,79,49,14,32,22,72,109,10,8]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_PICKER_PREFIX="view ";var E=function(e){function t(t,i,n){var r=e.call(this)||this;return r.label=t,r.category=i,r.open=n,r}return i(t,e),t.prototype.getLabel=function(){return this.label},t.prototype.getCategory=function(){return this.category},t.prototype.getAriaLabel=function(){return s.localize("entryAriaLabel","{0}, view picker",this.getLabel())},t.prototype.run=function(t,i){
return 1===t?this.runOpen(i):e.prototype.run.call(this,t,i)},t.prototype.runOpen=function(e){var t=this;return setTimeout(function(){t.open()},0),!0},t}(a.QuickOpenEntryGroup);t.ViewEntry=E;var w=function(e){function t(t,i,n,r,o,s){var a=e.call(this)||this;return a.viewletService=t,a.viewsService=i,a.outputService=n,a.terminalService=r,a.panelService=o,a.contextKeyService=s,a}return i(t,e),t.prototype.getResults=function(e,t){e=e.trim();var i,r=v.stripWildcards(e).toLowerCase(),o=this.getViewEntries().filter(function(t){if(!e)return!0;var i=m.matchesFuzzy(r,t.getLabel(),!0);return i&&t.setHighlights(i),!(!i&&!v.fuzzyContains(t.getCategory(),r))});return o.forEach(function(e,t){i!==e.getCategory()?(i=e.getCategory(),e.setShowBorder(t>0),e.setGroupLabel(i)):(e.setShowBorder(!1),e.setGroupLabel(void 0))}),n.TPromise.as(new a.QuickOpenModel(o))},t.prototype.getViewEntries=function(){var e=this,t=[],i=this.viewletService.getViewlets();i.forEach(function(i,n){
return t.push(new E(i.name,s.localize("views","Views"),function(){return e.viewletService.openViewlet(i.id,!0)}))});this.panelService.getPanels().forEach(function(i,n){return t.push(new E(i.name,s.localize("panels","Panels"),function(){return e.panelService.openPanel(i.id,!0)}))}),i.forEach(function(i,n){var r=b.Registry.as(y.Extensions.ViewContainersRegistry).get(i.id);if(r){var o=function(t,i){var n=y.ViewsRegistry.getViews(i),r=[];if(n.length)for(var o=function(i){e.contextKeyService.contextMatchesRules(i.when)&&r.push(new E(i.name,t.name,function(){return e.viewsService.openView(i.id,!0)}))},s=0,a=n;s<a.length;s++)o(a[s]);return r}(i,r);t.push.apply(t,o)}});var n=s.localize("terminals","Terminal");this.terminalService.terminalTabs.forEach(function(i,r){i.terminalInstances.forEach(function(i,o){var a=r+1+"."+(o+1),c=new E(s.localize("terminalTitle","{0}: {1}",a,i.title),n,function(){e.terminalService.showPanel(!0).then(function(){e.terminalService.setActiveInstance(i)})});t.push(c)})})
;return this.outputService.getChannelDescriptors().forEach(function(i,n){var r=s.localize("channels","Output"),o=new E(i.label,r,function(){return e.outputService.showChannel(i.id)});t.push(o)}),t},t.prototype.getAutoFocus=function(e,t){return{autoFocusFirstEntry:!!e||!!t.quickNavigateConfiguration}},t.ID="workbench.picker.views",t=r([o(0,l.IViewletService),o(1,y.IViewsService),o(2,u.IOutputService),o(3,d.ITerminalService),o(4,p.IPanelService),o(5,S.IContextKeyService)],t)}(c.QuickOpenHandler);t.ViewPickerHandler=w;var C=function(e){function n(i,n,r){return e.call(this,i,n,t.VIEW_PICKER_PREFIX,r)||this}return i(n,e),n.ID="workbench.action.openView",n.LABEL=s.localize("openView","Open View"),n=r([o(2,h.IQuickOpenService)],n)}(c.QuickOpenAction);t.OpenViewPickerAction=C;var I=function(e){function a(t,i,n,r){var o=e.call(this,t,i)||this;return o.quickOpenService=n,o.keybindingService=r,o}return i(a,e),a.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id)
;return this.quickOpenService.show(t.VIEW_PICKER_PREFIX,{quickNavigateConfiguration:{keybindings:e}}),n.TPromise.as(!0)},a.ID="workbench.action.quickOpenView",a.LABEL=s.localize("quickOpenView","Quick Open View"),a=r([o(2,h.IQuickOpenService),o(3,f.IKeybindingService)],a)}(g.Action);t.QuickOpenViewPickerAction=I}),define(e[410],t([1,0,20,2,54,8,23,44,286,292,284,287,409,99,10,67]),function(e,t,i,n,r,o,s,a,c,l,u,d,p,h,g,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=o.Registry.as(a.Extensions.WorkbenchActions);v.registerWorkbenchAction(new s.SyncActionDescriptor(l.ClearCommandHistoryAction,l.ClearCommandHistoryAction.ID,l.ClearCommandHistoryAction.LABEL),"Clear Command History"),v.registerWorkbenchAction(new s.SyncActionDescriptor(l.ShowAllCommandsAction,l.ShowAllCommandsAction.ID,l.ShowAllCommandsAction.LABEL,{primary:3118,secondary:[59]}),"Show All Commands"),v.registerWorkbenchAction(new s.SyncActionDescriptor(u.GotoLineAction,u.GotoLineAction.ID,u.GotoLineAction.LABEL,{primary:2085,
mac:{primary:293}}),"Go to Line..."),v.registerWorkbenchAction(new s.SyncActionDescriptor(c.GotoSymbolAction,c.GotoSymbolAction.ID,c.GotoSymbolAction.LABEL,{primary:3117}),"Go to Symbol in File...");var m=g.ContextKeyExpr.and(h.inQuickOpenContext,g.ContextKeyExpr.has("inViewsPicker")),y={primary:2095,mac:{primary:303},linux:{primary:null}},S=n.localize("view","View");v.registerWorkbenchAction(new s.SyncActionDescriptor(p.OpenViewPickerAction,p.OpenViewPickerAction.ID,p.OpenViewPickerAction.LABEL),"View: Open View",S),v.registerWorkbenchAction(new s.SyncActionDescriptor(p.QuickOpenViewPickerAction,p.QuickOpenViewPickerAction.ID,p.QuickOpenViewPickerAction.LABEL,y),"View: Quick Open View",S);f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigateNextInViewPicker",weight:250,handler:h.getQuickNavigateHandler("workbench.action.quickOpenNavigateNextInViewPicker",!0),when:m,primary:y.primary,linux:y.linux,mac:y.mac});f.KeybindingsRegistry.registerCommandAndKeybindingRule({
id:"workbench.action.quickOpenNavigatePreviousInViewPicker",weight:250,handler:h.getQuickNavigateHandler("workbench.action.quickOpenNavigatePreviousInViewPicker",!1),when:m,primary:1024|y.primary,linux:y.linux,mac:{primary:1024|y.mac.primary}}),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor(l.CommandsHandler,l.CommandsHandler.ID,l.ALL_COMMANDS_PREFIX,"inCommandsPicker",n.localize("commandsHandlerDescriptionDefault","Show and Run Commands"))),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor(u.GotoLineHandler,u.GotoLineHandler.ID,u.GOTO_LINE_PREFIX,null,[{prefix:u.GOTO_LINE_PREFIX,needsEditor:!0,description:i.isMacintosh?n.localize("gotoLineDescriptionMac","Go to Line"):n.localize("gotoLineDescriptionWin","Go to Line")}])),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor(c.GotoSymbolHandler,c.GotoSymbolHandler.ID,c.GOTO_SYMBOL_PREFIX,"inFileSymbolsPicker",[{
prefix:c.GOTO_SYMBOL_PREFIX,needsEditor:!0,description:n.localize("gotoSymbolDescription","Go to Symbol in File")},{prefix:c.GOTO_SYMBOL_PREFIX+c.SCOPE_PREFIX,needsEditor:!0,description:n.localize("gotoSymbolDescriptionScoped","Go to Symbol in File by Category")}])),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor(d.HelpHandler,d.HelpHandler.ID,d.HELP_PREFIX,null,n.localize("helpDescription","Show Help"))),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor(p.ViewPickerHandler,p.ViewPickerHandler.ID,p.VIEW_PICKER_PREFIX,"inViewsPicker",[{prefix:p.VIEW_PICKER_PREFIX,needsEditor:!1,description:n.localize("viewPickerDescription","Open View")}])),s.MenuRegistry.appendMenuItem(s.MenuId.MenubarViewMenu,{group:"1_open",command:{id:l.ShowAllCommandsAction.ID,title:n.localize({key:"miCommandPalette",comment:["&& denotes a mnemonic"]},"&&Command Palette...")},order:1}),s.MenuRegistry.appendMenuItem(s.MenuId.MenubarViewMenu,{
group:"1_open",command:{id:p.OpenViewPickerAction.ID,title:n.localize({key:"miOpenView",comment:["&& denotes a mnemonic"]},"&&Open View...")},order:2}),s.MenuRegistry.appendMenuItem(s.MenuId.MenubarGoMenu,{group:"z_go_to",command:{id:"workbench.action.gotoSymbol",title:n.localize({key:"miGotoSymbolInFile",comment:["&& denotes a mnemonic"]},"Go to &&Symbol in File...")},order:2}),s.MenuRegistry.appendMenuItem(s.MenuId.MenubarGoMenu,{group:"z_go_to",command:{id:"workbench.action.gotoLine",title:n.localize({key:"miGotoLine",comment:["&& denotes a mnemonic"]},"Go to &&Line...")},order:7})}),define(e[150],t([1,0,7,14,65,80,27,20,6,2,81,32,70,152,124,97,12,79,48,25,34]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C){"use strict";function I(e,t){var i=A(e,t),r=document.activeElement;return i&&r&&n.isAncestor(r,i.getContainer())}function _(e,t,i){if("number"==typeof t){var n=i.resolveKeybinding(a.createKeybinding(t,u.OS));return x(e,n.length>0?n[0]:null)}return x(e,t)}function D(e,t,i){
return e.getViewlets().filter(function(e){return e.id===f.VIEW_ID}).length?e.openViewlet(f.VIEW_ID,i).then(function(e){return e}):t.openPanel(f.VIEW_ID,i).then(function(e){return e})}function A(e,t){var i=e.getActiveViewlet();if(i&&i.getId()===f.VIEW_ID)return i;var n=t.getActivePanel();return n&&n.getId()===f.VIEW_ID?n:void 0}function x(e,t){return t?e+" ("+t.getLabel()+")":e}function T(e){return e.scheme===l.Schemas.file?w.normalize(c.normalizeDriveLetter(e.fsPath),!0):e.toString()}function R(e){return e.range().startLineNumber+","+e.range().startColumn+": "+e.text()}function O(e,t){var i=e.matches().sort(y.searchMatchComparer).slice(0,t).map(R).map(function(e){return"  "+e});return{text:""+T(e.resource())+$+i.join($),count:i.length}}function M(e,t){for(var i=[],n=0,r=e.matches().sort(y.searchMatchComparer),o=0;o<e.fileCount()&&n<t;o++){var s=O(r[o],t-n);n+=s.count,i.push(s.text)}return{text:i.join($+$),count:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.isSearchViewFocused=I,
t.appendKeyBindingLabel=_,t.openSearchView=D,t.getSearchView=A,t.toggleCaseSensitiveCommand=function(e){A(e.get(E.IViewletService),e.get(b.IPanelService)).toggleCaseSensitive()},t.toggleWholeWordCommand=function(e){A(e.get(E.IViewletService),e.get(b.IPanelService)).toggleWholeWords()},t.toggleRegexCommand=function(e){A(e.get(E.IViewletService),e.get(b.IPanelService)).toggleRegex()};var k=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.viewletService=n,o.panelService=r,o}return i(t,e),t.prototype.run=function(){return A(this.viewletService,this.panelService).focusNextInputBox(),d.TPromise.as(null)},t.ID="search.focus.nextInputBox",t=r([o(2,E.IViewletService),o(3,b.IPanelService)],t)}(s.Action);t.FocusNextInputAction=k;var P=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.viewletService=n,o.panelService=r,o}return i(t,e),t.prototype.run=function(){return A(this.viewletService,this.panelService).focusPreviousInputBox(),d.TPromise.as(null)},
t.ID="search.focus.previousInputBox",t=r([o(2,E.IViewletService),o(3,b.IPanelService)],t)}(s.Action);t.FocusPreviousInputAction=P;var L=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.viewletService=n,s.panelService=r,s.expandSearchReplaceWidget=o,s}return i(t,e),t.prototype.run=function(){var e=this;return D(this.viewletService,this.panelService,!1).then(function(t){t.searchAndReplaceWidget.toggleReplace(e.expandSearchReplaceWidget);var i=t.updateTextFromSelection(!e.expandSearchReplaceWidget);t.searchAndReplaceWidget.focus(void 0,i,i)})},t}(s.Action);t.FindOrReplaceInFilesAction=L;var F=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r,!1)||this}return i(t,e),t.LABEL=p.localize("findInFiles","Find in Files"),t=r([o(2,E.IViewletService),o(3,b.IPanelService)],t)}(L);t.FindInFilesAction=F;var N=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i,n,r,!1)||this;return s.editorGroupService=o,s}return i(t,e),t.prototype.run=function(){
return this.otherViewletShowing()||!I(this.viewletService,this.panelService)?e.prototype.run.call(this):(this.editorGroupService.activeGroup.focus(),d.TPromise.as(!0))},t.prototype.otherViewletShowing=function(){return!A(this.viewletService,this.panelService)},t.LABEL=p.localize("showSearch","Show Search"),t=r([o(2,E.IViewletService),o(3,b.IPanelService),o(4,C.IEditorGroupsService)],t)}(L);t.OpenSearchViewletAction=N;var B=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r,!0)||this}return i(t,e),t.ID="workbench.action.replaceInFiles",t.LABEL=p.localize("replaceInFiles","Replace in Files"),t=r([o(2,E.IViewletService),o(3,b.IPanelService)],t)}(L);t.ReplaceInFilesAction=B;var V=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.viewletService=n,o.panelService=r,o}return i(t,e),t.prototype.run=function(){var e=A(this.viewletService,this.panelService);return e.searchAndReplaceWidget.toggleReplace(!1),e.searchAndReplaceWidget.focus(),d.TPromise.as(null)},
t=r([o(2,E.IViewletService),o(3,b.IPanelService)],t)}(s.Action);t.CloseReplaceAction=V;var W=function(e){function t(t,i,n,r){var o=e.call(this,t,i,"search-action refresh")||this;return o.viewletService=n,o.panelService=r,o.update(),o}return i(t,e),t.prototype.update=function(){var e=A(this.viewletService,this.panelService);this.enabled=e&&e.isSearchSubmitted()},t.prototype.run=function(){var e=A(this.viewletService,this.panelService);return e&&e.onQueryChanged(),d.TPromise.as(null)},t.ID="search.action.refreshSearchResults",t.LABEL=p.localize("RefreshAction.label","Refresh"),t=r([o(2,E.IViewletService),o(3,b.IPanelService)],t)}(s.Action);t.RefreshAction=W;var G=function(e){function t(t,i,n,r){var o=e.call(this,t,i,"search-action collapse")||this;return o.viewletService=n,o.panelService=r,o.update(),o}return i(t,e),t.prototype.update=function(){var e=A(this.viewletService,this.panelService);this.enabled=e&&e.hasSearchResults()},t.prototype.run=function(){var e=A(this.viewletService,this.panelService);if(e){
var t=e.getControl();if(t.getHighlight())return d.TPromise.as(null);var i=t.getNavigator(),n=i.first(),r=!1;if(n instanceof y.FolderMatch)for(;n=i.next();)if(n instanceof y.Match){r=!0;break}if(r){n=i.first();do{n instanceof y.FileMatch&&t.collapse(n)}while(n=i.next())}else t.collapseAll();t.clearSelection(),t.clearFocus(),t.domFocus(),t.focusFirst()}return d.TPromise.as(null)},t.ID="search.action.collapseSearchResults",t.LABEL=p.localize("CollapseDeepestExpandedLevelAction.label","Collapse All"),t=r([o(2,E.IViewletService),o(3,b.IPanelService)],t)}(s.Action);t.CollapseDeepestExpandedLevelAction=G;var K=function(e){function t(t,i,n,r){var o=e.call(this,t,i,"search-action clear-search-results")||this;return o.viewletService=n,o.panelService=r,o.update(),o}return i(t,e),t.prototype.update=function(){var e=A(this.viewletService,this.panelService);this.enabled=e&&e.isSearchSubmitted()},t.prototype.run=function(){var e=A(this.viewletService,this.panelService);return e&&e.clearSearchResults(),d.TPromise.as(null)},
t.ID="search.action.clearSearchResults",t.LABEL=p.localize("ClearSearchResultsAction.label","Clear Search Results"),t=r([o(2,E.IViewletService),o(3,b.IPanelService)],t)}(s.Action);t.ClearSearchResultsAction=K;var z=function(e){function t(t,i,n,r){var o=e.call(this,t,i,"search-action cancel-search")||this;return o.viewletService=n,o.panelService=r,o.update(),o}return i(t,e),t.prototype.update=function(){var e=A(this.viewletService,this.panelService);this.enabled=e&&e.isSearching()},t.prototype.run=function(){var e=A(this.viewletService,this.panelService);return e&&e.cancelSearch(),d.TPromise.as(null)},t.ID="search.action.cancelSearch",t.LABEL=p.localize("CancelSearchAction.label","Cancel Search"),t=r([o(2,E.IViewletService),o(3,b.IPanelService)],t)}(s.Action);t.CancelSearchAction=z;var H=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.viewletService=n,o.panelService=r,o}return i(t,e),t.prototype.run=function(){return D(this.viewletService,this.panelService).then(function(e){
e.selectNextMatch()})},t.ID="search.action.focusNextSearchResult",t.LABEL=p.localize("FocusNextSearchResult.label","Focus Next Search Result"),t=r([o(2,E.IViewletService),o(3,b.IPanelService)],t)}(s.Action);t.FocusNextSearchResultAction=H;var U=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.viewletService=n,o.panelService=r,o}return i(t,e),t.prototype.run=function(){return D(this.viewletService,this.panelService).then(function(e){e.selectPreviousMatch()})},t.ID="search.action.focusPreviousSearchResult",t.LABEL=p.localize("FocusPreviousSearchResult.label","Focus Previous Search Result"),t=r([o(2,E.IViewletService),o(3,b.IPanelService)],t)}(s.Action);t.FocusPreviousSearchResultAction=U;var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getElementToFocusAfterRemoved=function(e,t){var i=this.getNextElementAfterRemoved(e,t);return i||(i=this.getPreviousElementAfterRemoved(e,t)),i},t.prototype.getNextElementAfterRemoved=function(e,t){
var i=this.getNavigatorAt(t,e);if(t instanceof y.FolderMatch)for(;i.next()&&!(i.current()instanceof y.FolderMatch););else if(t instanceof y.FileMatch)for(;i.next()&&!(i.current()instanceof y.FileMatch););else for(;i.next()&&!(i.current()instanceof y.Match);)e.expand(i.current());return i.current()},t.prototype.getPreviousElementAfterRemoved=function(e,t){var i=this.getNavigatorAt(t,e),n=i.previous(),r=t.parent();return r===n&&(n=i.previous()),r instanceof y.FileMatch&&r.parent()===n&&(n=i.previous()),t instanceof y.Match&&n&&n instanceof y.FolderMatch&&(i.next(),e.expand(n),n=i.previous()),t instanceof y.Match&&n&&n instanceof y.FileMatch&&(i.next(),e.expand(n),n=i.previous()),n},t.prototype.getNavigatorAt=function(e,t){for(var i=t.getNavigator();i.current()!==e&&i.next(););return i},t}(s.Action);t.AbstractSearchAndReplaceAction=j;var q=function(e){function t(i,n){var r=e.call(this,"remove",t.LABEL,"action-remove")||this;return r.viewer=i,r.element=n,r}return i(t,e),t.prototype.run=function(){
var e=this.viewer.getFocus(),t=!e||e instanceof y.SearchResult||function(e,t){do{if(e===t)return!0}while(!(e.parent()instanceof y.SearchResult)&&(e=e.parent()));return!1}(e,this.element)?this.getElementToFocusAfterRemoved(this.viewer,this.element):null;t&&(this.viewer.reveal(t),this.viewer.setFocus(t));var i,n=this.element;if(n instanceof y.FolderMatch){var r=n.parent();r.remove(n),i=r}else if(n instanceof y.FileMatch){var o=n.parent();o.remove(n),i=o}else if(n instanceof y.Match){var s=n.parent();s.remove(n),i=0===s.count()?s.parent():s}return this.viewer.domFocus(),this.viewer.refresh(i)},t.LABEL=p.localize("RemoveAction.label","Dismiss"),t}(j);t.RemoveAction=q;var Q=function(e){function t(i,n,r,o){var s=e.call(this,v.ReplaceAllInFileActionId,_(t.LABEL,o.lookupKeybinding(v.ReplaceAllInFileActionId),o),"action-replace-all")||this;return s.viewer=i,s.fileMatch=n,s.viewlet=r,s}return i(t,e),t.prototype.run=function(){var e=this,t=this.getElementToFocusAfterRemoved(this.viewer,this.fileMatch)
;return this.fileMatch.parent().replace(this.fileMatch).then(function(){t&&e.viewer.setFocus(t),e.viewer.domFocus(),e.viewlet.open(e.fileMatch,!0)})},t.LABEL=p.localize("file.replaceAll.label","Replace All"),t=r([o(3,g.IKeybindingService)],t)}(j);t.ReplaceAllAction=Q;var Y=function(e){function t(i,n,r){var o=e.call(this,v.ReplaceAllInFolderActionId,_(t.LABEL,r.lookupKeybinding(v.ReplaceAllInFolderActionId),r),"action-replace-all")||this;return o.viewer=i,o.folderMatch=n,o}return i(t,e),t.prototype.run=function(){var e=this,t=this.getElementToFocusAfterRemoved(this.viewer,this.folderMatch);return this.folderMatch.replaceAll().then(function(){t&&e.viewer.setFocus(t),e.viewer.domFocus()})},t.LABEL=p.localize("file.replaceAll.label","Replace All"),t=r([o(2,g.IKeybindingService)],t)}(j);t.ReplaceAllInFolderAction=Y;var X=function(e){function t(i,n,r,o,s,a){var c=e.call(this,v.ReplaceActionId,_(t.LABEL,s.lookupKeybinding(v.ReplaceActionId),s),"action-replace")||this;return c.viewer=i,c.element=n,c.viewlet=r,
c.replaceService=o,c.editorService=a,c}return i(t,e),t.prototype.run=function(){var e=this;return this.enabled=!1,this.element.parent().replace(this.element).then(function(){var t=e.getElementToFocusAfterReplace();t&&e.viewer.setFocus(t);var i=e.getElementToShowReplacePreview(t);e.viewer.domFocus(),!i||e.hasToOpenFile()?e.viewlet.open(e.element,!0):e.replaceService.openReplacePreview(i,!0)})},t.prototype.getElementToFocusAfterReplace=function(){var e=this.viewer.getNavigator(),t=!1,i=null;do{if((i=e.current())instanceof y.Match){if(i.parent().id()===this.element.parent().id()){if(t=!0,this.element.range().getStartPosition().isBeforeOrEqual(i.range().getStartPosition()))break}else if(t)break}else if(t&&!this.viewer.isExpanded(i))break}while(e.next());return i},t.prototype.getElementToShowReplacePreview=function(e){if(this.hasSameParent(e))return e;var t=this.getPreviousElementAfterRemoved(this.viewer,this.element);return this.hasSameParent(t)?t:null},t.prototype.hasSameParent=function(e){
return e&&e instanceof y.Match&&e.parent().resource()===this.element.parent().resource()},t.prototype.hasToOpenFile=function(){var e=this.editorService.activeEditor,t=e?e.getResource():void 0;return!!t&&t.toString()===this.element.parent().resource().toString()},t.LABEL=p.localize("match.replace.label","Replace"),t=r([o(3,m.IReplaceService),o(4,g.IKeybindingService),o(5,S.IEditorService)],t)}(j);t.ReplaceAction=X,t.copyPathCommand=function(e,t){var i=e.get(h.IClipboardService),n=T(t.resource());i.writeText(n)};var $=u.isWindows?"\r\n":"\n";t.copyMatchCommand=function(e,t){var i,n=e.get(h.IClipboardService);t instanceof y.Match?i=R(t):t instanceof y.FileMatch?i=O(t,1e4).text:t instanceof y.FolderMatch&&(i=M(t,1e4).text),i&&n.writeText(i)},t.copyAllCommand=function(e){var t=e.get(E.IViewletService),i=e.get(b.IPanelService),n=e.get(h.IClipboardService),r=function(e,t){var i=[],n=0;e=e.sort(y.searchMatchComparer);for(var r=0;r<e.length&&n<t;r++){var o=M(e[r],t-n);o.count&&(n+=o.count,i.push(o.text))}
return i.join($+$)}(A(t,i).getControl().getInput().folderMatches(),1e4);n.writeText(r)},t.clearHistoryCommand=function(e){e.get(f.ISearchHistoryService).clearHistory()},t.focusSearchListCommand=function(e){D(e.get(E.IViewletService),e.get(b.IPanelService)).then(function(e){e.moveFocusToResults()})}}),define(e[412],t([1,0,2,35,25,7,4,6,46,328,59,97,21,150,3,41,11,16,9,33,23,52,116,63]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=function(){function e(e,t){var i=this;this.contextService=e,this.configurationService=t,this.updateIncludeFolderMatch(),this.listener=this.contextService.onDidChangeWorkbenchState(function(){return i.updateIncludeFolderMatch()})}return e.prototype.updateIncludeFolderMatch=function(){this.includeFolderMatch=3===this.contextService.getWorkbenchState()},e.prototype.getId=function(e,t){return t instanceof g.FolderMatch?t.id():t instanceof g.FileMatch?t.id():t instanceof g.Match?t.id():"root"},
e.prototype._getChildren=function(e){if(e instanceof g.FileMatch)return e.matches();if(e instanceof g.FolderMatch)return e.matches();if(e instanceof g.SearchResult){var t=e.folderMatches();return t.length>2?t.filter(function(e){return!e.isEmpty()}):e.matches()}return[]},e.prototype.getChildren=function(e,t){return u.TPromise.as(this._getChildren(t))},e.prototype.hasChildren=function(e,t){return t instanceof g.FileMatch||t instanceof g.FolderMatch||t instanceof g.SearchResult},e.prototype.getParent=function(e,t){var i=null;return t instanceof g.Match?i=t.parent():t instanceof g.FileMatch?i=this.includeFolderMatch?t.parent():t.parent().parent():t instanceof g.FolderMatch&&(i=t.parent()),u.TPromise.as(i)},e.prototype.shouldAutoexpand=function(t,i){var n=this._getChildren(i).length;if(n<=0)return!1;var r=this.configurationService.getValue("search.collapseResults");return"alwaysCollapse"!==r&&("alwaysExpand"===r||(n<e.AUTOEXPAND_CHILD_LIMIT||i instanceof g.FolderMatch))},e.prototype.dispose=function(){
this.listener=l.dispose(this.listener)},e.AUTOEXPAND_CHILD_LIMIT=10,e=r([o(0,f.IWorkspaceContextService),o(1,E.IConfigurationService)],e)}();t.SearchDataSource=A;var x=function(){function e(){}return e.prototype.compare=function(e,t,i){return g.searchMatchComparer(t,i)},e}();t.SearchSorter=x;var T=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s.searchView=i,s.instantiationService=n,s.themeService=r,s.contextService=o,s}return i(t,e),t.prototype.getHeight=function(e,t){return 22},t.prototype.getTemplateId=function(e,i){return i instanceof g.FolderMatch?t.FOLDER_MATCH_TEMPLATE_ID:i instanceof g.FileMatch?t.FILE_MATCH_TEMPLATE_ID:i instanceof g.Match?t.MATCH_TEMPLATE_ID:null},t.prototype.renderTemplate=function(e,i,n){return i===t.FOLDER_MATCH_TEMPLATE_ID?this.renderFolderMatchTemplate(e,i,n):i===t.FILE_MATCH_TEMPLATE_ID?this.renderFileMatchTemplate(e,i,n):i===t.MATCH_TEMPLATE_ID?this.renderMatchTemplate(e,i,n):null},t.prototype.renderElement=function(e,i,n,r){
t.FOLDER_MATCH_TEMPLATE_ID===n?this.renderFolderMatch(e,i,r):t.FILE_MATCH_TEMPLATE_ID===n?this.renderFileMatch(e,i,r):t.MATCH_TEMPLATE_ID===n&&this.renderMatch(e,i,r)},t.prototype.renderFolderMatchTemplate=function(e,t,i){var n=c.append(i,c.$(".foldermatch")),r=this.instantiationService.createInstance(h.FileLabel,n,void 0),o=new p.CountBadge(c.append(n,c.$(".badge")));this._register(y.attachBadgeStyler(o,this.themeService));return{label:r,badge:o,actions:new d.ActionBar(n,{animated:!1})}},t.prototype.renderFileMatchTemplate=function(e,t,i){var n=c.append(i,c.$(".filematch")),r=this.instantiationService.createInstance(h.FileLabel,n,void 0),o=new p.CountBadge(c.append(n,c.$(".badge")));this._register(y.attachBadgeStyler(o,this.themeService));return{el:n,label:r,badge:o,actions:new d.ActionBar(n,{animated:!1})}},t.prototype.renderMatchTemplate=function(e,t,i){c.addClass(i,"linematch");var n=c.append(i,c.$("a.plain.match"));return{parent:n,before:c.append(n,c.$("span")),
match:c.append(n,c.$("span.findInFileMatch")),replace:c.append(n,c.$("span.replaceMatch")),after:c.append(n,c.$("span")),actions:new d.ActionBar(i,{animated:!1})}},t.prototype.renderFolderMatch=function(e,t,i){if(t.hasResource()){var r=this.contextService.getWorkspaceFolder(t.resource());r&&s.isEqual(r.uri,t.resource())?i.label.setFile(t.resource(),{fileKind:b.FileKind.ROOT_FOLDER,hidePath:!0}):i.label.setFile(t.resource(),{fileKind:b.FileKind.FOLDER})}else i.label.setValue(n.localize("searchFolderMatch.other.label","Other files"));var o=t.fileCount();i.badge.setCount(o),i.badge.setTitleFormat(o>1?n.localize("searchFileMatches","{0} files found",o):n.localize("searchFileMatch","{0} file found",o)),i.actions.clear();var a=[];e.getInput().searchModel.isReplaceActive()&&o>0&&a.push(this.instantiationService.createInstance(v.ReplaceAllInFolderAction,e,t)),a.push(new v.RemoveAction(e,t)),i.actions.push(a,{icon:!0,label:!1})},t.prototype.renderFileMatch=function(e,t,i){
i.el.setAttribute("data-resource",t.resource().toString()),i.label.setFile(t.resource(),{hideIcon:!1});var r=t.count();i.badge.setCount(r),i.badge.setTitleFormat(r>1?n.localize("searchMatches","{0} matches found",r):n.localize("searchMatch","{0} match found",r));var o=e.getInput();i.actions.clear();var s=[];o.searchModel.isReplaceActive()&&r>0&&s.push(this.instantiationService.createInstance(v.ReplaceAllAction,e,t,this.searchView)),s.push(new v.RemoveAction(e,t)),i.actions.push(s,{icon:!0,label:!1})},t.prototype.renderMatch=function(e,t,i){var n=t.preview(),r=e.getInput().searchModel,o=r.isReplaceActive()&&!!r.replaceString;i.before.textContent=n.before,i.match.textContent=n.inside,c.toggleClass(i.match,"replace",o),i.replace.textContent=o?t.replaceString:"",i.after.textContent=n.after,i.parent.title=(n.before+(o?t.replaceString:n.inside)+n.after).trim().substr(0,999),i.actions.clear(),
r.isReplaceActive()?i.actions.push([this.instantiationService.createInstance(v.ReplaceAction,e,t,this.searchView),new v.RemoveAction(e,t)],{icon:!0,label:!1}):i.actions.push([new v.RemoveAction(e,t)],{icon:!0,label:!1})},t.prototype.disposeTemplate=function(e,i,n){if(t.FOLDER_MATCH_TEMPLATE_ID===i){(r=n).label.dispose(),r.actions.dispose()}else if(t.FILE_MATCH_TEMPLATE_ID===i){(r=n).label.dispose(),r.actions.dispose()}else if(t.MATCH_TEMPLATE_ID===i){var r=n;r.actions.dispose()}},t.FOLDER_MATCH_TEMPLATE_ID="folderMatch",t.FILE_MATCH_TEMPLATE_ID="fileMatch",t.MATCH_TEMPLATE_ID="match",t=r([o(2,m.IInstantiationService),o(3,S.IThemeService),o(4,f.IWorkspaceContextService)],t)}(l.Disposable);t.SearchRenderer=T;var R=function(){function e(e){this.labelService=e}return e.prototype.getAriaLabel=function(e,t){
if(t instanceof g.FolderMatch)return t.hasResource()?n.localize("folderMatchAriaLabel","{0} matches in folder root {1}, Search result",t.count(),t.name()):n.localize("otherFilesAriaLabel","{0} matches outside of the workspace, Search result",t.count());if(t instanceof g.FileMatch){var i=this.labelService.getUriLabel(t.resource(),{relative:!0})||t.resource().fsPath;return n.localize("fileMatchAriaLabel","{0} matches in file {1} of folder {2}, Search result",t.count(),t.name(),a.dirname(i))}if(t instanceof g.Match){var r=t,o=e.getInput().searchModel,s=o.isReplaceActive()&&!!o.replaceString,c=r.getMatchString(),l=r.range(),u=r.text().substr(0,l.endColumn+150);return s?n.localize("replacePreviewResultAria","Replace term {0} with {1} at column position {2} in line with text {3}",c,r.replaceString,l.startColumn+1,u):n.localize("searchResultAria","Found term {0} at column position {1} in line with text {2}",c,l.startColumn+1,u)}},e=r([o(0,D.ILabelService)],e)}();t.SearchAccessibilityProvider=R;var O=function(){
function e(){}return e.prototype.isVisible=function(e,t){return!(t instanceof g.FileMatch||t instanceof g.FolderMatch)||t.matches().length>0},e}();t.SearchFilter=O;var M=function(e){function t(t,i,n){var r=e.call(this,{},n)||this;return r.contextMenuService=t,r.menuService=i,r}return i(t,e),t.prototype.onContextMenu=function(e,t,i){var n=this;this.contextMenu||(this.contextMenu=this.menuService.createMenu(C.MenuId.SearchContext,e.contextKeyService)),e.setFocus(t,{preventOpenOnFocus:!0});var r={x:i.posx,y:i.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){var e=[];return _.fillInContextMenuActions(n.contextMenu,{shouldForwardArgs:!0},e,n.contextMenuService),u.TPromise.as(e)},getActionsContext:function(){return t}}),!0},t=r([o(0,w.IContextMenuService),o(1,C.IMenuService),o(2,E.IConfigurationService)],t)}(I.WorkbenchTreeController);t.SearchTreeController=M}),define(e[413],t([1,0,48,79,9,70]),function(e,t,i,n,s,a){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,i){var n=function(n){"panel"===i.getValue().search.location?(e.setViewletEnablement(a.VIEW_ID,!1),t.setPanelEnablement(a.VIEW_ID,!0),n&&t.openPanel(a.VIEW_ID)):(t.setPanelEnablement(a.VIEW_ID,!1),e.setViewletEnablement(a.VIEW_ID,!0),n&&e.openViewlet(a.VIEW_ID))};i.onDidChangeConfiguration(function(e){e.affectsConfiguration("search.location")&&n(!0)}),n(!1)}return e=r([o(0,i.IViewletService),o(1,n.IPanelService),o(2,s.IConfigurationService)],e)}();t.SearchViewLocationUpdater=c}),define(e[232],t([1,0,114,7,46,125,87,14,17,5,22,6,415,2,81,9,10,33,32,67,41,11,250,150,152,79,48]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var R=function(e){function t(){var i=e.call(this,t.ID,"","action-replace-all",!1)||this;return i._searchWidget=null,i}return i(t,e),Object.defineProperty(t,"INSTANCE",{get:function(){return null===t.fgInstance&&(t.fgInstance=new t),
t.fgInstance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchWidget",{set:function(e){this._searchWidget=e},enumerable:!0,configurable:!0}),t.prototype.run=function(){return this._searchWidget?this._searchWidget.triggerReplaceAll():g.TPromise.as(null)},t.fgInstance=null,t.ID="search.action.replaceAll",t}(u.Action),O=function(e){function t(t,i,r,o,s,a,c,l){var u=e.call(this)||this;return u.contextViewService=r,u.themeService=o,u.contextKeyService=s,u.keyBindingService=a,u.clipboardServce=c,u.configurationService=l,u.ignoreGlobalFindBufferOnNextFocus=!1,u._onSearchSubmit=u._register(new p.Emitter),u.onSearchSubmit=u._onSearchSubmit.event,u._onSearchCancel=u._register(new p.Emitter),u.onSearchCancel=u._onSearchCancel.event,u._onReplaceToggled=u._register(new p.Emitter),u.onReplaceToggled=u._onReplaceToggled.event,u._onReplaceStateChange=u._register(new p.Emitter),u.onReplaceStateChange=u._onReplaceStateChange.event,u._onReplaceValueChanged=u._register(new p.Emitter),
u.onReplaceValueChanged=u._onReplaceValueChanged.event,u._onReplaceAll=u._register(new p.Emitter),u.onReplaceAll=u._onReplaceAll.event,u._onBlur=u._register(new p.Emitter),u.onBlur=u._onBlur.event,u.replaceActive=A.ReplaceActiveKey.bindTo(u.contextKeyService),u.searchInputBoxFocused=A.SearchInputBoxFocusedKey.bindTo(u.contextKeyService),u.replaceInputBoxFocused=A.ReplaceInputBoxFocusedKey.bindTo(u.contextKeyService),u._replaceHistoryDelayer=new d.Delayer(500),u.render(t,i),u.configurationService.onDidChangeConfiguration(function(e){e.affectsConfiguration("editor.accessibilitySupport")&&u.updateAccessibilitySupport()}),n.onDidChangeAccessibilitySupport(function(){return u.updateAccessibilitySupport()}),u.updateAccessibilitySupport(),u}return i(t,e),t.prototype.focus=function(e,t,i){void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===i&&(i=!1),this.ignoreGlobalFindBufferOnNextFocus=i,t&&this.isReplaceShown()?(this.replaceInput.focus(),e&&this.replaceInput.select()):(this.searchInput.focus(),
e&&this.searchInput.select())},t.prototype.setWidth=function(e){this.searchInput.setWidth(e),this.replaceInput.width=e-28},t.prototype.clear=function(){this.searchInput.clear(),this.replaceInput.value="",this.setReplaceAllActionState(!1)},t.prototype.isReplaceShown=function(){return!s.hasClass(this.replaceContainer,"disabled")},t.prototype.isReplaceActive=function(){return this.replaceActive.get()},t.prototype.getReplaceValue=function(){return this.replaceInput.value},t.prototype.toggleReplace=function(e){void 0!==e&&e===this.isReplaceShown()||this.onToggleReplaceButton()},t.prototype.getSearchHistory=function(){return this.searchInput.inputBox.getHistory()},t.prototype.getReplaceHistory=function(){return this.replaceInput.getHistory()},t.prototype.clearHistory=function(){this.searchInput.inputBox.clearHistory()},t.prototype.showNextSearchTerm=function(){this.searchInput.inputBox.showNextValue()},t.prototype.showPreviousSearchTerm=function(){this.searchInput.inputBox.showPreviousValue()},
t.prototype.showNextReplaceTerm=function(){this.replaceInput.showNextValue()},t.prototype.showPreviousReplaceTerm=function(){this.replaceInput.showPreviousValue()},t.prototype.searchInputHasFocus=function(){return this.searchInputBoxFocused.get()},t.prototype.replaceInputHasFocus=function(){return this.replaceInput.hasFocus()},t.prototype.focusReplaceAllAction=function(){this.replaceActionBar.focus(!0)},t.prototype.focusRegexAction=function(){this.searchInput.focusOnRegex()},t.prototype.render=function(e,t){this.domNode=s.append(e,s.$(".search-widget")),this.domNode.style.position="relative",this.renderToggleReplaceButton(this.domNode),this.renderSearchInput(this.domNode,t),this.renderReplaceInput(this.domNode,t)},t.prototype.isScreenReaderOptimized=function(){var e=2===n.getAccessibilitySupport(),t=this.configurationService.getValue("editor").accessibilitySupport;return"on"===t||"auto"===t&&e},t.prototype.updateAccessibilitySupport=function(){
this.searchInput.setFocusInputOnOptionClick(!this.isScreenReaderOptimized())},t.prototype.renderToggleReplaceButton=function(e){var t=this;this.toggleReplaceButton=this._register(new c.Button(e,{buttonBackground:null,buttonBorder:null,buttonForeground:null,buttonHoverBackground:null})),this.toggleReplaceButton.element.setAttribute("aria-expanded","false"),this.toggleReplaceButton.element.classList.add("collapse"),this.toggleReplaceButton.icon="toggle-replace-button",this.toggleReplaceButton.onDidClick(function(){return t.onToggleReplaceButton()}),this.toggleReplaceButton.element.title=v.localize("search.replace.toggle.button.title","Toggle Replace")},t.prototype.renderSearchInput=function(e,t){var i=this,n={label:v.localize("label.Search","Search: Type Search Term and press Enter to search or Escape to cancel"),validation:function(e){return i.validateSearchInput(e)},placeholder:v.localize("search.placeHolder","Search"),
appendCaseSensitiveLabel:D.appendKeyBindingLabel("",this.keyBindingService.lookupKeybinding(A.ToggleCaseSensitiveCommandId),this.keyBindingService),appendWholeWordsLabel:D.appendKeyBindingLabel("",this.keyBindingService.lookupKeybinding(A.ToggleWholeWordCommandId),this.keyBindingService),appendRegexLabel:D.appendKeyBindingLabel("",this.keyBindingService.lookupKeybinding(A.ToggleRegexCommandId),this.keyBindingService),history:t.searchHistory},r=s.append(e,s.$(".search-container.input-box"));this.searchInput=this._register(new _.ContextScopedFindInput(r,this.contextViewService,n,this.contextKeyService,!0)),this._register(C.attachFindInputBoxStyler(this.searchInput,this.themeService)),this.searchInput.onKeyDown(function(e){return i.onSearchInputKeyDown(e)}),this.searchInput.setValue(t.value||""),this.searchInput.setRegex(!!t.isRegex),this.searchInput.setCaseSensitive(!!t.isCaseSensitive),this.searchInput.setWholeWords(!!t.isWholeWords),this._register(this.onSearchSubmit(function(){
i.searchInput.inputBox.addToHistory()})),this.searchInput.onCaseSensitiveKeyDown(function(e){return i.onCaseSensitiveKeyDown(e)}),this.searchInput.onRegexKeyDown(function(e){return i.onRegexKeyDown(e)}),this._register(this.onReplaceValueChanged(function(){i._replaceHistoryDelayer.trigger(function(){return i.replaceInput.addToHistory()})})),this.searchInputFocusTracker=this._register(s.trackFocus(this.searchInput.inputBox.inputElement)),this._register(this.searchInputFocusTracker.onDidFocus(function(){i.searchInputBoxFocused.set(!0);var e=i.configurationService.getValue("search").globalFindClipboard;if(!i.ignoreGlobalFindBufferOnNextFocus&&e){var t=i.clipboardServce.readFindText();i.previousGlobalFindBufferValue!==t&&(i.searchInput.inputBox.addToHistory(),i.searchInput.setValue(t),i.searchInput.select()),i.previousGlobalFindBufferValue=t}i.ignoreGlobalFindBufferOnNextFocus=!1})),this._register(this.searchInputFocusTracker.onDidBlur(function(){return i.searchInputBoxFocused.set(!1)}))},
t.prototype.renderReplaceInput=function(e,i){var n=this;this.replaceContainer=s.append(e,s.$(".replace-container.disabled"));var r=s.append(this.replaceContainer,s.$(".input-box"));this.replaceInput=this._register(new _.ContextScopedHistoryInputBox(r,this.contextViewService,{ariaLabel:v.localize("label.Replace","Replace: Type replace term and press Enter to preview or Escape to cancel"),placeholder:v.localize("search.replace.placeHolder","Replace"),history:i.replaceHistory||[]},this.contextKeyService)),this._register(C.attachInputBoxStyler(this.replaceInput,this.themeService)),this.onkeydown(this.replaceInput.inputElement,function(e){return n.onReplaceInputKeyDown(e)}),this.replaceInput.onDidChange(function(){return n._onReplaceValueChanged.fire()}),this.searchInput.inputBox.onDidChange(function(){return n.onSearchInputChanged()}),this.replaceAllAction=R.INSTANCE,this.replaceAllAction.searchWidget=this,this.replaceAllAction.label=t.REPLACE_ALL_DISABLED_LABEL,
this.replaceActionBar=this._register(new a.ActionBar(this.replaceContainer)),this.replaceActionBar.push([this.replaceAllAction],{icon:!0,label:!1}),this.onkeydown(this.replaceActionBar.domNode,function(e){return n.onReplaceActionbarKeyDown(e)}),this.replaceInputFocusTracker=this._register(s.trackFocus(this.replaceInput.inputElement)),this._register(this.replaceInputFocusTracker.onDidFocus(function(){return n.replaceInputBoxFocused.set(!0)})),this._register(this.replaceInputFocusTracker.onDidBlur(function(){return n.replaceInputBoxFocused.set(!1)}))},t.prototype.triggerReplaceAll=function(){return this._onReplaceAll.fire(),g.TPromise.as(null)},t.prototype.onToggleReplaceButton=function(){s.toggleClass(this.replaceContainer,"disabled"),s.toggleClass(this.toggleReplaceButton.element,"collapse"),s.toggleClass(this.toggleReplaceButton.element,"expand"),this.toggleReplaceButton.element.setAttribute("aria-expanded",this.isReplaceShown()?"true":"false"),this.updateReplaceActiveState(),this._onReplaceToggled.fire()},
t.prototype.setReplaceAllActionState=function(e){this.replaceAllAction.enabled!==e&&(this.replaceAllAction.enabled=e,this.replaceAllAction.label=e?t.REPLACE_ALL_ENABLED_LABEL(this.keyBindingService):t.REPLACE_ALL_DISABLED_LABEL,this.updateReplaceActiveState())},t.prototype.updateReplaceActiveState=function(){var e=this.isReplaceActive(),t=this.isReplaceShown()&&this.replaceAllAction.enabled;e!==t&&(this.replaceActive.set(t),this._onReplaceStateChange.fire(t))},t.prototype.validateSearchInput=function(e){if(0===e.length)return null;if(!this.searchInput.getRegex())return null;var t;try{t=new RegExp(e)}catch(e){return{content:e.message}}return h.regExpLeadsToEndlessLoop(t)?{content:v.localize("regexp.validationFailure","Expression matches everything")}:h.regExpContainsBackreference(e)?{content:v.localize("regexp.backreferenceValidationFailure","Backreferences are not supported")}:null},t.prototype.onSearchInputChanged=function(){this.searchInput.clearMessage(),this.setReplaceAllActionState(!1)},
t.prototype.onSearchInputKeyDown=function(e){e.equals(3)?(this.submitSearch(),e.preventDefault()):e.equals(9)?(this._onSearchCancel.fire(),e.preventDefault()):e.equals(2)&&(this.isReplaceShown()?this.replaceInput.focus():this.searchInput.focusOnCaseSensitive(),e.preventDefault())},t.prototype.onCaseSensitiveKeyDown=function(e){e.equals(1026)&&this.isReplaceShown()&&(this.replaceInput.focus(),e.preventDefault())},t.prototype.onRegexKeyDown=function(e){e.equals(2)&&(this.isReplaceActive()?this.focusReplaceAllAction():this._onBlur.fire(),e.preventDefault())},t.prototype.onReplaceInputKeyDown=function(e){e.equals(3)?(this.submitSearch(),e.preventDefault()):e.equals(2)?(this.searchInput.focusOnCaseSensitive(),e.preventDefault()):e.equals(1026)&&(this.searchInput.focus(),e.preventDefault())},t.prototype.onReplaceActionbarKeyDown=function(e){e.equals(1026)&&(this.focusRegexAction(),e.preventDefault())},t.prototype.submitSearch=function(){
var e=this.searchInput.getValue(),t=this.configurationService.getValue("search").globalFindClipboard;e&&(t&&this.clipboardServce.writeFindText(e),this._onSearchSubmit.fire())},t.prototype.dispose=function(){this.setReplaceAllActionState(!1),this.replaceAllAction.searchWidget=null,this.replaceActionBar=null,e.prototype.dispose.call(this)},t.REPLACE_ALL_DISABLED_LABEL=v.localize("search.action.replaceAll.disabled.label","Replace All (Submit Search to Enable)"),t.REPLACE_ALL_ENABLED_LABEL=function(e){var t=e.lookupKeybinding(R.ID);return D.appendKeyBindingLabel(v.localize("search.action.replaceAll.enabled.label","Replace All"),t,e)},t=r([o(2,b.IContextViewService),o(3,I.IThemeService),o(4,S.IContextKeyService),o(5,E.IKeybindingService),o(6,m.IClipboardService),o(7,y.IConfigurationService)],t)}(l.Widget);t.SearchWidget=O,t.registerContributions=function(){w.KeybindingsRegistry.registerCommandAndKeybindingRule({id:R.ID,weight:200,
when:S.ContextKeyExpr.and(A.SearchViewVisibleKey,A.ReplaceActiveKey,f.CONTEXT_FIND_WIDGET_NOT_VISIBLE),primary:2563,handler:function(e){D.isSearchViewFocused(e.get(T.IViewletService),e.get(x.IPanelService))&&R.INSTANCE.run()}})}}),define(e[233],t([1,0,4,6,30,48,79]),function(e,t,n,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,i,n){var r=e.call(this)||this;return r.viewletService=t,r.panelService=i,r.scopeId=n,r.registerListeners(),r}return i(t,e),t.prototype.registerListeners=function(){var e=this;this._register(this.viewletService.onDidViewletOpen(function(t){return e.onScopeOpened(t.getId())})),this._register(this.panelService.onDidPanelOpen(function(t){return e.onScopeOpened(t.getId())})),this._register(this.viewletService.onDidViewletClose(function(t){return e.onScopeClosed(t.getId())})),this._register(this.panelService.onDidPanelClose(function(t){return e.onScopeClosed(t.getId())}))},t.prototype.onScopeClosed=function(e){
e===this.scopeId&&this.onScopeDeactivated()},t.prototype.onScopeOpened=function(e){e===this.scopeId&&this.onScopeActivated()},t}(n.Disposable);t.ScopedService=u;var d=function(e){function t(t,i,n,r,o){var s=e.call(this,r,o,i)||this;return s.progressbar=t,s.isActive=n||a.isUndefinedOrNull(i),s.progressState=Object.create(null),s}return i(t,e),t.prototype.onScopeDeactivated=function(){this.isActive=!1},t.prototype.onScopeActivated=function(){if(this.isActive=!0,!this.progressState.done)if(this.progressState.whilePromise){var e=void 0;if(this.progressState.whileDelay>0){var t=this.progressState.whileDelay-(Date.now()-this.progressState.whileStart);t>0&&(e=t)}this.doShowWhile(e)}else this.progressState.infinite?this.progressbar.infinite().show():(this.progressState.total&&this.progressbar.total(this.progressState.total).show(),this.progressState.worked&&this.progressbar.worked(this.progressState.worked).show())},t.prototype.clearProgressState=function(){this.progressState.infinite=void 0,
this.progressState.done=void 0,this.progressState.worked=void 0,this.progressState.total=void 0,this.progressState.whilePromise=void 0,this.progressState.whileStart=void 0,this.progressState.whileDelay=void 0},t.prototype.show=function(e,t){var i,n,r=this;return"boolean"==typeof e?i=e:n=e,this.clearProgressState(),this.progressState.infinite=i,this.progressState.total=n,this.isActive&&(a.isUndefinedOrNull(i)?a.isUndefinedOrNull(n)||this.progressbar.total(n).show(t):this.progressbar.infinite().show(t)),{total:function(e){r.progressState.infinite=!1,r.progressState.total=e,r.isActive&&r.progressbar.total(e)},worked:function(e){!r.isActive||r.progressbar.hasTotal()?(r.progressState.infinite=!1,r.progressState.worked?r.progressState.worked+=e:r.progressState.worked=e,r.isActive&&r.progressbar.worked(e)):(r.progressState.infinite=!0,r.progressState.worked=void 0,r.progressState.total=void 0,r.progressbar.infinite().show())},done:function(){r.progressState.infinite=!1,r.progressState.done=!0,
r.isActive&&r.progressbar.stop().hide()}}},t.prototype.showWhile=function(e,t){var i=this;!!this.progressState.whilePromise?e=s.TPromise.join([e,this.progressState.whilePromise]):this.clearProgressState(),this.progressState.whilePromise=e,this.progressState.whileDelay=t||0,this.progressState.whileStart=Date.now();var n=function(){i.progressState.whilePromise&&i.progressState.whilePromise!==e||(i.clearProgressState(),i.isActive&&i.progressbar.stop().hide())};return this.doShowWhile(t),e.then(n,n)},t.prototype.doShowWhile=function(e){this.isActive&&this.progressbar.infinite().show(e)},t=r([o(3,c.IViewletService),o(4,l.IPanelService)],t)}(u);t.ScopedProgressService=d;var p=function(){function e(e){this.progressbar=e}return e.prototype.show=function(e,t){var i=this;return"boolean"==typeof e?this.progressbar.infinite().show(t):this.progressbar.total(e).show(t),{total:function(e){i.progressbar.total(e)},worked:function(e){i.progressbar.hasTotal()?i.progressbar.worked(e):i.progressbar.infinite().show()},
done:function(){i.progressbar.stop().hide()}}},e.prototype.showWhile=function(e,t){var i=this,n=function(){i.progressbar.stop().hide()};return this.progressbar.infinite().show(t),e.then(n,n)},e}();t.ProgressService=p}),define(e[417],t([1,0,2,146,4,22,5,30,24,122,192,101,161,233,234,90,41,7,245]),function(e,t,n,r,o,s,a,c,l,u,d,p,h,g,f,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(e){function t(t,i,n,r,o,s,c,l,u,d,p,h,g,f,v,m){var y=e.call(this,v,m,l)||this;return y.notificationService=t,y.storageService=i,y.telemetryService=n,y.contextMenuService=r,y.partService=o,y.keybindingService=s,y.instantiationService=c,y.registry=u,y.activeCompositeSettingsKey=d,y.defaultCompositeId=p,y.nameForTelemetry=h,y.compositeCSSClass=g,y.titleForegroundColor=f,y._onDidCompositeOpen=y._register(new a.Emitter),y._onDidCompositeClose=y._register(new a.Emitter),y.instantiatedCompositeListeners=[],y.mapCompositeToCompositeContainer={},y.mapActionsBindingToComposite={},
y.mapProgressServiceToComposite={},y.activeComposite=null,y.instantiatedComposites=[],y.lastActiveCompositeId=i.get(d,1,y.defaultCompositeId),y}return i(t,e),t.prototype.openComposite=function(e,t){return this.activeComposite&&this.activeComposite.getId()===e?(t&&this.activeComposite.focus(),Promise.resolve(this.activeComposite)):this.doOpenComposite(e,t)},t.prototype.doOpenComposite=function(e,t){var i=this,n=r.defaultGenerator.nextId();this.currentCompositeOpenToken=n;return(this.activeComposite?this.hideActiveComposite():Promise.resolve(null)).then(function(){i.updateTitle(e);var r=i.createComposite(e,!0);return i.currentCompositeOpenToken!==n||i.activeComposite&&i.activeComposite.getId()!==r.getId()?Promise.resolve(null):i.activeComposite&&i.activeComposite.getId()===r.getId()?(t&&r.focus(),Promise.resolve(r)):i.showComposite(r).then(function(){return t&&r.focus(),r})}).then(function(e){return e&&i._onDidCompositeOpen.fire(e),e})},t.prototype.createComposite=function(e,t){
for(var i=this,n=0;n<this.instantiatedComposites.length;n++)if(this.instantiatedComposites[n].getId()===e)return this.instantiatedComposites[n];var r=this.registry.getComposite(e);if(r){var o=this.instantiationService.createInstance(g.ScopedProgressService,this.progressBar,r.id,t),a=this.instantiationService.createChild(new f.ServiceCollection([v.IProgressService,o])),c=r.instantiate(a);return this.mapProgressServiceToComposite[c.getId()]=o,this.instantiatedComposites.push(c),this.instantiatedCompositeListeners.push(c.onTitleAreaUpdate(function(){return i.onTitleAreaUpdate(c.getId())})),c}throw new Error(s.format("Unable to find composite with id {0}",e))},t.prototype.showComposite=function(e){var t=this;this.activeComposite=e;var i=this.activeComposite.getId();i!==this.defaultCompositeId?this.storageService.store(this.activeCompositeSettingsKey,i,1):this.storageService.remove(this.activeCompositeSettingsKey,1),this.lastActiveCompositeId=this.activeComposite.getId()
;var n,r=this.mapCompositeToCompositeContainer[e.getId()];r?n=Promise.resolve(null):(r=y.$(".composite"),y.addClasses(r,this.compositeCSSClass),r.id=e.getId(),n=e.create(r).then(function(){e.updateStyles()}),this.mapCompositeToCompositeContainer[e.getId()]=r);return this.mapProgressServiceToComposite[e.getId()]&&!r&&this.mapProgressServiceToComposite[e.getId()].showWhile(n,this.partService.isCreated()?800:3200),n.then(function(){if(t.activeComposite&&e.getId()===t.activeComposite.getId()){t.getContentArea().appendChild(r),y.show(r),t.toolBar.actionRunner=e.getActionRunner();var i=t.registry.getComposite(e.getId());i&&i.name!==e.getTitle()&&t.updateTitle(e.getId(),e.getTitle());var n=t.mapActionsBindingToComposite[e.getId()];return n||(n=t.collectCompositeActions(e),t.mapActionsBindingToComposite[e.getId()]=n),n(),t.telemetryActionsListener&&(t.telemetryActionsListener.dispose(),t.telemetryActionsListener=null),t.telemetryActionsListener=t.toolBar.actionRunner.onDidRun(function(e){
e.error&&!l.isPromiseCanceledError(e.error)&&t.notificationService.error(e.error),t.telemetryService&&t.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:t.nameForTelemetry})}),e.setVisible(!0).then(function(){t.activeComposite&&e.getId()===t.activeComposite.getId()&&t.contentAreaSize&&e.layout(t.contentAreaSize)})}},function(e){return t.onError(e)})},t.prototype.onTitleAreaUpdate=function(e){if(this.activeComposite&&this.activeComposite.getId()===e){this.updateTitle(this.activeComposite.getId(),this.activeComposite.getTitle());var t=this.collectCompositeActions(this.activeComposite);this.mapActionsBindingToComposite[this.activeComposite.getId()]=t,t()}else delete this.mapActionsBindingToComposite[e]},t.prototype.updateTitle=function(e,t){var i=this.registry.getComposite(e);if(i&&this.titleLabel){t||(t=i.name);var r=this.keybindingService.lookupKeybinding(e);this.titleLabel.updateTitle(e,t,r?r.getLabel():void 0),
this.toolBar.setAriaLabel(n.localize("ariaCompositeToolbarLabel","{0} actions",t))}},t.prototype.collectCompositeActions=function(e){var t=e.getActions().slice(0),i=e.getSecondaryActions().slice(0);return t.push.apply(t,this.getActions()),i.push.apply(i,this.getSecondaryActions()),this.toolBar.setActions(p.prepareActions(t),p.prepareActions(i))},t.prototype.getActiveComposite=function(){return this.activeComposite},t.prototype.getLastActiveCompositetId=function(){return this.lastActiveCompositeId},t.prototype.hideActiveComposite=function(){var e=this;if(!this.activeComposite)return Promise.resolve(null);var t=this.activeComposite;this.activeComposite=null;var i=this.mapCompositeToCompositeContainer[t.getId()];return t.setVisible(!1).then(function(){return i.remove(),y.hide(i),e.progressBar.stop().hide(),e.toolBar.setActions([])(),e._onDidCompositeClose.fire(t),t})},t.prototype.createTitleArea=function(e){var t=this,i=y.append(e,y.$(".composite"));y.addClass(i,"title"),this.titleLabel=this.createTitleLabel(i)
;var n=y.append(i,y.$(".title-actions"));return this.toolBar=this._register(new u.ToolBar(n,this.contextMenuService,{actionItemProvider:function(e){return t.actionItemProvider(e)},orientation:0,getKeyBinding:function(e){return t.keybindingService.lookupKeybinding(e.id)}})),i},t.prototype.createTitleLabel=function(e){var t=y.append(e,y.$(".title-label")),i=y.append(t,y.$("h2")),r=this;return{updateTitle:function(e,t,r){i.innerHTML=s.escape(t),i.title=r?n.localize("titleTooltip","{0} ({1})",t,r):t},updateStyles:function(){i.style.color=r.getColor(r.titleForegroundColor)}}},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this),this.titleLabel.updateStyles()},t.prototype.actionItemProvider=function(e){if(this.activeComposite)return this.activeComposite.getActionItem(e)},t.prototype.createContentArea=function(e){var t=y.append(e,y.$(".content"));return this.progressBar=this._register(new d.ProgressBar(t)),this._register(m.attachProgressBarStyler(this.progressBar,this.themeService)),
this.progressBar.hide(),t},t.prototype.onError=function(e){this.notificationService.error(c.isString(e)?new Error(e):e)},t.prototype.getProgressIndicator=function(e){return this.mapProgressServiceToComposite[e]},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.layout=function(t){var i=e.prototype.layout.call(this,t);return this.contentAreaSize=i[1],this.activeComposite&&this.activeComposite.layout(this.contentAreaSize),i},t.prototype.shutdown=function(){this.instantiatedComposites.forEach(function(e){return e.shutdown()}),e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.mapCompositeToCompositeContainer=null,this.mapProgressServiceToComposite=null,this.mapActionsBindingToComposite=null;for(var t=0;t<this.instantiatedComposites.length;t++)this.instantiatedComposites[t].dispose();this.instantiatedComposites=[],this.instantiatedCompositeListeners=o.dispose(this.instantiatedCompositeListeners),e.prototype.dispose.call(this)},t}(h.Part)
;t.CompositePart=S}),define(e[419],t([1,0,6,189,15,5,3,7,234,10,192,41,11,26,53,391,325,90,233,2,24,4,28,100,31,17,123,89,55,25,46,32,14,105,390,23,84,116,33,407]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V,W,G){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var K=function(e){function t(i,n,r,o,a,l,u,d,p,h,g,f){var v=e.call(this,l)||this;return v.accessor=i,v._label=r,v.instantiationService=o,v.contextKeyService=a,v.notificationService=u,v.telemetryService=d,v.untitledEditorService=p,v.keybindingService=h,v.menuService=g,v.contextMenuService=f,v._onDidFocus=v._register(new c.Emitter),v._onWillDispose=v._register(new c.Emitter),v._onDidGroupChange=v._register(new c.Emitter),v._onWillOpenEditor=v._register(new c.Emitter),v._onDidOpenEditorFail=v._register(new c.Emitter),v._onWillCloseEditor=v._register(new c.Emitter),v._onDidCloseEditor=v._register(new c.Emitter),v.mapEditorToPendingConfirmation=new Map,v.element=document.createElement("div"),
v._onDidChange=v._register(new c.Relay),v.onDidChange=v._onDidChange.event,n instanceof t?v._group=v._register(n.group.clone()):s.isSerializedEditorGroup(n)?v._group=v._register(o.createInstance(s.EditorGroup,n)):v._group=v._register(o.createInstance(s.EditorGroup,void 0)),v.disposedEditorsWorker=v._register(new x.RunOnceWorker(function(e){return v.handleDisposedEditors(e)},0)),v.create(),v._whenRestored=v.restoreEditors(n),v._whenRestored.then(function(){return v.isRestored=!0}),v.registerListeners(),v}return i(t,e),t.createNew=function(e,i,n){return n.createInstance(t,e,null,i)},t.createFromSerialized=function(e,i,n,r){return r.createInstance(t,i,e,n)},t.createCopy=function(e,i,n,r){return r.createInstance(t,i,e,n)},Object.defineProperty(t.prototype,"onDidFocus",{get:function(){return this._onDidFocus.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onWillDispose",{get:function(){return this._onWillDispose.event},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"onDidGroupChange",{get:function(){return this._onDidGroupChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onWillOpenEditor",{get:function(){return this._onWillOpenEditor.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidOpenEditorFail",{get:function(){return this._onDidOpenEditorFail.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onWillCloseEditor",{get:function(){return this._onWillCloseEditor.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidCloseEditor",{get:function(){return this._onDidCloseEditor.event},enumerable:!0,configurable:!0}),t.prototype.create=function(){u.addClasses(this.element,"editor-group-container"),this.registerContainerListeners(),this.createContainerToolbar(),this.createContainerContextMenu();var e=document.createElement("div");u.addClass(e,"editor-group-letterpress"),this.element.appendChild(e),
this.progressBar=this._register(new h.ProgressBar(this.element)),this._register(g.attachProgressBarStyler(this.progressBar,this.themeService)),this.progressBar.hide();var t=this._register(this.contextKeyService.createScoped(this.element));this.scopedInstantiationService=this.instantiationService.createChild(new d.ServiceCollection([p.IContextKeyService,t],[b.IProgressService,new E.ProgressService(this.progressBar)])),this.handleGroupContextKeys(t),this.titleContainer=document.createElement("div"),u.addClass(this.titleContainer,"title"),this.element.appendChild(this.titleContainer),this.createTitleAreaControl(),this.editorContainer=document.createElement("div"),u.addClass(this.editorContainer,"editor-container"),this.element.appendChild(this.editorContainer),this.editorControl=this._register(this.scopedInstantiationService.createInstance(S.EditorControl,this.editorContainer,this)),this._onDidChange.input=this.editorControl.onDidSizeConstraintsChange,this.doTrackFocus(),this.updateTitleContainer(),
this.updateContainer(),this.updateStyles()},t.prototype.handleGroupContextKeys=function(e){var t,i=this,n=a.EditorGroupActiveEditorDirtyContext.bindTo(e),r=function(){t=I.dispose(t);var e=i._group.activeEditor;e?(n.set(e.isDirty()),t=e.onDidChangeDirty(function(){return n.set(e.isDirty())})):n.set(!1)};this._register(this.onDidGroupChange(function(e){5===e.kind&&r()})),r()},t.prototype.registerContainerListeners=function(){var e=this;this._register(u.addDisposableListener(this.element,u.EventType.DBLCLICK,function(t){e.isEmpty()&&(u.EventHelper.stop(t),e.openEditor(e.untitledEditorService.createOrGet(),a.EditorOptions.create({pinned:!0})))})),this._register(u.addDisposableListener(this.element,u.EventType.MOUSE_UP,function(t){e.isEmpty()&&1===t.button&&(u.EventHelper.stop(t),e.accessor.removeGroup(e))}))},t.prototype.createContainerToolbar=function(){var e=this,t=document.createElement("div");u.addClass(t,"editor-group-container-toolbar"),this.element.appendChild(t);var r=this._group.id,o=new k.ActionBar(t,{
ariaLabel:w.localize("araLabelGroupActions","Editor group actions"),actionRunner:this._register(new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.run=function(e){return e.run(r)},t}(L.ActionRunner)))}),s=this._register(new L.Action(F.CLOSE_EDITOR_GROUP_COMMAND_ID,w.localize("closeGroupAction","Close"),"close-editor-group",!0,function(){return e.accessor.removeGroup(e),n.TPromise.as(!0)})),a=this.keybindingService.lookupKeybinding(s.id);o.push(s,{icon:!0,label:!1,keybinding:a?a.getLabel():void 0})},t.prototype.createContainerContextMenu=function(){var e=this,t=this._register(this.menuService.createMenu(B.MenuId.EmptyEditorGroupContext,this.contextKeyService));this._register(u.addDisposableListener(this.element,u.EventType.CONTEXT_MENU,function(i){return e.onShowContainerContextMenu(t,i)})),this._register(u.addDisposableListener(this.element,T.EventType.Contextmenu,function(i){return e.onShowContainerContextMenu(t)}))},
t.prototype.onShowContainerContextMenu=function(e,t){var i=this;if(this.isEmpty()){var r=this.element;if(t instanceof MouseEvent){var o=new V.StandardMouseEvent(t);r={x:o.posx,y:o.posy}}var s=[];W.fillInContextMenuActions(e,void 0,s,this.contextMenuService),this.contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){return n.TPromise.as(s)},onHide:function(){return i.focus()}})}},t.prototype.doTrackFocus=function(){var e=this,t=this._register(u.trackFocus(this.element));this._register(t.onDidFocus(function(){e.isEmpty()&&e._onDidFocus.fire()}));var i=function(t){var i;if(t instanceof MouseEvent){if(0!==t.button)return;i=t.target}else i=t.initialTarget;u.findParentWithClass(i,"monaco-action-bar",e.titleContainer)||u.findParentWithClass(i,"monaco-breadcrumb-item",e.titleContainer)||setTimeout(function(){e.focus()})};this._register(u.addDisposableListener(this.titleContainer,u.EventType.MOUSE_DOWN,function(e){return i(e)})),
this._register(u.addDisposableListener(this.titleContainer,T.EventType.Tap,function(e){return i(e)})),this._register(this.editorControl.onDidFocus(function(){e._onDidFocus.fire()}))},t.prototype.updateContainer=function(){this.isEmpty()?(u.addClass(this.element,"empty"),this.element.tabIndex=0,this.element.setAttribute("aria-label",w.localize("emptyEditorGroup","{0} (empty)",this.label))):(u.removeClass(this.element,"empty"),this.element.removeAttribute("tabIndex"),this.element.removeAttribute("aria-label")),this.updateStyles()},t.prototype.updateTitleContainer=function(){u.toggleClass(this.titleContainer,"tabs",this.accessor.partOptions.showTabs),u.toggleClass(this.titleContainer,"show-file-icons",this.accessor.partOptions.showIcons)},t.prototype.createTitleAreaControl=function(){this.titleAreaControl&&(this.titleAreaControl.dispose(),u.clearNode(this.titleContainer)),
this.accessor.partOptions.showTabs?this.titleAreaControl=this.scopedInstantiationService.createInstance(y.TabsTitleControl,this.titleContainer,this.accessor,this):this.titleAreaControl=this.scopedInstantiationService.createInstance(N.NoTabsTitleControl,this.titleContainer,this.accessor,this)},t.prototype.restoreEditors=function(e){var i=this;if(0===this._group.count)return n.TPromise.as(void 0);var r;r=e instanceof t?R.getActiveTextEditorOptions(e):new a.EditorOptions;var o=this._group.activeEditor;return r.pinned=this._group.isPinned(o),r.preserveFocus=!0,this.doShowEditor(o,!0,r).then(function(){i.accessor.activeGroup===i&&i.focus()})},t.prototype.registerListeners=function(){var e=this;this._register(this._group.onDidEditorPin(function(t){return e.onDidEditorPin(t)})),this._register(this._group.onDidEditorOpen(function(t){return e.onDidEditorOpen(t)})),this._register(this._group.onDidEditorClose(function(t){return e.onDidEditorClose(t)})),this._register(this._group.onDidEditorDispose(function(t){
return e.onDidEditorDispose(t)})),this._register(this._group.onDidEditorBecomeDirty(function(t){return e.onDidEditorBecomeDirty(t)})),this._register(this._group.onDidEditorLabelChange(function(t){return e.onDidEditorLabelChange(t)})),this._register(this.accessor.onDidEditorPartOptionsChange(function(t){return e.onDidEditorPartOptionsChange(t)}))},t.prototype.onDidEditorPin=function(e){this._onDidGroupChange.fire({kind:7,editor:e})},t.prototype.onDidEditorOpen=function(e){this.telemetryService.publicLog("editorOpened",e.getTelemetryDescriptor()),this.updateContainer(),this._onDidGroupChange.fire({kind:2,editor:e})},t.prototype.onDidEditorClose=function(e){var t=this;this._onWillCloseEditor.fire(e);var i=e.editor,n=[i];i instanceof a.SideBySideEditorInput&&!this.accessor.groups.some(function(e){return e.group.contains(i)})&&n.push(i.master,i.details),n.forEach(function(e){var i=e?e.getResource():void 0;t.accessor.groups.some(function(t){return t.group.contains(i||e)})||e.close()}),
this.telemetryService.publicLog("editorClosed",e.editor.getTelemetryDescriptor()),this.updateContainer(),this._onDidCloseEditor.fire(e),this._onDidGroupChange.fire({kind:3,editor:i,editorIndex:e.index})},t.prototype.onDidEditorDispose=function(e){this.disposedEditorsWorker.work(e)},t.prototype.handleDisposedEditors=function(e){var t,i=this,n=[];e.forEach(function(e){i._group.isActive(e)?t=e:i._group.contains(e)&&n.push(e)}),n.forEach(function(e){return i.doCloseEditor(e,!1)}),t&&this.doCloseEditor(t,!1)},t.prototype.onDidEditorPartOptionsChange=function(e){this.updateTitleContainer(),e.oldPartOptions.showTabs!==e.newPartOptions.showTabs?(this.createTitleAreaControl(),this._group.activeEditor&&this.titleAreaControl.openEditor(this._group.activeEditor)):this.titleAreaControl.updateOptions(e.oldPartOptions,e.newPartOptions),this.updateStyles(),e.oldPartOptions.enablePreview&&!e.newPartOptions.enablePreview&&this.pinEditor(this._group.previewEditor)},t.prototype.onDidEditorBecomeDirty=function(e){
this.pinEditor(e),this.titleAreaControl.updateEditorDirty(e),this._onDidGroupChange.fire({kind:8,editor:e})},t.prototype.onDidEditorLabelChange=function(e){this.titleAreaControl.updateEditorLabel(e),this._onDidGroupChange.fire({kind:6,editor:e})},Object.defineProperty(t.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"whenRestored",{get:function(){return this._whenRestored},enumerable:!0,configurable:!0}),t.prototype.setLabel=function(e){this._label!==e&&(this._label=e,this._onDidGroupChange.fire({kind:1}))},t.prototype.setActive=function(e){this.active=e,u.toggleClass(this.element,"active",e),u.toggleClass(this.element,"inactive",!e),this.titleAreaControl.setActive(e),this.updateStyles(),
this._onDidGroupChange.fire({kind:0})},t.prototype.isEmpty=function(){return 0===this._group.count},Object.defineProperty(t.prototype,"id",{get:function(){return this._group.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editors",{get:function(){return this._group.getEditors()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._group.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeControl",{get:function(){return this.editorControl?this.editorControl.activeControl:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEditor",{get:function(){return this._group.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previewEditor",{get:function(){return this._group.previewEditor},enumerable:!0,configurable:!0}),t.prototype.isPinned=function(e){return this._group.isPinned(e)},t.prototype.isActive=function(e){return this._group.isActive(e)},
t.prototype.getEditors=function(e){return 0===e?this._group.getEditors(!0):this.editors},t.prototype.getEditor=function(e){return this._group.getEditor(e)},t.prototype.getIndexOfEditor=function(e){return this._group.indexOf(e)},t.prototype.isOpened=function(e){return this._group.contains(e)},t.prototype.focus=function(){this.activeControl?this.activeControl.focus():this.element.focus(),this._onDidFocus.fire()},t.prototype.pinEditor=function(e){void 0===e&&(e=this.activeEditor),e&&!this._group.isPinned(e)&&(this._group.pin(e),this.titleAreaControl.pinEditor(e))},t.prototype.invokeWithinContext=function(e){return this.scopedInstantiationService.invokeFunction(e)},t.prototype.openEditor=function(e,t){if(!e)return n.TPromise.as(void 0);var i=new z(this._group.id,e,t);this._onWillOpenEditor.fire(i);var r=i.isPrevented();return r?r():this.doOpenEditor(e,t)},t.prototype.doOpenEditor=function(e,t){var i={index:t?t.index:void 0,
pinned:!this.accessor.partOptions.enablePreview||e.isDirty()||t&&t.pinned||t&&"number"==typeof t.index,active:0===this._group.count||!t||!t.inactive};i.active||i.pinned||!this._group.isPreview(this._group.activeEditor)||(i.active=!0),!i.active||t&&t.preserveFocus||this.accessor.activateGroup(this),this._group.openEditor(e,i);return this.doShowEditor(e,i.active,t)},t.prototype.doShowEditor=function(e,t,i){var r,o=this;return r=t?this.editorControl.openEditor(e,i).then(function(t){t.editorChanged&&o._onDidGroupChange.fire({kind:5,editor:e})},function(t){o.doHandleOpenEditorError(t,e,i)}):n.TPromise.as(void 0),this.titleAreaControl.openEditor(e),r},t.prototype.doHandleOpenEditorError=function(e,t,i){if(this.isRestored&&!C.isPromiseCanceledError(e)&&!this.ignoreOpenEditorErrors){var n={primary:[]};C.isErrorWithActions(e)&&(n.primary=e.actions);var r=this.notificationService.notify({severity:_.Severity.Error,message:w.localize("editorOpenError","Unable to open '{0}': {1}.",t.getName(),D.toErrorMessage(e)),
actions:n});c.once(r.onDidClose)(function(){return I.dispose(n.primary)})}if(this._onDidOpenEditorFail.fire(t),this.activeEditor===t){var o=!i||!i.preserveFocus;this.doCloseEditor(t,o,!0)}},t.prototype.openEditors=function(e){var t=this;if(!e.length)return n.TPromise.as(void 0);var i=(e=e.slice(0)).shift(),r=i.editor,o=i.options;return this.openEditor(r,o).then(function(){var i=t.getIndexOfEditor(r)+1;return Promise.all(e.map(function(e,n){var r=e.editor,o=e.options||new a.EditorOptions;return o.inactive=!0,o.pinned=!0,o.index=i+n,t.openEditor(r,o)})).then(function(){})})},t.prototype.moveEditor=function(e,t,i){this===t?this.doMoveEditorInsideGroup(e,i):this.doMoveOrCopyEditorAcrossGroups(e,t,i)},t.prototype.doMoveEditorInsideGroup=function(e,t){var i=t?t.index:void 0;if("number"==typeof i){var n=this._group.indexOf(e);n!==i&&(this._group.moveEditor(e,i),this._group.pin(e),this.titleAreaControl.moveEditor(e,n,i),this.titleAreaControl.pinEditor(e),this._onDidGroupChange.fire({kind:4,editor:e}))}},
t.prototype.doMoveOrCopyEditorAcrossGroups=function(e,t,i,n){void 0===i&&(i=Object.create(null));var r=R.getActiveTextEditorOptions(this,e,a.EditorOptions.create(i));r.pinned=!0,t.openEditor(e,r),n||this.doCloseEditor(e,!1)},t.prototype.copyEditor=function(e,t,i){this===t?this.doMoveEditorInsideGroup(e,i):this.doMoveOrCopyEditorAcrossGroups(e,t,i,!0)},t.prototype.closeEditor=function(e){var t=this;return void 0===e&&(e=this.activeEditor),e?this.handleDirty([e]).then(function(i){i||t.doCloseEditor(e)}):n.TPromise.as(void 0)},t.prototype.doCloseEditor=function(e,t,i){void 0===t&&(t=this.accessor.activeGroup===this),this._group.isActive(e)?this.doCloseActiveEditor(t,i):this.doCloseInactiveEditor(e),this.titleAreaControl.closeEditor(e)},t.prototype.doCloseActiveEditor=function(e,t){var i=this;void 0===e&&(e=this.accessor.activeGroup===this);var n=this.activeEditor,r=u.isAncestor(document.activeElement,this.element),o=this.accessor.partOptions.closeEmptyGroups;if(o&&this.active&&1===this._group.count){
var s=this.accessor.getGroups(1)[1];s&&(r?s.focus():this.accessor.activateGroup(s))}this._group.closeEditor(n);var c=this._group.activeEditor;if(c){t&&(this.ignoreOpenEditorErrors=!0);var l=e?void 0:a.EditorOptions.create({preserveFocus:!0});this.openEditor(c,l).then(function(){i.ignoreOpenEditorErrors=!1})}else this.editorControl.closeEditor(n),r&&!o&&this.focus(),this._onDidGroupChange.fire({kind:5}),o&&this.accessor.removeGroup(this)},t.prototype.doCloseInactiveEditor=function(e){this._group.closeEditor(e)},t.prototype.handleDirty=function(e){var t=this;if(!e.length)return n.TPromise.as(!1);var i=e.shift(),r=this.mapEditorToPendingConfirmation.get(i);return r||(r=this.doHandleDirty(i),this.mapEditorToPendingConfirmation.set(i,r)),r.then(function(n){return t.mapEditorToPendingConfirmation.delete(i),n||t.handleDirty(e)})},t.prototype.doHandleDirty=function(e){var t=this;return!e.isDirty()||this.accessor.groups.some(function(i){return i!==t&&i.group.contains(e,!0)
})||e instanceof a.SideBySideEditorInput&&this.isOpened(e.master)?n.TPromise.as(!1):this.openEditor(e).then(function(){return e.confirmSave().then(function(t){if(!e.isDirty())return 2===t;switch(t){case 0:return e.save().then(function(e){return!e});case 1:return e.revert().then(function(e){return!e},function(t){return e.revert({soft:!0}).then(function(e){return!e})});case 2:return!0}})})},t.prototype.closeEditors=function(e){var t=this;if(this.isEmpty())return n.TPromise.as(void 0);var i=this.getEditorsToClose(e);return this.handleDirty(i.slice(0)).then(function(e){e||t.doCloseEditors(i)})},t.prototype.getEditorsToClose=function(e){if(Array.isArray(e))return e;var t=e,i="number"==typeof t.direction,n=this._group.getEditors(!i);return t.savedOnly?n=n.filter(function(e){return!e.isDirty()}):i?n=0===t.direction?n.slice(0,this._group.indexOf(t.except)):n.slice(this._group.indexOf(t.except)+1):t.except&&(n=n.filter(function(e){return!e.matches(t.except)})),n},t.prototype.doCloseEditors=function(e){var t=this,i=!1
;e.forEach(function(e){t.isActive(e)?i=!0:t.doCloseInactiveEditor(e)}),i&&this.doCloseActiveEditor(),this.titleAreaControl.closeEditors(e)},t.prototype.closeAllEditors=function(){var e=this;if(this.isEmpty())return this.accessor.partOptions.closeEmptyGroups&&this.accessor.removeGroup(this),n.TPromise.as(void 0);var t=this._group.getEditors(!0);return this.handleDirty(t.slice(0)).then(function(t){t||e.doCloseAllEditors()})},t.prototype.doCloseAllEditors=function(){var e=this;this.editors.forEach(function(t){e.isActive(t)||e.doCloseInactiveEditor(t)}),this.doCloseActiveEditor(),this.titleAreaControl.closeAllEditors()},t.prototype.replaceEditors=function(e){var t,i=this,r=[];if(e.forEach(function(e){var n=e.editor,o=e.replacement,s=e.options;if(!n.isDirty()){var c=i.getIndexOfEditor(n);if(c>=0){var l=i.isActive(n);s?s.index=c:s=a.EditorOptions.create({index:c}),s.inactive=!l,s.pinned=!0;var u={editor:n,replacement:o,options:s};l?t=u:r.push(u)}}}),r.forEach(function(e){var t=e.editor,n=e.replacement,r=e.options
;i.doOpenEditor(n,r),i.doCloseInactiveEditor(t),i.titleAreaControl.closeEditor(t)}),t){var o=this.doOpenEditor(t.replacement,t.options);return this.doCloseInactiveEditor(t.editor),this.titleAreaControl.closeEditor(t.editor),o}return n.TPromise.as(void 0)},t.prototype.updateStyles=function(){var e=this.isEmpty();this.element.style.backgroundColor=e?this.getColor(m.EDITOR_GROUP_EMPTY_BACKGROUND):null;var t=this.accessor.partOptions.showTabs,i=this.getColor(m.EDITOR_GROUP_HEADER_TABS_BORDER)||this.getColor(v.contrastBorder);!e&&t&&i?(u.addClass(this.titleContainer,"title-border-bottom"),this.titleContainer.style.setProperty("--title-border-bottom-color",i.toString())):(u.removeClass(this.titleContainer,"title-border-bottom"),this.titleContainer.style.removeProperty("--title-border-bottom-color")),this.titleContainer.style.backgroundColor=this.getColor(t?m.EDITOR_GROUP_HEADER_TABS_BACKGROUND:m.EDITOR_GROUP_HEADER_NO_TABS_BACKGROUND),this.editorContainer.style.backgroundColor=this.getColor(v.editorBackground)},
Object.defineProperty(t.prototype,"minimumWidth",{get:function(){return this.editorControl.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumHeight",{get:function(){return this.editorControl.minimumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumWidth",{get:function(){return this.editorControl.maximumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumHeight",{get:function(){return this.editorControl.maximumHeight},enumerable:!0,configurable:!0}),t.prototype.layout=function(e,t){this.dimension=new u.Dimension(e,t),this.titleAreaControl.layout(new u.Dimension(this.dimension.width,this.titleAreaControl.getPreferredHeight())),this.editorControl.layout(new u.Dimension(this.dimension.width,this.dimension.height-this.titleAreaControl.getPreferredHeight()))},t.prototype.relayout=function(){if(this.dimension){var e=this.dimension,t=e.width,i=e.height;this.layout(t,i)}},t.prototype.toJSON=function(){
return this._group.serialize()},t.prototype.shutdown=function(){this.editorControl.shutdown()},t.prototype.dispose=function(){this._disposed=!0,this._onWillDispose.fire(),this.titleAreaControl.dispose(),e.prototype.dispose.call(this)},t=r([o(3,l.IInstantiationService),o(4,p.IContextKeyService),o(5,f.IThemeService),o(6,_.INotificationService),o(7,A.ITelemetryService),o(8,O.IUntitledEditorService),o(9,P.IKeybindingService),o(10,B.IMenuService),o(11,G.IContextMenuService)],t)}(m.Themable);t.EditorGroupView=K;var z=function(){function e(e,t,i){this._group=e,this._editor=t,this._options=i}return Object.defineProperty(e.prototype,"groupId",{get:function(){return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editor",{get:function(){return this._editor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.prevent=function(e){this.override=e},e.prototype.isPrevented=function(){
return this.override},e}();f.registerThemingParticipant(function(e,t,i){var n="resources/letterpress"+("dark"===e.type?"-dark":"hc"===e.type?"-hc":"")+".svg";t.addRule("\n\t\t.monaco-workbench > .part.editor > .content .editor-group-container.empty .editor-group-letterpress {\n\t\t\tbackground-image: url('"+M.join(i.appRoot,n)+"')\n\t\t}\n\t");var r=e.getColor(m.EDITOR_GROUP_FOCUSED_EMPTY_BORDER)
;r?t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content:not(.empty) .editor-group-container.empty.active:focus {\n\t\t\t\toutline-width: 1px;\n\t\t\t\toutline-color: "+r+";\n\t\t\t\toutline-offset: -2px;\n\t\t\t\toutline-style: solid;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .part.editor > .content.empty .editor-group-container.empty.active:focus {\n\t\t\t\toutline: none; /* never show outline for empty group if it is the last */\n\t\t\t}\n\t\t"):t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content .editor-group-container.empty.active:focus {\n\t\t\t\toutline: none; /* disable focus outline unless active empty group border is defined */\n\t\t\t}\n\t\t")})}),define(e[420],t([1,0,11,161,7,5,26,3,353,39,53,19,89,419,9,4,40,36,189,6,17,385,2,73,349,217,24,388]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var R=function(){function e(){this.element=a.$(".grid-view-container"),this._onDidChange=new c.Relay,
this.onDidChange=this._onDidChange.event}return Object.defineProperty(e.prototype,"minimumWidth",{get:function(){return this.gridWidget?this.gridWidget.minimumWidth:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumWidth",{get:function(){return this.gridWidget?this.gridWidget.maximumWidth:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minimumHeight",{get:function(){return this.gridWidget?this.gridWidget.minimumHeight:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumHeight",{get:function(){return this.gridWidget?this.gridWidget.maximumHeight:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridWidget",{get:function(){return this._gridWidget},set:function(e){this.element.innerHTML="",e?(this.element.appendChild(e.element),this._onDidChange.input=e.onDidChange):this._onDidChange.input=c.Event.None,this._gridWidget=e},enumerable:!0,configurable:!0}),
e.prototype.layout=function(e,t){this.gridWidget&&this.gridWidget.layout(e,t)},e.prototype.dispose=function(){this._onDidChange.dispose()},e}(),O=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,{hasTitle:!1},r)||this;return a.restorePreviousState=i,a.instantiationService=n,a.configurationService=o,a.storageService=s,a._onDidLayout=a._register(new c.Emitter),a._onDidActiveGroupChange=a._register(new c.Emitter),a._onDidAddGroup=a._register(new c.Emitter),a._onDidRemoveGroup=a._register(new c.Emitter),a._onDidMoveGroup=a._register(new c.Emitter),a.onDidSetGridWidget=a._register(new c.Emitter),a._onDidSizeConstraintsChange=a._register(new c.Relay),a._onDidPreferredSizeChange=a._register(new c.Emitter),a.groupViews=new Map,a.mostRecentActiveGroups=[],a.enforcedPartOptions=[],a._onDidEditorPartOptionsChange=a._register(new c.Emitter),a.gridWidgetView=new R,a._partOptions=f.getEditorPartOptions(a.configurationService.getValue()),a.memento=a.getMemento(a.storageService,1),
a.globalMemento=a.getMemento(a.storageService,0),a._whenRestored=new w.TPromise(function(e){a.whenRestoredComplete=e}),a.registerListeners(),a}return i(t,e),Object.defineProperty(t.prototype,"onDidLayout",{get:function(){return this._onDidLayout.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidActiveGroupChange",{get:function(){return this._onDidActiveGroupChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidAddGroup",{get:function(){return this._onDidAddGroup.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidRemoveGroup",{get:function(){return this._onDidRemoveGroup.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidMoveGroup",{get:function(){return this._onDidMoveGroup.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidSizeConstraintsChange",{get:function(){return c.anyEvent(this.onDidSetGridWidget.event,this._onDidSizeConstraintsChange.event)},enumerable:!0,
configurable:!0}),Object.defineProperty(t.prototype,"onDidPreferredSizeChange",{get:function(){return this._onDidPreferredSizeChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEditorPartOptionsChange",{get:function(){return this._onDidEditorPartOptionsChange.event},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration(function(t){return e.onConfigurationUpdated(t)}))},t.prototype.onConfigurationUpdated=function(e){f.impactsEditorPartOptions(e)&&this.handleChangedPartOptions()},t.prototype.handleChangedPartOptions=function(){var e=this._partOptions,t=f.getEditorPartOptions(this.configurationService.getValue());this.enforcedPartOptions.forEach(function(e){S.assign(t,e)}),this._partOptions=t,this._onDidEditorPartOptionsChange.fire({oldPartOptions:e,newPartOptions:t})},Object.defineProperty(t.prototype,"partOptions",{get:function(){return this._partOptions},enumerable:!0,
configurable:!0}),t.prototype.enforcePartOptions=function(e){var t=this;return this.enforcedPartOptions.push(e),this.handleChangedPartOptions(),y.toDisposable(function(){t.enforcedPartOptions.splice(t.enforcedPartOptions.indexOf(e),1),t.handleChangedPartOptions()})},Object.defineProperty(t.prototype,"activeGroup",{get:function(){return this._activeGroup},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return p.values(this.groupViews)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.groupViews.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){if(this.gridWidget)return 0===this.gridWidget.orientation?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"whenRestored",{get:function(){return this._whenRestored},enumerable:!0,configurable:!0}),t.prototype.getGroups=function(e){var t=this;switch(void 0===e&&(e=0),e){case 0:return this.groups;case 1:
var i=this.mostRecentActiveGroups.map(function(e){return t.getGroup(e)});return g.distinct(i.concat(this.groups));case 2:var n=[];return this.gridWidget&&this.fillGridNodes(n,this.gridWidget.getViews()),n}},t.prototype.fillGridNodes=function(e,t){var i=this;d.isGridBranchNode(t)?t.children.forEach(function(t){return i.fillGridNodes(e,t)}):e.push(t.view)},t.prototype.getGroup=function(e){return this.groupViews.get(e)},t.prototype.findGroup=function(e,t,i){return void 0===t&&(t=this.activeGroup),"number"==typeof e.direction?this.doFindGroupByDirection(e.direction,t,i):this.doFindGroupByLocation(e.location,t,i)},t.prototype.doFindGroupByDirection=function(e,t,i){var n=this,r=this.assertGroupView(t),o=this.gridWidget.getNeighborViews(r,this.toGridViewDirection(e),i);return o.sort(function(e,t){return n.mostRecentActiveGroups.indexOf(e.id)-n.mostRecentActiveGroups.indexOf(t.id)}),o[0]},t.prototype.doFindGroupByLocation=function(e,t,i){var n=this.assertGroupView(t),r=this.getGroups(2),o=r.indexOf(n);switch(e){
case 0:return r[0];case 1:return r[r.length-1];case 2:var s=r[o+1];return!s&&i&&(s=this.doFindGroupByLocation(0,t)),s;case 3:var a=r[o-1];return!a&&i&&(a=this.doFindGroupByLocation(1,t)),a}},t.prototype.activateGroup=function(e){var t=this.assertGroupView(e);return this.doSetGroupActive(t),t},t.prototype.getSize=function(e){var t=this.assertGroupView(e);return this.gridWidget.getViewSize(t)},t.prototype.setSize=function(e,t){var i=this.assertGroupView(e);this.gridWidget.resizeView(i,t)},t.prototype.arrangeGroups=function(e){this.count<2||this.gridWidget&&(1===e?this.gridWidget.distributeViewSizes():this.gridWidget.maximizeViewSize(this.activeGroup))},t.prototype.setGroupOrientation=function(e){if(this.gridWidget){var t=0===e?1:0;this.gridWidget.orientation!==t&&(this.gridWidget.orientation=t,this.resetPreferredSize())}},t.prototype.applyLayout=function(e){function t(e){e.forEach(function(e){Array.isArray(e.groups)?t(e.groups):r++})}var i=this,n=a.isAncestor(document.activeElement,this.container),r=0
;t(e.groups);var o=this.getGroups(2);if(r<o.length){var s=o[r-1];o.forEach(function(e,t){t>=r&&i.mergeGroup(e,s)}),o=this.getGroups(2)}var c=this.activeGroup,l=d.createSerializedGrid({orientation:this.toGridViewOrientation(e.orientation,this.isTwoDimensionalGrid()?this.gridWidget.orientation:x.orthogonal(this.gridWidget.orientation)),groups:e.groups});this.doCreateGridControlWithState(l,c.id,o),this.doLayout(this.dimension),this.updateContainer(),this.resetPreferredSize(),this.getGroups(2).forEach(function(e){-1===o.indexOf(e)&&i._onDidAddGroup.fire(e)}),this.updateGroupLabels(),n&&this._activeGroup.focus()},t.prototype.isTwoDimensionalGrid=function(){var e=this.gridWidget.getViews();return!!d.isGridBranchNode(e)&&e.children.some(function(e){return d.isGridBranchNode(e)})},t.prototype.addGroup=function(e,t,i){var n=this.assertGroupView(e),r=this.doAddGroup(n,t);return i&&i.activate&&this.doSetGroupActive(r),r},t.prototype.doAddGroup=function(e,t,i){var n=this.doCreateGroupView(i)
;return this.gridWidget.addView(n,"distribute",e,this.toGridViewDirection(t)),this.updateContainer(),this.resetPreferredSize(),this._onDidAddGroup.fire(n),this.updateGroupLabels(),n},t.prototype.doCreateGroupView=function(e){var t,i=this,n=this.getGroupLabel(this.count+1);t=e instanceof v.EditorGroupView?v.EditorGroupView.createCopy(e,this,n,this.instantiationService):E.isSerializedEditorGroup(e)?v.EditorGroupView.createFromSerialized(e,this,n,this.instantiationService):v.EditorGroupView.createNew(this,n,this.instantiationService),this.groupViews.set(t.id,t);var r=[];return r.push(t.onDidFocus(function(){i.doSetGroupActive(t)})),r.push(t.onDidGroupChange(function(e){5===e.kind&&i.updateContainer()})),c.once(t.onWillDispose)(function(){r=y.dispose(r),i.groupViews.delete(t.id),i.doUpdateMostRecentActive(t)}),t},t.prototype.doSetGroupActive=function(e){if(this._activeGroup!==e){var t=this._activeGroup;if(this._activeGroup=e,this.doUpdateMostRecentActive(e,!0),t&&t.setActive(!1),e.setActive(!0),this.gridWidget){
var i=this.gridWidget.getViewSize2(e);i.width!==e.minimumWidth&&i.height!==e.minimumHeight||this.arrangeGroups(0)}this._onDidActiveGroupChange.fire(e)}},t.prototype.doUpdateMostRecentActive=function(e,t){var i=this.mostRecentActiveGroups.indexOf(e.id);-1!==i&&this.mostRecentActiveGroups.splice(i,1),t&&this.mostRecentActiveGroups.unshift(e.id)},t.prototype.toGridViewDirection=function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3}},t.prototype.toGridViewOrientation=function(e,t){return"number"==typeof e?0===e?1:0:t},t.prototype.removeGroup=function(e){var t=this.assertGroupView(e);if(1!==this.groupViews.size)return t.isEmpty()?this.doRemoveEmptyGroup(t):void this.doRemoveGroupWithEditors(t)},t.prototype.doRemoveGroupWithEditors=function(e){var t,i=this.getGroups(1);t=this._activeGroup===e?i[1]:i[0],this.mergeGroup(e,t)},t.prototype.doRemoveEmptyGroup=function(e){var t=a.isAncestor(document.activeElement,this.container);if(this._activeGroup===e){var i=this.getGroups(1)[1]
;this.activateGroup(i)}this.gridWidget.removeView(e,"distribute"),e.dispose(),t&&this._activeGroup.focus(),this.updateGroupLabels(),this.updateContainer(),this.resetPreferredSize(),this._onDidRemoveGroup.fire(e)},t.prototype.moveGroup=function(e,t,i){var n=this.assertGroupView(e),r=this.assertGroupView(t);if(n.id===r.id)throw new Error("Cannot move group into its own");var o=a.isAncestor(document.activeElement,n.element);return this.gridWidget.moveView(n,"distribute",r,this.toGridViewDirection(i)),o&&n.focus(),this._onDidMoveGroup.fire(n),n},t.prototype.copyGroup=function(e,t,i){var n=this.assertGroupView(e),r=this.assertGroupView(t),o=a.isAncestor(document.activeElement,n.element),s=this.doAddGroup(r,i,n);return o&&s.focus(),s},t.prototype.mergeGroup=function(e,t,i){var n=this,r=this.assertGroupView(e),o=this.assertGroupView(t),s=i&&"number"==typeof i.index?i.index:o.count;return r.editors.forEach(function(e){var t=!r.isActive(e)||n._activeGroup!==r,a={index:s,inactive:t,preserveFocus:t}
;i&&0===i.mode?r.copyEditor(e,o,a):r.moveEditor(e,o,a),s++}),r.isEmpty()&&!r.disposed&&this.removeGroup(r),o},t.prototype.assertGroupView=function(e){if("number"==typeof e&&(e=this.getGroup(e)),!e)throw new Error("Invalid editor group provided!");return e},Object.defineProperty(t.prototype,"minimumWidth",{get:function(){return this.centeredLayoutWidget.minimumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumWidth",{get:function(){return this.centeredLayoutWidget.maximumWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumHeight",{get:function(){return this.centeredLayoutWidget.minimumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumHeight",{get:function(){return this.centeredLayoutWidget.maximumHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preferredSize",{get:function(){
return this._preferredSize||(this._preferredSize=new a.Dimension(this.gridWidget.minimumWidth,this.gridWidget.minimumHeight)),this._preferredSize},enumerable:!0,configurable:!0}),t.prototype.resetPreferredSize=function(){this._preferredSize=void 0,this._onDidPreferredSizeChange.fire()},Object.defineProperty(t.prototype,"gridSeparatorBorder",{get:function(){return this.theme.getColor(h.EDITOR_GROUP_BORDER)||this.theme.getColor(l.contrastBorder)||D.Color.transparent},enumerable:!0,configurable:!0}),t.prototype.updateStyles=function(){this.container.style.backgroundColor=this.getColor(l.editorBackground);var e={separatorBorder:this.gridSeparatorBorder,background:this.theme.getColor(h.EDITOR_PANE_BACKGROUND)||D.Color.transparent};this.gridWidget.style(e),this.centeredLayoutWidget.styles(e)},t.prototype.createContentArea=function(e){return this.container=document.createElement("div"),a.addClass(this.container,"content"),e.appendChild(this.container),this.doCreateGridControl(),
this.centeredLayoutWidget=this._register(new A.CenteredViewLayout(this.container,this.gridWidgetView,this.globalMemento[t.EDITOR_PART_CENTERED_VIEW_STORAGE_KEY])),this._register(this.instantiationService.createInstance(I.EditorDropTarget,this,this.container)),this.container},t.prototype.centerLayout=function(e){this.centeredLayoutWidget.activate(e)},t.prototype.isLayoutCentered=function(){return this.centeredLayoutWidget.isActive()},t.prototype.doCreateGridControl=function(){var e=this;if(this.restorePreviousState&&this.doCreateGridControlWithPreviousState(),!this.gridWidget){var t=this.doCreateGroupView();this.doSetGridWidget(new d.SerializableGrid(t)),this.doSetGroupActive(t)}C.always(w.TPromise.join(this.groups.map(function(e){return e.whenRestored})),function(){return e.whenRestoredComplete(void 0)}),this.updateContainer()},t.prototype.doCreateGridControlWithPreviousState=function(){var e=this.memento[t.EDITOR_PART_UI_STATE_STORAGE_KEY];if(e&&e.serializedGrid)try{
this.mostRecentActiveGroups=e.mostRecentActiveGroups,this.doCreateGridControlWithState(e.serializedGrid,e.activeGroup),this._activeGroup.focus()}catch(t){this.handleGridRestoreError(t,e)}},t.prototype.handleGridRestoreError=function(e,t){T.onUnexpectedError(new Error("Error restoring editor grid widget: "+e+" (with state: "+JSON.stringify(t)+")")),this.gridWidget&&this.doSetGridWidget(),this.groupViews.forEach(function(e){return e.dispose()}),this.groupViews.clear(),this._activeGroup=void 0,this.mostRecentActiveGroups=[]},t.prototype.doCreateGridControlWithState=function(e,t,i){var n,r=this;n=i?i.slice(0):[];var o=[],s=d.SerializableGrid.deserialize(e,{fromJSON:function(e){var i;return i=n.length>0?n.shift():r.doCreateGroupView(e),o.push(i),i.id===t&&r.doSetGroupActive(i),i}},{styles:{separatorBorder:this.gridSeparatorBorder}});this._activeGroup||this.doSetGroupActive(o[0]),this.mostRecentActiveGroups.some(function(e){return!r.getGroup(e)})&&(this.mostRecentActiveGroups=o.map(function(e){return e.id})),
this.doSetGridWidget(s)},t.prototype.doSetGridWidget=function(e){this.gridWidget&&this.gridWidget.dispose(),this.gridWidget=e,this.gridWidgetView.gridWidget=e,e&&(this._onDidSizeConstraintsChange.input=e.onDidChange),this.onDidSetGridWidget.fire()},t.prototype.updateContainer=function(){a.toggleClass(this.container,"empty",this.isEmpty())},t.prototype.updateGroupLabels=function(){var e=this;this.getGroups(2).forEach(function(t,i){t.setLabel(e.getGroupLabel(i+1))})},t.prototype.getGroupLabel=function(e){return _.localize("groupLabel","Group {0}",e)},t.prototype.isEmpty=function(){return 1===this.groupViews.size&&this._activeGroup.isEmpty()},t.prototype.layout=function(t){var i=e.prototype.layout.call(this,t);return this.doLayout(i[1]),i},t.prototype.doLayout=function(e){this.dimension=e,this.centeredLayoutWidget.layout(this.dimension.width,this.dimension.height),this._onDidLayout.fire(e)},t.prototype.shutdown=function(){if(this.gridWidget){var i={serializedGrid:this.gridWidget.serialize(),
activeGroup:this._activeGroup.id,mostRecentActiveGroups:this.mostRecentActiveGroups};this.isEmpty()?delete this.memento[t.EDITOR_PART_UI_STATE_STORAGE_KEY]:this.memento[t.EDITOR_PART_UI_STATE_STORAGE_KEY]=i}this.globalMemento[t.EDITOR_PART_CENTERED_VIEW_STORAGE_KEY]=this.centeredLayoutWidget.state,this.groupViews.forEach(function(e){return e.shutdown()}),e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.groupViews.forEach(function(e){return e.dispose()}),this.groupViews.clear(),this.gridWidget&&this.gridWidget.dispose(),e.prototype.dispose.call(this)},t.EDITOR_PART_UI_STATE_STORAGE_KEY="editorpart.state",t.EDITOR_PART_CENTERED_VIEW_STORAGE_KEY="editorpart.centeredview",t=r([o(2,u.IInstantiationService),o(3,n.IThemeService),o(4,m.IConfigurationService),o(5,b.IStorageService)],t)}(s.Part);t.EditorPart=O}),define(e[421],t([1,0,6,2,8,14,417,77,44,23,48,42,36,33,31,32,3,11,26,53,28,7,84,251]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});var D=function(e){function t(i,n,r,o,s,c,l,d,p){var h=e.call(this,n,r,o,s,c,l,d,p,a.Registry.as(u.Extensions.Viewlets),t.activeViewletSettingsKey,a.Registry.as(u.Extensions.Viewlets).getDefaultViewletId(),"sideBar","viewlet",w.SIDE_BAR_TITLE_FOREGROUND,i,{hasTitle:!0,borderWidth:function(){return h.getColor(w.SIDE_BAR_BORDER)||h.getColor(E.contrastBorder)?1:0}})||this;return h}return i(t,e),Object.defineProperty(t.prototype,"onDidViewletOpen",{get:function(){return this._onDidCompositeOpen.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidViewletClose",{get:function(){return this._onDidCompositeClose.event},enumerable:!0,configurable:!0}),t.prototype.createTitleArea=function(t){var i=this,n=e.prototype.createTitleArea.call(this,t);return this._register(I.addDisposableListener(n,I.EventType.CONTEXT_MENU,function(e){i.onTitleAreaContextMenu(new _.StandardMouseEvent(e))})),n},t.prototype.updateStyles=function(){
e.prototype.updateStyles.call(this);var t=this.getContainer();t.style.backgroundColor=this.getColor(w.SIDE_BAR_BACKGROUND),t.style.color=this.getColor(w.SIDE_BAR_FOREGROUND);var i=this.getColor(w.SIDE_BAR_BORDER)||this.getColor(E.contrastBorder),n=0===this.partService.getSideBarPosition();t.style.borderRightWidth=i&&n?"1px":null,t.style.borderRightStyle=i&&n?"solid":null,t.style.borderRightColor=n?i:null,t.style.borderLeftWidth=i&&!n?"1px":null,t.style.borderLeftStyle=i&&!n?"solid":null,t.style.borderLeftColor=n?null:i},t.prototype.openViewlet=function(e,t){var i=this;if(this.blockOpeningViewlet)return Promise.resolve(null);var r=n.TPromise.wrap(null);if(!this.partService.isVisible(1))try{this.blockOpeningViewlet=!0,r=this.partService.setSideBarHidden(!1)}finally{this.blockOpeningViewlet=!1}return r.then(function(){return i.openComposite(e,t)})},t.prototype.getActiveViewlet=function(){return this.getActiveComposite()},t.prototype.getLastActiveViewletId=function(){return this.getLastActiveCompositetId()},
t.prototype.hideActiveViewlet=function(){return this.hideActiveComposite().then(function(e){})},t.prototype.layout=function(t){return this.partService.isVisible(1)?e.prototype.layout.call(this,t):[t]},t.prototype.onTitleAreaContextMenu=function(e){var t=this,i=this.getActiveViewlet();if(i){var n=i?i.getContextMenuActions():[];if(n.length){var r={x:e.posx,y:e.posy};this.contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){return Promise.resolve(n)},getActionItem:function(e){return t.actionItemProvider(e)},actionRunner:i.getActionRunner()})}}},t.activeViewletSettingsKey="workbench.sidebar.activeviewletid",t=r([o(1,C.INotificationService),o(2,f.IStorageService),o(3,m.ITelemetryService),o(4,v.IContextMenuService),o(5,g.IPartService),o(6,y.IKeybindingService),o(7,S.IInstantiationService),o(8,b.IThemeService)],t)}(l.CompositePart);t.SidebarPart=D;var A=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.viewletService=n,o.partService=r,o}return i(t,e),
t.prototype.run=function(){if(!this.partService.isVisible(1))return this.partService.setSideBarHidden(!1);var e=this.viewletService.getActiveViewlet();return e&&e.focus(),Promise.resolve(!0)},t.ID="workbench.action.focusSideBar",t.LABEL=s.localize("focusSideBar","Focus into Side Bar"),t=r([o(2,h.IViewletService),o(3,g.IPartService)],t)}(c.Action);a.Registry.as(d.Extensions.WorkbenchActions).registerWorkbenchAction(new p.SyncActionDescriptor(A,A.ID,A.LABEL,{primary:2069}),"View: Focus into Side Bar",s.localize("viewCategory","View"))}),define(e[422],t([1,0,2,4,90,48,209,6,17,142,28,14,5,109,274]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e,t,i,n){this._activityBar=e,this._viewletService=t,this._notificationService=i,this._statusbarService=n,this._stack=[]}return e.prototype.withProgress=function(e,t,i){var n=e.location;if(n instanceof v.ViewContainer){
return this._viewletService.getViewlet(n.id)?this._withViewletProgress(n.id,t):void console.warn("Bad progress location: "+n.id)}switch(n){case 15:return this._withNotificationProgress(e,t,i);case 10:return this._withWindowProgress(e,t);case 1:return this._withViewletProgress("workbench.view.explorer",t);case 3:return this._withViewletProgress("workbench.view.scm",t);case 5:return this._withViewletProgress("workbench.view.extensions",t);default:return void console.warn("Bad progress location: "+n)}},e.prototype._withWindowProgress=function(e,t){var i=this,n=[e,new a.Progress(function(){return i._updateWindowProgress()})],r=t(n[1]),o=setTimeout(function(){o=void 0,i._stack.unshift(n),i._updateWindowProgress(),d.always(Promise.all([d.timeout(150),r]),function(){var e=i._stack.indexOf(n);i._stack.splice(e,1),i._updateWindowProgress()})},150);return d.always(r,function(){return clearTimeout(o)}),r},e.prototype._updateWindowProgress=function(e){if(void 0===e&&(e=0),s.dispose(this._globalStatusEntry),
e<this._stack.length){var t=this._stack[e],i=t[0],r=t[1],o=i.title,a=r.value&&r.value.message,c=void 0,l=void 0;if(o&&a)c=n.localize("progress.text2","{0}: {1}",o,a),l=i.source?n.localize("progress.title3","[{0}] {1}: {2}",i.source,o,a):c;else if(o)c=o,l=i.source?n.localize("progress.title2","[{0}]: {1}",i.source,o):c;else{if(!a)return void this._updateWindowProgress(e+1);c=a,l=i.source?n.localize("progress.title2","[{0}]: {1}",i.source,a):c}this._globalStatusEntry=this._statusbarService.addEntry({text:"$(sync~spin) "+c,tooltip:l},0)}},e.prototype._withNotificationProgress=function(e,t,r){var o,a=this,c=[],l=function(e,t){"number"==typeof t&&t>=0?(e.progress.total(100),e.progress.worked(t)):e.progress.infinite()},p=function(t,d){if(o){if("string"==typeof t){var p=void 0;p="string"==typeof e.title?e.title+": "+t:t,o.updateMessage(p)}"number"==typeof d&&l(o,d)}else o=function(t,o){if(t){var d={primary:[]};if(e.cancellable){var p=new(function(e){function t(){
return e.call(this,"progress.cancel",n.localize("cancel","Cancel"),null,!0)||this}return i(t,e),t.prototype.run=function(){return"function"==typeof r&&r(),u.TPromise.as(void 0)},t}(g.Action));c.push(p),d.primary.push(p)}var v=a._notificationService.notify({severity:h.Severity.Info,message:t,source:e.source,actions:d});return l(v,o),f.once(v.onDidClose)(function(){s.dispose(c)}),v}}(t,d)};p(e.title);var v=t({report:function(e){p(e.message,e.increment)}});return d.always(Promise.all([d.timeout(800),v]),function(){o&&o.close()}),v},e.prototype._withViewletProgress=function(e,t){var i=this,n=t(a.emptyProgress),r=this._viewletService.getProgressIndicator(e);r&&r.showWhile(u.TPromise.wrap(n));var o,c=setTimeout(function(){c=void 0;var t=i._activityBar.showActivity(e,new p.ProgressBadge(function(){return""}),"progress-badge",100),n=Date.now();o={dispose:function(){var e=Date.now()-n;e<300?setTimeout(function(){return t.dispose()},300-e):t.dispose()}}},300),l=function(){clearTimeout(c),s.dispose(o)}
;return n.then(l,l),n},e=r([o(0,p.IActivityService),o(1,c.IViewletService),o(2,h.INotificationService),o(3,l.IStatusbarService)],e)}();t.ProgressService2=m}),define(e[423],t([1,0,5,8,77,10,68,4]),function(e,t,n,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ActiveViewletContext=new c.RawContextKey("activeViewlet","");var d=function(e){function u(i,r,o){var c=e.call(this)||this;return c.extensionService=o,c._onDidViewletEnable=new n.Emitter,c.sidebarPart=i,c.viewletRegistry=s.Registry.as(a.Extensions.Viewlets),c.activeViewletContextKey=t.ActiveViewletContext.bindTo(r),c._register(c.onDidViewletOpen(c._onDidViewletOpen,c)),c._register(c.onDidViewletClose(c._onDidViewletClose,c)),c}return i(u,e),Object.defineProperty(u.prototype,"onDidViewletRegister",{get:function(){return this.viewletRegistry.onDidRegister},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"onDidViewletOpen",{get:function(){return this.sidebarPart.onDidViewletOpen},enumerable:!0,configurable:!0}),
Object.defineProperty(u.prototype,"onDidViewletClose",{get:function(){return this.sidebarPart.onDidViewletClose},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"onDidViewletEnablementChange",{get:function(){return this._onDidViewletEnable.event},enumerable:!0,configurable:!0}),u.prototype._onDidViewletOpen=function(e){this.activeViewletContextKey.set(e.getId())},u.prototype._onDidViewletClose=function(e){var t=e.getId();this.activeViewletContextKey.get()===t&&this.activeViewletContextKey.reset()},u.prototype.setViewletEnablement=function(e,t){var i=this.getAllViewlets().filter(function(t){return t.id===e}).pop();i&&i.enabled!==t&&(i.enabled=t,this._onDidViewletEnable.fire({id:e,enabled:t}))},u.prototype.openViewlet=function(e,t){var i=this;return this.getViewlet(e)?this.sidebarPart.openViewlet(e,t):this.extensionService.whenInstalledExtensionsRegistered().then(function(){return i.getViewlet(e)?i.sidebarPart.openViewlet(e,t):null})},u.prototype.getActiveViewlet=function(){
return this.sidebarPart.getActiveViewlet()},u.prototype.getViewlets=function(){return this.getAllViewlets().filter(function(e){return e.enabled})},u.prototype.getAllViewlets=function(){return this.viewletRegistry.getViewlets().sort(function(e,t){return e.order-t.order})},u.prototype.getDefaultViewletId=function(){return this.viewletRegistry.getDefaultViewletId()},u.prototype.getViewlet=function(e){return this.getViewlets().filter(function(t){return t.id===e})[0]},u.prototype.getProgressIndicator=function(e){return this.sidebarPart.getProgressIndicator(e)},u=r([o(1,c.IContextKeyService),o(2,l.IExtensionService)],u)}(u.Disposable);t.ViewletService=d}),
define(e[424],t([1,0,36,94,95,63,34,42,135,16,12,45,29,68,117,55,103,120,158,61,157,64,164,70,48,346,104,202,142,178,79,62,296,360,225,304,464,343,96,210,81,301,212,60,418,8,107,209,354,86,347,332,101,370,352,336,338,289,386,366,273,112,298,320,375,327,260,252,283,329,330,420,431,423,305,398,400,376,290,275,345,422,191,224,49,302,47,309,32,88,227,421,403,28,350]),function(e,t,i,n,r,o,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V,W,G,K,z,H,U,j,q,Q,Y,X,$,J,Z,ee,te,ie,ne,re,oe,se,ae,ce,le,ue,de,pe,he,ge,fe,ve,me,ye,Se,be,Ee,we,Ce,Ie,_e,De,Ae,xe,Te,Re,Oe,Me,ke,Pe,Le,Fe,Ne,Be,Ve,We){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadCodesandboxServices=function(e,t,Ge){e.set(Le.ICodeSandboxService,Ge.codesandboxService(t)||t.createInstance(Fe.CodeSandboxService)),e.set(Me.IEnvironmentService,t.createInstance(Oe.CodeSandboxEnvironmentService));var Ke=t.createInstance(We.CodeSandboxNotificationService);e.set(Ve.INotificationService,Ke);var ze=e.get(Pe.IKeybindingService)
;ze&&ze.dispose();var He=t.createInstance(ke.CodeSandboxKeybindingService,window);e.set(Pe.IKeybindingService,He),e.set(q.IStatusbarService,new ae.SyncDescriptor(Q.CodeSandboxStatusbarService)),e.set(F.IRequestService,new ae.SyncDescriptor(N.CodeSandboxRequestService)),e.set(W.IClipboardService,new ae.SyncDescriptor(G.CodeSandboxClipboardService)),e.set(o.ILabelService,new ae.SyncDescriptor(o.LabelService)),e.set(x.IActivityService,new ae.SyncDescriptor(ee.CodeSandboxActivityService)),e.set(T.IOutputService,new ae.SyncDescriptor(te.CodeSandboxOutputService)),e.set(R.IPanelService,new ae.SyncDescriptor(ie.CodeSandboxPanelService)),e.set(D.IBreadcrumbsService,new ae.SyncDescriptor(D.BreadcrumbsService)),e.set(_.IBroadcastService,new ae.SyncDescriptor(ne.CodeSandboxBroadcastService,1)),e.set(w.IWorkspacesService,new ae.SyncDescriptor(re.CodeSandboxWorkspacesService)),e.set(b.IJSONEditingService,new ae.SyncDescriptor(oe.JSONEditingService)),
e.set(y.IDecorationsService,new ae.SyncDescriptor(se.FileDecorationsService)),e.set(m.IBackupFileService,new ae.SyncDescriptor(ge.CodeSandboxBackupService));var Ue=t.createInstance(H.CodeSandboxLifecycleService);e.set(z.ILifecycleService,Ue),e.set(l.IFileService,new ae.SyncDescriptor(ce.CodeSandboxFileService)),e.set(d.IWindowsService,new ae.SyncDescriptor(k.CodeSandboxWindowsService)),e.set(d.IWindowService,new ae.SyncDescriptor(he.WindowService,1,{})),e.set(g.IExtensionGalleryService,new ae.SyncDescriptor(le.CodeSandboxExtensionGalleryService)),e.set(r.IFileDialogService,new ae.SyncDescriptor(ue.CodeSandboxFileDialogService)),e.set(g.IExtensionManagementService,new ae.SyncDescriptor(de.CodeSandboxExtensionManagementService)),e.set(g.IExtensionEnablementService,new ae.SyncDescriptor(pe.ExtensionEnablementService)),e.set(h.IExtensionService,new ae.SyncDescriptor(fe.CodeSandboxExtensionService)),e.set(v.IHashService,new ae.SyncDescriptor(ve.CodeSandboxHashService)),
e.set(s.IEditorGroupsService,new ae.SyncDescriptor(me.EditorPart,"codesandbox-editor",!1)),e.set(i.IStorageService,new ye.StorageService(localStorage,localStorage)),e.set(a.IPartService,new ae.SyncDescriptor(be.CodeSandboxWorkbench)),window.sidebarPart=t.createInstance(Ne.SidebarPart,"codesandbox-sidebar"),e.set(I.IViewletService,new ae.SyncDescriptor(Se.ViewletService,window.sidebarPart)),window.activitybarPart=t.createInstance(Be.ActivitybarPart,"codesandbox-activitybar"),e.set(f.IUntitledEditorService,new ae.SyncDescriptor(f.UntitledEditorService)),e.set(u.IEditorService,new ae.SyncDescriptor(P.EditorService)),e.set(C.ISearchService,new ae.SyncDescriptor(Ce.CodeSandboxSearchService)),e.set(c.IHistoryService,new ae.SyncDescriptor($.HistoryService)),e.set(p.ITextFileService,new ae.SyncDescriptor(Ee.TextFileService)),e.set(E.ITextModelService,new ae.SyncDescriptor(we.TextModelResolverService)),e.set(n.ICodeEditorService,t.createInstance(Ie.CodeEditorService)),
e.set(L.ICodeSandboxEditorConnectorService,t.createInstance(_e.CodeSandboxEditorConnectorService)),e.set(B.IPreferencesSearchService,new ae.SyncDescriptor(V.PreferencesSearchService)),e.set(S.IPreferencesService,new ae.SyncDescriptor(De.PreferencesService)),e.set(K.IKeybindingEditingService,new ae.SyncDescriptor(K.KeybindingsEditingService)),e.set(A.IProgressService2,new ae.SyncDescriptor(Ae.ProgressService2)),e.set(Re.IQuickOpenService,t.createInstance(Te.QuickOpenController)),e.set(O.IQuickInputService,new ae.SyncDescriptor(xe.QuickInputService)),e.set(M.IHeapService,new ae.SyncDescriptor(M.HeapService)),e.set(C.ISearchHistoryService,new ae.SyncDescriptor(X.SearchHistoryService)),U.Registry.as(j.Extensions.Workbench).start(t,Ue),U.Registry.as(J.Extensions.Actionbar).setInstantiationService(t),t.createInstance(Z.SaveParticipant);for(var je=0,qe=Y.getServices();je<qe.length;je++){var Qe=qe[je];e.set(Qe.id,Qe.descriptor)}}}),
define(e[425],t([1,0,466,51,467,132,468,469,143,470,471,82,472,351,38,33,3,32,10,94,371,64,473,474,475,229,277,71,28,9,424,476]),function(e,t,i,n,r,o,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R){"use strict";function O(e,t,i){ee=new s.DynamicStandaloneServices(e,t),t&&R.loadCodesandboxServices(ee,ee.get(v.IInstantiationService),t);var n=null;ee.has(E.ITextModelService)||(n=new u.SimpleEditorModelResolverService,ee.set(E.ITextModelService,n)),ee.has(c.IOpenerService)||ee.set(c.IOpenerService,new a.OpenerService(ee.get(S.ICodeEditorService),ee.get(g.ICommandService)));var r=i(ee);return n&&n.setEditor(r),r}function M(e,t,i,n){return O(e,i,n||function(i){return new r.StandaloneEditor(e,t,i,i.get(v.IInstantiationService),i.get(S.ICodeEditorService),i.get(g.ICommandService),i.get(y.IContextKeyService),i.get(m.IKeybindingService),i.get(f.IContextViewService),i.get(C.IStandaloneThemeService),i.get(x.INotificationService),i.get(T.IConfigurationService))})}function k(e){
return s.StaticServices.codeEditorService.get().onCodeEditorAdd(function(t){e(t)})}function P(e,t,i){return O(e,i,function(i){return new r.StandaloneDiffEditor(e,t,i,i.get(v.IInstantiationService),i.get(y.IContextKeyService),i.get(m.IKeybindingService),i.get(f.IContextViewService),i.get(b.IEditorWorkerService),i.get(S.ICodeEditorService),i.get(C.IStandaloneThemeService),i.get(x.INotificationService),i.get(T.IConfigurationService))})}function L(e,t){return new h.DiffNavigator(e,t)}function F(e,t,i){return s.StaticServices.modelService.get().createModel(e,t,i)}function N(e,t,i){if(e=e||"",!t){var n=i?i.path:null,r=e.indexOf("\n"),o=e;return-1!==r&&(o=e.substring(0,r)),F(e,s.StaticServices.modeService.get().getOrCreateModeByFilepathOrFirstLine(n,o),i)}return F(e,s.StaticServices.modeService.get().getOrCreateMode(t),i)}function B(e,t){s.StaticServices.modelService.get().setMode(e,s.StaticServices.modeService.get().getOrCreateMode(t))}function V(e,t,i){e&&s.StaticServices.markerService.get().changeOne(t,e.uri,i)}
function W(e){return s.StaticServices.markerService.get().read(e)}function G(e){return ee.get(E.ITextModelService).createModelReference(e)}function K(e){return s.StaticServices.modelService.get().getModel(e)}function z(){return s.StaticServices.modelService.get().getModels()}function H(e){return s.StaticServices.modelService.get().onModelAdded(e)}function U(e){return s.StaticServices.modelService.get().onModelRemoved(e)}function j(e){return s.StaticServices.modelService.get().onModelModeChanged(function(t){e({model:t.model,oldLanguage:t.oldModeId})})}function q(e){return p.createWebWorker(s.StaticServices.modelService.get(),e)}function Q(e,t){return l.Colorizer.colorizeElement(s.StaticServices.standaloneThemeService.get(),s.StaticServices.modeService.get(),e,t)}function Y(e,t,i){return l.Colorizer.colorize(s.StaticServices.modeService.get(),e,t,i)}function X(e,t,i){return void 0===i&&(i=4),l.Colorizer.colorizeModelLine(e,t,i)}function $(e,t){s.StaticServices.modeService.get().getOrCreateMode(t)
;for(var i=function(e){var t=d.TokenizationRegistry.get(e);return t||{getInitialState:function(){return w.NULL_STATE},tokenize:function(t,i,n){return w.nullTokenize(e,t,i,n)},tokenize2:void 0}}(t),n=e.split(/\r\n|\r|\n/),r=[],o=i.getInitialState(),a=0,c=n.length;a<c;a++){var l=n[a],u=i.tokenize(l,o,0);r[a]=u.tokens,o=u.endState}return r}function J(e,t){s.StaticServices.standaloneThemeService.get().defineTheme(e,t)}function Z(e){s.StaticServices.standaloneThemeService.get().setTheme(e)}Object.defineProperty(t,"__esModule",{value:!0});var ee=null;t.create=M,t.onDidCreateEditor=k,t.createDiffEditor=P,t.createDiffNavigator=L,t.createModel=N,t.setModelLanguage=B,t.setModelMarkers=V,t.getModelMarkers=W,t.resolveModel=G,t.getModel=K,t.getModels=z,t.onDidCreateModel=H,t.onWillDisposeModel=U,t.onDidChangeModelLanguage=j,t.createWebWorker=q,t.colorizeElement=Q,t.colorize=Y,t.colorizeModelLine=X,t.tokenize=$,t.defineTheme=J,t.setTheme=Z;var te;!function(e){e[e.Smooth=0]="Smooth",e[e.Immediate=1]="Immediate"
}(te||(te={}));var ie;!function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative",e[e.Interval=3]="Interval",e[e.Custom=4]="Custom"}(ie||(ie={})),t.createMonacoEditorAPI=function(){return{create:M,onDidCreateEditor:k,createDiffEditor:P,createDiffNavigator:L,createModel:N,setModelLanguage:B,setModelMarkers:V,getModelMarkers:W,getModels:z,getModel:K,resolveModel:G,onDidCreateModel:H,onWillDisposeModel:U,onDidChangeModelLanguage:j,createWebWorker:q,colorizeElement:Q,colorize:Y,colorizeModelLine:X,tokenize:$,defineTheme:J,setTheme:Z,ScrollbarVisibility:o.ScrollbarVisibility,WrappingIndent:_.WrappingIndent,OverviewRulerLane:A.OverviewRulerLane,EndOfLinePreference:A.EndOfLinePreference,DefaultEndOfLine:A.DefaultEndOfLine,EndOfLineSequence:A.EndOfLineSequence,TrackedRangeStickiness:A.TrackedRangeStickiness,CursorChangeReason:D.CursorChangeReason,MouseTargetType:n.MouseTargetType,TextEditorCursorStyle:_.TextEditorCursorStyle,TextEditorCursorBlinkingStyle:_.TextEditorCursorBlinkingStyle,
ContentWidgetPositionPreference:n.ContentWidgetPositionPreference,OverlayWidgetPositionPreference:n.OverlayWidgetPositionPreference,RenderMinimap:_.RenderMinimap,ScrollType:te,RenderLineNumbersType:ie,InternalEditorOptions:_.InternalEditorOptions,BareFontInfo:I.BareFontInfo,FontInfo:I.FontInfo,TextModelResolvedOptions:A.TextModelResolvedOptions,FindMatch:A.FindMatch,EditorType:i.EditorType}}}),define(e[426],t([1,0,478,425,479,229,480]),function(e,t,i,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=self;void 0===a.Promise&&(a.Promise=s.PolyfillPromise),o.EDITOR_DEFAULTS.wrappingIndent=o.WrappingIndent.None,o.EDITOR_DEFAULTS.viewInfo.glyphMargin=!1,o.EDITOR_DEFAULTS.autoIndent=!1;var c=a.monaco||i.createMonacoBaseAPI();c.editor=n.createMonacoEditorAPI(),c.languages=c.languages||r.createMonacoLanguagesAPI(),t.CancellationTokenSource=c.CancellationTokenSource,t.Emitter=c.Emitter,t.KeyCode=c.KeyCode,t.KeyMod=c.KeyMod,t.Position=c.Position,t.Range=c.Range,t.Selection=c.Selection,
t.SelectionDirection=c.SelectionDirection,t.MarkerSeverity=c.MarkerSeverity,t.MarkerTag=c.MarkerTag,t.Promise=c.Promise,t.Uri=c.Uri,t.Token=c.Token,t.editor=c.editor,t.languages=c.languages,a.monaco=c,void 0!==a.require&&"function"==typeof a.require.config&&a.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(e[137],t([1,0,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWorkspaceEditingService=i.createDecorator("workspaceEditingService"),t.IWorkspaceMigrationService=i.createDecorator("workspaceMigrationService")}),define(e[236],t([1,0,2,21,137,35,48,57,80,38,16,63,62,59,37,43,27,95]),function(e,t,i,n,r,o,s,a,c,l,u,d,p,h,g,f,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_ROOT_FOLDER_COMMAND_ID="addRootFolder",
t.ADD_ROOT_FOLDER_LABEL=i.localize("addFolderToWorkspace","Add Folder to Workspace..."),t.PICK_WORKSPACE_FOLDER_COMMAND_ID="_workbench.pickWorkspaceFolder",l.CommandsRegistry.registerCommand({id:"workbench.action.files.openFileFolderInNewWindow",handler:function(e){return e.get(m.IFileDialogService).pickFileFolderAndOpen({forceNewWindow:!0})}}),l.CommandsRegistry.registerCommand({id:"_files.pickFolderAndOpen",handler:function(e,t){return e.get(m.IFileDialogService).pickFolderAndOpen({forceNewWindow:t})}}),l.CommandsRegistry.registerCommand({id:"workbench.action.files.openFolderInNewWindow",handler:function(e){return e.get(m.IFileDialogService).pickFolderAndOpen({forceNewWindow:!0})}}),l.CommandsRegistry.registerCommand({id:"workbench.action.files.openFileInNewWindow",handler:function(e){return e.get(m.IFileDialogService).pickFileAndOpen({forceNewWindow:!0})}}),l.CommandsRegistry.registerCommand({id:"workbench.action.openWorkspaceInNewWindow",handler:function(e){
return e.get(m.IFileDialogService).pickWorkspaceAndOpen({forceNewWindow:!0})}}),l.CommandsRegistry.registerCommand({id:t.ADD_ROOT_FOLDER_COMMAND_ID,handler:function(e){var t=e.get(s.IViewletService),n=e.get(r.IWorkspaceEditingService),o=e.get(m.IFileDialogService);return o.showOpenDialog({openLabel:c.mnemonicButtonLabel(i.localize({key:"add",comment:["&& denotes a mnemonic"]},"&&Add")),title:i.localize("addFolderToWorkspaceTitle","Add Folder to Workspace"),canSelectFolders:!0,canSelectMany:!0,defaultUri:o.defaultFolderPath(v.Schemas.file)}).then(function(e){return e&&e.length?n.addFolders(e.map(function(e){return{uri:e}})).then(function(){return t.openViewlet(t.getDefaultViewletId(),!0)}).then(function(){}):null})}}),l.CommandsRegistry.registerCommand(t.PICK_WORKSPACE_FOLDER_COMMAND_ID,function(e,t){var r=e.get(p.IQuickInputService),s=e.get(d.ILabelService),c=e.get(n.IWorkspaceContextService),l=e.get(g.IModelService),v=e.get(f.IModeService),m=c.getWorkspace().folders;if(m.length){var y,S=m.map(function(e){
return{label:e.name,description:s.getUriLabel(o.dirname(e.uri),{relative:!0}),folder:e,iconClasses:h.getIconClasses(l,v,e.uri,u.FileKind.ROOT_FOLDER)}});t&&(y=t[0]),y||(y=Object.create(null)),y.activeItem||(y.activeItem=S[0]),y.placeHolder||(y.placeHolder=i.localize("workspaceFolderPickerPlaceholder","Select workspace folder")),"boolean"!=typeof y.matchOnDescription&&(y.matchOnDescription=!0);var b;return t&&(b=t[1]),b||(b=a.CancellationToken.None),r.pick(S,y,b).then(function(e){if(e)return m[S.indexOf(e)]})}})}),define(e[237],t([1,0,14,2,45,21,137,164,80,12,38,236,13,27,95]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.dialogService=n,r}return i(t,e),t.prototype.run=function(e,t){return this.dialogService.pickFileAndOpen({forceNewWindow:!1,telemetryExtraData:t})},t.ID="workbench.action.files.openFile",t.LABEL=s.localize("openFile","Open File..."),
t=r([o(2,m.IFileDialogService)],t)}(n.Action);t.OpenFileAction=y;var S=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.dialogService=n,r}return i(t,e),t.prototype.run=function(e,t){return this.dialogService.pickFolderAndOpen({forceNewWindow:!1,telemetryExtraData:t})},t.ID="workbench.action.files.openFolder",t.LABEL=s.localize("openFolder","Open Folder..."),t=r([o(2,m.IFileDialogService)],t)}(n.Action);t.OpenFolderAction=S;var b=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.dialogService=n,r}return i(t,e),t.prototype.run=function(e,t){return this.dialogService.pickFileFolderAndOpen({forceNewWindow:!1,telemetryExtraData:t})},t.ID="workbench.action.files.openFileFolder",t.LABEL=s.localize("openFileFolder","Open..."),t=r([o(2,m.IFileDialogService)],t)}(n.Action);t.OpenFileFolderAction=b;var E=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.commandService=n,r}return i(t,e),t.prototype.run=function(){
return this.commandService.executeCommand(g.ADD_ROOT_FOLDER_COMMAND_ID)},t.ID="workbench.action.addRootFolder",t.LABEL=g.ADD_ROOT_FOLDER_LABEL,t=r([o(2,h.ICommandService)],t)}(n.Action);t.AddRootFolderAction=E;var w=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.workspaceEditingService=n,s.contextService=r,s.commandService=o,s}return i(t,e),t.prototype.run=function(){var e=this,t=this.contextService.getWorkbenchState();return 3===t||2===t?this.commandService.executeCommand(g.PICK_WORKSPACE_FOLDER_COMMAND_ID).then(function(t){return!t||e.workspaceEditingService.removeFolders([t.uri]).then(function(){return!0})}):Promise.resolve(!0)},t.ID="workbench.action.removeRootFolder",t.LABEL=s.localize("globalRemoveFolderFromWorkspace","Remove Folder from Workspace..."),t=r([o(2,l.IWorkspaceEditingService),o(3,c.IWorkspaceContextService),o(4,h.ICommandService)],t)}(n.Action);t.GlobalRemoveRootFolderAction=w;var C=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this
;return s.contextService=n,s.workspaceEditingService=r,s.dialogService=o,s}return i(t,e),t.prototype.run=function(){var e=this;return this.getNewWorkspaceConfigPath().then(function(t){if(t){var i=t.fsPath;switch(e.contextService.getWorkbenchState()){case 1:case 2:var n=e.contextService.getWorkspace().folders.map(function(e){return{uri:e.uri}});return e.workspaceEditingService.createAndEnterWorkspace(n,i);case 3:return e.workspaceEditingService.saveAndEnterWorkspace(i)}}return null})},t.prototype.getNewWorkspaceConfigPath=function(){return this.dialogService.showSaveDialog({buttonLabel:d.mnemonicButtonLabel(s.localize({key:"save",comment:["&& denotes a mnemonic"]},"&&Save")),title:s.localize("saveWorkspace","Save Workspace"),filters:u.WORKSPACE_FILTER,defaultUri:this.dialogService.defaultWorkspacePath(v.Schemas.file)})},t.ID="workbench.action.saveWorkspaceAs",t.LABEL=s.localize("saveWorkspaceAsAction","Save Workspace As..."),
t=r([o(2,c.IWorkspaceContextService),o(3,l.IWorkspaceEditingService),o(4,m.IFileDialogService)],t)}(n.Action);t.SaveWorkspaceAsAction=C;var I=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.dialogService=n,r}return i(t,e),t.prototype.run=function(e,t){return this.dialogService.pickWorkspaceAndOpen({telemetryExtraData:t})},t.ID="workbench.action.openWorkspace",t.LABEL=s.localize("openWorkspaceAction","Open Workspace..."),t=r([o(2,m.IFileDialogService)],t)}(n.Action);t.OpenWorkspaceAction=I;var _=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.workspaceContextService=n,o.editorService=r,o.enabled=!!o.workspaceContextService.getWorkspace().configuration,o}return i(t,e),t.prototype.run=function(){return this.editorService.openEditor({resource:this.workspaceContextService.getWorkspace().configuration})},t.ID="workbench.action.openWorkspaceConfigFile",t.LABEL=s.localize("openWorkspaceConfigFile","Open Workspace Configuration File"),
t=r([o(2,c.IWorkspaceContextService),o(3,p.IEditorService)],t)}(n.Action);t.OpenWorkspaceConfigFileAction=_;var D=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i)||this;return a.workspaceContextService=n,a.workspaceEditingService=r,a.windowService=o,a.workspacesService=s,a}return i(t,e),t.prototype.run=function(){var e=this,t=this.workspaceContextService.getWorkspace().folders;return this.workspacesService.createWorkspace(t).then(function(t){return e.workspaceEditingService.copyWorkspaceSettings(t).then(function(){return e.windowService.openWindow([f.URI.file(t.configPath)],{forceNewWindow:!0})})})},t.ID="workbench.action.duplicateWorkspaceInNewWindow",t.LABEL=s.localize("duplicateWorkspaceInNewWindow","Duplicate Workspace in New Window"),t=r([o(2,c.IWorkspaceContextService),o(3,l.IWorkspaceEditingService),o(4,a.IWindowService),o(5,u.IWorkspacesService)],t)}(n.Action);t.DuplicateWorkspaceInNewWindowAction=D}),
define(e[171],t([1,0,2,25,13,15,45,3,48,21,56,81,29,100,52,196,38,10,16,55,51,67,65,20,64,17,201,137,105,27,28,115,12,34,63]),function(e,t,i,n,r,o,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P){"use strict";function L(e,t,i,n,r,s,a,c){function l(e){return e?e.force=!0:e={force:!0},e}if(e&&(r.canHandleResource(e)||e.scheme===T.Schemas.untitled)){if(t||e.scheme===T.Schemas.untitled){var u;if(e.scheme===T.Schemas.untitled)u=s.getEncoding(e);else if(r.canHandleResource(e)){var d=a.models.get(e);u=d&&d.getEncoding()}var p,h=b.getCodeEditor(n.activeTextEditorWidget);if(h){var g=o.toResource(n.activeEditor,{supportSideBySide:!0});g&&(r.canHandleResource(g)||e.scheme===T.Schemas.untitled)&&g.toString()===e.toString()&&(p=h.saveViewState())}var f=void 0;return!t&&e.scheme===T.Schemas.untitled&&s.hasAssociatedFilePath(e)?f=a.save(e,i).then(function(t){return t?e.with({scheme:T.Schemas.file}):null}):(i=l(i),f=a.saveAs(e,void 0,i)),f.then(function(t){if(t&&t.toString()!==e.toString()){var i={resource:t,
encoding:u,options:{pinned:!0,viewState:p}};return Promise.all(c.groups.map(function(t){return n.replaceEditors([{editor:{resource:e},replacement:i}],t)})).then(function(){return!0})}})}var v=n.activeControl,m=v&&v.input&&v.input.getResource();return m&&m.toString()===e.toString()&&v.group.pinEditor(v.input),i=l(i),a.save(e,i)}return Promise.resolve(!1)}function F(e,t,i,n,r){var o=new Map;return r.groups.forEach(function(e){var t=e.activeEditor&&e.activeEditor.getResource();e.editors.forEach(function(n){var r=n.getResource();r&&i.isDirty(r)&&(o.has(e.id)||o.set(e.id,[]),o.get(e.id).push({encoding:i.getEncoding(r),resource:r,options:{inactive:!t||t.toString()!==r.toString(),pinned:!0,preserveFocus:!0,index:e.getIndexOfEditor(n)}}))})}),n.saveAll(e).then(function(e){o.forEach(function(i,n){i.forEach(function(t){var i=e.results.filter(function(e){return e.success&&e.source.toString()===t.resource.toString()}).pop();i&&(t.resource=i.target)}),t.openEditors(i,n)})})}function N(e,t,r,o){
e.length?_.sequence(e.map(function(e){return function(){return t.showItemInFolder(n.normalize(e.fsPath,!0))}})):o.getWorkspace().folders.length?t.showItemInFolder(n.normalize(o.getWorkspace().folders[0].uri.fsPath,!0)):r.info(i.localize("openFileToReveal","Open a file first to reveal"))}function B(e,t,n,r,o){if(e.length){var s=C.isWindows?"\r\n":"\n",a=e.map(function(e){return o.getUriLabel(e,{relative:t,noPrefix:!0})}).join(s);n.writeText(a)}else r.info(i.localize("openFileToCopy","Open a file first to copy its path"))}Object.defineProperty(t,"__esModule",{value:!0}),t.REVEAL_IN_OS_COMMAND_ID="revealFileInOS",t.REVEAL_IN_OS_LABEL=C.isWindows?i.localize("revealInWindows","Reveal in Explorer"):C.isMacintosh?i.localize("revealInMac","Reveal in Finder"):i.localize("openContainer","Open Containing Folder"),t.REVEAL_IN_EXPLORER_COMMAND_ID="revealInExplorer",t.REVERT_FILE_COMMAND_ID="workbench.action.files.revert",t.OPEN_TO_SIDE_COMMAND_ID="explorer.openToSide",t.SELECT_FOR_COMPARE_COMMAND_ID="selectForCompare",
t.COMPARE_SELECTED_COMMAND_ID="compareSelected",t.COMPARE_RESOURCE_COMMAND_ID="compareFiles",t.COMPARE_WITH_SAVED_COMMAND_ID="workbench.files.action.compareWithSaved",t.COPY_PATH_COMMAND_ID="copyFilePath",t.COPY_RELATIVE_PATH_COMMAND_ID="copyRelativeFilePath",t.SAVE_FILE_AS_COMMAND_ID="workbench.action.files.saveAs",t.SAVE_FILE_AS_LABEL=i.localize("saveAs","Save As..."),t.SAVE_FILE_COMMAND_ID="workbench.action.files.save",t.SAVE_FILE_LABEL=i.localize("save","Save"),t.SAVE_FILE_WITHOUT_FORMATTING_COMMAND_ID="workbench.action.files.saveWithoutFormatting",t.SAVE_FILE_WITHOUT_FORMATTING_LABEL=i.localize("saveWithoutFormatting","Save without Formatting"),t.SAVE_ALL_COMMAND_ID="saveAll",t.SAVE_ALL_LABEL=i.localize("saveAll","Save All"),t.SAVE_ALL_IN_GROUP_COMMAND_ID="workbench.files.action.saveAllInGroup",t.SAVE_FILES_COMMAND_ID="workbench.action.files.saveFiles",t.OpenEditorsGroupContext=new m.RawContextKey("groupFocusedInOpenEditors",!1),t.DirtyEditorContext=new m.RawContextKey("dirtyEditor",!1),
t.ResourceSelectedForCompareContext=new m.RawContextKey("resourceSelectedForCompare",!1),t.REMOVE_ROOT_FOLDER_COMMAND_ID="removeRootFolder",t.REMOVE_ROOT_FOLDER_LABEL=i.localize("removeFolderFromWorkspace","Remove Folder from Workspace"),t.openWindowCommand=function(e,t,i){e.get(s.IWindowService).openWindow(t.map(function(e){return"string"==typeof e?r.URI.file(e):e}),{forceNewWindow:i})},v.CommandsRegistry.registerCommand({id:t.REVERT_FILE_COMMAND_ID,handler:function(e,t){var r=e.get(M.IEditorService),o=e.get(p.ITextFileService),s=e.get(R.INotificationService),a=D.getMultiSelectedResources(t,e.get(g.IListService),r).filter(function(e){return e.scheme!==T.Schemas.untitled});return a.length?o.revertAll(a,{force:!0}).then(null,function(e){s.error(i.localize("genericRevertError","Failed to revert '{0}': {1}",a.map(function(e){return n.basename(e.fsPath)}).join(", "),h.toErrorMessage(e,!1)))}):Promise.resolve(!0)}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({weight:200,when:u.ExplorerFocusCondition,
primary:2051,mac:{primary:259},id:t.OPEN_TO_SIDE_COMMAND_ID,handler:function(e,t){var i=e.get(M.IEditorService),n=e.get(g.IListService),r=e.get(y.IFileService),o=n.lastFocusedList,s=D.getMultiSelectedResources(t,n,i);return o instanceof f.Tree&&o.clearHighlight(),s.length?r.resolveFiles(s.map(function(e){return{resource:e}})).then(function(e){var t=e.filter(function(e){return e.success&&!e.stat.isDirectory}).map(function(e){return{resource:e.stat.resource}});return i.openEditors(t,M.SIDE_GROUP)}):Promise.resolve(!0)}});var V;E.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.COMPARE_WITH_SAVED_COMMAND_ID,when:void 0,weight:200,primary:w.KeyChord(2089,34),handler:function(e,t){if(!V){var r=e.get(a.IInstantiationService),o=e.get(I.ITextModelService);V=r.createInstance(u.FileOnDiskContentProvider),o.registerTextModelContentProvider("showModifications",V)}var s=e.get(M.IEditorService),c=D.getResourceForCommand(t,e.get(g.IListService),s);if(c&&c.scheme===T.Schemas.file){
var l=n.basename(c.fsPath),d=i.localize("modifiedLabel","{0} (on disk) ↔ {1}",l,l);return s.openEditor({leftResource:c.with({scheme:"showModifications"}),rightResource:c,label:d}).then(function(){})}return Promise.resolve(!0)}});var W,G;v.CommandsRegistry.registerCommand({id:t.SELECT_FOR_COMPARE_COMMAND_ID,handler:function(e,i){var n=e.get(g.IListService),r=n.lastFocusedList;r instanceof f.Tree&&(r.clearHighlight(),r.domFocus()),W=D.getResourceForCommand(i,n,e.get(M.IEditorService)),G||(G=t.ResourceSelectedForCompareContext.bindTo(e.get(m.IContextKeyService))),G.set(!0)}}),v.CommandsRegistry.registerCommand({id:t.COMPARE_SELECTED_COMMAND_ID,handler:function(e,t){var i=e.get(M.IEditorService),n=D.getMultiSelectedResources(t,e.get(g.IListService),i);return 2===n.length?i.openEditor({leftResource:n[0],rightResource:n[1]}):Promise.resolve(!0)}}),v.CommandsRegistry.registerCommand({id:t.COMPARE_RESOURCE_COMMAND_ID,handler:function(e,t){var i=e.get(M.IEditorService),n=e.get(g.IListService),r=n.lastFocusedList
;return r instanceof f.Tree&&r.clearHighlight(),i.openEditor({leftResource:W,rightResource:D.getResourceForCommand(t,n,i)}).then(function(){})}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.REVEAL_IN_OS_COMMAND_ID,weight:200,when:O.EditorContextKeys.focus.toNegated(),primary:2608,win:{primary:1584},handler:function(e,t){N(D.getMultiSelectedResources(t,e.get(g.IListService),e.get(M.IEditorService)),e.get(s.IWindowsService),e.get(R.INotificationService),e.get(l.IWorkspaceContextService))}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({weight:200,when:void 0,primary:w.KeyChord(2089,48),id:"workbench.action.files.revealActiveFileInWindows",handler:function(e){var t=e.get(M.IEditorService).activeEditor;N(t&&t.getResource()?[t.getResource()]:[],e.get(s.IWindowsService),e.get(R.INotificationService),e.get(l.IWorkspaceContextService))}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({weight:200,when:O.EditorContextKeys.focus.toNegated(),primary:2593,win:{primary:1569},
id:t.COPY_PATH_COMMAND_ID,handler:function(e,t){B(D.getMultiSelectedResources(t,e.get(g.IListService),e.get(M.IEditorService)),!1,e.get(d.IClipboardService),e.get(R.INotificationService),e.get(P.ILabelService))}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({weight:200,when:O.EditorContextKeys.focus.toNegated(),primary:3617,win:{primary:w.KeyChord(2089,2593)},id:t.COPY_RELATIVE_PATH_COMMAND_ID,handler:function(e,t){B(D.getMultiSelectedResources(t,e.get(g.IListService),e.get(M.IEditorService)),!0,e.get(d.IClipboardService),e.get(R.INotificationService),e.get(P.ILabelService))}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({weight:200,when:void 0,primary:w.KeyChord(2089,46),id:"workbench.action.files.copyPathOfActiveFile",handler:function(e){var t=e.get(M.IEditorService).activeEditor;B(t&&t.getResource()?[t.getResource()]:[],!1,e.get(d.IClipboardService),e.get(R.INotificationService),e.get(P.ILabelService))}}),v.CommandsRegistry.registerCommand({id:t.REVEAL_IN_EXPLORER_COMMAND_ID,
handler:function(e,t){var i=e.get(c.IViewletService),n=e.get(l.IWorkspaceContextService),r=D.getResourceForCommand(t,e.get(g.IListService),e.get(M.IEditorService));i.openViewlet(u.VIEWLET_ID,!1).then(function(e){if(n.isInsideWorkspace(r)){var t=e.getExplorerView();t&&(t.setExpanded(!0),t.select(r,!0))}else{var i=e.getOpenEditorsView();i&&i.setExpanded(!0)}})}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t.SAVE_FILE_AS_COMMAND_ID,weight:200,when:void 0,primary:3121,handler:function(e,t){var i=e.get(M.IEditorService),n=void 0;return n=t&&"from"in t&&"menu"===t.from?o.toResource(i.activeEditor):D.getResourceForCommand(t,e.get(g.IListService),i),L(n,!0,void 0,i,e.get(y.IFileService),e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(k.IEditorGroupsService))}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({when:void 0,weight:200,primary:2097,id:t.SAVE_FILE_COMMAND_ID,handler:function(e,t){var i=e.get(M.IEditorService),n=D.getMultiSelectedResources(t,e.get(g.IListService),i)
;return 1===n.length?L(n[0],!1,void 0,i,e.get(y.IFileService),e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(k.IEditorGroupsService)):F(n,i,e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(k.IEditorGroupsService))}}),E.KeybindingsRegistry.registerCommandAndKeybindingRule({when:void 0,weight:200,primary:w.KeyChord(2089,49),win:{primary:w.KeyChord(2089,3121)},id:t.SAVE_FILE_WITHOUT_FORMATTING_COMMAND_ID,handler:function(e){var t=e.get(M.IEditorService),i=o.toResource(t.activeEditor,{supportSideBySide:!0});if(i)return L(i,!1,{skipSaveParticipants:!0},t,e.get(y.IFileService),e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(k.IEditorGroupsService))}}),v.CommandsRegistry.registerCommand({id:t.SAVE_ALL_COMMAND_ID,handler:function(e){return F(!0,e.get(M.IEditorService),e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(k.IEditorGroupsService))}}),v.CommandsRegistry.registerCommand({id:t.SAVE_ALL_IN_GROUP_COMMAND_ID,handler:function(e,t,i){
var n,r=x.getMultiSelectedEditorContexts(i,e.get(g.IListService),e.get(k.IEditorGroupsService)),s=e.get(k.IEditorGroupsService);if(r.length){var a=e.get(y.IFileService);n=[],r.forEach(function(e){s.getGroup(e.groupId).editors.forEach(function(e){var t=o.toResource(e,{supportSideBySide:!0});t&&(t.scheme===T.Schemas.untitled||a.canHandleResource(t))&&n.push(t)})})}else n=!0;return F(n,e.get(M.IEditorService),e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(k.IEditorGroupsService))}}),v.CommandsRegistry.registerCommand({id:t.SAVE_FILES_COMMAND_ID,handler:function(e){return F(!1,e.get(M.IEditorService),e.get(S.IUntitledEditorService),e.get(p.ITextFileService),e.get(k.IEditorGroupsService))}}),v.CommandsRegistry.registerCommand({id:t.REMOVE_ROOT_FOLDER_COMMAND_ID,handler:function(e,t){var i=e.get(A.IWorkspaceEditingService),n=e.get(l.IWorkspaceContextService).getWorkspace(),r=D.getMultiSelectedResources(t,e.get(g.IListService),e.get(M.IEditorService)).filter(function(e){
return n.folders.some(function(t){return t.uri.toString()===e.toString()})});return i.removeFolders(r)}})}),define(e[154],t([1,0,2,30,20,17,25,35,100,22,14,4,56,29,16,15,111,55,77,49,48,3,45,171,64,9,81,43,37,38,52,10,27,95,28,12,105,258]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V){"use strict";function W(e,t){for(var i=u.basenameOrAuthority(t.resource),n=u.joinPath(e.resource,i);;){if(!e.root.find(n))break;i=G(i,t.isDirectory),n=u.joinPath(e.resource,i)}return n}function G(e,t){var i=RegExp("(.*[\\.\\-_])(\\d+)(\\..*)$");if(!t&&e.match(i))return e.replace(i,function(e,t,i,n){var r=parseInt(i);return r<1073741824?t+p.pad(r+1,i.length)+n:p.format("{0}{1}.1{2}",t,i,n)});var n=RegExp("(\\d+)([\\.\\-_].*)(\\..*)$");if(!t&&e.match(n))return e.replace(n,function(e,t,i,n){var r=parseInt(t);return r<1073741824?p.pad(r+1,t.length)+i+n:p.format("{0}{1}.1{2}",t,i,n)});var r=RegExp("(\\d+)(\\..*)$");if(!t&&e.match(r))return e.replace(r,function(e,t,i){var n=parseInt(t)
;return n<1073741824?p.pad(n+1,t.length)+i:p.format("{0}.1{1}",t,i)});var o=e.lastIndexOf(".");return!t&&o>=0?p.format("{0}.1{1}",e.substr(0,o),e.substr(o)):t&&e.match(/(\d+)$/)?e.replace(/(\d+)$/,function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=parseInt(t[0]);return n<1073741824?p.pad(n+1,t[0].length):p.format("{0}.1",t[0])}):t&&e.match(/^(\d+)/)?e.replace(/^(\d+)(.*)$/,function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=parseInt(t[0]);return n<1073741824?p.pad(n+1,t[0].length)+t[1]:p.format("{0}{1}.1",t[0],t[1])}):p.format("{0}.1",e)}function K(e,t){if(!(t=H(t))||0===t.length||/^\s+$/.test(t))return n.localize("emptyFileNameError","A file or folder name must be provided.");if("/"===t[0]||"\\"===t[0])return n.localize("fileNameStartsWithSlashError","A file or folder name cannot start with a slash.");var i=t.split(/[\\/]/).filter(function(e){return!!e})
;if(!!e.getChild(t))return n.localize("fileNameExistsError","A file or folder **{0}** already exists at this location. Please choose a different name.",t);if(i.some(function(e){return!l.isValidBasename(e)}))return n.localize("invalidFileNameError","The name **{0}** is not valid as a file or folder name. Please choose a different name.",z(t));if(a.isWindows){if(t.length+e.resource.fsPath.length+1>255)return n.localize("filePathTooLongError","The name **{0}** results in a path that is too long. Please choose a shorter name.",z(t))}return null}function z(e){return e&&e.length>255?e.substr(0,255)+"...":e}function H(e){return e?(e=p.trim(e,"\t"),e=p.rtrim(e,"."),e=p.rtrim(e,"/"),e=p.rtrim(e,"\\")):e}function U(e,t){var i=e,n=i.getFocus(),r=i.getSelection();return{stat:n,selection:r&&r.indexOf(n)>=0?r:[],viewletState:t.getActiveViewlet().getViewletState()}}function j(e,t){var i=e.get(I.IInstantiationService),n=e.get(k.IListService),r=e.get(C.IViewletService),o=r.getActiveViewlet(),s=Promise.resolve(o)
;return o&&o.getId()===f.VIEWLET_ID||(s=r.openViewlet(f.VIEWLET_ID,!0)),s.then(function(e){var o=e.getExplorerView();if(o&&o.isVisible()&&o.isExpanded()){o.focus();var s=U(n.lastFocusedList,r);return i.createInstance(t,n.lastFocusedList,s.stat).run(s)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.NEW_FILE_COMMAND_ID="explorer.newFile",t.NEW_FILE_LABEL=n.localize("newFile","New File"),t.NEW_FOLDER_COMMAND_ID="explorer.newFolder",t.NEW_FOLDER_LABEL=n.localize("newFolder","New Folder"),t.TRIGGER_RENAME_LABEL=n.localize("rename","Rename"),t.MOVE_FILE_TO_TRASH_LABEL=n.localize("delete","Delete"),t.COPY_FILE_LABEL=n.localize("copyFile","Copy"),t.PASTE_FILE_LABEL=n.localize("pasteFile","Paste"),t.FileCopiedContext=new P.RawContextKey("fileCopied",!1);var q=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r._notificationService=n,r}return i(t,e),Object.defineProperty(t.prototype,"notificationService",{get:function(){return this._notificationService},enumerable:!0,configurable:!0}),
t.prototype.onError=function(e){"string"===e.message&&(e=e.message),this._notificationService.error(d.toErrorMessage(e,!1))},t.prototype.onErrorWithRetry=function(e,t){this._notificationService.prompt(N.Severity.Error,d.toErrorMessage(e,!1),[{label:n.localize("retry","Retry"),run:function(){return t()}}])},t}(h.Action);t.BaseErrorReportingAction=q;var Q=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i,r)||this;return s.fileService=n,s.textFileService=o,s.enabled=!1,s}return i(t,e),t.prototype._isEnabled=function(){return!0},t.prototype._updateEnablement=function(){this.enabled=!(!this.fileService||!this._isEnabled())},t=r([o(2,m.IFileService),o(3,N.INotificationService),o(4,v.ITextFileService)],t)}(q);t.BaseFileAction=Q;var Y=function(e){function s(i,n,r,o,a,c){var l=e.call(this,s.ID,t.TRIGGER_RENAME_LABEL,r,o,a)||this;return l.tree=i,l.element=n,l.renameAction=c.createInstance($,n),l._updateEnablement(),l}return i(s,e),s.prototype.validateFileName=function(e){var t=e.split(/[\\/]/).filter(function(e){
return!!e});if(t.length>1){if(0===(a.isLinux?p.compare:p.compareIgnoreCase)(t[0],this.element.name))return n.localize("renameWhenSourcePathIsParentOfTargetError","Please use the 'New Folder' or 'New File' command to add children to an existing folder")}return this.renameAction.validateFileName(this.element.parent,e)},s.prototype.run=function(e){var t=this;if(!e)return Promise.reject(new Error("No context provided to BaseEnableFileRenameAction."));var i=e.viewletState;if(!i)return Promise.reject(new Error("Invalid viewlet state provided to BaseEnableFileRenameAction."));var n=e.stat;if(!n)return Promise.reject(new Error("Invalid stat provided to BaseEnableFileRenameAction."));i.setEditable(n,{action:this.renameAction,validator:function(e){var i=t.validateFileName(e);return i?{content:i,formatContent:!0,type:3}:null}}),this.tree.refresh(n,!1).then(function(){t.tree.setHighlight(n);var e=t.tree.onDidChangeHighlight(function(r){r.highlight||(i.clearEditable(n),t.tree.refresh(n),e.dispose())})})},
s.ID="renameFile",s=r([o(2,m.IFileService),o(3,N.INotificationService),o(4,v.ITextFileService),o(5,I.IInstantiationService)],s)}(Q),X=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i,r,o,s)||this;return a.element=n,a}return i(t,e),t.prototype._isEnabled=function(){return e.prototype._isEnabled.call(this)&&this.element&&!this.element.isReadonly},t.prototype.run=function(e){var t=this;if(!e)return Promise.reject(new Error("No context provided to BaseRenameFileAction."));var i=e.value;if(!i)return Promise.reject(new Error("No new name provided to BaseRenameFileAction."));if((i=H(i))===H(this.element.name)||this.validateFileName(this.element.parent,i))return Promise.resolve(null);return this.runAction(i).then(null,function(e){t.onError(e)})},t.prototype.validateFileName=function(e,t){var i=this.element.name,n=t;return a.isLinux||(i=i.toLowerCase(),n=n.toLowerCase()),H(i)===H(n)?null:K(e,t)},t=r([o(3,m.IFileService),o(4,N.INotificationService),o(5,v.ITextFileService)],t)}(Q);t.BaseRenameAction=X
;var $=function(e){function t(i,r,o,s){var a=e.call(this,t.ID,n.localize("rename","Rename"),i,r,o,s)||this;return a._updateEnablement(),a}return i(t,e),t.prototype.runAction=function(e){var t=this.element.parent.resource,i=u.joinPath(t,e);return this.textFileService.move(this.element.resource,i)},t.ID="workbench.files.action.renameFile",t=r([o(1,m.IFileService),o(2,N.INotificationService),o(3,v.ITextFileService)],t)}(X),J=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this,t,i,a,c,l)||this;return s&&(u.presetFolder=s.isDirectory?s:s.parent),u.tree=n,u.isFile=r,u.renameAction=o,u}return i(t,e),t.prototype.run=function(e){var t=this;if(!e)return Promise.reject(new Error("No context provided to BaseNewAction."));var i=e.viewletState;if(!i)return Promise.reject(new Error("Invalid viewlet state provided to BaseNewAction."));var n=this.presetFolder;if(!n){var r=this.tree.getFocus();if(r)n=r.isDirectory?r:r.parent;else{var o=this.tree.getInput();n=o instanceof S.Model?o.roots[0]:o}}
return n?n.isReadonly?Promise.reject(new Error("Parent folder is readonly.")):n.getChild(S.NewStatPlaceholder.NAME)?Promise.resolve(new Error("Parent folder is already in the process of creating a file")):this.tree.reveal(n,.5).then(function(){return t.tree.expand(n).then(function(){var e=S.NewStatPlaceholder.addNewStatPlaceholder(n,!t.isFile);return t.renameAction.element=e,i.setEditable(e,{action:t.renameAction,validator:function(e){var i=t.renameAction.validateFileName(n,e);return i?{content:i,formatContent:!0,type:3}:null}}),t.tree.refresh(n).then(function(){return t.tree.expand(n).then(function(){return t.tree.reveal(e,.5).then(function(){t.tree.setHighlight(e);var i=t.tree.onDidChangeHighlight(function(r){r.highlight||(e.destroy(),t.tree.refresh(n),i.dispose())})})})})})}):Promise.reject(new Error("Invalid parent folder to create."))},t=r([o(6,m.IFileService),o(7,N.INotificationService),o(8,v.ITextFileService)],t)}(Q);t.BaseNewAction=J;var Z=function(e){function n(i,n,r,o,s,a){
var c=e.call(this,"explorer.newFile",t.NEW_FILE_LABEL,i,!0,a.createInstance(ne,n),null,r,o,s)||this;return c.class="explorer-action new-file",c._updateEnablement(),c}return i(n,e),n=r([o(2,m.IFileService),o(3,N.INotificationService),o(4,v.ITextFileService),o(5,I.IInstantiationService)],n)}(J);t.NewFileAction=Z;var ee=function(e){function n(i,n,r,o,s,a){var c=e.call(this,"explorer.newFolder",t.NEW_FOLDER_LABEL,i,!1,a.createInstance(re,n),null,r,o,s)||this;return c.class="explorer-action new-folder",c._updateEnablement(),c}return i(n,e),n=r([o(2,m.IFileService),o(3,N.INotificationService),o(4,v.ITextFileService),o(5,I.IInstantiationService)],n)}(J);t.NewFolderAction=ee;var te=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.editorService=n,r}return i(t,e),t.prototype.run=function(){return this.editorService.openEditor({options:{pinned:!0}})},t.ID="workbench.action.files.newUntitledFile",t.LABEL=n.localize("newUntitledFile","New Untitled File"),t=r([o(2,B.IEditorService)],t)}(h.Action)
;t.GlobalNewUntitledFileAction=te;var ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.validateFileName=function(t,i){return this.element instanceof S.NewStatPlaceholder?K(t,i):e.prototype.validateFileName.call(this,t,i)},t}(X);t.BaseCreateAction=ie;var ne=function(e){function t(i,n,r,o,s){var a=e.call(this,t.ID,t.LABEL,i,n,o,s)||this;return a.editorService=r,a._updateEnablement(),a}return i(t,e),t.prototype.runAction=function(e){var t=this,i=this.element.parent.resource;return this.fileService.createFile(u.joinPath(i,e)).then(function(e){return t.editorService.openEditor({resource:e.resource,options:{pinned:!0}})},function(i){t.onErrorWithRetry(i,function(){return t.runAction(e)})})},t.ID="workbench.files.action.createFileFromExplorer",t.LABEL=n.localize("createNewFile","New File"),t=r([o(1,m.IFileService),o(2,B.IEditorService),o(3,N.INotificationService),o(4,v.ITextFileService)],t)}(ie),re=function(e){function t(i,n,r,o){
var s=e.call(this,t.ID,t.LABEL,null,n,r,o)||this;return s._updateEnablement(),s}return i(t,e),t.prototype.runAction=function(e){var t=this,i=this.element.parent.resource;return this.fileService.createFolder(u.joinPath(i,e)).then(null,function(i){t.onErrorWithRetry(i,function(){return t.runAction(e)})})},t.ID="workbench.files.action.createFolderFromExplorer",t.LABEL=n.localize("createNewFolder","New Folder"),t=r([o(1,m.IFileService),o(2,N.INotificationService),o(3,v.ITextFileService)],t)}(ie),oe=function(e){function s(i,n,r,o,s,a,c,u){var d=e.call(this,"moveFileToTrash",t.MOVE_FILE_TO_TRASH_LABEL,o,s,c)||this;return d.tree=i,d.elements=n,d.useTrash=r,d.dialogService=a,d.configurationService=u,d.tree=i,d.useTrash=r&&n.every(function(e){return!l.isUNC(e.resource.fsPath)}),d._updateEnablement(),d}return i(s,e),s.prototype._isEnabled=function(){return e.prototype._isEnabled.call(this)&&this.elements&&this.elements.every(function(e){return!e.isReadonly})},s.prototype.run=function(){var e=this
;this.tree&&this.tree.clearHighlight();var t;t=this.useTrash?a.isWindows?n.localize("deleteButtonLabelRecycleBin","&&Move to Recycle Bin"):n.localize({key:"deleteButtonLabelTrash",comment:["&& denotes a mnemonic"]},"&&Move to Trash"):n.localize({key:"deleteButtonLabel",comment:["&& denotes a mnemonic"]},"&&Delete");var i=u.distinctParents(this.elements,function(e){return e.resource}),r=Promise.resolve(!0),o=this.textFileService.getDirty().filter(function(e){return i.some(function(t){return u.isEqualOrParent(e,t.resource,!a.isLinux)})});if(o.length){var c=void 0
;c=i.length>1?n.localize("dirtyMessageFilesDelete","You are deleting files with unsaved changes. Do you want to continue?"):i[0].isDirectory?1===o.length?n.localize("dirtyMessageFolderOneDelete","You are deleting a folder with unsaved changes in 1 file. Do you want to continue?"):n.localize("dirtyMessageFolderDelete","You are deleting a folder with unsaved changes in {0} files. Do you want to continue?",o.length):n.localize("dirtyMessageFileDelete","You are deleting a file with unsaved changes. Do you want to continue?"),r=this.dialogService.confirm({message:c,type:"warning",detail:n.localize("dirtyWarning","Your changes will be lost if you don't save them."),primaryButton:t}).then(function(t){return!!t.confirmed&&(e.skipConfirm=!0,e.textFileService.revertAll(o).then(function(){return!0}))})}return r.then(function(r){if(!r)return null;var o;if(e.skipConfirm||e.useTrash&&!1===e.configurationService.getValue(s.CONFIRM_DELETE_SETTING_KEY))o=Promise.resolve({confirmed:!0});else if(e.useTrash){
c=e.getMoveToTrashMessage(i);o=e.dialogService.confirm({message:c,detail:a.isWindows?n.localize("undoBin","You can restore from the Recycle Bin."):n.localize("undoTrash","You can restore from the Trash."),primaryButton:t,checkbox:{label:n.localize("doNotAskAgain","Do not ask me again")},type:"question"})}else{var c=e.getDeleteMessage(i);o=e.dialogService.confirm({message:c,detail:n.localize("irreversible","This action is irreversible!"),primaryButton:t,type:"warning"})}return o.then(function(t){var r=Promise.resolve(void 0);return t.confirmed&&!0===t.checkboxChecked&&(r=e.configurationService.updateValue(s.CONFIRM_DELETE_SETTING_KEY,!1,1)),r.then(function(){if(!t.confirmed)return Promise.resolve(null);return Promise.all(i.map(function(t){return e.fileService.del(t.resource,{useTrash:e.useTrash,recursive:!0})})).then(function(){i[0].parent&&e.tree.setFocus(i[0].parent)},function(t){var i,r,o
;return e.useTrash?(i=a.isWindows?n.localize("binFailed","Failed to delete using the Recycle Bin. Do you want to permanently delete instead?"):n.localize("trashFailed","Failed to delete using the Trash. Do you want to permanently delete instead?"),r=n.localize("irreversible","This action is irreversible!"),o=n.localize({key:"deletePermanentlyButtonLabel",comment:["&& denotes a mnemonic"]},"&&Delete Permanently")):(i=d.toErrorMessage(t,!1),o=n.localize({key:"retryButtonLabel",comment:["&& denotes a mnemonic"]},"&&Retry")),e.dialogService.confirm({message:i,detail:r,type:"warning",primaryButton:o}).then(function(t){return e.tree.domFocus(),t.confirmed?(e.useTrash&&(e.useTrash=!1),e.skipConfirm=!0,e.run()):Promise.resolve(void 0)})})})})})},s.prototype.getMoveToTrashMessage=function(e){
return this.containsBothDirectoryAndFile(e)?F.getConfirmMessage(n.localize("confirmMoveTrashMessageFilesAndDirectories","Are you sure you want to delete the following {0} files/directories and their contents?",e.length),e.map(function(e){return e.resource})):e.length>1?e[0].isDirectory?F.getConfirmMessage(n.localize("confirmMoveTrashMessageMultipleDirectories","Are you sure you want to delete the following {0} directories and their contents?",e.length),e.map(function(e){return e.resource})):F.getConfirmMessage(n.localize("confirmMoveTrashMessageMultiple","Are you sure you want to delete the following {0} files?",e.length),e.map(function(e){return e.resource})):e[0].isDirectory?n.localize("confirmMoveTrashMessageFolder","Are you sure you want to delete '{0}' and its contents?",e[0].name):n.localize("confirmMoveTrashMessageFile","Are you sure you want to delete '{0}'?",e[0].name)},s.prototype.getDeleteMessage=function(e){
return this.containsBothDirectoryAndFile(e)?F.getConfirmMessage(n.localize("confirmDeleteMessageFilesAndDirectories","Are you sure you want to permanently delete the following {0} files/directories and their contents?",e.length),e.map(function(e){return e.resource})):e.length>1?e[0].isDirectory?F.getConfirmMessage(n.localize("confirmDeleteMessageMultipleDirectories","Are you sure you want to permanently delete the following {0} directories and their contents?",e.length),e.map(function(e){return e.resource})):F.getConfirmMessage(n.localize("confirmDeleteMessageMultiple","Are you sure you want to permanently delete the following {0} files?",e.length),e.map(function(e){return e.resource})):e[0].isDirectory?n.localize("confirmDeleteMessageFolder","Are you sure you want to permanently delete '{0}' and its contents?",e[0].name):n.localize("confirmDeleteMessageFile","Are you sure you want to permanently delete '{0}'?",e[0].name)},s.prototype.containsBothDirectoryAndFile=function(e){var t=e.filter(function(e){
return e.isDirectory}),i=e.filter(function(e){return!e.isDirectory});return t.length>0&&i.length>0},s.CONFIRM_DELETE_SETTING_KEY="explorer.confirmDelete",s=r([o(3,m.IFileService),o(4,N.INotificationService),o(5,F.IDialogService),o(6,v.ITextFileService),o(7,x.IConfigurationService)],s)}(Q),se=function(e){function t(t,i,r,o,s,a,c,l){var u=e.call(this,"workbench.files.action.addFile",n.localize("addFiles","Add Files"),o,c,l)||this;return u.editorService=s,u.dialogService=a,u.tree=t,u.element=i,r&&(u.class=r),u._updateEnablement(),u}return i(t,e),t.prototype.run=function(e){var t=this;return Promise.resolve(null).then(function(){if(e&&e.length>0){var i;if(t.element)i=t.element;else{var r=t.tree.getInput();i=t.tree.getFocus()||(r instanceof S.Model?r.roots[0]:r)}return i.isDirectory||(i=i.parent),t.fileService.resolveFile(i.resource).then(function(r){var o=new Set;r.children.forEach(function(e){o.add(a.isLinux?e.name:e.name.toLowerCase())});var s=Promise.resolve({confirmed:!0});if(e.some(function(e){
return o.has(u.hasToIgnoreCase(e)?u.basename(e).toLowerCase():u.basename(e))})){var l={message:n.localize("confirmOverwrite","A file or folder with the same name already exists in the destination folder. Do you want to replace it?"),detail:n.localize("irreversible","This action is irreversible!"),primaryButton:n.localize({key:"replaceButtonLabel",comment:["&& denotes a mnemonic"]},"&&Replace"),type:"warning"};s=t.dialogService.confirm(l)}return s.then(function(n){if(n.confirmed){var r=[];return e.forEach(function(n){r.push(function(){var r=n,o=u.joinPath(i.resource,u.basename(r)),s=Promise.resolve(null);return t.textFileService.isDirty(o)&&(s=t.textFileService.revertAll([o],{soft:!0})),s.then(function(){var n=u.joinPath(i.resource,u.basename(r));return t.fileService.copyFile(r,n,!0).then(function(i){1===e.length&&t.editorService.openEditor({resource:i.resource,options:{pinned:!0}})},function(e){return t.onError(e)})})})}),c.sequence(r)}})})}}).then(function(){t.tree.clearHighlight()},function(e){t.onError(e),
t.tree.clearHighlight()})},t=r([o(3,m.IFileService),o(4,B.IEditorService),o(5,F.IDialogService),o(6,N.INotificationService),o(7,v.ITextFileService)],t)}(Q);t.AddFilesAction=se;var ae=function(e){function n(i,n,r,o,s,a,c){var l=e.call(this,"filesExplorer.copy",t.COPY_FILE_LABEL,r,o,s)||this;return l.elements=n,l.clipboardService=c,l.tree=i,l._updateEnablement(),l}return i(n,e),n.prototype.run=function(){return this.clipboardService.writeResources(this.elements.map(function(e){return e.resource})),this.tree&&this.tree.clearHighlight(),this.tree.domFocus(),Promise.resolve(null)},n=r([o(2,m.IFileService),o(3,N.INotificationService),o(4,v.ITextFileService),o(5,P.IContextKeyService),o(6,T.IClipboardService)],n)}(Q),ce=function(e){function s(i,n,r,o,a,c){var l=e.call(this,s.ID,t.PASTE_FILE_LABEL,r,o,a)||this;if(l.editorService=c,l.tree=i,l.element=n,!l.element){var u=l.tree.getInput();l.element=u instanceof S.Model?u.roots[0]:u}return l._updateEnablement(),l}return i(s,e),s.prototype.run=function(e){var t=this
;if(this.element.resource.toString()!==e.toString()&&u.isEqualOrParent(this.element.resource,e,!a.isLinux))throw new Error(n.localize("fileIsAncestor","File to paste is an ancestor of the destination folder"));return this.fileService.resolveFile(e).then(function(i){t.tree&&t.tree.clearHighlight();var n,r=W(n=t.element.resource.toString()===e.toString()?t.element.parent:t.element.isDirectory?t.element:t.element.parent,{resource:e,isDirectory:i.isDirectory});return t.fileService.copyFile(e,r).then(function(e){if(!e.isDirectory)return t.editorService.openEditor({resource:e.resource,options:{pinned:!0}})},function(e){return t.onError(e)}).then(function(){t.tree.domFocus()})},function(e){t.onError(new Error(n.localize("fileDeleted","File to paste was deleted or moved meanwhile")))})},s.ID="filesExplorer.paste",s=r([o(2,m.IFileService),o(3,N.INotificationService),o(4,v.ITextFileService),o(5,B.IEditorService)],s)}(Q),le=function(e){function t(t,i,r,o,s,a,c){
var l=e.call(this,"workbench.files.action.duplicateFile",n.localize("duplicateFile","Duplicate"),o,a,c)||this;return l.editorService=s,l.tree=t,l.element=i,l.target=r&&r.isDirectory?r:i.parent,l._updateEnablement(),l}return i(t,e),t.prototype.run=function(){var e=this;this.tree&&this.tree.clearHighlight();return this.fileService.copyFile(this.element.resource,W(this.target,{resource:this.element.resource,isDirectory:this.element.isDirectory})).then(function(t){if(!t.isDirectory)return e.editorService.openEditor({resource:t.resource,options:{pinned:!0}})},function(t){return e.onError(t)})},t=r([o(3,m.IFileService),o(4,B.IEditorService),o(5,N.INotificationService),o(6,v.ITextFileService)],t)}(Q);t.DuplicateFileAction=le,t.incrementFileName=G;var ue=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.quickOpenService=n,s.editorService=r,s.notificationService=o,s}return i(t,e),t.prototype.run=function(){var e=this,t=this.editorService.activeEditor,i=t?t.getResource():void 0;if(i){
var r=this.editorService.overrideOpenEditor(function(t,n,o){r.dispose();var s=t.getResource();if(s)return{override:e.editorService.openEditor({leftResource:i,rightResource:s}).then(function(){})}});this.quickOpenService.show("",{autoFocus:{autoFocusSecondEntry:!0}}).then(function(){r.dispose()})}else this.notificationService.info(n.localize("openFileToCompare","Open a file first to compare it with another file."));return Promise.resolve(!0)},t.ID="workbench.files.action.compareFileWith",t.LABEL=n.localize("globalCompareFile","Compare Active File With..."),t=r([o(2,w.IQuickOpenService),o(3,B.IEditorService),o(4,N.INotificationService)],t)}(h.Action);t.GlobalCompareResourcesAction=ue;var de=function(e){function t(t,i){return e.call(this,"workbench.files.action.refreshFilesExplorer",n.localize("refresh","Refresh"),i,!0,function(e){return t.refresh()})||this}return i(t,e),t}(h.Action);t.RefreshViewExplorerAction=de;var pe=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.configurationService=n,r
}return i(t,e),t.prototype.run=function(){var e=this.configurationService.inspect("files.autoSave"),t=e.user;s.isUndefinedOrNull(t)&&(t=e.default);var i;return i=[m.AutoSaveConfiguration.AFTER_DELAY,m.AutoSaveConfiguration.ON_FOCUS_CHANGE,m.AutoSaveConfiguration.ON_WINDOW_CHANGE].some(function(e){return e===t})?m.AutoSaveConfiguration.OFF:m.AutoSaveConfiguration.AFTER_DELAY,this.configurationService.updateValue("files.autoSave",i,1)},t.ID="workbench.action.toggleAutoSave",t.LABEL=n.localize("toggleAutoSave","Toggle Auto Save"),t=r([o(2,x.IConfigurationService)],t)}(h.Action);t.ToggleAutoSaveAction=pe;var he=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i,s)||this;return a.textFileService=n,a.untitledEditorService=r,a.commandService=o,a.toDispose=[],a.lastIsDirty=a.textFileService.isDirty(),a.enabled=a.lastIsDirty,a.registerListeners(),a}return i(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.textFileService.models.onModelsDirty(function(t){
return e.updateEnablement(!0)})),this.toDispose.push(this.textFileService.models.onModelsSaved(function(t){return e.updateEnablement(!1)})),this.toDispose.push(this.textFileService.models.onModelsReverted(function(t){return e.updateEnablement(!1)})),this.toDispose.push(this.textFileService.models.onModelsSaveError(function(t){return e.updateEnablement(!0)})),this.includeUntitled()&&this.toDispose.push(this.untitledEditorService.onDidChangeDirty(function(t){return e.updateEnablement(e.untitledEditorService.isDirty(t))}))},t.prototype.updateEnablement=function(e){this.lastIsDirty!==e&&(this.enabled=this.textFileService.isDirty(),this.lastIsDirty=this.enabled)},t.prototype.run=function(e){var t=this;return this.doRun(e).then(function(){return!0},function(e){return t.onError(e),null})},t.prototype.dispose=function(){this.toDispose=g.dispose(this.toDispose),e.prototype.dispose.call(this)},t=r([o(2,v.ITextFileService),o(3,b.IUntitledEditorService),o(4,M.ICommandService),o(5,N.INotificationService)],t)}(q)
;t.BaseSaveAllAction=he;var ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"class",{get:function(){return"explorer-action save-all"},enumerable:!0,configurable:!0}),t.prototype.doRun=function(e){return this.commandService.executeCommand(D.SAVE_ALL_COMMAND_ID)},t.prototype.includeUntitled=function(){return!0},t.ID="workbench.action.files.saveAll",t.LABEL=D.SAVE_ALL_LABEL,t}(he);t.SaveAllAction=ge;var fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"class",{get:function(){return"explorer-action save-all"},enumerable:!0,configurable:!0}),t.prototype.doRun=function(e){return this.commandService.executeCommand(D.SAVE_ALL_IN_GROUP_COMMAND_ID,{},e)},t.prototype.includeUntitled=function(){return!0},t.ID="workbench.files.action.saveAllInGroup",t.LABEL=n.localize("saveAllInGroup","Save All in Group"),t}(he);t.SaveAllInGroupAction=fe;var ve=function(e){function t(t,i,n){
var r=e.call(this,t,i,"action-close-all-files")||this;return r.commandService=n,r}return i(t,e),t.prototype.run=function(e){return this.commandService.executeCommand(V.CLOSE_EDITORS_AND_GROUP_COMMAND_ID,{},e)},t.ID="workbench.files.action.closeGroup",t.LABEL=n.localize("closeGroup","Close Group"),t=r([o(2,M.ICommandService)],t)}(h.Action);t.CloseGroupAction=ve;var me=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.viewletService=n,r}return i(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(f.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();t&&(t.setExpanded(!0),t.getViewer().domFocus())})},t.ID="workbench.files.action.focusFilesExplorer",t.LABEL=n.localize("focusFilesExplorer","Focus on Files Explorer"),t=r([o(2,C.IViewletService)],t)}(h.Action);t.FocusFilesExplorer=me;var ye=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.editorService=n,s.notificationService=r,s.commandService=o,s}return i(t,e),t.prototype.run=function(){
var e=y.toResource(this.editorService.activeEditor,{supportSideBySide:!0});return e?this.commandService.executeCommand(D.REVEAL_IN_EXPLORER_COMMAND_ID,e):this.notificationService.info(n.localize("openFileToShow","Open a file first to show it in the explorer")),Promise.resolve(!0)},t.ID="workbench.files.action.showActiveFileInExplorer",t.LABEL=n.localize("showInExplorer","Reveal Active File in Side Bar"),t=r([o(2,B.IEditorService),o(3,N.INotificationService),o(4,M.ICommandService)],t)}(h.Action);t.ShowActiveFileInExplorer=ye;var Se=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.viewletService=n,r}return i(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(f.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();if(t){var i=t.getViewer();if(i){var n=new E.CollapseAction(i,!0,null);n.run(),n.dispose()}}})},t.ID="workbench.files.action.collapseExplorerFolders",t.LABEL=n.localize("collapseExplorerFolders","Collapse Folders in Explorer"),t=r([o(2,C.IViewletService)],t)
}(h.Action);t.CollapseExplorerView=Se;var be=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.viewletService=n,r}return i(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(f.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();t&&t.refresh()})},t.ID="workbench.files.action.refreshFilesExplorer",t.LABEL=n.localize("refreshExplorer","Refresh Explorer"),t=r([o(2,C.IViewletService)],t)}(h.Action);t.RefreshExplorerView=be;var Ee=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.editorService=n,s.windowService=r,s.notificationService=o,s}return i(t,e),t.prototype.run=function(){var e=y.toResource(this.editorService.activeEditor,{supportSideBySide:!0,filter:L.Schemas.file});return e?this.windowService.openWindow([e],{forceNewWindow:!0,forceOpenWorkspaceAsFile:!0}):this.notificationService.info(n.localize("openFileToShowInNewWindow","Open a file first to open in new window")),Promise.resolve(!0)},
t.ID="workbench.action.files.showOpenedFileInNewWindow",t.LABEL=n.localize("openFileInNewWindow","Open Active File in New Window"),t=r([o(2,B.IEditorService),o(3,_.IWindowService),o(4,N.INotificationService)],t)}(h.Action);t.ShowOpenedFileInNewWindow=Ee,t.validateFileName=K,t.getWellFormedFileName=H;var we=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i)||this;return a.editorService=n,a.instantiationService=r,a.textModelService=o,a.fileService=s,a.enabled=!0,a}return i(t,e),t.prototype.run=function(){var e=this,i=y.toResource(this.editorService.activeEditor,{supportSideBySide:!0});if(i&&(this.fileService.canHandleResource(i)||i.scheme===L.Schemas.untitled)){if(!this.registrationDisposal){var r=this.instantiationService.createInstance(Ce);this.registrationDisposal=this.textModelService.registerTextModelContentProvider(t.SCHEME,r)}var o=u.basename(i),s=n.localize("clipboardComparisonLabel","Clipboard ↔ {0}",o),a=function(){e.registrationDisposal=g.dispose(e.registrationDisposal)}
;return c.always(this.editorService.openEditor({leftResource:i.with({scheme:t.SCHEME}),rightResource:i,label:s}),a)}return Promise.resolve(!0)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.registrationDisposal=g.dispose(this.registrationDisposal)},t.ID="workbench.files.action.compareWithClipboard",t.LABEL=n.localize("compareWithClipboard","Compare Active File with Clipboard"),t.SCHEME="clipboardCompare",t=r([o(2,B.IEditorService),o(3,I.IInstantiationService),o(4,A.ITextModelService),o(5,m.IFileService)],t)}(h.Action);t.CompareWithClipboardAction=we;var Ce=function(){function e(e,t,i){this.clipboardService=e,this.modeService=t,this.modelService=i}return e.prototype.provideTextContent=function(e){var t=this.modelService.createModel(this.clipboardService.readText(),this.modeService.getOrCreateMode("text/plain"),e);return Promise.resolve(t)},e=r([o(0,T.IClipboardService),o(1,R.IModeService),o(2,O.IModelService)],e)}();M.CommandsRegistry.registerCommand({id:t.NEW_FILE_COMMAND_ID,
handler:function(e){return j(e,Z)}}),M.CommandsRegistry.registerCommand({id:t.NEW_FOLDER_COMMAND_ID,handler:function(e){return j(e,ee)}}),t.renameHandler=function(e){var t=e.get(I.IInstantiationService),i=e.get(k.IListService),n=U(i.lastFocusedList,e.get(C.IViewletService));return t.createInstance(Y,i.lastFocusedList,n.stat).run(n)},t.moveFileToTrashHandler=function(e){var t=e.get(I.IInstantiationService),i=e.get(k.IListService),n=U(i.lastFocusedList,e.get(C.IViewletService)),r=n.selection.length>1?n.selection:[n.stat];return t.createInstance(oe,i.lastFocusedList,r,!0).run()},t.deleteFileHandler=function(e){var t=e.get(I.IInstantiationService),i=e.get(k.IListService),n=U(i.lastFocusedList,e.get(C.IViewletService)),r=n.selection.length>1?n.selection:[n.stat];return t.createInstance(oe,i.lastFocusedList,r,!1).run()},t.copyFileHandler=function(e){var t=e.get(I.IInstantiationService),i=e.get(k.IListService),n=U(i.lastFocusedList,e.get(C.IViewletService)),r=n.selection.length>1?n.selection:[n.stat]
;return t.createInstance(ae,i.lastFocusedList,r).run()},t.pasteFileHandler=function(e){var t=e.get(I.IInstantiationService),i=e.get(k.IListService),n=e.get(T.IClipboardService),r=U(i.lastFocusedList,e.get(C.IViewletService));return Promise.all(u.distinctParents(n.readResources(),function(e){return e}).map(function(e){return t.createInstance(ce,i.lastFocusedList,r.stat).run(e)}))}}),define(e[432],t([1,0,2,100,25,14,13,29,3,4,127,64,39,113,102,10,56,141,37,171,76,28,143,36,23,47,5,12]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R){"use strict";function O(){for(;P.length>0;)P.pop().close()}Object.defineProperty(t,"__esModule",{value:!0}),t.CONFLICT_RESOLUTION_CONTEXT="saveConflictResolutionContext",t.CONFLICT_RESOLUTION_SCHEME="conflictResolution";var M=n.localize("userGuide","Use the actions in the editor tool bar to either undo your changes or overwrite the content on disk with your changes."),k=function(e){function c(i,n,r,o,s,a,c){var l=e.call(this)||this;l.notificationService=i,
l.textFileService=n,l.editorService=o,l.instantiationService=a,l.storageService=c,l.messages=new f.ResourceMap,l.conflictResolutionContext=new y.RawContextKey(t.CONFLICT_RESOLUTION_CONTEXT,!1).bindTo(r);var u=l._register(a.createInstance(S.FileOnDiskContentProvider));return l._register(s.registerTextModelContentProvider(t.CONFLICT_RESOLUTION_SCHEME,u)),h.TextFileEditorModel.setSaveErrorHandler(l),l.registerListeners(),l}return i(c,e),c.prototype.registerListeners=function(){var e=this;this._register(this.textFileService.models.onModelSaved(function(t){return e.onFileSavedOrReverted(t.resource)})),this._register(this.textFileService.models.onModelReverted(function(t){return e.onFileSavedOrReverted(t.resource)})),this._register(this.editorService.onDidActiveEditorChange(function(){return e.onActiveEditorChanged()}))},c.prototype.onActiveEditorChanged=function(){var e,i=!1,n=this.editorService.activeEditor
;if(n instanceof v.DiffEditorInput&&n.originalInput instanceof m.ResourceEditorInput&&n.modifiedInput instanceof b.FileEditorInput){var r=n.originalInput.getResource();r&&r.scheme===t.CONFLICT_RESOLUTION_SCHEME&&(i=!0,e=n.modifiedInput.getResource())}this.conflictResolutionContext.set(i),this.activeConflictResolutionResource=e},c.prototype.onFileSavedOrReverted=function(e){var t=this.messages.get(e);t&&(t.close(),this.messages.delete(e))},c.prototype.onSaveError=function(e,t){var i,r=e,o=t.getResource(),c={primary:[],secondary:[]};if(4===r.fileOperationResult)if(this.activeConflictResolutionResource&&this.activeConflictResolutionResource.toString()===t.getResource().toString()){if(this.storageService.getBoolean("learnMoreDirtyWriteError"))return;i=M,c.primary.push(this.instantiationService.createInstance(L)),c.secondary.push(this.instantiationService.createInstance(F))
}else i=n.localize("staleSaveError","Failed to save '{0}': The content on disk is newer. Please compare your version with the one on disk.",a.basename(o.fsPath)),c.primary.push(this.instantiationService.createInstance(N,t));else{var l=6===r.fileOperationResult,u=l&&r.options&&r.options.overwriteReadonly,d=7===r.fileOperationResult;d||u?c.primary.push(this.instantiationService.createInstance(B,t,u)):l?c.primary.push(this.instantiationService.createInstance(V,t)):c.primary.push(this.instantiationService.createInstance(A.ExecuteCommandAction,w.SAVE_FILE_COMMAND_ID,n.localize("retry","Retry"))),c.primary.push(this.instantiationService.createInstance(A.ExecuteCommandAction,w.SAVE_FILE_AS_COMMAND_ID,w.SAVE_FILE_AS_LABEL)),c.primary.push(this.instantiationService.createInstance(A.ExecuteCommandAction,w.REVERT_FILE_COMMAND_ID,n.localize("discard","Discard"))),
i=l?u?n.localize("readonlySaveErrorAdmin","Failed to save '{0}': File is write protected. Select 'Overwrite as Admin' to retry as administrator.",a.basename(o.fsPath)):n.localize("readonlySaveError","Failed to save '{0}': File is write protected. Select 'Overwrite' to attempt to remove protection.",a.basename(o.fsPath)):d?n.localize("permissionDeniedSaveError","Failed to save '{0}': Insufficient permissions. Select 'Retry as Admin' to retry as administrator.",a.basename(o.fsPath)):n.localize("genericSaveError","Failed to save '{0}': {1}",a.basename(o.fsPath),s.toErrorMessage(e,!1))}var h=this.notificationService.notify({severity:I.Severity.Error,message:i,actions:c});T.once(h.onDidClose)(function(){return p.dispose.apply(void 0,c.primary.concat(c.secondary))}),this.messages.set(t.getResource(),h)},c.prototype.dispose=function(){e.prototype.dispose.call(this),this.messages.clear()},
c=r([o(0,I.INotificationService),o(1,u.ITextFileService),o(2,y.IContextKeyService),o(3,R.IEditorService),o(4,g.ITextModelService),o(5,d.IInstantiationService),o(6,D.IStorageService)],c)}(p.Disposable);t.SaveErrorHandler=k;var P=[],L=function(e){function t(t){var i=e.call(this,"workbench.files.action.resolveConflictLearnMore",n.localize("learnMore","Learn More"))||this;return i.openerService=t,i}return i(t,e),t.prototype.run=function(){return this.openerService.open(l.URI.parse("https://go.microsoft.com/fwlink/?linkid=868264"))},t=r([o(0,_.IOpenerService)],t)}(c.Action),F=function(e){function t(t){var i=e.call(this,"workbench.files.action.resolveConflictLearnMoreDoNotShowAgain",n.localize("dontShowAgain","Don't Show Again"))||this;return i.storageService=t,i}return i(t,e),t.prototype.run=function(e){return this.storageService.store("learnMoreDirtyWriteError",!0),e.dispose(),Promise.resolve(void 0)},t=r([o(0,D.IStorageService)],t)}(c.Action),N=function(e){function s(t,i,r,o,s,a){
var c=e.call(this,"workbench.files.action.resolveConflict",n.localize("compareChanges","Compare"))||this;return c.model=t,c.editorService=i,c.notificationService=r,c.instantiationService=o,c.storageService=s,c.environmentService=a,c}return i(s,e),s.prototype.run=function(){var e=this;if(!this.model.isDisposed()){var i=this.model.getResource(),r=a.basename(i.fsPath),o=n.localize("saveConflictDiffLabel","{0} (on disk) ↔ {1} (in {2}) - Resolve save conflict",r,r,this.environmentService.appNameLong);return this.editorService.openEditor({leftResource:l.URI.from({scheme:t.CONFLICT_RESOLUTION_SCHEME,path:i.fsPath}),rightResource:i,label:o,options:{pinned:!0}}).then(function(){if(!e.storageService.getBoolean("learnMoreDirtyWriteError")){var t={primary:[],secondary:[]};t.primary.push(e.instantiationService.createInstance(L)),t.secondary.push(e.instantiationService.createInstance(F));var i=e.notificationService.notify({severity:I.Severity.Info,message:M,actions:t});T.once(i.onDidClose)(function(){
return p.dispose.apply(void 0,t.primary.concat(t.secondary))}),P.push(i)}})}return Promise.resolve(!0)},s=r([o(1,R.IEditorService),o(2,I.INotificationService),o(3,d.IInstantiationService),o(4,D.IStorageService),o(5,x.IEnvironmentService)],s)}(c.Action),B=function(e){function t(t,i){var r=e.call(this,"workbench.files.action.saveElevated",i?n.localize("overwriteElevated","Overwrite as Admin..."):n.localize("saveElevated","Retry as Admin..."))||this;return r.model=t,r.triedToMakeWriteable=i,r}return i(t,e),t.prototype.run=function(){return this.model.isDisposed()||this.model.save({writeElevated:!0,overwriteReadonly:this.triedToMakeWriteable}),Promise.resolve(!0)},t}(c.Action),V=function(e){function t(t){var i=e.call(this,"workbench.files.action.overwrite",n.localize("overwrite","Overwrite"))||this;return i.model=t,i}return i(t,e),t.prototype.run=function(){return this.model.isDisposed()||this.model.save({overwriteReadonly:!0}),Promise.resolve(!0)},t}(c.Action);t.acceptLocalChangesCommand=function(e,t){
var i=e.get(R.IEditorService),n=e.get(g.ITextModelService),r=e.get(E.IModelService),o=i.activeControl,s=o.input,a=o.group;n.createModelReference(t).then(function(e){var t=e.object,n=t.createSnapshot();return O(),t.revert().then(function(){return r.updateModel(t.textEditorModel,C.createTextBufferFactoryFromSnapshot(n)),t.save().then(function(){return i.openEditor({resource:t.getResource()},a).then(function(){a.closeEditor(s),s.dispose(),e.dispose()})})})})},t.revertLocalChangesCommand=function(e,t){var i=e.get(R.IEditorService),n=e.get(g.ITextModelService),r=i.activeControl,o=r.input,s=r.group;n.createModelReference(t).then(function(e){var t=e.object;return O(),t.revert().then(function(){return i.openEditor({resource:t.getResource()},s).then(function(){s.closeEditor(o),o.dispose(),e.dispose()})})})}}),define(e[433],t([1,0,2,24,20,7,125,3,237,41,11,32,33,21,9,169,74,26,53]),function(e,t,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var C=function(e){
function t(t,i,r,o,a,c,l){var u=e.call(this,n({},t,{ariaHeaderLabel:s.localize("explorerSection","Files Explorer Section")}),o,a,l)||this;return u.themeService=i,u.instantiationService=r,u.contextService=c,u.contextService.onDidChangeWorkbenchState(function(){return u.setLabels()}),u}return i(t,e),t.prototype.renderHeader=function(e){var t=document.createElement("div");l.addClass(t,"title"),e.appendChild(t),this.titleElement=document.createElement("span"),this.titleElement.textContent=name,t.appendChild(this.titleElement)},t.prototype.renderBody=function(e){var t=this;l.addClass(e,"explorer-empty-view");var i=document.createElement("div");l.addClass(i,"section"),e.appendChild(i),this.messageElement=document.createElement("p"),i.appendChild(this.messageElement),this.button=new u.Button(i),h.attachButtonStyler(this.button,this.themeService),this.disposables.push(this.button.onDidClick(function(){
var e=3===t.contextService.getWorkbenchState()?p.AddRootFolderAction:c.isMacintosh?p.OpenFileFolderAction:p.OpenFolderAction,i=t.instantiationService.createInstance(e,e.ID,e.LABEL);t.actionRunner.run(i).then(function(){i.dispose()},function(e){i.dispose(),a.onUnexpectedError(e)})})),this.disposables.push(new b.DragAndDropObserver(e,{onDrop:function(i){e.style.backgroundColor=t.themeService.getTheme().getColor(w.SIDE_BAR_BACKGROUND).toString();t.instantiationService.createInstance(b.ResourcesDropHandler,{allowWorkspaceOpen:!0}).handleDrop(i,function(){},function(e){})},onDragEnter:function(i){e.style.backgroundColor=t.themeService.getTheme().getColor(E.listDropBackground).toString()},onDragEnd:function(){e.style.backgroundColor=t.themeService.getTheme().getColor(w.SIDE_BAR_BACKGROUND).toString()},onDragLeave:function(){e.style.backgroundColor=t.themeService.getTheme().getColor(w.SIDE_BAR_BACKGROUND).toString()},onDragOver:function(e){e.dataTransfer.dropEffect="copy"}})),this.setLabels()},
t.prototype.setLabels=function(){3===this.contextService.getWorkbenchState()?(this.messageElement.textContent=s.localize("noWorkspaceHelp","You have not yet added a folder to the workspace."),this.button&&(this.button.label=s.localize("addFolder","Add Folder")),this.titleElement.textContent=t.NAME):(this.messageElement.textContent=s.localize("noFolderHelp","You have not yet opened a folder."),this.button&&(this.button.label=s.localize("openFolder","Open Folder")),this.titleElement.textContent=this.title)},t.prototype.layoutBody=function(e){},t.prototype.setVisible=function(e){return Promise.resolve(null)},t.prototype.focusBody=function(){this.button&&this.button.element.focus()},t.prototype.reveal=function(e,t){return Promise.resolve(null)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.shutdown=function(){},t.ID="workbench.explorer.emptyView",t.NAME=s.localize("noWorkspace","No Folder Opened"),
t=r([o(1,g.IThemeService),o(2,d.IInstantiationService),o(3,f.IKeybindingService),o(4,v.IContextMenuService),o(5,m.IWorkspaceContextService),o(6,y.IConfigurationService)],t)}(S.ViewletPanel);t.EmptyView=C}),define(e[240],t([1,0,2,40,7,92,13,489,25,35,24,14,168,133,20,139,59,4,29,16,154,490,491,111,42,21,9,10,33,3,90,31,23,41,11,45,137,74,52,81,149,27,22,95,28,12,116]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V,W,G,K,z,H,U,j,q,Q,Y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var X=function(){function e(e,t,i,n){this.progressService=e,this.notificationService=t,this.fileService=i,this.partService=n}return e.prototype.getId=function(e,t){return t instanceof D.Model?"model":t.root.resource.toString()+":"+t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof D.Model||t instanceof D.ExplorerItem&&(t.isDirectory||t.isRoot)},e.prototype.getChildren=function(e,t){var i=this;if(t instanceof D.Model)return Promise.resolve(t.roots)
;if(t.isDirectoryResolved)return Promise.resolve(t.getChildrenArray());var n=this.fileService.resolveFile(t.resource,{resolveSingleChildDescendants:!0}).then(function(e){var i=D.ExplorerItem.create(e,t.root).getChildrenArray();return i&&i.forEach(function(e){t.addChild(e)}),t.isDirectoryResolved=!0,t.getChildrenArray()},function(e){return t instanceof D.ExplorerItem&&t.isRoot||i.notificationService.error(e),[]});return this.progressService.showWhile(n,this.partService.isCreated()?800:3200),n},e.prototype.getParent=function(e,t){return t?e.getInput()===t?Promise.resolve(null):t instanceof D.ExplorerItem&&t.parent?Promise.resolve(t.parent):Promise.resolve(null):Promise.resolve(null)},e=r([o(0,k.IProgressService),o(1,q.INotificationService),o(2,w.IFileService),o(3,A.IPartService)],e)}();t.FileDataSource=X;var $=function(){function e(){this.editableStats=new Map}return e.prototype.getEditableData=function(e){return this.editableStats.get(e)},e.prototype.setEditable=function(e,t){t&&this.editableStats.set(e,t)},
e.prototype.clearEditable=function(e){this.editableStats.delete(e)},e}();t.FileViewletState=$;var J=function(e){function t(t){var i=e.call(this)||this;return i.viewletState=t,i}return i(t,e),t.prototype.run=function(t,i){return e.prototype.run.call(this,t,{viewletState:this.viewletState})},t}(g.ActionRunner);t.ActionRunner=J;var Z=function(){function e(e,t,i,n,r,o){var s=this;this.contextViewService=t,this.instantiationService=i,this.themeService=n,this.configurationService=r,this.contextService=o,this.state=e,this.config=this.configurationService.getValue(),this.configListener=this.configurationService.onDidChangeConfiguration(function(e){e.affectsConfiguration("explorer")&&(s.config=s.configurationService.getValue())})}return e.prototype.dispose=function(){this.configListener.dispose()},e.prototype.getHeight=function(t,i){return e.ITEM_HEIGHT},e.prototype.getTemplateId=function(t,i){return e.FILE_TEMPLATE_ID},e.prototype.disposeTemplate=function(e,t,i){i.elementDisposable.dispose(),i.label.dispose()},
e.prototype.renderTemplate=function(e,t,i){return{elementDisposable:b.Disposable.None,label:this.instantiationService.createInstance(S.FileLabel,i,void 0),container:i}},e.prototype.renderElement=function(e,t,i,n){n.elementDisposable.dispose();var r=this.state.getEditableData(t);if(r)n.label.element.style.display="none",this.renderInputBox(n.container,e,t,r),n.elementDisposable=b.Disposable.None;else{n.label.element.style.display="flex";var o=["explorer-item"];n.label.setFile(t.resource,{hidePath:!0,fileKind:t.isRoot?w.FileKind.ROOT_FOLDER:t.isDirectory?w.FileKind.FOLDER:w.FileKind.FILE,extraClasses:o,fileDecorations:this.config.explorer.decorations}),n.elementDisposable=n.label.onDidRender(function(){e.updateWidth(t)})}},e.prototype.renderInputBox=function(e,t,i,r){var o=this,s=this.instantiationService.createInstance(S.FileLabel,e,void 0),l={hidePath:!0,hideLabel:!0,
fileKind:i.isRoot?w.FileKind.ROOT_FOLDER:i.isDirectory||i instanceof D.NewStatPlaceholder&&i.isDirectoryPlaceholder()?w.FileKind.FOLDER:w.FileKind.FILE,extraClasses:["explorer-item","explorer-item-edited"]},h=i.name?p.dirname(i.resource):i.resource,g=i.name||"";s.setFile(p.joinPath(h,g||" "),l);var f=new v.InputBox(s.element,this.contextViewService,{validationOptions:{validation:r.validator},ariaLabel:n.localize("fileInputAriaLabel","Type file name. Press Enter to confirm or Escape to cancel.")}),m=F.attachInputBoxStyler(f,this.themeService);f.onDidChange(function(e){s.setFile(p.joinPath(h,e||" "),l)});var y=g.lastIndexOf(".");f.value=g,f.select({start:0,end:y>0&&!i.isDirectory?y:g.length}),f.focus();var E=u.once(function(i,n){t.clearHighlight(),s.element.style.display="none",i&&f.value&&r.action.run({value:f.value}),setTimeout(function(){n||t.domFocus(),b.dispose(C),e.removeChild(s.element)},0)}),C=[f,a.addStandardDisposableListener(f.inputElement,a.EventType.KEY_DOWN,function(e){
e.equals(3)?f.validate()&&E(!0,!1):e.equals(9)&&E(!1,!1)}),a.addStandardDisposableListener(f.inputElement,a.EventType.KEY_UP,function(e){var t=c.relative(i.root.resource.path,i.parent.resource.path),n="";3===o.contextService.getWorkbenchState()&&(n=d.basename(i.root.resource.path)),o.showInputMessage(f,t,n,r.action.id)}),a.addDisposableListener(f.inputElement,a.EventType.BLUR,function(){E(f.isInputValid(),!0)}),s,m]},e.prototype.showInputMessage=function(e,t,i,r){if(void 0===i&&(i=""),e.validate()){var o=e.value;if(o&&/.[\\/]./.test(o)){var s=c.normalize(c.join(i,t,o)),a=(s=U.rtrim(s,d.nativeSep)).lastIndexOf(d.nativeSep),l=s.substring(a+1),u=s.substring(0,a),p=void 0;switch(r){case"workbench.files.action.createFileFromExplorer":p=n.localize("createFileFromExplorerInfoMessage","Create file **{0}** in **{1}**",l,u);break;case"workbench.files.action.renameFile":p=n.localize("renameFileFromExplorerInfoMessage","Move and rename to **{0}**",s);break;case"workbench.files.action.createFolderFromExplorer":default:
p=n.localize("createFolderFromExplorerInfoMessage","Create folder **{0}** in **{1}**",l,u)}e.showMessage({type:1,content:p,formatContent:!0})}else o&&/^\s|\s$/.test(o)?e.showMessage({content:n.localize("whitespace","Leading or trailing whitespace detected"),formatContent:!0,type:2}):e.hideMessage()}},e.ITEM_HEIGHT=22,e.FILE_TEMPLATE_ID="file",e=r([o(1,O.IContextViewService),o(2,M.IInstantiationService),o(3,N.IThemeService),o(4,T.IConfigurationService),o(5,x.IWorkspaceContextService)],e)}();t.FileRenderer=Z;var ee=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t.name},e}();t.FileAccessibilityProvider=ee;var te=function(e){function t(t,i,n,r,o,s,a){var c=e.call(this,{clickBehavior:1},a)||this;return c.editorService=t,c.contextMenuService=i,c.telemetryService=n,c.menuService=r,c.clipboardService=s,c.fileCopiedContextKey=C.FileCopiedContext.bindTo(o),c.toDispose=[],c}return i(t,e),t.prototype.onLeftClick=function(e,t,i,n){void 0===n&&(n="mouse");var r={origin:n
},o="mouse"===n&&2===i.detail;if(e.getHighlight())return i.preventDefault(),i.stopPropagation(),e.clearHighlight(r),!1;if(t instanceof D.Model)return e.clearFocus(r),e.clearSelection(r),!1;if(i&&i.browserEvent&&"mousedown"===i.browserEvent.type||i.preventDefault(),i.stopPropagation(),e.domFocus(),t instanceof D.NewStatPlaceholder)return!0;if(e.useAltAsMultipleSelectionModifier&&i.altKey||!e.useAltAsMultipleSelectionModifier&&(i.ctrlKey||i.metaKey)){var s=e.getSelection();this.previousSelectionRangeStop=void 0,s.indexOf(t)>=0?e.setSelection(s.filter(function(e){return e!==t})):(e.setSelection(s.concat(t)),e.setFocus(t,r))}else if(i.shiftKey){var a=e.getFocus();a&&(this.previousSelectionRangeStop&&e.deselectRange(t,this.previousSelectionRangeStop),e.selectRange(a,t,r),this.previousSelectionRangeStop=t)}else{(o||this.openOnSingleClick||this.isClickOnTwistie(i))&&(e.toggleExpansion(t,i.altKey),this.previousSelectionRangeStop=void 0);var c=!o;if(e.setFocus(t,r),o&&i.preventDefault(),e.setSelection([t],r),
!t.isDirectory&&(o||this.openOnSingleClick)){var l=!1;i&&(l=e.useAltAsMultipleSelectionModifier?i.ctrlKey||i.metaKey:i.altKey),this.openEditor(t,{preserveFocus:c,sideBySide:l,pinned:o})}}return!0},t.prototype.onMouseMiddleClick=function(e,t,i){var n=!1;return i&&(n=e.useAltAsMultipleSelectionModifier?i.ctrlKey||i.metaKey:i.altKey),t instanceof D.ExplorerItem&&!t.isDirectory&&this.openEditor(t,{preserveFocus:!0,sideBySide:n,pinned:!0}),!0},t.prototype.onContextMenu=function(e,t,i){var n=this;if(i.target&&i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!1;i.preventDefault(),i.stopPropagation(),e.setFocus(t),this.fileCopiedContextKey.set(this.clipboardService.hasResources()),this.contributedContextMenu||(this.contributedContextMenu=this.menuService.createMenu(L.MenuId.ExplorerContext,e.contextKeyService),this.toDispose.push(this.contributedContextMenu));var r={x:i.posx,y:i.posy},o=e.getSelection();return this.contextMenuService.showContextMenu({getAnchor:function(){return r},
getActions:function(){var e=[];return Y.fillInContextMenuActions(n.contributedContextMenu,{arg:t instanceof D.ExplorerItem?t.resource:{},shouldForwardArgs:!0},e,n.contextMenuService),Promise.resolve(e)},onHide:function(t){t&&e.domFocus()},getActionsContext:function(){return o&&o.indexOf(t)>=0?o.map(function(e){return e.resource}):t instanceof D.ExplorerItem?[t.resource]:[]}}),!0},t.prototype.openEditor=function(e,t){e&&!e.isDirectory&&(this.telemetryService.publicLog("workbenchActionExecuted",{id:"workbench.files.openFile",from:"explorer"}),this.editorService.openEditor({resource:e.resource,options:t},t.sideBySide?Q.SIDE_GROUP:Q.ACTIVE_GROUP))},t.prototype.dispose=function(){this.toDispose=b.dispose(this.toDispose)},t=r([o(0,Q.IEditorService),o(1,O.IContextMenuService),o(2,P.ITelemetryService),o(3,L.IMenuService),o(4,R.IContextKeyService),o(5,K.IClipboardService),o(6,T.IConfigurationService)],t)}(G.WorkbenchTreeController);t.FileController=te;var ie=function(){function e(e,t){this.configurationService=e,
this.contextService=t,this.toDispose=[],this.updateSortOrder(),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidChangeConfiguration(function(t){return e.updateSortOrder()}))},e.prototype.updateSortOrder=function(){this.sortOrder=this.configurationService.getValue("explorer.sortOrder")||"default"},e.prototype.compare=function(e,t,i){if(t.isRoot)return i.isRoot?this.contextService.getWorkspaceFolder(t.resource).index-this.contextService.getWorkspaceFolder(i.resource).index:-1;if(i.isRoot)return 1;switch(this.sortOrder){case"type":if(t.isDirectory&&!i.isDirectory)return-1;if(i.isDirectory&&!t.isDirectory)return 1;if(t.isDirectory&&i.isDirectory)return f.compareFileNames(t.name,i.name);break;case"filesFirst":if(t.isDirectory&&!i.isDirectory)return 1;if(i.isDirectory&&!t.isDirectory)return-1;break;case"mixed":break;default:if(t.isDirectory&&!i.isDirectory)return-1;if(i.isDirectory&&!t.isDirectory)return 1}
if(t instanceof D.NewStatPlaceholder)return-1;if(i instanceof D.NewStatPlaceholder)return 1;switch(this.sortOrder){case"type":return f.compareFileExtensions(t.name,i.name);case"modified":return t.mtime!==i.mtime?t.mtime<i.mtime?1:-1:f.compareFileNames(t.name,i.name);default:return f.compareFileNames(t.name,i.name)}},e.prototype.dispose=function(){this.toDispose=b.dispose(this.toDispose)},e=r([o(0,T.IConfigurationService),o(1,x.IWorkspaceContextService)],e)}();t.FileSorter=ie;var ne=function(){function e(e,t){this.contextService=e,this.configurationService=t,this.hiddenExpressionPerRoot=new Map,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.workspaceFolderChangeListener=this.contextService.onDidChangeWorkspaceFolders(function(){return e.updateConfiguration()})},e.prototype.updateConfiguration=function(){var e=this,t=!1;return this.contextService.getWorkspace().folders.forEach(function(i){var n=e.configurationService.getValue({resource:i.uri
}),r=n&&n.files&&n.files.exclude||Object.create(null);if(!t){var o=e.hiddenExpressionPerRoot.get(i.uri.toString());t=!o||!s.equals(o.original,r)}var a=s.deepClone(r);e.hiddenExpressionPerRoot.set(i.uri.toString(),{original:a,parsed:y.parse(a)})}),t},e.prototype.isVisible=function(e,t){return this.doIsVisible(t)},e.prototype.doIsVisible=function(e){if(e instanceof D.NewStatPlaceholder||e.isRoot)return!0;var t=this.hiddenExpressionPerRoot.get(e.root.resource.toString());return!t||!t.parsed(d.normalize(c.relative(e.root.resource.path,e.resource.path),!0),e.name,function(t){return!!e.parent.getChild(t)})},e.prototype.dispose=function(){this.workspaceFolderChangeListener=b.dispose(this.workspaceFolderChangeListener)},e=r([o(0,x.IWorkspaceContextService),o(1,T.IConfigurationService)],e)}();t.FileFilter=ne;var re=function(e){function t(t,i,n,r,o,s,a,c,l){var u=e.call(this,function(e){return u.statToResource(e)},s)||this;return u.notificationService=t,u.dialogService=i,u.contextService=n,u.fileService=r,
u.configurationService=o,u.textFileService=a,u.windowService=c,u.workspaceEditingService=l,u.toDispose=[],u.updateDropEnablement(),u.registerListeners(),u}return i(t,e),t.prototype.statToResource=function(e){return e.isDirectory?l.URI.from({scheme:"folder",path:e.resource.path}):e.resource},t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidChangeConfiguration(function(t){return e.updateDropEnablement()}))},t.prototype.updateDropEnablement=function(){this.dropEnabled=this.configurationService.getValue("explorer.enableDragAndDrop")},t.prototype.onDragStart=function(e,t,i){var n=t.getData();if(n&&n.length){n.forEach(function(t){t.isDirectory&&e.isExpanded(t)&&e.collapse(t,!1)}),this.instantiationService.invokeFunction(W.fillResourceDataTransfers,n,i);var r=n.filter(function(e){return!e.isDirectory&&e.resource.scheme===H.Schemas.file}).map(function(e){return e.resource.fsPath});r.length&&i.dataTransfer.setData(W.CodeDataTransfers.FILES,JSON.stringify(r))}},
t.prototype.onDragOver=function(e,t,i,n){if(!this.dropEnabled)return I.DRAG_OVER_REJECT;var r=n&&(n.ctrlKey&&!m.isMacintosh||n.altKey&&m.isMacintosh),o=t instanceof _.DesktopDragAndDropData;if(o){for(var s=n.dataTransfer.types,a=[],c=0;c<s.length;c++)a.push(s[c].toLowerCase());if(-1===a.indexOf(z.DataTransfers.FILES.toLowerCase())&&-1===a.indexOf(W.CodeDataTransfers.FILES.toLowerCase()))return I.DRAG_OVER_REJECT}else{if(t instanceof _.ExternalElementsDragAndDropData)return I.DRAG_OVER_REJECT;var l=t.getData();if(i instanceof D.Model)return l[0].isRoot?I.DRAG_OVER_ACCEPT_BUBBLE_DOWN(!1):I.DRAG_OVER_REJECT;if(!Array.isArray(l))return I.DRAG_OVER_REJECT;if(l.some(function(e){return e instanceof D.NewStatPlaceholder||(!(!(e.isRoot&&i instanceof D.ExplorerItem)||i.isRoot)||(e.resource.toString()===i.resource.toString()||!(e.isRoot&&i instanceof D.ExplorerItem&&i.isRoot)&&(!r&&p.dirname(e.resource).toString()===i.resource.toString()||!!p.isEqualOrParent(i.resource,e.resource,!m.isLinux))))
}))return I.DRAG_OVER_REJECT}return i instanceof D.Model?3===this.contextService.getWorkbenchState()?I.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY(!1):I.DRAG_OVER_REJECT:i.isDirectory?i.isReadonly?I.DRAG_OVER_REJECT:o||r?I.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY(!0):I.DRAG_OVER_ACCEPT_BUBBLE_DOWN(!0):this.contextService.getWorkspace().folders.every(function(e){return e.uri.toString()!==i.resource.toString()})?o||r?I.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY:I.DRAG_OVER_ACCEPT_BUBBLE_UP:I.DRAG_OVER_REJECT},t.prototype.drop=function(e,t,i,n){t instanceof _.DesktopDragAndDropData?this.handleExternalDrop(e,t,i,n):this.handleExplorerDrop(e,t,i,n)},t.prototype.handleExternalDrop=function(e,t,i,r){var o=this,s=W.extractResources(r.browserEvent,!0);return this.fileService.resolveFiles(s).then(function(t){o.windowService.focusWindow();var r=t.filter(function(e){return e.success&&e.stat.isDirectory}).map(function(e){return{uri:e.stat.resource}});if(r.length>0){var a=Promise.resolve({confirmed:!0})
;return 3!==o.contextService.getWorkbenchState()&&(a=o.dialogService.confirm({message:r.length>1?n.localize("dropFolders","Do you want to add the folders to the workspace?"):n.localize("dropFolder","Do you want to add the folder to the workspace?"),type:"question",primaryButton:r.length>1?n.localize("addFolders","&&Add Folders"):n.localize("addFolder","&&Add Folder")})),a.then(function(e){if(e.confirmed)return o.workspaceEditingService.addFolders(r)})}if(i instanceof D.ExplorerItem&&!i.isReadonly){return o.instantiationService.createInstance(C.AddFilesAction,e,i,null).run(s.map(function(e){return e.resource}))}})},t.prototype.handleExplorerDrop=function(e,i,r,o){var s=this,a=p.distinctParents(i.getData(),function(e){return e.resource}),c=o.ctrlKey&&!m.isMacintosh||o.altKey&&m.isMacintosh;return(!c&&this.configurationService.getValue(t.CONFIRM_DND_SETTING_KEY)?this.dialogService.confirm({message:a.length>1&&a.every(function(e){return e.isRoot
})?n.localize("confirmRootsMove","Are you sure you want to change the order of multiple root folders in your workspace?"):a.length>1?j.getConfirmMessage(n.localize("confirmMultiMove","Are you sure you want to move the following {0} files?",a.length),a.map(function(e){return e.resource})):a[0].isRoot?n.localize("confirmRootMove","Are you sure you want to change the order of root folder '{0}' in your workspace?",a[0].name):n.localize("confirmMove","Are you sure you want to move '{0}'?",a[0].name),checkbox:{label:n.localize("doNotAskAgain","Do not ask me again")},type:"question",primaryButton:n.localize({key:"moveButtonLabel",comment:["&& denotes a mnemonic"]},"&&Move")}):Promise.resolve({confirmed:!0})).then(function(i){var n=Promise.resolve(void 0);return i.confirmed&&!0===i.checkboxChecked&&(n=s.configurationService.updateValue(t.CONFIRM_DND_SETTING_KEY,!1,1)),n.then(function(){if(i.confirmed){var t=s.doHandleRootDrop(a.filter(function(e){return e.isRoot}),r);return Promise.all(a.filter(function(e){
return!e.isRoot}).map(function(t){return s.doHandleExplorerDrop(e,t,r,c)}).concat(t)).then(function(){})}return Promise.resolve(void 0)})})},t.prototype.doHandleRootDrop=function(e,t){if(0===e.length)return Promise.resolve(void 0);for(var i,n=this.contextService.getWorkspace().folders,r=[],o=[],s=function(s){var a={uri:n[s].uri};t instanceof D.ExplorerItem&&n[s].uri.toString()===t.resource.toString()&&(i=r.length),e.every(function(e){return e.resource.toString()!==n[s].uri.toString()})?r.push(a):o.push(a)},a=0;a<n.length;a++)s(a);return t instanceof D.Model&&(i=r.length),r.splice.apply(r,[i,0].concat(o)),this.workspaceEditingService.updateFolders(0,r.length,r)},t.prototype.doHandleExplorerDrop=function(e,t,i,r){var o=this;return i instanceof D.ExplorerItem?e.expand(i).then(function(){if(!i.isReadonly){if(r)return o.instantiationService.createInstance(C.DuplicateFileAction,e,t,i).run();var s=p.joinPath(i.resource,t.name);return o.textFileService.move(t.resource,s).then(null,function(e){
if(5===e.fileOperationResult){var i={message:n.localize("confirmOverwriteMessage","'{0}' already exists in the destination folder. Do you want to replace it?",t.name),detail:n.localize("irreversible","This action is irreversible!"),primaryButton:n.localize({key:"replaceButtonLabel",comment:["&& denotes a mnemonic"]},"&&Replace"),type:"warning"};return o.dialogService.confirm(i).then(function(e){if(e.confirmed)return o.textFileService.move(t.resource,s,!0).then(null,function(e){return o.notificationService.error(e)})})}o.notificationService.error(e)})}},h.onUnexpectedError):Promise.resolve(void 0)},t.CONFIRM_DND_SETTING_KEY="explorer.confirmDragAndDrop",t=r([o(0,q.INotificationService),o(1,j.IDialogService),o(2,x.IWorkspaceContextService),o(3,w.IFileService),o(4,T.IConfigurationService),o(5,M.IInstantiationService),o(6,E.ITextFileService),o(7,B.IWindowService),o(8,V.IWorkspaceEditingService)],t)}(W.SimpleFileResourceDragAndDrop);t.FileDragAndDrop=re}),
define(e[435],t([1,0,2,13,17,25,35,140,56,16,154,240,15,113,7,77,230,111,42,429,21,9,32,3,90,33,10,83,177,20,158,149,27,28,12,63]),function(e,t,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var W=function(e){function t(i,r,o,a,l,u,d,g,f,v,m,y,S,b){var E=e.call(this,n({},i,{ariaHeaderLabel:s.localize("explorerSection","Files Explorer Section")}),v,o,y)||this;return E.notificationService=r,E.instantiationService=a,E.contextService=l,E.progressService=u,E.editorService=d,E.fileService=g,E.partService=f,E.labelService=b,E.id=t.ID,E.settings=i.viewletSettings,E.viewletState=i.viewletState,E.autoReveal=!0,E.explorerRefreshDelayer=new c.ThrottledDelayer(t.EXPLORER_FILE_CHANGES_REFRESH_DELAY),E.resourceContext=a.createInstance(O.ResourceContextKey),E.folderContext=p.ExplorerFolderContext.bindTo(m),E.readonlyContext=p.ExplorerResourceReadonlyContext.bindTo(m),E.rootContext=p.ExplorerRootContext.bindTo(m),
E.fileEventsFilter=a.createInstance(M.ResourceGlobMatcher,function(e){return E.getFileEventsExcludes(e)},function(e){return e.affectsConfiguration(h.FILES_EXCLUDE_CONFIG)}),E.decorationProvider=new C.ExplorerDecorationsProvider(E.model,l),S.registerDecorationsProvider(E.decorationProvider),E.disposables.push(E.decorationProvider),E.disposables.push(E.resourceContext),E}return i(t,e),t.prototype.getFileEventsExcludes=function(e){var t=e?{resource:e}:void 0,i=this.configurationService.getValue(t);return i&&i.files&&i.files.exclude||Object.create(null)},t.prototype.renderHeader=function(t){var i=this;e.prototype.renderHeader.call(this,t),this.dragHandler=new L.DelayedDragHandler(t,function(){return i.setExpanded(!0)});var n=t.querySelector(".title"),r=function(){var e=i.contextService.getWorkspace().folders.map(function(e){return e.name}).join();n.textContent=i.name,n.title=e};this.disposables.push(this.contextService.onDidChangeWorkspaceName(r)),
this.disposables.push(this.labelService.onDidRegisterFormatter(r)),r()},Object.defineProperty(t.prototype,"name",{get:function(){return this.labelService.getWorkspaceLabel(this.contextService.getWorkspace())},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.name},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.render=function(){var i=this;e.prototype.render.call(this);var n=this.configurationService.getValue();this.onConfigurationUpdated(n);var r=[];this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES]&&(r=this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES].map(function(e){return a.URI.parse(e)})),this.doRefresh(r).then(function(){i.disposables.push(i.editorService.onDidActiveEditorChange(function(){return i.revealActiveFile()})),i.disposables.push(i.configurationService.onDidChangeConfiguration(function(e){return i.onConfigurationUpdated(i.configurationService.getValue(),e)})),i.revealActiveFile()})},
t.prototype.renderBody=function(e){var t=this;this.treeContainer=y.append(e,y.$(".explorer-folders-view")),this.tree=this.createViewer(this.treeContainer),this.toolbar&&this.toolbar.setActions(this.getActions(),this.getSecondaryActions())(),this.disposables.push(this.contextService.onDidChangeWorkspaceFolders(function(e){return t.refreshFromEvent(e.added)})),this.disposables.push(this.contextService.onDidChangeWorkbenchState(function(e){return t.refreshFromEvent()})),this.disposables.push(this.fileService.onDidChangeFileSystemProviderRegistrations(function(){return t.refreshFromEvent()})),this.disposables.push(this.labelService.onDidRegisterFormatter(function(){t._onDidChangeTitleArea.fire(),t.refreshFromEvent()}))},t.prototype.layoutBody=function(t){this.treeContainer&&(this.treeContainer.style.height=t+"px"),e.prototype.layoutBody.call(this,t)},t.prototype.getActions=function(){var e=[];return e.push(this.instantiationService.createInstance(g.NewFileAction,this.getViewer(),null)),
e.push(this.instantiationService.createInstance(g.NewFolderAction,this.getViewer(),null)),e.push(this.instantiationService.createInstance(g.RefreshViewExplorerAction,this,"explorer-action refresh-explorer")),e.push(this.instantiationService.createInstance(S.CollapseAction,this.getViewer(),!0,"explorer-action collapse-explorer")),e},t.prototype.revealActiveFile=function(){if(this.autoReveal){var e=!0,i=!1,n=this.getActiveFile();if(n&&(this.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=n.toString(),this.isVisible()&&!this.isDisposed&&this.contextService.isInsideWorkspace(n))){this.hasSingleSelection(n)||this.select(n),e=!1}var r=this.editorService.activeEditor;r&&!v.toResource(r,{supportSideBySide:!0,filter:F.Schemas.untitled})||(this.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=void 0,i=!0),e&&this.explorerViewer.clearSelection(),i&&this.explorerViewer.clearFocus()}},t.prototype.onConfigurationUpdated=function(e,t){if(!this.isDisposed){this.autoReveal=e&&e.explorer&&e.explorer.autoReveal;var i=!1
;this.filter&&(i=this.filter.updateConfiguration());var n=e&&e.explorer&&e.explorer.sortOrder||"default";this.sortOrder!==n&&(this.sortOrder=n,i=!0),t&&!i&&(i=t.affectsConfiguration("explorer.decorations.colors")||t.affectsConfiguration("explorer.decorations.badges")),t&&i&&this.doRefresh()}},t.prototype.focus=function(){e.prototype.focus.call(this);var t=!1;if(this.explorerViewer){if(this.autoReveal){var i=this.explorerViewer.getSelection();i.length>0&&this.reveal(i[0],.5)}this.explorerViewer.domFocus(),t=!0}this.getActiveFile()||this.openFocusedElement(t)},t.prototype.setVisible=function(i){var n=this;return e.prototype.setVisible.call(this,i).then(function(){if(i){var e=Promise.resolve(null);if(n.shouldRefresh&&(e=n.doRefresh(),n.shouldRefresh=!1),!n.autoReveal)return e;var r=n.getActiveFile();if(r)return e.then(function(){return n.select(r)});if(!n.partService.isCreated())return Promise.resolve(null);var o=void 0
;return n.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]&&(o=a.URI.parse(n.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE])),o&&n.isCreated&&n.model.findClosest(o)?(n.editorService.openEditor({resource:o,options:{revealIfVisible:!0}}),e):e.then(function(){n.openFocusedElement()})}})},t.prototype.openFocusedElement=function(e){var t=this.explorerViewer.getFocus();t&&!t.isDirectory&&this.editorService.openEditor({resource:t.resource,options:{preserveFocus:e,revealIfVisible:!0}})},t.prototype.getActiveFile=function(){var e=this.editorService.activeEditor;return e instanceof m.DiffEditorInput?null:v.toResource(e,{supportSideBySide:!0})},Object.defineProperty(t.prototype,"isCreated",{get:function(){return!(!this.explorerViewer||!this.explorerViewer.getInput())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e=this.instantiationService.createInstance(E.Model);return this.disposables.push(e),e},enumerable:!0,configurable:!0}),t.prototype.createViewer=function(e){
var t=this,i=this.instantiationService.createInstance(f.FileDataSource),n=this.instantiationService.createInstance(f.FileRenderer,this.viewletState),r=this.instantiationService.createInstance(f.FileController);this.disposables.push(r);var o=this.instantiationService.createInstance(f.FileSorter);this.disposables.push(o),this.filter=this.instantiationService.createInstance(f.FileFilter),this.disposables.push(this.filter);var a=this.instantiationService.createInstance(f.FileDragAndDrop),c=this.instantiationService.createInstance(f.FileAccessibilityProvider);return this.explorerViewer=this.instantiationService.createInstance(b.FileIconThemableWorkbenchTree,e,{dataSource:i,renderer:n,controller:r,sorter:o,filter:this.filter,dnd:a,accessibilityProvider:c},{autoExpandSingleChildren:!0,ariaLabel:s.localize("treeAriaLabel","Files Explorer")}),p.FilesExplorerFocusedContext.bindTo(this.explorerViewer.contextKeyService),p.ExplorerFocusedContext.bindTo(this.explorerViewer.contextKeyService),
this.disposables.push(this.fileService.onAfterOperation(function(e){return t.onFileOperation(e)})),this.disposables.push(this.fileService.onFileChanges(function(e){return t.onFileChanges(e)})),this.disposables.push(this.explorerViewer.onDidChangeFocus(function(e){var i=2===t.contextService.getWorkbenchState(),n=e.focus?e.focus.resource:i?t.contextService.getWorkspace().folders[0].uri:void 0;t.resourceContext.set(n),t.folderContext.set(i&&!e.focus||e.focus&&e.focus.isDirectory),t.readonlyContext.set(e.focus&&e.focus.isReadonly),t.rootContext.set(!e.focus||e.focus&&e.focus.isRoot)})),this.disposables.push(this.explorerViewer.onDidChangeSelection(function(e){if(e&&e.payload&&"keyboard"===e.payload.origin){var i=t.tree.getSelection();Array.isArray(i)&&i[0]instanceof E.ExplorerItem&&(i[0].isDirectory&&t.explorerViewer.toggleExpansion(i[0]),r.openEditor(i[0],{pinned:!1,sideBySide:!1,preserveFocus:!1}))}})),this.explorerViewer},t.prototype.getViewer=function(){return this.tree},
t.prototype.getOptimalWidth=function(){var e=this.explorerViewer.getHTMLElement(),t=[].slice.call(e.querySelectorAll(".explorer-item .label-name"));return y.getLargestChildWidth(e,t)},t.prototype.onFileOperation=function(e){var t=this;if(this.isCreated)if(0===e.operation||3===e.operation){var i=e.target,n=u.dirname(i.resource),r=this.model.findAll(n);r.length&&r.forEach(function(e){(e.isDirectoryResolved?Promise.resolve(null):t.fileService.resolveFile(e.resource)).then(function(n){if(n){var r=E.ExplorerItem.create(n,e.root);E.ExplorerItem.mergeLocalWithDisk(r,e)}var o=E.ExplorerItem.create(i,e.root);e.removeChild(o),e.addChild(o),t.explorerViewer.refresh(e).then(function(){return t.reveal(o,.5).then(function(){t.explorerViewer.setFocus(o)})})})})}else if(2===e.operation){var o=e.resource,s=e.target,a=u.dirname(o),c=u.dirname(s.resource),l=!1,d=this.explorerViewer.getFocus();d&&d.resource&&d.resource.toString()===o.toString()&&(l=!0);var p=!1;if(a&&c&&a.toString()===c.toString()){
(g=this.model.findAll(o)).forEach(function(e){p=t.explorerViewer.isExpanded(e),e.rename(s),t.explorerViewer.refresh(e.parent).then(function(){l&&t.explorerViewer.setFocus(e),p&&t.explorerViewer.expand(e)})})}else if(a&&c){var h=this.model.findAll(c),g=this.model.findAll(o);h.length&&g.length&&g.forEach(function(e,i){var n=e.parent;e.move(h[i],function(e){t.explorerViewer.refresh(n).then(e)},function(){t.explorerViewer.refresh(h[i],!0).then(function(){return t.explorerViewer.expand(h[i])})})})}}else if(1===e.operation){(g=this.model.findAll(e.resource)).forEach(function(e){if(e.parent){var i=e.parent;i.removeChild(e);var n=t.explorerViewer.isDOMFocused();t.explorerViewer.refresh(i).then(function(){n&&t.explorerViewer.domFocus()})}})}},t.prototype.onFileChanges=function(e){var i=this;setTimeout(function(){var n=i.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE];n&&e.contains(a.URI.parse(n),2)&&(i.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=null)}),setTimeout(function(){
!i.shouldRefresh&&i.shouldRefreshFromEvent(e)&&i.refreshFromEvent()},t.EXPLORER_FILE_CHANGES_REACT_DELAY)},t.prototype.shouldRefreshFromEvent=function(e){if(!this.isCreated)return!1;var t=(e=this.filterToViewRelevantEvents(e)).getAdded();if(t.length)for(var i={},n=0;n<t.length;n++){var r=t[n],o=u.dirname(r.resource);if(!i[o.toString()]){var s=this.model.findClosest(o);if(s&&s.isDirectoryResolved&&!this.model.findClosest(r.resource))return!0;s&&s.isDirectoryResolved||(i[o.toString()]=!0)}}var a=e.getDeleted();if(a.length)for(d=0;d<a.length;d++){var c=a[d];if(this.model.findClosest(c.resource))return!0}if(this.sortOrder===p.SortOrderConfiguration.MODIFIED)for(var l=e.getUpdated(),d=0;d<l.length;d++){var h=l[d];if(this.model.findClosest(h.resource))return!0}return!1},t.prototype.filterToViewRelevantEvents=function(e){var t=this;return new h.FileChangesEvent(e.changes.filter(function(e){
return(0!==e.type||t.sortOrder===p.SortOrderConfiguration.MODIFIED)&&(!!t.contextService.isInsideWorkspace(e.resource)&&!t.fileEventsFilter.matches(e.resource))}))},t.prototype.refreshFromEvent=function(e){var t=this;void 0===e&&(e=[]),this.isVisible()&&!this.isDisposed?this.explorerRefreshDelayer.trigger(function(){return t.explorerViewer.getHighlight()?Promise.resolve(null):t.doRefresh(e.map(function(e){return e.uri})).then(function(){if(1===e.length)return t.reveal(t.model.findClosest(e[0].uri),.5)})}):this.shouldRefresh=!0},t.prototype.refresh=function(){var e=this;if(!this.explorerViewer||this.explorerViewer.getHighlight())return Promise.resolve(null);this.explorerViewer.domFocus();var t;if(this.autoReveal&&!(t=this.getActiveFile())){var i=this.explorerViewer.getSelection();i&&1===i.length&&(t=i[0].resource)}return this.doRefresh().then(function(){return t?e.select(t,!0):Promise.resolve(null)})},t.prototype.doRefresh=function(e){var t=this;void 0===e&&(e=[]);var i=this.model.roots.map(function(e){return{
root:e,resource:e.resource,options:{resolveTo:[]}}});if(this.isCreated)i.forEach(function(e){t.getResolvedDirectories(e.root,e.options.resolveTo)});else{var n=this.getActiveFile();if(n){var r=this.contextService.getWorkspaceFolder(n);if(r){i.filter(function(e){return e.root.resource.toString()===r.uri.toString()}).pop().options.resolveTo.push(n)}}e.forEach(function(e){var n=t.contextService.getWorkspaceFolder(e);if(n){i.filter(function(e){return e.resource.toString()===n.uri.toString()}).pop().options.resolveTo.push(e)}})}var o=this.resolveRoots(i,e).then(function(e){return t.decorationProvider.changed(i.map(function(e){return e.root.resource})),e});return this.progressService.showWhile(o,this.partService.isCreated()?800:1200),o},t.prototype.resolveRoots=function(e,t){var i=this,n=2===this.contextService.getWorkbenchState()?this.model.roots[0]:this.model,r=function(e,t){return n===i.model.roots[0]&&(n=i.model),E.ExplorerItem.create({resource:e,name:l.basename(e.fsPath),mtime:0,etag:void 0,isDirectory:!0
},t,void 0,!0)},o=function(e,t){return e===i.model&&t.every(function(e){return e&&!e.isRoot})&&(t=i.model.roots.concat(t)),i.explorerViewer.setInput(e).then(function(){return i.explorerViewer.expandAll(t)})};if(e.every(function(e){return"file"===e.root.resource.scheme}))return this.fileService.resolveFiles(e).then(function(s){s.map(function(t,i){return t.success&&t.stat.isDirectory?E.ExplorerItem.create(t.stat,e[i].root,e[i].options.resolveTo):r(e[i].resource,e[i].root)}).forEach(function(e,t){t<i.model.roots.length&&E.ExplorerItem.mergeLocalWithDisk(e,i.model.roots[t])});var a=i.explorerViewer.getExpandedElements().concat(t.map(function(e){return i.model.findClosest(e)}));return n===i.explorerViewer.getInput()?i.explorerViewer.refresh().then(function(){return i.explorerViewer.expandAll(a)}):o(n,a)});var s,a=[],u=new c.Delayer(100);return Promise.all(e.map(function(e,c){return i.fileService.resolveFile(e.resource,e.options).then(function(t){
return t.isDirectory?E.ExplorerItem.create(t,e.root,e.options.resolveTo):r(e.resource,e.root)},function(){return r(e.resource,e.root)}).then(function(e){c<i.model.roots.length&&E.ExplorerItem.mergeLocalWithDisk(e,i.model.roots[c]);var r=i.explorerViewer.getExpandedElements().concat(t.map(function(e){return i.model.findClosest(e)}));return n===i.explorerViewer.getInput()?(a=a.concat(r),u.isTriggered()||(s=u.trigger(function(){return i.explorerViewer.refresh().then(function(){return i.explorerViewer.expandAll(a)}).then(function(){return a=[]})})),s):o(n,a)})}))},t.prototype.getResolvedDirectories=function(e,t){var i=this;if(e.isDirectoryResolved){if(!e.isRoot){for(var n=t.length-1;n>=0;n--){var r=t[n];u.isEqualOrParent(e.resource,r,!k.isLinux)&&t.splice(n)}t.push(e.resource)}e.getChildrenArray().forEach(function(e){i.getResolvedDirectories(e,t)})}},t.prototype.select=function(e,t){var i=this;if(void 0===t&&(t=this.autoReveal),!e)return Promise.resolve(null);var n=this.hasSingleSelection(e)
;if(n)return t?this.reveal(n,.5):Promise.resolve(null);if(!this.isCreated)return Promise.resolve(null);var r=this.model.findClosest(e);if(r)return this.doSelect(r,t);var o={resolveTo:[e]},s=this.contextService.getWorkspaceFolder(e),a=s?s.uri:this.model.roots[0].resource;return this.fileService.resolveFile(a,o).then(function(n){var r=i.model.roots.filter(function(e){return e.resource.toString()===a.toString()}).pop(),s=E.ExplorerItem.create(n,r,o.resolveTo);return E.ExplorerItem.mergeLocalWithDisk(s,r),i.explorerViewer.refresh(r).then(function(){return i.doSelect(r.find(e),t)})},function(e){i.notificationService.error(e)})},t.prototype.hasSingleSelection=function(e){var t=this.explorerViewer.getSelection();return 1===t.length&&t[0].resource.toString()===e.toString()?t[0]:void 0},t.prototype.doSelect=function(e,t){var i=this;if(!e)return Promise.resolve(null);if(!this.filter.isVisible(this.tree,e)&&!(e=e.parent))return Promise.resolve(null);return(t?this.reveal(e,.5):Promise.resolve(null)).then(function(){
e.isDirectory||i.explorerViewer.setSelection([e]),i.explorerViewer.setFocus(e)})},t.prototype.reveal=function(e,t){return this.tree?this.tree.reveal(e,t):Promise.resolve(null)},t.prototype.shutdown=function(){if(this.isCreated){var i=this.explorerViewer.getExpandedElements().filter(function(e){return e instanceof E.ExplorerItem}).map(function(e){return e.resource.toString()});i.length?this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES]=i:delete this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES]}this.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]||delete this.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE],e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.isDisposed=!0,this.dragHandler&&this.dragHandler.dispose(),e.prototype.dispose.call(this)},t.ID="workbench.explorer.fileView",t.EXPLORER_FILE_CHANGES_REACT_DELAY=500,t.EXPLORER_FILE_CHANGES_REFRESH_DELAY=100,t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE="explorer.memento.lastActiveFileResource",
t.MEMENTO_EXPANDED_FOLDER_RESOURCES="explorer.memento.expandedFolderResources",r([d.memoize],t.prototype,"model",null),t=r([o(1,N.INotificationService),o(2,T.IContextMenuService),o(3,A.IInstantiationService),o(4,I.IWorkspaceContextService),o(5,x.IProgressService),o(6,B.IEditorService),o(7,h.IFileService),o(8,w.IPartService),o(9,D.IKeybindingService),o(10,R.IContextKeyService),o(11,_.IConfigurationService),o(12,P.IDecorationsService),o(13,V.ILabelService)],t)}(b.TreeViewsViewletPanel);t.ExplorerView=W}),define(e[436],t([1,0,2,17,14,7,33,3,34,9,32,154,56,29,111,55,165,300,10,41,11,26,52,59,46,31,12,4,116,23,171,83,74,169]),function(e,t,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N){"use strict";function B(e){var t={openEditor:F.CodeDataTransfers.EDITORS.toLowerCase(),externalFile:"Files",codeFile:F.CodeDataTransfers.FILES.toLowerCase()};return-1!==e.dataTransfer.types.indexOf(t.openEditor)||-1!==e.dataTransfer.types.indexOf(t.externalFile)||-1!==e.dataTransfer.types.indexOf(t.codeFile)}
Object.defineProperty(t,"__esModule",{value:!0});var V=l.$,W=function(e){function t(t,i,r,o,c,l,u,d,p,h,g,f,v){var m=e.call(this,n({},t,{ariaHeaderLabel:s.localize({key:"openEditosrSection",comment:["Open is an adjective"]},"Open Editors Section")}),d,r,u)||this;return m.instantiationService=i,m.textFileService=o,m.editorService=c,m.editorGroupService=l,m.untitledEditorService=p,m.contextKeyService=h,m.themeService=g,m.telemetryService=f,m.menuService=v,m.structuralRefreshDelay=0,m.listRefreshScheduler=new a.RunOnceScheduler(function(){var e=m.list.length;m.list.splice(0,m.list.length,m.elements),m.focusActiveEditor(),e!==m.list.length&&m.updateSize(),m.needsRefresh=!1},m.structuralRefreshDelay),m.registerUpdateEvents(),m.disposables.push(m.configurationService.onDidChangeConfiguration(function(e){return m.onConfigurationChange(e)})),m.disposables.push(m.untitledEditorService.onDidChangeDirty(function(){return m.updateDirtyIndicator()})),m.disposables.push(m.textFileService.models.onModelsDirty(function(){
return m.updateDirtyIndicator()})),m.disposables.push(m.textFileService.models.onModelsSaved(function(){return m.updateDirtyIndicator()})),m.disposables.push(m.textFileService.models.onModelsSaveError(function(){return m.updateDirtyIndicator()})),m.disposables.push(m.textFileService.models.onModelsReverted(function(){return m.updateDirtyIndicator()})),m}return i(t,e),t.prototype.registerUpdateEvents=function(){var e=this,t=function(){e.isVisible()&&e.list&&e.isExpanded()?e.listRefreshScheduler.schedule(e.structuralRefreshDelay):e.needsRefresh=!0},i=new Map,n=function(t){i.set(t.id,t.onDidGroupChange(function(i){if(!e.listRefreshScheduler.isScheduled())if(e.isVisible()&&e.list&&e.isExpanded()){var n=e.getIndex(t,i.editor);switch(i.kind){case 1:e.showGroups&&e.list.splice(n,1,[t]);break;case 0:case 5:e.focusActiveEditor();break;case 8:case 6:case 7:e.list.splice(n,1,[new y.OpenEditor(i.editor,t)]);break;case 2:e.list.splice(n,0,[new y.OpenEditor(i.editor,t)]),setTimeout(function(){return e.updateSize()
},e.structuralRefreshDelay);break;case 3:var r=e.getIndex(t,void 0)+i.editorIndex+(e.showGroups?1:0);e.list.splice(r,1),e.updateSize();break;case 4:e.listRefreshScheduler.schedule()}}else e.needsRefresh=!0})),e.disposables.push(i.get(t.id))};this.editorGroupService.groups.forEach(function(e){return n(e)}),this.disposables.push(this.editorGroupService.onDidAddGroup(function(e){n(e),t()})),this.disposables.push(this.editorGroupService.onDidMoveGroup(function(){return t()})),this.disposables.push(this.editorGroupService.onDidRemoveGroup(function(e){O.dispose(i.get(e.id)),t()}))},t.prototype.renderHeaderTitle=function(t){var i=this;e.prototype.renderHeaderTitle.call(this,t,this.title);var n=l.append(t,V(".count"));this.dirtyCountElement=l.append(n,V(".monaco-count-badge")),this.disposables.push(C.attachStylerCallback(this.themeService,{badgeBackground:_.badgeBackground,badgeForeground:_.badgeForeground,contrastBorder:_.contrastBorder},function(e){
var t=e.badgeBackground?e.badgeBackground.toString():null,n=e.badgeForeground?e.badgeForeground.toString():null,r=e.contrastBorder?e.contrastBorder.toString():null;i.dirtyCountElement.style.backgroundColor=t,i.dirtyCountElement.style.color=n,i.dirtyCountElement.style.borderWidth=r?"1px":null,i.dirtyCountElement.style.borderStyle=r?"solid":null,i.dirtyCountElement.style.borderColor=r})),this.updateDirtyIndicator()},t.prototype.renderBody=function(e){var t=this;l.addClass(e,"explorer-open-editors"),l.addClass(e,"show-file-icons");var i=new K;this.list&&this.list.dispose(),this.list=this.instantiationService.createInstance(D.WorkbenchList,e,i,[new z(this.keybindingService,this.instantiationService,this.editorGroupService),new H(function(){var e=t.list.getSelectedElements(),i=t.list.getFocusedElements();return i.length&&e.indexOf(i[0])>=0?e:i},this.instantiationService,this.keybindingService,this.configurationService,this.editorGroupService)],{identityProvider:function(e){
return e instanceof y.OpenEditor?e.getId():e.id.toString()},selectOnMouseDown:!1}),this.disposables.push(this.list),this.contributedContextMenu=this.menuService.createMenu(k.MenuId.OpenEditorsContext,this.list.contextKeyService),this.disposables.push(this.contributedContextMenu),this.updateSize(),v.OpenEditorsFocusedContext.bindTo(this.list.contextKeyService),v.ExplorerFocusedContext.bindTo(this.list.contextKeyService),this.resourceContext=this.instantiationService.createInstance(L.ResourceContextKey),this.disposables.push(this.resourceContext),this.groupFocusedContext=P.OpenEditorsGroupContext.bindTo(this.contextKeyService),this.dirtyEditorFocusedContext=P.DirtyEditorContext.bindTo(this.contextKeyService),this.disposables.push(this.list.onContextMenu(function(e){return t.onListContextMenu(e)})),this.list.onFocusChange(function(e){t.resourceContext.reset(),t.groupFocusedContext.reset(),t.dirtyEditorFocusedContext.reset();var i=e.elements.length?e.elements[0]:void 0
;i instanceof y.OpenEditor?(t.dirtyEditorFocusedContext.set(t.textFileService.isDirty(i.getResource())),t.resourceContext.set(i.getResource())):i&&t.groupFocusedContext.set(!0)}),this.disposables.push(this.list.onMouseMiddleClick(function(e){e&&e.element instanceof y.OpenEditor&&e.element.group.closeEditor(e.element.editor)})),this.disposables.push(this.list.onOpen(function(e){var i=e.browserEvent,n=!1,r=!1,o=!1;i instanceof MouseEvent&&(r=1===i.detail,o=2===i.detail,n=t.list.useAltAsMultipleSelectionModifier?i.ctrlKey||i.metaKey:i.altKey);var s=t.list.getFocusedElements(),a=s.length?s[0]:void 0;a instanceof y.OpenEditor?t.openEditor(a,{preserveFocus:r,pinned:o,sideBySide:n}):t.editorGroupService.activateGroup(a)})),this.listRefreshScheduler.schedule(0)},t.prototype.getActions=function(){
return[this.instantiationService.createInstance(E.ToggleEditorLayoutAction,E.ToggleEditorLayoutAction.ID,E.ToggleEditorLayoutAction.LABEL),this.instantiationService.createInstance(f.SaveAllAction,f.SaveAllAction.ID,f.SaveAllAction.LABEL),this.instantiationService.createInstance(b.CloseAllEditorsAction,b.CloseAllEditorsAction.ID,b.CloseAllEditorsAction.LABEL)]},t.prototype.setExpanded=function(t){e.prototype.setExpanded.call(this,t),this.updateListVisibility(t),t&&this.needsRefresh&&this.listRefreshScheduler.schedule(0)},t.prototype.setVisible=function(t){var i=this;return e.prototype.setVisible.call(this,t).then(function(){i.updateListVisibility(t&&i.isExpanded()),t&&i.needsRefresh&&i.listRefreshScheduler.schedule(0)})},t.prototype.focus=function(){e.prototype.focus.call(this),this.list.domFocus()},t.prototype.getList=function(){return this.list},t.prototype.layoutBody=function(e){this.list&&this.list.layout(e)},t.prototype.updateListVisibility=function(e){
this.list&&(e?l.show(this.list.getHTMLElement()):l.hide(this.list.getHTMLElement()))},Object.defineProperty(t.prototype,"showGroups",{get:function(){return this.editorGroupService.groups.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){var e=this,t=[];return this.editorGroupService.getGroups(2).forEach(function(i){e.showGroups&&t.push(i),t.push.apply(t,i.editors.map(function(e){return new y.OpenEditor(e,i)}))}),t},enumerable:!0,configurable:!0}),t.prototype.getIndex=function(e,t){var i=t?e.getIndexOfEditor(t):0;if(!this.showGroups)return i;for(var n=0,r=this.editorGroupService.getGroups(2);n<r.length;n++){var o=r[n];if(o.id===e.id)return i+(t?1:0);i+=o.count+1}return-1},t.prototype.openEditor=function(e,t){var i=this;if(e){this.telemetryService.publicLog("workbenchActionExecuted",{id:"workbench.files.openFile",from:"openEditors"});var n=t.sideBySide&&t.preserveFocus;n||this.editorGroupService.activateGroup(e.groupId),
this.editorService.openEditor(e.editor,t,t.sideBySide?R.SIDE_GROUP:R.ACTIVE_GROUP).then(function(e){n||i.editorGroupService.activateGroup(e.group)})}},t.prototype.onListContextMenu=function(e){var t=this,i=e.element;this.contextMenuService.showContextMenu({getAnchor:function(){return e.anchor},getActions:function(){var e=[];return M.fillInContextMenuActions(t.contributedContextMenu,{shouldForwardArgs:!0,arg:i instanceof y.OpenEditor?i.editor.getResource():{}},e,t.contextMenuService),Promise.resolve(e)},getActionsContext:function(){return i instanceof y.OpenEditor?{groupId:i.groupId,editorIndex:i.editorIndex}:{groupId:i.id}}})},t.prototype.focusActiveEditor=function(){if(this.list.length&&this.editorGroupService.activeGroup){var e=this.getIndex(this.editorGroupService.activeGroup,this.editorGroupService.activeGroup.activeEditor);this.list.setFocus([e]),this.list.setSelection([e]),this.list.reveal(e)}else this.list.setFocus([]),this.list.setSelection([])},t.prototype.onConfigurationChange=function(e){
e.affectsConfiguration("explorer.openEditors")&&this.updateSize(),e.affectsConfiguration("explorer.decorations")&&this.listRefreshScheduler.schedule()},t.prototype.updateSize=function(){this.minimumBodySize=this.getMinExpandedBodySize(),this.maximumBodySize=this.getMaxExpandedBodySize()},t.prototype.updateDirtyIndicator=function(){var e=1!==this.textFileService.getAutoSaveMode()?this.textFileService.getDirty().length:this.untitledEditorService.getDirty().length;0===e?l.addClass(this.dirtyCountElement,"hidden"):(this.dirtyCountElement.textContent=s.localize("dirtyCounter","{0} unsaved",e),l.removeClass(this.dirtyCountElement,"hidden"))},Object.defineProperty(t.prototype,"elementCount",{get:function(){return this.editorGroupService.groups.map(function(e){return e.count}).reduce(function(e,t){return e+t},this.showGroups?this.editorGroupService.groups.length:0)},enumerable:!0,configurable:!0}),t.prototype.getMaxExpandedBodySize=function(){return this.elementCount*K.ITEM_HEIGHT},
t.prototype.getMinExpandedBodySize=function(){var e=this.configurationService.getValue("explorer.openEditors.visible");return"number"!=typeof e&&(e=t.DEFAULT_VISIBLE_OPEN_EDITORS),this.computeMinExpandedBodySize(e)},t.prototype.computeMinExpandedBodySize=function(e){void 0===e&&(e=t.DEFAULT_VISIBLE_OPEN_EDITORS);return Math.min(Math.max(e,1),this.elementCount)*K.ITEM_HEIGHT},t.prototype.setStructuralRefreshDelay=function(e){this.structuralRefreshDelay=e},t.prototype.getOptimalWidth=function(){var e=this.list.getHTMLElement(),t=[].slice.call(e.querySelectorAll(".open-editor > a"));return l.getLargestChildWidth(e,t)},t.DEFAULT_VISIBLE_OPEN_EDITORS=9,t.ID="workbench.explorer.openEditorsView",t.NAME=s.localize({key:"openEditors",comment:["Open is an adjective"]},"Open Editors"),
t=r([o(1,d.IInstantiationService),o(2,u.IContextMenuService),o(3,m.ITextFileService),o(4,R.IEditorService),o(5,p.IEditorGroupsService),o(6,h.IConfigurationService),o(7,g.IKeybindingService),o(8,S.IUntitledEditorService),o(9,w.IContextKeyService),o(10,I.IThemeService),o(11,T.ITelemetryService),o(12,k.IMenuService)],t)}(N.ViewletPanel);t.OpenEditorsView=W;var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.run=function(t,i){return e.prototype.run.call(this,t,{groupId:this.editor.groupId,editorIndex:this.editor.editorIndex})},t}(c.ActionRunner),K=function(){function e(){}return e.prototype.getHeight=function(t){return e.ITEM_HEIGHT},e.prototype.getTemplateId=function(e){return e instanceof y.OpenEditor?H.ID:z.ID},e.ITEM_HEIGHT=22,e}(),z=function(){function e(e,t,i){this.keybindingService=e,this.instantiationService=t,this.editorGroupService=i,this.transfer=F.LocalSelectionTransfer.getInstance()}return Object.defineProperty(e.prototype,"templateId",{
get:function(){return e.ID},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this,i=Object.create(null);i.root=l.append(e,V(".editor-group")),i.name=l.append(i.root,V("span.name")),i.actionBar=new x.ActionBar(e);var n=this.instantiationService.createInstance(f.SaveAllInGroupAction,f.SaveAllInGroupAction.ID,f.SaveAllInGroupAction.LABEL),r=this.keybindingService.lookupKeybinding(n.id);i.actionBar.push(n,{icon:!0,label:!1,keybinding:r?r.getLabel():void 0});var o=this.instantiationService.createInstance(f.CloseGroupAction,f.CloseGroupAction.ID,f.CloseGroupAction.LABEL),s=this.keybindingService.lookupKeybinding(o.id);return i.actionBar.push(o,{icon:!0,label:!1,keybinding:s?s.getLabel():void 0}),i.toDispose=[],i.toDispose.push(l.addDisposableListener(e,l.EventType.DRAG_OVER,function(t){B(t)&&l.addClass(e,"focused")})),i.toDispose.push(l.addDisposableListener(e,l.EventType.DRAG_LEAVE,function(){l.removeClass(e,"focused")})),
i.toDispose.push(l.addDisposableListener(e,l.EventType.DROP,function(n){if(l.removeClass(e,"focused"),t.transfer.hasData(y.OpenEditor.prototype))t.transfer.getData(y.OpenEditor.prototype).forEach(function(e){return e.group.moveEditor(e.editor,i.editorGroup,{preserveFocus:!0})}),t.editorGroupService.activateGroup(i.editorGroup);else{t.instantiationService.createInstance(F.ResourcesDropHandler,{allowWorkspaceOpen:!1}).handleDrop(n,function(){return i.editorGroup},function(){return i.editorGroup.focus()})}})),i},e.prototype.renderElement=function(e,t,i){i.editorGroup=e,i.name.textContent=e.label,i.actionBar.context={groupId:e.id}},e.prototype.disposeElement=function(){},e.prototype.disposeTemplate=function(e){e.actionBar.dispose(),O.dispose(e.toDispose)},e.ID="editorgroup",e}(),H=function(){function e(e,t,i,n,r){this.getSelectedElements=e,this.instantiationService=t,this.keybindingService=i,this.configurationService=n,this.editorGroupService=r,this.transfer=F.LocalSelectionTransfer.getInstance()}
return Object.defineProperty(e.prototype,"templateId",{get:function(){return e.ID},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this,i=Object.create(null);i.container=e,i.actionRunner=new G,i.actionBar=new x.ActionBar(e,{actionRunner:i.actionRunner}),e.draggable=!0;var n=this.instantiationService.createInstance(b.CloseEditorAction,b.CloseEditorAction.ID,b.CloseEditorAction.LABEL),r=this.keybindingService.lookupKeybinding(n.id);return i.actionBar.push(n,{icon:!0,label:!1,keybinding:r?r.getLabel():void 0}),i.root=this.instantiationService.createInstance(A.EditorLabel,e,void 0),i.toDispose=[],i.toDispose.push(l.addDisposableListener(e,l.EventType.DRAG_START,function(e){var n=t.getSelectedElements().filter(function(e){return e instanceof y.OpenEditor&&!!e.getResource()}),r=document.createElement("div");e.dataTransfer.effectAllowed="copyMove",r.className="monaco-tree-drag-image",r.textContent=1===n.length?i.openEditor.editor.getName():String(n.length),document.body.appendChild(r),
e.dataTransfer.setDragImage(r,-10,-10),setTimeout(function(){return document.body.removeChild(r)},0),t.transfer.setData(n,y.OpenEditor.prototype),i.openEditor&&i.openEditor.editor&&t.instantiationService.invokeFunction(F.fillResourceDataTransfers,n.map(function(e){return e.getResource()}),e)})),i.toDispose.push(l.addDisposableListener(e,l.EventType.DRAG_OVER,function(t){B(t)&&l.addClass(e,"focused")})),i.toDispose.push(l.addDisposableListener(e,l.EventType.DRAG_LEAVE,function(){l.removeClass(e,"focused")})),i.toDispose.push(l.addDisposableListener(e,l.EventType.DROP,function(n){l.removeClass(e,"focused");var r=i.openEditor.group.getIndexOfEditor(i.openEditor.editor);if(t.transfer.hasData(y.OpenEditor.prototype))t.transfer.getData(y.OpenEditor.prototype).forEach(function(e,t){return e.group.moveEditor(e.editor,i.openEditor.group,{index:r+t,preserveFocus:!0})}),t.editorGroupService.activateGroup(i.openEditor.group);else{t.instantiationService.createInstance(F.ResourcesDropHandler,{allowWorkspaceOpen:!1
}).handleDrop(n,function(){return i.openEditor.group},function(){return i.openEditor.group.focus()},r)}})),i.toDispose.push(l.addDisposableListener(e,l.EventType.DRAG_END,function(){t.transfer.clearData(y.OpenEditor.prototype)})),i},e.prototype.renderElement=function(e,t,i){i.openEditor=e,i.actionRunner.editor=e,e.isDirty()?l.addClass(i.container,"dirty"):l.removeClass(i.container,"dirty"),i.root.setEditor(e.editor,{italic:e.isPreview(),extraClasses:["open-editor"],fileDecorations:this.configurationService.getValue().explorer.decorations})},e.prototype.disposeElement=function(){},e.prototype.disposeTemplate=function(e){e.actionBar.dispose(),e.root.dispose(),e.actionRunner.dispose(),O.dispose(e.toDispose)},e.ID="openeditor",e}()}),define(e[437],t([1,0,2,7,56,230,9,240,435,433,436,36,3,68,21,31,234,10,11,109,33,4,42,225,34,12,65,257]),function(e,t,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var O=function(e){function t(t,i,n){
var r=e.call(this)||this;return r.workspaceContextService=t,r.configurationService=i,r.registerViews(),r.openEditorsVisibleContextKey=c.OpenEditorsVisibleContext.bindTo(n),r.updateOpenEditorsVisibility(),r._register(t.onDidChangeWorkbenchState(function(){return r.registerViews()})),r._register(t.onDidChangeWorkspaceFolders(function(){return r.registerViews()})),r._register(r.configurationService.onDidChangeConfiguration(function(e){return r.onConfigurationUpdated(e)})),r}return i(t,e),t.prototype.registerViews=function(){var e=C.ViewsRegistry.getViews(c.VIEW_CONTAINER),t=[],i=[],n=this.createOpenEditorsViewDescriptor(),r=e.some(function(e){return e.id===n.id}),o=this.createExplorerViewDescriptor(),s=e.some(function(e){return e.id===o.id}),a=this.createEmptyViewDescriptor(),l=e.some(function(e){return e.id===a.id});r||t.push(n),1===this.workspaceContextService.getWorkbenchState()||0===this.workspaceContextService.getWorkspace().folders.length?(s&&i.push(o.id),l||t.push(a)):(l&&i.push(a.id),s||t.push(o)),
t.length&&C.ViewsRegistry.registerViews(t),i.length&&C.ViewsRegistry.deregisterViews(i,c.VIEW_CONTAINER)},t.prototype.createOpenEditorsViewDescriptor=function(){return{id:g.OpenEditorsView.ID,name:g.OpenEditorsView.NAME,container:c.VIEW_CONTAINER,ctor:g.OpenEditorsView,order:0,when:c.OpenEditorsVisibleCondition,canToggleVisibility:!0,focusCommand:{id:"workbench.files.action.focusOpenEditorsView",keybindings:{primary:R.KeyChord(2089,35)}}}},t.prototype.createEmptyViewDescriptor=function(){return{id:h.EmptyView.ID,name:h.EmptyView.NAME,container:c.VIEW_CONTAINER,ctor:h.EmptyView,order:1,canToggleVisibility:!1}},t.prototype.createExplorerViewDescriptor=function(){return{id:p.ExplorerView.ID,name:s.localize("folders","Folders"),container:c.VIEW_CONTAINER,ctor:p.ExplorerView,order:1,canToggleVisibility:!1}},t.prototype.onConfigurationUpdated=function(e){e.affectsConfiguration("explorer.openEditors.visible")&&this.updateOpenEditorsVisibility()},t.prototype.updateOpenEditorsVisibility=function(){
this.openEditorsVisibleContextKey.set(1===this.workspaceContextService.getWorkbenchState()||0!==this.configurationService.getValue("explorer.openEditors.visible"))},t=r([o(0,y.IWorkspaceContextService),o(1,u.IConfigurationService),o(2,E.IContextKeyService)],t)}(_.Disposable);t.ExplorerViewletViewsContribution=O;var M=function(e){function t(i,n,r,o,s,a,l,u,p,h,g,f){var v=e.call(this,c.VIEWLET_ID,t.EXPLORER_VIEWS_STATE,!0,l,i,n,o,u,h,g,f,r)||this;return v.contextService=r,v.storageService=o,v.editorService=s,v.editorGroupService=a,v.instantiationService=u,v.viewletState=new d.FileViewletState,v.viewletVisibleContextKey=c.ExplorerViewletVisibleContext.bindTo(p),v._register(v.contextService.onDidChangeWorkspaceName(function(e){return v.updateTitleArea()})),v}return i(t,e),t.prototype.create=function(t){return e.prototype.create.call(this,t).then(function(){a.addClass(t,"explorer-viewlet")})},t.prototype.createView=function(t,i){var r=this;if(t.id===p.ExplorerView.ID){
var o=this.instantiationService.createInstance(A.DelegatingEditorService);o.setEditorOpenHandler(function(e,t,i){var n=r.getOpenEditorsView();if(n){var o=0,s=!!r.configurationService.getValue().workbench.editor.enablePreview,a=r.editorGroupService.activeGroup;s&&e===a&&!a.previewEditor&&(o=250),n.setStructuralRefreshDelay(o)}var c=function(e){var t=r.getOpenEditorsView();return t&&t.setStructuralRefreshDelay(0),e};return r.editorService.openEditor(t,i,e).then(c,c)});return this.instantiationService.createChild(new b.ServiceCollection([T.IEditorService,o])).createInstance(p.ExplorerView,n({},i,{viewletState:this.viewletState}))}return e.prototype.createView.call(this,t,i)},t.prototype.getExplorerView=function(){return this.getView(p.ExplorerView.ID)},t.prototype.getOpenEditorsView=function(){return this.getView(g.OpenEditorsView.ID)},t.prototype.getEmptyView=function(){return this.getView(h.EmptyView.ID)},t.prototype.setVisible=function(t){return this.viewletVisibleContextKey.set(t),
e.prototype.setVisible.call(this,t)},t.prototype.getActionRunner=function(){return this.actionRunner||(this.actionRunner=new d.ActionRunner(this.viewletState)),this.actionRunner},t.prototype.getViewletState=function(){return this.viewletState},t.prototype.focus=function(){var t=this.getExplorerView();t&&t.isExpanded()?t.focus():e.prototype.focus.call(this)},t.EXPLORER_VIEWS_STATE="workbench.explorer.views.state",t=r([o(0,D.IPartService),o(1,S.ITelemetryService),o(2,y.IWorkspaceContextService),o(3,f.IStorageService),o(4,T.IEditorService),o(5,x.IEditorGroupsService),o(6,u.IConfigurationService),o(7,v.IInstantiationService),o(8,E.IContextKeyService),o(9,w.IThemeService),o(10,I.IContextMenuService),o(11,m.IExtensionService)],t)}(l.ViewContainerViewlet);t.ExplorerViewlet=M}),define(e[438],t([1,0,13,77,2,23,8,93,44,107,15,16,56,359,432,141,408,358,112,48,20,394,437,106,184,12,34,63,25,42]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M){"use strict";Object.defineProperty(t,"__esModule",{
value:!0});var k=function(e){function t(t,i,n,r,o){return e.call(this,t,i,f.VIEWLET_ID,n,r,o)||this}return i(t,e),t.ID=f.VIEWLET_ID,t.LABEL=a.localize("showExplorerViewlet","Show Explorer"),t=r([o(2,w.IViewletService),o(3,T.IEditorGroupsService),o(4,M.IPartService)],t)}(s.ShowViewletAction);t.OpenExplorerViewletAction=k;var P=function(){function e(e){e.registerFormatter("file://",{uri:{label:"${authority}${path}",separator:O.nativeSep,tildify:!C.isWindows,normalizeDriveLetter:C.isWindows,authorityPrefix:O.nativeSep+O.nativeSep},workspace:{suffix:""}})}return e=r([o(0,R.ILabelService)],e)}();l.Registry.as(s.Extensions.Viewlets).registerViewlet(new s.ViewletDescriptor(_.ExplorerViewlet,f.VIEWLET_ID,a.localize("explore","Explorer"),"explore",0)),l.Registry.as(s.Extensions.Viewlets).setDefaultViewletId(f.VIEWLET_ID);l.Registry.as(d.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(k,k.ID,k.LABEL,{primary:3107}),"View: Show Explorer",a.localize("view","View")),
l.Registry.as(D.Extensions.Editors).registerEditor(new D.EditorDescriptor(S.TextFileEditor,S.TextFileEditor.ID,a.localize("textFileEditor","Text File Editor")),[new E.SyncDescriptor(y.FileEditorInput)]),l.Registry.as(D.Extensions.Editors).registerEditor(new D.EditorDescriptor(b.BinaryFileEditor,b.BinaryFileEditor.ID,a.localize("binaryFileEditor","Binary File Editor")),[new E.SyncDescriptor(y.FileEditorInput),new E.SyncDescriptor(A.DataUriEditorInput)]),l.Registry.as(h.Extensions.EditorInputFactories).registerFileInputFactory({createFileInput:function(e,t,i){return i.createInstance(y.FileEditorInput,e,t)},isFileInput:function(e){return e instanceof y.FileEditorInput}});var L=function(){function e(){}return e.prototype.serialize=function(e){var t=e,i=t.getResource(),n={resource:i.toString(),resourceJSON:i.toJSON(),encoding:t.getEncoding()};return JSON.stringify(n)},e.prototype.deserialize=function(e,t){return e.invokeFunction(function(e){
var i=JSON.parse(t),r=i.resourceJSON?n.URI.revive(i.resourceJSON):n.URI.parse(i.resource),o=i.encoding;return e.get(x.IEditorService).createInput({resource:r,encoding:o,forceFile:!0})})},e}();l.Registry.as(h.Extensions.EditorInputFactories).registerEditorInputFactory(f.FILE_EDITOR_INPUT_ID,L),l.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(_.ExplorerViewletViewsContribution,1),l.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(v.FileEditorTracker,1),l.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(m.SaveErrorHandler,1),l.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(I.DirtyFilesTracker,1),l.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(P,1);var F=l.Registry.as(u.Extensions.Configuration);F.registerConfiguration({id:"files",order:9,title:a.localize("filesConfigurationTitle","Files"),type:"object",properties:{"files.exclude":{type:"object",
markdownDescription:a.localize("exclude","Configure glob patterns for excluding files and folders. For example, the files explorer decides which files and folders to show or hide based on this setting. Read more about glob patterns [here](https://code.visualstudio.com/docs/editor/codebasics#_advanced-search-options)."),default:{"**/.git":!0,"**/.svn":!0,"**/.hg":!0,"**/CVS":!0,"**/.DS_Store":!0},scope:3,additionalProperties:{anyOf:[{type:"boolean",description:a.localize("files.exclude.boolean","The glob pattern to match file paths against. Set to true or false to enable or disable the pattern.")},{type:"object",properties:{when:{type:"string",pattern:"\\w*\\$\\(basename\\)\\w*",default:"$(basename).ext",description:a.localize("files.exclude.when","Additional check on the siblings of a matching file. Use $(basename) as variable for the matching file name.")}}}]}},"files.associations":{type:"object",
markdownDescription:a.localize("associations",'Configure file associations to languages (e.g. `"*.extension": "html"`). These have precedence over the default associations of the languages installed.')},"files.encoding":{type:"string",overridable:!0,enum:Object.keys(g.SUPPORTED_ENCODINGS),default:"utf8",description:a.localize("encoding","The default character set encoding to use when reading and writing files. This setting can also be configured per language."),scope:3,enumDescriptions:Object.keys(g.SUPPORTED_ENCODINGS).map(function(e){return g.SUPPORTED_ENCODINGS[e].labelLong})},"files.autoGuessEncoding":{type:"boolean",overridable:!0,default:!1,description:a.localize("autoGuessEncoding","When enabled, the editor will attempt to guess the character set encoding when opening files. This setting can also be configured per language."),scope:3},"files.eol":{type:"string",enum:["\n","\r\n"],enumDescriptions:[a.localize("eol.LF","LF"),a.localize("eol.CRLF","CRLF")],default:C.isLinux||C.isMacintosh?"\n":"\r\n",
description:a.localize("eol","The default end of line character."),scope:3},"files.enableTrash":{type:"boolean",default:!0,description:a.localize("useTrash","Moves files/folders to the OS trash (recycle bin on Windows) when deleting. Disabling this will delete files/folders permanently.")},"files.trimTrailingWhitespace":{type:"boolean",default:!1,description:a.localize("trimTrailingWhitespace","When enabled, will trim trailing whitespace when saving a file."),overridable:!0,scope:3},"files.insertFinalNewline":{type:"boolean",default:!1,description:a.localize("insertFinalNewline","When enabled, insert a final new line at the end of the file when saving it."),overridable:!0,scope:3},"files.trimFinalNewlines":{type:"boolean",default:!1,description:a.localize("trimFinalNewlines","When enabled, will trim all new lines after the final new line at the end of the file when saving it."),overridable:!0,scope:3},"files.autoSave":{type:"string",
enum:[g.AutoSaveConfiguration.OFF,g.AutoSaveConfiguration.AFTER_DELAY,g.AutoSaveConfiguration.ON_FOCUS_CHANGE,g.AutoSaveConfiguration.ON_WINDOW_CHANGE],markdownEnumDescriptions:[a.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"files.autoSave.off"},"A dirty file is never automatically saved."),a.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"files.autoSave.afterDelay"},"A dirty file is automatically saved after the configured `#files.autoSaveDelay#`."),a.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"files.autoSave.onFocusChange"},"A dirty file is automatically saved when the editor loses focus."),a.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"files.autoSave.onWindowChange"
},"A dirty file is automatically saved when the window loses focus.")],default:g.AutoSaveConfiguration.OFF,markdownDescription:a.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"autoSave"},"Controls auto save of dirty files. Read more about autosave [here](https://code.visualstudio.com/docs/editor/codebasics#_save-auto-save).",g.AutoSaveConfiguration.OFF,g.AutoSaveConfiguration.AFTER_DELAY,g.AutoSaveConfiguration.ON_FOCUS_CHANGE,g.AutoSaveConfiguration.ON_WINDOW_CHANGE,g.AutoSaveConfiguration.AFTER_DELAY)},"files.autoSaveDelay":{type:"number",default:1e3,markdownDescription:a.localize({comment:["This is the description for a setting. Values surrounded by single quotes are not to be translated."],key:"autoSaveDelay"},"Controls the delay in ms after which a dirty file is saved automatically. Only applies when `#files.autoSave#` is set to `{0}`.",g.AutoSaveConfiguration.AFTER_DELAY)},"files.watcherExclude":{type:"object",
default:C.isWindows?{"**/.git/objects/**":!0,"**/.git/subtree-cache/**":!0,"**/node_modules/*/**":!0}:{"**/.git/objects/**":!0,"**/.git/subtree-cache/**":!0,"**/node_modules/**":!0},description:a.localize("watcherExclude","Configure glob patterns of file paths to exclude from file watching. Patterns must match on absolute paths (i.e. prefix with ** or the full path to match properly). Changing this setting requires a restart. When you experience Code consuming lots of cpu time on startup, you can exclude large folders to reduce the initial load."),scope:3},"files.hotExit":{type:"string",enum:[g.HotExitConfiguration.OFF,g.HotExitConfiguration.ON_EXIT,g.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE],default:g.HotExitConfiguration.ON_EXIT,
markdownEnumDescriptions:[a.localize("hotExit.off","Disable hot exit."),a.localize("hotExit.onExit","Hot exit will be triggered when the last window is closed on Windows/Linux or when the `workbench.action.quit` command is triggered (command palette, keybinding, menu). All windows with backups will be restored upon next launch."),a.localize("hotExit.onExitAndWindowClose","Hot exit will be triggered when the last window is closed on Windows/Linux or when the `workbench.action.quit` command is triggered (command palette, keybinding, menu), and also for any window with a folder opened regardless of whether it's the last window. All windows without folders opened will be restored upon next launch. To restore folder windows as they were before shutdown set `#window.restoreWindows#` to `all`.")],
description:a.localize("hotExit","Controls whether unsaved files are remembered between sessions, allowing the save prompt when exiting the editor to be skipped.",g.HotExitConfiguration.ON_EXIT,g.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE)},"files.useExperimentalFileWatcher":{type:"boolean",default:!1,description:a.localize("useExperimentalFileWatcher","Use the new experimental file watcher.")},"files.defaultLanguage":{type:"string",description:a.localize("defaultLanguage","The default language mode that is assigned to new files.")},"files.maxMemoryForLargeFilesMB":{type:"number",default:4096,markdownDescription:a.localize("maxMemoryForLargeFilesMB","Controls the memory available to VS Code after restart when trying to open large files. Same effect as specifying `--max-memory=NEWSIZE` on the command line.")}}}),F.registerConfiguration({id:"editor",order:5,title:a.localize("editorConfigurationTitle","Editor"),type:"object",properties:{"editor.formatOnSave":{type:"boolean",default:!0,
description:a.localize("formatOnSave","Format a file on save. A formatter must be available, the file must not be auto-saved, and editor must not be shutting down."),overridable:!0,scope:3},"editor.formatOnSaveTimeout":{type:"number",default:750,description:a.localize("formatOnSaveTimeout","Timeout in milliseconds after which the formatting that is run on file save is cancelled."),overridable:!0,scope:3}}}),F.registerConfiguration({id:"explorer",order:10,title:a.localize("explorerConfigurationTitle","File Explorer"),type:"object",properties:{"explorer.openEditors.visible":{type:"number",description:a.localize({key:"openEditorsVisible",comment:["Open is an adjective"]},"Number of editors shown in the Open Editors pane."),default:9},"explorer.autoReveal":{type:"boolean",description:a.localize("autoReveal","Controls whether the explorer should automatically reveal and select files when opening them."),default:!0},"explorer.enableDragAndDrop":{type:"boolean",
description:a.localize("enableDragAndDrop","Controls whether the explorer should allow to move files and folders via drag and drop."),default:!0},"explorer.confirmDragAndDrop":{type:"boolean",description:a.localize("confirmDragAndDrop","Controls whether the explorer should ask for confirmation to move files and folders via drag and drop."),default:!0},"explorer.confirmDelete":{type:"boolean",description:a.localize("confirmDelete","Controls whether the explorer should ask for confirmation when deleting a file via the trash."),default:!0},"explorer.sortOrder":{type:"string",enum:[f.SortOrderConfiguration.DEFAULT,f.SortOrderConfiguration.MIXED,f.SortOrderConfiguration.FILES_FIRST,f.SortOrderConfiguration.TYPE,f.SortOrderConfiguration.MODIFIED],default:f.SortOrderConfiguration.DEFAULT,
enumDescriptions:[a.localize("sortOrder.default","Files and folders are sorted by their names, in alphabetical order. Folders are displayed before files."),a.localize("sortOrder.mixed","Files and folders are sorted by their names, in alphabetical order. Files are interwoven with folders."),a.localize("sortOrder.filesFirst","Files and folders are sorted by their names, in alphabetical order. Files are displayed before folders."),a.localize("sortOrder.type","Files and folders are sorted by their extensions, in alphabetical order. Folders are displayed before files."),a.localize("sortOrder.modified","Files and folders are sorted by last modified date, in descending order. Folders are displayed before files.")],description:a.localize("sortOrder","Controls sorting order of files and folders in the explorer.")},"explorer.decorations.colors":{type:"boolean",description:a.localize("explorer.decorations.colors","Controls whether file decorations should use colors."),default:!0},"explorer.decorations.badges":{
type:"boolean",description:a.localize("explorer.decorations.badges","Controls whether file decorations should use badges."),default:!0}}}),c.MenuRegistry.appendMenuItem(c.MenuId.MenubarViewMenu,{group:"3_views",command:{id:f.VIEWLET_ID,title:a.localize({key:"miViewExplorer",comment:["&& denotes a mnemonic"]},"&&Explorer")},order:1})}),define(e[439],t([1,0,14,4,13,37,43,2,38,62,21,236,59,61]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){return this.preferencesService.openRawDefaultSettings()},t.ID="workbench.action.openRawDefaultSettings",t.LABEL=u.localize("openRawDefaultSettings","Open Raw Default Settings"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenRawDefaultSettingsAction=m;var y=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),
t.prototype.run=function(e){return this.preferencesService.openSettings(!1)},t.ID="workbench.action.openSettings2",t.LABEL=u.localize("openSettings2","Open Settings (UI)"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenSettings2Action=y;var S=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){return this.preferencesService.openSettings()},t.ID="workbench.action.openSettings",t.LABEL=u.localize("openSettings","Open Settings"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenSettingsAction=S;var b=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){return this.preferencesService.openSettings(!0)},t.ID="workbench.action.openSettingsJson",t.LABEL=u.localize("openSettingsJson","Open Settings (JSON)"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenSettingsJsonAction=b;var E=function(e){function t(t,i,n){var r=e.call(this,t,i)||this
;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){return this.preferencesService.openGlobalSettings()},t.ID="workbench.action.openGlobalSettings",t.LABEL=u.localize("openGlobalSettings","Open User Settings"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenGlobalSettingsAction=E;var w=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){return this.preferencesService.openGlobalKeybindingSettings(!1)},t.ID="workbench.action.openGlobalKeybindings",t.LABEL=u.localize("openGlobalKeybindings","Open Keyboard Shortcuts"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenGlobalKeybindingsAction=w;var C=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){return this.preferencesService.openGlobalKeybindingSettings(!0)},t.ID="workbench.action.openGlobalKeybindingsFile",
t.LABEL=u.localize("openGlobalKeybindingsFile","Open Keyboard Shortcuts File"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenGlobalKeybindingsFileAction=C;var I=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.preferencesService=n,r}return i(t,e),t.prototype.run=function(e){return this.preferencesService.openDefaultKeybindingsFile()},t.ID="workbench.action.openDefaultKeybindingsFile",t.LABEL=u.localize("openDefaultKeybindingsFile","Open Default Keyboard Shortcuts File"),t=r([o(2,v.IPreferencesService)],t)}(n.Action);t.OpenDefaultKeybindingsFileAction=I;var _=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.preferencesService=n,o.workspaceContextService=r,o.disposables=[],o.update(),o.workspaceContextService.onDidChangeWorkbenchState(function(){return o.update()},o,o.disposables),o}return i(t,e),t.prototype.update=function(){this.enabled=1!==this.workspaceContextService.getWorkbenchState()},t.prototype.run=function(e){
return this.preferencesService.openWorkspaceSettings()},t.prototype.dispose=function(){this.disposables=s.dispose(this.disposables),e.prototype.dispose.call(this)},t.ID="workbench.action.openWorkspaceSettings",t.LABEL=u.localize("openWorkspaceSettings","Open Workspace Settings"),t=r([o(2,v.IPreferencesService),o(3,h.IWorkspaceContextService)],t)}(n.Action);t.OpenWorkspaceSettingsAction=_,t.OPEN_FOLDER_SETTINGS_COMMAND="_workbench.action.openFolderSettings",t.OPEN_FOLDER_SETTINGS_LABEL=u.localize("openFolderSettings","Open Folder Settings");var D=function(e){function n(t,i,n,r,o){var s=e.call(this,t,i)||this;return s.workspaceContextService=n,s.preferencesService=r,s.commandService=o,s.disposables=[],s.update(),s.workspaceContextService.onDidChangeWorkbenchState(function(){return s.update()},s,s.disposables),s.workspaceContextService.onDidChangeWorkspaceFolders(function(){return s.update()},s,s.disposables),s}return i(n,e),n.prototype.update=function(){
this.enabled=3===this.workspaceContextService.getWorkbenchState()&&this.workspaceContextService.getWorkspace().folders.length>0},n.prototype.run=function(){var e=this;return this.commandService.executeCommand(g.PICK_WORKSPACE_FOLDER_COMMAND_ID).then(function(t){return t?e.preferencesService.openFolderSettings(t.uri):null})},n.prototype.dispose=function(){this.disposables=s.dispose(this.disposables),e.prototype.dispose.call(this)},n.ID="workbench.action.openFolderSettings",n.LABEL=t.OPEN_FOLDER_SETTINGS_LABEL,n=r([o(2,h.IWorkspaceContextService),o(3,v.IPreferencesService),o(4,d.ICommandService)],n)}(n.Action);t.OpenFolderSettingsAction=D;var A=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,i)||this;return a.modelService=n,a.modeService=r,a.quickInputService=o,a.preferencesService=s,a}return i(t,e),t.prototype.run=function(){var e=this,t=this.modeService.getRegisteredLanguageNames().sort().map(function(t,i){
var n,r=u.localize("languageDescriptionConfigured","({0})",e.modeService.getModeIdForLanguageName(t.toLowerCase())),o=e.modeService.getExtensions(t);if(o&&o.length)n=a.URI.file(o[0]);else{var s=e.modeService.getFilenames(t);s&&s.length&&(n=a.URI.file(s[0]))}return{label:t,iconClasses:f.getIconClasses(e.modelService,e.modeService,n),description:r}});return this.quickInputService.pick(t,{placeHolder:u.localize("pickLanguage","Select Language")}).then(function(t){if(t)return e.modeService.getOrCreateModeByLanguageName(t.label).then(function(t){return e.preferencesService.configureSettingsForLanguage(t.getLanguageIdentifier().language)})})},t.ID="workbench.action.configureLanguageBasedSettings",t.LABEL=u.localize("configureLanguageBasedSettings","Configure Language Specific Settings..."),t=r([o(2,c.IModelService),o(3,l.IModeService),o(4,p.IQuickInputService),o(5,v.IPreferencesService)],t)}(n.Action);t.ConfigureLanguageBasedSettingsAction=A}),
define(e[440],t([1,0,2,13,8,67,44,15,23,86,65,112,211,362,200,368,439,96,3,107,341,10,12,38,106,210,61,58,187,268]),function(e,t,n,r,o,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),u.registerSingleton(y.IPreferencesSearchService,D.PreferencesSearchService),o.Registry.as(_.Extensions.Editors).registerEditor(new _.EditorDescriptor(h.PreferencesEditor,h.PreferencesEditor.ID,n.localize("defaultPreferencesEditor","Default Preferences Editor")),[new p.SyncDescriptor(f.PreferencesEditorInput)]),o.Registry.as(_.Extensions.Editors).registerEditor(new _.EditorDescriptor(g.SettingsEditor2,g.SettingsEditor2.ID,n.localize("settingsEditor2","Settings Editor 2")),[new p.SyncDescriptor(f.SettingsEditor2Input)]),o.Registry.as(_.Extensions.Editors).registerEditor(new _.EditorDescriptor(v.KeybindingsEditor,v.KeybindingsEditor.ID,n.localize("keybindingsEditor","Keybindings Editor")),[new p.SyncDescriptor(f.KeybindingsEditorInput)]);var R=function(){function e(){}
return e.prototype.serialize=function(e){var t=e;if(t.details&&t.master){var i=o.Registry.as(c.Extensions.EditorInputFactories),n=i.getEditorInputFactory(t.details.getTypeId()),r=i.getEditorInputFactory(t.master.getTypeId());if(n&&r){var s=n.serialize(t.details),a=r.serialize(t.master);if(s&&a)return JSON.stringify({name:t.getName(),description:t.getDescription(),detailsSerialized:s,masterSerialized:a,detailsTypeId:t.details.getTypeId(),masterTypeId:t.master.getTypeId()})}}return null},e.prototype.deserialize=function(e,t){var i=JSON.parse(t),n=o.Registry.as(c.Extensions.EditorInputFactories),r=n.getEditorInputFactory(i.detailsTypeId),s=n.getEditorInputFactory(i.masterTypeId);if(r&&s){var a=r.deserialize(e,i.detailsSerialized),l=s.deserialize(e,i.masterSerialized);if(a&&l)return new f.PreferencesEditorInput(i.name,i.description,a,l)}return null},e}(),O=function(){function e(){}return e.prototype.serialize=function(e){var t=e;return JSON.stringify({name:t.getName(),typeId:t.getTypeId()})},
e.prototype.deserialize=function(e,t){return e.createInstance(f.KeybindingsEditorInput)},e}(),M=function(){function e(){}return e.prototype.serialize=function(e){return JSON.stringify({})},e.prototype.deserialize=function(e,t){return e.createInstance(f.SettingsEditor2Input)},e}(),k=function(){function e(){}return e.prototype.serialize=function(e){var t={resource:e.getResource().toString()};return JSON.stringify(t)},e.prototype.deserialize=function(e,t){var i=JSON.parse(t);return e.createInstance(f.DefaultPreferencesEditorInput,r.URI.parse(i.resource))},e}();o.Registry.as(c.Extensions.EditorInputFactories).registerEditorInputFactory(f.PreferencesEditorInput.ID,R),o.Registry.as(c.Extensions.EditorInputFactories).registerEditorInputFactory(f.DefaultPreferencesEditorInput.ID,k),o.Registry.as(c.Extensions.EditorInputFactories).registerEditorInputFactory(f.KeybindingsEditorInput.ID,O),o.Registry.as(c.Extensions.EditorInputFactories).registerEditorInputFactory(f.SettingsEditor2Input.ID,M)
;var P=n.localize("preferences","Preferences"),L=o.Registry.as(a.Extensions.WorkbenchActions);L.registerWorkbenchAction(new l.SyncActionDescriptor(m.OpenRawDefaultSettingsAction,m.OpenRawDefaultSettingsAction.ID,m.OpenRawDefaultSettingsAction.LABEL),"Preferences: Open Raw Default Settings",P),L.registerWorkbenchAction(new l.SyncActionDescriptor(m.OpenSettingsAction,m.OpenSettingsAction.ID,m.OpenSettingsAction.LABEL,{primary:2130}),"Preferences: Open Settings",P),L.registerWorkbenchAction(new l.SyncActionDescriptor(m.OpenSettingsJsonAction,m.OpenSettingsJsonAction.ID,m.OpenSettingsJsonAction.LABEL),"Preferences: Open Settings (JSON)",P),L.registerWorkbenchAction(new l.SyncActionDescriptor(m.OpenSettings2Action,m.OpenSettings2Action.ID,m.OpenSettings2Action.LABEL),"Preferences: Open Settings (UI)",P),L.registerWorkbenchAction(new l.SyncActionDescriptor(m.OpenGlobalSettingsAction,m.OpenGlobalSettingsAction.ID,m.OpenGlobalSettingsAction.LABEL),"Preferences: Open User Settings",P),
L.registerWorkbenchAction(new l.SyncActionDescriptor(m.OpenGlobalKeybindingsAction,m.OpenGlobalKeybindingsAction.ID,m.OpenGlobalKeybindingsAction.LABEL,{primary:d.KeyChord(2089,2097)}),"Preferences: Open Keyboard Shortcuts",P),L.registerWorkbenchAction(new l.SyncActionDescriptor(m.OpenDefaultKeybindingsFileAction,m.OpenDefaultKeybindingsFileAction.ID,m.OpenDefaultKeybindingsFileAction.LABEL),"Preferences: Open Default Keyboard Shortcuts File",P),L.registerWorkbenchAction(new l.SyncActionDescriptor(m.OpenGlobalKeybindingsFileAction,m.OpenGlobalKeybindingsFileAction.ID,m.OpenGlobalKeybindingsFileAction.LABEL,{primary:null}),"Preferences: Open Keyboard Shortcuts File",P),L.registerWorkbenchAction(new l.SyncActionDescriptor(m.ConfigureLanguageBasedSettingsAction,m.ConfigureLanguageBasedSettingsAction.ID,m.ConfigureLanguageBasedSettingsAction.LABEL),"Preferences: Configure Language Specific Settings...",P),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:y.KEYBINDINGS_EDITOR_COMMAND_DEFINE,weight:200,
when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR,y.CONTEXT_KEYBINDING_FOCUS),primary:d.KeyChord(2089,2089),handler:function(e,t){var i=e.get(C.IEditorService).activeControl;i&&i instanceof v.KeybindingsEditor&&i.defineKeybinding(i.activeKeybindingEntry)}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:y.KEYBINDINGS_EDITOR_COMMAND_REMOVE,weight:200,when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR,y.CONTEXT_KEYBINDING_FOCUS),primary:20,mac:{primary:d.KeyChord(2089,2049)},handler:function(e,t){var i=e.get(C.IEditorService).activeControl;i&&i instanceof v.KeybindingsEditor&&i.removeKeybinding(i.activeKeybindingEntry)}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:y.KEYBINDINGS_EDITOR_COMMAND_RESET,weight:200,when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR,y.CONTEXT_KEYBINDING_FOCUS),primary:null,handler:function(e,t){var i=e.get(C.IEditorService).activeControl;i&&i instanceof v.KeybindingsEditor&&i.resetKeybinding(i.activeKeybindingEntry)}}),
s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:y.KEYBINDINGS_EDITOR_COMMAND_SEARCH,weight:200,when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR,y.CONTEXT_KEYBINDINGS_SEARCH_FOCUS.toNegated()),primary:2084,handler:function(e,t){var i=e.get(C.IEditorService).activeControl;i&&i instanceof v.KeybindingsEditor&&i.focusSearch()}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:y.KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS,weight:200,when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR,y.CONTEXT_KEYBINDINGS_SEARCH_FOCUS),primary:553,mac:{primary:2601},handler:function(e,t){var i=e.get(C.IEditorService).activeControl;i&&i instanceof v.KeybindingsEditor&&i.recordSearchKeys()}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:y.KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE,weight:200,when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR),primary:558,mac:{primary:2606},handler:function(e,t){var i=e.get(C.IEditorService).activeControl
;i&&i instanceof v.KeybindingsEditor&&i.toggleSortByPrecedence()}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:y.KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR,weight:200,when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR,y.CONTEXT_KEYBINDING_FOCUS),primary:null,handler:function(e,t){var i=e.get(C.IEditorService).activeControl;i&&i.showSimilarKeybindings(i.activeKeybindingEntry)}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:y.KEYBINDINGS_EDITOR_COMMAND_COPY,weight:200,when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR,y.CONTEXT_KEYBINDING_FOCUS),primary:2081,handler:function(e,t){var i=e.get(C.IEditorService).activeControl;i&&i.copyKeybinding(i.activeKeybindingEntry)}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:y.KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND,weight:200,when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR,y.CONTEXT_KEYBINDING_FOCUS),primary:null,handler:function(e,t){var i=e.get(C.IEditorService).activeControl
;i&&i.copyKeybindingCommand(i.activeKeybindingEntry)}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:y.KEYBINDINGS_EDITOR_COMMAND_FOCUS_KEYBINDINGS,weight:200,when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR,y.CONTEXT_KEYBINDINGS_SEARCH_FOCUS),primary:18,handler:function(e,t){var i=e.get(C.IEditorService).activeControl;i&&i.focusKeybindings()}}),o.Registry.as(b.Extensions.Workbench).registerWorkbenchContribution(E.PreferencesContribution,1),I.CommandsRegistry.registerCommand(m.OPEN_FOLDER_SETTINGS_COMMAND,function(e,t){return e.get(A.IPreferencesService).openFolderSettings(t)}),I.CommandsRegistry.registerCommand(m.OpenFolderSettingsAction.ID,function(e){e.get(S.IInstantiationService).createInstance(m.OpenFolderSettingsAction,m.OpenFolderSettingsAction.ID,m.OpenFolderSettingsAction.LABEL).run()}),l.MenuRegistry.appendMenuItem(l.MenuId.CommandPalette,{command:{id:m.OpenFolderSettingsAction.ID,title:{value:P+": "+m.OpenFolderSettingsAction.LABEL,original:"Preferences: Open Folder Settings"}},
when:new w.RawContextKey("workbenchState","").isEqualTo("workspace")}),I.CommandsRegistry.registerCommand(m.OpenWorkspaceSettingsAction.ID,function(e){e.get(S.IInstantiationService).createInstance(m.OpenWorkspaceSettingsAction,m.OpenWorkspaceSettingsAction.ID,m.OpenWorkspaceSettingsAction.LABEL).run()}),l.MenuRegistry.appendMenuItem(l.MenuId.CommandPalette,{command:{id:m.OpenWorkspaceSettingsAction.ID,title:{value:P+": "+m.OpenWorkspaceSettingsAction.LABEL,original:"Preferences: Open Workspace Settings"}},when:new w.RawContextKey("workbenchState","").notEqualsTo("empty")}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:y.KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS,weight:200,when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR,y.CONTEXT_KEYBINDINGS_SEARCH_FOCUS),primary:9,handler:function(e,t){var i=e.get(C.IEditorService).activeControl;i&&i.clearSearchResults()}}),l.MenuRegistry.appendMenuItem(l.MenuId.EditorTitle,{command:{id:y.KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS,
title:n.localize("clearInput","Clear Keybindings Search Input"),iconLocation:{light:r.URI.parse(e.toUrl("vs/workbench/parts/preferences/browser/media/clear.svg")),dark:r.URI.parse(e.toUrl("vs/workbench/parts/preferences/browser/media/clear-inverse.svg"))},precondition:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_SEARCH_VALUE)},when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR),group:"navigation"}),I.CommandsRegistry.registerCommand(m.OpenGlobalKeybindingsFileAction.ID,function(e){e.get(S.IInstantiationService).createInstance(m.OpenGlobalKeybindingsFileAction,m.OpenGlobalKeybindingsFileAction.ID,m.OpenGlobalKeybindingsFileAction.LABEL).run()}),l.MenuRegistry.appendMenuItem(l.MenuId.EditorTitle,{command:{id:m.OpenGlobalKeybindingsFileAction.ID,title:m.OpenGlobalKeybindingsFileAction.LABEL,iconLocation:{light:r.URI.parse(e.toUrl("vs/workbench/parts/preferences/browser/media/open-file.svg")),dark:r.URI.parse(e.toUrl("vs/workbench/parts/preferences/browser/media/open-file-inverse.svg"))}},
when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR),group:"navigation"}),I.CommandsRegistry.registerCommand(y.KEYBINDINGS_EDITOR_SHOW_DEFAULT_KEYBINDINGS,function(e){var t=e.get(C.IEditorService).activeControl;t&&t.search("@source:default")}),l.MenuRegistry.appendMenuItem(l.MenuId.EditorTitle,{command:{id:y.KEYBINDINGS_EDITOR_SHOW_DEFAULT_KEYBINDINGS,title:n.localize("showDefaultKeybindings","Show Default Keybindings")},when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR),group:"1_keyboard_preferences_actions"}),I.CommandsRegistry.registerCommand(y.KEYBINDINGS_EDITOR_SHOW_USER_KEYBINDINGS,function(e){var t=e.get(C.IEditorService).activeControl;t&&t.search("@source:user")}),l.MenuRegistry.appendMenuItem(l.MenuId.EditorTitle,{command:{id:y.KEYBINDINGS_EDITOR_SHOW_USER_KEYBINDINGS,title:n.localize("showUserKeybindings","Show User Keybindings")},when:w.ContextKeyExpr.and(y.CONTEXT_KEYBINDINGS_EDITOR),group:"1_keyboard_preferences_actions"});var F=function(e){function t(){
return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getPreferencesEditor=function(e){var t=e.get(C.IEditorService).activeControl;return t instanceof h.PreferencesEditor||t instanceof g.SettingsEditor2?t:null},t}(x.Command);new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i&&i.focusSearch()},t}(F))({id:y.SETTINGS_EDITOR_COMMAND_SEARCH,precondition:w.ContextKeyExpr.and(y.CONTEXT_SETTINGS_EDITOR),kbOpts:{primary:2084,weight:100}}).register();new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i&&i.clearSearchResults()},t}(F))({id:y.SETTINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS,precondition:y.CONTEXT_SETTINGS_SEARCH_FOCUS,kbOpts:{primary:9,weight:100}}).register();var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),
t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i instanceof h.PreferencesEditor?i.focusSettingsFileEditor():i.focusSettings()},t}(F);new N({id:y.SETTINGS_EDITOR_COMMAND_FOCUS_FILE,precondition:w.ContextKeyExpr.and(y.CONTEXT_SETTINGS_SEARCH_FOCUS,T.Context.Visible.toNegated()),kbOpts:{primary:18,weight:100}}).register();new N({id:y.SETTINGS_EDITOR_COMMAND_FOCUS_SETTINGS_FROM_SEARCH,precondition:w.ContextKeyExpr.and(y.CONTEXT_SETTINGS_SEARCH_FOCUS,T.Context.Visible.toNegated()),kbOpts:{primary:18,weight:200}}).register();new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i instanceof h.PreferencesEditor&&i.focusNextResult()},t}(F))({id:y.SETTINGS_EDITOR_COMMAND_FOCUS_NEXT_SETTING,precondition:y.CONTEXT_SETTINGS_SEARCH_FOCUS,kbOpts:{primary:3,weight:100}}).register();new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),
t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i instanceof h.PreferencesEditor&&i.focusPreviousResult()},t}(F))({id:y.SETTINGS_EDITOR_COMMAND_FOCUS_PREVIOUS_SETTING,precondition:y.CONTEXT_SETTINGS_SEARCH_FOCUS,kbOpts:{primary:1027,weight:100}}).register();new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i instanceof h.PreferencesEditor&&i.editFocusedPreference()},t}(F))({id:y.SETTINGS_EDITOR_COMMAND_EDIT_FOCUSED_SETTING,precondition:y.CONTEXT_SETTINGS_SEARCH_FOCUS,kbOpts:{primary:2132,weight:100}}).register();new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i instanceof g.SettingsEditor2&&i.focusSettings()},t}(F))({id:y.SETTINGS_EDITOR_COMMAND_FOCUS_SETTINGS_LIST,precondition:w.ContextKeyExpr.and(y.CONTEXT_SETTINGS_EDITOR,y.CONTEXT_TOC_ROW_FOCUS),kbOpts:{
primary:3,weight:200}}).register();new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runCommand=function(e,t){var i=this.getPreferencesEditor(e);i instanceof g.SettingsEditor2&&i.showContextMenu()},t}(F))({id:y.SETTINGS_EDITOR_COMMAND_SHOW_CONTEXT_MENU,precondition:w.ContextKeyExpr.and(y.CONTEXT_SETTINGS_EDITOR),kbOpts:{primary:1091,weight:200}}).register(),l.MenuRegistry.appendMenuItem(l.MenuId.MenubarPreferencesMenu,{group:"1_settings",command:{id:m.OpenSettingsAction.ID,title:n.localize({key:"miOpenSettings",comment:["&& denotes a mnemonic"]},"&&Settings")},order:1}),l.MenuRegistry.appendMenuItem(l.MenuId.MenubarPreferencesMenu,{group:"2_keybindings",command:{id:m.OpenGlobalKeybindingsAction.ID,title:n.localize({key:"miOpenKeymap",comment:["&& denotes a mnemonic"]},"&&Keyboard Shortcuts")},order:1})}),
define(e[441],t([1,0,114,7,66,337,17,24,5,4,25,20,22,6,51,2,9,10,33,95,16,3,52,28,90,70,36,31,26,11,21,237,74,77,248,150,412,232,152,203,124,148,97,12,34,42,61,55,271]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V,W,G,K,z,H,U,j,q,Q,Y,X){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var $=s.$,J=function(e){function t(t,i,n,r,o,s,a,c,u,p,h,g,f,v,m,y,S,b,E,w){var C=e.call(this,x.VIEW_ID,h,t,i,b)||this;return C.fileService=n,C.editorService=r,C.progressService=o,C.notificationService=s,C.dialogService=a,C.storageService=c,C.contextViewService=u,C.instantiationService=p,C.contextService=g,C.searchWorkbenchService=f,C.contextKeyService=v,C.replaceService=m,C.untitledEditorService=y,C.preferencesService=S,C.themeService=b,C.searchHistoryService=E,C.editorGroupsService=w,C.actions=[],C.messageDisposables=[],C.viewletVisible=G.SearchViewVisibleKey.bindTo(v),C.viewletFocused=G.SearchViewFocusedKey.bindTo(v),
C.inputBoxFocused=G.InputBoxFocusedKey.bindTo(C.contextKeyService),C.inputPatternIncludesFocused=G.PatternIncludesFocusedKey.bindTo(C.contextKeyService),C.inputPatternExclusionsFocused=G.PatternExcludesFocusedKey.bindTo(C.contextKeyService),C.firstMatchFocused=G.FirstMatchFocusKey.bindTo(v),C.fileMatchOrMatchFocused=G.FileMatchOrMatchFocusKey.bindTo(v),C.fileMatchOrFolderMatchFocus=G.FileMatchOrFolderMatchFocusKey.bindTo(v),C.fileMatchFocused=G.FileFocusKey.bindTo(v),C.folderMatchFocused=G.FolderFocusKey.bindTo(v),C.matchFocused=G.MatchFocusKey.bindTo(C.contextKeyService),C.hasSearchResultsKey=G.HasSearchResults.bindTo(C.contextKeyService),C.queryBuilder=C.instantiationService.createInstance(K.QueryBuilder),C.viewletSettings=C.getMemento(c,1),C._register(C.fileService.onFileChanges(function(e){return C.onFilesChanged(e)})),C._register(C.untitledEditorService.onDidChangeDirty(function(e){return C.onUntitledDidChangeDirty(e)})),C._register(C.contextService.onDidChangeWorkbenchState(function(){
return C.onDidChangeWorkbenchState()})),C._register(C.searchHistoryService.onDidClearHistory(function(){return C.clearHistory()})),C.selectCurrentMatchEmitter=new d.Emitter,d.debounceEvent(C.selectCurrentMatchEmitter.event,function(e,t){return t},100,!0)(function(){return C.selectCurrentMatch()}),C.delayedRefresh=new l.Delayer(250),C}return i(t,e),t.prototype.onDidChangeWorkbenchState=function(){1!==this.contextService.getWorkbenchState()&&this.searchWithoutFolderMessageElement&&s.hide(this.searchWithoutFolderMessageElement)},t.prototype.create=function(t){var i=this;e.prototype.create.call(this,t),this.viewModel=this._register(this.searchWorkbenchService.searchModel);var n=s.append(t,$(".search-view"));this.searchWidgetsContainerElement=s.append(n,$(".search-widgets-container")),this.createSearchWidget(this.searchWidgetsContainerElement)
;var r=this.searchHistoryService.load(),o=this.viewletSettings["query.filePatterns"]||"",c=this.viewletSettings["query.folderExclusions"]||"",l=r.exclude||[],u=this.viewletSettings["query.folderIncludes"]||"",d=r.include||[],p=this.viewletSettings["query.queryDetailsExpanded"]||"",h="boolean"!=typeof this.viewletSettings["query.useExcludesAndIgnoreFiles"]||this.viewletSettings["query.useExcludesAndIgnoreFiles"];this.queryDetails=s.append(this.searchWidgetsContainerElement,$(".query-details")),this.toggleQueryDetailsButton=s.append(this.queryDetails,$(".more",{tabindex:0,role:"button",title:y.localize("moreSearch","Toggle Search Details")})),this._register(s.addDisposableListener(this.toggleQueryDetailsButton,s.EventType.CLICK,function(e){s.EventHelper.stop(e),i.toggleQueryDetails(!i.isScreenReaderOptimized())})),this._register(s.addDisposableListener(this.toggleQueryDetailsButton,s.EventType.KEY_UP,function(e){var t=new a.StandardKeyboardEvent(e);(t.equals(3)||t.equals(10))&&(s.EventHelper.stop(e),
i.toggleQueryDetails(!1))})),this._register(s.addDisposableListener(this.toggleQueryDetailsButton,s.EventType.KEY_DOWN,function(e){new a.StandardKeyboardEvent(e).equals(1026)&&(i.searchWidget.isReplaceActive()?i.searchWidget.focusReplaceAllAction():i.searchWidget.focusRegexAction(),s.EventHelper.stop(e))}));var g=s.append(this.queryDetails,$(".file-types.includes")),f=y.localize("searchScope.includes","files to include");s.append(g,$("h4",void 0,f)),this.inputPatternIncludes=this._register(this.instantiationService.createInstance(N.PatternInputWidget,g,this.contextViewService,{ariaLabel:y.localize("label.includes","Search Include Patterns"),history:d})),this.inputPatternIncludes.setValue(u),this.inputPatternIncludes.onSubmit(function(){return i.onQueryChanged(!0)}),this.inputPatternIncludes.onCancel(function(){return i.viewModel.cancelSearch()}),this.trackInputBox(this.inputPatternIncludes.inputFocusTracker,this.inputPatternIncludesFocused)
;var m=s.append(this.queryDetails,$(".file-types.excludes")),S=y.localize("searchScope.excludes","files to exclude");return s.append(m,$("h4",void 0,S)),this.inputPatternExcludes=this._register(this.instantiationService.createInstance(N.ExcludePatternInputWidget,m,this.contextViewService,{ariaLabel:y.localize("label.excludes","Search Exclude Patterns"),history:l})),this.inputPatternExcludes.setValue(c),this.inputPatternExcludes.setUseExcludesAndIgnoreFiles(h),this.inputPatternExcludes.onSubmit(function(){return i.onQueryChanged(!0)}),this.inputPatternExcludes.onCancel(function(){return i.viewModel.cancelSearch()}),this.trackInputBox(this.inputPatternExcludes.inputFocusTracker,this.inputPatternExclusionsFocused),this.messagesElement=s.append(n,$(".messages")),1===this.contextService.getWorkbenchState()&&this.showSearchWithoutFolderMessage(),this.createSearchResultsView(n),
this.actions=[this.instantiationService.createInstance(B.RefreshAction,B.RefreshAction.ID,B.RefreshAction.LABEL),this.instantiationService.createInstance(B.CollapseDeepestExpandedLevelAction,B.CollapseDeepestExpandedLevelAction.ID,B.CollapseDeepestExpandedLevelAction.LABEL),this.instantiationService.createInstance(B.ClearSearchResultsAction,B.ClearSearchResultsAction.ID,B.ClearSearchResultsAction.LABEL)],""===o&&""===c&&""===u&&""===p&&h||this.toggleQueryDetails(!0,!0,!0),this._register(this.viewModel.searchResult.onChange(function(e){return i.onSearchResultsChanged(e)})),this._register(this.onDidFocus(function(){return i.viewletFocused.set(!0)})),this._register(this.onDidBlur(function(){return i.viewletFocused.set(!1)})),v.TPromise.as(null)},Object.defineProperty(t.prototype,"searchAndReplaceWidget",{get:function(){return this.searchWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchIncludePattern",{get:function(){return this.inputPatternIncludes},enumerable:!0,configurable:!0
}),Object.defineProperty(t.prototype,"searchExcludePattern",{get:function(){return this.inputPatternExcludes},enumerable:!0,configurable:!0}),t.prototype.updateActions=function(){for(var e=0,t=this.actions;e<t.length;e++){t[e].update()}},t.prototype.isScreenReaderOptimized=function(){var e=2===n.getAccessibilitySupport(),t=this.configurationService.getValue("editor").accessibilitySupport;return"on"===t||"auto"===t&&e},t.prototype.createSearchWidget=function(e){var i=this,n=this.viewletSettings["query.contentPattern"]||"",r=!0===this.viewletSettings["query.regex"],o=!0===this.viewletSettings["query.wholeWords"],s=!0===this.viewletSettings["query.caseSensitive"],a=this.searchHistoryService.load(),c=a.search||this.viewletSettings["query.searchHistory"]||[],l=a.replace||this.viewletSettings["query.replaceHistory"]||[];this.searchWidget=this._register(this.instantiationService.createInstance(W.SearchWidget,e,{value:n,isRegex:r,isCaseSensitive:s,isWholeWords:o,searchHistory:c,replaceHistory:l})),
this.storageService.getBoolean(t.SHOW_REPLACE_STORAGE_KEY,1,!0)&&this.searchWidget.toggleReplace(!0),this._register(this.searchWidget.onSearchSubmit(function(){return i.onQueryChanged()})),this._register(this.searchWidget.onSearchCancel(function(){return i.cancelSearch()})),this._register(this.searchWidget.searchInput.onDidOptionChange(function(){return i.onQueryChanged(!0)})),this._register(this.searchWidget.onReplaceToggled(function(){return i.onReplaceToggled()})),this._register(this.searchWidget.onReplaceStateChange(function(e){i.viewModel.replaceActive=e,i.tree.refresh()})),this._register(this.searchWidget.onReplaceValueChanged(function(e){i.viewModel.replaceString=i.searchWidget.getReplaceValue(),i.delayedRefresh.trigger(function(){return i.tree.refresh()})})),this._register(this.searchWidget.onBlur(function(){i.toggleQueryDetailsButton.focus()})),this._register(this.searchWidget.onReplaceAll(function(){return i.replaceAll()})),this.trackInputBox(this.searchWidget.searchInputFocusTracker),
this.trackInputBox(this.searchWidget.replaceInputFocusTracker)},t.prototype.trackInputBox=function(e,t){var i=this;this._register(e.onDidFocus(function(){i.inputBoxFocused.set(!0),t&&t.set(!0)})),this._register(e.onDidBlur(function(){i.inputBoxFocused.set(i.searchWidget.searchInputHasFocus()||i.searchWidget.replaceInputHasFocus()||i.inputPatternIncludes.inputHasFocus()||i.inputPatternExcludes.inputHasFocus()),t&&t.set(!1)}))},t.prototype.onReplaceToggled=function(){this.layout(this.size);this.searchAndReplaceWidget.isReplaceShown()?this.storageService.remove(t.SHOW_REPLACE_STORAGE_KEY,1):this.storageService.store(t.SHOW_REPLACE_STORAGE_KEY,!1,1)},t.prototype.onSearchResultsChanged=function(e){return this.isVisible()?this.refreshAndUpdateCount(e):(this.changedWhileHidden=!0,v.TPromise.wrap(null))},t.prototype.refreshAndUpdateCount=function(e){var t=this;return this.refreshTree(e).then(function(){t.searchWidget.setReplaceAllActionState(!t.viewModel.searchResult.isEmpty()),t.updateSearchResultCount()})},
t.prototype.refreshTree=function(e){return!e||e.added||e.removed?this.tree.refresh(this.viewModel.searchResult):1===e.elements.length?this.tree.refresh(e.elements[0]):this.tree.refresh(e.elements)},t.prototype.replaceAll=function(){var e=this;if(0!==this.viewModel.searchResult.count()){var t=this.progressService.show(100),i=this.viewModel.searchResult.count(),n=this.viewModel.searchResult.fileCount(),r=this.searchWidget.getReplaceValue()||"",o=this.buildAfterReplaceAllMessage(i,n,r),a={title:y.localize("replaceAll.confirmation.title","Replace All"),message:this.buildReplaceAllConfirmationMessage(i,n,r),primaryButton:y.localize("replaceAll.confirm.button","&&Replace"),type:"question"};this.dialogService.confirm(a).then(function(i){i.confirmed&&(e.searchWidget.setReplaceAllActionState(!1),e.viewModel.searchResult.replaceAll(t).then(function(){t.done();var i=e.clearMessage();s.append(i,$("p",void 0,o))},function(i){t.done(),u.isPromiseCanceledError(i),e.notificationService.error(i)}))})}},
t.prototype.buildAfterReplaceAllMessage=function(e,t,i){return 1===e?1===t?i?y.localize("replaceAll.occurrence.file.message","Replaced {0} occurrence across {1} file with '{2}'.",e,t,i):y.localize("removeAll.occurrence.file.message","Replaced {0} occurrence across {1} file'.",e,t):i?y.localize("replaceAll.occurrence.files.message","Replaced {0} occurrence across {1} files with '{2}'.",e,t,i):y.localize("removeAll.occurrence.files.message","Replaced {0} occurrence across {1} files.",e,t):1===t?i?y.localize("replaceAll.occurrences.file.message","Replaced {0} occurrences across {1} file with '{2}'.",e,t,i):y.localize("removeAll.occurrences.file.message","Replaced {0} occurrences across {1} file'.",e,t):i?y.localize("replaceAll.occurrences.files.message","Replaced {0} occurrences across {1} files with '{2}'.",e,t,i):y.localize("removeAll.occurrences.files.message","Replaced {0} occurrences across {1} files.",e,t)},t.prototype.buildReplaceAllConfirmationMessage=function(e,t,i){
return 1===e?1===t?i?y.localize("removeAll.occurrence.file.confirmation.message","Replace {0} occurrence across {1} file with '{2}'?",e,t,i):y.localize("replaceAll.occurrence.file.confirmation.message","Replace {0} occurrence across {1} file'?",e,t):i?y.localize("removeAll.occurrence.files.confirmation.message","Replace {0} occurrence across {1} files with '{2}'?",e,t,i):y.localize("replaceAll.occurrence.files.confirmation.message","Replace {0} occurrence across {1} files?",e,t):1===t?i?y.localize("removeAll.occurrences.file.confirmation.message","Replace {0} occurrences across {1} file with '{2}'?",e,t,i):y.localize("replaceAll.occurrences.file.confirmation.message","Replace {0} occurrences across {1} file'?",e,t):i?y.localize("removeAll.occurrences.files.confirmation.message","Replace {0} occurrences across {1} files with '{2}'?",e,t,i):y.localize("replaceAll.occurrences.files.confirmation.message","Replace {0} occurrences across {1} files?",e,t)},t.prototype.clearMessage=function(){
return this.searchWithoutFolderMessageElement=void 0,s.clearNode(this.messagesElement),s.show(this.messagesElement),p.dispose(this.messageDisposables),this.messageDisposables=[],s.append(this.messagesElement,$(".message"))},t.prototype.createSearchResultsView=function(e){var t=this;this.resultsElement=s.append(e,$(".results.show-file-icons"));var i=this._register(this.instantiationService.createInstance(V.SearchDataSource)),n=this._register(this.instantiationService.createInstance(V.SearchRenderer,this.getActionRunner(),this)),r=this.instantiationService.createInstance(L.SimpleFileResourceDragAndDrop,function(e){return e instanceof U.FileMatch?e.resource():void 0});this.tree=this._register(this.instantiationService.createInstance(_.WorkbenchTree,this.resultsElement,{dataSource:i,renderer:n,sorter:new V.SearchSorter,filter:new V.SearchFilter,controller:this.instantiationService.createInstance(V.SearchTreeController),accessibilityProvider:this.instantiationService.createInstance(V.SearchAccessibilityProvider),
dnd:r},{ariaLabel:y.localize("treeAriaLabel","Search Results"),showLoading:!1})),this.tree.setInput(this.viewModel.searchResult);var o=this._register(new _.TreeResourceNavigator(this.tree,{openOnFocus:!0}));this._register(d.debounceEvent(o.openResource,function(e,t){return t},75,!0)(function(e){if(e.element instanceof U.Match){var i=e.element;t.currentSelectedFileMatch&&t.currentSelectedFileMatch.setSelectedMatch(null),t.currentSelectedFileMatch=i.parent(),t.currentSelectedFileMatch.setSelectedMatch(i),e.payload&&e.payload.preventEditorOpen||t.onFocus(i,e.editorOptions.preserveFocus,e.sideBySide,e.editorOptions.pinned)}})),this._register(d.anyEvent(this.tree.onDidFocus,this.tree.onDidChangeFocus)(function(){if(t.tree.isDOMFocused()){var e=t.tree.getFocus();t.firstMatchFocused.set(t.tree.getNavigator().first()===e),t.fileMatchOrMatchFocused.set(!!e),t.fileMatchFocused.set(e instanceof U.FileMatch),t.folderMatchFocused.set(e instanceof U.FolderMatch),t.matchFocused.set(e instanceof U.Match),
t.fileMatchOrFolderMatchFocus.set(e instanceof U.FileMatch||e instanceof U.FolderMatch)}})),this._register(this.tree.onDidBlur(function(e){t.firstMatchFocused.reset(),t.fileMatchOrMatchFocused.reset(),t.fileMatchFocused.reset(),t.folderMatchFocused.reset(),t.matchFocused.reset(),t.fileMatchOrFolderMatchFocus.reset()}))},t.prototype.selectCurrentMatch=function(){var e=this.tree.getFocus();this.tree.setSelection([e],{focusEditor:!0})},t.prototype.selectNextMatch=function(){var e=this.tree.getSelection()[0];e instanceof U.FileMatch&&(this.tree.isExpanded(e)||this.tree.expand(e));var t=this.tree.getNavigator(e,!1),i=t.next();for(i||(i=(t=this.tree.getNavigator(this.tree.getInput(),!0)).first());!(i instanceof U.Match);)this.tree.isExpanded(i)||this.tree.expand(i),i=t.next();if(i){var n={preventEditorOpen:!0};this.tree.setFocus(i,n),this.tree.setSelection([i],n),this.tree.reveal(i),this.selectCurrentMatchEmitter.fire()}},t.prototype.selectPreviousMatch=function(){
var e=this.tree.getSelection()[0],t=this.tree.getNavigator(e,!1),i=t.previous();if(!(i instanceof U.Match)){if(!(i=t.previous())){i=(t=this.tree.getNavigator(this.tree.getInput(),!0)).last(),this.tree.expand(i);for(var n=void 0;n=t.next();)i=n}i instanceof U.Match||(t.next(),this.tree.expand(i),i=t.previous())}if(i){var r={preventEditorOpen:!0};this.tree.setFocus(i,r),this.tree.setSelection([i],r),this.tree.reveal(i),this.selectCurrentMatchEmitter.fire()}},t.prototype.setVisible=function(t){var i;if(this.viewletVisible.set(t),t?(this.changedWhileHidden&&(this.refreshAndUpdateCount(),this.changedWhileHidden=!1),i=e.prototype.setVisible.call(this,t),this.tree.onVisible()):(this.tree.onHidden(),i=e.prototype.setVisible.call(this,t)),this.viewModel&&this.viewModel.searchResult.toggleHighlights(t),t&&!this.editorService.activeEditor){var n=this.tree.getFocus();n&&this.onFocus(n,!0)}return i},t.prototype.moveFocusToResults=function(){this.tree.domFocus()},t.prototype.focus=function(){e.prototype.focus.call(this)
;var t=this.updateTextFromSelection();this.searchWidget.focus(void 0,void 0,t)},t.prototype.updateTextFromSelection=function(e){void 0===e&&(e=!0);var t=!1;if(this.configurationService.getValue("editor").find.seedSearchStringFromSelection){var i=this.getSearchTextFromEditor(e);i&&(this.searchWidget.searchInput.getRegex()&&(i=f.escapeRegExpCharacters(i)),this.searchWidget.searchInput.setValue(i),t=!0)}return t},t.prototype.focusNextInputBox=function(){if(this.searchWidget.searchInputHasFocus())this.searchWidget.isReplaceShown()?this.searchWidget.focus(!0,!0):this.moveFocusFromSearchOrReplace();else{if(!this.searchWidget.replaceInputHasFocus())return this.inputPatternIncludes.inputHasFocus()?(this.inputPatternExcludes.focus(),void this.inputPatternExcludes.select()):void(this.inputPatternExcludes.inputHasFocus()&&this.selectTreeIfNotSelected());this.moveFocusFromSearchOrReplace()}},t.prototype.moveFocusFromSearchOrReplace=function(){
this.showsFileTypes()?this.toggleQueryDetails(!0,this.showsFileTypes()):this.selectTreeIfNotSelected()},t.prototype.focusPreviousInputBox=function(){if(!this.searchWidget.searchInputHasFocus())if(this.searchWidget.replaceInputHasFocus())this.searchWidget.focus(!0);else{if(!this.inputPatternIncludes.inputHasFocus())return this.inputPatternExcludes.inputHasFocus()?(this.inputPatternIncludes.focus(),void this.inputPatternIncludes.select()):void(this.tree.isDOMFocused()&&this.moveFocusFromResults());this.searchWidget.focus(!0,!0)}},t.prototype.moveFocusFromResults=function(){this.showsFileTypes()?this.toggleQueryDetails(!0,!0,!1,!0):this.searchWidget.focus(!0,!0)},t.prototype.reLayout=function(){if(!this.isDisposed){this.size.width>=t.WIDE_VIEW_SIZE?s.addClass(this.getContainer(),t.WIDE_CLASS_NAME):s.removeClass(this.getContainer(),t.WIDE_CLASS_NAME),this.searchWidget.setWidth(this.size.width-28),this.inputPatternExcludes.setWidth(this.size.width-28),this.inputPatternIncludes.setWidth(this.size.width-28)
;var e="none"===this.messagesElement.style.display?0:s.getTotalHeight(this.messagesElement),i=this.size.height-e-s.getTotalHeight(this.searchWidgetsContainerElement);this.resultsElement.style.height=i+"px",this.tree.layout(i)}},t.prototype.layout=function(e){this.size=e,this.reLayout()},t.prototype.getControl=function(){return this.tree},t.prototype.isSearchSubmitted=function(){return this.searchSubmitted},t.prototype.isSearching=function(){return this.searching},t.prototype.hasSearchResults=function(){return!this.viewModel.searchResult.isEmpty()},t.prototype.clearSearchResults=function(){this.viewModel.searchResult.clear(),this.showEmptyStage(),1===this.contextService.getWorkbenchState()&&this.showSearchWithoutFolderMessage(),this.searchWidget.clear(),this.viewModel.cancelSearch()},t.prototype.cancelSearch=function(){return!!this.viewModel.cancelSearch()&&(this.searchWidget.focus(),!0)},t.prototype.selectTreeIfNotSelected=function(){if(this.tree.getInput()){this.tree.domFocus()
;0===this.tree.getSelection().length&&this.tree.focusNext()}},t.prototype.getSearchTextFromEditor=function(e){if(!this.editorService.activeEditor)return null;if(s.isAncestor(document.activeElement,this.getContainer()))return null;var t=this.editorService.activeTextEditorWidget;if(m.isDiffEditor(t)&&(t=t.getOriginalEditor().hasTextFocus()?t.getOriginalEditor():t.getModifiedEditor()),!m.isCodeEditor(t))return null;var i=t.getSelection();if(!i)return null;if(i.isEmpty()&&!this.searchWidget.searchInput.getValue()&&e){var n=t.getModel().getWordAtPosition(i.getStartPosition());if(n)return n.word}if(!i.isEmpty()&&i.startLineNumber===i.endLineNumber){var r=t.getModel().getLineContent(i.startLineNumber);return r=r.substring(i.startColumn-1,i.endColumn-1)}return null},t.prototype.showsFileTypes=function(){return s.hasClass(this.queryDetails,"more")},t.prototype.toggleCaseSensitive=function(){this.searchWidget.searchInput.setCaseSensitive(!this.searchWidget.searchInput.getCaseSensitive()),this.onQueryChanged(!0)},
t.prototype.toggleWholeWords=function(){this.searchWidget.searchInput.setWholeWords(!this.searchWidget.searchInput.getWholeWords()),this.onQueryChanged(!0)},t.prototype.toggleRegex=function(){this.searchWidget.searchInput.setRegex(!this.searchWidget.searchInput.getRegex()),this.onQueryChanged(!0)},t.prototype.toggleQueryDetails=function(e,t,i,n){void 0===e&&(e=!0);t=void 0===t?!s.hasClass(this.queryDetails,"more"):Boolean(t),this.viewletSettings["query.queryDetailsExpanded"]=t,i=Boolean(i),t?(this.toggleQueryDetailsButton.setAttribute("aria-expanded","true"),s.addClass(this.queryDetails,"more"),e&&(n?(this.inputPatternExcludes.focus(),this.inputPatternExcludes.select()):(this.inputPatternIncludes.focus(),this.inputPatternIncludes.select()))):(this.toggleQueryDetailsButton.setAttribute("aria-expanded","false"),s.removeClass(this.queryDetails,"more"),e&&this.searchWidget.focus()),!i&&this.size&&this.layout(this.size)},t.prototype.searchInFolders=function(e,t){var i=this,n=[],r=this.contextService.getWorkspace()
;if(e&&e.forEach(function(e){var o;if(2===i.contextService.getWorkbenchState())(o=h.normalize(t(r.folders[0].uri.fsPath,e.fsPath)))&&"."!==o&&(o="./"+o);else{var s=i.contextService.getWorkspaceFolder(e);if(s){var a=s.name;if(1===r.folders.filter(function(e){return e.name===a}).length){var c=h.normalize(t(s.uri.fsPath,e.fsPath));o="."===c?"./"+s.name:"./"+s.name+"/"+c}else o=e.fsPath}}o&&n.push(o)}),!n.length||n.some(function(e){return"."===e}))return this.inputPatternIncludes.setValue(""),void this.searchWidget.focus();this.showsFileTypes()||this.toggleQueryDetails(!0,!0),this.inputPatternIncludes.setValue(n.join(", ")),this.searchWidget.focus(!1)},t.prototype.onQueryChanged=function(e){
var i=this,n=this.searchWidget.searchInput.getRegex(),r=this.searchWidget.searchInput.getWholeWords(),o=this.searchWidget.searchInput.getCaseSensitive(),s=this.searchWidget.searchInput.getValue(),a=this.inputPatternExcludes.getValue().trim(),c=this.inputPatternIncludes.getValue().trim(),l=this.inputPatternExcludes.useExcludesAndIgnoreFiles();if(0!==s.length){if(n){var u=void 0;try{u=new RegExp(s)}catch(e){return}if(f.regExpLeadsToEndlessLoop(u))return}var d,p={pattern:s,isRegExp:n,isCaseSensitive:o,isWordMatch:r,isSmartCase:this.configurationService.getValue().search.smartCase},h=this.inputPatternExcludes.getValue(),g=this.inputPatternIncludes.getValue(),v=p.isRegExp?1e4:250,m={extraFileResources:H.getOutOfWorkspaceEditorResources(this.editorService,this.contextService),maxResults:t.MAX_TEXT_RESULTS,disregardIgnoreFiles:!l,disregardExcludeSettings:!l,excludePattern:h,includePattern:g,previewOptions:{matchLines:1,charsPerLine:v}},y=this.contextService.getWorkspace().folders,S=function(e){
i.searchWidget.searchInput.showMessage({content:e.message,type:3}),i.viewModel.searchResult.clear()};try{d=this.queryBuilder.text(p,y.map(function(e){return e.uri}),m)}catch(e){return void S(e)}this.validateQuery(d).then(function(){i.onQueryTriggered(d,a,c),e||i.searchWidget.focus(!1)},S)}},t.prototype.validateQuery=function(e){var t=this,i=e.folderQueries.map(function(e){return t.fileService.existsFile(e.folder)});return v.TPromise.join(i).then(function(t){var i=e.folderQueries.filter(function(e,i){return t[i]});if(e.folderQueries.length&&!i.length){var n=e.folderQueries[0].folder.fsPath,r=y.localize("searchPathNotFoundError","Search path not found: {0}",n);return v.TPromise.wrapError(new Error(r))}e.folderQueries=i})},t.prototype.onQueryTriggered=function(e,t,i){var n=this;this.inputPatternExcludes.onSearchSubmit(),this.inputPatternIncludes.onSearchSubmit(),this.viewModel.cancelSearch();var r=0,o=e.useRipgrep?this.progressService.show(!0):this.progressService.show(1e3)
;this.searchWidget.searchInput.clearMessage(),this.searching=!0,setTimeout(function(){n.searching&&n.changeActionAtPosition(0,n.instantiationService.createInstance(B.CancelSearchAction,B.CancelSearchAction.ID,B.CancelSearchAction.LABEL))},2e3),this.showEmptyStage();var a=function(a){n.searching=!1,n.changeActionAtPosition(0,n.instantiationService.createInstance(B.RefreshAction,B.RefreshAction.ID,B.RefreshAction.LABEL)),a&&!e.useRipgrep?(o.worked(1e3-r),setTimeout(function(){return o.done()},200)):o.done(),n.onSearchResultsChanged().then(function(){if(1===n.viewModel.searchResult.count()){var e=n.viewModel.searchResult.matches()[0];if(e.count()<50)return n.tree.expand(e)}return null}),n.viewModel.replaceString=n.searchWidget.getReplaceValue();var l=!n.viewModel.searchResult.isEmpty();if(n.searchSubmitted=!0,n.updateActions(),a&&a.limitHit&&n.searchWidget.searchInput.showMessage({
content:y.localize("searchMaxResultsWarning","The result set only contains a subset of all matches. Please be more specific in your search to narrow down the results."),type:2}),l)n.viewModel.searchResult.toggleHighlights(n.isVisible()),c.status(y.localize("ariaSearchResultsStatus","Search returned {0} results in {1} files",n.viewModel.searchResult.count(),n.viewModel.searchResult.fileCount()));else{var u=!!t,d=!!i,p=void 0;p=a?d&&u?y.localize("noResultsIncludesExcludes","No results found in '{0}' excluding '{1}' - ",i,t):d?y.localize("noResultsIncludes","No results found in '{0}' - ",i):u?y.localize("noResultsExcludes","No results found excluding '{0}' - ",t):y.localize("noResultsFound","No results found. Review your settings for configured exclusions and ignore files - "):y.localize("searchCanceled","Search was canceled before any results could be found - "),c.status(p),n.tree.onHidden(),s.hide(n.resultsElement);var h=n.clearMessage(),g=s.append(h,$("p",void 0,p));if(a)if(d||u){
v=s.append(g,$("a.pointer.prominent",{tabindex:0},y.localize("rerunSearchInAll.message","Search again in all files")));n.messageDisposables.push(s.addDisposableListener(v,s.EventType.CLICK,function(e){s.EventHelper.stop(e,!1),n.inputPatternExcludes.setValue(""),n.inputPatternIncludes.setValue(""),n.onQueryChanged()}))}else{var f=s.append(g,$("a.pointer.prominent",{tabindex:0},y.localize("openSettings.message","Open Settings")));n.messageDisposables.push(s.addDisposableListener(f,s.EventType.CLICK,function(e){s.EventHelper.stop(e,!1);var t={query:".exclude"};1!==n.contextService.getWorkbenchState()?n.preferencesService.openWorkspaceSettings(void 0,t):n.preferencesService.openGlobalSettings(void 0,t)}))}else{var v=s.append(g,$("a.pointer.prominent",void 0,y.localize("rerunSearch.message","Search again")));n.messageDisposables.push(s.addDisposableListener(v,s.EventType.CLICK,function(e){s.EventHelper.stop(e,!1),n.onQueryChanged()}))}if(a){s.append(g,$("span",void 0," - "))
;var m=s.append(g,$("a.pointer.prominent",{tabindex:0},y.localize("openSettings.learnMore","Learn More")));n.messageDisposables.push(s.addDisposableListener(m,s.EventType.CLICK,function(e){s.EventHelper.stop(e,!1),window.open("https://go.microsoft.com/fwlink/?linkid=853977")}))}1===n.contextService.getWorkbenchState()&&n.showSearchWithoutFolderMessage()}},l=0,d=0,p=0,h=setInterval(function(){if(n.searching){if(!e.useRipgrep){var t=!0;if(l>0&&d>0){var i=Math.round(d/l*1e3);i>r&&(o.worked(i-r),r=i,t=!1)}if(t&&r<900){var s=Math.round((900-r)/900*12)||1;r+=s,o.worked(s)}}var a=n.viewModel.searchResult.fileCount();p!==a&&(p=a,n.tree.refresh(),n.updateSearchResultCount()),a>0&&n.updateActions()}else window.clearInterval(h)},100);this.searchWidget.setReplaceAllActionState(!1),this.viewModel.search(e,function(e){e.total&&(l=e.total),e.worked&&(d=e.worked)}).then(a,function(e){u.isPromiseCanceledError(e)?a(null):(n.searching=!1,
n.changeActionAtPosition(0,n.instantiationService.createInstance(B.RefreshAction,B.RefreshAction.ID,B.RefreshAction.LABEL)),o.done(),n.searchWidget.searchInput.showMessage({content:e.message,type:3}),n.viewModel.searchResult.clear())})},t.prototype.updateSearchResultCount=function(){var e=this.viewModel.searchResult.fileCount();this.hasSearchResultsKey.set(e>0);var t="none"===this.messagesElement.style.display;if(e>0){var i=this.clearMessage();s.append(i,$("p",void 0,this.buildResultCountMessage(this.viewModel.searchResult.count(),e))),t&&this.reLayout()}else t||s.hide(this.messagesElement)},t.prototype.buildResultCountMessage=function(e,t){return 1===e&&1===t?y.localize("search.file.result","{0} result in {1} file",e,t):1===e?y.localize("search.files.result","{0} result in {1} files",e,t):1===t?y.localize("search.file.results","{0} results in {1} file",e,t):y.localize("search.files.results","{0} results in {1} files",e,t)},t.prototype.showSearchWithoutFolderMessage=function(){var e=this
;this.searchWithoutFolderMessageElement=this.clearMessage();var t=s.append(this.searchWithoutFolderMessageElement,$("p",void 0,y.localize("searchWithoutFolder","You have not yet opened a folder. Only open files are currently searched - "))),i=s.append(t,$("a.pointer.prominent",{tabindex:0},y.localize("openFolder","Open Folder")));this.messageDisposables.push(s.addDisposableListener(i,s.EventType.CLICK,function(t){s.EventHelper.stop(t,!1);var i=g.isMacintosh?P.OpenFileFolderAction:P.OpenFolderAction,n=e.instantiationService.createInstance(i,i.ID,i.LABEL);e.actionRunner.run(n).then(function(){n.dispose()},function(e){n.dispose(),u.onUnexpectedError(e)})}))},t.prototype.showEmptyStage=function(){this.searchSubmitted=!1,this.updateActions(),s.hide(this.messagesElement),s.show(this.resultsElement),this.tree.onVisible(),this.currentSelectedFileMatch=null},t.prototype.onFocus=function(e,t,i,n){
return e instanceof U.Match?this.viewModel.isReplaceActive()&&this.viewModel.replaceString?this.replaceService.openReplacePreview(e,t,i,n):this.open(e,t,i,n):(this.viewModel.searchResult.rangeHighlightDecorations.removeHighlightRange(),v.TPromise.as(!0))},t.prototype.open=function(e,t,i,n){var r=this,o=this.getSelectionFrom(e),s=e instanceof U.Match?e.parent().resource():e.resource();return this.editorService.openEditor({resource:s,options:{preserveFocus:t,pinned:n,selection:o,revealIfVisible:!0}},i?j.SIDE_GROUP:j.ACTIVE_GROUP).then(function(i){return i&&e instanceof U.Match&&t?r.viewModel.searchResult.rangeHighlightDecorations.highlightRange(i.getControl().getModel(),e.range()):r.viewModel.searchResult.rangeHighlightDecorations.removeHighlightRange(),r.editorGroupsService.activateGroup(i.group)},u.onUnexpectedError)},t.prototype.getSelectionFrom=function(e){var t=null;if(e instanceof U.Match&&(t=e),e instanceof U.FileMatch&&e.count()>0&&(t=e.matches()[e.matches().length-1]),t){var i=t.range()
;if(this.viewModel.isReplaceActive()&&this.viewModel.replaceString){var n=t.replaceString;return{startLineNumber:i.startLineNumber,startColumn:i.startColumn,endLineNumber:i.startLineNumber,endColumn:i.startColumn+n.length}}return i}},t.prototype.onUntitledDidChangeDirty=function(e){if(this.viewModel&&!this.untitledEditorService.isDirty(e))for(var t=this.viewModel.searchResult.matches(),i=0,n=t.length;i<n;i++)e.toString()===t[i].resource().toString()&&this.viewModel.searchResult.remove(t[i])},t.prototype.onFilesChanged=function(e){if(this.viewModel)for(var t=this.viewModel.searchResult.matches(),i=0,n=t.length;i<n;i++)e.contains(t[i].resource(),2)&&this.viewModel.searchResult.remove(t[i])},t.prototype.getActions=function(){return this.actions},t.prototype.changeActionAtPosition=function(e,t){this.actions.splice(e,1,t),this.updateTitleArea()},t.prototype.clearHistory=function(){this.searchWidget.clearHistory(),this.inputPatternExcludes.clearHistory(),this.inputPatternIncludes.clearHistory()},
t.prototype.shutdown=function(){var t=this.searchWidget.searchInput.getRegex(),i=this.searchWidget.searchInput.getWholeWords(),n=this.searchWidget.searchInput.getCaseSensitive(),r=this.searchWidget.searchInput.getValue(),o=this.inputPatternExcludes.getValue().trim(),s=this.inputPatternIncludes.getValue().trim(),a=this.inputPatternExcludes.useExcludesAndIgnoreFiles();this.viewletSettings["query.contentPattern"]=r,this.viewletSettings["query.regex"]=t,this.viewletSettings["query.wholeWords"]=i,this.viewletSettings["query.caseSensitive"]=n,this.viewletSettings["query.folderExclusions"]=o,this.viewletSettings["query.folderIncludes"]=s,this.viewletSettings["query.useExcludesAndIgnoreFiles"]=a;var c=this.searchWidget.getSearchHistory(),l=this.searchWidget.getReplaceHistory(),u=this.inputPatternExcludes.getHistory(),d=this.inputPatternIncludes.getHistory();this.searchHistoryService.save({search:c,replace:l,exclude:u,include:d}),e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.isDisposed=!0,
e.prototype.dispose.call(this)},t.MAX_TEXT_RESULTS=1e4,t.SHOW_REPLACE_STORAGE_KEY="vs.search.show.replace",t.WIDE_CLASS_NAME="wide",t.WIDE_VIEW_SIZE=600,t=r([o(0,Q.IPartService),o(1,R.ITelemetryService),o(2,C.IFileService),o(3,j.IEditorService),o(4,A.IProgressService),o(5,D.INotificationService),o(6,w.IDialogService),o(7,T.IStorageService),o(8,E.IContextViewService),o(9,I.IInstantiationService),o(10,S.IConfigurationService),o(11,k.IWorkspaceContextService),o(12,U.ISearchWorkbenchService),o(13,b.IContextKeyService),o(14,z.IReplaceService),o(15,X.IUntitledEditorService),o(16,Y.IPreferencesService),o(17,M.IThemeService),o(18,x.ISearchHistoryService),o(19,q.IEditorGroupsService)],t)}(F.Viewlet);t.SearchView=J,M.registerThemingParticipant(function(e,t){var i=e.getColor(O.editorFindMatchHighlight);i&&t.addRule(".monaco-workbench .search-view .findInFileMatch { background-color: "+i+"; }");var n=e.getColor(O.diffInserted);n&&t.addRule(".monaco-workbench .search-view .replaceMatch { background-color: "+n+"; }")
;var r=e.getColor(O.diffRemoved);r&&t.addRule(".monaco-workbench .search-view .replace.findInFileMatch { background-color: "+r+"; }");var o=e.getColor(O.diffInsertedOutline);o&&t.addRule(".monaco-workbench .search-view .replaceMatch:not(:empty) { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+o+"; }");var s=e.getColor(O.diffRemovedOutline);s&&t.addRule(".monaco-workbench .search-view .replace.findInFileMatch { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+s+"; }");var a=e.getColor(O.editorFindMatchHighlightBorder);a&&t.addRule(".monaco-workbench .search-view .findInFileMatch { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+a+"; }");var c=e.getColor(O.listActiveSelectionForeground);c&&t.addRule(".monaco-workbench .search-view .monaco-tree.focused .monaco-tree-row.focused.selected:not(.highlighted) .action-label:focus { outline-color: "+c+" }")})}),
define(e[442],t([1,0,8,86,77,93,2,6,14,40,20,56,23,44,54,67,3,49,94,361,48,152,365,232,10,415,97,38,441,99,176,396,58,148,24,52,92,35,83,16,19,201,27,181,79,150,70,107,413,9,12,272]),function(e,t,n,s,a,c,l,u,d,p,h,g,f,v,m,y,S,b,E,w,C,I,_,D,A,x,T,R,O,M,k,P,L,F,N,B,V,W,G,K,z,H,U,j,q,Q,Y,X,$,J,Z){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s.registerSingleton(T.ISearchWorkbenchService,T.SearchWorkbenchService),_.registerContributions(),D.registerContributions();var ee=l.localize("search","Search");y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.search.toggleQueryDetails",weight:200,when:I.SearchViewVisibleKey,primary:3112,handler:function(e){var t=Q.getSearchView(e.get(C.IViewletService),e.get(q.IPanelService));t&&t.toggleQueryDetails()}}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:I.FocusSearchFromResults,weight:200,when:A.ContextKeyExpr.and(I.SearchViewVisibleKey,I.FirstMatchFocusKey),primary:2064,handler:function(e,t){
Q.getSearchView(e.get(C.IViewletService),e.get(q.IPanelService)).focusPreviousInputBox()}}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:I.OpenMatchToSide,weight:200,when:A.ContextKeyExpr.and(I.SearchViewVisibleKey,I.FileMatchOrMatchFocusKey),primary:2051,mac:{primary:259},handler:function(e,t){var i=Q.getSearchView(e.get(C.IViewletService),e.get(q.IPanelService)),n=i.getControl();i.open(n.getFocus(),!1,!0,!0)}}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:I.CancelActionId,weight:200,when:A.ContextKeyExpr.and(I.SearchViewVisibleKey,B.WorkbenchListFocusContextKey),primary:9,handler:function(e,t){Q.getSearchView(e.get(C.IViewletService),e.get(q.IPanelService)).cancelSearch()}}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:I.RemoveActionId,weight:200,when:A.ContextKeyExpr.and(I.SearchViewVisibleKey,I.FileMatchOrMatchFocusKey),primary:20,mac:{primary:2049},handler:function(e,t){var i=Q.getSearchView(e.get(C.IViewletService),e.get(q.IPanelService)),n=i.getControl()
;e.get(S.IInstantiationService).createInstance(Q.RemoveAction,n,n.getFocus(),i).run()}}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:I.ReplaceActionId,weight:200,when:A.ContextKeyExpr.and(I.SearchViewVisibleKey,I.ReplaceActiveKey,I.MatchFocusKey),primary:3094,handler:function(e,t){var i=Q.getSearchView(e.get(C.IViewletService),e.get(q.IPanelService)),n=i.getControl();e.get(S.IInstantiationService).createInstance(Q.ReplaceAction,n,n.getFocus(),i).run()}}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:I.ReplaceAllInFileActionId,weight:200,when:A.ContextKeyExpr.and(I.SearchViewVisibleKey,I.ReplaceActiveKey,I.FileFocusKey),primary:3094,secondary:[3075],handler:function(e,t){var i=Q.getSearchView(e.get(C.IViewletService),e.get(q.IPanelService)),n=i.getControl();e.get(S.IInstantiationService).createInstance(Q.ReplaceAllAction,n,n.getFocus(),i).run()}}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:I.ReplaceAllInFolderActionId,weight:200,
when:A.ContextKeyExpr.and(I.SearchViewVisibleKey,I.ReplaceActiveKey,I.FolderFocusKey),primary:3094,secondary:[3075],handler:function(e,t){var i=Q.getSearchView(e.get(C.IViewletService),e.get(q.IPanelService)).getControl();e.get(S.IInstantiationService).createInstance(Q.ReplaceAllInFolderAction,i,i.getFocus()).run()}}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:I.CloseReplaceWidgetActionId,weight:200,when:A.ContextKeyExpr.and(I.SearchViewVisibleKey,I.ReplaceInputBoxFocusedKey),primary:9,handler:function(e,t){e.get(S.IInstantiationService).createInstance(Q.CloseReplaceAction,I.CloseReplaceWidgetActionId,"").run()}}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:Q.FocusNextInputAction.ID,weight:200,when:A.ContextKeyExpr.and(I.SearchViewVisibleKey,I.InputBoxFocusedKey),primary:2066,handler:function(e,t){e.get(S.IInstantiationService).createInstance(Q.FocusNextInputAction,Q.FocusNextInputAction.ID,"").run()}}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({
id:Q.FocusPreviousInputAction.ID,weight:200,when:A.ContextKeyExpr.and(I.SearchViewVisibleKey,I.InputBoxFocusedKey,I.SearchInputBoxFocusedKey.toNegated()),primary:2064,handler:function(e,t){e.get(S.IInstantiationService).createInstance(Q.FocusPreviousInputAction,Q.FocusPreviousInputAction.ID,"").run()}}),f.MenuRegistry.appendMenuItem(f.MenuId.SearchContext,{command:{id:I.ReplaceActionId,title:Q.ReplaceAction.LABEL},when:A.ContextKeyExpr.and(I.ReplaceActiveKey,I.MatchFocusKey),group:"search",order:1}),f.MenuRegistry.appendMenuItem(f.MenuId.SearchContext,{command:{id:I.ReplaceAllInFolderActionId,title:Q.ReplaceAllInFolderAction.LABEL},when:A.ContextKeyExpr.and(I.ReplaceActiveKey,I.FolderFocusKey),group:"search",order:1}),f.MenuRegistry.appendMenuItem(f.MenuId.SearchContext,{command:{id:I.ReplaceAllInFileActionId,title:Q.ReplaceAllAction.LABEL},when:A.ContextKeyExpr.and(I.ReplaceActiveKey,I.FileFocusKey),group:"search",order:1}),f.MenuRegistry.appendMenuItem(f.MenuId.SearchContext,{command:{id:I.RemoveActionId,
title:Q.RemoveAction.LABEL},when:I.FileMatchOrMatchFocusKey,group:"search",order:2}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:I.CopyMatchCommandId,weight:200,when:I.FileMatchOrMatchFocusKey,primary:2081,handler:Q.copyMatchCommand}),f.MenuRegistry.appendMenuItem(f.MenuId.SearchContext,{command:{id:I.CopyMatchCommandId,title:l.localize("copyMatchLabel","Copy")},when:I.FileMatchOrMatchFocusKey,group:"search_2",order:1}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:I.CopyPathCommandId,weight:200,when:I.FileMatchOrFolderMatchFocusKey,primary:2593,win:{primary:1569},handler:Q.copyPathCommand}),f.MenuRegistry.appendMenuItem(f.MenuId.SearchContext,{command:{id:I.CopyPathCommandId,title:l.localize("copyPathLabel","Copy Path")},when:I.FileMatchOrFolderMatchFocusKey,group:"search_2",order:2}),f.MenuRegistry.appendMenuItem(f.MenuId.SearchContext,{command:{id:I.CopyAllCommandId,title:l.localize("copyAllLabel","Copy All")},when:I.HasSearchResults,group:"search_2",order:3}),
R.CommandsRegistry.registerCommand({id:I.CopyAllCommandId,handler:Q.copyAllCommand}),R.CommandsRegistry.registerCommand({id:I.ClearSearchHistoryCommandId,handler:Q.clearHistoryCommand});var te=l.localize("clearSearchHistoryLabel","Clear Search History"),ie={id:I.ClearSearchHistoryCommandId,title:te,category:ee};f.MenuRegistry.addCommand(ie),R.CommandsRegistry.registerCommand({id:I.ToggleSearchViewPositionCommandId,handler:function(e){var t=e.get(J.IConfigurationService),i="sidebar"===t.getValue("search").location?"panel":"sidebar";t.updateValue("search.location",i)}});var ne=l.localize("toggleSearchViewPositionLabel","Toggle Search View Position"),re={id:I.ToggleSearchViewPositionCommandId,title:ne,category:ee};f.MenuRegistry.addCommand(re),f.MenuRegistry.appendMenuItem(f.MenuId.SearchContext,{command:re,when:I.SearchViewVisibleKey,group:"search_9",order:1}),R.CommandsRegistry.registerCommand({id:I.FocusSearchListCommandID,handler:Q.focusSearchListCommand})
;var oe=l.localize("focusSearchListCommandLabel","Focus List"),se={id:I.FocusSearchListCommandID,title:oe,category:ee};f.MenuRegistry.addCommand(se);R.CommandsRegistry.registerCommand({id:"filesExplorer.findInFolder",handler:function(e,t){var i=e.get(B.IListService),n=e.get(C.IViewletService),r=e.get(q.IPanelService),o=e.get(K.IFileService),s=H.getMultiSelectedResources(t,i,e.get(Z.IEditorService));return Q.openSearchView(n,r,!0).then(function(e){if(s&&s.length)return o.resolveFiles(s.map(function(e){return{resource:e}})).then(function(t){var i=[];t.forEach(function(e){e.success&&i.push(e.stat.isDirectory?e.stat.resource:W.dirname(e.stat.resource))}),e.searchInFolders(z.distinct(i,function(e){return e.toString()}),function(e,t){return V.relative(e,t)})})})}}),R.CommandsRegistry.registerCommand({id:Q.ClearSearchResultsAction.ID,handler:function(e,t){e.get(S.IInstantiationService).createInstance(Q.ClearSearchResultsAction,Q.ClearSearchResultsAction.ID,"").run()}}),R.CommandsRegistry.registerCommand({
id:Q.RefreshAction.ID,handler:function(e,t){e.get(S.IInstantiationService).createInstance(Q.RefreshAction,Q.RefreshAction.ID,"").run()}});R.CommandsRegistry.registerCommand({id:"filesExplorer.findInWorkspace",handler:function(e){return Q.openSearchView(e.get(C.IViewletService),e.get(q.IPanelService),!0).then(function(e){e.searchInFolders(null,function(e,t){return V.relative(e,t)})})}}),f.MenuRegistry.appendMenuItem(f.MenuId.ExplorerContext,{group:"4_search",order:10,command:{id:"filesExplorer.findInFolder",title:l.localize("findInFolder","Find in Folder...")},when:A.ContextKeyExpr.and(g.ExplorerFolderContext,G.ResourceContextKey.Scheme.isEqualTo(U.Schemas.file))}),f.MenuRegistry.appendMenuItem(f.MenuId.ExplorerContext,{group:"4_search",order:10,command:{id:"filesExplorer.findInWorkspace",title:l.localize("findInWorkspace","Find in Workspace...")},when:A.ContextKeyExpr.and(g.ExplorerRootContext,g.ExplorerFolderContext.toNegated())});var ae=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this
;return o.quickOpenService=n,o.editorService=r,o.enabled=!!o.quickOpenService,o}return i(t,e),t.prototype.run=function(e){var i=t.ALL_SYMBOLS_PREFIX,n=void 0,r=this.editorService.getFocusedCodeEditor(),o=r&&w.getSelectionSearchString(r);return o&&(i+=o,n={start:1,end:o.length+1}),this.quickOpenService.show(i,{inputSelection:n}),u.TPromise.as(null)},t.ID="workbench.action.showAllSymbols",t.LABEL=l.localize("showTriggerActions","Go to Symbol in Workspace..."),t.ALL_SYMBOLS_PREFIX="#",t=r([o(2,b.IQuickOpenService),o(3,E.ICodeEditorService)],t)}(d.Action);n.Registry.as(a.Extensions.Viewlets).registerViewlet(new a.ViewletDescriptor(O.SearchView,Y.VIEW_ID,l.localize("name","Search"),"search",1)),n.Registry.as(j.Extensions.Panels).registerPanel(new j.PanelDescriptor(O.SearchView,Y.VIEW_ID,l.localize("name","Search"),"search",10)),n.Registry.as(X.Extensions.Workbench).registerWorkbenchContribution($.SearchViewLocationUpdater,2);var ce=n.Registry.as(v.Extensions.WorkbenchActions)
;ce.registerWorkbenchAction(new f.SyncActionDescriptor(Q.OpenSearchViewletAction,Y.VIEW_ID,Q.OpenSearchViewletAction.LABEL,{primary:3108},I.SearchViewVisibleKey.toNegated()),"View: Show Search",l.localize("view","View")),ce.registerWorkbenchAction(new f.SyncActionDescriptor(Q.FindInFilesAction,I.FindInFilesActionId,l.localize("findInFiles","Find in Files"),{primary:3108}),"Find in Files",ee),f.MenuRegistry.appendMenuItem(f.MenuId.MenubarEditMenu,{group:"4_find_global",command:{id:I.FindInFilesActionId,title:l.localize({key:"miFindInFiles",comment:["&& denotes a mnemonic"]},"Find &&in Files")},order:1}),ce.registerWorkbenchAction(new f.SyncActionDescriptor(Q.FocusNextSearchResultAction,Q.FocusNextSearchResultAction.ID,Q.FocusNextSearchResultAction.LABEL,{primary:62},A.ContextKeyExpr.and(I.HasSearchResults)),"Focus Next Search Result",ee),ce.registerWorkbenchAction(new f.SyncActionDescriptor(Q.FocusPreviousSearchResultAction,Q.FocusPreviousSearchResultAction.ID,Q.FocusPreviousSearchResultAction.LABEL,{
primary:1086},A.ContextKeyExpr.and(I.HasSearchResults)),"Focus Previous Search Result",ee),ce.registerWorkbenchAction(new f.SyncActionDescriptor(Q.ReplaceInFilesAction,Q.ReplaceInFilesAction.ID,Q.ReplaceInFilesAction.LABEL,{primary:3110}),"Replace in Files",ee),f.MenuRegistry.appendMenuItem(f.MenuId.MenubarEditMenu,{group:"4_find_global",command:{id:Q.ReplaceInFilesAction.ID,title:l.localize({key:"miReplaceInFiles",comment:["&& denotes a mnemonic"]},"Replace &&in Files")},order:2}),y.KeybindingsRegistry.registerCommandAndKeybindingRule(p.assign({id:I.ToggleCaseSensitiveCommandId,weight:200,when:A.ContextKeyExpr.and(I.SearchViewVisibleKey,I.SearchViewFocusedKey,I.FileMatchOrFolderMatchFocusKey.toNegated()),handler:Q.toggleCaseSensitiveCommand},x.ToggleCaseSensitiveKeybinding)),y.KeybindingsRegistry.registerCommandAndKeybindingRule(p.assign({id:I.ToggleWholeWordCommandId,weight:200,when:A.ContextKeyExpr.and(I.SearchViewVisibleKey,I.SearchViewFocusedKey),handler:Q.toggleWholeWordCommand
},x.ToggleWholeWordKeybinding)),y.KeybindingsRegistry.registerCommandAndKeybindingRule(p.assign({id:I.ToggleRegexCommandId,weight:200,when:A.ContextKeyExpr.and(I.SearchViewVisibleKey,I.SearchViewFocusedKey),handler:Q.toggleRegexCommand},x.ToggleRegexKeybinding)),ce.registerWorkbenchAction(new f.SyncActionDescriptor(Q.CollapseDeepestExpandedLevelAction,Q.CollapseDeepestExpandedLevelAction.ID,Q.CollapseDeepestExpandedLevelAction.LABEL),"Search: Collapse All",ee),ce.registerWorkbenchAction(new f.SyncActionDescriptor(ae,ae.ID,ae.LABEL,{primary:2098}),"Go to Symbol in Workspace..."),ce.registerWorkbenchAction(new f.SyncActionDescriptor(Q.RefreshAction,Q.RefreshAction.ID,Q.RefreshAction.LABEL),"Search: Refresh",ee),ce.registerWorkbenchAction(new f.SyncActionDescriptor(Q.ClearSearchResultsAction,Q.ClearSearchResultsAction.ID,Q.ClearSearchResultsAction.LABEL),"Search: Clear",ee),
n.Registry.as(m.Extensions.Quickopen).registerDefaultQuickOpenHandler(new m.QuickOpenHandlerDescriptor(P.OpenAnythingHandler,P.OpenAnythingHandler.ID,"",M.defaultQuickOpenContextKey,l.localize("openAnythingHandlerDescription","Go to File"))),n.Registry.as(m.Extensions.Quickopen).registerQuickOpenHandler(new m.QuickOpenHandlerDescriptor(k.OpenSymbolHandler,k.OpenSymbolHandler.ID,ae.ALL_SYMBOLS_PREFIX,"inWorkspaceSymbolsPicker",[{prefix:ae.ALL_SYMBOLS_PREFIX,needsEditor:!1,description:l.localize("openSymbolDescriptionNormal","Go to Symbol in Workspace")}]));n.Registry.as(c.Extensions.Configuration).registerConfiguration({id:"search",order:13,title:l.localize("searchConfigurationTitle","Search"),type:"object",properties:{"search.exclude":{type:"object",
markdownDescription:l.localize("exclude","Configure glob patterns for excluding files and folders in searches. Inherits all glob patterns from the `#files.exclude#` setting. Read more about glob patterns [here](https://code.visualstudio.com/docs/editor/codebasics#_advanced-search-options)."),default:{"**/node_modules":!0,"**/bower_components":!0},additionalProperties:{anyOf:[{type:"boolean",description:l.localize("exclude.boolean","The glob pattern to match file paths against. Set to true or false to enable or disable the pattern.")},{type:"object",properties:{when:{type:"string",pattern:"\\w*\\$\\(basename\\)\\w*",default:"$(basename).ext",description:l.localize("exclude.when","Additional check on the siblings of a matching file. Use $(basename) as variable for the matching file name.")}}}]},scope:3},"search.useRipgrep":{type:"boolean",description:l.localize("useRipgrep","Controls whether to use ripgrep in text and file search."),default:!0},"search.useIgnoreFiles":{type:"boolean",
markdownDescription:l.localize("useIgnoreFiles","Controls whether to use `.gitignore` and `.ignore` files when searching for files."),default:!0,scope:3},"search.quickOpen.includeSymbols":{type:"boolean",description:l.localize("search.quickOpen.includeSymbols","Whether to include results from a global symbol search in the file results for Quick Open."),default:!1},"search.quickOpen.includeHistory":{type:"boolean",description:l.localize("search.quickOpen.includeHistory","Whether to include results from recently opened files in the file results for Quick Open."),default:!0},"search.followSymlinks":{type:"boolean",description:l.localize("search.followSymlinks","Controls whether to follow symlinks while searching."),default:!0},"search.smartCase":{type:"boolean",description:l.localize("search.smartCase","Search case-insensitively if the pattern is all lowercase, otherwise, search case-sensitively."),default:!1},"search.globalFindClipboard":{type:"boolean",default:!1,
description:l.localize("search.globalFindClipboard","Controls whether the search view should read or modify the shared find clipboard on macOS."),included:h.isMacintosh},"search.location":{type:"string",enum:["sidebar","panel"],default:"sidebar",description:l.localize("search.location","Controls whether the search will be shown as a view in the sidebar or as a panel in the panel area for more horizontal space.")},"search.collapseResults":{type:"string",enum:["auto","alwaysCollapse","alwaysExpand"],enumDescriptions:["Files with less than 10 results are expanded. Others are collapsed.","",""],default:"auto",description:l.localize("search.collapseAllResults","Controls whether the search results will be collapsed or expanded.")}}}),L.registerLanguageCommand("_executeWorkspaceSymbolProvider",function(e,t){var i=t.query;if("string"!=typeof i)throw N.illegalArgument();return F.getWorkspaceSymbols(i)}),f.MenuRegistry.appendMenuItem(f.MenuId.MenubarViewMenu,{group:"3_views",command:{id:Y.VIEW_ID,title:l.localize({
key:"miViewSearch",comment:["&& denotes a mnemonic"]},"&&Search")},order:2}),f.MenuRegistry.appendMenuItem(f.MenuId.MenubarGoMenu,{group:"z_go_to",command:{id:"workbench.action.showAllSymbols",title:l.localize({key:"miGotoSymbolInWorkspace",comment:["&& denotes a mnemonic"]},"Go to Symbol in &&Workspace...")},order:3})}),define(e[443],t([1,0,393,410,222,331,442,384,440,438,316,378,174,173,392,397,399,401,404,414,121,186,263,259,318,104,324,317,314,227]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define(e[501],t([1,0,426,502,503,504,495,443]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i)})}).call(this);
//# sourceMappingURL=../../../min-maps/vs/editor/codesandbox.editor.main.js.map