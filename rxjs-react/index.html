<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>rxjs experiment</title>
    <meta name="description" content="Simple online clock that can work as a stopwatch or countdown timer with start, pause and reset functions.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="mobile-web-app-capable" content="yes">
  </head>
  <style>
    body {
      font-family: monospace;
    }
    #clock {
      font-size: larger;
    }
  </style>
  <body>
    <input type="text" id="text-input"/>
    <div id="output" style="
        background-color: aquamarine;
        padding: 20px;
        margin: 20px;
    ">Capped Text Length</div>
  </body>
  <script src="https://unpkg.com/rxjs@beta/bundles/rxjs.umd.js"></script>
  <!-- <script src="https://npmcdn.com/@reactivex/rxjs@5.0.0-beta.2/dist/global/Rx.umd.js"></script> -->
  <script>
    // DOM elements
    const input = document.getElementById('text-input');
    const output = document.getElementById('output');

    const { of, fromEvent, from, range } = rxjs;
    const { Observable } = rxjs;
    const { map, filter } = rxjs.operators;

    // const myArray = [1, 2, 3];

    // console.log('Normal');
    // const myNewArray = myArray
    //   .map(o => `${o} !!!`)
    //   .forEach(o => console.log(o));

    // console.log('RxJS');
    // const myObservable = from(myArray)
    //   .pipe(map(o => `${o} !!!`))
    //   .subscribe(o => console.log(o));

    fromEvent(input, 'input')
      .pipe(
        map(e => e.target.value),
        filter(text => text.length < 10),
      )
      .subscribe(o => output.innerHTML = o);
  </script>
</html>