<!DOCTYPE html>
<html>
  <head></head>

  <style>
    body{ margin: 3em; }
  </style>

  <body>
    <button id="downloadZip">Download ZIP</button>
    <button id="uploadZip" onclick="alert('not implemented!')">Upload ZIP</button>
    <button id="downloadCanvasZip" onclick="alert('not implemented!')">Download Canvas ZIP</button>
  </body>

  <script src="https://unpkg.com/jszip@3.1.5/dist/jszip.min.js"></script>
  <script src="https://unpkg.com/file-saver@2.0.0-rc.2/dist/FileSaver.min.js"></script>

  <script>
    const files = [{
      name: 'index.html',
      code: 'this is html file'
    }, {
      name: 'index.js',
      code: 'console.log("this is html file");'
    }, {
      name: 'index.css',
      code: `
      body: after {
        content: "this is css";
      }`
    }];

      async function zipFiles(){
      var zip = new JSZip();
      files.forEach(file => {
        zip.file(file.name, file.code);
      })
      // var img = zip.folder("images");
      // img.file("smile.gif", imgData, {base64: true});
      const content = await zip.generateAsync({type:"blob"})

      console.log(content)
      return content;
    }
    document.querySelector('button#downloadZip').onclick = async (e) => {
      saveAs(await zipFiles(), "example.zip");
    }
  </script>
</html>